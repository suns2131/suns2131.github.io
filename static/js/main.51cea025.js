/*! For license information please see main.51cea025.js.LICENSE.txt */
!function(){var e={1167:function(e,t,r){"use strict";function n(e){return null==e||""===e?null:e}function o(e,t){return void 0===t&&(t=!1),null!=e&&(""!==e||t)}function i(e){return!o(e)}function a(e){return null==e||0===e.length}function s(e){return null!=e&&"function"===typeof e.toString?e.toString():null}function l(e){if(void 0!==e){if(null===e||""===e)return null;if("number"===typeof e)return isNaN(e)?void 0:e;var t=parseInt(e,10);return isNaN(t)?void 0:t}}function u(e){if(void 0!==e)return null!==e&&""!==e&&("boolean"===typeof e?e:/true/i.test(e))}function c(e,t,r){void 0===r&&(r=!1);var n=null==e,o=null==t;if(e&&e.toNumber&&(e=e.toNumber()),t&&t.toNumber&&(t=t.toNumber()),n&&o)return 0;if(n)return-1;if(o)return 1;function i(e,t){return e>t?1:e<t?-1:0}if("string"!==typeof e)return i(e,t);if(!r)return i(e,t);try{return e.localeCompare(t)}catch(a){return i(e,t)}}function p(e){if(e instanceof Set||e instanceof Map){var t=[];return e.forEach((function(e){return t.push(e)})),t}return Object.values(e)}Object.defineProperty(t,"__esModule",{value:!0});var d=Object.freeze({makeNull:n,exists:o,missing:i,missingOrEmpty:a,toStringOrNull:s,attrToNumber:l,attrToBoolean:u,attrToString:function(e){if(null!=e&&""!==e)return e},referenceCompare:function(e,t){return null==e&&null==t||(null!=e||null==t)&&((null==e||null!=t)&&e===t)},jsonEquals:function(e,t){return(e?JSON.stringify(e):null)===(t?JSON.stringify(t):null)},defaultComparator:c,values:p}),h=function(){function e(){this.existingKeys={}}return e.prototype.addExistingKeys=function(e){for(var t=0;t<e.length;t++)this.existingKeys[e[t]]=!0},e.prototype.getUniqueKey=function(e,t){e=s(e);for(var r=0;;){var n=void 0;if(e?(n=e,0!==r&&(n+="_"+r)):t?(n=t,0!==r&&(n+="_"+r)):n=""+r,!this.existingKeys[n])return this.existingKeys[n]=!0,n;r++}},e}();function f(e,t){null!=e&&(Array.isArray(e)?e.forEach((function(e,r){return t(""+r,e)})):Object.keys(e).forEach((function(r){return t(r,e[r])})))}function g(e){for(var t={},r=Object.keys(e),n=0;n<r.length;n++){var o=r[n],i=e[o];t[o]=i}return t}function y(e,t){if(e){var r=e,n={};return Object.keys(r).forEach((function(e){if(!(t&&t.indexOf(e)>=0)){var o=r[e],i=O(o)&&o.constructor===Object;n[e]=i?y(o):o}})),n}}function v(e,t){return e[t]}function m(e,t,r){e[t]=r}function b(e,t,r,n){var o=v(e,r);void 0!==o&&m(t,r,n?n(o):o)}function C(e){var t={};return e.filter((function(e){return null!=e})).forEach((function(e){Object.keys(e).forEach((function(e){return t[e]=null}))})),Object.keys(t)}function w(e){if(!e)return[];var t=Object;if("function"===typeof t.values)return t.values(e);var r=[];for(var n in e)e.hasOwnProperty(n)&&e.propertyIsEnumerable(n)&&r.push(e[n]);return r}function x(e,t,r,n){void 0===r&&(r=!0),void 0===n&&(n=!1),o(t)&&f(t,(function(t,o){var i=e[t];if(i!==o){if(n)if(null==i&&null!=o)"object"===typeof o&&o.constructor===Object&&(i={},e[t]=i);O(o)&&O(i)&&!Array.isArray(i)?x(i,o,r,n):(r||void 0!==o)&&(e[t]=o)}}))}function S(e,t,r){if(t&&e){if(!r)return e[t];for(var n=t.split("."),o=e,i=0;i<n.length;i++){if(null==o)return;o=o[n[i]]}return o}}function E(e,t){Object.keys(e).forEach((function(t){"object"===typeof e[t]&&(e[t]=void 0)}));var r=Object.getPrototypeOf(e),n={};Object.keys(r).forEach((function(e){if("function"===typeof r[e]){n[e]={value:function(){console.warn("AG Grid: "+t+" function "+e+"() cannot be called as the grid has been destroyed.\n                     Please don't call grid API functions on destroyed grids - as a matter of fact you shouldn't\n                     be keeping the API reference, your application has a memory leak! Remove the API reference\n                     when the grid is destroyed.")},writable:!0}}})),Object.defineProperties(e,n)}function O(e){return"object"===typeof e&&null!==e}var _=Object.freeze({iterateObject:f,cloneObject:g,deepCloneObject:function(e){return JSON.parse(JSON.stringify(e))},deepCloneDefinition:y,getProperty:v,setProperty:m,copyPropertiesIfPresent:function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];r.forEach((function(r){return b(e,t,r)}))},copyPropertyIfPresent:b,getAllKeysInObjects:C,getAllValuesInObject:w,mergeDeep:x,missingOrEmptyObject:function(e){return i(e)||0===Object.keys(e).length},get:function(e,t,r){if(null==e)return r;for(var n=t.split("."),o=e;n.length>1;)if(null==(o=o[n.shift()]))return r;var i=o[n[0]];return null!=i?i:r},set:function(e,t,r){if(null!=e){for(var n=t.split("."),o=e;n.length>1;)if(null==(o=o[n.shift()]))return;o[n[0]]=r}},deepFreeze:function e(t){return Object.freeze(t),p(t).forEach((function(t){(O(t)||"function"===typeof t)&&e(t)})),t},getValueUsingField:S,removeAllReferences:E,isNonNullObject:O}),P=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,R=/([^\s,]+)/g,A={};function T(e,t){A[t]||(e(),A[t]=!0)}function D(e){if(e.name)return e.name;var t=/function\s+([^\(]+)/.exec(e.toString());return t&&2===t.length?t[1].trim():null}function M(e){return!!(e&&e.constructor&&e.call&&e.apply)}function k(e){F(e,400)}var N=[],I=!1;function L(e){N.push(e),I||(I=!0,window.setTimeout((function(){var e=N.slice();N.length=0,I=!1,e.forEach((function(e){return e()}))}),0))}function F(e,t){void 0===t&&(t=0),e.length>0&&window.setTimeout((function(){return e.forEach((function(e){return e()}))}),t)}function G(e,t,r){var n;return void 0===r&&(r=!1),function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];var a=this,s=r&&!n;window.clearTimeout(n),n=window.setTimeout((function(){n=null,r||e.apply(a,o)}),t),s&&e.apply(a,o)}}function B(e,t){var r=0;return function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var i=this,a=(new Date).getTime();a-r<t||(r=a,e.apply(i,n))}}function W(e,t,r,n){void 0===r&&(r=100);var o=(new Date).getTime(),i=null,a=!1,s=function(){var s=(new Date).getTime()-o>r;(e()||s)&&(t(),a=!0,null!=i&&(window.clearInterval(i),i=null),s&&n&&console.warn(n))};s(),a||(i=window.setInterval(s,10))}function H(e){e&&e()}var j=Object.freeze({doOnce:T,getFunctionName:D,getFunctionParameters:function(e){var t=e.toString().replace(P,"");return t.slice(t.indexOf("(")+1,t.indexOf(")")).match(R)||[]},isFunction:M,executeInAWhile:k,executeNextVMTurn:L,executeAfter:F,debounce:G,throttle:B,waitUntil:W,compose:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return e.reduce((function(e,t){return t(e)}),t)}},callIfPresent:H}),V=function(){function e(e,t){if(this.beanWrappers={},this.destroyed=!1,e&&e.beanClasses){this.contextParams=e,this.logger=t,this.logger.log(">> creating ag-Application Context"),this.createBeans();var r=this.getBeanInstances();this.wireBeans(r),this.logger.log(">> ag-Application Context ready - component is alive")}}return e.prototype.getBeanInstances=function(){return p(this.beanWrappers).map((function(e){return e.beanInstance}))},e.prototype.createBean=function(e,t){if(!e)throw Error("Can't wire to bean since it is null");return this.wireBeans([e],t),e},e.prototype.wireBeans=function(e,t){this.autoWireBeans(e),this.methodWireBeans(e),this.callLifeCycleMethods(e,"preConstructMethods"),o(t)&&e.forEach(t),this.callLifeCycleMethods(e,"postConstructMethods")},e.prototype.createBeans=function(){var e=this;this.contextParams.beanClasses.forEach(this.createBeanWrapper.bind(this)),f(this.beanWrappers,(function(t,r){var n;r.bean.__agBeanMetaData&&r.bean.__agBeanMetaData.autowireMethods&&r.bean.__agBeanMetaData.autowireMethods.agConstructor&&(n=r.bean.__agBeanMetaData.autowireMethods.agConstructor);var o=e.getBeansForParameters(n,r.bean.name),i=function(e,t){var r=[null].concat(t);return new(e.bind.apply(e,r))}(r.bean,o);r.beanInstance=i}));var t=Object.keys(this.beanWrappers).join(", ");this.logger.log("created beans: "+t)},e.prototype.createBeanWrapper=function(e){var t=e.__agBeanMetaData;if(!t){var r=void 0;return r=e.prototype.constructor?D(e.prototype.constructor):""+e,void console.error("Context item "+r+" is not a bean")}var n={bean:e,beanInstance:null,beanName:t.beanName};this.beanWrappers[t.beanName]=n},e.prototype.autoWireBeans=function(e){var t=this;e.forEach((function(e){t.forEachMetaDataInHierarchy(e,(function(r,n){var o=r.agClassAttributes;o&&o.forEach((function(r){var o=t.lookupBeanInstance(n,r.beanName,r.optional);e[r.attributeName]=o}))}))}))},e.prototype.methodWireBeans=function(e){var t=this;e.forEach((function(e){t.forEachMetaDataInHierarchy(e,(function(r,n){f(r.autowireMethods,(function(r,o){if("agConstructor"!==r){var i=t.getBeansForParameters(o,n);e[r].apply(e,i)}}))}))}))},e.prototype.forEachMetaDataInHierarchy=function(e,t){for(var r=Object.getPrototypeOf(e);null!=r;){var n=r.constructor;if(n.hasOwnProperty("__agBeanMetaData"))t(n.__agBeanMetaData,this.getBeanName(n));r=Object.getPrototypeOf(r)}},e.prototype.getBeanName=function(e){if(e.__agBeanMetaData&&e.__agBeanMetaData.beanName)return e.__agBeanMetaData.beanName;var t=e.toString();return t.substring(9,t.indexOf("("))},e.prototype.getBeansForParameters=function(e,t){var r=this,n=[];return e&&f(e,(function(e,o){var i=r.lookupBeanInstance(t,o);n[Number(e)]=i})),n},e.prototype.lookupBeanInstance=function(e,t,r){if(void 0===r&&(r=!1),"context"===t)return this;if(this.contextParams.providedBeanInstances&&this.contextParams.providedBeanInstances.hasOwnProperty(t))return this.contextParams.providedBeanInstances[t];var n=this.beanWrappers[t];return n?n.beanInstance:(r||console.error("AG Grid: unable to find bean reference "+t+" while initialising "+e),null)},e.prototype.callLifeCycleMethods=function(e,t){var r=this;e.forEach((function(e){return r.callLifeCycleMethodsOnBean(e,t)}))},e.prototype.callLifeCycleMethodsOnBean=function(e,t,r){var n={};this.forEachMetaDataInHierarchy(e,(function(e){var o=e[t];o&&o.forEach((function(e){e!=r&&(n[e]=!0)}))})),Object.keys(n).forEach((function(t){return e[t]()}))},e.prototype.getBean=function(e){return this.lookupBeanInstance("getBean",e,!0)},e.prototype.destroy=function(){if(!this.destroyed){this.logger.log(">> Shutting down ag-Application Context");var e=this.getBeanInstances();this.destroyBeans(e),this.contextParams.providedBeanInstances=null,this.destroyed=!0,this.logger.log(">> ag-Application Context shut down - component is dead")}},e.prototype.destroyBean=function(e){e&&this.destroyBeans([e])},e.prototype.destroyBeans=function(e){var t=this;return e?(e.forEach((function(e){t.callLifeCycleMethodsOnBean(e,"preDestroyMethods","destroy");var r=e;"function"===typeof r.destroy&&r.destroy()})),[]):[]},e}();function z(e,t,r){var n=Q(e.constructor);n.preConstructMethods||(n.preConstructMethods=[]),n.preConstructMethods.push(t)}function U(e,t,r){var n=Q(e.constructor);n.postConstructMethods||(n.postConstructMethods=[]),n.postConstructMethods.push(t)}function Y(e,t,r){var n=Q(e.constructor);n.preDestroyMethods||(n.preDestroyMethods=[]),n.preDestroyMethods.push(t)}function X(e){return function(t){Q(t).beanName=e}}function K(e){return function(t,r,n){$(t,e,!1,t,r,null)}}function q(e){return function(t,r,n){$(t,e,!0,t,r,null)}}function $(e,t,r,n,o,i){if(null!==t)if("number"!==typeof i){var a=Q(e.constructor);a.agClassAttributes||(a.agClassAttributes=[]),a.agClassAttributes.push({attributeName:o,beanName:t,optional:r})}else console.error("AG Grid: Autowired should be on an attribute");else console.error("AG Grid: Autowired name should not be null")}function Z(e){return function(t,r,n){var o,i="function"==typeof t?t:t.constructor;if("number"===typeof n){var a=void 0;r?(o=Q(i),a=r):(o=Q(i),a="agConstructor"),o.autowireMethods||(o.autowireMethods={}),o.autowireMethods[a]||(o.autowireMethods[a]={}),o.autowireMethods[a][n]=e}}}function Q(e){return e.hasOwnProperty("__agBeanMetaData")||(e.__agBeanMetaData={}),e.__agBeanMetaData}var J,ee=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},te=function(e,t){return function(r,n){t(r,n,e)}},re=function(){function e(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}return e.prototype.setBeans=function(e,t,r,n){if(void 0===n&&(n=null),this.frameworkOverrides=r,n){var o=t.useAsyncEvents();this.addGlobalListener(n,o)}},e.prototype.getListeners=function(e,t,r){var n=t?this.allAsyncListeners:this.allSyncListeners,o=n.get(e);return!o&&r&&(o=new Set,n.set(e,o)),o},e.prototype.noRegisteredListenersExist=function(){return 0===this.allSyncListeners.size&&0===this.allAsyncListeners.size&&0===this.globalSyncListeners.size&&0===this.globalAsyncListeners.size},e.prototype.addEventListener=function(e,t,r){void 0===r&&(r=!1),this.getListeners(e,r,!0).add(t)},e.prototype.removeEventListener=function(e,t,r){void 0===r&&(r=!1);var n=this.getListeners(e,r,!1);n&&(n.delete(t),0===n.size&&(r?this.allAsyncListeners:this.allSyncListeners).delete(e))},e.prototype.addGlobalListener=function(e,t){void 0===t&&(t=!1),(t?this.globalAsyncListeners:this.globalSyncListeners).add(e)},e.prototype.removeGlobalListener=function(e,t){void 0===t&&(t=!1),(t?this.globalAsyncListeners:this.globalSyncListeners).delete(e)},e.prototype.dispatchEvent=function(e){this.dispatchToListeners(e,!0),this.dispatchToListeners(e,!1),this.firedEvents[e.type]=!0},e.prototype.dispatchEventOnce=function(e){this.firedEvents[e.type]||this.dispatchEvent(e)},e.prototype.dispatchToListeners=function(e,t){var r=this,n=e.type,o=this.getListeners(n,t,!1);o&&function(n){n.forEach((function(n){t?r.dispatchAsync((function(){return n(e)})):n(e)}))}(o),(t?this.globalAsyncListeners:this.globalSyncListeners).forEach((function(o){t?r.dispatchAsync((function(){return r.frameworkOverrides.dispatchEvent(n,(function(){return o(n,e)}),!0)})):r.frameworkOverrides.dispatchEvent(n,(function(){return o(n,e)}),!0)}))},e.prototype.dispatchAsync=function(e){this.asyncFunctionsQueue.push(e),this.scheduled||(window.setTimeout(this.flushAsyncQueue.bind(this),0),this.scheduled=!0)},e.prototype.flushAsyncQueue=function(){this.scheduled=!1;var e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach((function(e){return e()}))},ee([te(0,Z("loggerFactory")),te(1,Z("gridOptionsWrapper")),te(2,Z("frameworkOverrides")),te(3,Z("globalEventListener"))],e.prototype,"setBeans",null),e=ee([X("eventService")],e)}(),ne=function(){function e(){}return e.ROW_BUFFER_SIZE=10,e.LAYOUT_INTERVAL=500,e.BATCH_WAIT_MILLIS=50,e.EXPORT_TYPE_DRAG_COPY="dragCopy",e.EXPORT_TYPE_CLIPBOARD="clipboard",e.EXPORT_TYPE_EXCEL="excel",e.EXPORT_TYPE_CSV="csv",e.ROW_MODEL_TYPE_INFINITE="infinite",e.ROW_MODEL_TYPE_VIEWPORT="viewport",e.ROW_MODEL_TYPE_CLIENT_SIDE="clientSide",e.ROW_MODEL_TYPE_SERVER_SIDE="serverSide",e.ALWAYS="always",e.ONLY_WHEN_GROUPING="onlyWhenGrouping",e.PINNED_TOP="top",e.PINNED_BOTTOM="bottom",e.DOM_LAYOUT_NORMAL="normal",e.DOM_LAYOUT_PRINT="print",e.DOM_LAYOUT_AUTO_HEIGHT="autoHeight",e.GROUP_AUTO_COLUMN_ID="ag-Grid-AutoColumn",e.SOURCE_PASTE="paste",e.PINNED_RIGHT="right",e.PINNED_LEFT="left",e.SORT_ASC="asc",e.SORT_DESC="desc",e.INPUT_SELECTOR="input, select, button, textarea",e.FOCUSABLE_SELECTOR="[tabindex], input, select, button, textarea",e.FOCUSABLE_EXCLUDE=".ag-hidden, .ag-hidden *, [disabled], .ag-disabled, .ag-disabled *",e}();(J=t.ModuleNames||(t.ModuleNames={})).CommunityCoreModule="@ag-grid-community/core",J.CommunityAllModules="@ag-grid-community/all",J.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",J.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",J.CsvExportModule="@ag-grid-community/csv-export",J.EnterpriseCoreModule="@ag-grid-enterprise/core",J.EnterpriseAllModules="@ag-grid-enterprise/all",J.RowGroupingModule="@ag-grid-enterprise/row-grouping",J.ColumnToolPanelModule="@ag-grid-enterprise/column-tool-panel",J.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",J.MenuModule="@ag-grid-enterprise/menu",J.SetFilterModule="@ag-grid-enterprise/set-filter",J.MultiFilterModule="@ag-grid-enterprise/multi-filter",J.StatusBarModule="@ag-grid-enterprise/status-bar",J.SideBarModule="@ag-grid-enterprise/side-bar",J.RangeSelectionModule="@ag-grid-enterprise/range-selection",J.MasterDetailModule="@ag-grid-enterprise/master-detail",J.RichSelectModule="@ag-grid-enterprise/rich-select",J.GridChartsModule="@ag-grid-enterprise/charts",J.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",J.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",J.ExcelExportModule="@ag-grid-enterprise/excel-export",J.ClipboardModule="@ag-grid-enterprise/clipboard",J.SparklinesModule="@ag-grid-enterprise/sparklines",J.AngularModule="@ag-grid-community/angular",J.ReactModule="@ag-grid-community/react",J.VueModule="@ag-grid-community/vue",J.PolymerModule="@ag-grid-community/polymer";var oe=function(){function e(){}return e.register=function(t,r){void 0===r&&(r=!0),e.modulesMap[t.moduleName]=t,void 0===e.moduleBased?e.moduleBased=r:e.moduleBased!==r&&T((function(){console.warn("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),console.warn("Please see https://www.ag-grid.com/javascript-grid/packages-modules/ for more information.")}),"ModulePackageCheck")},e.registerModules=function(t,r){void 0===r&&(r=!0),t&&t.forEach((function(t){return e.register(t,r)}))},e.assertRegistered=function(t,r){if(this.isRegistered(t))return!0;var n,o=r+t;return n=e.moduleBased?"AG Grid: unable to use "+r+" as module "+t+" is not present. Please see: https://www.ag-grid.com/javascript-grid/modules/":"AG Grid: unable to use "+r+" as package 'ag-grid-enterprise' is not present. Please see: https://www.ag-grid.com/javascript-grid/packages/",T((function(){console.warn(n)}),o),!1},e.isRegistered=function(t){return!!e.modulesMap[t]},e.getRegisteredModules=function(){return p(e.modulesMap)},e.isPackageBased=function(){return!e.moduleBased},e.modulesMap={},e}(),ie=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},ae=0,se=function(){function e(e,t,r,n){this.instanceId=ae++,this.moving=!1,this.menuVisible=!1,this.filterActive=!1,this.eventService=new re,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=e,this.userProvidedColDef=t,this.colId=r,this.primary=n,this.setState(e)}return e.prototype.getInstanceId=function(){return this.instanceId},e.prototype.setState=function(e){void 0!==e.sort?e.sort!==ne.SORT_ASC&&e.sort!==ne.SORT_DESC||(this.sort=e.sort):e.initialSort!==ne.SORT_ASC&&e.initialSort!==ne.SORT_DESC||(this.sort=e.initialSort);var t=l(e.sortIndex),r=l(e.initialSortIndex);void 0!==t?null!==t&&(this.sortIndex=t):null!==r&&(this.sortIndex=r);var n=u(e.hide),o=u(e.initialHide);this.visible=void 0!==n?!n:!o,void 0!==e.pinned?this.setPinned(e.pinned):this.setPinned(e.initialPinned);var i=l(e.flex),a=l(e.initialFlex);void 0!==i?this.flex=i:void 0!==a&&(this.flex=a)},e.prototype.setColDef=function(e,t){this.colDef=e,this.userProvidedColDef=t,this.initMinAndMaxWidths(),this.initDotNotation()},e.prototype.getUserProvidedColDef=function(){return this.userProvidedColDef},e.prototype.setParent=function(e){this.parent=e},e.prototype.getParent=function(){return this.parent},e.prototype.setOriginalParent=function(e){this.originalParent=e},e.prototype.getOriginalParent=function(){return this.originalParent},e.prototype.initialise=function(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.validate()},e.prototype.initDotNotation=function(){var e=this.gridOptionsWrapper.isSuppressFieldDotNotation();this.fieldContainsDots=o(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!e,this.tooltipFieldContainsDots=o(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!e},e.prototype.initMinAndMaxWidths=function(){var e=this.colDef;this.minWidth=this.columnUtils.calculateColMinWidth(e),this.maxWidth=this.columnUtils.calculateColMaxWidth(e)},e.prototype.resetActualWidth=function(e){void 0===e&&(e="api");var t=this.columnUtils.calculateColInitialWidth(this.colDef);this.setActualWidth(t,e,!0)},e.prototype.isEmptyGroup=function(){return!1},e.prototype.isRowGroupDisplayed=function(e){if(i(this.colDef)||i(this.colDef.showRowGroup))return!1;var t=!0===this.colDef.showRowGroup,r=this.colDef.showRowGroup===e;return t||r},e.prototype.isPrimary=function(){return this.primary},e.prototype.isFilterAllowed=function(){return!!this.colDef.filter||!!this.colDef.filterFramework},e.prototype.isFieldContainsDots=function(){return this.fieldContainsDots},e.prototype.isTooltipFieldContainsDots=function(){return this.tooltipFieldContainsDots},e.prototype.validate=function(){var e=this.colDef;function r(e,t,r){T((function(){r?console.warn(e,r):T((function(){return console.warn(e)}),t)}),t)}if(this.gridOptionsWrapper.isRowModelDefault()&&!oe.isRegistered(t.ModuleNames.RowGroupingModule)){["enableRowGroup","rowGroup","rowGroupIndex","enablePivot","enableValue","pivot","pivotIndex","aggFunc"].forEach((function(n){o(e[n])&&(oe.isPackageBased()?r("AG Grid: "+n+" is only valid in ag-grid-enterprise, your column definition should not have "+n,"ColumnRowGroupingMissing"+n):r("AG Grid: "+n+" is only valid with AG Grid Enterprise Module "+t.ModuleNames.RowGroupingModule+" - your column definition should not have "+n,"ColumnRowGroupingMissing"+n))}))}if(oe.isRegistered(t.ModuleNames.RichSelectModule)||"agRichSelect"===this.colDef.cellEditor&&(oe.isPackageBased()?r("AG Grid: "+this.colDef.cellEditor+" can only be used with ag-grid-enterprise","ColumnRichSelectMissing"):r("AG Grid: "+this.colDef.cellEditor+" can only be used with AG Grid Enterprise Module "+t.ModuleNames.RichSelectModule,"ColumnRichSelectMissing")),this.gridOptionsWrapper.isTreeData()){["rowGroup","rowGroupIndex","pivot","pivotIndex"].forEach((function(t){o(e[t])&&r("AG Grid: "+t+" is not possible when doing tree data, your column definition should not have "+t,"TreeDataCannotRowGroup")}))}o(this.colDef.width)&&"number"!==typeof this.colDef.width&&r("AG Grid: colDef.width should be a number, not "+typeof this.colDef.width,"ColumnCheck_asdfawef"),e.pinnedRowCellRenderer&&r("AG Grid: pinnedRowCellRenderer no longer exists, use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned. This was an unfortunate (but necessary) change we had to do to allow future plans we have of re-skinng the data grid in frameworks such as React, Angular and Vue. See https://www.ag-grid.com/javascript-grid/cell-rendering/#many-renderers-one-column","colDef.pinnedRowCellRenderer-deprecated"),e.pinnedRowCellRendererParams&&r("AG Grid: pinnedRowCellRenderer no longer exists, use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned. This was an unfortunate (but necessary) change we had to do to allow future plans we have of re-skinng the data grid in frameworks such as React, Angular and Vue. See https://www.ag-grid.com/javascript-grid/cell-rendering/#many-renderers-one-column","colDef.pinnedRowCellRenderer-deprecated"),e.pinnedRowCellRendererFramework&&r("AG Grid: pinnedRowCellRenderer no longer exists, use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned. This was an unfortunate (but necessary) change we had to do to allow future plans we have of re-skinng the data grid in frameworks such as React, Angular and Vue. See https://www.ag-grid.com/javascript-grid/cell-rendering/#many-renderers-one-column","colDef.pinnedRowCellRenderer-deprecated"),e.pinnedRowValueGetter&&r("AG Grid: pinnedRowCellRenderer is deprecated, use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned. This was an unfortunate (but necessary) change we had to do to allow future plans we have of re-skinng the data grid in frameworks such as React, Angular and Vue.","colDef.pinnedRowCellRenderer-deprecated")},e.prototype.addEventListener=function(e,t){this.eventService.addEventListener(e,t)},e.prototype.removeEventListener=function(e,t){this.eventService.removeEventListener(e,t)},e.prototype.createColumnFunctionCallbackParams=function(e){return{node:e,data:e.data,column:this,colDef:this.colDef,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()}},e.prototype.isSuppressNavigable=function(e){if("boolean"===typeof this.colDef.suppressNavigable)return this.colDef.suppressNavigable;if("function"===typeof this.colDef.suppressNavigable){var t=this.createColumnFunctionCallbackParams(e);return(0,this.colDef.suppressNavigable)(t)}return!1},e.prototype.isCellEditable=function(e){return!(e.group&&!this.gridOptionsWrapper.isEnableGroupEdit())&&this.isColumnFunc(e,this.colDef.editable)},e.prototype.isSuppressFillHandle=function(){return!!u(this.colDef.suppressFillHandle)},e.prototype.isAutoHeight=function(){return!!u(this.colDef.autoHeight)},e.prototype.isRowDrag=function(e){return this.isColumnFunc(e,this.colDef.rowDrag)},e.prototype.isDndSource=function(e){return this.isColumnFunc(e,this.colDef.dndSource)},e.prototype.isCellCheckboxSelection=function(e){return this.isColumnFunc(e,this.colDef.checkboxSelection)},e.prototype.isSuppressPaste=function(e){return this.isColumnFunc(e,this.colDef?this.colDef.suppressPaste:null)},e.prototype.isResizable=function(){return!!u(this.colDef.resizable)},e.prototype.isColumnFunc=function(e,t){return"boolean"===typeof t?t:"function"===typeof t&&t(this.createColumnFunctionCallbackParams(e))},e.prototype.setMoving=function(t,r){void 0===r&&(r="api"),this.moving=t,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_MOVING_CHANGED,r))},e.prototype.createColumnEvent=function(e,t){return{api:this.gridApi,columnApi:this.columnApi,type:e,column:this,columns:[this],source:t}},e.prototype.isMoving=function(){return this.moving},e.prototype.getSort=function(){return this.sort},e.prototype.setSort=function(t,r){void 0===r&&(r="api"),this.sort!==t&&(this.sort=t,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_SORT_CHANGED,r)))},e.prototype.setMenuVisible=function(t,r){void 0===r&&(r="api"),this.menuVisible!==t&&(this.menuVisible=t,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_MENU_VISIBLE_CHANGED,r)))},e.prototype.isMenuVisible=function(){return this.menuVisible},e.prototype.isSortAscending=function(){return this.sort===ne.SORT_ASC},e.prototype.isSortDescending=function(){return this.sort===ne.SORT_DESC},e.prototype.isSortNone=function(){return i(this.sort)},e.prototype.isSorting=function(){return o(this.sort)},e.prototype.getSortIndex=function(){return this.sortIndex},e.prototype.setSortIndex=function(e){this.sortIndex=e},e.prototype.setAggFunc=function(e){this.aggFunc=e},e.prototype.getAggFunc=function(){return this.aggFunc},e.prototype.getLeft=function(){return this.left},e.prototype.getOldLeft=function(){return this.oldLeft},e.prototype.getRight=function(){return this.left+this.actualWidth},e.prototype.setLeft=function(t,r){void 0===r&&(r="api"),this.oldLeft=this.left,this.left!==t&&(this.left=t,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_LEFT_CHANGED,r)))},e.prototype.isFilterActive=function(){return this.filterActive},e.prototype.setFilterActive=function(t,r,n){void 0===r&&(r="api"),this.filterActive!==t&&(this.filterActive=t,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_FILTER_ACTIVE_CHANGED,r)));var o=this.createColumnEvent(e.EVENT_FILTER_CHANGED,r);n&&x(o,n),this.eventService.dispatchEvent(o)},e.prototype.setPinned=function(e){!0===e||e===ne.PINNED_LEFT?this.pinned=ne.PINNED_LEFT:e===ne.PINNED_RIGHT?this.pinned=ne.PINNED_RIGHT:this.pinned=null},e.prototype.setFirstRightPinned=function(t,r){void 0===r&&(r="api"),this.firstRightPinned!==t&&(this.firstRightPinned=t,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_FIRST_RIGHT_PINNED_CHANGED,r)))},e.prototype.setLastLeftPinned=function(t,r){void 0===r&&(r="api"),this.lastLeftPinned!==t&&(this.lastLeftPinned=t,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_LAST_LEFT_PINNED_CHANGED,r)))},e.prototype.isFirstRightPinned=function(){return this.firstRightPinned},e.prototype.isLastLeftPinned=function(){return this.lastLeftPinned},e.prototype.isPinned=function(){return this.pinned===ne.PINNED_LEFT||this.pinned===ne.PINNED_RIGHT},e.prototype.isPinnedLeft=function(){return this.pinned===ne.PINNED_LEFT},e.prototype.isPinnedRight=function(){return this.pinned===ne.PINNED_RIGHT},e.prototype.getPinned=function(){return this.pinned},e.prototype.setVisible=function(t,r){void 0===r&&(r="api");var n=!0===t;this.visible!==n&&(this.visible=n,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_VISIBLE_CHANGED,r)))},e.prototype.isVisible=function(){return this.visible},e.prototype.getColDef=function(){return this.colDef},e.prototype.getColumnGroupShow=function(){return this.colDef.columnGroupShow},e.prototype.getColId=function(){return this.colId},e.prototype.getId=function(){return this.getColId()},e.prototype.getUniqueId=function(){return this.getId()},e.prototype.getDefinition=function(){return this.colDef},e.prototype.getActualWidth=function(){return this.actualWidth},e.prototype.createBaseColDefParams=function(e){return{node:e,data:e.data,colDef:this.colDef,column:this,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}},e.prototype.getColSpan=function(e){if(i(this.colDef.colSpan))return 1;var t=this.createBaseColDefParams(e),r=this.colDef.colSpan(t);return Math.max(r,1)},e.prototype.getRowSpan=function(e){if(i(this.colDef.rowSpan))return 1;var t=this.createBaseColDefParams(e),r=this.colDef.rowSpan(t);return Math.max(r,1)},e.prototype.setActualWidth=function(e,t,r){void 0===t&&(t="api"),void 0===r&&(r=!1),null!=this.minWidth&&(e=Math.max(e,this.minWidth)),null!=this.maxWidth&&(e=Math.min(e,this.maxWidth)),this.actualWidth!==e&&(this.actualWidth=e,this.flex&&"flex"!==t&&"gridInitializing"!==t&&(this.flex=null),r||this.fireColumnWidthChangedEvent(t))},e.prototype.fireColumnWidthChangedEvent=function(t){this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_WIDTH_CHANGED,t))},e.prototype.isGreaterThanMax=function(e){return null!=this.maxWidth&&e>this.maxWidth},e.prototype.getMinWidth=function(){return this.minWidth},e.prototype.getMaxWidth=function(){return this.maxWidth},e.prototype.getFlex=function(){return this.flex||0},e.prototype.setFlex=function(e){this.flex!==e&&(this.flex=e)},e.prototype.setMinimum=function(e){void 0===e&&(e="api"),o(this.minWidth)&&this.setActualWidth(this.minWidth,e)},e.prototype.setRowGroupActive=function(t,r){void 0===r&&(r="api"),this.rowGroupActive!==t&&(this.rowGroupActive=t,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_ROW_GROUP_CHANGED,r)))},e.prototype.isRowGroupActive=function(){return this.rowGroupActive},e.prototype.setPivotActive=function(t,r){void 0===r&&(r="api"),this.pivotActive!==t&&(this.pivotActive=t,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_PIVOT_CHANGED,r)))},e.prototype.isPivotActive=function(){return this.pivotActive},e.prototype.isAnyFunctionActive=function(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()},e.prototype.isAnyFunctionAllowed=function(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()},e.prototype.setValueActive=function(t,r){void 0===r&&(r="api"),this.aggregationActive!==t&&(this.aggregationActive=t,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_VALUE_CHANGED,r)))},e.prototype.isValueActive=function(){return this.aggregationActive},e.prototype.isAllowPivot=function(){return!0===this.colDef.enablePivot},e.prototype.isAllowValue=function(){return!0===this.colDef.enableValue},e.prototype.isAllowRowGroup=function(){return!0===this.colDef.enableRowGroup},e.prototype.getMenuTabs=function(e){var t=this.getColDef().menuTabs;return null==t&&(t=e),t},e.prototype.isLockPosition=function(){return console.warn("AG Grid: since v21, col.isLockPosition() should not be used, please use col.getColDef().lockPosition instead."),!!this.colDef&&!!this.colDef.lockPosition},e.prototype.isLockVisible=function(){return console.warn("AG Grid: since v21, col.isLockVisible() should not be used, please use col.getColDef().lockVisible instead."),!!this.colDef&&!!this.colDef.lockVisible},e.prototype.isLockPinned=function(){return console.warn("AG Grid: since v21, col.isLockPinned() should not be used, please use col.getColDef().lockPinned instead."),!!this.colDef&&!!this.colDef.lockPinned},e.EVENT_MOVING_CHANGED="movingChanged",e.EVENT_LEFT_CHANGED="leftChanged",e.EVENT_WIDTH_CHANGED="widthChanged",e.EVENT_LAST_LEFT_PINNED_CHANGED="lastLeftPinnedChanged",e.EVENT_FIRST_RIGHT_PINNED_CHANGED="firstRightPinnedChanged",e.EVENT_VISIBLE_CHANGED="visibleChanged",e.EVENT_FILTER_CHANGED="filterChanged",e.EVENT_FILTER_ACTIVE_CHANGED="filterActiveChanged",e.EVENT_SORT_CHANGED="sortChanged",e.EVENT_MENU_VISIBLE_CHANGED="menuVisibleChanged",e.EVENT_ROW_GROUP_CHANGED="columnRowGroupChanged",e.EVENT_PIVOT_CHANGED="columnPivotChanged",e.EVENT_VALUE_CHANGED="columnValueChanged",ie([K("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),ie([K("columnUtils")],e.prototype,"columnUtils",void 0),ie([K("columnApi")],e.prototype,"columnApi",void 0),ie([K("gridApi")],e.prototype,"gridApi",void 0),ie([K("context")],e.prototype,"context",void 0),ie([U],e.prototype,"initialise",null),e}();function le(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=0;r<e.length;r++){var n=e[r];if(o(n))return n}return null}function ue(e){if(e&&e.length)return e[e.length-1]}function ce(e,t,r){return null==e&&null==t||null!=e&&null!=t&&e.length===t.length&&e.every((function(e,n){return r?r(e,t[n]):t[n]===e}))}function pe(e){return e.sort((function(e,t){return e-t}))}function de(e,t){var r=e.indexOf(t);r>=0&&e.splice(r,1)}function he(e,t){t.forEach((function(t){return de(e,t)}))}function fe(e,t,r){e.splice(r,0,t)}function ge(e,t,r){he(e,t),t.slice().reverse().forEach((function(t){return fe(e,t,r)}))}function ye(e,t){return e.indexOf(t)>-1}function ve(e,t){null!=t&&null!=e&&t.forEach((function(t){return e.push(t)}))}var me=Object.freeze({firstExistingValue:le,existsAndNotEmpty:function(e){return null!=e&&e.length>0},last:ue,areEqual:ce,compareArrays:function(e,t){return ce(e,t)},shallowCompare:function(e,t){return ce(e,t)},sortNumerically:pe,removeRepeatsFromArray:function(e,t){if(e)for(var r=e.length-2;r>=0;r--){var n=e[r]===t,o=e[r+1]===t;n&&o&&e.splice(r+1,1)}},removeFromArray:de,removeAllFromArray:he,insertIntoArray:fe,insertArrayIntoArray:function(e,t,r){if(null!=e&&null!=t)for(var n=t.length-1;n>=0;n--){fe(e,t[n],r)}},moveInArray:ge,includes:ye,flatten:function(e){return[].concat.apply([],e)},pushAll:ve,toStrings:function(e){return e.map(s)},forEachReverse:function(e,t){if(null!=e)for(var r=e.length-1;r>=0;r--)t(e[r],r)}}),be=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Ce=function(){function e(e,t,r,n){this.displayedChildren=[],this.localEventService=new re,this.groupId=t,this.instanceId=r,this.providedColumnGroup=e,this.pinned=n}return e.createUniqueId=function(e,t){return e+"_"+t},e.prototype.reset=function(){this.parent=null,this.children=null,this.displayedChildren=null},e.prototype.getParent=function(){return this.parent},e.prototype.setParent=function(e){this.parent=e},e.prototype.getUniqueId=function(){return e.createUniqueId(this.groupId,this.instanceId)},e.prototype.isEmptyGroup=function(){return 0===this.displayedChildren.length},e.prototype.isMoving=function(){var e=this.getProvidedColumnGroup().getLeafColumns();return!(!e||0===e.length)&&e.every((function(e){return e.isMoving()}))},e.prototype.checkLeft=function(){if(this.displayedChildren.forEach((function(t){t instanceof e&&t.checkLeft()})),this.displayedChildren.length>0)if(this.gridOptionsWrapper.isEnableRtl()){var t=ue(this.displayedChildren).getLeft();this.setLeft(t)}else{var r=this.displayedChildren[0].getLeft();this.setLeft(r)}else this.setLeft(null)},e.prototype.getLeft=function(){return this.left},e.prototype.getOldLeft=function(){return this.oldLeft},e.prototype.setLeft=function(t){this.oldLeft=t,this.left!==t&&(this.left=t,this.localEventService.dispatchEvent(this.createAgEvent(e.EVENT_LEFT_CHANGED)))},e.prototype.getPinned=function(){return this.pinned},e.prototype.createAgEvent=function(e){return{type:e}},e.prototype.addEventListener=function(e,t){this.localEventService.addEventListener(e,t)},e.prototype.removeEventListener=function(e,t){this.localEventService.removeEventListener(e,t)},e.prototype.getGroupId=function(){return this.groupId},e.prototype.getInstanceId=function(){return this.instanceId},e.prototype.isChildInThisGroupDeepSearch=function(t){var r=!1;return this.children.forEach((function(n){t===n&&(r=!0),n instanceof e&&n.isChildInThisGroupDeepSearch(t)&&(r=!0)})),r},e.prototype.getActualWidth=function(){var e=0;return this.displayedChildren&&this.displayedChildren.forEach((function(t){e+=t.getActualWidth()})),e},e.prototype.isResizable=function(){if(!this.displayedChildren)return!1;var e=!1;return this.displayedChildren.forEach((function(t){t.isResizable()&&(e=!0)})),e},e.prototype.getMinWidth=function(){var e=0;return this.displayedChildren.forEach((function(t){e+=t.getMinWidth()||0})),e},e.prototype.addChild=function(e){this.children||(this.children=[]),this.children.push(e)},e.prototype.getDisplayedChildren=function(){return this.displayedChildren},e.prototype.getLeafColumns=function(){var e=[];return this.addLeafColumns(e),e},e.prototype.getDisplayedLeafColumns=function(){var e=[];return this.addDisplayedLeafColumns(e),e},e.prototype.getDefinition=function(){return this.providedColumnGroup.getColGroupDef()},e.prototype.getColGroupDef=function(){return this.providedColumnGroup.getColGroupDef()},e.prototype.isPadding=function(){return this.providedColumnGroup.isPadding()},e.prototype.isExpandable=function(){return this.providedColumnGroup.isExpandable()},e.prototype.isExpanded=function(){return this.providedColumnGroup.isExpanded()},e.prototype.setExpanded=function(e){this.providedColumnGroup.setExpanded(e)},e.prototype.addDisplayedLeafColumns=function(t){this.displayedChildren.forEach((function(r){r instanceof se?t.push(r):r instanceof e&&r.addDisplayedLeafColumns(t)}))},e.prototype.addLeafColumns=function(t){this.children.forEach((function(r){r instanceof se?t.push(r):r instanceof e&&r.addLeafColumns(t)}))},e.prototype.getChildren=function(){return this.children},e.prototype.getColumnGroupShow=function(){return this.providedColumnGroup.getColumnGroupShow()},e.prototype.getProvidedColumnGroup=function(){return this.providedColumnGroup},e.prototype.getOriginalColumnGroup=function(){return console.warn("AG Grid: columnGroup.getOriginalColumnGroup() is deprecated due to a method rename, use columnGroup.getProvidedColumnGroup() instead"),this.getProvidedColumnGroup()},e.prototype.getPaddingLevel=function(){var e=this.getParent();return this.isPadding()&&e&&e.isPadding()?1+e.getPaddingLevel():0},e.prototype.calculateDisplayedColumns=function(){var t=this;this.displayedChildren=[];for(var r=this;null!=r&&r.isPadding();)r=r.getParent();if(!(!!r&&r.providedColumnGroup.isExpandable()))return this.displayedChildren=this.children,void this.localEventService.dispatchEvent(this.createAgEvent(e.EVENT_DISPLAYED_CHILDREN_CHANGED));this.children.forEach((function(n){if(!(n instanceof e&&(!n.displayedChildren||!n.displayedChildren.length)))switch(n.getColumnGroupShow()){case e.HEADER_GROUP_SHOW_OPEN:r.providedColumnGroup.isExpanded()&&t.displayedChildren.push(n);break;case e.HEADER_GROUP_SHOW_CLOSED:r.providedColumnGroup.isExpanded()||t.displayedChildren.push(n);break;default:t.displayedChildren.push(n)}})),this.localEventService.dispatchEvent(this.createAgEvent(e.EVENT_DISPLAYED_CHILDREN_CHANGED))},e.HEADER_GROUP_SHOW_OPEN="open",e.HEADER_GROUP_SHOW_CLOSED="closed",e.EVENT_LEFT_CHANGED="leftChanged",e.EVENT_DISPLAYED_CHILDREN_CHANGED="displayedChildrenChanged",be([K("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),e}(),we=function(){function e(e,t,r,n){this.localEventService=new re,this.expandable=!1,this.colGroupDef=e,this.groupId=t,this.expanded=!!e&&!!e.openByDefault,this.padding=r,this.level=n}return e.prototype.setOriginalParent=function(e){this.originalParent=e},e.prototype.getOriginalParent=function(){return this.originalParent},e.prototype.getLevel=function(){return this.level},e.prototype.isVisible=function(){return!!this.children&&this.children.some((function(e){return e.isVisible()}))},e.prototype.isPadding=function(){return this.padding},e.prototype.setExpanded=function(t){this.expanded=void 0!==t&&t;var r={type:e.EVENT_EXPANDED_CHANGED};this.localEventService.dispatchEvent(r)},e.prototype.isExpandable=function(){return this.expandable},e.prototype.isExpanded=function(){return this.expanded},e.prototype.getGroupId=function(){return this.groupId},e.prototype.getId=function(){return this.getGroupId()},e.prototype.setChildren=function(e){this.children=e},e.prototype.getChildren=function(){return this.children},e.prototype.getColGroupDef=function(){return this.colGroupDef},e.prototype.getLeafColumns=function(){var e=[];return this.addLeafColumns(e),e},e.prototype.addLeafColumns=function(t){this.children&&this.children.forEach((function(r){r instanceof se?t.push(r):r instanceof e&&r.addLeafColumns(t)}))},e.prototype.getColumnGroupShow=function(){var e=this.colGroupDef;if(e)return e.columnGroupShow},e.prototype.setupExpandable=function(){var e=this;this.setExpandable(),this.getLeafColumns().forEach((function(t){return t.addEventListener(se.EVENT_VISIBLE_CHANGED,e.onColumnVisibilityChanged.bind(e))}))},e.prototype.setExpandable=function(){if(!this.isPadding()){for(var t=!1,r=!1,n=!1,o=this.findChildrenRemovingPadding(),i=0,a=o.length;i<a;i++){var s=o[i];if(s.isVisible()){var l=s.getColumnGroupShow();l===Ce.HEADER_GROUP_SHOW_OPEN?(t=!0,n=!0):l===Ce.HEADER_GROUP_SHOW_CLOSED?(r=!0,n=!0):(t=!0,r=!0)}}var u=t&&r&&n;if(this.expandable!==u){this.expandable=u;var c={type:e.EVENT_EXPANDABLE_CHANGED};this.localEventService.dispatchEvent(c)}}},e.prototype.findChildrenRemovingPadding=function(){var t=[];return function r(n){n.forEach((function(n){n instanceof e&&n.isPadding()?r(n.children):t.push(n)}))}(this.children),t},e.prototype.onColumnVisibilityChanged=function(){this.setExpandable()},e.prototype.addEventListener=function(e,t){this.localEventService.addEventListener(e,t)},e.prototype.removeEventListener=function(e,t){this.localEventService.removeEventListener(e,t)},e.EVENT_EXPANDED_CHANGED="expandedChanged",e.EVENT_EXPANDABLE_CHANGED="expandableChanged",e}(),xe={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}},Se="__ag_Grid_Stop_Propagation",Ee=["touchstart","touchend","touchmove","touchcancel"],Oe={};function _e(e){e[Se]=!0}function Pe(e){return!0===e[Se]}var Re=function(){var e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return function(t){if("boolean"===typeof Oe[t])return Oe[t];var r=document.createElement(e[t]||"div");return Oe[t="on"+t]=t in r}}();function Ae(e,t,r){for(var n=t.target;n;){var o=e.getDomData(n,r);if(o)return o;n=n.parentElement}return null}function Te(e,t){return!(!t||!e)&&Me(t).indexOf(e)>=0}function De(e){for(var t=[],r=e.target;r;)t.push(r),r=r.parentElement;return t}function Me(e){var t=e;return t.path?t.path:t.composedPath?t.composedPath():t.__agGridEventPath?t.__agGridEventPath:De(e)}function ke(e,t,r,n){var o=ye(Ee,r)?{passive:!0}:void 0;e&&e.addEventListener&&e.addEventListener(t,r,n,o)}var Ne=Object.freeze({stopPropagationForAgGrid:_e,isStopPropagationForAgGrid:Pe,isEventSupported:Re,getCtrlForEvent:Ae,addChangeListener:function(e,t){e.addEventListener("changed",t),e.addEventListener("paste",t),e.addEventListener("input",t)},isElementInEventPath:Te,createEventPath:De,addAgGridEventPath:function(e){e.__agGridEventPath=Me(e)},getEventPath:Me,addSafePassiveEventListener:ke}),Ie=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Le=function(){function e(){var e=this;this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.isAlive=function(){return!e.destroyed}}return e.prototype.getFrameworkOverrides=function(){return this.frameworkOverrides},e.prototype.getContext=function(){return this.context},e.prototype.destroy=function(){this.destroyFunctions.forEach((function(e){return e()})),this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchEvent({type:e.EVENT_DESTROYED})},e.prototype.addEventListener=function(e,t){this.localEventService||(this.localEventService=new re),this.localEventService.addEventListener(e,t)},e.prototype.removeEventListener=function(e,t){this.localEventService&&this.localEventService.removeEventListener(e,t)},e.prototype.dispatchEventAsync=function(e){var t=this;window.setTimeout((function(){return t.dispatchEvent(e)}),0)},e.prototype.dispatchEvent=function(e){this.localEventService&&this.localEventService.dispatchEvent(e)},e.prototype.addManagedListener=function(e,t,r){var n=this;if(!this.destroyed){e instanceof HTMLElement?ke(this.getFrameworkOverrides(),e,t,r):e.addEventListener(t,r);var o=function o(){return e.removeEventListener(t,r),n.destroyFunctions=n.destroyFunctions.filter((function(e){return e!==o})),null};return this.destroyFunctions.push(o),o}},e.prototype.addDestroyFunc=function(e){this.isAlive()?this.destroyFunctions.push(e):e()},e.prototype.createManagedBean=function(e,t){var r=this.createBean(e,t);return this.addDestroyFunc(this.destroyBean.bind(this,e,t)),r},e.prototype.createBean=function(e,t,r){return(t||this.getContext()).createBean(e,r)},e.prototype.destroyBean=function(e,t){return(t||this.getContext()).destroyBean(e)},e.prototype.destroyBeans=function(e,t){var r=this;return e&&e.forEach((function(e){return r.destroyBean(e,t)})),[]},e.EVENT_DESTROYED="destroyed",Ie([K("frameworkOverrides")],e.prototype,"frameworkOverrides",void 0),Ie([K("context")],e.prototype,"context",void 0),Ie([K("eventService")],e.prototype,"eventService",void 0),Ie([K("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Ie([Y],e.prototype,"destroy",null),e}(),Fe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ge=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Be=function(e,t){return function(r,n){t(r,n,e)}},We=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Fe(t,e),t.prototype.setBeans=function(e){this.logger=e.create("ColumnFactory")},t.prototype.createColumnTree=function(e,t,r){var n=new h,o=this.extractExistingTreeData(r),i=o.existingCols,a=o.existingGroups,s=o.existingColKeys;n.addExistingKeys(s);var l=this.recursivelyCreateColumns(e,0,t,i,n,a),u=this.findMaxDept(l,0);this.logger.log("Number of levels for grouped columns is "+u);var c=this.balanceColumnTree(l,0,u,n);return this.columnUtils.depthFirstOriginalTreeSearch(null,c,(function(e,t){e instanceof we&&e.setupExpandable(),e.setOriginalParent(t)})),{columnTree:c,treeDept:u}},t.prototype.extractExistingTreeData=function(e){var t=[],r=[],n=[];return e&&this.columnUtils.depthFirstOriginalTreeSearch(null,e,(function(e){if(e instanceof we){var o=e;r.push(o)}else{var i=e;n.push(i.getId()),t.push(i)}})),{existingCols:t,existingGroups:r,existingColKeys:n}},t.prototype.createForAutoGroups=function(e,t){var r=this;return e.map((function(e){return r.createAutoGroupTreeItem(t,e)}))},t.prototype.createAutoGroupTreeItem=function(e,t){for(var r=t,n=this.findDepth(e)-1;n>=0;n--){var o=new we(null,"FAKE_PATH_"+t.getId()+"}_"+n,!0,n);this.context.createBean(o),o.setChildren([r]),r.setOriginalParent(o),r=o}return r},t.prototype.findDepth=function(e){for(var t=0,r=e;r&&r[0]&&r[0]instanceof we;)t++,r=r[0].getChildren();return t},t.prototype.balanceColumnTree=function(e,t,r,n){for(var o=[],i=0;i<e.length;i++){var a=e[i];if(a instanceof we){var s=a,l=this.balanceColumnTree(s.getChildren(),t+1,r,n);s.setChildren(l),o.push(s)}else{for(var u=void 0,c=void 0,p=r-1;p>=t;p--){var d=n.getUniqueKey(null,null),h=this.createMergedColGroupDef(null),f=new we(h,d,!0,t);this.context.createBean(f),c&&c.setChildren([f]),c=f,u||(u=c)}if(u&&c){if(o.push(u),e.some((function(e){return e instanceof we}))){c.setChildren([a]);continue}c.setChildren(e);break}o.push(a)}}return o},t.prototype.findMaxDept=function(e,t){for(var r=t,n=0;n<e.length;n++){var o=e[n];if(o instanceof we){var i=o,a=this.findMaxDept(i.getChildren(),t+1);r<a&&(r=a)}}return r},t.prototype.recursivelyCreateColumns=function(e,t,r,n,o,i){var a=this;return(e||[]).map((function(e){return a.isColumnGroup(e)?a.createColumnGroup(r,e,t,n,o,i):a.createColumn(r,e,n,o)}))},t.prototype.createColumnGroup=function(e,t,r,n,o,i){var a=this.createMergedColGroupDef(t),s=o.getUniqueKey(a.groupId||null,null),l=new we(a,s,!1,r);this.context.createBean(l);var u=this.findExistingGroup(t,i);u&&de(i,u),u&&u.isExpanded()&&l.setExpanded(!0);var c=this.recursivelyCreateColumns(a.children,r+1,e,n,o,i);return l.setChildren(c),l},t.prototype.createMergedColGroupDef=function(e){var t={};return Object.assign(t,this.gridOptionsWrapper.getDefaultColGroupDef()),Object.assign(t,e),this.checkForDeprecatedItems(t),t},t.prototype.createColumn=function(e,t,r,n){var o=this.mergeColDefs(t);this.checkForDeprecatedItems(o);var i=this.findExistingColumn(t,r);if(r&&i&&de(r,i),i)i.setColDef(o,t),this.applyColumnState(i,o);else{var a=n.getUniqueKey(o.colId,o.field);i=new se(o,t,a,e),this.context.createBean(i)}return i},t.prototype.applyColumnState=function(e,t){var r=l(t.flex);if(void 0!==r&&e.setFlex(r),e.getFlex()<=0){var n=l(t.width);if(null!=n)e.setActualWidth(n);else{var o=e.getActualWidth();e.setActualWidth(o)}}void 0!==t.sort&&(t.sort==ne.SORT_ASC||t.sort==ne.SORT_DESC?e.setSort(t.sort):e.setSort(void 0));var i=l(t.sortIndex);void 0!==i&&e.setSortIndex(i);var a=u(t.hide);void 0!==a&&e.setVisible(!a),void 0!==t.pinned&&e.setPinned(t.pinned)},t.prototype.findExistingColumn=function(e,t){return(t||[]).find((function(t){var r=t.getUserProvidedColDef();if(!r)return!1;var n=null!=e.colId,o=null!=e.field;return n?t.getId()===e.colId:o?r.field===e.field:r===e}))},t.prototype.findExistingGroup=function(e,t){return t.find((function(t){return!!t.getColGroupDef()&&(!(null==e.groupId)&&t.getId()===e.groupId)}))},t.prototype.mergeColDefs=function(e){var t={},r=this.gridOptionsWrapper.getDefaultColDef();x(t,r,!1,!0);var n=e.type;return n||(n=r&&r.type),n&&this.assignColumnTypes(n,t),x(t,e,!1,!0),t},t.prototype.assignColumnTypes=function(e,t){var r=[];if(e instanceof Array){e.some((function(e){return"string"!==typeof e}))?console.warn("AG Grid: if colDef.type is supplied an array it should be of type 'string[]'"):r=e}else{if("string"!==typeof e)return void console.warn("AG Grid: colDef.type should be of type 'string' | 'string[]'");r=e.split(",")}var n=Object.assign({},xe);f(this.gridOptionsWrapper.getColumnTypes()||{},(function(e,t){e in n?console.warn("AG Grid: the column type '"+e+"' is a default column type and cannot be overridden."):n[e]=t})),r.forEach((function(e){var r=n[e.trim()];r?x(t,r,!1,!0):console.warn("AG Grid: colDef.type '"+e+"' does not correspond to defined gridOptions.columnTypes")}))},t.prototype.checkForDeprecatedItems=function(e){if(e){var t=e;void 0!==t.group&&console.warn("AG Grid: colDef.group is invalid, please check documentation on how to do grouping as it changed in version 3"),void 0!==t.headerGroup&&console.warn("AG Grid: colDef.headerGroup is invalid, please check documentation on how to do grouping as it changed in version 3"),void 0!==t.headerGroupShow&&console.warn("AG Grid: colDef.headerGroupShow is invalid, should be columnGroupShow, please check documentation on how to do grouping as it changed in version 3"),void 0!==t.suppressRowGroup&&console.warn("AG Grid: colDef.suppressRowGroup is deprecated, please use colDef.type instead"),void 0!==t.suppressAggregation&&console.warn("AG Grid: colDef.suppressAggregation is deprecated, please use colDef.type instead"),(t.suppressRowGroup||t.suppressAggregation)&&console.warn("AG Grid: colDef.suppressAggregation and colDef.suppressRowGroup are deprecated, use allowRowGroup, allowPivot and allowValue instead"),t.displayName&&(console.warn("AG Grid: Found displayName "+t.displayName+", please use headerName instead, displayName is deprecated."),t.headerName=t.displayName)}},t.prototype.isColumnGroup=function(e){return void 0!==e.children},Ge([K("columnUtils")],t.prototype,"columnUtils",void 0),Ge([Be(0,Z("loggerFactory"))],t.prototype,"setBeans",null),t=Ge([X("columnFactory")],t)}(Le),He=function(){function e(){}return e.EVENT_COLUMN_EVERYTHING_CHANGED="columnEverythingChanged",e.EVENT_NEW_COLUMNS_LOADED="newColumnsLoaded",e.EVENT_COLUMN_PIVOT_MODE_CHANGED="columnPivotModeChanged",e.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged",e.EVENT_EXPAND_COLLAPSE_ALL="expandOrCollapseAll",e.EVENT_COLUMN_PIVOT_CHANGED="columnPivotChanged",e.EVENT_GRID_COLUMNS_CHANGED="gridColumnsChanged",e.EVENT_COLUMN_VALUE_CHANGED="columnValueChanged",e.EVENT_COLUMN_MOVED="columnMoved",e.EVENT_COLUMN_VISIBLE="columnVisible",e.EVENT_COLUMN_PINNED="columnPinned",e.EVENT_COLUMN_GROUP_OPENED="columnGroupOpened",e.EVENT_COLUMN_RESIZED="columnResized",e.EVENT_DISPLAYED_COLUMNS_CHANGED="displayedColumnsChanged",e.EVENT_VIRTUAL_COLUMNS_CHANGED="virtualColumnsChanged",e.EVENT_ASYNC_TRANSACTIONS_FLUSHED="asyncTransactionsFlushed",e.EVENT_ROW_GROUP_OPENED="rowGroupOpened",e.EVENT_ROW_DATA_CHANGED="rowDataChanged",e.EVENT_ROW_DATA_UPDATED="rowDataUpdated",e.EVENT_PINNED_ROW_DATA_CHANGED="pinnedRowDataChanged",e.EVENT_RANGE_SELECTION_CHANGED="rangeSelectionChanged",e.EVENT_CHART_CREATED="chartCreated",e.EVENT_CHART_RANGE_SELECTION_CHANGED="chartRangeSelectionChanged",e.EVENT_CHART_OPTIONS_CHANGED="chartOptionsChanged",e.EVENT_CHART_DESTROYED="chartDestroyed",e.EVENT_TOOL_PANEL_VISIBLE_CHANGED="toolPanelVisibleChanged",e.EVENT_COLUMN_PANEL_ITEM_DRAG_START="columnPanelItemDragStart",e.EVENT_COLUMN_PANEL_ITEM_DRAG_END="columnPanelItemDragEnd",e.EVENT_MODEL_UPDATED="modelUpdated",e.EVENT_PASTE_START="pasteStart",e.EVENT_PASTE_END="pasteEnd",e.EVENT_FILL_START="fillStart",e.EVENT_FILL_END="fillEnd",e.EVENT_CELL_CLICKED="cellClicked",e.EVENT_CELL_DOUBLE_CLICKED="cellDoubleClicked",e.EVENT_CELL_MOUSE_DOWN="cellMouseDown",e.EVENT_CELL_CONTEXT_MENU="cellContextMenu",e.EVENT_CELL_VALUE_CHANGED="cellValueChanged",e.EVENT_CELL_EDIT_REQUEST="cellEditRequest",e.EVENT_ROW_VALUE_CHANGED="rowValueChanged",e.EVENT_CELL_FOCUSED="cellFocused",e.EVENT_FULL_WIDTH_ROW_FOCUSED="fullWidthRowFocused",e.EVENT_ROW_SELECTED="rowSelected",e.EVENT_SELECTION_CHANGED="selectionChanged",e.EVENT_CELL_KEY_DOWN="cellKeyDown",e.EVENT_CELL_KEY_PRESS="cellKeyPress",e.EVENT_CELL_MOUSE_OVER="cellMouseOver",e.EVENT_CELL_MOUSE_OUT="cellMouseOut",e.EVENT_FILTER_CHANGED="filterChanged",e.EVENT_FILTER_MODIFIED="filterModified",e.EVENT_FILTER_OPENED="filterOpened",e.EVENT_SORT_CHANGED="sortChanged",e.EVENT_VIRTUAL_ROW_REMOVED="virtualRowRemoved",e.EVENT_ROW_CLICKED="rowClicked",e.EVENT_ROW_DOUBLE_CLICKED="rowDoubleClicked",e.EVENT_GRID_READY="gridReady",e.EVENT_GRID_SIZE_CHANGED="gridSizeChanged",e.EVENT_VIEWPORT_CHANGED="viewportChanged",e.EVENT_SCROLLBAR_WIDTH_CHANGED="scrollbarWidthChanged",e.EVENT_FIRST_DATA_RENDERED="firstDataRendered",e.EVENT_DRAG_STARTED="dragStarted",e.EVENT_DRAG_STOPPED="dragStopped",e.EVENT_CHECKBOX_CHANGED="checkboxChanged",e.EVENT_ROW_EDITING_STARTED="rowEditingStarted",e.EVENT_ROW_EDITING_STOPPED="rowEditingStopped",e.EVENT_CELL_EDITING_STARTED="cellEditingStarted",e.EVENT_CELL_EDITING_STOPPED="cellEditingStopped",e.EVENT_BODY_SCROLL="bodyScroll",e.EVENT_BODY_SCROLL_END="bodyScrollEnd",e.EVENT_HEIGHT_SCALE_CHANGED="heightScaleChanged",e.EVENT_PAGINATION_CHANGED="paginationChanged",e.EVENT_COMPONENT_STATE_CHANGED="componentStateChanged",e.EVENT_BODY_HEIGHT_CHANGED="bodyHeightChanged",e.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED="displayedColumnsWidthChanged",e.EVENT_SCROLL_VISIBILITY_CHANGED="scrollVisibilityChanged",e.EVENT_COLUMN_HOVER_CHANGED="columnHoverChanged",e.EVENT_FLASH_CELLS="flashCells",e.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED="paginationPixelOffsetChanged",e.EVENT_DISPLAYED_ROWS_CHANGED="displayedRowsChanged",e.EVENT_LEFT_PINNED_WIDTH_CHANGED="leftPinnedWidthChanged",e.EVENT_RIGHT_PINNED_WIDTH_CHANGED="rightPinnedWidthChanged",e.EVENT_ROW_CONTAINER_HEIGHT_CHANGED="rowContainerHeightChanged",e.EVENT_ROW_DRAG_ENTER="rowDragEnter",e.EVENT_ROW_DRAG_MOVE="rowDragMove",e.EVENT_ROW_DRAG_LEAVE="rowDragLeave",e.EVENT_ROW_DRAG_END="rowDragEnd",e.EVENT_POPUP_TO_FRONT="popupToFront",e.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST="columnRowGroupChangeRequest",e.EVENT_COLUMN_PIVOT_CHANGE_REQUEST="columnPivotChangeRequest",e.EVENT_COLUMN_VALUE_CHANGE_REQUEST="columnValueChangeRequest",e.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST="columnAggFuncChangeRequest",e.EVENT_KEYBOARD_FOCUS="keyboardFocus",e.EVENT_MOUSE_FOCUS="mouseFocus",e.EVENT_STORE_UPDATED="storeUpdated",e}(),je=function(){function e(){this.existingIds={}}return e.prototype.getInstanceIdForKey=function(e){var t,r=this.existingIds[e];return t="number"!==typeof r?0:r+1,this.existingIds[e]=t,t},e}(),Ve=/[&<>"']/g,ze={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Ue(e){return null===e||void 0===e?null:e.replace(/([A-Z])/g,(function(e){return"-"+e[0].toLowerCase()}))}function Ye(e){return null===e||void 0===e?null:e.replace(/-([a-z])/g,(function(e){return e[1].toUpperCase()}))}function Xe(e){return e[0].toUpperCase()+e.substr(1).toLowerCase()}function Ke(e){return null==e?null:e.toString().toString().replace(Ve,(function(e){return ze[e]}))}function qe(e){if(!e||null==e)return null;return e.replace(/([A-Z])([A-Z])([a-z])|([a-z])([A-Z])/g,"$1$4 $2$3$5").replace("."," ").split(" ").map((function(e){return e.substring(0,1).toUpperCase()+(e.length>1?e.substring(1,e.length):"")})).join(" ")}var $e=Object.freeze({utf8_encode:function(e){var t=String.fromCharCode;function r(e,r){return t(e>>r&63|128)}function n(e){if(e>=0&&e<=31&&10!==e)return"_x"+e.toString(16).toUpperCase().padStart(4,"0")+"_";if(0==(4294967168&e))return t(e);var n="";return 0==(4294965248&e)?n=t(e>>6&31|192):0==(4294901760&e)?(!function(e){if(e>=55296&&e<=57343)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value")}(e),n=t(e>>12&15|224),n+=r(e,6)):0==(4292870144&e)&&(n=t(e>>18&7|240),n+=r(e,12),n+=r(e,6)),n+=t(63&e|128)}for(var o=function(e){var t=[];if(!e)return[];for(var r,n,o=e.length,i=0;i<o;)(r=e.charCodeAt(i++))>=55296&&r<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?t.push(((1023&r)<<10)+(1023&n)+65536):(t.push(r),i--):t.push(r);return t}(e),i=o.length,a=-1,s="";++a<i;)s+=n(o[a]);return s},camelCaseToHyphen:Ue,hyphenToCamelCase:Ye,capitalise:Xe,escapeString:Ke,camelCaseToHumanText:qe});function Ze(e){var t=new Map;return e.forEach((function(e){return t.set(e[0],e[1])})),t}var Qe=Object.freeze({convertToMap:Ze,mapById:function(e,t){var r=new Map;return e.forEach((function(e){return r.set(t(e),e)})),r},keys:function(e){var t=[];return e.forEach((function(e,r){return t.push(r)})),t}}),Je=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),et=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},tt=function(e,t){return function(r,n){t(r,n,e)}},rt=function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},nt=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},ot=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(nt(arguments[t]));return e},it=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.primaryHeaderRowCount=0,t.secondaryHeaderRowCount=0,t.gridHeaderRowCount=0,t.displayedColumnsLeft=[],t.displayedColumnsRight=[],t.displayedColumnsCenter=[],t.displayedColumns=[],t.displayedColumnsAndGroupsMap={},t.viewportColumns=[],t.viewportColumnsCenter=[],t.autoHeightActiveAtLeastOnce=!1,t.rowGroupColumns=[],t.valueColumns=[],t.pivotColumns=[],t.ready=!1,t.autoGroupsNeedBuilding=!1,t.forceRecreateAutoGroups=!1,t.pivotMode=!1,t.bodyWidth=0,t.leftWidth=0,t.rightWidth=0,t.bodyWidthDirty=!0,t.colDefVersion=0,t.flexColsCalculatedAtLestOnce=!1,t}return Je(t,e),t.prototype.init=function(){var e=this;this.suppressColumnVirtualisation=this.gridOptionsWrapper.isSuppressColumnVirtualisation();var t=this.gridOptionsWrapper.isPivotMode();this.isPivotSettingAllowed(t)&&(this.pivotMode=t),this.usingTreeData=this.gridOptionsWrapper.isTreeData(),this.addManagedListener(this.gridOptionsWrapper,"autoGroupColumnDef",(function(){return e.onAutoGroupColumnDefChanged()})),this.addManagedListener(this.gridOptionsWrapper,"defaultColDef",(function(){return e.onDefaultColDefChanged()}))},t.prototype.onAutoGroupColumnDefChanged=function(){this.autoGroupsNeedBuilding=!0,this.forceRecreateAutoGroups=!0,this.updateGridColumns(),this.updateDisplayedColumns("gridOptionsChanged")},t.prototype.onDefaultColDefChanged=function(){this.colDefVersion++,this.forceRecreateAutoGroups=!0,this.createColumnsFromColumnDefs(!0)},t.prototype.getColDefVersion=function(){return this.colDefVersion},t.prototype.setColumnDefs=function(e,t){void 0===t&&(t="api");var r=!!this.columnDefs;this.colDefVersion++,this.columnDefs=e,this.createColumnsFromColumnDefs(r,t)},t.prototype.createColumnsFromColumnDefs=function(e,t){var r=this;void 0===t&&(t="api");var n=e?this.compareColumnStatesAndRaiseEvents(t):void 0;this.valueCache.expire(),this.autoGroupsNeedBuilding=!0;var o=this.primaryColumns,i=this.primaryColumnTree,a=this.columnFactory.createColumnTree(this.columnDefs,!0,i);this.primaryColumnTree=a.columnTree,this.primaryHeaderRowCount=a.treeDept+1,this.primaryColumns=this.getColumnsFromTree(this.primaryColumnTree),this.primaryColumnsMap={},this.primaryColumns.forEach((function(e){return r.primaryColumnsMap[e.getId()]=e})),this.extractRowGroupColumns(t,o),this.extractPivotColumns(t,o),this.extractValueColumns(t,o),this.ready=!0;var s=void 0===this.gridColsArePrimary;(this.gridColsArePrimary||s)&&(this.updateGridColumns(),e&&!this.gridOptionsWrapper.isMaintainColumnOrder()&&this.orderGridColumnsLikePrimary(),this.updateDisplayedColumns(t),this.checkViewportColumns()),this.dispatchEverythingChanged(t),n&&n(),this.dispatchNewColumnsLoaded()},t.prototype.dispatchNewColumnsLoaded=function(){var e={type:He.EVENT_NEW_COLUMNS_LOADED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(e)},t.prototype.dispatchEverythingChanged=function(e){void 0===e&&(e="api");var t={type:He.EVENT_COLUMN_EVERYTHING_CHANGED,api:this.gridApi,columnApi:this.columnApi,source:e};this.eventService.dispatchEvent(t)},t.prototype.orderGridColumnsLikePrimary=function(){var e=this,t=this.primaryColumns;t&&this.gridColumns.sort((function(r,n){var o=t.indexOf(r),i=t.indexOf(n),a=o>=0,s=i>=0;return a&&s?o-i:a?1:s?-1:e.gridColumns.indexOf(r)-e.gridColumns.indexOf(n)}))},t.prototype.getAllDisplayedAutoHeightCols=function(){return this.displayedAutoHeightCols},t.prototype.setViewport=function(){this.gridOptionsWrapper.isEnableRtl()?(this.viewportLeft=this.bodyWidth-this.scrollPosition-this.scrollWidth,this.viewportRight=this.bodyWidth-this.scrollPosition):(this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition)},t.prototype.getDisplayedColumnsStartingAt=function(e){for(var t=e,r=[];null!=t;)r.push(t),t=this.getDisplayedColAfter(t);return r},t.prototype.checkViewportColumns=function(){if(null!=this.displayedColumnsCenter){var e=this.viewportColumns.map((function(e){return e.getId()})).join("#");if(this.extractViewport(),e!==this.viewportColumns.map((function(e){return e.getId()})).join("#")){var t={type:He.EVENT_VIRTUAL_COLUMNS_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(t)}}},t.prototype.setViewportPosition=function(e,t){(e!==this.scrollWidth||t!==this.scrollPosition||this.bodyWidthDirty)&&(this.scrollWidth=e,this.scrollPosition=t,this.bodyWidthDirty=!0,this.setViewport(),this.ready&&this.checkViewportColumns())},t.prototype.isPivotMode=function(){return this.pivotMode},t.prototype.isPivotSettingAllowed=function(e){return!e||!this.gridOptionsWrapper.isTreeData()||(console.warn("AG Grid: Pivot mode not available in conjunction Tree Data i.e. 'gridOptions.treeData: true'"),!1)},t.prototype.setPivotMode=function(e,t){if(void 0===t&&(t="api"),e!==this.pivotMode&&this.isPivotSettingAllowed(this.pivotMode)){this.pivotMode=e,this.autoGroupsNeedBuilding=!0,this.updateGridColumns(),this.updateDisplayedColumns(t);var r={type:He.EVENT_COLUMN_PIVOT_MODE_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(r)}},t.prototype.getSecondaryPivotColumn=function(e,t){if(i(this.secondaryColumns))return null;var r=this.getPrimaryColumn(t),n=null;return this.secondaryColumns.forEach((function(t){var o=t.getColDef().pivotKeys,i=t.getColDef().pivotValueColumn;ce(o,e)&&i===r&&(n=t)})),n},t.prototype.setBeans=function(e){this.logger=e.create("columnModel")},t.prototype.setFirstRightAndLastLeftPinned=function(e){var t,r;this.gridOptionsWrapper.isEnableRtl()?(t=this.displayedColumnsLeft?this.displayedColumnsLeft[0]:null,r=this.displayedColumnsRight?ue(this.displayedColumnsRight):null):(t=this.displayedColumnsLeft?ue(this.displayedColumnsLeft):null,r=this.displayedColumnsRight?this.displayedColumnsRight[0]:null),this.gridColumns.forEach((function(n){n.setLastLeftPinned(n===t,e),n.setFirstRightPinned(n===r,e)}))},t.prototype.autoSizeColumns=function(e){var t=this,r=e.columns,n=e.skipHeader,o=e.skipHeaderGroups,i=e.stopAtGroup,a=e.source,s=void 0===a?"api":a;this.animationFrameService.flushAllFrames();for(var l=[],u=-1,c=null!=n?n:this.gridOptionsWrapper.isSkipHeaderOnAutoSize(),p=null!=o?o:c;0!==u;)u=0,this.actionOnGridColumns(r,(function(e){if(l.indexOf(e)>=0)return!1;var r=t.autoWidthCalculator.getPreferredWidthForColumn(e,c);if(r>0){var n=t.normaliseColumnWidth(e,r);e.setActualWidth(n,s),l.push(e),u++}return!0}),s);p||this.autoSizeColumnGroupsByColumns(r,i),this.fireColumnResizedEvent(l,!0,"autosizeColumns")},t.prototype.fireColumnResizedEvent=function(e,t,r,n){if(void 0===n&&(n=null),e&&e.length){var o={type:He.EVENT_COLUMN_RESIZED,columns:e,column:1===e.length?e[0]:null,flexColumns:n,finished:t,api:this.gridApi,columnApi:this.columnApi,source:r};this.eventService.dispatchEvent(o)}},t.prototype.autoSizeColumn=function(e,t,r){void 0===r&&(r="api"),e&&this.autoSizeColumns({columns:[e],skipHeader:t,skipHeaderGroups:!0,source:r})},t.prototype.autoSizeColumnGroupsByColumns=function(e,t){var r,n,o,i,a,s=new Set;this.getGridColumns(e).forEach((function(e){for(var r=e.getParent();r&&r!=t;)r.isPadding()||s.add(r),r=r.getParent()}));try{for(var l=rt(s),u=l.next();!u.done;u=l.next()){var c=u.value;try{for(var p=(o=void 0,rt(this.ctrlsService.getHeaderRowContainerCtrls())),d=p.next();!d.done;d=p.next()){if(a=d.value.getHeaderCtrlForColumn(c))break}}catch(h){o={error:h}}finally{try{d&&!d.done&&(i=p.return)&&i.call(p)}finally{if(o)throw o.error}}a&&a.resizeLeafColumnsToFit()}}catch(f){r={error:f}}finally{try{u&&!u.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}return[]},t.prototype.autoSizeAllColumns=function(e,t){void 0===t&&(t="api");var r=this.getAllDisplayedColumns();this.autoSizeColumns({columns:r,skipHeader:e,source:t})},t.prototype.getColumnsFromTree=function(e){var t=[];return function e(r){for(var n=0;n<r.length;n++){var o=r[n];o instanceof se?t.push(o):o instanceof we&&e(o.getChildren())}}(e),t},t.prototype.getAllDisplayedTrees=function(){return this.displayedTreeLeft&&this.displayedTreeRight&&this.displayedTreeCentre?this.displayedTreeLeft.concat(this.displayedTreeCentre).concat(this.displayedTreeRight):null},t.prototype.getPrimaryColumnTree=function(){return this.primaryColumnTree},t.prototype.getHeaderRowCount=function(){return this.gridHeaderRowCount},t.prototype.getDisplayedTreeLeft=function(){return this.displayedTreeLeft},t.prototype.getDisplayedTreeRight=function(){return this.displayedTreeRight},t.prototype.getDisplayedTreeCentre=function(){return this.displayedTreeCentre},t.prototype.isColumnDisplayed=function(e){return this.getAllDisplayedColumns().indexOf(e)>=0},t.prototype.getAllDisplayedColumns=function(){return this.displayedColumns},t.prototype.getViewportColumns=function(){return this.viewportColumns},t.prototype.getDisplayedLeftColumnsForRow=function(e){return this.colSpanActive?this.getDisplayedColumnsForRow(e,this.displayedColumnsLeft):this.displayedColumnsLeft},t.prototype.getDisplayedRightColumnsForRow=function(e){return this.colSpanActive?this.getDisplayedColumnsForRow(e,this.displayedColumnsRight):this.displayedColumnsRight},t.prototype.getDisplayedColumnsForRow=function(e,t,r,n){for(var o,i=[],a=null,s=function(s){var l,u=t[s],c=t.length-s,p=Math.min(u.getColSpan(e),c),d=[u];if(p>1){for(var h=p-1,f=1;f<=h;f++)d.push(t[s+f]);s+=h}if(r?(l=!1,d.forEach((function(e){r(e)&&(l=!0)}))):l=!0,l){if(0===i.length&&a)!!n&&n(u)&&i.push(a);i.push(u)}a=u,o=s},l=0;l<t.length;l++)s(l),l=o;return i},t.prototype.getViewportCenterColumnsForRow=function(e){var t=this;if(!this.colSpanActive)return this.viewportColumnsCenter;var r=this.suppressColumnVirtualisation?null:this.isColumnInViewport.bind(this);return this.getDisplayedColumnsForRow(e,this.displayedColumnsCenter,r,(function(e){var r=e.getLeft();return o(r)&&r>t.viewportLeft}))},t.prototype.getAriaColumnIndex=function(e){return this.getAllGridColumns().indexOf(e)+1},t.prototype.isColumnInViewport=function(e){if(e.isAutoHeight())return!0;var t=e.getLeft()||0,r=t+e.getActualWidth(),n=this.viewportLeft-200,o=this.viewportRight+200;return!(t<n&&r<n)&&!(t>o&&r>o)},t.prototype.getDisplayedColumnsLeftWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsLeft)},t.prototype.getDisplayedColumnsRightWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsRight)},t.prototype.updatePrimaryColumnList=function(e,t,r,n,o,i){var s=this;if(void 0===i&&(i="api"),e&&!a(e)){var l=!1;if(e.forEach((function(e){var o=s.getPrimaryColumn(e);if(o){if(r){if(t.indexOf(o)>=0)return;t.push(o)}else{if(t.indexOf(o)<0)return;de(t,o)}n(o),l=!0}})),l){this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(i);var u={type:o,columns:t,column:1===t.length?t[0]:null,api:this.gridApi,columnApi:this.columnApi,source:i};this.eventService.dispatchEvent(u)}}},t.prototype.setRowGroupColumns=function(e,t){void 0===t&&(t="api"),this.autoGroupsNeedBuilding=!0,this.setPrimaryColumnList(e,this.rowGroupColumns,He.EVENT_COLUMN_ROW_GROUP_CHANGED,this.setRowGroupActive.bind(this),t)},t.prototype.setRowGroupActive=function(e,t,r){e!==t.isRowGroupActive()&&(t.setRowGroupActive(e,r),e||this.gridOptionsWrapper.isSuppressMakeColumnVisibleAfterUnGroup()||t.setVisible(!0,r))},t.prototype.addRowGroupColumn=function(e,t){void 0===t&&(t="api"),e&&this.addRowGroupColumns([e],t)},t.prototype.addRowGroupColumns=function(e,t){void 0===t&&(t="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(e,this.rowGroupColumns,!0,this.setRowGroupActive.bind(this,!0),He.EVENT_COLUMN_ROW_GROUP_CHANGED,t)},t.prototype.removeRowGroupColumns=function(e,t){void 0===t&&(t="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(e,this.rowGroupColumns,!1,this.setRowGroupActive.bind(this,!1),He.EVENT_COLUMN_ROW_GROUP_CHANGED,t)},t.prototype.removeRowGroupColumn=function(e,t){void 0===t&&(t="api"),e&&this.removeRowGroupColumns([e],t)},t.prototype.addPivotColumns=function(e,t){void 0===t&&(t="api"),this.updatePrimaryColumnList(e,this.pivotColumns,!0,(function(e){return e.setPivotActive(!0,t)}),He.EVENT_COLUMN_PIVOT_CHANGED,t)},t.prototype.setPivotColumns=function(e,t){void 0===t&&(t="api"),this.setPrimaryColumnList(e,this.pivotColumns,He.EVENT_COLUMN_PIVOT_CHANGED,(function(e,r){r.setPivotActive(e,t)}),t)},t.prototype.addPivotColumn=function(e,t){void 0===t&&(t="api"),this.addPivotColumns([e],t)},t.prototype.removePivotColumns=function(e,t){void 0===t&&(t="api"),this.updatePrimaryColumnList(e,this.pivotColumns,!1,(function(e){return e.setPivotActive(!1,t)}),He.EVENT_COLUMN_PIVOT_CHANGED,t)},t.prototype.removePivotColumn=function(e,t){void 0===t&&(t="api"),this.removePivotColumns([e],t)},t.prototype.setPrimaryColumnList=function(e,t,r,n,i){var a=this;t.length=0,o(e)&&e.forEach((function(e){var r=a.getPrimaryColumn(e);r&&t.push(r)})),(this.primaryColumns||[]).forEach((function(e){var r=t.indexOf(e)>=0;n(r,e)})),this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(i),this.fireColumnEvent(r,t,i)},t.prototype.setValueColumns=function(e,t){void 0===t&&(t="api"),this.setPrimaryColumnList(e,this.valueColumns,He.EVENT_COLUMN_VALUE_CHANGED,this.setValueActive.bind(this),t)},t.prototype.setValueActive=function(e,t,r){if(e!==t.isValueActive()&&(t.setValueActive(e,r),e&&!t.getAggFunc())){var n=this.aggFuncService.getDefaultAggFunc(t);t.setAggFunc(n)}},t.prototype.addValueColumns=function(e,t){void 0===t&&(t="api"),this.updatePrimaryColumnList(e,this.valueColumns,!0,this.setValueActive.bind(this,!0),He.EVENT_COLUMN_VALUE_CHANGED,t)},t.prototype.addValueColumn=function(e,t){void 0===t&&(t="api"),e&&this.addValueColumns([e],t)},t.prototype.removeValueColumn=function(e,t){void 0===t&&(t="api"),this.removeValueColumns([e],t)},t.prototype.removeValueColumns=function(e,t){void 0===t&&(t="api"),this.updatePrimaryColumnList(e,this.valueColumns,!1,this.setValueActive.bind(this,!1),He.EVENT_COLUMN_VALUE_CHANGED,t)},t.prototype.normaliseColumnWidth=function(e,t){var r=e.getMinWidth();o(r)&&t<r&&(t=r);var n=e.getMaxWidth();return o(n)&&e.isGreaterThanMax(t)&&(t=n),t},t.prototype.getPrimaryOrGridColumn=function(e){return this.getPrimaryColumn(e)||this.getGridColumn(e)},t.prototype.setColumnWidths=function(e,t,r,n){var o=this;void 0===n&&(n="api");var i=[];e.forEach((function(e){var r=o.getPrimaryOrGridColumn(e.key);if(r&&(i.push({width:e.newWidth,ratios:[1],columns:[r]}),"shift"===o.gridOptionsWrapper.getColResizeDefault()&&(t=!t),t)){var n=o.getDisplayedColAfter(r);if(!n)return;var a=r.getActualWidth()-e.newWidth,s=n.getActualWidth()+a;i.push({width:s,ratios:[1],columns:[n]})}})),0!==i.length&&this.resizeColumnSets({resizeSets:i,finished:r,source:n})},t.prototype.checkMinAndMaxWidthsForSet=function(e){var t=e.columns,r=e.width,n=0,i=0,a=!0;return t.forEach((function(e){var t=e.getMinWidth();n+=t||0;var r=e.getMaxWidth();o(r)&&r>0?i+=r:a=!1})),r>=n&&(!a||r<=i)},t.prototype.resizeColumnSets=function(e){var t=this,r=e.resizeSets,n=e.finished,i=e.source;if(!r||r.every((function(e){return t.checkMinAndMaxWidthsForSet(e)}))){var a=[],s=[];r.forEach((function(e){var t=e.width,r=e.columns,n=e.ratios,l={},u={};r.forEach((function(e){return s.push(e)}));for(var c=!0,p=0,d=function(){if(++p>1e3)return console.error("AG Grid: infinite loop in resizeColumnSets"),"break";c=!1;var e=[],i=0,a=t;r.forEach((function(t,r){if(u[t.getId()])a-=l[t.getId()];else{e.push(t);var o=n[r];i+=o}}));var s=1/i;e.forEach((function(r,i){var p;i===e.length-1?p=a:(p=Math.round(n[i]*t*s),a-=p);var d=r.getMinWidth(),h=r.getMaxWidth();o(d)&&p<d?(p=d,u[r.getId()]=!0,c=!0):o(h)&&h>0&&p>h&&(p=h,u[r.getId()]=!0,c=!0),l[r.getId()]=p}))};c;){if("break"===d())break}r.forEach((function(e){var t=l[e.getId()];e.getActualWidth()!==t&&(e.setActualWidth(t,i),a.push(e))}))}));var l=a.length>0,u=[];l&&(u=this.refreshFlexedColumns({resizingCols:s,skipSetLeft:!0}),this.setLeftValues(i),this.updateBodyWidths(),this.checkViewportColumns());var c=s.concat(u);(l||n)&&this.fireColumnResizedEvent(c,n,i,u)}else if(n){var p=r&&r.length>0?r[0].columns:null;this.fireColumnResizedEvent(p,n,i)}},t.prototype.setColumnAggFunc=function(e,t,r){if(void 0===r&&(r="api"),e){var n=this.getPrimaryColumn(e);n&&(n.setAggFunc(t),this.fireColumnEvent(He.EVENT_COLUMN_VALUE_CHANGED,[n],r))}},t.prototype.fireColumnEvent=function(e,t,r){var n={type:e,columns:t,column:t&&1==t.length?t[0]:null,api:this.gridApi,columnApi:this.columnApi,source:r};this.eventService.dispatchEvent(n)},t.prototype.moveRowGroupColumn=function(e,t,r){void 0===r&&(r="api");var n=this.rowGroupColumns[e];this.rowGroupColumns.splice(e,1),this.rowGroupColumns.splice(t,0,n);var o={type:He.EVENT_COLUMN_ROW_GROUP_CHANGED,columns:this.rowGroupColumns,column:1===this.rowGroupColumns.length?this.rowGroupColumns[0]:null,api:this.gridApi,columnApi:this.columnApi,source:r};this.eventService.dispatchEvent(o)},t.prototype.moveColumns=function(e,t,r){if(void 0===r&&(r="api"),this.columnAnimationService.start(),t>this.gridColumns.length-e.length)return console.warn("AG Grid: tried to insert columns in invalid location, toIndex = "+t),void console.warn("AG Grid: remember that you should not count the moving columns when calculating the new index");var n=this.getGridColumns(e);if(!!this.doesMovePassRules(n,t)){ge(this.gridColumns,n,t),this.updateDisplayedColumns(r);var o={type:He.EVENT_COLUMN_MOVED,columns:n,column:1===n.length?n[0]:null,toIndex:t,api:this.gridApi,columnApi:this.columnApi,source:r};this.eventService.dispatchEvent(o),this.columnAnimationService.finish()}},t.prototype.doesMovePassRules=function(e,t){var r=this.gridColumns.slice();return ge(r,e,t),!!this.doesMovePassMarryChildren(r)&&!!this.doesMovePassLockedPositions(r)},t.prototype.sortColumnsLikeGridColumns=function(e){var t=this;!e||e.length<=1||(e.filter((function(e){return t.gridColumns.indexOf(e)<0})).length>0||e.sort((function(e,r){return t.gridColumns.indexOf(e)-t.gridColumns.indexOf(r)})))},t.prototype.doesMovePassLockedPositions=function(e){var t=0,r=!0;return e.forEach((function(e){var n,o=(n=e.getColDef().lockPosition)?!0===n||"left"===n?0:2:1;o<t&&(r=!1),t=o})),r},t.prototype.doesMovePassMarryChildren=function(e){var t=!0;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,(function(r){if(r instanceof we){var n=r,o=n.getColGroupDef();if(o&&o.marryChildren){var i=[];n.getLeafColumns().forEach((function(t){var r=e.indexOf(t);i.push(r)})),Math.max.apply(Math,i)-Math.min.apply(Math,i)>n.getLeafColumns().length-1&&(t=!1)}}})),t},t.prototype.moveColumn=function(e,t,r){void 0===r&&(r="api"),this.moveColumns([e],t,r)},t.prototype.moveColumnByIndex=function(e,t,r){void 0===r&&(r="api");var n=this.gridColumns[e];this.moveColumn(n,t,r)},t.prototype.getColumnDefs=function(){var e=this;if(this.primaryColumns){var t=this.primaryColumns.slice();return this.gridColsArePrimary?t.sort((function(t,r){return e.gridColumns.indexOf(t)-e.gridColumns.indexOf(r)})):this.lastPrimaryOrder&&t.sort((function(t,r){return e.lastPrimaryOrder.indexOf(t)-e.lastPrimaryOrder.indexOf(r)})),this.columnDefFactory.buildColumnDefs(t,this.rowGroupColumns,this.pivotColumns)}},t.prototype.getBodyContainerWidth=function(){return this.bodyWidth},t.prototype.getContainerWidth=function(e){switch(e){case ne.PINNED_LEFT:return this.leftWidth;case ne.PINNED_RIGHT:return this.rightWidth;default:return this.bodyWidth}},t.prototype.updateBodyWidths=function(){var e=this.getWidthOfColsInList(this.displayedColumnsCenter),t=this.getWidthOfColsInList(this.displayedColumnsLeft),r=this.getWidthOfColsInList(this.displayedColumnsRight);if(this.bodyWidthDirty=this.bodyWidth!==e,this.bodyWidth!==e||this.leftWidth!==t||this.rightWidth!==r){this.bodyWidth=e,this.leftWidth=t,this.rightWidth=r;var n={type:He.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(n)}},t.prototype.getValueColumns=function(){return this.valueColumns?this.valueColumns:[]},t.prototype.getPivotColumns=function(){return this.pivotColumns?this.pivotColumns:[]},t.prototype.isPivotActive=function(){return this.pivotColumns&&this.pivotColumns.length>0&&this.pivotMode},t.prototype.getRowGroupColumns=function(){return this.rowGroupColumns?this.rowGroupColumns:[]},t.prototype.getDisplayedCenterColumns=function(){return this.displayedColumnsCenter},t.prototype.getDisplayedLeftColumns=function(){return this.displayedColumnsLeft},t.prototype.getDisplayedRightColumns=function(){return this.displayedColumnsRight},t.prototype.getDisplayedColumns=function(e){switch(e){case ne.PINNED_LEFT:return this.getDisplayedLeftColumns();case ne.PINNED_RIGHT:return this.getDisplayedRightColumns();default:return this.getDisplayedCenterColumns()}},t.prototype.getAllPrimaryColumns=function(){return this.primaryColumns?this.primaryColumns.slice():null},t.prototype.getSecondaryColumns=function(){return this.secondaryColumns?this.secondaryColumns.slice():null},t.prototype.getAllColumnsForQuickFilter=function(){return this.columnsForQuickFilter},t.prototype.getAllGridColumns=function(){return this.gridColumns},t.prototype.isEmpty=function(){return a(this.gridColumns)},t.prototype.isRowGroupEmpty=function(){return a(this.rowGroupColumns)},t.prototype.setColumnVisible=function(e,t,r){void 0===r&&(r="api"),this.setColumnsVisible([e],t,r)},t.prototype.setColumnsVisible=function(e,t,r){var n=this;void 0===t&&(t=!1),void 0===r&&(r="api"),this.columnAnimationService.start(),this.actionOnGridColumns(e,(function(e){return e.isVisible()!==t&&(e.setVisible(t,r),!0)}),r,(function(){return{type:He.EVENT_COLUMN_VISIBLE,visible:t,column:null,columns:null,api:n.gridApi,columnApi:n.columnApi,source:r}})),this.columnAnimationService.finish()},t.prototype.setColumnPinned=function(e,t,r){void 0===r&&(r="api"),e&&this.setColumnsPinned([e],t,r)},t.prototype.setColumnsPinned=function(e,t,r){var n,o=this;(void 0===r&&(r="api"),"print"!==this.gridOptionsWrapper.getDomLayout())?(this.columnAnimationService.start(),n=!0===t||t===ne.PINNED_LEFT?ne.PINNED_LEFT:t===ne.PINNED_RIGHT?ne.PINNED_RIGHT:null,this.actionOnGridColumns(e,(function(e){return e.getPinned()!==n&&(e.setPinned(n),!0)}),r,(function(){return{type:He.EVENT_COLUMN_PINNED,pinned:n,column:null,columns:null,api:o.gridApi,columnApi:o.columnApi,source:r}})),this.columnAnimationService.finish()):console.warn("Changing the column pinning status is not allowed with domLayout='print'")},t.prototype.actionOnGridColumns=function(e,t,r,n){var i=this;if(!a(e)){var s=[];if(e.forEach((function(e){var r=i.getGridColumn(e);r&&(!1!==t(r)&&s.push(r))})),s.length&&(this.updateDisplayedColumns(r),o(n)&&n)){var l=n();l.columns=s,l.column=1===s.length?s[0]:null,this.eventService.dispatchEvent(l)}}},t.prototype.getDisplayedColBefore=function(e){var t=this.getAllDisplayedColumns(),r=t.indexOf(e);return r>0?t[r-1]:null},t.prototype.getDisplayedColAfter=function(e){var t=this.getAllDisplayedColumns(),r=t.indexOf(e);return r<t.length-1?t[r+1]:null},t.prototype.getDisplayedGroupAfter=function(e){return this.getDisplayedGroupAtDirection(e,"After")},t.prototype.getDisplayedGroupBefore=function(e){return this.getDisplayedGroupAtDirection(e,"Before")},t.prototype.getDisplayedGroupAtDirection=function(e,t){for(var r=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),n=e.getDisplayedLeafColumns(),o="After"===t?ue(n):n[0],i="getDisplayedCol"+t;;){var a=this[i](o);if(!a)return null;var s=this.getColumnGroupAtLevel(a,r);if(s!==e)return s}},t.prototype.getColumnGroupAtLevel=function(e,t){for(var r=e.getParent();;){if(r.getProvidedColumnGroup().getLevel()+r.getPaddingLevel()<=t)break;r=r.getParent()}return r},t.prototype.isPinningLeft=function(){return this.displayedColumnsLeft.length>0},t.prototype.isPinningRight=function(){return this.displayedColumnsRight.length>0},t.prototype.getPrimaryAndSecondaryAndAutoColumns=function(){var e;return(e=[]).concat.apply(e,ot([this.primaryColumns||[],this.groupAutoColumns||[],this.secondaryColumns||[]]))},t.prototype.getPrimaryAndAutoGroupCols=function(){var e;return(e=[]).concat.apply(e,ot([this.primaryColumns||[],this.groupAutoColumns||[]]))},t.prototype.getPrimaryAndSecondaryColumns=function(){var e;return(e=[]).concat.apply(e,ot([this.primaryColumns||[],this.secondaryColumns||[]]))},t.prototype.createStateItemFromColumn=function(e){var t=e.isRowGroupActive()?this.rowGroupColumns.indexOf(e):null,r=e.isPivotActive()?this.pivotColumns.indexOf(e):null,n=e.isValueActive()?e.getAggFunc():null,o=null!=e.getSort()?e.getSort():null,i=null!=e.getSortIndex()?e.getSortIndex():null,a=null!=e.getFlex()&&e.getFlex()>0?e.getFlex():null;return{colId:e.getColId(),width:e.getActualWidth(),hide:!e.isVisible(),pinned:e.getPinned(),sort:o,sortIndex:i,aggFunc:n,rowGroup:e.isRowGroupActive(),rowGroupIndex:t,pivot:e.isPivotActive(),pivotIndex:r,flex:a}},t.prototype.getColumnState=function(){if(i(this.primaryColumns)||!this.isAlive())return[];var e=this.getPrimaryAndSecondaryAndAutoColumns().map(this.createStateItemFromColumn.bind(this));return this.orderColumnStateList(e),e},t.prototype.orderColumnStateList=function(e){var t=Ze(this.gridColumns.map((function(e,t){return[e.getColId(),t]})));e.sort((function(e,r){return(t.has(e.colId)?t.get(e.colId):-1)-(t.has(r.colId)?t.get(r.colId):-1)}))},t.prototype.resetColumnState=function(e){void 0===e&&(e="api");var t=this.getColumnsFromTree(this.primaryColumnTree),r=[],n=1e3,o=1e3,a=[];this.groupAutoColumns&&(a=a.concat(this.groupAutoColumns)),t&&(a=a.concat(t)),a.forEach((function(e){var t=function(e,t){return null!=e?e:null!=t?t:null},a=e.getColDef(),s=t(a.sort,a.initialSort),l=t(a.sortIndex,a.initialSortIndex),u=t(a.hide,a.initialHide),c=t(a.pinned,a.initialPinned),p=t(a.width,a.initialWidth),d=t(a.flex,a.initialFlex),h=t(a.rowGroupIndex,a.initialRowGroupIndex),f=t(a.rowGroup,a.initialRowGroup);null!=h||null!=f&&0!=f||(h=null,f=null);var g=t(a.pivotIndex,a.initialPivotIndex),y=t(a.pivot,a.initialPivot);null!=g||null!=y&&0!=y||(g=null,y=null);var v=t(a.aggFunc,a.initialAggFunc),m={colId:e.getColId(),sort:s,sortIndex:l,hide:u,pinned:c,width:p,flex:d,rowGroup:f,rowGroupIndex:h,pivot:y,pivotIndex:g,aggFunc:v};i(h)&&f&&(m.rowGroupIndex=n++),i(g)&&y&&(m.pivotIndex=o++),r.push(m)})),this.applyColumnState({state:r,applyOrder:!0},e)},t.prototype.applyColumnState=function(e,t){var r=this;if(void 0===t&&(t="api"),a(this.primaryColumns))return!1;if(e&&e.state&&!e.state.forEach)return console.warn("AG Grid: applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;var n=function(n,o,i){var a=r.compareColumnStatesAndRaiseEvents(t);r.autoGroupsNeedBuilding=!0;var s=o.slice(),l={},u={},c=[],p=[],d=0,h=r.rowGroupColumns.slice(),f=r.pivotColumns.slice();n.forEach((function(n){var o=n.colId||"";if(o.startsWith(ne.GROUP_AUTO_COLUMN_ID))return c.push(n),void p.push(n);var a=i(o);a?(r.syncColumnWithStateItem(a,n,e.defaultState,l,u,!1,t),de(s,a)):(p.push(n),d+=1)}));var g=function(n){return r.syncColumnWithStateItem(n,null,e.defaultState,l,u,!1,t)};s.forEach(g);var y=function(e,t,r,n){var o=e[r.getId()],i=e[n.getId()],a=null!=o,s=null!=i;if(a&&s)return o-i;if(a)return-1;if(s)return 1;var l=t.indexOf(r),u=t.indexOf(n),c=l>=0;return c&&u>=0?l-u:c?-1:1};r.rowGroupColumns.sort(y.bind(r,l,h)),r.pivotColumns.sort(y.bind(r,u,f)),r.updateGridColumns();var v=r.groupAutoColumns?r.groupAutoColumns.slice():[];return c.forEach((function(n){var o=r.getAutoColumn(n.colId);de(v,o),r.syncColumnWithStateItem(o,n,e.defaultState,null,null,!0,t)})),v.forEach(g),r.applyOrderAfterApplyState(e),r.updateDisplayedColumns(t),r.dispatchEverythingChanged(t),a(),{unmatchedAndAutoStates:p,unmatchedCount:d}};this.columnAnimationService.start();var i=n(e.state||[],this.primaryColumns||[],(function(e){return r.getPrimaryColumn(e)})),s=i.unmatchedAndAutoStates,l=i.unmatchedCount;return(s.length>0||o(e.defaultState))&&(l=n(s,this.secondaryColumns||[],(function(e){return r.getSecondaryColumn(e)})).unmatchedCount),this.columnAnimationService.finish(),0===l},t.prototype.applyOrderAfterApplyState=function(e){var t=this;if(e.applyOrder&&e.state){var r=[],n={};e.state.forEach((function(e){if(e.colId&&!n[e.colId]){var o=t.gridColumnsMap[e.colId];o&&(r.push(o),n[e.colId]=!0)}}));var o=0;this.gridColumns.forEach((function(e){var t=e.getColId();null!=n[t]||(t.startsWith(ne.GROUP_AUTO_COLUMN_ID)?fe(r,e,o++):r.push(e))})),r=this.placeLockedColumns(r),this.doesMovePassMarryChildren(r)?this.gridColumns=r:console.warn("AG Grid: Applying column order broke a group where columns should be married together. Applying new order has been discarded.")}},t.prototype.compareColumnStatesAndRaiseEvents=function(e){var t=this,r={rowGroupColumns:this.rowGroupColumns.slice(),pivotColumns:this.pivotColumns.slice(),valueColumns:this.valueColumns.slice()},n=this.getColumnState(),o={};return n.forEach((function(e){o[e.colId]=e})),function(){if(!t.gridOptionsWrapper.isSuppressColumnStateEvents()){var i=t.getPrimaryAndSecondaryAndAutoColumns(),a=function(r,n,o,i){if(!ce(n.map(i),o.map(i))){var a={type:r,columns:o,column:1===o.length?o[0]:null,api:t.gridApi,columnApi:t.columnApi,source:e};t.eventService.dispatchEvent(a)}},s=function(e){var t=[];return i.forEach((function(r){var n=o[r.getColId()];n&&e(n,r)&&t.push(r)})),t},l=function(e){return e.getColId()};a(He.EVENT_COLUMN_ROW_GROUP_CHANGED,r.rowGroupColumns,t.rowGroupColumns,l),a(He.EVENT_COLUMN_PIVOT_CHANGED,r.pivotColumns,t.pivotColumns,l);s((function(e,t){var r=null!=e.aggFunc,n=r!=t.isValueActive(),o=r&&e.aggFunc!=t.getAggFunc();return n||o})).length>0&&t.fireColumnEvent(He.EVENT_COLUMN_VALUE_CHANGED,t.valueColumns,e);t.fireColumnResizedEvent(s((function(e,t){return e.width!=t.getActualWidth()})),!0,e);t.raiseColumnPinnedEvent(s((function(e,t){return e.pinned!=t.getPinned()})),e);t.raiseColumnVisibleEvent(s((function(e,t){return e.hide==t.isVisible()})),e);s((function(e,t){return e.sort!=t.getSort()||e.sortIndex!=t.getSortIndex()})).length>0&&t.sortController.dispatchSortChangedEvents(e),t.raiseColumnMovedEvent(n,e)}}},t.prototype.raiseColumnPinnedEvent=function(e,t){if(e.length){var r=1===e.length?e[0]:null,n=this.getCommonValue(e,(function(e){return e.getPinned()})),o={type:He.EVENT_COLUMN_PINNED,pinned:null!=n?n:null,columns:e,column:r,api:this.gridApi,columnApi:this.columnApi,source:t};this.eventService.dispatchEvent(o)}},t.prototype.getCommonValue=function(e,t){if(e&&0!=e.length){for(var r=t(e[0]),n=1;n<e.length;n++)if(r!==t(e[n]))return;return r}},t.prototype.raiseColumnVisibleEvent=function(e,t){if(e.length){var r=1===e.length?e[0]:null,n=this.getCommonValue(e,(function(e){return e.isVisible()})),o={type:He.EVENT_COLUMN_VISIBLE,visible:n,columns:e,column:r,api:this.gridApi,columnApi:this.columnApi,source:t};this.eventService.dispatchEvent(o)}},t.prototype.raiseColumnMovedEvent=function(e,t){var r=this,n=this.getColumnState(),o={};n.forEach((function(e){return o[e.colId]=e}));var i={};e.forEach((function(e){o[e.colId]&&(i[e.colId]=!0)}));var a=e.filter((function(e){return i[e.colId]})),s=n.filter((function(e){return i[e.colId]})),l=[];if(s.forEach((function(e,t){var n=a&&a[t];if(n&&n.colId!==e.colId){var o=r.getGridColumn(n.colId);o&&l.push(o)}})),l.length){var u={type:He.EVENT_COLUMN_MOVED,columns:l,column:null,api:this.gridApi,columnApi:this.columnApi,source:t};this.eventService.dispatchEvent(u)}},t.prototype.syncColumnWithStateItem=function(e,t,r,n,i,a,s){if(e){var l=function(e,n){var i={value1:void 0,value2:void 0},a=!1;return t&&(void 0!==t[e]&&(i.value1=t[e],a=!0),o(n)&&void 0!==t[n]&&(i.value2=t[n],a=!0)),!a&&r&&(void 0!==r[e]&&(i.value1=r[e]),o(n)&&void 0!==r[n]&&(i.value2=r[n])),i},u=l("hide").value1;void 0!==u&&e.setVisible(!u,s);var c=l("pinned").value1;void 0!==c&&e.setPinned(c);var p=this.columnUtils.calculateColMinWidth(e.getColDef()),d=l("flex").value1;if(void 0!==d&&e.setFlex(d),e.getFlex()<=0){var h=l("width").value1;null!=h&&null!=p&&h>=p&&e.setActualWidth(h,s)}var f=l("sort").value1;void 0!==f&&(f===ne.SORT_DESC||f===ne.SORT_ASC?e.setSort(f,s):e.setSort(void 0,s));var g=l("sortIndex").value1;if(void 0!==g&&e.setSortIndex(g),!a&&e.isPrimary()){var y=l("aggFunc").value1;void 0!==y&&("string"===typeof y?(e.setAggFunc(y),e.isValueActive()||(e.setValueActive(!0,s),this.valueColumns.push(e))):(o(y)&&console.warn("AG Grid: stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),e.isValueActive()&&(e.setValueActive(!1,s),de(this.valueColumns,e))));var v=l("rowGroup","rowGroupIndex"),m=v.value1,b=v.value2;void 0===m&&void 0===b||("number"===typeof b||m?(e.isRowGroupActive()||(e.setRowGroupActive(!0,s),this.rowGroupColumns.push(e)),n&&"number"===typeof b&&(n[e.getId()]=b)):e.isRowGroupActive()&&(e.setRowGroupActive(!1,s),de(this.rowGroupColumns,e)));var C=l("pivot","pivotIndex"),w=C.value1,x=C.value2;void 0===w&&void 0===x||("number"===typeof x||w?(e.isPivotActive()||(e.setPivotActive(!0,s),this.pivotColumns.push(e)),i&&"number"===typeof x&&(i[e.getId()]=x)):e.isPivotActive()&&(e.setPivotActive(!1,s),de(this.pivotColumns,e)))}}},t.prototype.getGridColumns=function(e){return this.getColumns(e,this.getGridColumn.bind(this))},t.prototype.getColumns=function(e,t){var r=[];return e&&e.forEach((function(e){var n=t(e);n&&r.push(n)})),r},t.prototype.getColumnWithValidation=function(e){if(null==e)return null;var t=this.getGridColumn(e);return t||console.warn("AG Grid: could not find column "+e),t},t.prototype.getPrimaryColumn=function(e){return this.primaryColumns?this.getColumn(e,this.primaryColumns,this.primaryColumnsMap):null},t.prototype.getGridColumn=function(e){return this.getColumn(e,this.gridColumns,this.gridColumnsMap)},t.prototype.getSecondaryColumn=function(e){return this.secondaryColumns?this.getColumn(e,this.secondaryColumns,this.secondaryColumnsMap):null},t.prototype.getColumn=function(e,t,r){if(!e)return null;if("string"==typeof e&&r[e])return r[e];for(var n=0;n<t.length;n++)if(this.columnsMatch(t[n],e))return t[n];return this.getAutoColumn(e)},t.prototype.getAutoColumn=function(e){var t=this;return this.groupAutoColumns&&o(this.groupAutoColumns)&&!i(this.groupAutoColumns)&&this.groupAutoColumns.find((function(r){return t.columnsMatch(r,e)}))||null},t.prototype.columnsMatch=function(e,t){var r=e===t,n=e.getColDef()===t,o=e.getColId()==t;return r||n||o},t.prototype.getDisplayNameForColumn=function(e,t,r){if(void 0===r&&(r=!1),!e)return null;var n=this.getHeaderName(e.getColDef(),e,null,null,t);return r?this.wrapHeaderNameWithAggFunc(e,n):n},t.prototype.getDisplayNameForProvidedColumnGroup=function(e,t,r){var n=t?t.getColGroupDef():null;return n?this.getHeaderName(n,null,e,t,r):null},t.prototype.getDisplayNameForColumnGroup=function(e,t){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),t)},t.prototype.getHeaderName=function(e,t,r,n,o){var i=e.headerValueGetter;if(i){var a={colDef:e,column:t,columnGroup:r,providedColumnGroup:n,location:o,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};return"function"===typeof i?i(a):"string"===typeof i?this.expressionService.evaluate(i,a):(console.warn("ag-grid: headerValueGetter must be a function or a string"),"")}return null!=e.headerName?e.headerName:e.field?qe(e.field):""},t.prototype.wrapHeaderNameWithAggFunc=function(e,t){if(this.gridOptionsWrapper.isSuppressAggFuncInHeader())return t;var r,n=e.getColDef().pivotValueColumn,i=null;if(o(n)){var a=this.gridOptionsWrapper.isRemovePivotHeaderRowWhenSingleValueColumn()&&1===this.valueColumns.length,s=void 0!==e.getColDef().pivotTotalColumnIds;if(a&&!s)return t;i=n?n.getAggFunc():null,r=!0}else{var l=e.isValueActive(),u=this.pivotMode||!this.isRowGroupEmpty();l&&u?(i=e.getAggFunc(),r=!0):r=!1}if(r){var c="string"===typeof i?i:"func";return this.gridOptionsWrapper.getLocaleTextFunc()(c,c)+"("+t+")"}return t},t.prototype.getColumnGroup=function(e,t){if(!e)return null;if(e instanceof Ce)return e;var r=this.getAllDisplayedTrees(),n="number"===typeof t,o=null;return this.columnUtils.depthFirstAllColumnTreeSearch(r,(function(r){if(r instanceof Ce){var i=r;(n?e===i.getGroupId()&&t===i.getInstanceId():e===i.getGroupId())&&(o=i)}})),o},t.prototype.isReady=function(){return this.ready},t.prototype.extractValueColumns=function(e,t){this.valueColumns=this.extractColumns(t,this.valueColumns,(function(t,r){return t.setValueActive(r,e)}),(function(){}),(function(){}),(function(e){var t=e.aggFunc;return null===t||""===t?null:void 0!==t?!!t:void 0}),(function(e){return null!=e.initialAggFunc&&""!=e.initialAggFunc})),this.valueColumns.forEach((function(e){var t=e.getColDef();null!=t.aggFunc&&""!=t.aggFunc?e.setAggFunc(t.aggFunc):e.getAggFunc()||e.setAggFunc(t.initialAggFunc)}))},t.prototype.extractRowGroupColumns=function(e,t){this.rowGroupColumns=this.extractColumns(t,this.rowGroupColumns,(function(t,r){return t.setRowGroupActive(r,e)}),(function(e){return e.rowGroupIndex}),(function(e){return e.initialRowGroupIndex}),(function(e){return e.rowGroup}),(function(e){return e.initialRowGroup}))},t.prototype.extractColumns=function(e,t,r,n,o,i,a){void 0===e&&(e=[]),void 0===t&&(t=[]);var s=[],c=[];(this.primaryColumns||[]).forEach((function(r){var p=e.indexOf(r)<0,d=r.getColDef(),h=u(i(d)),f=u(a(d)),g=l(n(d)),y=l(o(d));(void 0!==h?h:void 0!==g?null!==g&&g>=0:p?void 0!==f?f:!!(void 0!==y)&&(null!=y&&y>=0):t.indexOf(r)>=0)&&((p?null!=g||null!=y:null!=g)?s.push(r):c.push(r))}));var p=function(e){var t=n(e.getColDef()),r=o(e.getColDef());return null!=t?t:r};s.sort((function(e,t){var r=p(e),n=p(t);return r===n?0:r<n?-1:1}));var d=[].concat(s);return t.forEach((function(e){c.indexOf(e)>=0&&d.push(e)})),c.forEach((function(e){d.indexOf(e)<0&&d.push(e)})),t.forEach((function(e){d.indexOf(e)<0&&r(e,!1)})),d.forEach((function(e){t.indexOf(e)<0&&r(e,!0)})),d},t.prototype.extractPivotColumns=function(e,t){this.pivotColumns=this.extractColumns(t,this.pivotColumns,(function(t,r){return t.setPivotActive(r,e)}),(function(e){return e.pivotIndex}),(function(e){return e.initialPivotIndex}),(function(e){return e.pivot}),(function(e){return e.initialPivot}))},t.prototype.resetColumnGroupState=function(e){void 0===e&&(e="api");var t=[];this.columnUtils.depthFirstOriginalTreeSearch(null,this.primaryColumnTree,(function(e){if(e instanceof we){var r=e.getColGroupDef(),n={groupId:e.getGroupId(),open:r?r.openByDefault:void 0};t.push(n)}})),this.setColumnGroupState(t,e)},t.prototype.getColumnGroupState=function(){var e=[];return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,(function(t){t instanceof we&&e.push({groupId:t.getGroupId(),open:t.isExpanded()})})),e},t.prototype.setColumnGroupState=function(e,t){var r=this;void 0===t&&(t="api"),this.columnAnimationService.start();var n=[];e.forEach((function(e){var t=e.groupId,o=e.open,i=r.getProvidedColumnGroup(t);i&&i.isExpanded()!==o&&(r.logger.log("columnGroupOpened("+i.getGroupId()+","+o+")"),i.setExpanded(o),n.push(i))})),this.updateGroupsAndDisplayedColumns(t),this.setFirstRightAndLastLeftPinned(t),n.forEach((function(e){var t={type:He.EVENT_COLUMN_GROUP_OPENED,columnGroup:e,api:r.gridApi,columnApi:r.columnApi};r.eventService.dispatchEvent(t)})),this.columnAnimationService.finish()},t.prototype.setColumnGroupOpened=function(e,t,r){var n;void 0===r&&(r="api"),n=e instanceof we?e.getId():e||"",this.setColumnGroupState([{groupId:n,open:t}],r)},t.prototype.getProvidedColumnGroup=function(e){"string"!==typeof e&&console.error("AG Grid: group key must be a string");var t=null;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,(function(r){r instanceof we&&r.getId()===e&&(t=r)})),t},t.prototype.calculateColumnsForDisplay=function(){var e=this;return this.pivotMode&&i(this.secondaryColumns)?this.gridColumns.filter((function(t){var r=e.groupAutoColumns&&ye(e.groupAutoColumns,t),n=e.valueColumns&&ye(e.valueColumns,t);return r||n})):this.gridColumns.filter((function(t){return e.groupAutoColumns&&ye(e.groupAutoColumns,t)||t.isVisible()}))},t.prototype.checkColSpanActiveInCols=function(e){var t=!1;return e.forEach((function(e){o(e.getColDef().colSpan)&&(t=!0)})),t},t.prototype.calculateColumnsForGroupDisplay=function(){var e=this;this.groupDisplayColumns=[];var t=function(t){var r=t.getColDef();r&&o(r.showRowGroup)&&e.groupDisplayColumns.push(t)};this.gridColumns.forEach(t),this.groupAutoColumns&&this.groupAutoColumns.forEach(t)},t.prototype.getGroupDisplayColumns=function(){return this.groupDisplayColumns},t.prototype.updateDisplayedColumns=function(e){var t=this.calculateColumnsForDisplay();this.buildDisplayedTrees(t),this.calculateColumnsForGroupDisplay(),this.updateGroupsAndDisplayedColumns(e),this.setFirstRightAndLastLeftPinned(e)},t.prototype.isSecondaryColumnsPresent=function(){return o(this.secondaryColumns)},t.prototype.setSecondaryColumns=function(e,t){var r=this;void 0===t&&(t="api");var n=e&&e.length>0;if(n||!i(this.secondaryColumns)){if(n){this.processSecondaryColumnDefinitions(e);var o=this.columnFactory.createColumnTree(e,!1,this.secondaryBalancedTree||this.previousSecondaryColumns||void 0);this.secondaryBalancedTree=o.columnTree,this.secondaryHeaderRowCount=o.treeDept+1,this.secondaryColumns=this.getColumnsFromTree(this.secondaryBalancedTree),this.secondaryColumnsMap={},this.secondaryColumns.forEach((function(e){return r.secondaryColumnsMap[e.getId()]=e})),this.previousSecondaryColumns=null}else this.previousSecondaryColumns=this.secondaryBalancedTree,this.secondaryBalancedTree=null,this.secondaryHeaderRowCount=-1,this.secondaryColumns=null,this.secondaryColumnsMap={};this.updateGridColumns(),this.updateDisplayedColumns(t)}},t.prototype.processSecondaryColumnDefinitions=function(e){var t=this.gridOptionsWrapper.getProcessSecondaryColDefFunc(),r=this.gridOptionsWrapper.getProcessSecondaryColGroupDefFunc();if(t||r){e&&function e(n){n.forEach((function(n){if(o(n.children)){var i=n;r&&r(i),e(i.children)}else t&&t(n)}))}(e)}},t.prototype.updateGridColumns=function(){var e=this;if(this.gridColsArePrimary?this.lastPrimaryOrder=this.gridColumns:this.lastSecondaryOrder=this.gridColumns,this.secondaryColumns&&this.secondaryBalancedTree){var t=this.secondaryColumns.every((function(t){return void 0!==e.gridColumnsMap[t.getColId()]}));this.gridBalancedTree=this.secondaryBalancedTree.slice(),this.gridHeaderRowCount=this.secondaryHeaderRowCount,this.gridColumns=this.secondaryColumns.slice(),this.gridColsArePrimary=!1,t&&this.orderGridColsLike(this.lastSecondaryOrder)}else this.primaryColumns&&(this.gridBalancedTree=this.primaryColumnTree.slice(),this.gridHeaderRowCount=this.primaryHeaderRowCount,this.gridColumns=this.primaryColumns.slice(),this.gridColsArePrimary=!0,this.orderGridColsLike(this.lastPrimaryOrder));this.addAutoGroupToGridColumns(),this.gridColumns=this.placeLockedColumns(this.gridColumns),this.setupQuickFilterColumns(),this.clearDisplayedAndViewportColumns(),this.colSpanActive=this.checkColSpanActiveInCols(this.gridColumns),this.gridColumnsMap={},this.gridColumns.forEach((function(t){return e.gridColumnsMap[t.getId()]=t})),this.setAutoHeightActive();var r={type:He.EVENT_GRID_COLUMNS_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(r)},t.prototype.setAutoHeightActive=function(){if(this.autoHeightActive=this.gridColumns.filter((function(e){return e.isAutoHeight()})).length>0,this.autoHeightActive){this.autoHeightActiveAtLeastOnce=!0;var e=this.rowModel.getType();if(!(e===ne.ROW_MODEL_TYPE_CLIENT_SIDE||e===ne.ROW_MODEL_TYPE_SERVER_SIDE)){T((function(){return console.warn("AG Grid - autoHeight columns only work with Client Side Row Model and Server Side Row Model.")}),"autoHeightActive.wrongRowModel")}}},t.prototype.orderGridColsLike=function(e){if(!i(e)){var t=Ze(e.map((function(e,t){return[e,t]}))),r=!0;if(this.gridColumns.forEach((function(e){t.has(e)&&(r=!1)})),!r){var n=Ze(this.gridColumns.map((function(e){return[e,!0]}))),o=e.filter((function(e){return n.has(e)})),a=Ze(o.map((function(e){return[e,!0]}))),s=this.gridColumns.filter((function(e){return!a.has(e)})),l=o.slice();s.forEach((function(e){var t=e.getOriginalParent();if(t){for(var r=[];!r.length&&t;){t.getLeafColumns().forEach((function(e){var t=l.indexOf(e)>=0,n=r.indexOf(e)<0;t&&n&&r.push(e)})),t=t.getOriginalParent()}if(r.length){var n=r.map((function(e){return l.indexOf(e)})),o=Math.max.apply(Math,ot(n));fe(l,e,o+1)}else l.push(e)}else l.push(e)})),this.gridColumns=l}}},t.prototype.isPrimaryColumnGroupsPresent=function(){return this.primaryHeaderRowCount>1},t.prototype.setupQuickFilterColumns=function(){this.groupAutoColumns?this.columnsForQuickFilter=(this.primaryColumns||[]).concat(this.groupAutoColumns):this.primaryColumns&&(this.columnsForQuickFilter=this.primaryColumns)},t.prototype.placeLockedColumns=function(e){var t=[],r=[],n=[];return e.forEach((function(e){var o=e.getColDef().lockPosition;"right"===o?n.push(e):"left"===o||!0===o?t.push(e):r.push(e)})),ot(t,r,n)},t.prototype.addAutoGroupToGridColumns=function(){if(this.createGroupAutoColumnsIfNeeded(),!i(this.groupAutoColumns)){this.gridColumns=this.groupAutoColumns?this.groupAutoColumns.concat(this.gridColumns):this.gridColumns;var e=this.columnFactory.createForAutoGroups(this.groupAutoColumns,this.gridBalancedTree);this.gridBalancedTree=e.concat(this.gridBalancedTree)}},t.prototype.clearDisplayedAndViewportColumns=function(){this.displayedTreeLeft=[],this.displayedTreeRight=[],this.displayedTreeCentre=[],this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={},this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.viewportColumns=[]},t.prototype.updateGroupsAndDisplayedColumns=function(e){this.updateOpenClosedVisibilityInColumnGroups(),this.deriveDisplayedColumns(e),this.refreshFlexedColumns(),this.extractViewport(),this.updateBodyWidths();var t={type:He.EVENT_DISPLAYED_COLUMNS_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(t)},t.prototype.deriveDisplayedColumns=function(e){this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeLeft,this.displayedColumnsLeft),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeCentre,this.displayedColumnsCenter),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeRight,this.displayedColumnsRight),this.joinDisplayedColumns(),this.setLeftValues(e),this.displayedAutoHeightCols=this.displayedColumns.filter((function(e){return e.isAutoHeight()}))},t.prototype.isAutoRowHeightActive=function(){return this.autoHeightActive},t.prototype.wasAutoRowHeightEverActive=function(){return this.autoHeightActiveAtLeastOnce},t.prototype.joinDisplayedColumns=function(){this.gridOptionsWrapper.isEnableRtl()?this.displayedColumns=this.displayedColumnsRight.concat(this.displayedColumnsCenter).concat(this.displayedColumnsLeft):this.displayedColumns=this.displayedColumnsLeft.concat(this.displayedColumnsCenter).concat(this.displayedColumnsRight)},t.prototype.setLeftValues=function(e){this.setLeftValuesOfColumns(e),this.setLeftValuesOfGroups()},t.prototype.setLeftValuesOfColumns=function(e){var t=this;if(this.primaryColumns){var r=this.primaryColumns.slice(0),n=this.gridOptionsWrapper.isEnableRtl();[this.displayedColumnsLeft,this.displayedColumnsRight,this.displayedColumnsCenter].forEach((function(o){if(n){var i=t.getWidthOfColsInList(o);o.forEach((function(t){i-=t.getActualWidth(),t.setLeft(i,e)}))}else{var a=0;o.forEach((function(t){t.setLeft(a,e),a+=t.getActualWidth()}))}he(r,o)})),r.forEach((function(t){t.setLeft(null,e)}))}},t.prototype.setLeftValuesOfGroups=function(){[this.displayedTreeLeft,this.displayedTreeRight,this.displayedTreeCentre].forEach((function(e){e.forEach((function(e){e instanceof Ce&&e.checkLeft()}))}))},t.prototype.derivedDisplayedColumnsFromDisplayedTree=function(e,t){t.length=0,this.columnUtils.depthFirstDisplayedColumnTreeSearch(e,(function(e){e instanceof se&&t.push(e)}))},t.prototype.extractViewportColumns=function(){this.suppressColumnVirtualisation?this.viewportColumnsCenter=this.displayedColumnsCenter:this.viewportColumnsCenter=this.filterOutColumnsWithinViewport(),this.viewportColumns=this.viewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight)},t.prototype.getVirtualHeaderGroupRow=function(e,t){var r;switch(e){case ne.PINNED_LEFT:r=this.viewportRowLeft[t];break;case ne.PINNED_RIGHT:r=this.viewportRowRight[t];break;default:r=this.viewportRowCenter[t]}return i(r)&&(r=[]),r},t.prototype.extractViewportRows=function(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={};var e={};this.viewportColumns.forEach((function(t){return e[t.getId()]=!0}));var t=function t(r,n,o){for(var i=!1,a=0;a<r.length;a++){var s=r[a],l=!1;if(s instanceof se)l=!0===e[s.getId()];else{var u=s.getDisplayedChildren();u&&(l=t(u,n,o+1))}l&&(i=!0,n[o]||(n[o]=[]),n[o].push(s))}return i};t(this.displayedTreeLeft,this.viewportRowLeft,0),t(this.displayedTreeRight,this.viewportRowRight,0),t(this.displayedTreeCentre,this.viewportRowCenter,0)},t.prototype.extractViewport=function(){this.extractViewportColumns(),this.extractViewportRows()},t.prototype.filterOutColumnsWithinViewport=function(){return this.displayedColumnsCenter.filter(this.isColumnInViewport.bind(this))},t.prototype.refreshFlexedColumns=function(e){var t=this;void 0===e&&(e={});var r=e.source?e.source:"flex";if(null!=e.viewportWidth&&(this.flexViewportWidth=e.viewportWidth),!this.flexViewportWidth)return[];var n=-1;e.resizingCols&&e.resizingCols.forEach((function(e){var r=t.displayedColumnsCenter.indexOf(e);n<r&&(n=r)}));var i=function(e){var r=t.displayedColumnsCenter.indexOf(e)>n;return e.getFlex()&&r},a=this.displayedColumnsCenter.filter((function(e){return!i(e)})),s=this.displayedColumnsCenter.filter((function(e){return i(e)})),l=[];if(!s.length)return[];var u,c=[];e:for(;;){var p=s.reduce((function(e,t){return e+t.getFlex()}),0);u=this.flexViewportWidth-this.getWidthOfColsInList(a);for(var d=0;d<s.length;d++){var h=s[d],f=u*h.getFlex()/p,g=0,y=h.getMinWidth(),v=h.getMaxWidth();if(o(y)&&f<y?g=y:o(v)&&f>v&&(g=v),g){h.setActualWidth(g,r),de(s,h),l.push(h),a.push(h);continue e}c[d]=Math.round(f)}break}var m=u;return s.forEach((function(e,t){e.setActualWidth(Math.min(c[t],m),r),l.push(e),m-=c[t]})),e.skipSetLeft||this.setLeftValues(r),e.updateBodyWidths&&this.updateBodyWidths(),e.fireResizedEvent&&this.fireColumnResizedEvent(l,!0,r,s),this.flexColsCalculatedAtLestOnce||(this.gridOptionsWrapper.isRowModelDefault()&&this.rowModel.resetRowHeights(),this.flexColsCalculatedAtLestOnce=!0),s},t.prototype.sizeColumnsToFit=function(e,t,r){void 0===t&&(t="sizeColumnsToFit");var n=this.getAllDisplayedColumns();if(!(e<=0)&&n.length){var i=[],a=[];n.forEach((function(e){!0===e.getColDef().suppressSizeToFit?a.push(e):i.push(e)}));var s=i.slice(0),l=!1,u=function(e){de(i,e),a.push(e)};for(i.forEach((function(e){return e.resetActualWidth(t)}));!l;){l=!0;var c=e-this.getWidthOfColsInList(a);if(c<=0)i.forEach((function(e){e.setMinimum(t)}));else for(var p=c/this.getWidthOfColsInList(i),d=c,h=i.length-1;h>=0;h--){var f=i[h],g=f.getMinWidth(),y=f.getMaxWidth(),v=Math.round(f.getActualWidth()*p);o(g)&&v<g?(v=g,u(f),l=!1):o(y)&&f.isGreaterThanMax(v)?(v=y,u(f),l=!1):0===h&&(v=d),f.setActualWidth(v,t,!0),d-=v}}s.forEach((function(e){e.fireColumnWidthChangedEvent(t)})),this.setLeftValues(t),this.updateBodyWidths(),r||this.fireColumnResizedEvent(s,!0,t)}},t.prototype.buildDisplayedTrees=function(e){var t=[],r=[],n=[];e.forEach((function(e){switch(e.getPinned()){case"left":t.push(e);break;case"right":r.push(e);break;default:n.push(e)}}));var o=new je;this.displayedTreeLeft=this.displayedGroupCreator.createDisplayedGroups(t,this.gridBalancedTree,o,ne.PINNED_LEFT,this.displayedTreeLeft),this.displayedTreeRight=this.displayedGroupCreator.createDisplayedGroups(r,this.gridBalancedTree,o,ne.PINNED_RIGHT,this.displayedTreeRight),this.displayedTreeCentre=this.displayedGroupCreator.createDisplayedGroups(n,this.gridBalancedTree,o,null,this.displayedTreeCentre),this.updateDisplayedMap()},t.prototype.updateDisplayedMap=function(){var e=this;this.displayedColumnsAndGroupsMap={};var t=function(t){e.displayedColumnsAndGroupsMap[t.getUniqueId()]=t};this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeCentre,t),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeLeft,t),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeRight,t)},t.prototype.isDisplayed=function(e){return this.displayedColumnsAndGroupsMap[e.getUniqueId()]===e},t.prototype.updateOpenClosedVisibilityInColumnGroups=function(){var e=this.getAllDisplayedTrees();this.columnUtils.depthFirstAllColumnTreeSearch(e,(function(e){e instanceof Ce&&e.calculateDisplayedColumns()}))},t.prototype.getGroupAutoColumns=function(){return this.groupAutoColumns},t.prototype.createGroupAutoColumnsIfNeeded=function(){if(this.autoGroupsNeedBuilding){this.autoGroupsNeedBuilding=!1;var e=this.gridOptionsWrapper.isGroupUseEntireRow(this.pivotMode),t=this.pivotMode?this.gridOptionsWrapper.isPivotSuppressAutoColumn():this.gridOptionsWrapper.isGroupSuppressAutoColumn();if((this.rowGroupColumns.length>0||this.usingTreeData)&&!t&&!e){var r=this.groupAutoColumns||[],n=this.autoGroupColService.createAutoGroupColumns(r,this.rowGroupColumns);(!this.autoColsEqual(n,this.groupAutoColumns)||this.forceRecreateAutoGroups)&&(this.groupAutoColumns=n)}else this.groupAutoColumns=null}},t.prototype.autoColsEqual=function(e,t){return ce(e,t,(function(e,t){return e.getColId()===t.getColId()}))},t.prototype.getWidthOfColsInList=function(e){return e.reduce((function(e,t){return e+t.getActualWidth()}),0)},t.prototype.getGridBalancedTree=function(){return this.gridBalancedTree},t.prototype.hasFloatingFilters=function(){return!!this.gridColumns&&this.gridColumns.some((function(e){return e.getColDef().floatingFilter}))},t.prototype.getFirstDisplayedColumn=function(){var e=this.gridOptionsWrapper.isEnableRtl(),t=["getDisplayedLeftColumns","getDisplayedCenterColumns","getDisplayedRightColumns"];e&&t.reverse();for(var r=0;r<t.length;r++){var n=this[t[r]]();if(n.length)return e?ue(n):n[0]}return null},et([K("expressionService")],t.prototype,"expressionService",void 0),et([K("columnFactory")],t.prototype,"columnFactory",void 0),et([K("displayedGroupCreator")],t.prototype,"displayedGroupCreator",void 0),et([K("ctrlsService")],t.prototype,"ctrlsService",void 0),et([K("autoWidthCalculator")],t.prototype,"autoWidthCalculator",void 0),et([K("columnUtils")],t.prototype,"columnUtils",void 0),et([K("columnAnimationService")],t.prototype,"columnAnimationService",void 0),et([K("autoGroupColService")],t.prototype,"autoGroupColService",void 0),et([q("aggFuncService")],t.prototype,"aggFuncService",void 0),et([q("valueCache")],t.prototype,"valueCache",void 0),et([q("animationFrameService")],t.prototype,"animationFrameService",void 0),et([K("rowModel")],t.prototype,"rowModel",void 0),et([K("columnApi")],t.prototype,"columnApi",void 0),et([K("gridApi")],t.prototype,"gridApi",void 0),et([K("sortController")],t.prototype,"sortController",void 0),et([K("columnDefFactory")],t.prototype,"columnDefFactory",void 0),et([U],t.prototype,"init",null),et([tt(0,Z("loggerFactory"))],t.prototype,"setBeans",null),t=et([X("columnModel")],t)}(Le),at=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),st=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},lt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return at(t,e),t.prototype.calculateColMinWidth=function(e){return null!=e.minWidth?e.minWidth:this.gridOptionsWrapper.getMinColWidth()},t.prototype.calculateColMaxWidth=function(e){return null!=e.maxWidth?e.maxWidth:this.gridOptionsWrapper.getMaxColWidth()||Number.MAX_SAFE_INTEGER},t.prototype.calculateColInitialWidth=function(e){var t,r=this.calculateColMinWidth(e),n=this.calculateColMaxWidth(e),o=l(e.width),i=l(e.initialWidth);return t=null!=o?o:null!=i?i:this.gridOptionsWrapper.getColWidth(),Math.max(Math.min(t,n),r)},t.prototype.getOriginalPathForColumn=function(e,t){var r=[],n=!1;return function t(o,i){for(var a=0;a<o.length;a++){if(n)return;var s=o[a];if(s instanceof we)t(s.getChildren(),i+1),r[i]=s;else s===e&&(n=!0)}}(t,0),n?r:null},t.prototype.depthFirstOriginalTreeSearch=function(e,t,r){var n=this;t&&t.forEach((function(t){t instanceof we&&n.depthFirstOriginalTreeSearch(t,t.getChildren(),r),r(t,e)}))},t.prototype.depthFirstAllColumnTreeSearch=function(e,t){var r=this;e&&e.forEach((function(e){e instanceof Ce&&r.depthFirstAllColumnTreeSearch(e.getChildren(),t),t(e)}))},t.prototype.depthFirstDisplayedColumnTreeSearch=function(e,t){var r=this;e&&e.forEach((function(e){e instanceof Ce&&r.depthFirstDisplayedColumnTreeSearch(e.getDisplayedChildren(),t),t(e)}))},t=st([X("columnUtils")],t)}(Le),ut=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ct=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},pt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ut(t,e),t.prototype.createDisplayedGroups=function(e,t,r,n,o){var i,a,s=this,l=[],u=this.mapOldGroupsById(o);return e.forEach((function(e){for(var o=s.getOriginalPathForColumn(t,e),c=[],p=!a,d=0;d<o.length;d++)if(p||o[d]!==a[d]){var h=s.createColumnGroup(o[d],r,u,n);c[d]=h,0==d?l.push(h):c[d-1].addChild(h)}else c[d]=i[d];0===c.length?l.push(e):ue(c).addChild(e);i=c,a=o})),this.setupParentsIntoColumns(l,null),l},t.prototype.createColumnGroup=function(e,t,r,n){var i=e.getGroupId(),a=t.getInstanceIdForKey(i),s=r[Ce.createUniqueId(i,a)];return s&&s.getProvidedColumnGroup()!==e&&(s=null),o(s)?s.reset():(s=new Ce(e,i,a,n),this.context.createBean(s)),s},t.prototype.mapOldGroupsById=function(e){var t={};return e&&function e(r){r.forEach((function(r){if(r instanceof Ce){var n=r;t[r.getUniqueId()]=n,e(n.getChildren())}}))}(e),t},t.prototype.setupParentsIntoColumns=function(e,t){var r=this;e.forEach((function(e){if(e.setParent(t),e instanceof Ce){var n=e;r.setupParentsIntoColumns(n.getChildren(),n)}}))},t.prototype.getOriginalPathForColumn=function(e,t){var r=[],n=!1;return function e(o,i){for(var a=0;a<o.length;a++){if(n)return;var s=o[a];s instanceof we?(e(s.getChildren(),i+1),r[i]=s):s===t&&(n=!0)}}(e,0),n?r:(console.warn("AG Grid: could not get path"),null)},t=ct([X("displayedGroupCreator")],t)}(Le),dt=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},ht=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(dt(arguments[t]));return e},ft=function(){function e(){}return e.STRING_PROPERTIES=["sortingOrder","rowClass","rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","serverSideStoreType","groupDisplayType","treeDataDisplayType"],e.OBJECT_PROPERTIES=["components","frameworkComponents","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultExportParams","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","colResizeDefault","statusBar","sideBar","chartThemeOverrides","customChartThemes"],e.ARRAY_PROPERTIES=["alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes"],e.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","colWidth","headerHeight","groupHeaderHeight","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","minColWidth","maxColWidth","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","scrollbarWidth","batchUpdateWaitMillis","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","tabIndex"],e.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellSelection","suppressCellFocus","suppressHorizontalScroll","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","angularCompileRows","angularCompileFilters","groupSuppressAutoColumn","groupSelectsChildren","groupIncludeFooter","groupIncludeTotalFooter","groupUseEntireRow","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressParentsInRowNodes","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","rememberGroupStateWhenNewData","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","suppressAggAtRootLevel","suppressFocusAfterRefresh","functionsPassive","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","deprecatedEmbedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupMultiAutoColumn","pagination","stopEditingWhenGridLosesFocus","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","deltaRowDataMode","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","treeData","masterDetail","suppressMultiRangeSelection","enterMovesDownAfterEdit","enterMovesDown","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressEnterpriseResetOnNewColumns","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","serverSideSortingAlwaysResets","suppressSetColumnStateEvents","suppressColumnStateEvents","enableCharts","deltaColumnMode","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","immutableData","immutableColumns","pivotSuppressAutoColumn","suppressExpandablePivotGroups","applyColumnDefOrder","debounceVerticalScrollbar","detailRowAutoHeight","serverSideFilteringAlwaysResets","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","maintainColumnOrder","groupMaintainOrder","columnHoverHighlight","reactUi","suppressReactUi","readOnlyEdit","suppressRowVirtualisation","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges"],e.FUNCTION_PROPERTIES=["localeTextFunc","getLocaleText","groupRowInnerRenderer","groupRowInnerRendererFramework","groupRowRenderer","groupRowRendererFramework","isExternalFilterPresent","getRowHeight","doesExternalFilterPass","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","groupRowAggNodes","getGroupRowAgg","getRowNodeId","isFullWidthCell","isFullWidthRow","fullWidthCellRenderer","fullWidthCellRendererFramework","processSecondaryColDef","processSecondaryColGroupDef","getBusinessKeyForNode","sendToClipboard","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","loadingCellRenderer","loadingCellRendererFramework","loadingOverlayComponent","loadingOverlayComponentFramework","noRowsOverlayComponent","noRowsOverlayComponentFramework","detailCellRenderer","detailCellRendererFramework","isRowMaster","isRowSelectable","postSort","postSortRows","processHeaderForClipboard","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","suppressKeyboardEvent","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideStoreParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","defaultGroupSortComparator","defaultGroupOrderComparator","initialGroupOrderComparator","loadingCellRendererSelector","getRowId","groupAggFiltering"],e.ALL_PROPERTIES=ht(e.ARRAY_PROPERTIES,e.OBJECT_PROPERTIES,e.STRING_PROPERTIES,e.NUMBER_PROPERTIES,e.FUNCTION_PROPERTIES,e.BOOLEAN_PROPERTIES),e.FRAMEWORK_PROPERTIES=["__ob__","__v_skip","__metadata__","mappedColumnProperties","hasChildColumns","toColDef","createColDefFromGridColumn"],e}(),gt=function(){return gt=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},gt.apply(this,arguments)},yt=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},vt=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(yt(arguments[t]));return e},mt=function(){function e(){}return e.getEventCallbacks=function(){return e.EVENT_CALLBACKS||(e.EVENT_CALLBACKS=e.EVENTS.map((function(t){return e.getCallbackForEvent(t)}))),e.EVENT_CALLBACKS},e.copyAttributesToGridOptions=function(t,r,n){"object"!==typeof t&&(t={});var o=t,i=function(e){return"undefined"!==typeof r[e]};return i("groupAggFiltering")&&"function"!==typeof r.groupAggFiltering&&(o.groupAggFiltering=e.toBoolean(r.groupAggFiltering),delete r.groupAggFiltering),vt(e.ARRAY_PROPERTIES,e.STRING_PROPERTIES,e.OBJECT_PROPERTIES,e.FUNCTION_PROPERTIES,e.getEventCallbacks()).filter(i).forEach((function(e){return o[e]=r[e]})),e.BOOLEAN_PROPERTIES.filter(i).forEach((function(t){return o[t]=e.toBoolean(r[t])})),e.NUMBER_PROPERTIES.filter(i).forEach((function(t){return o[t]=e.toNumber(r[t])})),t},e.getCallbackForEvent=function(e){return!e||e.length<2?e:"on"+e[0].toUpperCase()+e.substr(1)},e.processOnChange=function(t,r,n,o){if(t){var i=gt({},t),a=r,s=function(e){return i[e]};s("groupAggFiltering")&&("function"===typeof i.groupAggFiltering?a.groupAggFiltering=i.groupAggFiltering:a.groupAggFiltering=e.toBoolean(i.groupAggFiltering),delete i.groupAggFiltering),i.rowClass&&(n.setRowClass(i.rowClass.currentValue),delete i.rowClass),vt(e.ARRAY_PROPERTIES,e.OBJECT_PROPERTIES,e.STRING_PROPERTIES,e.getEventCallbacks()).filter(s).forEach((function(e){return a[e]=i[e].currentValue})),e.BOOLEAN_PROPERTIES.filter(s).forEach((function(t){return a[t]=e.toBoolean(i[t].currentValue)})),e.NUMBER_PROPERTIES.filter(s).forEach((function(t){return a[t]=e.toNumber(i[t].currentValue)})),i.enableCellTextSelection&&(n.setEnableCellTextSelection(e.toBoolean(i.enableCellTextSelection.currentValue)),delete i.enableCellTextSelection),i.quickFilterText&&(n.setQuickFilter(i.quickFilterText.currentValue),delete i.quickFilterText),i.autoGroupColumnDef&&(n.setAutoGroupColumnDef(i.autoGroupColumnDef.currentValue,"gridOptionsChanged"),delete i.autoGroupColumnDef),i.columnDefs&&(n.setColumnDefs(i.columnDefs.currentValue,"gridOptionsChanged"),delete i.columnDefs),i.defaultColDef&&(n.setDefaultColDef(i.defaultColDef.currentValue,"gridOptionsChanged"),delete i.defaultColDef),i.paginationPageSize&&(n.paginationSetPageSize(e.toNumber(i.paginationPageSize.currentValue)),delete i.paginationPageSize),i.pivotMode&&(o.setPivotMode(e.toBoolean(i.pivotMode.currentValue)),delete i.pivotMode),i.groupRemoveSingleChildren&&(n.setGroupRemoveSingleChildren(e.toBoolean(i.groupRemoveSingleChildren.currentValue)),delete i.groupRemoveSingleChildren),i.suppressRowDrag&&(n.setSuppressRowDrag(e.toBoolean(i.suppressRowDrag.currentValue)),delete i.suppressRowDrag),i.suppressMoveWhenRowDragging&&(n.setSuppressMoveWhenRowDragging(e.toBoolean(i.suppressMoveWhenRowDragging.currentValue)),delete i.suppressMoveWhenRowDragging),i.suppressRowClickSelection&&(n.setSuppressRowClickSelection(e.toBoolean(i.suppressRowClickSelection.currentValue)),delete i.suppressRowClickSelection),i.suppressClipboardPaste&&(n.setSuppressClipboardPaste(e.toBoolean(i.suppressClipboardPaste.currentValue)),delete i.suppressClipboardPaste),i.headerHeight&&(n.setHeaderHeight(e.toNumber(i.headerHeight.currentValue)),delete i.headerHeight);var l=n;Object.keys(i).forEach((function(e){var r="set"+e.charAt(0).toUpperCase()+e.substring(1);l[r]&&l[r](t[e].currentValue)}));var u={type:He.EVENT_COMPONENT_STATE_CHANGED,api:r.api,columnApi:r.columnApi};f(t,(function(e,t){u[e]=t})),n.dispatchEvent(u)}},e.toBoolean=function(e){return"boolean"===typeof e?e:"string"===typeof e&&("TRUE"===e.toUpperCase()||""==e)},e.toNumber=function(e){return"number"===typeof e?e:"string"===typeof e?Number(e):void 0},e.EVENTS=[],e.PUBLIC_EVENTS=[],e.EXCLUDED_INTERNAL_EVENTS=[],e.STRING_PROPERTIES=ft.STRING_PROPERTIES,e.OBJECT_PROPERTIES=ft.OBJECT_PROPERTIES,e.ARRAY_PROPERTIES=ft.ARRAY_PROPERTIES,e.NUMBER_PROPERTIES=ft.NUMBER_PROPERTIES,e.BOOLEAN_PROPERTIES=ft.BOOLEAN_PROPERTIES,e.FUNCTION_PROPERTIES=ft.FUNCTION_PROPERTIES,e.ALL_PROPERTIES=ft.ALL_PROPERTIES,e}();mt.EVENTS=p(He),mt.EXCLUDED_INTERNAL_EVENTS=[He.EVENT_SCROLLBAR_WIDTH_CHANGED,He.EVENT_CHECKBOX_CHANGED,He.EVENT_HEIGHT_SCALE_CHANGED,He.EVENT_BODY_HEIGHT_CHANGED,He.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,He.EVENT_SCROLL_VISIBILITY_CHANGED,He.EVENT_COLUMN_HOVER_CHANGED,He.EVENT_FLASH_CELLS,He.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,He.EVENT_DISPLAYED_ROWS_CHANGED,He.EVENT_LEFT_PINNED_WIDTH_CHANGED,He.EVENT_RIGHT_PINNED_WIDTH_CHANGED,He.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,He.EVENT_POPUP_TO_FRONT,He.EVENT_KEYBOARD_FOCUS,He.EVENT_MOUSE_FOCUS,He.EVENT_STORE_UPDATED,He.EVENT_COLUMN_PANEL_ITEM_DRAG_START,He.EVENT_COLUMN_PANEL_ITEM_DRAG_END,He.EVENT_FILL_START,He.EVENT_FILL_END,He.EVENT_FULL_WIDTH_ROW_FOCUSED],mt.PUBLIC_EVENTS=mt.EVENTS.filter((function(e){return!ye(mt.EXCLUDED_INTERNAL_EVENTS,e)}));var bt=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ct=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},wt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.componentsMappedByName={},t}return bt(t,e),t.prototype.setupComponents=function(e){var t=this;e&&e.forEach((function(e){return t.addComponent(e)}))},t.prototype.addComponent=function(e){var t=e.componentName.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase().toUpperCase();this.componentsMappedByName[t]=e.componentClass},t.prototype.getComponentClass=function(e){return this.componentsMappedByName[e]},t=Ct([X("agStackComponentsRegistry")],t)}(Le),xt=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},St=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(xt(arguments[t]));return e},Et=function(){function e(){}return e.STRING_PROPERTIES=["headerName","columnGroupShow","headerClass","toolPanelClass","headerValueGetter","pivotKeys","groupId","colId","sort","initialSort","field","type","tooltipComponent","tooltipField","headerTooltip","cellClass","showRowGroup","filter","initialAggFunc","defaultAggFunc","aggFunc","pinned","initialPinned","chartDataType","cellEditorPopupPosition"],e.OBJECT_PROPERTIES=["headerGroupComponent","headerGroupComponentFramework","headerGroupComponentParams","cellStyle","cellRenderer","cellRendererParams","cellRendererFramework","cellEditor","cellEditorFramework","cellEditorParams","pinnedRowCellRendererFramework","pinnedRowCellRendererParams","filterFramework","filterParams","pivotValueColumn","headerComponent","headerComponentFramework","headerComponentParams","floatingFilterComponent","floatingFilterComponentParams","floatingFilterComponentFramework","floatingFilterFramework","tooltipComponent","tooltipComponentParams","tooltipComponentFramework","refData","columnsMenuParams"],e.ARRAY_PROPERTIES=["children","sortingOrder","allowedAggFuncs","menuTabs","pivotTotalColumnIds","cellClassRules","icons"],e.NUMBER_PROPERTIES=["sortedAt","sortIndex","initialSortIndex","flex","initialFlex","width","initialWidth","minWidth","maxWidth","rowGroupIndex","initialRowGroupIndex","pivotIndex","initialPivotIndex"],e.BOOLEAN_PROPERTIES=["suppressCellFlash","suppressColumnsToolPanel","suppressFiltersToolPanel","openByDefault","marryChildren","hide","initialHide","rowGroup","initialRowGroup","pivot","initialPivot","checkboxSelection","headerCheckboxSelection","headerCheckboxSelectionFilteredOnly","suppressMenu","suppressMovable","lockPosition","lockVisible","lockPinned","unSortIcon","suppressSizeToFit","suppressAutoSize","enableRowGroup","enablePivot","enableValue","editable","suppressPaste","suppressNavigable","enableCellChangeFlash","rowDrag","dndSource","autoHeight","wrapText","sortable","resizable","singleClickEdit","floatingFilter","cellEditorPopup","suppressFillHandle"],e.FUNCTION_PROPERTIES=["dndSourceOnRowDrag","valueGetter","valueSetter","filterValueGetter","keyCreator","pinnedRowCellRenderer","valueFormatter","pinnedRowValueFormatter","valueParser","comparator","equals","pivotComparator","suppressKeyboardEvent","suppressHeaderKeyboardEvent","colSpan","rowSpan","getQuickFilterText","newValueHandler","onCellValueChanged","onCellClicked","onCellDoubleClicked","onCellContextMenu","rowDragText","tooltipValueGetter","tooltipComponent","tooltipComponentFramework","cellRendererSelector","cellEditorSelector"],e.ALL_PROPERTIES=St(e.ARRAY_PROPERTIES,e.OBJECT_PROPERTIES,e.STRING_PROPERTIES,e.NUMBER_PROPERTIES,e.FUNCTION_PROPERTIES,e.BOOLEAN_PROPERTIES),e.FRAMEWORK_PROPERTIES=["__ob__","__v_skip","__metadata__","mappedColumnProperties","hasChildColumns","toColDef","createColDefFromGridColumn"],e}(),Ot=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},_t=function(){function e(e,t,r,n){void 0===n&&(n=1),this.r=Math.min(1,Math.max(0,e||0)),this.g=Math.min(1,Math.max(0,t||0)),this.b=Math.min(1,Math.max(0,r||0)),this.a=Math.min(1,Math.max(0,n||0))}return e.fromString=function(t){if(t.indexOf("#")>=0)return e.fromHexString(t);var r=e.nameToHex[t];if(r)return e.fromHexString(r);if(t.indexOf("rgb")>=0)return e.fromRgbaString(t);throw new Error("Invalid color string: '"+t+"'")},e.parseHex=function(e){var t;switch((e=e.replace(/ /g,"").slice(1)).length){case 6:case 8:t=[];for(var r=0;r<e.length;r+=2)t.push(parseInt(""+e[r]+e[r+1],16));break;case 3:case 4:t=e.split("").map((function(e){return parseInt(e,16)})).map((function(e){return e+16*e}))}if(t.length>=3&&t.every((function(e){return e>=0})))return 3===t.length&&t.push(255),t},e.fromHexString=function(t){var r=e.parseHex(t);if(r){var n=Ot(r,4);return new e(n[0]/255,n[1]/255,n[2]/255,n[3]/255)}throw new Error("Malformed hexadecimal color string: '"+t+"'")},e.stringToRgba=function(e){for(var t=Ot([NaN,NaN],2),r=t[0],n=t[1],o=0;o<e.length;o++){var i=e[o];if(r||"("!==i){if(")"===i){n=o;break}}else r=o}var a=r&&n&&e.substring(r+1,n);if(a){var s=a.split(","),l=[];for(o=0;o<s.length;o++){var u=s[o],c=parseFloat(u);if(isNaN(c))return;u.indexOf("%")>=0?(c=Math.max(0,Math.min(100,c)),c/=100):3===o?c=Math.max(0,Math.min(1,c)):(c=Math.max(0,Math.min(255,c)),c/=255),l.push(c)}return l}},e.fromRgbaString=function(t){var r=e.stringToRgba(t);if(r){if(3===r.length)return new e(r[0],r[1],r[2]);if(4===r.length)return new e(r[0],r[1],r[2],r[3])}throw new Error("Malformed rgb/rgba color string: '"+t+"'")},e.fromArray=function(t){if(4===t.length)return new e(t[0],t[1],t[2],t[3]);if(3===t.length)return new e(t[0],t[1],t[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")},e.fromHSB=function(t,r,n,o){void 0===o&&(o=1);var i=e.HSBtoRGB(t,r,n);return new e(i[0],i[1],i[2],o)},e.padHex=function(e){return 1===e.length?"0"+e:e},e.prototype.toHexString=function(){var t="#"+e.padHex(Math.round(255*this.r).toString(16))+e.padHex(Math.round(255*this.g).toString(16))+e.padHex(Math.round(255*this.b).toString(16));return this.a<1&&(t+=e.padHex(Math.round(255*this.a).toString(16))),t},e.prototype.toRgbaString=function(e){void 0===e&&(e=3);var t=[Math.round(255*this.r),Math.round(255*this.g),Math.round(255*this.b)],r=Math.pow(10,e);return 1!==this.a?(t.push(Math.round(this.a*r)/r),"rgba("+t.join(", ")+")"):"rgb("+t.join(", ")+")"},e.prototype.toString=function(){return 1===this.a?this.toHexString():this.toRgbaString()},e.prototype.toHSB=function(){return e.RGBtoHSB(this.r,this.g,this.b)},e.RGBtoHSB=function(e,t,r){var n=Math.min(e,t,r),o=Math.max(e,t,r),i=NaN;if(n!==o){var a=o-n,s=(o-e)/a,l=(o-t)/a,u=(o-r)/a;i=e===o?u-l:t===o?2+s-u:4+l-s,(i/=6)<0&&(i+=1)}return[360*i,0!==o?(o-n)/o:0,o]},e.HSBtoRGB=function(e,t,r){isNaN(e)&&(e=0),e=(e%360+360)%360/360;var n=0,o=0,i=0;if(0===t)n=o=i=r;else{var a=6*(e-Math.floor(e)),s=a-Math.floor(a),l=r*(1-t),u=r*(1-t*s),c=r*(1-t*(1-s));switch(a>>0){case 0:n=r,o=c,i=l;break;case 1:n=u,o=r,i=l;break;case 2:n=l,o=r,i=c;break;case 3:n=l,o=u,i=r;break;case 4:n=c,o=l,i=r;break;case 5:n=r,o=l,i=u}}return[n,o,i]},e.prototype.derive=function(t,r,n,o){var i=e.RGBtoHSB(this.r,this.g,this.b),a=i[2];0==a&&n>1&&(a=.05);var s=((i[0]+t)%360+360)%360,l=Math.max(Math.min(i[1]*r,1),0);a=Math.max(Math.min(a*n,1),0);var u=Math.max(Math.min(this.a*o,1),0),c=e.HSBtoRGB(s,l,a);return c.push(u),e.fromArray(c)},e.prototype.brighter=function(){return this.derive(0,1,1/.7,1)},e.prototype.darker=function(){return this.derive(0,1,.7,1)},e.nameToHex=Object.freeze({aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"}),e}();function Pt(e,t){void 0===t&&(t=",");var r=[],n=function(e){return"\r"===e||"\n"===e},o=!1;if(""===e)return[[""]];for(var i,a,s,l=function(l,u,c){var p=e[c-1],d=e[c],h=e[c+1],f=function(){r[l]||(r[l]=[]),r[l][u]||(r[l][u]="")};if(f(),'"'===d){if(o)return'"'===h?(r[l][u]+='"',c++):o=!1,i=l,a=u,s=c,"continue";if(void 0===p||p===t||n(p))return o=!0,i=l,a=u,s=c,"continue"}if(!o){if(d===t)return u++,f(),i=l,a=u,s=c,"continue";if(n(d))return u=0,l++,f(),"\r"===d&&"\n"===h&&c++,i=l,a=u,s=c,"continue"}r[l][u]+=d,i=l,a=u,s=c},u=0,c=0,p=0;p<e.length;p++)l(u,c,p),u=i,c=a,p=s;return r}var Rt,At,Tt,Dt,Mt,kt,Nt,It,Lt=Object.freeze({stringToArray:Pt}),Ft=function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function Gt(){return void 0===Tt&&(void 0===At&&(At=!!document.documentMode),Tt=!At&&!!window.StyleMedia),Tt}function Bt(){return void 0===Rt&&(Rt=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),Rt}function Wt(){if(void 0===Dt){var e=window;Dt=!!e.chrome&&(!!e.chrome.webstore||!!e.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return Dt}function Ht(){if(void 0===Mt){var e=window;Mt="undefined"!==typeof e.InstallTrigger}return Mt}function jt(){return void 0===kt&&(kt=(/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!window.MSStream),kt}function Vt(e){if(!e)return null;var t=e.tabIndex,r=e.getAttribute("tabIndex");return-1!==t||null!==r&&(""!==r||Ht())?t.toString():null}function zt(){if(!document.body)return-1;var e=1e6,t=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,r=document.createElement("div");for(document.body.appendChild(r);;){var n=2*e;if(r.style.height=n+"px",n>t||r.clientHeight!==n)break;e=n}return document.body.removeChild(r),e}function Ut(){return null==It&&Yt(),It}function Yt(){var e=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",e.appendChild(t);var r=t.offsetWidth-t.clientWidth;0===r&&0===t.clientWidth&&(r=null),t.parentNode&&t.parentNode.removeChild(t),null!=r&&(It=r,Nt=0===r)}function Xt(){return null==Nt&&Yt(),Nt}function Kt(){return document.body?document.body.clientWidth:window.innerHeight?window.innerWidth:document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:-1}function qt(){return document.body?document.body.clientHeight:window.innerHeight?window.innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:-1}var $t,Zt=Object.freeze({isBrowserEdge:Gt,isBrowserSafari:Bt,isBrowserChrome:Wt,isBrowserFirefox:Ht,isIOSUserAgent:jt,getTabIndex:Vt,getMaxDivHeight:zt,getScrollbarWidth:Ut,isInvisibleScrollbar:Xt,hasOverflowScrolling:function(){var e,t,r=["webkit","moz","o","ms"],n=document.createElement("div"),o=!1;document.getElementsByTagName("body")[0].appendChild(n),n.setAttribute("style",r.map((function(e){return"-"+e+"-overflow-scrolling: touch"})).concat("overflow-scrolling: touch").join(";"));var i=window.getComputedStyle(n);if("touch"===i.overflowScrolling&&(o=!0),!o)try{for(var a=Ft(r),s=a.next();!s.done;s=a.next())if("touch"===i[s.value+"OverflowScrolling"]){o=!0;break}}catch(l){e={error:l}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return n.parentNode&&n.parentNode.removeChild(n),o},getBodyWidth:Kt,getBodyHeight:qt});function Qt(e){var t=Element.prototype.matches||Element.prototype.msMatchesSelector,r=t.call(e,ne.INPUT_SELECTOR),n=t.call(e,ne.FOCUSABLE_EXCLUDE),o=hr(e);return r&&!n&&o}function Jt(e,t){e.classList.toggle("ag-hidden",!t)}function er(e,t){e.classList.toggle("ag-invisible",!t)}function tr(e,t){var r="disabled",n=t?function(e){return e.setAttribute(r,"")}:function(e){return e.removeAttribute(r)};n(e),kr(e.querySelectorAll("input"),(function(e){return n(e)}))}function rr(e,t,r){for(var n=0;e;){if(e.classList.contains(t))return!0;if(e=e.parentElement,r&&++n>r)break}return!1}function nr(e){var t=window.getComputedStyle(e),r=t.height,n=t.width,o=t.paddingTop,i=t.paddingRight,a=t.paddingBottom,s=t.paddingLeft,l=t.marginTop,u=t.marginRight,c=t.marginBottom,p=t.marginLeft,d=t.boxSizing;return{height:parseFloat(r),width:parseFloat(n),paddingTop:parseFloat(o),paddingRight:parseFloat(i),paddingBottom:parseFloat(a),paddingLeft:parseFloat(s),marginTop:parseFloat(l),marginRight:parseFloat(u),marginBottom:parseFloat(c),marginLeft:parseFloat(p),boxSizing:d}}function or(e){var t=nr(e);return"border-box"===t.boxSizing?t.height-t.paddingTop-t.paddingBottom:t.height}function ir(e){var t=nr(e);return"border-box"===t.boxSizing?t.width-t.paddingLeft-t.paddingRight:t.width}function ar(e){var t=nr(e),r=t.marginBottom+t.marginTop;return Math.ceil(e.offsetHeight+r)}function sr(e){var t=nr(e),r=t.marginLeft+t.marginRight;return Math.ceil(e.offsetWidth+r)}function lr(){if("boolean"===typeof $t)return $t;var e=document.createElement("div");return e.style.direction="rtl",e.style.width="1px",e.style.height="1px",e.style.position="fixed",e.style.top="0px",e.style.overflow="hidden",e.dir="rtl",e.innerHTML='<div style="width: 2px">\n            <span style="display: inline-block; width: 1px"></span>\n            <span style="display: inline-block; width: 1px"></span>\n        </div>',document.body.appendChild(e),e.scrollLeft=1,$t=0===Math.floor(e.scrollLeft),document.body.removeChild(e),$t}function ur(e,t){var r=e.scrollLeft;return t&&(r=Math.abs(r),Wt()&&!lr()&&(r=e.scrollWidth-e.clientWidth-r)),r}function cr(e,t,r){r&&(lr()?t*=-1:(Bt()||Wt())&&(t=e.scrollWidth-e.clientWidth-t)),e.scrollLeft=t}function pr(e){for(;e&&e.firstChild;)e.removeChild(e.firstChild)}function dr(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function hr(e){return null!==e.offsetParent}function fr(e){if(null!==DOMParser)return(new DOMParser).parseFromString(e,"text/html").body.firstChild;var t=document.createElement("div");return t.innerHTML=(e||"").trim(),t.firstChild}function gr(e){return e&&e.clientHeight?e.clientHeight:0}function yr(e){return e&&e.clientWidth?e.clientWidth:0}function vr(e,t,r){r&&r.nextSibling===t||(r?r.nextSibling?e.insertBefore(t,r.nextSibling):e.appendChild(t):e.firstChild&&e.firstChild!==t&&e.insertAdjacentElement("afterbegin",t))}function mr(e,t){for(var r=0;r<t.length;r++){var n=t[r],o=e.children[r];o!==n&&e.insertBefore(n,o)}}function br(e,t,r){r?r.insertAdjacentElement("afterend",t):e.firstChild?e.insertAdjacentElement("afterbegin",t):e.appendChild(t)}function Cr(e,t){t&&Object.keys(t).forEach((function(r){var n=Ye(r);n&&(e.style[n]=t[r])}))}function wr(e){return e.clientWidth<e.scrollWidth}function xr(e){return e.clientHeight<e.scrollHeight}function Sr(e,t){"flex"===t?(e.style.removeProperty("width"),e.style.removeProperty("minWidth"),e.style.removeProperty("maxWidth"),e.style.flex="1 1 auto"):Er(e,t)}function Er(e,t){t=_r(t),e.style.width=t.toString(),e.style.maxWidth=t.toString(),e.style.minWidth=t.toString()}function Or(e,t){t=_r(t),e.style.height=t.toString(),e.style.maxHeight=t.toString(),e.style.minHeight=t.toString()}function _r(e){return"number"===typeof e?e+"px":e}function Pr(e){return"function"===typeof Node?e instanceof Node:e&&"object"===typeof e&&"number"===typeof e.nodeType&&"string"===typeof e.nodeName}function Rr(e){return"function"===typeof HTMLElement?e instanceof HTMLElement:e&&O(e)&&1===e.nodeType&&"string"===typeof e.nodeName}function Ar(e){return Pr(e)||Rr(e)}function Tr(e){if(null==e)return[];var t=[];return kr(e,(function(e){return t.push(e)})),t}function Dr(e,t){if(e)for(var r=0;r<e.length;r++){var n=e[r];t(n.name,n.value)}}function Mr(e,t,r){null==r?e.removeAttribute(t):e.setAttribute(t,r.toString())}function kr(e,t){if(null!=e)for(var r=0;r<e.length;r++)t(e[r])}var Nr=Object.freeze({radioCssClass:function(e,t,r){for(var n=e.parentElement,o=n&&n.firstChild;o;)t&&o.classList.toggle(t,o===e),r&&o.classList.toggle(r,o!==e),o=o.nextSibling},isFocusableFormField:Qt,setDisplayed:Jt,setVisible:er,setDisabled:tr,isElementChildOfClass:rr,getElementSize:nr,getInnerHeight:or,getInnerWidth:ir,getAbsoluteHeight:ar,getAbsoluteWidth:sr,isRtlNegativeScroll:lr,getScrollLeft:ur,setScrollLeft:cr,clearElement:pr,removeElement:function(e,t){dr(e.querySelector(t))},removeFromParent:dr,isVisible:hr,loadTemplate:fr,appendHtml:function(e,t){e.lastChild?e.insertAdjacentHTML("afterbegin",t):e.innerHTML=t},getElementAttribute:function(e,t){return e.attributes&&e.attributes[t]?e.attributes[t].value:null},offsetHeight:gr,offsetWidth:yr,ensureDomOrder:vr,setDomChildOrder:mr,insertWithDomOrder:br,prependDC:function(e,t){o(e.firstChild)?e.insertBefore(t,e.firstChild):e.appendChild(t)},addStylesToElement:Cr,isHorizontalScrollShowing:wr,isVerticalScrollShowing:xr,setElementWidth:Sr,setFixedWidth:Er,setElementHeight:function(e,t){"flex"===t?(e.style.removeProperty("height"),e.style.removeProperty("minHeight"),e.style.removeProperty("maxHeight"),e.style.flex="1 1 auto"):Or(e,t)},setFixedHeight:Or,formatSize:_r,isNode:Pr,isElement:Rr,isNodeOrElement:Ar,copyNodeList:Tr,iterateNamedNodeMap:Dr,setCheckboxState:function(e,t){"boolean"===typeof t?(e.checked=t,e.indeterminate=!1):e.indeterminate=!0},addOrRemoveAttribute:Mr,nodeListForEach:kr});var Ir=Object.freeze({getNameOfClass:function(e){var t=e.toString(),r=/function (.{1,})\(/.exec(t);return r&&r.length>1?r[1]:""},findLineByLeastSquares:function(e){var t=e.length,r=0;if(t<=1)return e;for(var n=0;n<e.length;n++){var o=e[n],i=o.toString().split("e-");i.length>1?r=Math.max(r,parseInt(i[1],10)):Math.floor(o)!==o&&(r=Math.max(r,o.toString().split(".")[1].length))}for(var a=0,s=0,l=0,u=0,c=0,p=0;p<t;p++)a+=p,s+=c=e[p],u+=p*p,l+=p*c;var d=(t*l-a*s)/(t*u-a*a),h=s/t-d*a/t,f=[];for(p=0;p<=t;p++)f.push(parseFloat((p*d+h).toFixed(r)));return f},cssStyleObjectToMarkup:function(e){if(!e)return"";var t=[];return f(e,(function(e,r){var n=Ue(e);t.push(n+": "+r+";")})),t.join(" ")},message:function(e){var t=document.createElement("div"),r=document.querySelector("#__ag__message");if(t.innerHTML=e,!r){r=fr('<div id="__ag__message" style="display: inline-block; position: absolute; top: 0px; left: 0px; color: white; background-color: black; z-index: 20; padding: 2px; border: 1px solid darkred; height: 200px; overflow-y: auto;"></div>'),document.body&&document.body.appendChild(r)}r.insertBefore(t,r.children[0])},bindCellRendererToHtmlElement:function(e,t){e.then((function(e){var r=e.getGui();null!=r&&("object"===typeof r?t.appendChild(r):t.innerHTML=r)}))}});function Lr(e,t,r){e.setAttribute(Gr(t),r.toString())}function Fr(e,t){e.removeAttribute(Gr(t))}function Gr(e){return"aria-"+e}function Br(e,t){t?e.setAttribute("role",t):e.removeAttribute("role")}function Wr(e){return e.isSortAscending()?"ascending":e.isSortDescending()?"descending":"none"}function Hr(e){return parseInt(e.getAttribute("aria-level"),10)}function jr(e){return parseInt(e.getAttribute("aria-posinset"),10)}function Vr(e,t){var r="label";t?Lr(e,r,t):Fr(e,r)}function zr(e,t){var r="labelledby";t?Lr(e,r,t):Fr(e,r)}function Ur(e,t){var r="description";t?Lr(e,r,t):Fr(e,r)}function Yr(e,t){var r="describedby";t?Lr(e,r,t):Fr(e,r)}function Xr(e,t){Lr(e,"level",t)}function Kr(e,t){Lr(e,"disabled",t)}function qr(e,t){Lr(e,"expanded",t)}function $r(e){Fr(e,"expanded")}function Zr(e,t){Lr(e,"setsize",t)}function Qr(e,t){Lr(e,"posinset",t)}function Jr(e,t){Lr(e,"multiselectable",t)}function en(e,t){Lr(e,"rowcount",t)}function tn(e,t){Lr(e,"rowindex",t)}function rn(e,t){Lr(e,"colcount",t)}function nn(e,t){Lr(e,"colindex",t)}function on(e,t){Lr(e,"colspan",t)}function an(e,t){Lr(e,"sort",t)}function sn(e){Fr(e,"sort")}function ln(e,t){var r="selected";t?Lr(e,r,t):Fr(e,r)}function un(e,t){Lr(e,"checked",void 0===t?"mixed":t)}var cn=Object.freeze({setAriaRole:Br,getAriaSortState:Wr,getAriaLevel:Hr,getAriaPosInSet:jr,getAriaDescribedBy:function(e){return e.getAttribute("aria-describedby")||""},setAriaLabel:Vr,setAriaLabelledBy:zr,setAriaDescription:Ur,setAriaDescribedBy:Yr,setAriaLevel:Xr,setAriaDisabled:Kr,setAriaExpanded:qr,removeAriaExpanded:$r,setAriaSetSize:Zr,setAriaPosInSet:Qr,setAriaMultiSelectable:Jr,setAriaRowCount:en,setAriaRowIndex:tn,setAriaColCount:rn,setAriaColIndex:nn,setAriaColSpan:on,setAriaSort:an,removeAriaSort:sn,setAriaSelected:ln,setAriaChecked:un});function pn(e,t){return e.toString().padStart(t,"0")}function dn(e,t){for(var r=[],n=e;n<=t;n++)r.push(n);return r}function hn(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function fn(e,t,r){return"number"!==typeof e?"":e.toString().replace(".",r).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+t)}var gn=Object.freeze({padStartWidthZeros:pn,createArrayOfNumbers:dn,isNumeric:hn,cleanNumber:function(e){return"string"===typeof e&&(e=parseInt(e,10)),"number"===typeof e?Math.floor(e):null},decToHex:function(e,t){for(var r="",n=0;n<t;n++)r+=String.fromCharCode(255&e),e>>>=8;return r},formatNumberTwoDecimalPlacesAndCommas:function(e,t,r){return"number"!==typeof e?"":fn(Math.round(100*e)/100,t,r)},formatNumberCommas:fn,sum:function(e){return null==e?null:e.reduce((function(e,t){return e+t}),0)}}),yn=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};function vn(e,t,r){if(void 0===t&&(t=!0),void 0===r&&(r="-"),!e)return null;var n=[e.getFullYear(),e.getMonth()+1,e.getDate()].map((function(e){return pn(e,2)})).join(r);return t&&(n+=" "+[e.getHours(),e.getMinutes(),e.getSeconds()].map((function(e){return pn(e,2)})).join(":")),n}function mn(e){if(!e)return null;var t=yn(e.split(" "),2),r=t[0],n=t[1];if(!r)return null;var o=r.split("-").map((function(e){return parseInt(e,10)}));if(3!==o.filter((function(e){return!isNaN(e)})).length)return null;var i=yn(o,3),a=i[0],s=i[1],l=i[2],u=new Date(a,s-1,l);if(u.getFullYear()!==a||u.getMonth()!==s-1||u.getDate()!==l)return null;if(!n||"00:00:00"===n)return u;var c=yn(n.split(":").map((function(e){return parseInt(e,10)})),3),p=c[0],d=c[1],h=c[2];return p>=0&&p<24&&u.setHours(p),d>=0&&d<60&&u.setMinutes(d),h>=0&&h<60&&u.setSeconds(h),u}var bn=Object.freeze({serialiseDate:vn,parseDateTimeFromString:mn});function Cn(e,t,r){var n={},o=e.filter((function(e){return!t.some((function(t){return t===e}))}));return o.length>0&&o.forEach((function(e){return n[e]=wn(e,r)})),n}function wn(e,t,r,n){var o=n?En:Sn,i=t.map((function(t){return{value:t,relevance:o(e.toLowerCase(),t.toLocaleLowerCase())}}));return i.sort((function(e,t){return t.relevance-e.relevance})),r&&(i=i.filter((function(e){return 0!==e.relevance}))),i.map((function(e){return e.value}))}function xn(e){var t,r,n,o=e.toLowerCase(),i=new Array(o.length-1);for(t=r=0,n=i.length;r<=n;t=r+=1)i[t]=o.slice(t,t+2);return i}function Sn(e,t){if(0===e.length&&0===t.length)return 0;var r,n,o=xn(e),i=xn(t),a=o.length+i.length,s=0;for(r=0,n=o.length;r<n;r++){var l,u=o[r],c=void 0;for(c=0,l=i.length;c<l;c++){u===i[c]&&s++}}return s>0?2*s/a:0}function En(e,t){for(var r=e.replace(/\s/g,""),n=t.replace(/\s/g,""),o=0,i=0,a=0;a<r.length;a++){var s=n.indexOf(r[a],i);-1!==s&&(o+=100-100*(i=s)/1e4*100)}return o}var On=Object.freeze({fuzzyCheckStrings:Cn,fuzzySuggestions:wn,get_bigrams:xn,string_distances:Sn,string_weighted_distances:En}),_n={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none"};function Pn(e,t,r){var n=Rn(e,t,r);if(n&&n.className.indexOf("ag-icon")>-1)return n;var o=document.createElement("span");return o.appendChild(n),o}function Rn(e,t,r,n){var o=null,i=r&&r.getColDef().icons;if(i&&(o=i[e]),t&&!o){var a=t.getIcons();a&&(o=a[e])}if(!o){var s=document.createElement("span"),l=_n[e];return l||(n?l=e:(console.warn("AG Grid: Did not find icon "+e),l="")),s.setAttribute("class","ag-icon ag-icon-"+l),s.setAttribute("unselectable","on"),Br(s,"presentation"),s}var u=void 0;if("function"===typeof o)u=o();else{if("string"!==typeof o)throw new Error("icon from grid options needs to be a string or a function");u=o}return"string"===typeof u?fr(u):Ar(u)?u:void console.warn("AG Grid: iconRenderer should return back a string or a dom object")}var An=Object.freeze({iconNameClassMap:_n,createIcon:Pn,createIconNoSpan:Rn});function Tn(e){if(e.altKey||e.ctrlKey||e.metaKey)return!1;var t=1===e.key.length,r=function(e){return Gt()&&"Del"===e.key&&46===e.charCode}(e);return t||r}function Dn(e,t,r,n,o){var i=e.getSuppressKeyboardEventFunc(),a=n?n.getColDef().suppressKeyboardEvent:void 0;if(!i&&!a)return!1;var s={event:t,editing:o,column:n,api:e.getApi(),node:r,data:r.data,colDef:n.getColDef(),context:e.getContext(),columnApi:e.getColumnApi()};if(a&&a(s))return!0;return!!i&&i(s)}function Mn(e,t,r,n){var i=n.getDefinition(),a=i&&i.suppressHeaderKeyboardEvent;return!!o(a)&&!!a({api:e.getApi(),columnApi:e.getColumnApi(),context:e.getContext(),colDef:i,column:n,headerRowIndex:r,event:t})}var kn=Object.freeze({isEventFromPrintableCharacter:Tn,isUserSuppressingKeyboardEvent:Dn,isUserSuppressingHeaderKeyboardEvent:Mn});function Nn(e,t,r){if(0===r)return!1;var n=Math.abs(e.clientX-t.clientX),o=Math.abs(e.clientY-t.clientY);return Math.max(n,o)<=r}var In=Object.freeze({areEventsNear:Nn});var Ln=Object.freeze({sortRowNodesByOrder:function(e,t){if(e){for(var r=function(e,r){var n=t[e.id],o=t[r.id],i=void 0!==n,a=void 0!==o;return i&&a?n-o:!i&&!a?e.__objectId-r.__objectId:i?1:-1},n=!1,o=0;o<e.length-1;o++)if(r(e[o],e[o+1])>0){n=!0;break}n&&e.sort(r)}},traverseNodesWithKey:function(e,t){var r=[];!function e(n){if(!n)return;n.forEach((function(n){if(n.group||n.hasChildren()){r.push(n.key);var o=r.join("|");t(n,o),e(n.childrenAfterGroup),r.pop()}}))}(e)}});function Fn(e){var t=new Set;return e.forEach((function(e){return t.add(e)})),t}var Gn,Bn=Object.freeze({convertToSet:Fn}),Wn=function(){return Wn=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Wn.apply(this,arguments)},Hn=Wn(Wn(Wn(Wn(Wn(Wn(Wn(Wn(Wn(Wn(Wn(Wn(Wn(Wn(Wn(Wn(Wn(Wn(Wn(Wn({},Ir),cn),me),Zt),Lt),bn),Nr),Ne),j),On),d),An),kn),Qe),In),gn),_),Ln),Bn),$e),jn=function(){function e(e,t){void 0===e&&(e=0),void 0===t&&(t=1),this.nextValue=e,this.step=t}return e.prototype.next=function(){var e=this.nextValue;return this.nextValue+=this.step,e},e.prototype.peek=function(){return this.nextValue},e.prototype.skip=function(e){this.nextValue+=e},e}();(Gn=t.AgPromiseStatus||(t.AgPromiseStatus={}))[Gn.IN_PROGRESS=0]="IN_PROGRESS",Gn[Gn.RESOLVED=1]="RESOLVED";var Vn,zn=function(){function e(e){var r=this;this.status=t.AgPromiseStatus.IN_PROGRESS,this.resolution=null,this.waiters=[],e((function(e){return r.onDone(e)}),(function(e){return r.onReject(e)}))}return e.all=function(t){return new e((function(e){var r=t.length,n=new Array(r);t.forEach((function(t,o){t.then((function(t){n[o]=t,0===--r&&e(n)}))}))}))},e.resolve=function(t){return void 0===t&&(t=null),new e((function(e){return e(t)}))},e.prototype.then=function(r){var n=this;return new e((function(e){n.status===t.AgPromiseStatus.RESOLVED?e(r(n.resolution)):n.waiters.push((function(t){return e(r(t))}))}))},e.prototype.resolveNow=function(e,r){return this.status===t.AgPromiseStatus.RESOLVED?r(this.resolution):e},e.prototype.onDone=function(e){this.status=t.AgPromiseStatus.RESOLVED,this.resolution=e,this.waiters.forEach((function(t){return t(e)}))},e.prototype.onReject=function(e){console.warn("TBI")},e}(),Un=function(){function e(){this.timestamp=(new Date).getTime()}return e.prototype.print=function(e){var t=(new Date).getTime()-this.timestamp;console.info(e+" = "+t),this.timestamp=(new Date).getTime()},e}(),Yn=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Xn=function(){return Xn=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Xn.apply(this,arguments)},Kn=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a};!function(e){e[e.NOTHING=0]="NOTHING",e[e.WAITING_TO_SHOW=1]="WAITING_TO_SHOW",e[e.SHOWING=2]="SHOWING"}(Vn||(Vn={}));var qn=function(e){function t(t){var r=e.call(this)||this;return r.DEFAULT_SHOW_TOOLTIP_DELAY=2e3,r.DEFAULT_HIDE_TOOLTIP_DELAY=1e4,r.SHOW_QUICK_TOOLTIP_DIFF=1e3,r.FADE_OUT_TOOLTIP_TIMEOUT=1e3,r.state=Vn.NOTHING,r.tooltipInstanceCount=0,r.tooltipMouseTrack=!1,r.parentComp=t,r}return Yn(t,e),t.prototype.postConstruct=function(){this.tooltipShowDelay=this.gridOptionsWrapper.getTooltipDelay("show")||this.DEFAULT_SHOW_TOOLTIP_DELAY,this.tooltipHideDelay=this.gridOptionsWrapper.getTooltipDelay("hide")||this.DEFAULT_HIDE_TOOLTIP_DELAY,this.tooltipMouseTrack=this.gridOptionsWrapper.isTooltipMouseTrack();var e=this.parentComp.getGui();this.addManagedListener(e,"mouseenter",this.onMouseEnter.bind(this)),this.addManagedListener(e,"mouseleave",this.onMouseLeave.bind(this)),this.addManagedListener(e,"mousemove",this.onMouseMove.bind(this)),this.addManagedListener(e,"mousedown",this.onMouseDown.bind(this)),this.addManagedListener(e,"keydown",this.onKeyDown.bind(this))},t.prototype.destroy=function(){this.setToDoNothing(),e.prototype.destroy.call(this)},t.prototype.onMouseEnter=function(e){if(!jt()&&this.state==Vn.NOTHING){var t=this.isLastTooltipHiddenRecently()?200:this.tooltipShowDelay;this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),t),this.lastMouseEvent=e,this.state=Vn.WAITING_TO_SHOW}},t.prototype.onMouseLeave=function(){this.setToDoNothing()},t.prototype.onKeyDown=function(){this.setToDoNothing()},t.prototype.setToDoNothing=function(){this.state===Vn.SHOWING&&this.hideTooltip(),this.clearTimeouts(),this.state=Vn.NOTHING},t.prototype.onMouseMove=function(e){this.lastMouseEvent=e,this.tooltipMouseTrack&&this.state===Vn.SHOWING&&this.tooltipComp&&this.positionTooltipUnderLastMouseEvent()},t.prototype.onMouseDown=function(){this.setToDoNothing()},t.prototype.hideTooltip=function(){this.tooltipComp&&(this.destroyTooltipComp(),t.lastTooltipHideTime=(new Date).getTime()),this.state=Vn.NOTHING},t.prototype.destroyTooltipComp=function(){var e=this;this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");var t=this.tooltipPopupDestroyFunc,r=this.tooltipComp;window.setTimeout((function(){t(),e.getContext().destroyBean(r)}),this.FADE_OUT_TOOLTIP_TIMEOUT),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0},t.prototype.isLastTooltipHiddenRecently=function(){return(new Date).getTime()-t.lastTooltipHideTime<this.SHOW_QUICK_TOOLTIP_DIFF},t.prototype.showTooltip=function(){var e=Xn({},this.parentComp.getTooltipParams());if(o(e.value)){this.state=Vn.SHOWING,this.tooltipInstanceCount++;var t=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.userComponentFactory.getTooltipCompDetails(e).newAgStackInstance().then(t)}else this.setToDoNothing()},t.prototype.newTooltipComponentCallback=function(e,t){if(this.state!==Vn.SHOWING||this.tooltipInstanceCount!==e)this.getContext().destroyBean(t);else{var r=t.getGui();this.tooltipComp=t,r.classList.contains("ag-tooltip")||r.classList.add("ag-tooltip-custom");var n=this.gridOptionsWrapper.getLocaleTextFunc(),o=this.popupService.addPopup({eChild:r,ariaLabel:n("ariaLabelTooltip","Tooltip")});o&&(this.tooltipPopupDestroyFunc=o.hideFunc),this.positionTooltipUnderLastMouseEvent(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.tooltipHideDelay)}},t.prototype.positionTooltipUnderLastMouseEvent=function(){this.popupService.positionPopupUnderMouseEvent({type:"tooltip",mouseEvent:this.lastMouseEvent,ePopup:this.tooltipComp.getGui(),nudgeY:18})},t.prototype.clearTimeouts=function(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0),this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)},Kn([K("popupService")],t.prototype,"popupService",void 0),Kn([K("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Kn([K("columnApi")],t.prototype,"columnApi",void 0),Kn([K("gridApi")],t.prototype,"gridApi",void 0),Kn([U],t.prototype,"postConstruct",null),t}(Le),$n=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Zn=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Qn=new jn,Jn=function(){function e(e){this.cssClassStates={},this.getGui=e}return e.prototype.addCssClass=function(e){var t=this,r=(e||"").split(" ");r.length>1?r.forEach((function(e){return t.addCssClass(e)})):!0!==this.cssClassStates[e]&&e.length&&(this.getGui().classList.add(e),this.cssClassStates[e]=!0)},e.prototype.removeCssClass=function(e){var t=this,r=(e||"").split(" ");r.length>1?r.forEach((function(e){return t.removeCssClass(e)})):!1!==this.cssClassStates[e]&&e.length&&(this.getGui().classList.remove(e),this.cssClassStates[e]=!1)},e.prototype.containsCssClass=function(e){return this.getGui().classList.contains(e)},e.prototype.addOrRemoveCssClass=function(e,t){var r=this,n=(e||"").split(" ");n.length>1?n.forEach((function(e){return r.addOrRemoveCssClass(e,t)})):this.cssClassStates[e]!==t&&e.length&&(this.getGui().classList.toggle(e,t),this.cssClassStates[e]=t)},e}(),eo=function(e){function t(t){var r=e.call(this)||this;return r.displayed=!0,r.visible=!0,r.compId=Qn.next(),r.cssClassManager=new Jn((function(){return r.eGui})),t&&r.setTemplate(t),r}return $n(t,e),t.prototype.preConstructOnComponent=function(){this.usingBrowserTooltips=this.gridOptionsWrapper.isEnableBrowserTooltips()},t.prototype.getCompId=function(){return this.compId},t.prototype.getTooltipParams=function(){return{value:this.tooltipText,location:"UNKNOWN"}},t.prototype.setTooltip=function(e){var t=this;this.tooltipText!=e&&(this.tooltipText&&(t.usingBrowserTooltips?t.getGui().removeAttribute("title"):t.tooltipFeature=t.destroyBean(t.tooltipFeature)),null!=e&&(this.tooltipText=e,this.tooltipText&&(t.usingBrowserTooltips?t.getGui().setAttribute("title",t.tooltipText):t.tooltipFeature=t.createBean(new qn(t)))))},t.prototype.createChildComponentsFromTags=function(e,t){var r=this;Tr(e.childNodes).forEach((function(n){if(n instanceof HTMLElement){var o=r.createComponentFromElement(n,(function(e){e.getGui()&&r.copyAttributesFromNode(n,e.getGui())}),t);if(o){if(o.addItems&&n.children.length){r.createChildComponentsFromTags(n,t);var i=Array.prototype.slice.call(n.children);o.addItems(i)}r.swapComponentForNode(o,e,n)}else n.childNodes&&r.createChildComponentsFromTags(n,t)}}))},t.prototype.createComponentFromElement=function(e,r,n){var o=e.nodeName,i=n?n[e.getAttribute("ref")]:void 0,a=this.agStackComponentsRegistry.getComponentClass(o);if(a){t.elementGettingCreated=e;var s=new a(i);return s.setParentComponent(this),this.createBean(s,null,r),s}return null},t.prototype.copyAttributesFromNode=function(e,t){Dr(e.attributes,(function(e,r){return t.setAttribute(e,r)}))},t.prototype.swapComponentForNode=function(e,t,r){var n=e.getGui();t.replaceChild(n,r),t.insertBefore(document.createComment(r.nodeName),n),this.addDestroyFunc(this.destroyBean.bind(this,e)),this.swapInComponentForQuerySelectors(e,r)},t.prototype.swapInComponentForQuerySelectors=function(e,t){var r=this;this.iterateOverQuerySelectors((function(n){r[n.attributeName]===t&&(r[n.attributeName]=e)}))},t.prototype.iterateOverQuerySelectors=function(e){for(var t=Object.getPrototypeOf(this);null!=t;){var r=t.__agComponentMetaData,n=D(t.constructor);r&&r[n]&&r[n].querySelectors&&r[n].querySelectors.forEach((function(t){return e(t)})),t=Object.getPrototypeOf(t)}},t.prototype.setTemplate=function(e,t){var r=fr(e);this.setTemplateFromElement(r,t)},t.prototype.setTemplateFromElement=function(e,t){this.eGui=e,this.eGui.__agComponent=this,this.wireQuerySelectors(),this.getContext()&&this.createChildComponentsFromTags(this.getGui(),t)},t.prototype.createChildComponentsPreConstruct=function(){this.getGui()&&this.createChildComponentsFromTags(this.getGui())},t.prototype.wireQuerySelectors=function(){var e=this;if(this.eGui){var t=this;this.iterateOverQuerySelectors((function(r){var n=function(e){return t[r.attributeName]=e};if(r.refSelector&&e.eGui.getAttribute("ref")===r.refSelector)n(e.eGui);else{var o=e.eGui.querySelector(r.querySelector);o&&n(o.__agComponent||o)}}))}},t.prototype.getGui=function(){return this.eGui},t.prototype.getFocusableElement=function(){return this.eGui},t.prototype.setParentComponent=function(e){this.parentComponent=e},t.prototype.getParentComponent=function(){return this.parentComponent},t.prototype.setGui=function(e){this.eGui=e},t.prototype.queryForHtmlElement=function(e){return this.eGui.querySelector(e)},t.prototype.queryForHtmlInputElement=function(e){return this.eGui.querySelector(e)},t.prototype.appendChild=function(e,t){if(t||(t=this.eGui),null!=e)if(Ar(e))t.appendChild(e);else{var r=e;t.appendChild(r.getGui()),this.addDestroyFunc(this.destroyBean.bind(this,r))}},t.prototype.isDisplayed=function(){return this.displayed},t.prototype.setVisible=function(e){e!==this.visible&&(this.visible=e,er(this.eGui,e))},t.prototype.setDisplayed=function(e){if(e!==this.displayed){this.displayed=e,Jt(this.eGui,e);var r={type:t.EVENT_DISPLAYED_CHANGED,visible:this.displayed};this.dispatchEvent(r)}},t.prototype.destroy=function(){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),e.prototype.destroy.call(this)},t.prototype.addGuiEventListener=function(e,t){var r=this;this.eGui.addEventListener(e,t),this.addDestroyFunc((function(){return r.eGui.removeEventListener(e,t)}))},t.prototype.addCssClass=function(e){this.cssClassManager.addCssClass(e)},t.prototype.removeCssClass=function(e){this.cssClassManager.removeCssClass(e)},t.prototype.containsCssClass=function(e){return this.cssClassManager.containsCssClass(e)},t.prototype.addOrRemoveCssClass=function(e,t){this.cssClassManager.addOrRemoveCssClass(e,t)},t.prototype.getAttribute=function(e){var t=this.eGui;return t?t.getAttribute(e):null},t.prototype.getRefElement=function(e){return this.queryForHtmlElement('[ref="'+e+'"]')},t.EVENT_DISPLAYED_CHANGED="displayedChanged",Zn([K("agStackComponentsRegistry")],t.prototype,"agStackComponentsRegistry",void 0),Zn([z],t.prototype,"preConstructOnComponent",null),Zn([z],t.prototype,"createChildComponentsPreConstruct",null),t}(Le);function to(e){return ro.bind(this,"[ref="+e+"]",e)}function ro(e,t,r,n,o){null!==e?"number"!==typeof o?function(e,t,r){var n=function(e,t){e.__agComponentMetaData||(e.__agComponentMetaData={});e.__agComponentMetaData[t]||(e.__agComponentMetaData[t]={});return e.__agComponentMetaData[t]}(e,D(e.constructor));n[t]||(n[t]=[]);n[t].push(r)}(r,"querySelectors",{attributeName:n,querySelector:e,refSelector:t}):console.error("AG Grid: QuerySelector should be on an attribute"):console.error("AG Grid: QuerySelector selector should not be null")}var no,oo=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),io=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},ao=function(e){function t(){return e.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>\n            </div>')||this}return oo(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.prototype.init=function(e){this.params=e;var t=this.columnModel.getDisplayNameForColumn(e.column,"header",!0),r=this.gridOptionsWrapper.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(t+" "+r("ariaFilterInput","Filter Input"))},t.prototype.onParentModelChanged=function(e){var t=this;e?this.params.parentFilterInstance((function(r){if(r.getModelAsString){var n=r.getModelAsString(e);t.eFloatingFilterText.setValue(n)}})):this.eFloatingFilterText.setValue("")},io([to("eFloatingFilterText")],t.prototype,"eFloatingFilterText",void 0),io([K("columnModel")],t.prototype,"columnModel",void 0),t}(eo),so=function(){function e(e,t,r,n){var o=this;this.alive=!0,this.context=e,this.eParent=n,t.getDateCompDetails(r).newAgStackInstance().then((function(t){o.alive?(o.dateComp=t,t&&(n.appendChild(t.getGui()),t.afterGuiAttached&&t.afterGuiAttached(),o.tempValue&&t.setDate(o.tempValue),null!=o.disabled&&o.setDateCompDisabled(o.disabled))):e.destroyBean(t)}))}return e.prototype.destroy=function(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)},e.prototype.getDate=function(){return this.dateComp?this.dateComp.getDate():this.tempValue},e.prototype.setDate=function(e){this.dateComp?this.dateComp.setDate(e):this.tempValue=e},e.prototype.setDisabled=function(e){this.dateComp?this.setDateCompDisabled(e):this.disabled=e},e.prototype.setDisplayed=function(e){Jt(this.eParent,e)},e.prototype.setInputPlaceholder=function(e){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(e)},e.prototype.setInputAriaLabel=function(e){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(e)},e.prototype.afterGuiAttached=function(e){this.dateComp&&"function"===typeof this.dateComp.afterGuiAttached&&this.dateComp.afterGuiAttached(e)},e.prototype.setDateCompDisabled=function(e){null!=this.dateComp&&null!=this.dateComp.setDisabled&&this.dateComp.setDisabled(e)},e}(),lo=function(){return lo=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},lo.apply(this,arguments)},uo=function(){function e(){this.customFilterOptions={}}return e.prototype.init=function(e,t){this.filterOptions=e.filterOptions||t,this.mapCustomOptions(),this.selectDefaultItem(e),this.checkForDeprecatedParams()},e.prototype.checkForDeprecatedParams=function(){this.filterOptions.some((function(e){return"string"!=typeof e&&null!=e.test}))&&console.warn("AG Grid: [IFilterOptionDef] since v26.2.0, test() has been replaced with predicate()."),this.filterOptions.some((function(e){return"string"!=typeof e&&null!=e.hideFilterInput}))&&console.warn("AG Grid: [IFilterOptionDef] since v26.2.0, useOfHideFilterInput has been replaced with numberOfInputs.")},e.prototype.getFilterOptions=function(){return this.filterOptions},e.prototype.mapCustomOptions=function(){var e=this;this.filterOptions&&this.filterOptions.forEach((function(t){if("string"!==typeof t){if([["displayKey"],["displayName"],["predicate","test"]].every((function(e){return!!e.some((function(e){return null!=t[e]}))||(console.warn("AG Grid: ignoring FilterOptionDef as it doesn't contain one of '"+e+"'"),!1)}))){var r=t.test,n=lo({},t);null!=r&&null==t.predicate&&(n.predicate=function(e,t){return r(e[0],t)},delete n.test),n.hideFilterInput&&null==n.numberOfInputs&&(n.numberOfInputs=0,delete n.hideFilterInput),e.customFilterOptions[t.displayKey]=n}else e.filterOptions=e.filterOptions.filter((function(e){return e===t}))||[]}}))},e.prototype.selectDefaultItem=function(e){if(e.defaultOption)this.defaultOption=e.defaultOption;else if(this.filterOptions.length>=1){var t=this.filterOptions[0];"string"===typeof t?this.defaultOption=t:t.displayKey?this.defaultOption=t.displayKey:console.warn("AG Grid: invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else console.warn("AG Grid: no filter options for filter")},e.prototype.getDefaultOption=function(){return this.defaultOption},e.prototype.getCustomOption=function(e){return this.customFilterOptions[e]},e}(),co={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose One",equals:"Equals",notEqual:"Not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"In range",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equals",greaterThanOrEqual:"Greater than or equals",contains:"Contains",notContains:"Not contains",startsWith:"Starts with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"},po=function(){function e(){}return e.BACKSPACE="Backspace",e.TAB="Tab",e.ENTER="Enter",e.ESCAPE="Escape",e.SPACE=" ",e.LEFT="ArrowLeft",e.UP="ArrowUp",e.RIGHT="ArrowRight",e.DOWN="ArrowDown",e.DELETE="Delete",e.F2="F2",e.PAGE_UP="PageUp",e.PAGE_DOWN="PageDown",e.PAGE_HOME="Home",e.PAGE_END="End",e.A="KeyA",e.C="KeyC",e.V="KeyV",e.D="KeyD",e.Z="KeyZ",e.Y="KeyY",e}(),ho=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),fo=function(){return fo=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},fo.apply(this,arguments)},go=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},yo=function(e){function t(t,r){void 0===r&&(r={});var n=e.call(this)||this;return n.eFocusableElement=t,n.callbacks=r,n.callbacks=fo({shouldStopEventPropagation:function(){return!1},onTabKeyDown:function(e){if(!e.defaultPrevented){var t=n.focusService.findNextFocusableElement(n.eFocusableElement,!1,e.shiftKey);t&&(t.focus(),e.preventDefault())}}},r),n}return ho(t,e),t.prototype.postConstruct=function(){this.eFocusableElement.classList.add(t.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedListener(this.eFocusableElement,"focusin",this.callbacks.onFocusIn),this.callbacks.onFocusOut&&this.addManagedListener(this.eFocusableElement,"focusout",this.callbacks.onFocusOut)},t.prototype.addKeyDownListeners=function(e){var t=this;this.addManagedListener(e,"keydown",(function(e){e.defaultPrevented||Pe(e)||(t.callbacks.shouldStopEventPropagation(e)?_e(e):e.key===po.TAB?t.callbacks.onTabKeyDown(e):t.callbacks.handleKeyDown&&t.callbacks.handleKeyDown(e))}))},t.FOCUS_MANAGED_CLASS="ag-focus-managed",go([K("focusService")],t.prototype,"focusService",void 0),go([U],t.prototype,"postConstruct",null),t}(Le),vo=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),mo=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},bo=function(e){function t(t){var r=e.call(this)||this;return r.filterNameKey=t,r.applyActive=!1,r.hidePopup=null,r.appliedModel=null,r}return vo(t,e),t.prototype.postConstruct=function(){this.resetTemplate(),this.createManagedBean(new yo(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)}))},t.prototype.handleKeyDown=function(e){},t.prototype.getFilterTitle=function(){return this.translate(this.filterNameKey)},t.prototype.isFilterActive=function(){return!!this.appliedModel},t.prototype.resetTemplate=function(e){var t='\n            <div class="ag-filter-wrapper">\n                <div class="ag-filter-body-wrapper ag-'+this.getCssIdentifier()+'-body-wrapper">\n                    '+this.createBodyTemplate()+"\n                </div>\n            </div>";this.setTemplate(t,e)},t.prototype.isReadOnly=function(){return!!this.providedFilterParams.readOnly},t.prototype.init=function(e){var t=this;this.setParams(e),this.resetUiToDefaults(!0).then((function(){t.updateUiVisibility(),t.setupOnBtApplyDebounce()}))},t.prototype.setParams=function(e){this.providedFilterParams=e,this.applyActive=t.isUseApplyButton(e),this.createButtonPanel()},t.prototype.createButtonPanel=function(){var e=this,t=this.providedFilterParams.buttons;if(!(!t||t.length<1||this.isReadOnly())){var r=document.createElement("div");r.classList.add("ag-filter-apply-panel");Fn(t).forEach((function(t){return function(t){var n,o;switch(t){case"apply":n=e.translate("applyFilter"),o=function(t){return e.onBtApply(!1,!1,t)};break;case"clear":n=e.translate("clearFilter"),o=function(){return e.onBtClear()};break;case"reset":n=e.translate("resetFilter"),o=function(){return e.onBtReset()};break;case"cancel":n=e.translate("cancelFilter"),o=function(t){e.onBtCancel(t)};break;default:return void console.warn("AG Grid: Unknown button type specified")}var i=fr('<button\n                    type="button"\n                    ref="'+t+'FilterButton"\n                    class="ag-standard-button ag-filter-apply-panel-button"\n                >'+n+"\n                </button>");r.appendChild(i),e.addManagedListener(i,"click",o)}(t)})),this.getGui().appendChild(r)}},t.prototype.getDefaultDebounceMs=function(){return 0},t.prototype.setupOnBtApplyDebounce=function(){var e=t.getDebounceMs(this.providedFilterParams,this.getDefaultDebounceMs());this.onBtApplyDebounce=G(this.onBtApply.bind(this),e)},t.prototype.getModel=function(){return this.appliedModel?this.appliedModel:null},t.prototype.setModel=function(e){var t=this;return(null!=e?this.setModelIntoUi(e):this.resetUiToDefaults()).then((function(){t.updateUiVisibility(),t.applyModel()}))},t.prototype.onBtCancel=function(e){var t=this,r=this.getModel(),n=function(){t.onUiChanged(!1,"prevent"),t.providedFilterParams.closeOnApply&&t.close(e)};null!=r?this.setModelIntoUi(r).then(n):this.resetUiToDefaults().then(n)},t.prototype.onBtClear=function(){var e=this;this.resetUiToDefaults().then((function(){return e.onUiChanged()}))},t.prototype.onBtReset=function(){this.onBtClear(),this.onBtApply()},t.prototype.applyModel=function(){var e=this.getModelFromUi();if(!this.isModelValid(e))return!1;var t=this.appliedModel;return this.appliedModel=e,!this.areModelsEqual(t,e)},t.prototype.isModelValid=function(e){return!0},t.prototype.onBtApply=function(e,t,r){void 0===e&&(e=!1),void 0===t&&(t=!1),this.applyModel()&&this.providedFilterParams.filterChangedCallback({afterFloatingFilter:e,afterDataChange:t}),this.providedFilterParams.closeOnApply&&this.applyActive&&!e&&!t&&this.close(r)},t.prototype.onNewRowsLoaded=function(){},t.prototype.close=function(e){if(this.hidePopup){var t,r=e,n=r&&r.key;"Enter"!==n&&"Space"!==n||(t={keyboardEvent:r}),this.hidePopup(t),this.hidePopup=null}},t.prototype.onUiChanged=function(e,t){if(void 0===e&&(e=!1),this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly){var r=this.isModelValid(this.getModelFromUi());tr(this.getRefElement("applyFilterButton"),!r)}e&&!t||"immediately"===t?this.onBtApply(e):(this.applyActive||t)&&"debounce"!==t||this.onBtApplyDebounce()},t.prototype.afterGuiAttached=function(e){null!=e&&(this.hidePopup=e.hidePopup)},t.getDebounceMs=function(e,r){return t.isUseApplyButton(e)?(null!=e.debounceMs&&console.warn("AG Grid: debounceMs is ignored when apply button is present"),0):null!=e.debounceMs?e.debounceMs:r},t.isUseApplyButton=function(e){return!!e.buttons&&e.buttons.indexOf("apply")>=0},t.prototype.destroy=function(){this.hidePopup=null,e.prototype.destroy.call(this)},t.prototype.translate=function(e){return this.gridOptionsWrapper.getLocaleTextFunc()(e,co[e])},t.prototype.getCellValue=function(e){var t=this.providedFilterParams,r=t.api,n=t.colDef,o=t.column,i=t.columnApi,a=t.context;return this.providedFilterParams.valueGetter({api:r,colDef:n,column:o,columnApi:i,context:a,data:e.data,getValue:function(t){return e.data[t]},node:e})},mo([K("rowModel")],t.prototype,"rowModel",void 0),mo([K("valueService")],t.prototype,"valueService",void 0),mo([U],t.prototype,"postConstruct",null),t}(eo),Co=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),wo=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},xo=function(e){function t(t,r){var n=e.call(this,r)||this;return n.labelSeparator="",n.labelAlignment="left",n.label="",n.config=t||{},n}return Co(t,e),t.prototype.postConstruct=function(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");var e=this.config,t=e.labelSeparator,r=e.label,n=e.labelWidth,o=e.labelAlignment;null!=t&&this.setLabelSeparator(t),null!=r&&this.setLabel(r),null!=n&&this.setLabelWidth(n),this.setLabelAlignment(o||this.labelAlignment),this.refreshLabel()},t.prototype.refreshLabel=function(){pr(this.eLabel),"string"===typeof this.label?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),""===this.label?(this.eLabel.classList.add("ag-hidden"),Br(this.eLabel,"presentation")):(this.eLabel.classList.remove("ag-hidden"),Br(this.eLabel,null))},t.prototype.setLabelSeparator=function(e){return this.labelSeparator===e||(this.labelSeparator=e,null!=this.label&&this.refreshLabel()),this},t.prototype.getLabelId=function(){return this.eLabel.id=this.eLabel.id||"ag-"+this.getCompId()+"-label",this.eLabel.id},t.prototype.getLabel=function(){return this.label},t.prototype.setLabel=function(e){return this.label===e||(this.label=e,this.refreshLabel()),this},t.prototype.setLabelAlignment=function(e){var t=this.getGui().classList;return t.toggle("ag-label-align-left","left"===e),t.toggle("ag-label-align-right","right"===e),t.toggle("ag-label-align-top","top"===e),this},t.prototype.setLabelWidth=function(e){return null==this.label||Sr(this.eLabel,e),this},wo([U],t.prototype,"postConstruct",null),t}(eo),So=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Eo=function(e){function t(t,r,n){var o=e.call(this,t,r)||this;return o.className=n,o.disabled=!1,o}return So(t,e),t.prototype.postConstruct=function(){e.prototype.postConstruct.call(this),this.className&&this.addCssClass(this.className)},t.prototype.onValueChange=function(e){var r=this;return this.addManagedListener(this,t.EVENT_CHANGED,(function(){return e(r.getValue())})),this},t.prototype.getWidth=function(){return this.getGui().clientWidth},t.prototype.setWidth=function(e){return Er(this.getGui(),e),this},t.prototype.getPreviousValue=function(){return this.previousValue},t.prototype.getValue=function(){return this.value},t.prototype.setValue=function(e,r){return this.value===e||(this.previousValue=this.value,this.value=e,r||this.dispatchEvent({type:t.EVENT_CHANGED})),this},t.prototype.setDisabled=function(e){e=!!e;var t=this.getGui();return tr(t,e),t.classList.toggle("ag-disabled",e),this.disabled=e,this},t.prototype.isDisabled=function(){return!!this.disabled},t.EVENT_CHANGED="valueChange",t}(xo),Oo=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),_o=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Po=function(e){function t(t,r,n,o){var i=e.call(this,t,'<div class="ag-picker-field" role="presentation">\n                <div ref="eLabel"></div>\n                <div ref="eWrapper"\n                    class="ag-wrapper ag-picker-field-wrapper"\n                    tabIndex="-1"\n                    aria-expanded="false"\n                    '+(o?'role="'+o+'"':"")+'\n                >\n                    <div ref="eDisplayField" class="ag-picker-field-display"></div>\n                    <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>\n                </div>\n            </div>',r)||this;return i.pickerIcon=n,i.isPickerDisplayed=!1,i.isDestroyingPicker=!1,i.skipClick=!1,i}return Oo(t,e),t.prototype.postConstruct=function(){var t=this;e.prototype.postConstruct.call(this);var r=this.getCompId()+"-display";this.eDisplayField.setAttribute("id",r),Yr(this.eWrapper,r);var n=function(){t.skipClick?t.skipClick=!1:t.isDisabled()||(t.pickerComponent=t.showPicker())},o=this.getGui();if(this.addManagedListener(o,"mousedown",(function(e){!t.skipClick&&t.pickerComponent&&t.pickerComponent.isAlive()&&hr(t.pickerComponent.getGui())&&o.contains(e.target)&&(t.skipClick=!0)})),this.addManagedListener(o,"keydown",(function(e){switch(e.key){case po.UP:case po.DOWN:case po.ENTER:case po.SPACE:n();case po.ESCAPE:t.isPickerDisplayed&&e.preventDefault()}})),this.addManagedListener(this.eWrapper,"click",n),this.addManagedListener(this.eLabel,"click",n),this.pickerIcon){var i=Rn(this.pickerIcon,this.gridOptionsWrapper);i&&this.eIcon.appendChild(i)}},t.prototype.refreshLabel=function(){o(this.getLabel())?zr(this.eWrapper,this.getLabelId()):this.eWrapper.removeAttribute("aria-labelledby"),e.prototype.refreshLabel.call(this)},t.prototype.setAriaLabel=function(e){return Vr(this.eWrapper,e),this},t.prototype.setInputWidth=function(e){return Sr(this.eWrapper,e),this},t.prototype.getFocusableElement=function(){return this.eWrapper},_o([to("eLabel")],t.prototype,"eLabel",void 0),_o([to("eWrapper")],t.prototype,"eWrapper",void 0),_o([to("eDisplayField")],t.prototype,"eDisplayField",void 0),_o([to("eIcon")],t.prototype,"eIcon",void 0),t}(Eo),Ro=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ao=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},To=function(e){function t(t){void 0===t&&(t="default");var r=e.call(this,'<div class="ag-list ag-'+t+'-list" role="listbox"></div>')||this;return r.cssIdentifier=t,r.options=[],r.itemEls=[],r}return Ro(t,e),t.prototype.init=function(){this.addManagedListener(this.getGui(),"keydown",this.handleKeyDown.bind(this))},t.prototype.handleKeyDown=function(e){var t=e.key;switch(t){case po.ENTER:if(this.highlightedEl){var r=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(r)}else this.setValue(this.getValue());break;case po.DOWN:case po.UP:var n=t===po.DOWN,o=void 0;if(e.preventDefault(),this.highlightedEl){var i=this.itemEls.indexOf(this.highlightedEl)+(n?1:-1);i=Math.min(Math.max(i,0),this.itemEls.length-1),o=this.itemEls[i]}else o=this.itemEls[n?0:this.itemEls.length-1];this.highlightItem(o)}},t.prototype.addOptions=function(e){var t=this;return e.forEach((function(e){return t.addOption(e)})),this},t.prototype.addOption=function(e){var t=e.value,r=Ke(e.text||t);return this.options.push({value:t,text:r}),this.renderOption(t,r),this.updateIndices(),this},t.prototype.updateIndices=function(){var e=this.getGui().querySelectorAll(".ag-list-item");e.forEach((function(t,r){Qr(t,r+1),Zr(t,e.length)}))},t.prototype.renderOption=function(e,t){var r=this,n=document.createElement("div");Br(n,"option"),n.classList.add("ag-list-item","ag-"+this.cssIdentifier+"-list-item"),n.innerHTML="<span>"+t+"</span>",n.tabIndex=-1,this.itemEls.push(n),this.addManagedListener(n,"mouseover",(function(){return r.highlightItem(n)})),this.addManagedListener(n,"mouseleave",(function(){return r.clearHighlighted()})),this.addManagedListener(n,"click",(function(){return r.setValue(e)})),this.getGui().appendChild(n)},t.prototype.setValue=function(e,t){if(this.value===e)return this.fireItemSelected(),this;if(null==e)return this.reset(),this;var r=this.options.findIndex((function(t){return t.value===e}));if(-1!==r){var n=this.options[r];this.value=n.value,this.displayValue=null!=n.text?n.text:n.value,this.highlightItem(this.itemEls[r]),t||this.fireChangeEvent()}return this},t.prototype.setValueByIndex=function(e){return this.setValue(this.options[e].value)},t.prototype.getValue=function(){return this.value},t.prototype.getDisplayValue=function(){return this.displayValue},t.prototype.refreshHighlighted=function(){var e=this;this.clearHighlighted();var t=this.options.findIndex((function(t){return t.value===e.value}));-1!==t&&this.highlightItem(this.itemEls[t])},t.prototype.reset=function(){this.value=null,this.displayValue=null,this.clearHighlighted(),this.fireChangeEvent()},t.prototype.highlightItem=function(e){e.offsetParent&&(this.clearHighlighted(),this.highlightedEl=e,this.highlightedEl.classList.add(t.ACTIVE_CLASS),ln(this.highlightedEl,!0),this.highlightedEl.focus())},t.prototype.clearHighlighted=function(){this.highlightedEl&&this.highlightedEl.offsetParent&&(this.highlightedEl.classList.remove(t.ACTIVE_CLASS),ln(this.highlightedEl,!1),this.highlightedEl=null)},t.prototype.fireChangeEvent=function(){this.dispatchEvent({type:Eo.EVENT_CHANGED}),this.fireItemSelected()},t.prototype.fireItemSelected=function(){this.dispatchEvent({type:t.EVENT_ITEM_SELECTED})},t.EVENT_ITEM_SELECTED="selectedItem",t.ACTIVE_CLASS="ag-active-item",Ao([U],t.prototype,"init",null),t}(eo),Do=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Mo=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},ko=function(e){function t(t){return e.call(this,t,"ag-select","smallDown","listbox")||this}return Do(t,e),t.prototype.init=function(){var e=this;this.listComponent=this.createBean(new To("select")),this.listComponent.setParentComponent(this),this.eWrapper.tabIndex=0,this.listComponent.addManagedListener(this.listComponent,To.EVENT_ITEM_SELECTED,(function(){e.hideList&&e.hideList()})),this.listComponent.addManagedListener(this.listComponent,Eo.EVENT_CHANGED,(function(){e.setValue(e.listComponent.getValue(),!1,!0),e.hideList&&e.hideList()}))},t.prototype.showPicker=function(){var e=this,t=this.listComponent.getGui(),r=this.gridOptionsWrapper.getDocument(),n=this.addManagedListener(r.body,"wheel",(function(r){!t.contains(r.target)&&e.hideList&&e.hideList()})),o=this.addManagedListener(t,"focusout",(function(r){!t.contains(r.relatedTarget)&&e.hideList&&e.hideList()})),i=this.gridOptionsWrapper.getLocaleTextFunc(),a=this.popupService.addPopup({modal:!0,eChild:t,closeOnEsc:!0,closedCallback:function(){e.hideList=null,e.isPickerDisplayed=!1,o(),n(),e.isAlive()&&(qr(e.eWrapper,!1),e.getFocusableElement().focus())},ariaLabel:i("ariaLabelSelectField","Select Field")});return a&&(this.hideList=a.hideFunc),this.isPickerDisplayed=!0,Sr(t,sr(this.eWrapper)),qr(this.eWrapper,!0),t.style.maxHeight=or(this.popupService.getPopupParent())+"px",t.style.position="absolute",this.popupService.positionPopupUnderComponent({type:"ag-list",eventSource:this.eWrapper,ePopup:t,keepWithinBounds:!0}),this.listComponent.refreshHighlighted(),this.listComponent},t.prototype.addOptions=function(e){var t=this;return e.forEach((function(e){return t.addOption(e)})),this},t.prototype.addOption=function(e){return this.listComponent.addOption(e),this},t.prototype.setValue=function(t,r,n){return this.value===t?this:(n||this.listComponent.setValue(t,!0),this.listComponent.getValue()===this.getValue()?this:(this.eDisplayField.innerHTML=this.listComponent.getDisplayValue(),e.prototype.setValue.call(this,t,r)))},t.prototype.destroy=function(){this.hideList&&this.hideList(),this.destroyBean(this.listComponent),e.prototype.destroy.call(this)},Mo([K("popupService")],t.prototype,"popupService",void 0),Mo([U],t.prototype,"init",null),t}(Po),No=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Io=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Lo=function(e){function t(t,r,n,o){void 0===n&&(n="text"),void 0===o&&(o="input");var i=e.call(this,t,'\n            <div role="presentation">\n                <div ref="eLabel" class="ag-input-field-label"></div>\n                <div ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">\n                    <'+o+' ref="eInput" class="ag-input-field-input"></'+o+">\n                </div>\n            </div>",r)||this;return i.inputType=n,i.displayFieldTag=o,i}return No(t,e),t.prototype.postConstruct=function(){e.prototype.postConstruct.call(this),this.setInputType(),this.eLabel.classList.add(this.className+"-label"),this.eWrapper.classList.add(this.className+"-input-wrapper"),this.eInput.classList.add(this.className+"-input"),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||"ag-"+this.getCompId()+"-input";var t=this.config,r=t.width,n=t.value;null!=r&&this.setWidth(r),null!=n&&this.setValue(n),this.addInputListeners()},t.prototype.refreshLabel=function(){o(this.getLabel())?zr(this.eInput,this.getLabelId()):this.eInput.removeAttribute("aria-labelledby"),e.prototype.refreshLabel.call(this)},t.prototype.addInputListeners=function(){var e=this;this.addManagedListener(this.eInput,"input",(function(t){return e.setValue(t.target.value)}))},t.prototype.setInputType=function(){"input"===this.displayFieldTag&&this.eInput.setAttribute("type",this.inputType)},t.prototype.getInputElement=function(){return this.eInput},t.prototype.setInputWidth=function(e){return Sr(this.eWrapper,e),this},t.prototype.setInputName=function(e){return this.getInputElement().setAttribute("name",e),this},t.prototype.getFocusableElement=function(){return this.eInput},t.prototype.setMaxLength=function(e){return this.eInput.maxLength=e,this},t.prototype.setInputPlaceholder=function(e){return Mr(this.eInput,"placeholder",e),this},t.prototype.setInputAriaLabel=function(e){return Vr(this.eInput,e),this},t.prototype.setDisabled=function(t){return tr(this.eInput,t),e.prototype.setDisabled.call(this,t)},Io([to("eLabel")],t.prototype,"eLabel",void 0),Io([to("eWrapper")],t.prototype,"eWrapper",void 0),Io([to("eInput")],t.prototype,"eInput",void 0),t}(Eo),Fo=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Go=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a};!function(e){e[e.One=0]="One",e[e.Two=1]="Two"}(no||(no={}));var Bo,Wo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Fo(t,e),t.prototype.getNumberOfInputs=function(e){var r=this.optionsFactory.getCustomOption(e);if(r){var n=r.numberOfInputs;return null!=n?n:1}var o=[t.EMPTY,t.NOT_BLANK,t.BLANK];return e&&o.indexOf(e)>=0?0:e===t.IN_RANGE?2:1},t.prototype.onFloatingFilterChanged=function(e,t){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(t),this.onUiChanged(!0)},t.prototype.setTypeFromFloatingFilter=function(e){this.eType1.setValue(e),this.eType2.setValue(this.optionsFactory.getDefaultOption()),(this.isDefaultOperator("AND")?this.eJoinOperatorAnd:this.eJoinOperatorOr).setValue(!0)},t.prototype.getModelFromUi=function(){return this.isConditionUiComplete(no.One)?this.isAllowTwoConditions()&&this.isConditionUiComplete(no.Two)?{filterType:this.getFilterType(),operator:this.getJoinOperator(),condition1:this.createCondition(no.One),condition2:this.createCondition(no.Two)}:this.createCondition(no.One):null},t.prototype.getConditionTypes=function(){return[this.eType1.getValue(),this.eType2.getValue()]},t.prototype.getJoinOperator=function(){return!0===this.eJoinOperatorOr.getValue()?"OR":"AND"},t.prototype.areModelsEqual=function(e,t){if(!e&&!t)return!0;if(!e&&t||e&&!t)return!1;var r,n=!e.operator,o=!t.operator;if(!n&&o||n&&!o)return!1;if(n){var i=e,a=t;r=this.areSimpleModelsEqual(i,a)}else{var s=e,l=t;r=s.operator===l.operator&&this.areSimpleModelsEqual(s.condition1,l.condition1)&&this.areSimpleModelsEqual(s.condition2,l.condition2)}return r},t.prototype.setModelIntoUi=function(e){if(e.operator){var t=e,r="OR"===t.operator;this.eJoinOperatorAnd.setValue(!r),this.eJoinOperatorOr.setValue(r),this.eType1.setValue(t.condition1.type),this.eType2.setValue(t.condition2.type),this.setConditionIntoUi(t.condition1,no.One),this.setConditionIntoUi(t.condition2,no.Two)}else{var n=e;this.eJoinOperatorAnd.setValue(this.isDefaultOperator("AND")),this.eJoinOperatorOr.setValue(this.isDefaultOperator("OR")),this.eType1.setValue(n.type),this.eType2.setValue(this.optionsFactory.getDefaultOption()),this.setConditionIntoUi(n,no.One),this.setConditionIntoUi(null,no.Two)}return zn.resolve()},t.prototype.doesFilterPass=function(e){var t=this,r=this.getModel();if(null==r)return!0;var n=r.operator,o=[];if(n){var i=r;o.push(i.condition1,i.condition2)}else o.push(r);return o[n&&"OR"===n?"some":"every"]((function(r){return t.individualConditionPasses(e,r)}))},t.prototype.setParams=function(t){e.prototype.setParams.call(this,t),this.optionsFactory=new uo,this.optionsFactory.init(t,this.getDefaultFilterOptions()),this.allowTwoConditions=!t.suppressAndOrCondition,this.alwaysShowBothConditions=!!t.alwaysShowBothConditions,this.defaultJoinOperator=this.getDefaultJoinOperator(t.defaultJoinOperator),this.putOptionsIntoDropdown(),this.addChangedListeners()},t.prototype.getDefaultJoinOperator=function(e){return ye(["AND","OR"],e)?e:"AND"},t.prototype.putOptionsIntoDropdown=function(){var e=this,t=this.optionsFactory.getFilterOptions(),r=[this.eType1,this.eType2];t.forEach((function(t){var n="string"===typeof t?e.createBoilerplateListOption(t):e.createCustomListOption(t);r.forEach((function(e){return e.addOption(n)}))})),r.forEach((function(e){return e.setDisabled(t.length<=1)}))},t.prototype.createBoilerplateListOption=function(e){return{value:e,text:this.translate(e)}},t.prototype.createCustomListOption=function(e){var t=e.displayKey,r=this.optionsFactory.getCustomOption(e.displayKey);return{value:t,text:r?this.gridOptionsWrapper.getLocaleTextFunc()(r.displayKey,r.displayName):this.translate(t)}},t.prototype.isAllowTwoConditions=function(){return this.allowTwoConditions},t.prototype.createBodyTemplate=function(){return'\n            <ag-select class="ag-filter-select" ref="eOptions1"></ag-select>\n            '+this.createValueTemplate(no.One)+'\n            <div class="ag-filter-condition" ref="eJoinOperatorPanel">\n               <ag-radio-button ref="eJoinOperatorAnd" class="ag-filter-condition-operator ag-filter-condition-operator-and"></ag-radio-button>\n               <ag-radio-button ref="eJoinOperatorOr" class="ag-filter-condition-operator ag-filter-condition-operator-or"></ag-radio-button>\n            </div>\n            <ag-select class="ag-filter-select" ref="eOptions2"></ag-select>\n            '+this.createValueTemplate(no.Two)},t.prototype.getCssIdentifier=function(){return"simple-filter"},t.prototype.updateUiVisibility=function(){var e=this,t=[[this.eType1],[this.eType2,this.eJoinOperatorPanel,this.eJoinOperatorAnd,this.eJoinOperatorOr]],r=[this.eCondition1Body,this.eCondition2Body];t.forEach((function(t,r){var n=e.isConditionVisible(r),o=e.isConditionDisabled(r);t.forEach((function(e){e instanceof Lo||e instanceof ko?(e.setDisabled(o),e.setDisplayed(n)):(tr(e,o),Jt(e,n))}))})),r.forEach((function(t,r){Jt(t,e.isConditionBodyVisible(r))})),this.forEachInput((function(t,r,n,o){e.setElementDisplayed(t,r<o),e.setElementDisabled(t,e.isConditionDisabled(n))})),this.resetPlaceholder()},t.prototype.afterGuiAttached=function(t){if(e.prototype.afterGuiAttached.call(this,t),this.resetPlaceholder(),!t||!t.suppressFocus&&!this.isReadOnly()){var r=this.getInputs()[0][0];if(!r)return;r instanceof Lo&&r.getInputElement().focus()}},t.prototype.resetPlaceholder=function(){var e=this,t=this.gridOptionsWrapper.getLocaleTextFunc();this.forEachInput((function(r,n,o,i){if(r instanceof Lo){var a=0===n&&i>1?"inRangeStart":0===n?"filterOoo":"inRangeEnd",s=0===n&&i>1?t("ariaFilterFromValue","Filter from value"):0===n?t("ariaFilterValue","Filter Value"):t("ariaFilterToValue","Filter to Value");r.setInputPlaceholder(e.translate(a)),r.setInputAriaLabel(s)}}))},t.prototype.setElementValue=function(e,t,r){e instanceof Lo&&e.setValue(null!=t?String(t):null,r)},t.prototype.setElementDisplayed=function(e,t){e instanceof eo&&Jt(e.getGui(),t)},t.prototype.setElementDisabled=function(e,t){e instanceof eo&&tr(e.getGui(),t)},t.prototype.attachElementOnChange=function(e,t){e instanceof Lo&&e.onValueChange(t)},t.prototype.forEachInput=function(e){var t=this,r=this.getInputs();this.getConditionTypes().forEach((function(n,o){for(var i=t.getNumberOfInputs(n),a=0;a<r[o].length;a++){var s=r[o][a];null!=s&&e(s,a,o,i)}}))},t.prototype.isConditionVisible=function(e){return 0===e||!!this.allowTwoConditions&&(this.isReadOnly()?this.isConditionUiComplete(e):!!this.alwaysShowBothConditions||this.isConditionUiComplete(e-1))},t.prototype.isConditionDisabled=function(e){return!!this.isReadOnly()||(!this.isConditionVisible(e)||0!==e&&!this.isConditionUiComplete(e-1))},t.prototype.isConditionBodyVisible=function(e){if(!this.isConditionVisible(e))return!1;var t=this.getConditionTypes()[e];return this.getNumberOfInputs(t)>0},t.prototype.isConditionUiComplete=function(e){return this.getConditionTypes()[e]!==t.EMPTY&&!this.getValues(e).some((function(e){return null==e}))},t.prototype.resetUiToDefaults=function(e){var t=this,r=this.gridOptionsWrapper.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator"),n="ag-simple-filter-and-or-"+this.getCompId(),o=this.optionsFactory.getDefaultOption();return this.eType1.setValue(o,e).setAriaLabel(r).setDisabled(this.isReadOnly()),this.eType2.setValue(this.optionsFactory.getDefaultOption(),e).setAriaLabel(r).setDisabled(this.isReadOnly()),this.eJoinOperatorAnd.setValue(this.isDefaultOperator("AND"),e).setName(n).setLabel(this.translate("andCondition")).setDisabled(this.isReadOnly()),this.eJoinOperatorOr.setValue(this.isDefaultOperator("OR"),e).setName(n).setLabel(this.translate("orCondition")).setDisabled(this.isReadOnly()),this.forEachInput((function(r){t.setElementValue(r,null,e),t.setElementDisabled(r,t.isReadOnly())})),this.resetPlaceholder(),zn.resolve()},t.prototype.setConditionIntoUi=function(e,t){var r=this,n=this.mapValuesFromModel(e);this.forEachInput((function(e,o,i,a){i===t&&r.setElementValue(e,null!=n[o]?n[o]:null)}))},t.prototype.setValueFromFloatingFilter=function(e){var t=this;this.forEachInput((function(r,n,o,i){t.setElementValue(r,0===n&&0===o?e:null)}))},t.prototype.isDefaultOperator=function(e){return e===this.defaultJoinOperator},t.prototype.addChangedListeners=function(){var e=this;if(!this.isReadOnly()){var t=function(){return e.onUiChanged()};this.eType1.onValueChange(t),this.eType2.onValueChange(t),this.eJoinOperatorOr.onValueChange(t),this.eJoinOperatorAnd.onValueChange(t),this.forEachInput((function(r){e.attachElementOnChange(r,t)}))}},t.prototype.individualConditionPasses=function(e,t){var r=this.getCellValue(e.node),n=this.mapValuesFromModel(t),o=this.optionsFactory.getCustomOption(t.type),i=this.evaluateCustomFilter(o,n,r);return null!=i?i:null==r?this.evaluateNullValue(t.type):this.evaluateNonNullValue(n,r,t,e)},t.prototype.evaluateCustomFilter=function(e,t,r){if(null!=e){var n=e.predicate;return null==n||t.some((function(e){return null==e}))?void 0:n(t,r)}},t.prototype.isBlank=function(e){return null==e||"string"===typeof e&&0===e.trim().length},t.EMPTY="empty",t.BLANK="blank",t.NOT_BLANK="notBlank",t.EQUALS="equals",t.NOT_EQUAL="notEqual",t.LESS_THAN="lessThan",t.LESS_THAN_OR_EQUAL="lessThanOrEqual",t.GREATER_THAN="greaterThan",t.GREATER_THAN_OR_EQUAL="greaterThanOrEqual",t.IN_RANGE="inRange",t.CONTAINS="contains",t.NOT_CONTAINS="notContains",t.STARTS_WITH="startsWith",t.ENDS_WITH="endsWith",Go([to("eOptions1")],t.prototype,"eType1",void 0),Go([to("eOptions2")],t.prototype,"eType2",void 0),Go([to("eJoinOperatorPanel")],t.prototype,"eJoinOperatorPanel",void 0),Go([to("eJoinOperatorAnd")],t.prototype,"eJoinOperatorAnd",void 0),Go([to("eJoinOperatorOr")],t.prototype,"eJoinOperatorOr",void 0),Go([to("eCondition1Body")],t.prototype,"eCondition1Body",void 0),Go([to("eCondition2Body")],t.prototype,"eCondition2Body",void 0),t}(bo),Ho=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),jo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ho(t,e),t.prototype.setParams=function(t){e.prototype.setParams.call(this,t),this.scalarFilterParams=t},t.prototype.evaluateNullValue=function(e){switch(e){case t.EQUALS:case t.NOT_EQUAL:if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case t.GREATER_THAN:case t.GREATER_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case t.LESS_THAN:case t.LESS_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case t.IN_RANGE:if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case t.BLANK:return!0;case t.NOT_BLANK:return!1}return!1},t.prototype.evaluateNonNullValue=function(e,r,n){var o=this.comparator(),i=null!=e[0]?o(e[0],r):0;switch(n.type){case t.EQUALS:return 0===i;case t.NOT_EQUAL:return 0!==i;case t.GREATER_THAN:return i>0;case t.GREATER_THAN_OR_EQUAL:return i>=0;case t.LESS_THAN:return i<0;case t.LESS_THAN_OR_EQUAL:return i<=0;case t.IN_RANGE:var a=o(e[1],r);return this.scalarFilterParams.inRangeInclusive?i>=0&&a<=0:i>0&&a<0;case t.BLANK:return this.isBlank(r);case t.NOT_BLANK:return!this.isBlank(r);default:return console.warn('AG Grid: Unexpected type of filter "'+n.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}},t}(Wo),Vo=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),zo=function(){return zo=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},zo.apply(this,arguments)},Uo=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Yo=1/0,Xo=function(e){function t(){var t=e.call(this,"dateFilter")||this;return t.minValidYear=1e3,t.maxValidYear=Yo,t}return Vo(t,e),t.prototype.afterGuiAttached=function(t){e.prototype.afterGuiAttached.call(this,t),this.dateCondition1FromComp.afterGuiAttached(t)},t.prototype.mapValuesFromModel=function(e){var t=e||{},r=t.dateFrom,n=t.dateTo,o=t.type;return[r&&mn(r)||null,n&&mn(n)||null].slice(0,this.getNumberOfInputs(o))},t.prototype.comparator=function(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)},t.prototype.defaultComparator=function(e,t){return null==t||t<e?-1:t>e?1:0},t.prototype.setParams=function(t){e.prototype.setParams.call(this,t),this.dateFilterParams=t;var r=function(e,r){if(null!=t[e]){if(!isNaN(t[e]))return null==t[e]?r:Number(t[e]);console.warn("AG Grid: DateFilter "+e+" is not a number")}return r};this.minValidYear=r("minValidYear",1e3),this.maxValidYear=r("maxValidYear",Yo),this.minValidYear>this.maxValidYear&&console.warn("AG Grid: DateFilter minValidYear should be <= maxValidYear"),this.createDateComponents()},t.prototype.createDateComponents=function(){var e=this,t=function(t){return new so(e.getContext(),e.userComponentFactory,{onDateChanged:function(){return e.onUiChanged()},filterParams:e.dateFilterParams},t)};this.dateCondition1FromComp=t(this.eCondition1PanelFrom),this.dateCondition1ToComp=t(this.eCondition1PanelTo),this.dateCondition2FromComp=t(this.eCondition2PanelFrom),this.dateCondition2ToComp=t(this.eCondition2PanelTo),this.addDestroyFunc((function(){e.forEachInput((function(e){return e.destroy()}))}))},t.prototype.setElementValue=function(e,t,r){e.setDate(t)},t.prototype.setElementDisplayed=function(e,t){e.setDisplayed(t)},t.prototype.setElementDisabled=function(e,t){e.setDisabled(t)},t.prototype.getDefaultFilterOptions=function(){return t.DEFAULT_FILTER_OPTIONS},t.prototype.createValueTemplate=function(e){var t=e===no.One?"1":"2";return'\n            <div class="ag-filter-body" ref="eCondition'+t+'Body">\n                <div class="ag-filter-from ag-filter-date-from" ref="eCondition'+t+'PanelFrom"></div>\n                <div class="ag-filter-to ag-filter-date-to" ref="eCondition'+t+'PanelTo"></div>\n            </div>'},t.prototype.isConditionUiComplete=function(t){var r=this;if(!e.prototype.isConditionUiComplete.call(this,t))return!1;var n=!0;return this.forEachInput((function(e,o,i,a){var s;i!==t||!n||o>=a||(n=n&&(null!=(s=e.getDate())&&s.getUTCFullYear()>=r.minValidYear&&s.getUTCFullYear()<=r.maxValidYear))})),n},t.prototype.areSimpleModelsEqual=function(e,t){return e.dateFrom===t.dateFrom&&e.dateTo===t.dateTo&&e.type===t.type},t.prototype.getFilterType=function(){return"date"},t.prototype.createCondition=function(e){var t=this.getConditionTypes()[e],r={},n=this.getValues(e);return n.length>0&&(r.dateFrom=vn(n[0])),n.length>1&&(r.dateTo=vn(n[1])),zo({dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:t},r)},t.prototype.resetPlaceholder=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),t=this.translate("dateFormatOoo"),r=e("ariaFilterValue","Filter Value");this.forEachInput((function(e){e.setInputPlaceholder(t),e.setInputAriaLabel(r)}))},t.prototype.getInputs=function(){return[[this.dateCondition1FromComp,this.dateCondition1ToComp],[this.dateCondition2FromComp,this.dateCondition2ToComp]]},t.prototype.getValues=function(e){var t=[];return this.forEachInput((function(r,n,o,i){e===o&&n<i&&t.push(r.getDate())})),t},t.DEFAULT_FILTER_OPTIONS=[jo.EQUALS,jo.GREATER_THAN,jo.LESS_THAN,jo.NOT_EQUAL,jo.IN_RANGE,jo.BLANK,jo.NOT_BLANK],Uo([to("eCondition1PanelFrom")],t.prototype,"eCondition1PanelFrom",void 0),Uo([to("eCondition1PanelTo")],t.prototype,"eCondition1PanelTo",void 0),Uo([to("eCondition2PanelFrom")],t.prototype,"eCondition2PanelFrom",void 0),Uo([to("eCondition2PanelTo")],t.prototype,"eCondition2PanelTo",void 0),Uo([K("userComponentFactory")],t.prototype,"userComponentFactory",void 0),t}(jo),Ko=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),qo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ko(t,e),t.prototype.getDefaultDebounceMs=function(){return 0},t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.prototype.getTextFromModel=function(e){if(!e)return null;if(null!=e.operator){var t=e,r=t||{},n=r.condition1,o=r.condition2,i=this.optionsFactory.getCustomOption(n.type),a=this.optionsFactory.getCustomOption(o.type);return[this.conditionToString(n,i),t.operator,this.conditionToString(o,a)].join(" ")}var s=e,l=this.optionsFactory.getCustomOption(s.type),u=l||{},c=u.displayKey,p=u.displayName,d=u.numberOfInputs;return c&&p&&0===d?(this.gridOptionsWrapper.getLocaleTextFunc()(c,p),p):this.conditionToString(s,l)},t.prototype.isEventFromFloatingFilter=function(e){return e&&e.afterFloatingFilter},t.prototype.getLastType=function(){return this.lastType},t.prototype.isReadOnly=function(){return this.readOnly},t.prototype.setLastTypeFromModel=function(e){if(e){var t;if(e.operator)t=e.condition1;else t=e;this.lastType=t.type}else this.lastType=this.optionsFactory.getDefaultOption()},t.prototype.canWeEditAfterModelFromParentFilter=function(e){if(!e)return this.isTypeEditable(this.lastType);if(e.operator)return!1;var t=e;return this.isTypeEditable(t.type)},t.prototype.init=function(e){this.optionsFactory=new uo,this.optionsFactory.init(e.filterParams,this.getDefaultFilterOptions()),this.lastType=this.optionsFactory.getDefaultOption(),this.readOnly=!!e.filterParams.readOnly;var t=this.isTypeEditable(this.lastType);this.setEditable(t)},t.prototype.doesFilterHaveSingleInput=function(e){var t=(this.optionsFactory.getCustomOption(e)||{}).numberOfInputs;return null==t||1==t},t.prototype.isTypeEditable=function(e){var t=[Wo.IN_RANGE,Wo.EMPTY,Wo.BLANK,Wo.NOT_BLANK];return!!e&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(e)&&t.indexOf(e)<0},t}(eo),$o=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Zo=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Qo=function(e){function t(){return e.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eReadOnlyText"></ag-input-text-field>\n                <div ref="eDateWrapper" style="display: flex;"></div>\n            </div>')||this}return $o(t,e),t.prototype.getDefaultFilterOptions=function(){return Xo.DEFAULT_FILTER_OPTIONS},t.prototype.conditionToString=function(e,t){var r=e.type,n=(t||{}).numberOfInputs,o=r==Wo.IN_RANGE||2===n,i=mn(e.dateFrom),a=mn(e.dateTo);return o?vn(i,!1)+"-"+vn(a,!1):null!=i?""+vn(i,!1):""+r},t.prototype.init=function(t){e.prototype.init.call(this,t),this.params=t,this.createDateComponent();var r=this.gridOptionsWrapper.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(r("ariaDateFilterInput","Date Filter Input"))},t.prototype.setEditable=function(e){Jt(this.eDateWrapper,e),Jt(this.eReadOnlyText.getGui(),!e)},t.prototype.onParentModelChanged=function(t,r){if(!this.isEventFromFloatingFilter(r)){e.prototype.setLastTypeFromModel.call(this,t);var n=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(t);if(this.setEditable(n),n){if(t){var o=t;this.dateComp.setDate(mn(o.dateFrom))}else this.dateComp.setDate(null);this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.getTextFromModel(t)),this.dateComp.setDate(null)}},t.prototype.onDateChanged=function(){var e=this,t=vn(this.dateComp.getDate());this.params.parentFilterInstance((function(r){if(r){var n=mn(t);r.onFloatingFilterChanged(e.getLastType()||null,n)}}))},t.prototype.createDateComponent=function(){var e=this,t=bo.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),r={onDateChanged:G(this.onDateChanged.bind(this),t),filterParams:this.params.column.getColDef().filterParams};this.dateComp=new so(this.getContext(),this.userComponentFactory,r,this.eDateWrapper),this.addDestroyFunc((function(){return e.dateComp.destroy()}))},Zo([K("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Zo([to("eReadOnlyText")],t.prototype,"eReadOnlyText",void 0),Zo([to("eDateWrapper")],t.prototype,"eDateWrapper",void 0),t}(qo),Jo=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ei=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},ti=function(e){function t(){return e.call(this,'\n            <div class="ag-filter-filter">\n                <ag-input-text-field class="ag-date-filter" ref="eDateInput"></ag-input-text-field>\n            </div>')||this}return Jo(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.prototype.init=function(e){var t=this,r=this.gridOptionsWrapper.getDocument(),n=this.eDateInput.getInputElement();this.shouldUseBrowserDatePicker(e)&&(n.type="date"),this.addManagedListener(n,"mousedown",(function(){t.eDateInput.isDisabled()||n.focus()})),this.addManagedListener(n,"input",(function(n){n.target===r.activeElement&&(t.eDateInput.isDisabled()||e.onDateChanged())}));var o=e.filterParams||{},i=o.minValidYear,a=o.maxValidYear;i&&(n.min=i+"-01-01"),a&&(n.max=a+"-12-31")},t.prototype.getDate=function(){return mn(this.eDateInput.getValue())},t.prototype.setDate=function(e){this.eDateInput.setValue(vn(e,!1))},t.prototype.setInputPlaceholder=function(e){this.eDateInput.setInputPlaceholder(e)},t.prototype.setDisabled=function(e){this.eDateInput.setDisabled(e)},t.prototype.afterGuiAttached=function(e){e&&e.suppressFocus||this.eDateInput.getInputElement().focus()},t.prototype.shouldUseBrowserDatePicker=function(e){return e.filterParams&&null!=e.filterParams.browserDatePicker?e.filterParams.browserDatePicker:Wt()||Ht()},ei([to("eDateInput")],t.prototype,"eDateInput",void 0),t}(eo),ri=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ni=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},oi=function(e){function t(){return e.call(this,"numberFilter")||this}return ri(t,e),t.prototype.mapValuesFromModel=function(e){var t=e||{},r=t.filter,n=t.filterTo,o=t.type;return[null==r?null:r,null==n?null:n].slice(0,this.getNumberOfInputs(o))},t.prototype.getDefaultDebounceMs=function(){return 500},t.prototype.comparator=function(){return function(e,t){return e===t?0:e<t?1:-1}},t.prototype.setParams=function(t){this.numberFilterParams=t;var r=this.getAllowedCharPattern();if(r){var n={allowedCharPattern:r};this.resetTemplate({"eValue-index0-1":n,"eValue-index1-1":n,"eValue-index0-2":n,"eValue-index1-2":n})}e.prototype.setParams.call(this,t)},t.prototype.getDefaultFilterOptions=function(){return t.DEFAULT_FILTER_OPTIONS},t.prototype.createValueTemplate=function(e){var t=e===no.One?"1":"2",r=this.getAllowedCharPattern()?"ag-input-text-field":"ag-input-number-field";return'\n            <div class="ag-filter-body" ref="eCondition'+t+'Body" role="presentation">\n                <'+r+' class="ag-filter-from ag-filter-filter" ref="eValue-index0-'+t+'"></'+r+">\n                <"+r+' class="ag-filter-to ag-filter-filter" ref="eValue-index1-'+t+'"></'+r+">\n            </div>"},t.prototype.getValues=function(e){var t=this,r=[];return this.forEachInput((function(n,o,i,a){e===i&&o<a&&r.push(t.stringToFloat(n.getValue()))})),r},t.prototype.areSimpleModelsEqual=function(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type},t.prototype.getFilterType=function(){return"number"},t.prototype.stringToFloat=function(e){if("number"===typeof e)return e;var t=n(e);return null!=t&&""===t.trim()&&(t=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(t):null==t||"-"===t.trim()?null:parseFloat(t)},t.prototype.createCondition=function(e){var t=this.getConditionTypes()[e],r={filterType:this.getFilterType(),type:t},n=this.getValues(e);return n.length>0&&(r.filter=n[0]),n.length>1&&(r.filterTo=n[1]),r},t.prototype.getInputs=function(){return[[this.eValueFrom1,this.eValueTo1],[this.eValueFrom2,this.eValueTo2]]},t.prototype.getAllowedCharPattern=function(){var e=(this.numberFilterParams||{}).allowedCharPattern;return e||(Wt()||Gt()?null:"\\d\\-\\.")},t.DEFAULT_FILTER_OPTIONS=[jo.EQUALS,jo.NOT_EQUAL,jo.LESS_THAN,jo.LESS_THAN_OR_EQUAL,jo.GREATER_THAN,jo.GREATER_THAN_OR_EQUAL,jo.IN_RANGE,jo.BLANK,jo.NOT_BLANK],ni([to("eValue-index0-1")],t.prototype,"eValueFrom1",void 0),ni([to("eValue-index1-1")],t.prototype,"eValueTo1",void 0),ni([to("eValue-index0-2")],t.prototype,"eValueFrom2",void 0),ni([to("eValue-index1-2")],t.prototype,"eValueTo2",void 0),t}(jo),ii=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ai=function(){return ai=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ai.apply(this,arguments)},si=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},li=function(e){function t(){return e.call(this,"textFilter")||this}return ii(t,e),t.trimInput=function(e){var t=e&&e.trim();return""===t?e:t},t.prototype.getDefaultDebounceMs=function(){return 500},t.prototype.setParams=function(r){e.prototype.setParams.call(this,r),this.textFilterParams=r,this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?t.DEFAULT_FORMATTER:t.DEFAULT_LOWERCASE_FORMATTER)},t.prototype.getTextMatcher=function(){var e=this.textFilterParams.textCustomComparator;return e?(Hn.doOnce((function(){return console.warn("AG Grid - textCustomComparator is deprecated, use textMatcher instead.")}),"textCustomComparator.deprecated"),function(t){var r=t.filterOption,n=t.value,o=t.filterText;return e(r,n,o)}):this.textFilterParams.textMatcher||t.DEFAULT_MATCHER},t.prototype.createCondition=function(e){var t=this.getConditionTypes()[e],r={filterType:this.getFilterType(),type:t},n=this.getValues(e);return n.length>0&&(r.filter=n[0]),n.length>1&&(r.filterTo=n[1]),r},t.prototype.getFilterType=function(){return"text"},t.prototype.areSimpleModelsEqual=function(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type},t.prototype.getInputs=function(){return[[this.eValueFrom1,this.eValueTo1],[this.eValueFrom2,this.eValueTo2]]},t.prototype.getValues=function(e){var r=this,o=[];return this.forEachInput((function(i,a,s,l){if(e===s&&a<l){var u=n(i.getValue()),c=(r.textFilterParams.trimInput?t.trimInput(u):u)||null;o.push(c),i.setValue(c,!0)}})),o},t.prototype.getDefaultFilterOptions=function(){return t.DEFAULT_FILTER_OPTIONS},t.prototype.createValueTemplate=function(e){var t=e===no.One?"1":"2";return'\n            <div class="ag-filter-body" ref="eCondition'+t+'Body" role="presentation">\n                <ag-input-text-field class=".ag-filter-from ag-filter-filter" ref="eValue-index0-'+t+'"></ag-input-text-field>\n                <ag-input-text-field class="ag-filter-to ag-filter-filter" ref="eValue-index1-'+t+'"></ag-input-text-field>\n            </div>'},t.prototype.mapValuesFromModel=function(e){var t=e||{},r=t.filter,n=t.filterTo,o=t.type;return[r||null,n||null].slice(0,this.getNumberOfInputs(o))},t.prototype.evaluateNullValue=function(e){var t=[Wo.NOT_EQUAL,Wo.NOT_CONTAINS,Wo.BLANK];return!!e&&t.indexOf(e)>=0},t.prototype.evaluateNonNullValue=function(e,t,r,n){var o=this,i=e.map((function(e){return o.formatter(e)}))||[],a=this.formatter(t),s=this.textFilterParams,l=s.api,u=s.colDef,c=s.column,p=s.columnApi,d=s.context,h=s.textFormatter;if(r.type===Wo.BLANK)return this.isBlank(t);if(r.type===Wo.NOT_BLANK)return!this.isBlank(t);var f={api:l,colDef:u,column:c,columnApi:p,context:d,node:n.node,data:n.data,filterOption:r.type,value:a,textFormatter:h};return i.some((function(e){return o.matcher(ai(ai({},f),{filterText:e}))}))},t.DEFAULT_FILTER_OPTIONS=[Wo.CONTAINS,Wo.NOT_CONTAINS,Wo.EQUALS,Wo.NOT_EQUAL,Wo.STARTS_WITH,Wo.ENDS_WITH,Wo.BLANK,Wo.NOT_BLANK],t.DEFAULT_FORMATTER=function(e){return e},t.DEFAULT_LOWERCASE_FORMATTER=function(e){return null==e?null:e.toString().toLowerCase()},t.DEFAULT_MATCHER=function(e){var r=e.filterOption,n=e.value,o=e.filterText;if(null==o)return!1;switch(r){case t.CONTAINS:return n.indexOf(o)>=0;case t.NOT_CONTAINS:return n.indexOf(o)<0;case t.EQUALS:return n===o;case t.NOT_EQUAL:return n!=o;case t.STARTS_WITH:return 0===n.indexOf(o);case t.ENDS_WITH:var i=n.lastIndexOf(o);return i>=0&&i===n.length-o.length;default:return!1}},si([to("eValue-index0-1")],t.prototype,"eValueFrom1",void 0),si([to("eValue-index1-1")],t.prototype,"eValueTo1",void 0),si([to("eValue-index0-2")],t.prototype,"eValueFrom2",void 0),si([to("eValue-index1-2")],t.prototype,"eValueTo2",void 0),t}(Wo),ui=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ci=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},pi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ui(t,e),t.prototype.postConstruct=function(){this.resetTemplate()},t.prototype.resetTemplate=function(e){this.setTemplate('\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterInput"></ag-input-text-field>\n            </div>\n        ',e)},t.prototype.getDefaultDebounceMs=function(){return 500},t.prototype.onParentModelChanged=function(e,t){this.isEventFromFloatingFilter(t)||(this.setLastTypeFromModel(e),this.eFloatingFilterInput.setValue(this.getTextFromModel(e)),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)))},t.prototype.init=function(t){e.prototype.init.call(this,t),this.params=t,this.applyActive=bo.isUseApplyButton(this.params.filterParams);var r=this.params.filterParams.allowedCharPattern;if(null!=r&&this.resetTemplate({eFloatingFilterInput:{allowedCharPattern:r}}),!this.isReadOnly()){var n=bo.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),o=G(this.syncUpWithParentFilter.bind(this),n),i=this.eFloatingFilterInput.getGui();this.addManagedListener(i,"input",o),this.addManagedListener(i,"keypress",o),this.addManagedListener(i,"keydown",o)}var a=t.column.getDefinition();(this.isReadOnly()||a.filterParams&&a.filterParams.filterOptions&&1===a.filterParams.filterOptions.length&&"inRange"===a.filterParams.filterOptions[0])&&this.eFloatingFilterInput.setDisabled(!0);var s=this.columnModel.getDisplayNameForColumn(t.column,"header",!0),l=this.gridOptionsWrapper.getLocaleTextFunc();this.eFloatingFilterInput.setInputAriaLabel(s+" "+l("ariaFilterInput","Filter Input"))},t.prototype.syncUpWithParentFilter=function(e){var t=this,r=e.key===po.ENTER;if(!this.applyActive||r){var n=this.eFloatingFilterInput.getValue();this.params.filterParams.trimInput&&(n=li.trimInput(n),this.eFloatingFilterInput.setValue(n,!0)),this.params.parentFilterInstance((function(e){e&&e.onFloatingFilterChanged(t.getLastType()||null,n||null)}))}},t.prototype.conditionToString=function(e,t){var r=(t||{}).numberOfInputs;return e.type==Wo.IN_RANGE||2===r?e.filter+"-"+e.filterTo:null!=e.filter?""+e.filter:""+e.type},t.prototype.setEditable=function(e){this.eFloatingFilterInput.setDisabled(!e)},ci([K("columnModel")],t.prototype,"columnModel",void 0),ci([to("eFloatingFilterInput")],t.prototype,"eFloatingFilterInput",void 0),ci([U],t.prototype,"postConstruct",null),t}(qo),di=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),hi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return di(t,e),t.prototype.getDefaultFilterOptions=function(){return oi.DEFAULT_FILTER_OPTIONS},t}(pi),fi=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),gi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return fi(t,e),t.prototype.getDefaultFilterOptions=function(){return li.DEFAULT_FILTER_OPTIONS},t}(pi),yi=function(){function e(e,t){var r=this;void 0===t&&(t=!1),this.destroyFuncs=[],this.touching=!1,this.eventService=new re,this.eElement=e,this.preventMouseClick=t;var n=this.onTouchStart.bind(this),o=this.onTouchMove.bind(this),i=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",n,{passive:!0}),this.eElement.addEventListener("touchmove",o,{passive:!0}),this.eElement.addEventListener("touchend",i,{passive:!1}),this.destroyFuncs.push((function(){r.eElement.removeEventListener("touchstart",n,{passive:!0}),r.eElement.removeEventListener("touchmove",o,{passive:!0}),r.eElement.removeEventListener("touchend",i,{passive:!1})}))}return e.prototype.getActiveTouch=function(e){for(var t=0;t<e.length;t++){if(e[t].identifier===this.touchStart.identifier)return e[t]}return null},e.prototype.addEventListener=function(e,t){this.eventService.addEventListener(e,t)},e.prototype.removeEventListener=function(e,t){this.eventService.removeEventListener(e,t)},e.prototype.onTouchStart=function(t){var r=this;if(!this.touching){this.touchStart=t.touches[0],this.touching=!0,this.moved=!1;var n=this.touchStart;window.setTimeout((function(){var o=r.touchStart===n;if(r.touching&&o&&!r.moved){r.moved=!0;var i={type:e.EVENT_LONG_TAP,touchStart:r.touchStart,touchEvent:t};r.eventService.dispatchEvent(i)}}),500)}},e.prototype.onTouchMove=function(e){if(this.touching){var t=this.getActiveTouch(e.touches);if(t)!Nn(t,this.touchStart,4)&&(this.moved=!0)}},e.prototype.onTouchEnd=function(t){if(this.touching){if(!this.moved){var r={type:e.EVENT_TAP,touchStart:this.touchStart};this.eventService.dispatchEvent(r),this.checkForDoubleTap()}this.preventMouseClick&&t.preventDefault(),this.touching=!1}},e.prototype.checkForDoubleTap=function(){var t=(new Date).getTime();if(this.lastTapTime&&this.lastTapTime>0)if(t-this.lastTapTime>e.DOUBLE_TAP_MILLIS){var r={type:e.EVENT_DOUBLE_TAP,touchStart:this.touchStart};this.eventService.dispatchEvent(r),this.lastTapTime=null}else this.lastTapTime=t;else this.lastTapTime=t},e.prototype.destroy=function(){this.destroyFuncs.forEach((function(e){return e()}))},e.EVENT_TAP="tap",e.EVENT_DOUBLE_TAP="doubleTap",e.EVENT_LONG_TAP="longTap",e.DOUBLE_TAP_MILLIS=500,e}(),vi=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),mi=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},bi=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lastMovingChanged=0,t}return vi(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.prototype.refresh=function(e){return this.params=e,this.workOutTemplate()==this.currentTemplate&&(this.workOutShowMenu()==this.currentShowMenu&&(this.workOutSort()==this.currentSort&&(this.setDisplayName(e),!0)))},t.prototype.workOutTemplate=function(){var e=le(this.params.template,t.TEMPLATE);return e=e&&e.trim?e.trim():e},t.prototype.init=function(e){this.params=e,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate),this.setupTap(),this.setupIcons(e.column),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setDisplayName(e)},t.prototype.setDisplayName=function(e){if(this.currentDisplayName!=e.displayName){this.currentDisplayName=e.displayName;var t=Ke(this.currentDisplayName);this.eText&&(this.eText.innerHTML=t)}},t.prototype.setupIcons=function(e){this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e),this.addInIcon("menu",this.eMenu,e),this.addInIcon("filter",this.eFilter,e)},t.prototype.addInIcon=function(e,t,r){if(null!=t){var n=Rn(e,this.gridOptionsWrapper,r);n&&t.appendChild(n)}},t.prototype.setupTap=function(){var e=this,t=this.gridOptionsWrapper;if(!t.isSuppressTouch()){var r=new yi(this.getGui(),!0),n=t.isSuppressMenuHide(),i=n&&o(this.eMenu),a=i?new yi(this.eMenu,!0):r;if(this.params.enableMenu){var s=i?"EVENT_TAP":"EVENT_LONG_TAP";this.addManagedListener(a,yi[s],(function(r){t.getApi().showColumnMenuAfterMouseClick(e.params.column,r.touchStart)}))}if(this.params.enableSorting){this.addManagedListener(r,yi.EVENT_TAP,(function(t){var r=t.touchStart.target;n&&e.eMenu.contains(r)||e.sortController.progressSort(e.params.column,!1,"uiColumnSorted")}))}this.addDestroyFunc((function(){return r.destroy()})),i&&this.addDestroyFunc((function(){return a.destroy()}))}},t.prototype.workOutShowMenu=function(){var e=!this.gridOptionsWrapper.isSuppressMenuHide(),t=jt()&&e;return this.params.enableMenu&&!t},t.prototype.setMenu=function(){var e=this;if(this.eMenu)if(this.currentShowMenu=this.workOutShowMenu(),this.currentShowMenu){var t=this.gridOptionsWrapper.isSuppressMenuHide();this.addManagedListener(this.eMenu,"click",(function(){return e.showMenu(e.eMenu)})),this.eMenu.classList.toggle("ag-header-menu-always-show",t)}else dr(this.eMenu)},t.prototype.showMenu=function(e){e||(e=this.eMenu),this.menuFactory.showMenuAfterButtonClick(this.params.column,e,"columnMenu")},t.prototype.removeSortIcons=function(){dr(this.eSortAsc),dr(this.eSortDesc),dr(this.eSortNone),dr(this.eSortOrder)},t.prototype.workOutSort=function(){return this.params.enableSorting},t.prototype.setupSort=function(){var e=this;if(this.currentSort=this.params.enableSorting,this.currentSort){var t=this.gridOptionsWrapper.isMultiSortKeyCtrl();this.addManagedListener(this.params.column,se.EVENT_MOVING_CHANGED,(function(){e.lastMovingChanged=(new Date).getTime()})),this.eLabel&&this.addManagedListener(this.eLabel,"click",(function(r){var n=e.params.column.isMoving(),o=(new Date).getTime()-e.lastMovingChanged<50;if(!(n||o)){var i=t?r.ctrlKey||r.metaKey:r.shiftKey;e.params.progressSort(i)}})),this.addManagedListener(this.params.column,se.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.onSortChanged(),this.addManagedListener(this.eventService,He.EVENT_SORT_CHANGED,this.setMultiSortOrder.bind(this)),this.setMultiSortOrder()}else this.removeSortIcons()},t.prototype.onSortChanged=function(){if(this.addOrRemoveCssClass("ag-header-cell-sorted-asc",this.params.column.isSortAscending()),this.addOrRemoveCssClass("ag-header-cell-sorted-desc",this.params.column.isSortDescending()),this.addOrRemoveCssClass("ag-header-cell-sorted-none",this.params.column.isSortNone()),this.eSortAsc&&this.eSortAsc.classList.toggle("ag-hidden",!this.params.column.isSortAscending()),this.eSortDesc&&this.eSortDesc.classList.toggle("ag-hidden",!this.params.column.isSortDescending()),this.eSortNone){var e=!this.params.column.getColDef().unSortIcon&&!this.gridOptionsWrapper.isUnSortIcon();this.eSortNone.classList.toggle("ag-hidden",e||!this.params.column.isSortNone())}},t.prototype.setMultiSortOrder=function(){if(this.eSortOrder){var e=this.params.column,t=this.sortController.getColumnsWithSortingOrdered(),r=t.indexOf(e),n=t.length>1,o=e.isSorting()&&n;Jt(this.eSortOrder,o),r>=0?this.eSortOrder.innerHTML=(r+1).toString():pr(this.eSortOrder)}},t.prototype.setupFilterIcon=function(){this.eFilter&&(this.addManagedListener(this.params.column,se.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.onFilterChanged())},t.prototype.onFilterChanged=function(){var e=this.params.column.isFilterActive();this.eFilter.classList.toggle("ag-hidden",!e)},t.TEMPLATE='<div class="ag-cell-label-container" role="presentation">\n            <span ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>\n            <div ref="eLabel" class="ag-header-cell-label" role="presentation">\n                <span ref="eText" class="ag-header-cell-text"></span>\n                <span ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>\n                <span ref="eSortOrder" class="ag-header-icon ag-header-label-icon ag-sort-order" aria-hidden="true"></span>\n                <span ref="eSortAsc" class="ag-header-icon ag-header-label-icon ag-sort-ascending-icon" aria-hidden="true"></span>\n                <span ref="eSortDesc" class="ag-header-icon ag-header-label-icon ag-sort-descending-icon" aria-hidden="true"></span>\n                <span ref="eSortNone" class="ag-header-icon ag-header-label-icon ag-sort-none-icon" aria-hidden="true"></span>\n            </div>\n        </div>',mi([K("sortController")],t.prototype,"sortController",void 0),mi([K("menuFactory")],t.prototype,"menuFactory",void 0),mi([to("eFilter")],t.prototype,"eFilter",void 0),mi([to("eSortAsc")],t.prototype,"eSortAsc",void 0),mi([to("eSortDesc")],t.prototype,"eSortDesc",void 0),mi([to("eSortNone")],t.prototype,"eSortNone",void 0),mi([to("eSortOrder")],t.prototype,"eSortOrder",void 0),mi([to("eMenu")],t.prototype,"eMenu",void 0),mi([to("eLabel")],t.prototype,"eLabel",void 0),mi([to("eText")],t.prototype,"eText",void 0),t}(eo),Ci=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),wi=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},xi=function(e){function t(){return e.call(this,t.TEMPLATE)||this}return Ci(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.prototype.init=function(e){this.params=e,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()},t.prototype.checkWarnings=function(){if(this.params.template){T((function(){return console.warn("AG Grid: A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)")}),"HeaderGroupComp.templateNotSupported")}},t.prototype.setupExpandIcons=function(){var e=this;this.addInIcon("columnGroupOpened","agOpened"),this.addInIcon("columnGroupClosed","agClosed");var t=function(t){if(!Pe(t)){var r=!e.params.columnGroup.isExpanded();e.columnModel.setColumnGroupOpened(e.params.columnGroup.getProvidedColumnGroup(),r,"uiColumnExpanded")}};this.addTouchAndClickListeners(this.eCloseIcon,t),this.addTouchAndClickListeners(this.eOpenIcon,t);var r=function(e){_e(e)};this.addManagedListener(this.eCloseIcon,"dblclick",r),this.addManagedListener(this.eOpenIcon,"dblclick",r),this.addManagedListener(this.getGui(),"dblclick",t),this.updateIconVisibility();var n=this.params.columnGroup.getProvidedColumnGroup();this.addManagedListener(n,we.EVENT_EXPANDED_CHANGED,this.updateIconVisibility.bind(this)),this.addManagedListener(n,we.EVENT_EXPANDABLE_CHANGED,this.updateIconVisibility.bind(this))},t.prototype.addTouchAndClickListeners=function(e,t){var r=new yi(e,!0);this.addManagedListener(r,yi.EVENT_TAP,t),this.addDestroyFunc((function(){return r.destroy()})),this.addManagedListener(e,"click",t)},t.prototype.updateIconVisibility=function(){if(this.params.columnGroup.isExpandable()){var e=this.params.columnGroup.isExpanded();Jt(this.eOpenIcon,e),Jt(this.eCloseIcon,!e)}else Jt(this.eOpenIcon,!1),Jt(this.eCloseIcon,!1)},t.prototype.addInIcon=function(e,t){var r=Rn(e,this.gridOptionsWrapper,null);r&&this.getRefElement(t).appendChild(r)},t.prototype.addGroupExpandIcon=function(){if(!this.params.columnGroup.isExpandable())return Jt(this.eOpenIcon,!1),void Jt(this.eCloseIcon,!1)},t.prototype.setupLabel=function(){var e=this.params.displayName;if(o(e)){var t=Ke(e);this.getRefElement("agLabel").innerHTML=t}},t.TEMPLATE='<div class="ag-header-group-cell-label" ref="agContainer" role="presentation">\n            <span ref="agLabel" class="ag-header-group-text" role="presentation"></span>\n            <span ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>\n            <span ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>\n        </div>',wi([K("columnModel")],t.prototype,"columnModel",void 0),wi([to("agOpened")],t.prototype,"eOpenIcon",void 0),wi([to("agClosed")],t.prototype,"eCloseIcon",void 0),t}(eo),Si=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ei=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Si(t,e),t.prototype.isPopup=function(){return!0},t.prototype.setParentComponent=function(t){t.addCssClass("ag-has-popup"),e.prototype.setParentComponent.call(this,t)},t.prototype.destroy=function(){var t=this.parentComponent;t&&t.isAlive()&&t.getGui().classList.remove("ag-has-popup"),e.prototype.destroy.call(this)},t}(eo),Oi=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),_i=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Pi=function(e){function t(){return e.call(this,t.TEMPLATE)||this}return Oi(t,e),t.prototype.init=function(e){this.params=e,this.focusAfterAttached=e.cellStartedEdit,this.eTextArea.setMaxLength(e.maxLength||200).setCols(e.cols||60).setRows(e.rows||10),o(e.value)&&this.eTextArea.setValue(e.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this))},t.prototype.onKeyDown=function(e){var t=e.key;(t===po.LEFT||t===po.UP||t===po.RIGHT||t===po.DOWN||e.shiftKey&&t===po.ENTER)&&e.stopPropagation()},t.prototype.afterGuiAttached=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(e("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()},t.prototype.getValue=function(){return this.params.parseValue(this.eTextArea.getValue())},t.TEMPLATE='<div class="ag-large-text" tabindex="0">\n            <ag-input-text-area ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>\n        </div>',_i([to("eTextArea")],t.prototype,"eTextArea",void 0),t}(Ei),Ri=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ai=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Ti=function(e){function t(){var t=e.call(this,'<div class="ag-cell-edit-wrapper"><ag-select class="ag-cell-editor" ref="eSelect"></ag-select></div>')||this;return t.startedByEnter=!1,t}return Ri(t,e),t.prototype.init=function(e){var t=this;if(this.focusAfterAttached=e.cellStartedEdit,i(e.values))console.warn("AG Grid: no values found for select cellEditor");else{this.startedByEnter=null!=e.eventKey&&e.eventKey===po.ENTER;var r=!1;e.values.forEach((function(n){var o={value:n},i=t.valueFormatterService.formatValue(e.column,null,null,n),a=null!==i&&void 0!==i;o.text=a?i:n,t.eSelect.addOption(o),r=r||e.value===n})),r?this.eSelect.setValue(e.value,!0):e.values.length&&this.eSelect.setValue(e.values[0],!0),this.gridOptionsWrapper.isFullRowEdit()||this.eSelect.onValueChange((function(){return e.stopEditing()}))}},t.prototype.afterGuiAttached=function(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&this.eSelect.showPicker()},t.prototype.focusIn=function(){this.eSelect.getFocusableElement().focus()},t.prototype.getValue=function(){return this.eSelect.getValue()},t.prototype.isPopup=function(){return!1},Ai([K("valueFormatterService")],t.prototype,"valueFormatterService",void 0),Ai([to("eSelect")],t.prototype,"eSelect",void 0),t}(Ei),Di=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Mi=function(e){function t(){var t=e.call(this)||this;return T((function(){return console.warn('AG Grid: The PopupSelectCellEditor (agPopupSelectCellEditor) is deprecated. Instead use {cellEditor: "agSelectCellEditor", cellEditorPopup: true} ')}),"PopupSelectCellEditor.deprecated"),t}return Di(t,e),t.prototype.isPopup=function(){return!0},t}(Ti),ki=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ni=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Ii=function(e){function t(){return e.call(this,t.TEMPLATE)||this}return ki(t,e),t.prototype.init=function(e){this.params=e;var t,r=this.eInput;e.cellStartedEdit?(this.focusAfterAttached=!0,e.eventKey===po.BACKSPACE||e.eventKey===po.DELETE?t="":e.charPress?t=e.charPress:(t=this.getStartValue(e),e.eventKey!==po.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,t=this.getStartValue(e)),null!=t&&r.setValue(t,!0),this.addManagedListener(r.getGui(),"keydown",(function(e){var t=e.key;t!==po.PAGE_UP&&t!==po.PAGE_DOWN||e.preventDefault()}))},t.prototype.afterGuiAttached=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),t=this.eInput;if(t.setInputAriaLabel(e("ariaInputEditor","Input Editor")),this.focusAfterAttached){Bt()||t.getFocusableElement().focus();var r=t.getInputElement();if(this.highlightAllOnFocus)r.select();else{var n=t.getValue(),i=o(n)&&n.length||0;i&&r.setSelectionRange(i,i)}}},t.prototype.focusIn=function(){var e=this.eInput,t=e.getFocusableElement(),r=e.getInputElement();t.focus(),r.select()},t.prototype.getValue=function(){var e=this.eInput;return this.params.parseValue(e.getValue())},t.prototype.getStartValue=function(e){return e.useFormatter||e.column.getColDef().refData?e.formatValue(e.value):e.value},t.prototype.isPopup=function(){return!1},t.TEMPLATE='<div class="ag-cell-edit-wrapper"><ag-input-text-field class="ag-cell-editor" ref="eInput"></ag-input-text-field></div>',Ni([to("eInput")],t.prototype,"eInput",void 0),t}(Ei),Li=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Fi=function(e){function t(){var t=e.call(this)||this;return T((function(){return console.warn('AG Grid: The PopupTextCellEditor (agPopupTextCellEditor) is deprecated. Instead use {cellEditor: "agTextCellEditor", cellEditorPopup: true} ')}),"PopupTextCellEditor.deprecated"),t}return Li(t,e),t.prototype.isPopup=function(){return!0},t}(Ii),Gi=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Bi=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Wi=function(e){function t(){var r=e.call(this,t.TEMPLATE)||this;return r.refreshCount=0,r}return Gi(t,e),t.prototype.init=function(e){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(e)},t.prototype.showDelta=function(e,t){var r=Math.abs(t),n=e.formatValue(r),i=o(n)?n:r,a=t>=0;this.eDelta.innerHTML=a?"\u2191"+i:"\u2193"+i,this.eDelta.classList.toggle("ag-value-change-delta-up",a),this.eDelta.classList.toggle("ag-value-change-delta-down",!a)},t.prototype.setTimerToRemoveDelta=function(){var e=this;this.refreshCount++;var t=this.refreshCount;window.setTimeout((function(){t===e.refreshCount&&e.hideDeltaValue()}),2e3)},t.prototype.hideDeltaValue=function(){this.eValue.classList.remove("ag-value-change-value-highlight"),pr(this.eDelta)},t.prototype.refresh=function(e){var t=e.value;if(t===this.lastValue)return!1;if(o(e.valueFormatted)?this.eValue.innerHTML=e.valueFormatted:o(e.value)?this.eValue.innerHTML=t:pr(this.eValue),this.filterManager.isSuppressFlashingCellsBecauseFiltering())return!1;if("number"===typeof t&&"number"===typeof this.lastValue){var r=t-this.lastValue;this.showDelta(e,r)}return this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),this.setTimerToRemoveDelta(),this.lastValue=t,!0},t.TEMPLATE='<span><span class="ag-value-change-delta"></span><span class="ag-value-change-value"></span></span>',Bi([K("filterManager")],t.prototype,"filterManager",void 0),t}(eo),Hi=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ji=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Vi=function(e){function t(){var r=e.call(this,t.TEMPLATE)||this;return r.refreshCount=0,r.eCurrent=r.queryForHtmlElement(".ag-value-slide-current"),r}return Hi(t,e),t.prototype.init=function(e){this.refresh(e)},t.prototype.addSlideAnimation=function(){var e=this;this.refreshCount++;var t=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious),this.ePrevious=fr('<span class="ag-value-slide-previous ag-value-slide-out"></span>'),this.ePrevious.innerHTML=this.eCurrent.innerHTML,this.getGui().insertBefore(this.ePrevious,this.eCurrent),window.setTimeout((function(){t===e.refreshCount&&e.ePrevious.classList.add("ag-value-slide-out-end")}),50),window.setTimeout((function(){t===e.refreshCount&&(e.getGui().removeChild(e.ePrevious),e.ePrevious=null)}),3e3)},t.prototype.refresh=function(e){var t=e.value;return i(t)&&(t=""),t!==this.lastValue&&(!this.filterManager.isSuppressFlashingCellsBecauseFiltering()&&(this.addSlideAnimation(),this.lastValue=t,o(e.valueFormatted)?this.eCurrent.innerHTML=e.valueFormatted:o(e.value)?this.eCurrent.innerHTML=t:pr(this.eCurrent),!0))},t.TEMPLATE='<span>\n            <span class="ag-value-slide-current"></span>\n        </span>',ji([K("filterManager")],t.prototype,"filterManager",void 0),t}(eo);(Bo=t.RowHighlightPosition||(t.RowHighlightPosition={}))[Bo.Above=0]="Above",Bo[Bo.Below=1]="Below";var zi,Ui,Yi,Xi=function(){function e(t){this.rowIndex=null,this.key=null,this.childrenMapped={},this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=e.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.selected=!1,this.onRowHeightChangedDebounced=G(this.onRowHeightChanged.bind(this),100),this.beans=t}return e.prototype.setData=function(e){this.setDataCommon(e,!1)},e.prototype.updateData=function(e){this.setDataCommon(e,!0)},e.prototype.setDataCommon=function(e,t){var r=this.data;this.data=e,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable();var n=this.createDataChangedEvent(e,r,t);this.dispatchLocalEvent(n)},e.prototype.updateDataOnDetailNode=function(){this.detailNode&&(this.detailNode.data=this.data)},e.prototype.createDataChangedEvent=function(t,r,n){return{type:e.EVENT_DATA_CHANGED,node:this,oldData:r,newData:t,update:n}},e.prototype.createLocalRowEvent=function(e){return{type:e,node:this}},e.prototype.getRowIndexString=function(){return this.rowPinned===ne.PINNED_TOP?"t-"+this.rowIndex:this.rowPinned===ne.PINNED_BOTTOM?"b-"+this.rowIndex:this.rowIndex.toString()},e.prototype.createDaemonNode=function(){var t=new e(this.beans);return t.id=this.id,t.data=this.data,t.daemon=!0,t.selected=this.selected,t.level=this.level,t},e.prototype.setDataAndId=function(e,t){var r=o(this.id)?this.createDaemonNode():null,n=this.data;this.data=e,this.updateDataOnDetailNode(),this.setId(t),this.beans.selectionService.syncInRowNode(this,r),this.checkRowSelectable();var i=this.createDataChangedEvent(e,n,!1);this.dispatchLocalEvent(i)},e.prototype.checkRowSelectable=function(){var e=this.beans.gridOptionsWrapper.getIsRowSelectableFunc();this.setRowSelectable(!e||e(this))},e.prototype.setRowSelectable=function(t){this.selectable!==t&&(this.selectable=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_SELECTABLE_CHANGED)))},e.prototype.setId=function(t){var r=this.beans.gridOptionsWrapper.getRowIdFunc();if(r)if(this.data){var n=this.getGroupKeys(!0);this.id=r({data:this.data,parentKeys:n.length>0?n:void 0,level:this.level}),null!==this.id&&"string"===typeof this.id&&this.id.startsWith(e.ID_PREFIX_ROW_GROUP)&&console.error("AG Grid: Row IDs cannot start with "+e.ID_PREFIX_ROW_GROUP+", this is a reserved prefix for AG Grid's row grouping feature."),null!==this.id&&"string"!==typeof this.id&&(this.id=""+this.id)}else this.id=void 0;else this.id=t},e.prototype.getGroupKeys=function(e){void 0===e&&(e=!1);var t=[],r=this;for(e&&(r=r.parent);r&&r.level>=0;)t.push(r.key),r=r.parent;return t.reverse(),t},e.prototype.isPixelInRange=function(e){return!(!o(this.rowTop)||!o(this.rowHeight))&&(e>=this.rowTop&&e<this.rowTop+this.rowHeight)},e.prototype.setFirstChild=function(t){this.firstChild!==t&&(this.firstChild=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_FIRST_CHILD_CHANGED)))},e.prototype.setLastChild=function(t){this.lastChild!==t&&(this.lastChild=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_LAST_CHILD_CHANGED)))},e.prototype.setChildIndex=function(t){this.childIndex!==t&&(this.childIndex=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_CHILD_INDEX_CHANGED)))},e.prototype.setRowTop=function(t){this.oldRowTop=this.rowTop,this.rowTop!==t&&(this.rowTop=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_TOP_CHANGED)),this.setDisplayed(null!==t))},e.prototype.clearRowTopAndRowIndex=function(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)},e.prototype.setDisplayed=function(t){this.displayed!==t&&(this.displayed=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_DISPLAYED_CHANGED)))},e.prototype.setDragging=function(t){this.dragging!==t&&(this.dragging=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_DRAGGING_CHANGED)))},e.prototype.setHighlighted=function(t){t!==this.highlighted&&(this.highlighted=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_HIGHLIGHT_CHANGED)))},e.prototype.setAllChildrenCount=function(t){this.allChildrenCount!==t&&(this.allChildrenCount=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_ALL_CHILDREN_COUNT_CHANGED)))},e.prototype.setMaster=function(t){this.master!==t&&(this.master&&!t&&(this.expanded=!1),this.master=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_MASTER_CHANGED)))},e.prototype.setGroup=function(t){this.group!==t&&(this.group&&!t&&(this.expanded=!1),this.group=t,this.updateHasChildren(),this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_GROUP_CHANGED)))},e.prototype.setRowHeight=function(t,r){void 0===r&&(r=!1),this.rowHeight=t,this.rowHeightEstimated=r,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_HEIGHT_CHANGED))},e.prototype.setRowAutoHeight=function(e,t){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[t.getId()]=e,null!=e&&(null==this.checkAutoHeightsDebounced&&(this.checkAutoHeightsDebounced=G(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())},e.prototype.checkAutoHeights=function(){var e=!1,t=!0,r=0,n=this.__autoHeights;null!=n&&(this.beans.columnModel.getAllDisplayedAutoHeightCols().forEach((function(o){var i=n[o.getId()];null!=i?(t=!1,i>r&&(r=i)):e=!0})),e||((t||r<10)&&(r=this.beans.gridOptionsWrapper.getRowHeightForNode(this).height),r!=this.rowHeight&&(this.setRowHeight(r),this.onRowHeightChangedDebounced())))},e.prototype.onRowHeightChanged=function(){var e=this.beans.rowModel;e.onRowHeightChanged&&e.onRowHeightChanged()},e.prototype.setRowIndex=function(t){this.rowIndex!==t&&(this.rowIndex=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_ROW_INDEX_CHANGED)))},e.prototype.setUiLevel=function(t){this.uiLevel!==t&&(this.uiLevel=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_UI_LEVEL_CHANGED)))},e.prototype.setExpanded=function(t,r){if(this.expanded!==t){this.expanded=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_EXPANDED_CHANGED));var n=Object.assign({},this.createGlobalRowEvent(He.EVENT_ROW_GROUP_OPENED),{expanded:t,event:r||null});this.beans.rowNodeEventThrottle.dispatchExpanded(n),this.beans.gridOptionsWrapper.isGroupIncludeFooter()&&this.beans.rowRenderer.refreshCells({rowNodes:[this]})}},e.prototype.createGlobalRowEvent=function(e){return{type:e,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned,context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi()}},e.prototype.dispatchLocalEvent=function(e){this.eventService&&this.eventService.dispatchEvent(e)},e.prototype.setDataValue=function(e,t,r){var n=this.beans.columnModel.getPrimaryColumn(e),o=this.beans.valueService.getValue(n,this),i=this.beans.valueService.setValue(this,n,t,r);return this.dispatchCellChangedEvent(n,t,o),i},e.prototype.setGroupValue=function(e,t){var r=this.beans.columnModel.getGridColumn(e);i(this.groupData)&&(this.groupData={});var n=r.getColId(),o=this.groupData[n];o!==t&&(this.groupData[n]=t,this.dispatchCellChangedEvent(r,t,o))},e.prototype.setAggData=function(e){var t=this,r=C([this.aggData,e]),n=this.aggData;this.aggData=e,this.eventService&&r.forEach((function(e){var r=t.beans.columnModel.getGridColumn(e),o=t.aggData?t.aggData[e]:void 0,i=n?n[e]:void 0;t.dispatchCellChangedEvent(r,o,i)}))},e.prototype.updateHasChildren=function(){var t=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;t!==this.__hasChildren&&(this.__hasChildren=!!t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_HAS_CHILDREN_CHANGED)))},e.prototype.hasChildren=function(){return null==this.__hasChildren&&this.updateHasChildren(),this.__hasChildren},e.prototype.isEmptyRowGroupNode=function(){return this.group&&a(this.childrenAfterGroup)},e.prototype.dispatchCellChangedEvent=function(t,r,n){var o={type:e.EVENT_CELL_CHANGED,node:this,column:t,newValue:r,oldValue:n};this.dispatchLocalEvent(o)},e.prototype.resetQuickFilterAggregateText=function(){this.quickFilterAggregateText=null},e.prototype.isExpandable=function(){return!!(this.hasChildren()&&!this.footer||this.master)},e.prototype.isSelected=function(){return this.footer?this.sibling.isSelected():this.selected},e.prototype.depthFirstSearch=function(e){this.childrenAfterGroup&&this.childrenAfterGroup.forEach((function(t){return t.depthFirstSearch(e)})),e(this)},e.prototype.calculateSelectedFromChildren=function(){var e,t,r=!1,n=!1,o=!1;if(null===(e=this.childrenAfterGroup)||void 0===e?void 0:e.length){for(var i=0;i<this.childrenAfterGroup.length;i++){var a=this.childrenAfterGroup[i];if(a.selectable)switch(a.isSelected()){case!0:r=!0;break;case!1:n=!0;break;default:o=!0}}t=o?void 0:!(!r||n)||!(!r&&n)&&void 0,this.selectThisNode(t)}},e.prototype.setSelectedInitialValue=function(e){this.selected=e},e.prototype.setSelected=function(e,t,r){void 0===t&&(t=!1),void 0===r&&(r=!1),this.setSelectedParams({newValue:e,clearSelection:t,suppressFinishActions:r,rangeSelect:!1})},e.prototype.isRowPinned=function(){return this.rowPinned===ne.PINNED_TOP||this.rowPinned===ne.PINNED_BOTTOM},e.prototype.setSelectedParams=function(e){var t,r=this.beans.gridOptionsWrapper.isGroupSelectsChildren(),n=!0===e.newValue,o=!0===e.clearSelection,i=!0===e.suppressFinishActions,a=!0===e.rangeSelect,s=r&&!0===e.groupSelectsFiltered;if(void 0===this.id)return console.warn("AG Grid: cannot select node until id for node is known"),0;if(this.rowPinned)return console.warn("AG Grid: cannot select pinned rows"),0;if(this.footer)return this.sibling.setSelectedParams(e);if(a&&this.beans.selectionService.getLastSelectedNode()){var l=this.beans.selectionService.getLastSelectedNode()!==this,u=this.beans.gridOptionsWrapper.isRowSelectionMulti();if(l&&u){var c=this.doRowRangeSelection(e.newValue);return this.beans.selectionService.setLastSelectedNode(this),c}}var p=0;s&&this.group||this.selectThisNode(n)&&p++;if(r&&(null===(t=this.childrenAfterGroup)||void 0===t?void 0:t.length)&&(p+=this.selectChildNodes(n,s)),!i){if(n&&(o||!this.beans.gridOptionsWrapper.isRowSelectionMulti())&&(p+=this.beans.selectionService.clearOtherNodes(this)),p>0){this.beans.selectionService.updateGroupsFromChildrenSelections();var d={type:He.EVENT_SELECTION_CHANGED,api:this.beans.gridApi,columnApi:this.beans.columnApi};this.beans.eventService.dispatchEvent(d)}n&&this.beans.selectionService.setLastSelectedNode(this)}return p},e.prototype.doRowRangeSelection=function(e){var t=this;void 0===e&&(e=!0);var r=this.beans.gridOptionsWrapper.isGroupSelectsChildren(),n=this.beans.selectionService.getLastSelectedNode(),o=this.beans.rowModel.getNodesInRangeForSelection(this,n),i=0;o.forEach((function(n){n.group&&r||!1===e&&t===n||n.selectThisNode(e)&&i++})),this.beans.selectionService.updateGroupsFromChildrenSelections();var a={type:He.EVENT_SELECTION_CHANGED,api:this.beans.gridApi,columnApi:this.beans.columnApi};return this.beans.eventService.dispatchEvent(a),i},e.prototype.isParentOfNode=function(e){for(var t=this.parent;t;){if(t===e)return!0;t=t.parent}return!1},e.prototype.selectThisNode=function(t){var r=!this.selectable&&t,n=this.selected===t;if(r||n)return!1;this.selected=t,this.eventService&&this.dispatchLocalEvent(this.createLocalRowEvent(e.EVENT_ROW_SELECTED));var o=this.createGlobalRowEvent(He.EVENT_ROW_SELECTED);return this.beans.eventService.dispatchEvent(o),!0},e.prototype.selectChildNodes=function(e,t){var r=t?this.childrenAfterAggFilter:this.childrenAfterGroup;if(i(r))return 0;for(var n=0,o=0;o<r.length;o++)n+=r[o].setSelectedParams({newValue:e,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:t});return n},e.prototype.addEventListener=function(e,t){this.eventService||(this.eventService=new re),this.eventService.addEventListener(e,t)},e.prototype.removeEventListener=function(e,t){this.eventService&&(this.eventService.removeEventListener(e,t),this.eventService.noRegisteredListenersExist()&&(this.eventService=null))},e.prototype.onMouseEnter=function(){this.dispatchLocalEvent(this.createLocalRowEvent(e.EVENT_MOUSE_ENTER))},e.prototype.onMouseLeave=function(){this.dispatchLocalEvent(this.createLocalRowEvent(e.EVENT_MOUSE_LEAVE))},e.prototype.getFirstChildOfFirstChild=function(e){for(var t=this,r=!0,n=!1,i=null;r&&!n;){var a=t.parent;o(a)&&t.firstChild?a.rowGroupColumn===e&&(n=!0,i=a):r=!1,t=a}return n?i:null},e.prototype.isFullWidthCell=function(){var e=this.beans.gridOptionsWrapper.getIsFullWidthCellFunc();return!!e&&e({rowNode:this})},e.prototype.getRoute=function(){if(null!=this.key){for(var e=[],t=this;null!=t.key;)e.push(t.key),t=t.parent;return e.reverse()}},e.ID_PREFIX_ROW_GROUP="row-group-",e.ID_PREFIX_TOP_PINNED="t-",e.ID_PREFIX_BOTTOM_PINNED="b-",e.OBJECT_ID_SEQUENCE=0,e.EVENT_ROW_SELECTED="rowSelected",e.EVENT_DATA_CHANGED="dataChanged",e.EVENT_CELL_CHANGED="cellChanged",e.EVENT_ALL_CHILDREN_COUNT_CHANGED="allChildrenCountChanged",e.EVENT_MASTER_CHANGED="masterChanged",e.EVENT_GROUP_CHANGED="groupChanged",e.EVENT_MOUSE_ENTER="mouseEnter",e.EVENT_MOUSE_LEAVE="mouseLeave",e.EVENT_HEIGHT_CHANGED="heightChanged",e.EVENT_TOP_CHANGED="topChanged",e.EVENT_DISPLAYED_CHANGED="displayedChanged",e.EVENT_FIRST_CHILD_CHANGED="firstChildChanged",e.EVENT_LAST_CHILD_CHANGED="lastChildChanged",e.EVENT_CHILD_INDEX_CHANGED="childIndexChanged",e.EVENT_ROW_INDEX_CHANGED="rowIndexChanged",e.EVENT_EXPANDED_CHANGED="expandedChanged",e.EVENT_HAS_CHILDREN_CHANGED="hasChildrenChanged",e.EVENT_SELECTABLE_CHANGED="selectableChanged",e.EVENT_UI_LEVEL_CHANGED="uiLevelChanged",e.EVENT_HIGHLIGHT_CHANGED="rowHighlightChanged",e.EVENT_DRAGGING_CHANGED="draggingChanged",e}(),Ki=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),qi=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},$i=function(e){function t(){return e.call(this,'\n            <div class="ag-selection-checkbox" role="presentation">\n                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>\n            </div>')||this}return Ki(t,e),t.prototype.postConstruct=function(){this.eCheckbox.setPassive(!0)},t.prototype.getCheckboxId=function(){return this.eCheckbox.getInputElement().id},t.prototype.onDataChanged=function(){this.onSelectionChanged()},t.prototype.onSelectableChanged=function(){this.showOrHideSelect()},t.prototype.onSelectionChanged=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),t=this.rowNode.isSelected(),r=void 0===t?e("ariaIndeterminate","indeterminate"):!0===t?e("ariaChecked","checked"):e("ariaUnchecked","unchecked"),n=e("ariaRowToggleSelection","Press Space to toggle row selection");this.eCheckbox.setValue(t,!0),this.eCheckbox.setInputAriaLabel(n+" ("+r+")")},t.prototype.onCheckedClicked=function(e){var t=this.gridOptionsWrapper.isGroupSelectsFiltered();return this.rowNode.setSelectedParams({newValue:!1,rangeSelect:e.shiftKey,groupSelectsFiltered:t})},t.prototype.onUncheckedClicked=function(e){var t=this.gridOptionsWrapper.isGroupSelectsFiltered();return this.rowNode.setSelectedParams({newValue:!0,rangeSelect:e.shiftKey,groupSelectsFiltered:t})},t.prototype.init=function(e){var t=this;if(this.rowNode=e.rowNode,this.column=e.column,this.onSelectionChanged(),this.addGuiEventListener("click",(function(e){return _e(e)})),this.addGuiEventListener("dblclick",(function(e){return _e(e)})),this.addManagedListener(this.eCheckbox.getInputElement(),"click",(function(e){var r=t.eCheckbox.getValue();void 0===t.eCheckbox.getPreviousValue()||void 0===r?0===t.onUncheckedClicked(e||{})&&t.onCheckedClicked(e):r?t.onCheckedClicked(e):t.onUncheckedClicked(e||{})})),this.addManagedListener(this.rowNode,Xi.EVENT_ROW_SELECTED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.rowNode,Xi.EVENT_DATA_CHANGED,this.onDataChanged.bind(this)),this.addManagedListener(this.rowNode,Xi.EVENT_SELECTABLE_CHANGED,this.onSelectableChanged.bind(this)),this.gridOptionsWrapper.getIsRowSelectableFunc()||this.checkboxCallbackExists()){var r=this.showOrHideSelect.bind(this);this.addManagedListener(this.eventService,He.EVENT_DISPLAYED_COLUMNS_CHANGED,r),this.addManagedListener(this.rowNode,Xi.EVENT_DATA_CHANGED,r),this.addManagedListener(this.rowNode,Xi.EVENT_CELL_CHANGED,r),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")},t.prototype.showOrHideSelect=function(){var e=this.rowNode.selectable;e&&this.checkboxCallbackExists()&&(e=this.column.isCellCheckboxSelection(this.rowNode)),this.setVisible(e)},t.prototype.checkboxCallbackExists=function(){var e=this.column?this.column.getColDef():null;return!!e&&"function"===typeof e.checkboxSelection},qi([to("eCheckbox")],t.prototype,"eCheckbox",void 0),qi([U],t.prototype,"postConstruct",null),t}(eo),Zi=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Qi=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Ji=function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};(zi=t.DragSourceType||(t.DragSourceType={}))[zi.ToolPanel=0]="ToolPanel",zi[zi.HeaderCell=1]="HeaderCell",zi[zi.RowDrag=2]="RowDrag",zi[zi.ChartPanel=3]="ChartPanel",(Ui=t.VerticalDirection||(t.VerticalDirection={}))[Ui.Up=0]="Up",Ui[Ui.Down=1]="Down",(Yi=t.HorizontalDirection||(t.HorizontalDirection={}))[Yi.Left=0]="Left",Yi[Yi.Right=1]="Right";var ea,ta=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.dragSourceAndParamsList=[],t.dropTargets=[],t}var n;return Zi(r,e),n=r,r.prototype.init=function(){this.ePinnedIcon=Pn("columnMovePin",this.gridOptionsWrapper,null),this.eHideIcon=Pn("columnMoveHide",this.gridOptionsWrapper,null),this.eMoveIcon=Pn("columnMoveMove",this.gridOptionsWrapper,null),this.eLeftIcon=Pn("columnMoveLeft",this.gridOptionsWrapper,null),this.eRightIcon=Pn("columnMoveRight",this.gridOptionsWrapper,null),this.eGroupIcon=Pn("columnMoveGroup",this.gridOptionsWrapper,null),this.eAggregateIcon=Pn("columnMoveValue",this.gridOptionsWrapper,null),this.ePivotIcon=Pn("columnMovePivot",this.gridOptionsWrapper,null),this.eDropNotAllowedIcon=Pn("dropNotAllowed",this.gridOptionsWrapper,null)},r.prototype.addDragSource=function(e,t){void 0===t&&(t=!1);var r={eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this)};this.dragSourceAndParamsList.push({params:r,dragSource:e}),this.dragService.addDragSource(r,t)},r.prototype.removeDragSource=function(e){var t=this.dragSourceAndParamsList.find((function(t){return t.dragSource===e}));t&&(this.dragService.removeDragSource(t.params),de(this.dragSourceAndParamsList,t))},r.prototype.clearDragSourceParamsList=function(){var e=this;this.dragSourceAndParamsList.forEach((function(t){return e.dragService.removeDragSource(t.params)})),this.dragSourceAndParamsList.length=0},r.prototype.nudge=function(){this.dragging&&this.onDragging(this.eventLastTime,!0)},r.prototype.onDragStart=function(e,t){this.dragging=!0,this.dragSource=e,this.eventLastTime=t,this.dragItem=this.dragSource.getDragItem(),this.lastDropTarget=this.dragSource.dragSourceDropTarget,this.dragSource.onDragStarted&&this.dragSource.onDragStarted(),this.createGhost()},r.prototype.onDragStop=function(e){if(this.eventLastTime=null,this.dragging=!1,this.dragSource.onDragStopped&&this.dragSource.onDragStopped(),this.lastDropTarget&&this.lastDropTarget.onDragStop){var t=this.createDropTargetEvent(this.lastDropTarget,e,null,null,!1);this.lastDropTarget.onDragStop(t)}this.lastDropTarget=null,this.dragItem=null,this.removeGhost()},r.prototype.onDragging=function(e,t){var r=this,n=this.getHorizontalDirection(e),o=this.getVerticalDirection(e);this.eventLastTime=e,this.positionGhost(e);var i=this.dropTargets.filter((function(t){return r.isMouseOnDropTarget(e,t)})),a=i.length,s=null;if(a>0&&(s=1===a?i[0]:i.reduce((function(e,t){if(!e)return t;var r=e.getContainer(),n=t.getContainer();return r.contains(n)?t:e}))),s!==this.lastDropTarget)this.leaveLastTargetIfExists(e,n,o,t),this.enterDragTargetIfExists(s,e,n,o,t),this.lastDropTarget=s;else if(s&&s.onDragging){var l=this.createDropTargetEvent(s,e,n,o,t);s.onDragging(l)}},r.prototype.enterDragTargetIfExists=function(e,t,r,n,o){if(e){if(e.onDragEnter){var i=this.createDropTargetEvent(e,t,r,n,o);e.onDragEnter(i)}this.setGhostIcon(e.getIconName?e.getIconName():null)}},r.prototype.leaveLastTargetIfExists=function(e,t,r,n){if(this.lastDropTarget){if(this.lastDropTarget.onDragLeave){var o=this.createDropTargetEvent(this.lastDropTarget,e,t,r,n);this.lastDropTarget.onDragLeave(o)}this.setGhostIcon(null)}},r.prototype.getAllContainersFromDropTarget=function(e){var t=e.getSecondaryContainers?e.getSecondaryContainers():null,r=[[e.getContainer()]];return t?r.concat(t):r},r.prototype.allContainersIntersect=function(e,t){var r,n;try{for(var o=Ji(t),i=o.next();!i.done;i=o.next()){var a=i.value.getBoundingClientRect();if(0===a.width||0===a.height)return!1;var s=e.clientX>=a.left&&e.clientX<a.right,l=e.clientY>=a.top&&e.clientY<a.bottom;if(!s||!l)return!1}}catch(u){r={error:u}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return!0},r.prototype.isMouseOnDropTarget=function(e,t){var r,n,o=this.getAllContainersFromDropTarget(t),i=!1;try{for(var a=Ji(o),s=a.next();!s.done;s=a.next()){var l=s.value;if(this.allContainersIntersect(e,l)){i=!0;break}}}catch(u){r={error:u}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return!(t.targetContainsSource&&!t.getContainer().contains(this.dragSource.eElement))&&(i&&t.isInterestedIn(this.dragSource.type,this.dragSource.eElement))},r.prototype.addDropTarget=function(e){this.dropTargets.push(e)},r.prototype.removeDropTarget=function(e){this.dropTargets=this.dropTargets.filter((function(t){return t.getContainer()!==e.getContainer()}))},r.prototype.hasExternalDropZones=function(){return this.dropTargets.some((function(e){return e.external}))},r.prototype.findExternalZone=function(e){return this.dropTargets.filter((function(e){return e.external})).find((function(t){return t.getContainer()===e.getContainer()}))||null},r.prototype.getHorizontalDirection=function(e){var r=this.eventLastTime&&this.eventLastTime.clientX,n=e.clientX;return r===n?null:r>n?t.HorizontalDirection.Left:t.HorizontalDirection.Right},r.prototype.getVerticalDirection=function(e){var r=this.eventLastTime&&this.eventLastTime.clientY,n=e.clientY;return r===n?null:r>n?t.VerticalDirection.Up:t.VerticalDirection.Down},r.prototype.createDropTargetEvent=function(e,t,r,n,o){var i=e.getContainer(),a=i.getBoundingClientRect(),s=this,l=s.gridApi,u=s.columnApi,c=s.dragItem,p=s.dragSource;return{event:t,x:t.clientX-a.left,y:t.clientY-a.top,vDirection:n,hDirection:r,dragSource:p,fromNudge:o,dragItem:c,api:l,columnApi:u,dropZoneTarget:i}},r.prototype.positionGhost=function(e){var t=this.eGhost;if(t){var r=t.getBoundingClientRect().height,n=Kt()-2,o=qt()-2,i=e.pageY-r/2,a=e.pageX-10,s=this.gridOptionsWrapper.getDocument(),l=s.defaultView||window,u=l.pageYOffset||s.documentElement.scrollTop,c=l.pageXOffset||s.documentElement.scrollLeft;n>0&&a+t.clientWidth>n+c&&(a=n+c-t.clientWidth),a<0&&(a=0),o>0&&i+t.clientHeight>o+u&&(i=o+u-t.clientHeight),i<0&&(i=0),t.style.left=a+"px",t.style.top=i+"px"}},r.prototype.removeGhost=function(){this.eGhost&&this.eGhostParent&&this.eGhostParent.removeChild(this.eGhost),this.eGhost=null},r.prototype.createGhost=function(){this.eGhost=fr(n.GHOST_TEMPLATE);var e=this.environment.getTheme().theme;e&&this.eGhost.classList.add(e),this.eGhostIcon=this.eGhost.querySelector(".ag-dnd-ghost-icon"),this.setGhostIcon(null);var t=this.eGhost.querySelector(".ag-dnd-ghost-label"),r=this.dragSource.dragItemName;M(r)&&(r=r()),t.innerHTML=Ke(r)||"",this.eGhost.style.height="25px",this.eGhost.style.top="20px",this.eGhost.style.left="20px";var o=this.gridOptionsWrapper.getDocument(),i=null;try{i=o.fullscreenElement}catch(a){}finally{i||(i=o.querySelector("body"))}this.eGhostParent=i,this.eGhostParent?this.eGhostParent.appendChild(this.eGhost):console.warn("AG Grid: could not find document body, it is needed for dragging columns")},r.prototype.setGhostIcon=function(e,t){void 0===t&&(t=!1),pr(this.eGhostIcon);var r=null;switch(e||(e=this.dragSource.defaultIconName||n.ICON_NOT_ALLOWED),e){case n.ICON_PINNED:r=this.ePinnedIcon;break;case n.ICON_MOVE:r=this.eMoveIcon;break;case n.ICON_LEFT:r=this.eLeftIcon;break;case n.ICON_RIGHT:r=this.eRightIcon;break;case n.ICON_GROUP:r=this.eGroupIcon;break;case n.ICON_AGGREGATE:r=this.eAggregateIcon;break;case n.ICON_PIVOT:r=this.ePivotIcon;break;case n.ICON_NOT_ALLOWED:r=this.eDropNotAllowedIcon;break;case n.ICON_HIDE:r=this.eHideIcon}this.eGhostIcon.classList.toggle("ag-shake-left-to-right",t),r===this.eHideIcon&&this.gridOptionsWrapper.isSuppressDragLeaveHidesColumns()||r&&this.eGhostIcon.appendChild(r)},r.ICON_PINNED="pinned",r.ICON_MOVE="move",r.ICON_LEFT="left",r.ICON_RIGHT="right",r.ICON_GROUP="group",r.ICON_AGGREGATE="aggregate",r.ICON_PIVOT="pivot",r.ICON_NOT_ALLOWED="notAllowed",r.ICON_HIDE="hide",r.GHOST_TEMPLATE='<div class="ag-dnd-ghost ag-unselectable">\n            <span class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>\n            <div class="ag-dnd-ghost-label"></div>\n        </div>',Qi([K("dragService")],r.prototype,"dragService",void 0),Qi([K("environment")],r.prototype,"environment",void 0),Qi([K("columnApi")],r.prototype,"columnApi",void 0),Qi([K("gridApi")],r.prototype,"gridApi",void 0),Qi([U],r.prototype,"init",null),Qi([Y],r.prototype,"clearDragSourceParamsList",null),r=n=Qi([X("dragAndDropService")],r)}(Le),ra=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),na=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},oa=function(e){function r(t,r,n,o,i,a){var s=e.call(this)||this;return s.cellValueFn=t,s.rowNode=r,s.column=n,s.customGui=o,s.dragStartPixels=i,s.suppressVisibilityChange=a,s.dragSource=null,s}return ra(r,e),r.prototype.isCustomGui=function(){return null!=this.customGui},r.prototype.postConstruct=function(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(Rn("rowDrag",this.beans.gridOptionsWrapper,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){var e=this.beans.gridOptionsWrapper.isRowDragManaged()?new sa(this,this.beans,this.rowNode,this.column):new aa(this,this.beans,this.rowNode,this.column);this.createManagedBean(e,this.beans.context)}},r.prototype.setDragElement=function(e,t){this.setTemplateFromElement(e),this.addDragSource(t)},r.prototype.getSelectedCount=function(){if(!this.beans.gridOptionsWrapper.isRowDragMultiRow())return 1;var e=this.beans.selectionService.getSelectedNodes();return-1!==e.indexOf(this.rowNode)?e.length:1},r.prototype.checkCompatibility=function(){var e=this.beans.gridOptionsWrapper.isRowDragManaged();this.beans.gridOptionsWrapper.isTreeData()&&e&&T((function(){return console.warn("AG Grid: If using row drag with tree data, you cannot have rowDragManaged=true")}),"RowDragComp.managedAndTreeData")},r.prototype.addDragSource=function(e){var r=this;void 0===e&&(e=4),this.dragSource&&this.removeDragSource();var n={rowNode:this.rowNode,columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()},o=this.column&&this.column.getColDef().rowDragText,i=this.gridOptionsWrapper.getLocaleTextFunc();this.dragSource={type:t.DragSourceType.RowDrag,eElement:this.getGui(),dragItemName:function(){var e=r.getSelectedCount();return o?o(n,e):1===e?r.cellValueFn():e+" "+i("rowDragRows","rows")},getDragItem:function(){return n},dragStartPixels:e,dragSourceDomDataKey:this.beans.gridOptionsWrapper.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)},r.prototype.removeDragSource=function(){this.dragSource&&this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null},na([K("beans")],r.prototype,"beans",void 0),na([U],r.prototype,"postConstruct",null),na([Y],r.prototype,"removeDragSource",null),r}(eo),ia=function(e){function t(t,r,n){var o=e.call(this)||this;return o.parent=t,o.rowNode=r,o.column=n,o}return ra(t,e),t.prototype.setDisplayedOrVisible=function(e){if(e)this.parent.setDisplayed(!1);else{var t=!0,r=!1;this.column&&(t=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),r=M(this.column.getColDef().rowDrag)),r?(this.parent.setDisplayed(!0),this.parent.setVisible(t)):(this.parent.setDisplayed(t),this.parent.setVisible(!0))}},t}(Le),aa=function(e){function t(t,r,n,o){var i=e.call(this,t,n,o)||this;return i.beans=r,i}return ra(t,e),t.prototype.postConstruct=function(){this.addManagedListener(this.beans.gridOptionsWrapper,"suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.addManagedListener(this.rowNode,Xi.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Xi.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Xi.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,He.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.workOutVisibility()},t.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},t.prototype.workOutVisibility=function(){var e=this.beans.gridOptionsWrapper.isSuppressRowDrag();this.setDisplayedOrVisible(e)},na([U],t.prototype,"postConstruct",null),t}(ia),sa=function(e){function t(t,r,n,o){var i=e.call(this,t,n,o)||this;return i.beans=r,i}return ra(t,e),t.prototype.postConstruct=function(){this.addManagedListener(this.beans.eventService,He.EVENT_SORT_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,He.EVENT_FILTER_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,He.EVENT_COLUMN_ROW_GROUP_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,He.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Xi.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Xi.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.gridOptionsWrapper,"suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()},t.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},t.prototype.workOutVisibility=function(){var e=this.beans.ctrlsService.getGridBodyCtrl().getRowDragFeature(),t=e&&e.shouldPreventRowMove(),r=this.beans.gridOptionsWrapper.isSuppressRowDrag(),n=this.beans.dragAndDropService.hasExternalDropZones(),o=t&&!n||r;this.setDisplayedOrVisible(o)},na([U],t.prototype,"postConstruct",null),t}(ia),la=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ua=function(){return ua=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ua.apply(this,arguments)},ca=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},pa=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return la(t,e),t.prototype.init=function(e,t,r,n,o,i,a){this.params=a,this.eGui=t,this.eCheckbox=r,this.eExpanded=n,this.eContracted=o,this.comp=e,this.compClass=i;var s=this.isTopLevelFooter(),l=this.isEmbeddedRowMismatch(),u=null==a.value,c=!1;if(this.gridOptionsWrapper.isGroupIncludeFooter()&&this.gridOptionsWrapper.isGroupHideOpenParents()){var p=a.node;if(p.footer)c=(a.colDef&&a.colDef.showRowGroup)!==(p.rowGroupColumn&&p.rowGroupColumn.getColId())}this.cellIsBlank=!s&&(l||u||c),this.cellIsBlank||(this.setupShowingValueForOpenedParent(),this.findDisplayedGroupNode(),this.addFullWidthRowDraggerIfNeeded(),this.addExpandAndContract(),this.addCheckboxIfNeeded(),this.addValueElement(),this.setupIndent(),this.refreshAriaExpanded())},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.expandListener=null},t.prototype.refreshAriaExpanded=function(){var e=this.params,t=e.node,r=e.eParentOfValue;if(this.expandListener&&(this.expandListener=this.expandListener()),this.isExpandable()){var n=function(){qr(r,!!t.expanded)};this.expandListener=this.addManagedListener(t,Xi.EVENT_EXPANDED_CHANGED,n)||null,n()}else $r(r)},t.prototype.isTopLevelFooter=function(){if(!this.gridOptionsWrapper.isGroupIncludeTotalFooter())return!1;if(null!=this.params.value||-1!=this.params.node.level)return!1;var e=this.params.colDef;if(null==e)return!0;if(!0===e.showRowGroup)return!0;var t=this.columnModel.getRowGroupColumns();return!t||0===t.length||t[0].getId()===e.showRowGroup},t.prototype.isEmbeddedRowMismatch=function(){if(!this.params.fullWidth||!this.gridOptionsWrapper.isEmbedFullWidthRows())return!1;var e=this.params.pinned===ne.PINNED_LEFT,t=this.params.pinned===ne.PINNED_RIGHT,r=!e&&!t;return this.gridOptionsWrapper.isEnableRtl()?this.columnModel.isPinningLeft()?!t:!r:this.columnModel.isPinningLeft()?!e:!r},t.prototype.findDisplayedGroupNode=function(){var e=this.params.column,t=this.params.node;if(this.showingValueForOpenedParent)for(var r=t.parent;null!=r;){if(r.rowGroupColumn&&e.isRowGroupDisplayed(r.rowGroupColumn.getId())){this.displayedGroupNode=r;break}r=r.parent}i(this.displayedGroupNode)&&(this.displayedGroupNode=t)},t.prototype.setupShowingValueForOpenedParent=function(){var e=this.params.node,t=this.params.column;if(this.gridOptionsWrapper.isGroupHideOpenParents())if(e.groupData){if(null!=e.rowGroupColumn){var r=e.rowGroupColumn.getId();if(t.isRowGroupDisplayed(r))return void(this.showingValueForOpenedParent=!1)}var n=null!=e.groupData[t.getId()];this.showingValueForOpenedParent=n}else this.showingValueForOpenedParent=!1;else this.showingValueForOpenedParent=!1},t.prototype.addValueElement=function(){this.displayedGroupNode.footer?this.addFooterValue():(this.addGroupValue(),this.addChildCount())},t.prototype.addGroupValue=function(){var e=this.adjustParamsWithDetailsFromRelatedColumn(),t=this.getInnerCompDetails(e),r=e.valueFormatted,n=e.value,o=null!=r?r:n;this.comp.setInnerRenderer(t,o)},t.prototype.adjustParamsWithDetailsFromRelatedColumn=function(){var e=this.displayedGroupNode.rowGroupColumn,t=this.params.column;if(!e)return this.params;if(null!=t&&!t.isRowGroupDisplayed(e.getId()))return this.params;var r=this.params,n=this.params,o=n.value,i=n.node,a=this.valueFormatterService.formatValue(e,i,o);return ua(ua({},r),{valueFormatted:a})},t.prototype.addFooterValue=function(){var e=this.params.footerValueGetter,t="";if(e){var r=g(this.params);r.value=this.params.value,"function"===typeof e?t=e(r):"string"===typeof e?t=this.expressionService.evaluate(e,r):console.warn("AG Grid: footerValueGetter should be either a function or a string (expression)")}else t="Total "+(null!=this.params.value?this.params.value:"");var n=this.getInnerCompDetails(this.params);this.comp.setInnerRenderer(n,t)},t.prototype.getInnerCompDetails=function(e){var t=this;if(e.fullWidth)return this.userComponentFactory.getFullWidthGroupRowInnerCellRenderer(this.gridOptions.groupRowRendererParams,e);var r=this.userComponentFactory.getInnerRendererDetails(e,e),n=function(e){return e&&e.componentClass==t.compClass};if(r&&!n(r))return r;var o=this.displayedGroupNode.rowGroupColumn,i=o?o.getColDef():void 0;if(i){var a=this.userComponentFactory.getCellRendererDetails(i,e);if(a&&!n(a))return a;if(n(a)&&i.cellRendererParams&&i.cellRendererParams.innerRenderer)return this.userComponentFactory.getInnerRendererDetails(i.cellRendererParams,e)}},t.prototype.addChildCount=function(){this.params.suppressCount||(this.addManagedListener(this.displayedGroupNode,Xi.EVENT_ALL_CHILDREN_COUNT_CHANGED,this.updateChildCount.bind(this)),this.updateChildCount())},t.prototype.updateChildCount=function(){var e=this.displayedGroupNode.allChildrenCount,t=this.isShowRowGroupForThisRow()&&null!=e&&e>=0?"("+e+")":"";this.comp.setChildCount(t)},t.prototype.isShowRowGroupForThisRow=function(){if(this.gridOptionsWrapper.isTreeData())return!0;var e=this.displayedGroupNode.rowGroupColumn;if(!e)return!1;var t=this.params.column;return null==t||t.isRowGroupDisplayed(e.getId())},t.prototype.addExpandAndContract=function(){var e=this.params,t=Rn("groupExpanded",this.gridOptionsWrapper,null),r=Rn("groupContracted",this.gridOptionsWrapper,null);t&&this.eExpanded.appendChild(t),r&&this.eContracted.appendChild(r);var n=e.eGridCell;this.gridOptionsWrapper.isEnableGroupEdit()||!this.isExpandable()||e.suppressDoubleClickExpand||this.addManagedListener(n,"dblclick",this.onCellDblClicked.bind(this)),this.addManagedListener(this.eExpanded,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eContracted,"click",this.onExpandClicked.bind(this)),this.addManagedListener(n,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(e.node,Xi.EVENT_EXPANDED_CHANGED,this.showExpandAndContractIcons.bind(this)),this.showExpandAndContractIcons();var o=this.onRowNodeIsExpandableChanged.bind(this);this.addManagedListener(this.displayedGroupNode,Xi.EVENT_ALL_CHILDREN_COUNT_CHANGED,o),this.addManagedListener(this.displayedGroupNode,Xi.EVENT_MASTER_CHANGED,o),this.addManagedListener(this.displayedGroupNode,Xi.EVENT_GROUP_CHANGED,o),this.addManagedListener(this.displayedGroupNode,Xi.EVENT_HAS_CHILDREN_CHANGED,o)},t.prototype.onExpandClicked=function(e){Pe(e)||(_e(e),this.onExpandOrContract(e))},t.prototype.onExpandOrContract=function(e){var t=this.displayedGroupNode,r=!t.expanded;t.setExpanded(r,e)},t.prototype.isExpandable=function(){if(this.showingValueForOpenedParent)return!0;var e=this.displayedGroupNode,t=this.columnModel.isPivotMode()&&e.leafGroup;if(!(e.isExpandable()&&!e.footer&&!t))return!1;var r=this.params.column;return null==r||"string"!==typeof r.getColDef().showRowGroup||this.isShowRowGroupForThisRow()},t.prototype.showExpandAndContractIcons=function(){var e=this,t=e.params,r=e.displayedGroupNode,n=e.columnModel,o=t.node,i=this.isExpandable();if(i){var a=!!this.showingValueForOpenedParent||o.expanded;this.comp.setExpandedDisplayed(a),this.comp.setContractedDisplayed(!a)}else this.comp.setExpandedDisplayed(!1),this.comp.setContractedDisplayed(!1);var s=n.isPivotMode(),l=s&&r.leafGroup,u=i&&!l,c=o.footer&&-1===o.level;this.comp.addOrRemoveCssClass("ag-cell-expandable",u),this.comp.addOrRemoveCssClass("ag-row-group",u),s?this.comp.addOrRemoveCssClass("ag-pivot-leaf-group",l):c||this.comp.addOrRemoveCssClass("ag-row-group-leaf-indent",!u)},t.prototype.onRowNodeIsExpandableChanged=function(){this.showExpandAndContractIcons(),this.setIndent(),this.refreshAriaExpanded()},t.prototype.setupIndent=function(){var e=this.params.node;this.params.suppressPadding||(this.addManagedListener(e,Xi.EVENT_UI_LEVEL_CHANGED,this.setIndent.bind(this)),this.setIndent())},t.prototype.setIndent=function(){if(!this.gridOptionsWrapper.isGroupHideOpenParents()){var e=this.params,t=e.node,r=!!e.colDef,n=this.gridOptionsWrapper.isTreeData(),o=!r||n||!0===e.colDef.showRowGroup?t.uiLevel:0;e.padding>=0&&T((function(){return console.warn("AG Grid: cellRendererParams.padding no longer works, it was deprecated in since v14.2 and removed in v26, configuring padding for groupCellRenderer should be done with Sass variables and themes. Please see the AG Grid documentation page for Themes, in particular the property $row-group-indent-size.")}),"groupCellRenderer->doDeprecatedWay"),this.indentClass&&this.comp.addOrRemoveCssClass(this.indentClass,!1),this.indentClass="ag-row-group-indent-"+o,this.comp.addOrRemoveCssClass(this.indentClass,!0)}},t.prototype.addFullWidthRowDraggerIfNeeded=function(){var e=this;if(this.params.fullWidth&&this.params.rowDrag){var t=new oa((function(){return e.params.value}),this.params.node);this.createManagedBean(t,this.context),this.eGui.insertAdjacentElement("afterbegin",t.getGui())}},t.prototype.isUserWantsSelected=function(){var e=this.params.checkbox;return"function"===typeof e?e(this.params):!0===e},t.prototype.addCheckboxIfNeeded=function(){var e=this,t=this.displayedGroupNode,r=this.isUserWantsSelected()&&!t.footer&&!t.rowPinned&&!t.detail;if(r){var n=new $i;this.getContext().createBean(n),n.init({rowNode:t,column:this.params.column}),this.eCheckbox.appendChild(n.getGui()),this.addDestroyFunc((function(){return e.getContext().destroyBean(n)}))}this.comp.setCheckboxVisible(r)},t.prototype.onKeyDown=function(e){e.key!==po.ENTER||this.params.suppressEnterExpand||(this.params.column&&this.params.column.isCellEditable(this.params.node)||this.onExpandOrContract(e))},t.prototype.onCellDblClicked=function(e){Pe(e)||(Te(this.eExpanded,e)||Te(this.eContracted,e)||this.onExpandOrContract(e))},ca([K("expressionService")],t.prototype,"expressionService",void 0),ca([K("valueFormatterService")],t.prototype,"valueFormatterService",void 0),ca([K("columnModel")],t.prototype,"columnModel",void 0),ca([K("userComponentFactory")],t.prototype,"userComponentFactory",void 0),ca([K("gridOptions")],t.prototype,"gridOptions",void 0),t}(Le),da=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ha=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},fa=function(e){function t(){return e.call(this,t.TEMPLATE)||this}return da(t,e),t.prototype.init=function(e){var t=this,r={setInnerRenderer:function(e,r){return t.setRenderDetails(e,r)},setChildCount:function(e){return t.eChildCount.innerHTML=e},addOrRemoveCssClass:function(e,r){return t.addOrRemoveCssClass(e,r)},setContractedDisplayed:function(e){return Jt(t.eContracted,e)},setExpandedDisplayed:function(e){return Jt(t.eExpanded,e)},setCheckboxVisible:function(e){return t.eCheckbox.classList.toggle("ag-invisible",!e)}},n=this.createManagedBean(new pa),o=!e.colDef,i=this.getGui();n.init(r,i,this.eCheckbox,this.eExpanded,this.eContracted,this.constructor,e),o&&Br(i,"gridcell")},t.prototype.setRenderDetails=function(e,t){var r=this;if(e){var n=e.newAgStackInstance();if(!n)return;n.then((function(e){if(e){var t=function(){return r.context.destroyBean(e)};r.isAlive()?(r.eValue.appendChild(e.getGui()),r.addDestroyFunc(t)):t()}}))}else this.eValue.innerText=t},t.prototype.destroy=function(){this.getContext().destroyBean(this.innerCellRenderer),e.prototype.destroy.call(this)},t.prototype.refresh=function(){return!1},t.TEMPLATE='<span class="ag-cell-wrapper">\n            <span class="ag-group-expanded" ref="eExpanded"></span>\n            <span class="ag-group-contracted" ref="eContracted"></span>\n            <span class="ag-group-checkbox ag-invisible" ref="eCheckbox"></span>\n            <span class="ag-group-value" ref="eValue"></span>\n            <span class="ag-group-child-count" ref="eChildCount"></span>\n        </span>',ha([to("eExpanded")],t.prototype,"eExpanded",void 0),ha([to("eContracted")],t.prototype,"eContracted",void 0),ha([to("eCheckbox")],t.prototype,"eCheckbox",void 0),ha([to("eValue")],t.prototype,"eValue",void 0),ha([to("eChildCount")],t.prototype,"eChildCount",void 0),t}(eo),ga=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ya=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},va=function(e){function t(){return e.call(this,t.TEMPLATE)||this}return ga(t,e),t.prototype.init=function(e){e.node.failedLoad?this.setupFailed():this.setupLoading()},t.prototype.setupFailed=function(){this.eLoadingText.innerText="ERR"},t.prototype.setupLoading=function(){var e=Rn("groupLoading",this.gridOptionsWrapper,null);e&&this.eLoadingIcon.appendChild(e);var t=this.gridOptionsWrapper.getLocaleTextFunc();this.eLoadingText.innerText=t("loadingOoo","Loading")},t.prototype.refresh=function(e){return!1},t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-loading">\n            <span class="ag-loading-icon" ref="eLoadingIcon"></span>\n            <span class="ag-loading-text" ref="eLoadingText"></span>\n        </div>',ya([to("eLoadingIcon")],t.prototype,"eLoadingIcon",void 0),ya([to("eLoadingText")],t.prototype,"eLoadingText",void 0),t}(eo),ma=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ba=function(e){function t(){return e.call(this)||this}return ma(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.prototype.init=function(e){var r=this.gridOptionsWrapper.getOverlayLoadingTemplate()?this.gridOptionsWrapper.getOverlayLoadingTemplate():t.DEFAULT_LOADING_OVERLAY_TEMPLATE,n=this.gridOptionsWrapper.getLocaleTextFunc(),o=r.replace("[LOADING...]",n("loadingOoo","Loading..."));this.setTemplate(o)},t.DEFAULT_LOADING_OVERLAY_TEMPLATE='<span class="ag-overlay-loading-center">[LOADING...]</span>',t}(eo),Ca=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),wa=function(e){function t(){return e.call(this)||this}return Ca(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.prototype.init=function(e){var r=this.gridOptionsWrapper.getOverlayNoRowsTemplate()?this.gridOptionsWrapper.getOverlayNoRowsTemplate():t.DEFAULT_NO_ROWS_TEMPLATE,n=this.gridOptionsWrapper.getLocaleTextFunc(),o=r.replace("[NO_ROWS_TO_SHOW]",n("noRowsToShow","No Rows To Show"));this.setTemplate(o)},t.DEFAULT_NO_ROWS_TEMPLATE='<span class="ag-overlay-no-rows-center">[NO_ROWS_TO_SHOW]</span>',t}(eo),xa=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Sa=function(e){function t(){return e.call(this,'<div class="ag-tooltip"></div>')||this}return xa(t,e),t.prototype.init=function(e){var t=e.value;this.getGui().innerHTML=Ke(t)},t}(Ei),Ea=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Oa=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},_a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.agGridDefaults={agDateInput:ti,agColumnHeader:bi,agColumnGroupHeader:xi,agTextColumnFloatingFilter:gi,agNumberColumnFloatingFilter:hi,agDateColumnFloatingFilter:Qo,agReadOnlyFloatingFilter:ao,agAnimateShowChangeCellRenderer:Wi,agAnimateSlideCellRenderer:Vi,agGroupCellRenderer:fa,agGroupRowRenderer:fa,agLoadingCellRenderer:va,agCellEditor:Ii,agTextCellEditor:Ii,agSelectCellEditor:Ti,agPopupTextCellEditor:Fi,agPopupSelectCellEditor:Mi,agLargeTextCellEditor:Pi,agTextColumnFilter:li,agNumberColumnFilter:oi,agDateColumnFilter:Xo,agLoadingOverlay:ba,agNoRowsOverlay:wa,agTooltipComponent:Sa},t.agDeprecatedNames={set:{newComponentName:"agSetColumnFilter",propertyHolder:"filter"},text:{newComponentName:"agTextColumnFilter",propertyHolder:"filter"},number:{newComponentName:"agNumberColumnFilter",propertyHolder:"filter"},date:{newComponentName:"agDateColumnFilter",propertyHolder:"filter"},group:{newComponentName:"agGroupCellRenderer",propertyHolder:"cellRenderer"},animateShowChange:{newComponentName:"agAnimateShowChangeCellRenderer",propertyHolder:"cellRenderer"},animateSlide:{newComponentName:"agAnimateSlideCellRenderer",propertyHolder:"cellRenderer"},select:{newComponentName:"agSelectCellEditor",propertyHolder:"cellEditor"},largeText:{newComponentName:"agLargeTextCellEditor",propertyHolder:"cellEditor"},popupSelect:{newComponentName:"agPopupSelectCellEditor",propertyHolder:"cellEditor"},popupText:{newComponentName:"agPopupTextCellEditor",propertyHolder:"cellEditor"},richSelect:{newComponentName:"agRichSelectCellEditor",propertyHolder:"cellEditor"},headerComponent:{newComponentName:"agColumnHeader",propertyHolder:"headerComponent"}},t.jsComps={},t.fwComps={},t}return Ea(t,e),t.prototype.init=function(){var e=this;null!=this.gridOptions.components&&f(this.gridOptions.components,(function(t,r){return e.registerJsComponent(t,r)})),null!=this.gridOptions.frameworkComponents&&f(this.gridOptions.frameworkComponents,(function(t,r){return e.registerFwComponent(t,r)}))},t.prototype.registerDefaultComponent=function(e,t){var r=this.translateIfDeprecated(e);this.agGridDefaults[r]?console.error("Trying to overwrite a default component. You should call registerComponent"):this.agGridDefaults[r]=t},t.prototype.registerJsComponent=function(e,t){var r=this.translateIfDeprecated(e);this.fwComps[r]?console.error("Trying to register a component that you have already registered for frameworks: "+r):this.jsComps[r]=t},t.prototype.registerFwComponent=function(e,t){T((function(){return console.warn("AG Grid: As of v27, registering components via grid property frameworkComponents is deprecated. Instead register both JavaScript AND Framework Components via the components property.")}),"UserComponentRegistry.frameworkComponentsDeprecated");var r=this.translateIfDeprecated(e);this.fwComps[r]=t},t.prototype.retrieve=function(e){var t=this.translateIfDeprecated(e),r=function(e,t){return{componentFromFramework:t,component:e}},n=this.getFrameworkOverrides().frameworkComponent(t);if(null!=n)return r(n,!0);var o=this.fwComps[t];if(o)return r(o,!0);var i=this.jsComps[t];if(i)return r(i,this.getFrameworkOverrides().isFrameworkComponent(i));var a=this.agGridDefaults[t];return a?r(a,!1):(Object.keys(this.agGridDefaults).indexOf(t)<0&&console.warn("AG Grid: Looking for component ["+t+"] but it wasn't found."),null)},t.prototype.translateIfDeprecated=function(e){var t=this.agDeprecatedNames[e];return null!=t?(T((function(){console.warn("ag-grid. Since v15.0 component names have been renamed to be namespaced. You should rename "+t.propertyHolder+":"+e+" to "+t.propertyHolder+":"+t.newComponentName)}),"DEPRECATE_COMPONENT_"+e),t.newComponentName):e},Oa([K("gridOptions")],t.prototype,"gridOptions",void 0),Oa([K("agComponentUtils")],t.prototype,"agComponentUtils",void 0),Oa([U],t.prototype,"init",null),t=Oa([X("userComponentRegistry")],t)}(Le),Pa={propertyName:"dateComponent",cellRenderer:!1},Ra={propertyName:"headerComponent",cellRenderer:!1},Aa={propertyName:"headerGroupComponent",cellRenderer:!1},Ta={propertyName:"cellRenderer",cellRenderer:!0},Da={propertyName:"cellEditor",cellRenderer:!1},Ma={propertyName:"innerRenderer",cellRenderer:!0},ka={propertyName:"loadingOverlayComponent",cellRenderer:!1},Na={propertyName:"noRowsOverlayComponent",cellRenderer:!1},Ia={propertyName:"tooltipComponent",cellRenderer:!1},La={propertyName:"filter",cellRenderer:!1},Fa={propertyName:"floatingFilterComponent",cellRenderer:!1},Ga={propertyName:"toolPanel",cellRenderer:!1},Ba={propertyName:"statusPanel",cellRenderer:!1},Wa={propertyName:"fullWidthCellRenderer",cellRenderer:!0},Ha={propertyName:"loadingCellRenderer",cellRenderer:!0},ja={propertyName:"groupRowRenderer",cellRenderer:!0},Va={propertyName:"detailCellRenderer",cellRenderer:!0},za=function(){function e(){}return e.getFloatingFilterType=function(e){return this.filterToFloatingFilterMapping[e]},e.filterToFloatingFilterMapping={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"},e}(),Ua=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ya=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Xa=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return Ua(r,e),r.prototype.getHeaderCompDetails=function(e,t){return this.getCompDetails(e,Ra,"agColumnHeader",t)},r.prototype.getHeaderGroupCompDetails=function(e){var t=e.columnGroup.getColGroupDef();return this.getCompDetails(t,Aa,"agColumnGroupHeader",e)},r.prototype.getFullWidthCellRendererDetails=function(e){return this.getCompDetails(this.gridOptions,Wa,null,e,!0)},r.prototype.getFullWidthLoadingCellRendererDetails=function(e){return this.getCompDetails(this.gridOptions,Ha,"agLoadingCellRenderer",e,!0)},r.prototype.getFullWidthGroupCellRendererDetails=function(e){return this.getCompDetails(this.gridOptions,ja,"agGroupRowRenderer",e,!0)},r.prototype.getFullWidthDetailCellRendererDetails=function(e){return this.getCompDetails(this.gridOptions,Va,"agDetailCellRenderer",e,!0)},r.prototype.getInnerRendererDetails=function(e,t){return this.getCompDetails(e,Ma,null,t)},r.prototype.getFullWidthGroupRowInnerCellRenderer=function(e,t){return this.getCompDetails(e,Ma,null,t)},r.prototype.getCellRendererDetails=function(e,t){return this.getCompDetails(e,Ta,null,t)},r.prototype.getCellEditorDetails=function(e,t){return this.getCompDetails(e,Da,"agCellEditor",t,!0)},r.prototype.getFilterDetails=function(e,t,r){return this.getCompDetails(e,La,r,t,!0)},r.prototype.getDateCompDetails=function(e){return this.getCompDetails(this.gridOptions,Pa,"agDateInput",e,!0)},r.prototype.getLoadingOverlayCompDetails=function(e){return this.getCompDetails(this.gridOptions,ka,"agLoadingOverlay",e,!0)},r.prototype.getNoRowsOverlayCompDetails=function(e){return this.getCompDetails(this.gridOptions,Na,"agNoRowsOverlay",e,!0)},r.prototype.getTooltipCompDetails=function(e){return this.getCompDetails(e.colDef,Ia,"agTooltipComponent",e,!0)},r.prototype.getSetFilterCellRendererDetails=function(e,t){return this.getCompDetails(e,Ta,null,t)},r.prototype.getFloatingFilterCompDetails=function(e,t,r){return this.getCompDetails(e,Fa,r,t)},r.prototype.getToolPanelCompDetails=function(e,t){return this.getCompDetails(e,Ga,null,t,!0)},r.prototype.getStatusPanelCompDetails=function(e,t){return this.getCompDetails(e,Ba,null,t,!0)},r.prototype.getCompDetails=function(e,t,r,n,o){var i=this;void 0===o&&(o=!1);var a=t.propertyName,s=t.cellRenderer,l=this.getCompKeys(e,t,n),u=l.compName,c=l.jsComp,p=l.fwComp,d=l.paramsFromSelector,h=l.popupFromSelector,f=l.popupPositionFromSelector,g=function(e){var t=i.userComponentRegistry.retrieve(e);t&&(c=t.componentFromFramework?void 0:t.component,p=t.componentFromFramework?t.component:void 0)};if(null!=u&&g(u),null==c&&null==p&&null!=r&&g(r),c&&s&&!this.agComponentUtils.doesImplementIComponent(c)&&(c=this.agComponentUtils.adaptFunction(a,c)),c||p){var y=this.mergeParamsWithApplicationProvidedParams(e,t,n,d),v=null==c,m=c||p;return{componentFromFramework:v,componentClass:m,params:y,type:t,popupFromSelector:h,popupPositionFromSelector:f,newAgStackInstance:function(){return i.newAgStackInstance(m,v,y,t)}}}o&&console.error("Could not find component "+u+", did you forget to configure this component?")},r.prototype.getCompKeys=function(e,t,r){var n,o,i,a,s,l,u=this,c=t.propertyName;if(e){var p=e,d=p[c+"Selector"],h=d?d(r):null,f=function(e,t){var r=function(){var e="AG Grid: As of v27, the property "+c+"Framework is deprecated. The property "+c+" can now be used for JavaScript AND Framework Components.";T((function(){return console.warn(e)}),"UserComponentFactory."+c+"FrameworkDeprecated")};if("string"===typeof e)n=e;else if("string"===typeof t)r(),n=t;else if(null!=e&&!0!==e){u.getFrameworkOverrides().isFrameworkComponent(e)?i=e:o=e}else null!=t&&(r(),i=t)};if(h){if(null!=h.frameworkComponent){var g="AG Grid: As of v27, the return for "+c+"Selector has attributes [component, params] only. The attribute frameworkComponent is deprecated. You should now return back Framework Components using the 'component' attribute and the grid works out if it's a framework component or not.";T((function(){return console.warn(g)}),"UserComponentFactory."+c+"FrameworkSelectorDeprecated"),f(h.frameworkComponent,void 0)}else f(h.component,void 0);a=h.params,s=h.popup,l=h.popupPosition}else f(p[c],p[c+"Framework"])}return{compName:n,jsComp:o,fwComp:i,paramsFromSelector:a,popupFromSelector:s,popupPositionFromSelector:l}},r.prototype.newAgStackInstance=function(e,t,r,n){var o,i=n.propertyName;if(!t)o=new e;else{var a=this.componentMetadataProvider.retrieve(i);o=this.frameworkComponentWrapper.wrap(e,a.mandatoryMethodList,a.optionalMethodList,n)}var s=this.initComponent(o,r);return null==s?zn.resolve(o):s.then((function(){return o}))},r.prototype.mergeParamsWithApplicationProvidedParams=function(e,t,r,n){void 0===n&&(n=null);var o={context:this.gridOptionsWrapper.getContext(),columnApi:this.gridOptionsWrapper.getColumnApi(),api:this.gridOptionsWrapper.getApi()};x(o,r);var i=e&&e[t.propertyName+"Params"];"function"===typeof i?x(o,i(r)):"object"===typeof i&&x(o,i);return x(o,n),o},r.prototype.initComponent=function(e,t){if(this.context.createBean(e),null!=e.init)return e.init(t)},r.prototype.getDefaultFloatingFilterType=function(e){if(null==e)return null;var r=null,n=this.getCompKeys(e,La),o=n.compName,i=n.jsComp,a=n.fwComp;o?r=za.getFloatingFilterType(o):null==i&&null==a&&!0===e.filter&&(r=oe.isRegistered(t.ModuleNames.SetFilterModule)?"agSetColumnFloatingFilter":"agTextColumnFloatingFilter");return r},Ya([K("gridOptions")],r.prototype,"gridOptions",void 0),Ya([K("agComponentUtils")],r.prototype,"agComponentUtils",void 0),Ya([K("componentMetadataProvider")],r.prototype,"componentMetadataProvider",void 0),Ya([K("userComponentRegistry")],r.prototype,"userComponentRegistry",void 0),Ya([q("frameworkComponentWrapper")],r.prototype,"frameworkComponentWrapper",void 0),r=Ya([X("userComponentFactory")],r)}(Le);(ea=t.ExcelFactoryMode||(t.ExcelFactoryMode={}))[ea.SINGLE_SHEET=0]="SINGLE_SHEET",ea[ea.MULTI_SHEET=1]="MULTI_SHEET";var Ka=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),qa=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},$a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dragEndFunctions=[],t.dragSources=[],t}return Ka(t,e),t.prototype.init=function(){this.logger=this.loggerFactory.create("DragService")},t.prototype.removeAllListeners=function(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0},t.prototype.removeListener=function(e){var t=e.dragSource.eElement,r=e.mouseDownListener;if(t.removeEventListener("mousedown",r),e.touchEnabled){var n=e.touchStartListener;t.removeEventListener("touchstart",n,{passive:!0})}},t.prototype.removeDragSource=function(e){var t=this.dragSources.find((function(t){return t.dragSource===e}));t&&(this.removeListener(t),de(this.dragSources,t))},t.prototype.isDragging=function(){return this.dragging},t.prototype.addDragSource=function(e,t){var r=this;void 0===t&&(t=!1);var n=this.onMouseDown.bind(this,e);e.eElement.addEventListener("mousedown",n);var o=null,i=this.gridOptionsWrapper.isSuppressTouch();t&&!i&&(o=function(t){t.cancelable&&t.preventDefault(),r.onTouchStart(e,t)},e.eElement.addEventListener("touchstart",o,{passive:!0})),this.dragSources.push({dragSource:e,mouseDownListener:n,touchStartListener:o,touchEnabled:t})},t.prototype.onTouchStart=function(e,t){var r=this;this.currentDragParams=e,this.dragging=!1;var n=t.touches[0];this.touchLastTime=n,this.touchStart=n;var o=function(t){return r.onTouchUp(t,e.eElement)},i=e.eElement,a=[{target:document,type:"touchmove",listener:function(e){e.cancelable&&e.preventDefault()},options:{passive:!1}},{target:i,type:"touchmove",listener:function(t){return r.onTouchMove(t,e.eElement)},options:{passive:!0}},{target:i,type:"touchend",listener:o,options:{passive:!0}},{target:i,type:"touchcancel",listener:o,options:{passive:!0}}];this.addTemporaryEvents(a),0===e.dragStartPixels&&this.onCommonMove(n,this.touchStart,e.eElement)},t.prototype.onMouseDown=function(e,t){var r=this,n=t;if((!e.skipMouseEvent||!e.skipMouseEvent(t))&&!n._alreadyProcessedByDragService&&(n._alreadyProcessedByDragService=!0,0===t.button)){this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=t;var o=this.gridOptionsWrapper.getDocument(),i=[{target:o,type:"mousemove",listener:function(t){return r.onMouseMove(t,e.eElement)}},{target:o,type:"mouseup",listener:function(t){return r.onMouseUp(t,e.eElement)}},{target:o,type:"contextmenu",listener:function(e){return e.preventDefault()}}];this.addTemporaryEvents(i),0===e.dragStartPixels&&this.onMouseMove(t,e.eElement)}},t.prototype.addTemporaryEvents=function(e){e.forEach((function(e){var t=e.target,r=e.type,n=e.listener,o=e.options;t.addEventListener(r,n,o)})),this.dragEndFunctions.push((function(){e.forEach((function(e){var t=e.target,r=e.type,n=e.listener,o=e.options;t.removeEventListener(r,n,o)}))}))},t.prototype.isEventNearStartEvent=function(e,t){var r=this.currentDragParams.dragStartPixels;return Nn(e,t,o(r)?r:4)},t.prototype.getFirstActiveTouch=function(e){for(var t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null},t.prototype.onCommonMove=function(e,t,r){if(!this.dragging){if(!this.dragging&&this.isEventNearStartEvent(e,t))return;this.dragging=!0;var n={type:He.EVENT_DRAG_STARTED,api:this.gridApi,columnApi:this.columnApi,target:r};this.eventService.dispatchEvent(n),this.currentDragParams.onDragStart(t),this.currentDragParams.onDragging(t)}this.currentDragParams.onDragging(e)},t.prototype.onTouchMove=function(e,t){var r=this.getFirstActiveTouch(e.touches);r&&this.onCommonMove(r,this.touchStart,t)},t.prototype.onMouseMove=function(e,t){Bt()&&"mousemove"===e.type&&e.cancelable&&this.mouseEventService.isEventFromThisGrid(e)&&!this.isOverFormFieldElement(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,t)},t.prototype.isOverFormFieldElement=function(e){var t,r;return!!(null===(r=null===(t=e.target)||void 0===t?void 0:t.tagName.toLocaleLowerCase())||void 0===r?void 0:r.match("^a$|textarea|input|select|button"))},t.prototype.onTouchUp=function(e,t){var r=this.getFirstActiveTouch(e.changedTouches);r||(r=this.touchLastTime),this.onUpCommon(r,t)},t.prototype.onMouseUp=function(e,t){this.onUpCommon(e,t)},t.prototype.onUpCommon=function(e,t){if(this.dragging){this.dragging=!1,this.currentDragParams.onDragStop(e);var r={type:He.EVENT_DRAG_STOPPED,api:this.gridApi,columnApi:this.columnApi,target:t};this.eventService.dispatchEvent(r)}this.mouseStartEvent=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach((function(e){return e()})),this.dragEndFunctions.length=0},qa([K("loggerFactory")],t.prototype,"loggerFactory",void 0),qa([K("columnApi")],t.prototype,"columnApi",void 0),qa([K("gridApi")],t.prototype,"gridApi",void 0),qa([K("mouseEventService")],t.prototype,"mouseEventService",void 0),qa([U],t.prototype,"init",null),qa([Y],t.prototype,"removeAllListeners",null),t=qa([X("dragService")],t)}(Le),Za=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Qa=function(){return Qa=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Qa.apply(this,arguments)},Ja=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},es=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.allColumnFilters=new Map,t.activeAggregateFilters=[],t.activeColumnFilters=[],t.quickFilter=null,t.quickFilterParts=null,t.processingFilterChange=!1,t}var n;return Za(r,e),n=r,r.prototype.init=function(){var e=this;this.addManagedListener(this.eventService,He.EVENT_GRID_COLUMNS_CHANGED,(function(){return e.onColumnsChanged()})),this.addManagedListener(this.eventService,He.EVENT_COLUMN_VALUE_CHANGED,(function(){return e.refreshFiltersForAggregations()})),this.addManagedListener(this.eventService,He.EVENT_COLUMN_PIVOT_CHANGED,(function(){return e.refreshFiltersForAggregations()})),this.addManagedListener(this.eventService,He.EVENT_COLUMN_PIVOT_MODE_CHANGED,(function(){return e.refreshFiltersForAggregations()})),this.quickFilter=this.parseQuickFilter(this.gridOptionsWrapper.getQuickFilterText()),this.setQuickFilterParts(),this.allowShowChangeAfterFilter=this.gridOptionsWrapper.isAllowShowChangeAfterFilter()},r.prototype.setQuickFilterParts=function(){this.quickFilterParts=this.quickFilter?this.quickFilter.split(" "):null},r.prototype.setFilterModel=function(e){var t=this,r=[],n=this.getFilterModel();if(e){var o=Fn(Object.keys(e));this.allColumnFilters.forEach((function(n,i){var a=e[i];r.push(t.setModelOnFilterWrapper(n.filterPromise,a)),o.delete(i)})),o.forEach((function(n){var o=t.columnModel.getPrimaryColumn(n)||t.columnModel.getGridColumn(n);if(o)if(o.isFilterAllowed()){var i=t.getOrCreateFilterWrapper(o,"NO_UI");i?r.push(t.setModelOnFilterWrapper(i.filterPromise,e[n])):console.warn("AG-Grid: setFilterModel() - unable to fully apply model, unable to create filter for colId: "+n)}else console.warn("AG Grid: setFilterModel() - unable to fully apply model, filtering disabled for colId: "+n);else console.warn("AG Grid: setFilterModel() - no column found for colId: "+n)}))}else this.allColumnFilters.forEach((function(e){r.push(t.setModelOnFilterWrapper(e.filterPromise,null))}));zn.all(r).then((function(){var e=t.getFilterModel(),r=[];t.allColumnFilters.forEach((function(t,o){var i=n?n[o]:null,a=e?e[o]:null;Hn.jsonEquals(i,a)||r.push(t.column)})),r.length>0&&t.onFilterChanged({columns:r})}))},r.prototype.setModelOnFilterWrapper=function(e,t){return new zn((function(r){e.then((function(e){"function"!==typeof e.setModel&&(console.warn("AG Grid: filter missing setModel method, which is needed for setFilterModel"),r()),(e.setModel(t)||zn.resolve()).then((function(){return r()}))}))}))},r.prototype.getFilterModel=function(){var e={};return this.allColumnFilters.forEach((function(t,r){var n=t.filterPromise.resolveNow(null,(function(e){return e}));if(null==n)return null;if("function"===typeof n.getModel){var i=n.getModel();o(i)&&(e[r]=i)}else console.warn("AG Grid: filter API missing getModel method, which is needed for getFilterModel")})),e},r.prototype.isColumnFilterPresent=function(){return this.activeColumnFilters.length>0},r.prototype.isAggregateFilterPresent=function(){return!!this.activeAggregateFilters.length},r.prototype.doAggregateFiltersPass=function(e,t){return this.doColumnFiltersPass(e,t,!0)},r.prototype.updateActiveFilters=function(){var e=this;this.activeColumnFilters.length=0,this.activeAggregateFilters.length=0;var t=function(e){return!!e&&(e.isFilterActive?e.isFilterActive():(console.warn("AG Grid: Filter is missing isFilterActive() method"),!1))},r=!!this.gridOptionsWrapper.getGroupAggFiltering();this.allColumnFilters.forEach((function(n){if(n.filterPromise.resolveNow(!1,t)){var o=n.filterPromise.resolveNow(null,(function(e){return e}));!function(t){if(!t.isPrimary())return!0;var n=!e.columnModel.isPivotActive();return!(!t.isValueActive()||!n)&&(!!e.columnModel.isPivotMode()||r)}(n.column)?e.activeColumnFilters.push(o):e.activeAggregateFilters.push(o)}}))},r.prototype.updateFilterFlagInColumns=function(e,t){this.allColumnFilters.forEach((function(r){var n=r.filterPromise.resolveNow(!1,(function(e){return e.isFilterActive()}));r.column.setFilterActive(n,e,t)}))},r.prototype.isAnyFilterPresent=function(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.gridOptionsWrapper.isExternalFilterPresent()},r.prototype.doColumnFiltersPass=function(e,t,r){for(var n=e.data,o=e.aggData,i=r?this.activeAggregateFilters:this.activeColumnFilters,a=r?o:n,s=0;s<i.length;s++){var l=i[s];if(null!=l&&l!==t){if("function"!==typeof l.doesFilterPass)throw new Error("Filter is missing method doesFilterPass");if(!l.doesFilterPass({node:e,data:a}))return!1}}return!0},r.prototype.parseQuickFilter=function(e){return o(e)?this.gridOptionsWrapper.isRowModelDefault()?e.toUpperCase():(console.warn("AG Grid - Quick filtering only works with the Client-Side Row Model"),null):null},r.prototype.setQuickFilter=function(e){if(null==e||"string"===typeof e){var t=this.parseQuickFilter(e);this.quickFilter!==t&&(this.quickFilter=t,this.setQuickFilterParts(),this.onFilterChanged())}else console.warn("AG Grid - setQuickFilter() only supports string inputs, received: "+typeof e)},r.prototype.refreshFiltersForAggregations=function(){this.gridOptionsWrapper.getGroupAggFiltering()&&this.onFilterChanged()},r.prototype.callOnFilterChangedOutsideRenderCycle=function(e){var t=this;void 0===e&&(e={});var r=function(){return t.onFilterChanged(e)};this.rowRenderer.isRefreshInProgress()?setTimeout(r,0):r()},r.prototype.onFilterChanged=function(e){void 0===e&&(e={});var t=e.filterInstance,r=e.additionalEventAttributes,n=e.columns;this.updateActiveFilters(),this.updateFilterFlagInColumns("filterChanged",r),this.allColumnFilters.forEach((function(e){e.filterPromise&&e.filterPromise.then((function(e){e&&e!==t&&e.onAnyFilterChanged&&e.onAnyFilterChanged()}))}));var o={type:He.EVENT_FILTER_CHANGED,api:this.gridApi,columnApi:this.columnApi,columns:n||[]};r&&x(o,r),this.processingFilterChange=!0,this.eventService.dispatchEvent(o),this.processingFilterChange=!1},r.prototype.isSuppressFlashingCellsBecauseFiltering=function(){return!this.allowShowChangeAfterFilter&&this.processingFilterChange},r.prototype.isQuickFilterPresent=function(){return null!==this.quickFilter},r.prototype.doesRowPassOtherFilters=function(e,t){return this.doesRowPassFilter({rowNode:t,filterInstanceToSkip:e})},r.prototype.doesRowPassQuickFilterNoCache=function(e,t){var r=this;return this.columnModel.getAllColumnsForQuickFilter().some((function(n){var i=r.getQuickFilterTextForColumn(n,e);return o(i)&&i.indexOf(t)>=0}))},r.prototype.doesRowPassQuickFilterCache=function(e,t){return e.quickFilterAggregateText||this.aggregateRowForQuickFilter(e),e.quickFilterAggregateText.indexOf(t)>=0},r.prototype.doesRowPassQuickFilter=function(e){var t=this,r=this.gridOptionsWrapper.isCacheQuickFilter();return this.quickFilterParts.every((function(n){return r?t.doesRowPassQuickFilterCache(e,n):t.doesRowPassQuickFilterNoCache(e,n)}))},r.prototype.doesRowPassAggregateFilters=function(e){return!(this.isAggregateFilterPresent()&&!this.doAggregateFiltersPass(e.rowNode,e.filterInstanceToSkip))},r.prototype.doesRowPassFilter=function(e){return!(this.isQuickFilterPresent()&&!this.doesRowPassQuickFilter(e.rowNode))&&(!(this.gridOptionsWrapper.isExternalFilterPresent()&&!this.gridOptionsWrapper.doesExternalFilterPass(e.rowNode))&&!(this.isColumnFilterPresent()&&!this.doColumnFiltersPass(e.rowNode,e.filterInstanceToSkip)))},r.prototype.getQuickFilterTextForColumn=function(e,t){var r=this.valueService.getValue(e,t,!0),n=e.getColDef();if(n.getQuickFilterText){var i={value:r,node:t,data:t.data,column:e,colDef:n,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};r=n.getQuickFilterText(i)}return o(r)?r.toString().toUpperCase():null},r.prototype.aggregateRowForQuickFilter=function(e){var t=this,r=[];this.columnModel.getAllColumnsForQuickFilter().forEach((function(n){var i=t.getQuickFilterTextForColumn(n,e);o(i)&&r.push(i)})),e.quickFilterAggregateText=r.join(n.QUICK_FILTER_SEPARATOR)},r.prototype.onNewRowsLoaded=function(e){this.allColumnFilters.forEach((function(e){e.filterPromise.then((function(e){e.onNewRowsLoaded&&e.onNewRowsLoaded()}))})),this.updateFilterFlagInColumns(e),this.updateActiveFilters()},r.prototype.createValueGetter=function(e){var t=this;return function(r){var n=r.node;return t.valueService.getValue(e,n,!0)}},r.prototype.getFilterComponent=function(e,t,r){var n;if(void 0===r&&(r=!0),r)return(null===(n=this.getOrCreateFilterWrapper(e,t))||void 0===n?void 0:n.filterPromise)||null;var o=this.cachedFilter(e);return o?o.filterPromise:null},r.prototype.isFilterActive=function(e){var t=this.cachedFilter(e);return!!t&&t.filterPromise.resolveNow(!1,(function(e){return e.isFilterActive()}))},r.prototype.getOrCreateFilterWrapper=function(e,t){if(!e.isFilterAllowed())return null;var r=this.cachedFilter(e);return r?"NO_UI"!==t&&this.putIntoGui(r,t):(r=this.createFilterWrapper(e,t),this.allColumnFilters.set(e.getColId(),r)),r},r.prototype.cachedFilter=function(e){return this.allColumnFilters.get(e.getColId())},r.prototype.createFilterInstance=function(e){var r,n=this,o=oe.isRegistered(t.ModuleNames.SetFilterModule)?"agSetColumnFilter":"agTextColumnFilter",i=e.getColDef(),a=Qa(Qa({},this.createFilterParams(e,i)),{filterModifiedCallback:function(){var t={type:He.EVENT_FILTER_MODIFIED,api:n.gridApi,columnApi:n.columnApi,column:e,filterInstance:r};n.eventService.dispatchEvent(t)},filterChangedCallback:function(t){var o={filterInstance:r,additionalEventAttributes:t,columns:[e]};n.callOnFilterChangedOutsideRenderCycle(o)},doesRowPassOtherFilter:function(e){return n.doesRowPassOtherFilters(r,e)}}),s=this.userComponentFactory.getFilterDetails(i,a,o);if(!s)return null;var l=s.newAgStackInstance();return l&&l.then((function(e){return r=e})),l},r.prototype.createFilterParams=function(e,t){return{api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),column:e,colDef:g(t),rowModel:this.rowModel,filterChangedCallback:function(){},filterModifiedCallback:function(){},valueGetter:this.createValueGetter(e),context:this.gridOptionsWrapper.getContext(),doesRowPassOtherFilter:function(){return!0}}},r.prototype.createFilterWrapper=function(e,t){var r={column:e,filterPromise:null,compiledElement:null,guiPromise:zn.resolve(null)};return r.filterPromise=this.createFilterInstance(e),r.filterPromise&&this.putIntoGui(r,t),r},r.prototype.putIntoGui=function(e,t){var r=this,n=document.createElement("div");n.className="ag-filter",e.guiPromise=new zn((function(i){e.filterPromise.then((function(a){var s=a.getGui();o(s)||console.warn("AG Grid: getGui method from filter returned "+s+", it should be a DOM element or an HTML template string."),"string"===typeof s&&(s=fr(s)),n.appendChild(s),i(n),r.eventService.dispatchEvent({type:He.EVENT_FILTER_OPENED,column:e.column,source:t,eGui:n,api:r.gridApi,columnApi:r.columnApi})}))}))},r.prototype.onColumnsChanged=function(){var e=this,t=[];this.allColumnFilters.forEach((function(r,n){(r.column.isPrimary()?e.columnModel.getPrimaryColumn(n):e.columnModel.getGridColumn(n))||(t.push(r.column),e.disposeFilterWrapper(r,"filterDestroyed"))})),t.length>0&&this.onFilterChanged({columns:t})},r.prototype.destroyFilter=function(e,t){void 0===t&&(t="api");var r=this.allColumnFilters.get(e.getColId());r&&(this.disposeFilterWrapper(r,t),this.onFilterChanged({columns:[e]}))},r.prototype.disposeFilterWrapper=function(e,t){var r=this;e.filterPromise.then((function(n){(n.setModel(null)||zn.resolve()).then((function(){r.getContext().destroyBean(n),e.column.setFilterActive(!1,t),r.allColumnFilters.delete(e.column.getColId())}))}))},r.prototype.destroy=function(){var t=this;e.prototype.destroy.call(this),this.allColumnFilters.forEach((function(e){return t.disposeFilterWrapper(e,"filterDestroyed")}))},r.QUICK_FILTER_SEPARATOR="\n",Ja([K("valueService")],r.prototype,"valueService",void 0),Ja([K("columnModel")],r.prototype,"columnModel",void 0),Ja([K("rowModel")],r.prototype,"rowModel",void 0),Ja([K("columnApi")],r.prototype,"columnApi",void 0),Ja([K("gridApi")],r.prototype,"gridApi",void 0),Ja([K("userComponentFactory")],r.prototype,"userComponentFactory",void 0),Ja([K("rowRenderer")],r.prototype,"rowRenderer",void 0),Ja([U],r.prototype,"init",null),Ja([Y],r.prototype,"destroy",null),r=n=Ja([X("filterManager")],r)}(Le),ts=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),rs=function(e){function t(t,r){var n=e.call(this,t)||this;return n.ctrl=r,n}return ts(t,e),t.prototype.getCtrl=function(){return this.ctrl},t}(eo),ns=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),os=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},is=function(e){function t(r){return e.call(this,t.TEMPLATE,r)||this}return ns(t,e),t.prototype.postConstruct=function(){var e=this,t=this.getGui(),r={addOrRemoveCssClass:function(t,r){return e.addOrRemoveCssClass(t,r)},addOrRemoveBodyCssClass:function(t,r){return e.eFloatingFilterBody.classList.toggle(t,r)},addOrRemoveButtonWrapperCssClass:function(t,r){return e.eButtonWrapper.classList.toggle(t,r)},setCompDetails:function(t){return e.setCompDetails(t)},getFloatingFilterComp:function(){return e.compPromise},setWidth:function(e){return t.style.width=e},setMenuIcon:function(t){return e.eButtonShowMainFilter.appendChild(t)}};this.ctrl.setComp(r,t,this.eButtonShowMainFilter,this.eFloatingFilterBody)},t.prototype.setCompDetails=function(e){var t=this;this.compPromise=e.newAgStackInstance(),this.compPromise.then((function(e){return t.afterCompCreated(e)}))},t.prototype.afterCompCreated=function(e){var t=this;e&&(this.addDestroyFunc((function(){return t.context.destroyBean(e)})),this.isAlive()&&(this.eFloatingFilterBody.appendChild(e.getGui()),e.afterGuiAttached&&e.afterGuiAttached()))},t.TEMPLATE='<div class="ag-header-cell ag-floating-filter" role="gridcell" tabindex="-1">\n            <div ref="eFloatingFilterBody" role="presentation"></div>\n            <div class="ag-floating-filter-button ag-hidden" ref="eButtonWrapper" role="presentation">\n                <button type="button" aria-label="Open Filter Menu" class="ag-floating-filter-button-button" ref="eButtonShowMainFilter" tabindex="-1"></button>\n            </div>\n        </div>',os([to("eFloatingFilterBody")],t.prototype,"eFloatingFilterBody",void 0),os([to("eButtonWrapper")],t.prototype,"eButtonWrapper",void 0),os([to("eButtonShowMainFilter")],t.prototype,"eButtonShowMainFilter",void 0),os([U],t.prototype,"postConstruct",null),t}(rs),as=function(){function e(){}return e.parse=function(t){if(!t)return null;if(!0===t)return{toolPanels:[e.DEFAULT_COLUMN_COMP,e.DEFAULT_FILTER_COMP],defaultToolPanel:"columns"};if("string"===typeof t)return e.parse([t]);if(Array.isArray(t)){var r=[];return t.forEach((function(t){var n=e.DEFAULT_BY_KEY[t];n?r.push(n):console.warn("AG Grid: the key "+t+" is not a valid key for specifying a tool panel, valid keys are: "+Object.keys(e.DEFAULT_BY_KEY).join(","))})),0===r.length?null:{toolPanels:r,defaultToolPanel:r[0].id}}return{toolPanels:e.parseComponents(t.toolPanels),defaultToolPanel:t.defaultToolPanel,hiddenByDefault:t.hiddenByDefault,position:t.position}},e.parseComponents=function(t){var r=[];return t?(t.forEach((function(t){var n=null;if("string"===typeof t){var o=e.DEFAULT_BY_KEY[t];if(!o)return void console.warn("AG Grid: the key "+t+" is not a valid key for specifying a tool panel, valid keys are: "+Object.keys(e.DEFAULT_BY_KEY).join(","));n=o}else n=t;r.push(n)})),r):r},e.DEFAULT_COLUMN_COMP={id:"columns",labelDefault:"Columns",labelKey:"columns",iconKey:"columns",toolPanel:"agColumnsToolPanel"},e.DEFAULT_FILTER_COMP={id:"filters",labelDefault:"Filters",labelKey:"filters",iconKey:"filter",toolPanel:"agFiltersToolPanel"},e.DEFAULT_BY_KEY={columns:e.DEFAULT_COLUMN_COMP,filters:e.DEFAULT_FILTER_COMP},e}(),ss=function(){return ss=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ss.apply(this,arguments)},ls=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},us=function(e,t){return function(r,n){t(r,n,e)}},cs=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},ps=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(cs(arguments[t]));return e};function ds(e){return!0===e||"true"===e}function hs(e){return"number"==typeof e?e:"string"==typeof e?parseInt(e,10):void 0}function fs(e,t){var r=parseInt(e,10);return hn(r)&&r>0?r:t}var gs,ys=function(){function e(){this.propertyEventService=new re,this.domDataKey="__AG_"+Math.random().toString(),this.destroyed=!1}var r;return r=e,e.prototype.agWire=function(e,t){this.gridOptions.api=e,this.gridOptions.columnApi=t,this.checkForDeprecated(),this.checkForViolations()},e.prototype.destroy=function(){this.gridOptions.api=null,this.gridOptions.columnApi=null,this.destroyed=!0},e.prototype.init=function(){var e=this;!0!==this.gridOptions.suppressPropertyNamesCheck&&(this.checkGridOptionsProperties(),this.checkColumnDefProperties()),null!=this.gridOptions.sideBar&&(this.gridOptions.sideBar=as.parse(this.gridOptions.sideBar));var r=this.useAsyncEvents();if(this.eventService.addGlobalListener(this.globalEventHandler.bind(this),r),this.isGroupSelectsChildren()&&this.isSuppressParentsInRowNodes()&&console.warn("AG Grid: 'groupSelectsChildren' does not work with 'suppressParentsInRowNodes', this selection method needs the part in rowNode to work"),this.isGroupSelectsChildren()&&(this.isRowSelectionMulti()||console.warn("AG Grid: rowSelection must be 'multiple' for groupSelectsChildren to make sense"),this.isRowModelServerSide()&&console.warn("AG Grid: group selects children is NOT support for Server Side Row Model. This is because the rows are lazy loaded, so selecting a group is not possible asthe grid has no way of knowing what the children are.")),this.isGroupRemoveSingleChildren()&&this.isGroupHideOpenParents()&&console.warn("AG Grid: groupRemoveSingleChildren and groupHideOpenParents do not work with each other, you need to pick one. And don't ask us how to us these together on our support forum either you will get the same answer!"),this.isRowModelServerSide()){var n=function(e){return"AG Grid: '"+e+"' is not supported on the Server-Side Row Model"};o(this.gridOptions.groupDefaultExpanded)&&console.warn(n("groupDefaultExpanded")),o(this.gridOptions.groupDefaultExpanded)&&console.warn(n("groupIncludeFooter")),o(this.gridOptions.groupDefaultExpanded)&&console.warn(n("groupIncludeTotalFooter"))}this.isEnableRangeSelection()&&oe.assertRegistered(t.ModuleNames.RangeSelectionModule,"enableRangeSelection"),this.isEnableRangeSelection()||!this.isEnableRangeHandle()&&!this.isEnableFillHandle()||console.warn("AG Grid: 'enableRangeHandle' and 'enableFillHandle' will not work unless 'enableRangeSelection' is set to true");var i=function(t){e.gridOptions.icons&&e.gridOptions.icons[t]&&console.warn("gridOptions.icons."+t+" is no longer supported. For information on how to style checkboxes and radio buttons, see https://www.ag-grid.com/javascript-grid-icons/")};i("radioButtonOff"),i("radioButtonOn"),i("checkboxChecked"),i("checkboxUnchecked"),i("checkboxIndeterminate"),this.getScrollbarWidth()},e.prototype.checkColumnDefProperties=function(){var e=this;null!=this.gridOptions.columnDefs&&this.gridOptions.columnDefs.forEach((function(t){var r=Object.getOwnPropertyNames(t),n=ps(Et.ALL_PROPERTIES,Et.FRAMEWORK_PROPERTIES);e.checkProperties(r,n,n,"colDef","https://www.ag-grid.com/javascript-grid-column-properties/")}))},e.prototype.checkGridOptionsProperties=function(){var e=Object.getOwnPropertyNames(this.gridOptions),t=ps(ft.ALL_PROPERTIES,ft.FRAMEWORK_PROPERTIES,p(He).map((function(e){return mt.getCallbackForEvent(e)}))),r=ps(t,["api","columnApi"]);this.checkProperties(e,r,t,"gridOptions","https://www.ag-grid.com/javascript-data-grid/grid-options/")},e.prototype.checkProperties=function(e,t,r,n,o){var i=Cn(e,t,r);f(i,(function(e,t){console.warn("ag-grid: invalid "+n+" property '"+e+"' did you mean any of these: "+t.slice(0,8).join(", "))})),Object.keys(i).length>0&&console.warn("ag-grid: to see all the valid "+n+" properties please check: "+o)},e.prototype.mergeGridCommonParams=function(e){var t=this;if(e){return function(r){var n=ss(ss({},r),{api:t.getApi(),columnApi:t.getColumnApi(),context:t.getContext()});return e(n)}}return e},e.prototype.getDomDataKey=function(){return this.domDataKey},e.prototype.getDomData=function(e,t){var r=e[this.getDomDataKey()];return r?r[t]:void 0},e.prototype.setDomData=function(e,t,r){var n=this.getDomDataKey(),o=e[n];i(o)&&(o={},e[n]=o),o[t]=r},e.prototype.isRowSelection=function(){return"single"===this.gridOptions.rowSelection||"multiple"===this.gridOptions.rowSelection},e.prototype.isSuppressRowDeselection=function(){return ds(this.gridOptions.suppressRowDeselection)},e.prototype.isRowSelectionMulti=function(){return"multiple"===this.gridOptions.rowSelection},e.prototype.isRowMultiSelectWithClick=function(){return ds(this.gridOptions.rowMultiSelectWithClick)},e.prototype.getContext=function(){return this.gridOptions.context},e.prototype.isPivotMode=function(){return ds(this.gridOptions.pivotMode)},e.prototype.isSuppressExpandablePivotGroups=function(){return ds(this.gridOptions.suppressExpandablePivotGroups)},e.prototype.getPivotColumnGroupTotals=function(){return this.gridOptions.pivotColumnGroupTotals},e.prototype.getPivotRowTotals=function(){return this.gridOptions.pivotRowTotals},e.prototype.isRowModelInfinite=function(){return this.gridOptions.rowModelType===ne.ROW_MODEL_TYPE_INFINITE},e.prototype.isRowModelViewport=function(){return this.gridOptions.rowModelType===ne.ROW_MODEL_TYPE_VIEWPORT},e.prototype.isRowModelServerSide=function(){return this.gridOptions.rowModelType===ne.ROW_MODEL_TYPE_SERVER_SIDE},e.prototype.isRowModelDefault=function(){return i(this.gridOptions.rowModelType)||this.gridOptions.rowModelType===ne.ROW_MODEL_TYPE_CLIENT_SIDE},e.prototype.isFullRowEdit=function(){return"fullRow"===this.gridOptions.editType},e.prototype.isSuppressFocusAfterRefresh=function(){return ds(this.gridOptions.suppressFocusAfterRefresh)},e.prototype.isSuppressBrowserResizeObserver=function(){return ds(this.gridOptions.suppressBrowserResizeObserver)},e.prototype.isSuppressMaintainUnsortedOrder=function(){return ds(this.gridOptions.suppressMaintainUnsortedOrder)},e.prototype.isSuppressClearOnFillReduction=function(){return ds(this.gridOptions.suppressClearOnFillReduction)},e.prototype.isShowToolPanel=function(){return ds(this.gridOptions.sideBar&&Array.isArray(this.getSideBar().toolPanels))},e.prototype.getSideBar=function(){return this.gridOptions.sideBar},e.prototype.isSuppressTouch=function(){return ds(this.gridOptions.suppressTouch)},e.prototype.isMaintainColumnOrder=function(){return ds(this.gridOptions.maintainColumnOrder)},e.prototype.isSuppressRowTransform=function(){return ds(this.gridOptions.suppressRowTransform)},e.prototype.isSuppressColumnStateEvents=function(){return ds(this.gridOptions.suppressColumnStateEvents)},e.prototype.isAllowDragFromColumnsToolPanel=function(){return ds(this.gridOptions.allowDragFromColumnsToolPanel)},e.prototype.useAsyncEvents=function(){return!ds(this.gridOptions.suppressAsyncEvents)},e.prototype.isEnableCellChangeFlash=function(){return ds(this.gridOptions.enableCellChangeFlash)},e.prototype.getCellFlashDelay=function(){return this.gridOptions.cellFlashDelay||500},e.prototype.getCellFadeDelay=function(){return this.gridOptions.cellFadeDelay||1e3},e.prototype.isGroupSelectsChildren=function(){return ds(this.gridOptions.groupSelectsChildren)},e.prototype.isSuppressRowHoverHighlight=function(){return ds(this.gridOptions.suppressRowHoverHighlight)},e.prototype.isColumnHoverHighlight=function(){return ds(this.gridOptions.columnHoverHighlight)},e.prototype.isGroupSelectsFiltered=function(){return ds(this.gridOptions.groupSelectsFiltered)},e.prototype.isGroupHideOpenParents=function(){return ds(this.gridOptions.groupHideOpenParents)},e.prototype.isGroupMaintainOrder=function(){return ds(this.gridOptions.groupMaintainOrder)},e.prototype.getAutoGroupColumnDef=function(){return this.gridOptions.autoGroupColumnDef},e.prototype.isGroupMultiAutoColumn=function(){return this.gridOptions.groupDisplayType?this.matchesGroupDisplayType("multipleColumns",this.gridOptions.groupDisplayType):ds(this.gridOptions.groupHideOpenParents)},e.prototype.isGroupUseEntireRow=function(e){return!e&&(!!this.gridOptions.groupDisplayType&&this.matchesGroupDisplayType("groupRows",this.gridOptions.groupDisplayType))},e.prototype.isGroupSuppressAutoColumn=function(){return!(!this.gridOptions.groupDisplayType||!this.matchesGroupDisplayType("custom",this.gridOptions.groupDisplayType))||!!this.gridOptions.treeDataDisplayType&&this.matchesTreeDataDisplayType("custom",this.gridOptions.treeDataDisplayType)},e.prototype.isGroupRemoveSingleChildren=function(){return ds(this.gridOptions.groupRemoveSingleChildren)},e.prototype.isGroupRemoveLowestSingleChildren=function(){return ds(this.gridOptions.groupRemoveLowestSingleChildren)},e.prototype.isGroupIncludeFooter=function(){return ds(this.gridOptions.groupIncludeFooter)},e.prototype.isGroupIncludeTotalFooter=function(){return ds(this.gridOptions.groupIncludeTotalFooter)},e.prototype.isGroupSuppressBlankHeader=function(){return ds(this.gridOptions.groupSuppressBlankHeader)},e.prototype.isSuppressRowClickSelection=function(){return ds(this.gridOptions.suppressRowClickSelection)},e.prototype.isSuppressCellFocus=function(){return ds(this.gridOptions.suppressCellFocus)},e.prototype.isSuppressMultiSort=function(){return ds(this.gridOptions.suppressMultiSort)},e.prototype.isAlwaysMultiSort=function(){return ds(this.gridOptions.alwaysMultiSort)},e.prototype.isMultiSortKeyCtrl=function(){return"ctrl"===this.gridOptions.multiSortKey},e.prototype.isPivotSuppressAutoColumn=function(){return ds(this.gridOptions.pivotSuppressAutoColumn)},e.prototype.isSuppressDragLeaveHidesColumns=function(){return ds(this.gridOptions.suppressDragLeaveHidesColumns)},e.prototype.isSuppressScrollOnNewData=function(){return ds(this.gridOptions.suppressScrollOnNewData)},e.prototype.isSuppressScrollWhenPopupsAreOpen=function(){return ds(this.gridOptions.suppressScrollWhenPopupsAreOpen)},e.prototype.isRowDragEntireRow=function(){return ds(this.gridOptions.rowDragEntireRow)},e.prototype.isSuppressRowDrag=function(){return ds(this.gridOptions.suppressRowDrag)},e.prototype.isRowDragManaged=function(){return ds(this.gridOptions.rowDragManaged)},e.prototype.isSuppressMoveWhenRowDragging=function(){return ds(this.gridOptions.suppressMoveWhenRowDragging)},e.prototype.isRowDragMultiRow=function(){return ds(this.gridOptions.rowDragMultiRow)},e.prototype.getDomLayout=function(){var e=this.gridOptions.domLayout||ne.DOM_LAYOUT_NORMAL;return-1===[ne.DOM_LAYOUT_PRINT,ne.DOM_LAYOUT_AUTO_HEIGHT,ne.DOM_LAYOUT_NORMAL].indexOf(e)?(T((function(){return console.warn("AG Grid: "+e+" is not valid for DOM Layout, valid values are "+ne.DOM_LAYOUT_NORMAL+", "+ne.DOM_LAYOUT_AUTO_HEIGHT+" and "+ne.DOM_LAYOUT_PRINT)}),"warn about dom layout values"),ne.DOM_LAYOUT_NORMAL):e},e.prototype.isSuppressHorizontalScroll=function(){return ds(this.gridOptions.suppressHorizontalScroll)},e.prototype.isSuppressMaxRenderedRowRestriction=function(){return ds(this.gridOptions.suppressMaxRenderedRowRestriction)},e.prototype.isExcludeChildrenWhenTreeDataFiltering=function(){return ds(this.gridOptions.excludeChildrenWhenTreeDataFiltering)},e.prototype.isAlwaysShowHorizontalScroll=function(){return ds(this.gridOptions.alwaysShowHorizontalScroll)},e.prototype.isAlwaysShowVerticalScroll=function(){return ds(this.gridOptions.alwaysShowVerticalScroll)},e.prototype.isDebounceVerticalScrollbar=function(){return ds(this.gridOptions.debounceVerticalScrollbar)},e.prototype.isSuppressLoadingOverlay=function(){return ds(this.gridOptions.suppressLoadingOverlay)},e.prototype.isSuppressNoRowsOverlay=function(){return ds(this.gridOptions.suppressNoRowsOverlay)},e.prototype.isSuppressFieldDotNotation=function(){return ds(this.gridOptions.suppressFieldDotNotation)},e.prototype.getPinnedTopRowData=function(){return this.gridOptions.pinnedTopRowData},e.prototype.getPinnedBottomRowData=function(){return this.gridOptions.pinnedBottomRowData},e.prototype.isFunctionsPassive=function(){return ds(this.gridOptions.functionsPassive)},e.prototype.isSuppressChangeDetection=function(){return ds(this.gridOptions.suppressChangeDetection)},e.prototype.isSuppressAnimationFrame=function(){return ds(this.gridOptions.suppressAnimationFrame)},e.prototype.getQuickFilterText=function(){return this.gridOptions.quickFilterText},e.prototype.isCacheQuickFilter=function(){return ds(this.gridOptions.cacheQuickFilter)},e.prototype.isUnSortIcon=function(){return ds(this.gridOptions.unSortIcon)},e.prototype.isSuppressMenuHide=function(){return ds(this.gridOptions.suppressMenuHide)},e.prototype.isEnterMovesDownAfterEdit=function(){return ds(this.gridOptions.enterMovesDownAfterEdit)},e.prototype.isEnterMovesDown=function(){return ds(this.gridOptions.enterMovesDown)},e.prototype.isUndoRedoCellEditing=function(){return ds(this.gridOptions.undoRedoCellEditing)},e.prototype.getUndoRedoCellEditingLimit=function(){return hs(this.gridOptions.undoRedoCellEditingLimit)},e.prototype.getRowStyle=function(){return this.gridOptions.rowStyle},e.prototype.getRowClass=function(){return this.gridOptions.rowClass},e.prototype.getRowStyleFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getRowStyle)},e.prototype.getRowClassFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getRowClass)},e.prototype.rowClassRules=function(){return this.gridOptions.rowClassRules},e.prototype.getServerSideStoreType=function(){return this.gridOptions.serverSideStoreType},e.prototype.getServerSideStoreParamsFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getServerSideStoreParams)},e.prototype.getCreateChartContainerFunc=function(){return this.mergeGridCommonParams(this.gridOptions.createChartContainer)},e.prototype.getPopupParent=function(){return this.gridOptions.popupParent},e.prototype.getBlockLoadDebounceMillis=function(){return this.gridOptions.blockLoadDebounceMillis},e.prototype.getPostProcessPopupFunc=function(){return this.mergeGridCommonParams(this.gridOptions.postProcessPopup)},e.prototype.getPaginationNumberFormatterFunc=function(){return this.mergeGridCommonParams(this.gridOptions.paginationNumberFormatter)},e.prototype.getChildCountFunc=function(){return this.gridOptions.getChildCount},e.prototype.getIsApplyServerSideTransactionFunc=function(){return this.mergeGridCommonParams(this.gridOptions.isApplyServerSideTransaction)},e.prototype.getInitialGroupOrderComparator=function(){var e=this.gridOptions,t=e.initialGroupOrderComparator,r=e.defaultGroupOrderComparator;return t?this.mergeGridCommonParams(t):r?function(e){return r(e.nodeA,e.nodeB)}:void 0},e.prototype.getIsFullWidthCellFunc=function(){var e=this.gridOptions,t=e.isFullWidthRow,r=e.isFullWidthCell;return t?this.mergeGridCommonParams(t):r?function(e){return r(e.rowNode)}:void 0},e.prototype.getFullWidthCellRendererParams=function(){return this.gridOptions.fullWidthCellRendererParams},e.prototype.isEmbedFullWidthRows=function(){return ds(this.gridOptions.embedFullWidthRows)||ds(this.gridOptions.deprecatedEmbedFullWidthRows)},e.prototype.isDetailRowAutoHeight=function(){return ds(this.gridOptions.detailRowAutoHeight)},e.prototype.getSuppressKeyboardEventFunc=function(){return this.gridOptions.suppressKeyboardEvent},e.prototype.getBusinessKeyForNodeFunc=function(){return this.gridOptions.getBusinessKeyForNode},e.prototype.getApi=function(){return this.gridOptions.api},e.prototype.getColumnApi=function(){return this.gridOptions.columnApi},e.prototype.isReadOnlyEdit=function(){return ds(this.gridOptions.readOnlyEdit)},e.prototype.isImmutableData=function(){var e=null!=this.gridOptions.getRowId,t=ds(this.gridOptions.immutableData);return!ds(this.gridOptions.resetRowDataOnUpdate)&&(e||t)},e.prototype.isEnsureDomOrder=function(){return ds(this.gridOptions.ensureDomOrder)},e.prototype.isEnableCharts=function(){return!!ds(this.gridOptions.enableCharts)&&oe.assertRegistered(t.ModuleNames.GridChartsModule,"enableCharts")},e.prototype.getColResizeDefault=function(){return this.gridOptions.colResizeDefault},e.prototype.isSingleClickEdit=function(){return ds(this.gridOptions.singleClickEdit)},e.prototype.isSuppressClickEdit=function(){return ds(this.gridOptions.suppressClickEdit)},e.prototype.isStopEditingWhenCellsLoseFocus=function(){return ds(this.gridOptions.stopEditingWhenCellsLoseFocus)},e.prototype.getGroupDefaultExpanded=function(){return this.gridOptions.groupDefaultExpanded},e.prototype.getMaxConcurrentDatasourceRequests=function(){var e=hs(this.gridOptions.maxConcurrentDatasourceRequests);return null==e?2:e<=0?void 0:e},e.prototype.getMaxBlocksInCache=function(){return this.gridOptions.maxBlocksInCache},e.prototype.getCacheOverflowSize=function(){return this.gridOptions.cacheOverflowSize},e.prototype.getPaginationPageSize=function(){return hs(this.gridOptions.paginationPageSize)},e.prototype.isPaginateChildRows=function(){return!(!this.isGroupRemoveSingleChildren()&&!this.isGroupRemoveLowestSingleChildren())||ds(this.gridOptions.paginateChildRows)},e.prototype.getCacheBlockSize=function(){return fs(this.gridOptions.cacheBlockSize)},e.prototype.getInfiniteInitialRowCount=function(){return this.gridOptions.infiniteInitialRowCount},e.prototype.isPurgeClosedRowNodes=function(){return ds(this.gridOptions.purgeClosedRowNodes)},e.prototype.isSuppressPaginationPanel=function(){return ds(this.gridOptions.suppressPaginationPanel)},e.prototype.getRowData=function(){return this.gridOptions.rowData},e.prototype.isEnableRtl=function(){return ds(this.gridOptions.enableRtl)},e.prototype.getRowGroupPanelShow=function(){return this.gridOptions.rowGroupPanelShow},e.prototype.getPivotPanelShow=function(){return this.gridOptions.pivotPanelShow},e.prototype.isAngularCompileRows=function(){return ds(this.gridOptions.angularCompileRows)},e.prototype.isAngularCompileFilters=function(){return ds(this.gridOptions.angularCompileFilters)},e.prototype.isDebug=function(){return ds(this.gridOptions.debug)},e.prototype.getColumnDefs=function(){return this.gridOptions.columnDefs},e.prototype.getColumnTypes=function(){return this.gridOptions.columnTypes},e.prototype.getDatasource=function(){return this.gridOptions.datasource},e.prototype.getViewportDatasource=function(){return this.gridOptions.viewportDatasource},e.prototype.getServerSideDatasource=function(){return this.gridOptions.serverSideDatasource},e.prototype.isAccentedSort=function(){return ds(this.gridOptions.accentedSort)},e.prototype.isEnableBrowserTooltips=function(){return ds(this.gridOptions.enableBrowserTooltips)},e.prototype.isEnableCellExpressions=function(){return ds(this.gridOptions.enableCellExpressions)},e.prototype.isEnableGroupEdit=function(){return ds(this.gridOptions.enableGroupEdit)},e.prototype.isSuppressMiddleClickScrolls=function(){return ds(this.gridOptions.suppressMiddleClickScrolls)},e.prototype.isPreventDefaultOnContextMenu=function(){return ds(this.gridOptions.preventDefaultOnContextMenu)},e.prototype.isSuppressPreventDefaultOnMouseWheel=function(){return ds(this.gridOptions.suppressPreventDefaultOnMouseWheel)},e.prototype.isSuppressColumnVirtualisation=function(){return ds(this.gridOptions.suppressColumnVirtualisation)},e.prototype.isSuppressRowVirtualisation=function(){return ds(this.gridOptions.suppressRowVirtualisation)},e.prototype.isSuppressContextMenu=function(){return ds(this.gridOptions.suppressContextMenu)},e.prototype.isAllowContextMenuWithControlKey=function(){return ds(this.gridOptions.allowContextMenuWithControlKey)},e.prototype.isSuppressCopyRowsToClipboard=function(){return ds(this.gridOptions.suppressCopyRowsToClipboard)},e.prototype.isSuppressCopySingleCellRanges=function(){return ds(this.gridOptions.suppressCopySingleCellRanges)},e.prototype.isCopyHeadersToClipboard=function(){return ds(this.gridOptions.copyHeadersToClipboard)},e.prototype.isCopyGroupHeadersToClipboard=function(){return ds(this.gridOptions.copyGroupHeadersToClipboard)},e.prototype.isSuppressClipboardPaste=function(){return ds(this.gridOptions.suppressClipboardPaste)},e.prototype.isSuppressLastEmptyLineOnPaste=function(){return ds(this.gridOptions.suppressLastEmptyLineOnPaste)},e.prototype.isPagination=function(){return ds(this.gridOptions.pagination)},e.prototype.isSuppressEnterpriseResetOnNewColumns=function(){return ds(this.gridOptions.suppressEnterpriseResetOnNewColumns)},e.prototype.getProcessDataFromClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processDataFromClipboard)},e.prototype.getAsyncTransactionWaitMillis=function(){return o(this.gridOptions.asyncTransactionWaitMillis)?this.gridOptions.asyncTransactionWaitMillis:ne.BATCH_WAIT_MILLIS},e.prototype.isSuppressMovableColumns=function(){return ds(this.gridOptions.suppressMovableColumns)},e.prototype.isAnimateRows=function(){return!this.isEnsureDomOrder()&&ds(this.gridOptions.animateRows)},e.prototype.isSuppressColumnMoveAnimation=function(){return ds(this.gridOptions.suppressColumnMoveAnimation)},e.prototype.isSuppressAggFuncInHeader=function(){return ds(this.gridOptions.suppressAggFuncInHeader)},e.prototype.isSuppressAggAtRootLevel=function(){return ds(this.gridOptions.suppressAggAtRootLevel)},e.prototype.isSuppressAggFilteredOnly=function(){return void 0!==this.getGroupAggFiltering()||ds(this.gridOptions.suppressAggFilteredOnly)},e.prototype.isRemovePivotHeaderRowWhenSingleValueColumn=function(){return ds(this.gridOptions.removePivotHeaderRowWhenSingleValueColumn)},e.prototype.isShowOpenedGroup=function(){return ds(this.gridOptions.showOpenedGroup)},e.prototype.isReactUi=function(){return ds(this.gridOptions.reactUi)},e.prototype.isSuppressReactUi=function(){return ds(this.gridOptions.suppressReactUi)},e.prototype.isEnableRangeSelection=function(){return oe.isRegistered(t.ModuleNames.RangeSelectionModule)&&ds(this.gridOptions.enableRangeSelection)},e.prototype.isEnableRangeHandle=function(){return ds(this.gridOptions.enableRangeHandle)},e.prototype.isEnableFillHandle=function(){return ds(this.gridOptions.enableFillHandle)},e.prototype.getFillHandleDirection=function(){var e=this.gridOptions.fillHandleDirection;return e?"x"!==e&&"y"!==e&&"xy"!==e?(T((function(){return console.warn("AG Grid: valid values for fillHandleDirection are 'x', 'y' and 'xy'. Default to 'xy'.")}),"warn invalid fill direction"),"xy"):e:"xy"},e.prototype.getFillOperation=function(){return this.mergeGridCommonParams(this.gridOptions.fillOperation)},e.prototype.isSuppressMultiRangeSelection=function(){return ds(this.gridOptions.suppressMultiRangeSelection)},e.prototype.isPaginationAutoPageSize=function(){return ds(this.gridOptions.paginationAutoPageSize)},e.prototype.isRememberGroupStateWhenNewData=function(){return ds(this.gridOptions.rememberGroupStateWhenNewData)},e.prototype.getIcons=function(){return this.gridOptions.icons},e.prototype.getGroupAggFiltering=function(){var e=this.gridOptions.groupAggFiltering;return"function"===typeof e?this.mergeGridCommonParams(e):ds(e)?function(){return!0}:void 0},e.prototype.getAggFuncs=function(){return this.gridOptions.aggFuncs},e.prototype.getSortingOrder=function(){return this.gridOptions.sortingOrder},e.prototype.getAlignedGrids=function(){return this.gridOptions.alignedGrids},e.prototype.isMasterDetail=function(){return!!ds(this.gridOptions.masterDetail)&&oe.assertRegistered(t.ModuleNames.MasterDetailModule,"masterDetail")},e.prototype.isKeepDetailRows=function(){return ds(this.gridOptions.keepDetailRows)},e.prototype.getKeepDetailRowsCount=function(){var e=this.gridOptions.keepDetailRowsCount;return o(e)&&e>0?this.gridOptions.keepDetailRowsCount:10},e.prototype.getIsRowMasterFunc=function(){return this.gridOptions.isRowMaster},e.prototype.getIsRowSelectableFunc=function(){return this.gridOptions.isRowSelectable},e.prototype.getGroupRowRendererParams=function(){return this.gridOptions.groupRowRendererParams},e.prototype.getOverlayLoadingTemplate=function(){return this.gridOptions.overlayLoadingTemplate},e.prototype.getOverlayNoRowsTemplate=function(){return this.gridOptions.overlayNoRowsTemplate},e.prototype.isSuppressAutoSize=function(){return ds(this.gridOptions.suppressAutoSize)},e.prototype.isEnableCellTextSelection=function(){return ds(this.gridOptions.enableCellTextSelection)},e.prototype.isSuppressParentsInRowNodes=function(){return ds(this.gridOptions.suppressParentsInRowNodes)},e.prototype.isSuppressClipboardApi=function(){return ds(this.gridOptions.suppressClipboardApi)},e.prototype.isFunctionsReadOnly=function(){return ds(this.gridOptions.functionsReadOnly)},e.prototype.isEnableCellTextSelect=function(){return ds(this.gridOptions.enableCellTextSelection)},e.prototype.getDefaultColDef=function(){return this.gridOptions.defaultColDef},e.prototype.getDefaultColGroupDef=function(){return this.gridOptions.defaultColGroupDef},e.prototype.getDefaultExportParams=function(e){return this.gridOptions.defaultExportParams?(console.warn("AG Grid: Since v25.2 `defaultExportParams`  has been replaced by `default"+Xe(e)+"ExportParams`'"),this.gridOptions.defaultExportParams):"csv"===e&&this.gridOptions.defaultCsvExportParams?this.gridOptions.defaultCsvExportParams:"excel"===e&&this.gridOptions.defaultExcelExportParams?this.gridOptions.defaultExcelExportParams:void 0},e.prototype.isSuppressCsvExport=function(){return ds(this.gridOptions.suppressCsvExport)},e.prototype.isAllowShowChangeAfterFilter=function(){return ds(this.gridOptions.allowShowChangeAfterFilter)},e.prototype.isSuppressExcelExport=function(){return ds(this.gridOptions.suppressExcelExport)},e.prototype.isSuppressMakeColumnVisibleAfterUnGroup=function(){return ds(this.gridOptions.suppressMakeColumnVisibleAfterUnGroup)},e.prototype.getDataPathFunc=function(){return this.gridOptions.getDataPath},e.prototype.getIsServerSideGroupFunc=function(){return this.gridOptions.isServerSideGroup},e.prototype.getIsServerSideGroupOpenByDefaultFunc=function(){return this.mergeGridCommonParams(this.gridOptions.isServerSideGroupOpenByDefault)},e.prototype.getIsGroupOpenByDefaultFunc=function(){return this.mergeGridCommonParams(this.gridOptions.isGroupOpenByDefault)},e.prototype.getServerSideGroupKeyFunc=function(){return this.gridOptions.getServerSideGroupKey},e.prototype.getGroupRowAggFunc=function(){var e=this.gridOptions,t=e.getGroupRowAgg,r=e.groupRowAggNodes;return t?this.mergeGridCommonParams(t):r?function(e){return r(e.nodes)}:void 0},e.prototype.getContextMenuItemsFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getContextMenuItems)},e.prototype.getMainMenuItemsFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getMainMenuItems)},e.prototype.getRowIdFunc=function(){var e=this.gridOptions,t=e.getRowId,r=e.getRowNodeId;return t?this.mergeGridCommonParams(t):r?function(e){return r(e.data)}:void 0},e.prototype.getNavigateToNextHeaderFunc=function(){return this.mergeGridCommonParams(this.gridOptions.navigateToNextHeader)},e.prototype.getTabToNextHeaderFunc=function(){return this.mergeGridCommonParams(this.gridOptions.tabToNextHeader)},e.prototype.getNavigateToNextCellFunc=function(){return this.mergeGridCommonParams(this.gridOptions.navigateToNextCell)},e.prototype.getTabToNextCellFunc=function(){return this.mergeGridCommonParams(this.gridOptions.tabToNextCell)},e.prototype.getGridTabIndex=function(){return(this.gridOptions.tabIndex||0).toString()},e.prototype.isTreeData=function(){return!!ds(this.gridOptions.treeData)&&oe.assertRegistered(t.ModuleNames.RowGroupingModule,"Tree Data")},e.prototype.isValueCache=function(){return ds(this.gridOptions.valueCache)},e.prototype.isValueCacheNeverExpires=function(){return ds(this.gridOptions.valueCacheNeverExpires)},e.prototype.isDeltaSort=function(){return ds(this.gridOptions.deltaSort)},e.prototype.isAggregateOnlyChangedColumns=function(){return ds(this.gridOptions.aggregateOnlyChangedColumns)},e.prototype.getProcessSecondaryColDefFunc=function(){return this.gridOptions.processSecondaryColDef},e.prototype.getProcessSecondaryColGroupDefFunc=function(){return this.gridOptions.processSecondaryColGroupDef},e.prototype.getSendToClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.sendToClipboard)},e.prototype.getProcessRowPostCreateFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processRowPostCreate)},e.prototype.getProcessCellForClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processCellForClipboard)},e.prototype.getProcessHeaderForClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processHeaderForClipboard)},e.prototype.getProcessGroupHeaderForClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processGroupHeaderForClipboard)},e.prototype.getProcessCellFromClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processCellFromClipboard)},e.prototype.getViewportRowModelPageSize=function(){return fs(this.gridOptions.viewportRowModelPageSize,5)},e.prototype.getViewportRowModelBufferSize=function(){return e=this.gridOptions.viewportRowModelBufferSize,t=5,e>=0?e:t;var e,t},e.prototype.isServerSideSortingAlwaysResets=function(){return ds(this.gridOptions.serverSideSortingAlwaysResets)},e.prototype.isServerSideFilteringAlwaysResets=function(){return ds(this.gridOptions.serverSideFilteringAlwaysResets)},e.prototype.getPostSortFunc=function(){var e=this.gridOptions,t=e.postSortRows,r=e.postSort;return t?this.mergeGridCommonParams(t):r?function(e){return r(e.nodes)}:void 0},e.prototype.getChartToolbarItemsFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getChartToolbarItems)},e.prototype.getChartThemeOverrides=function(){return this.gridOptions.chartThemeOverrides},e.prototype.getCustomChartThemes=function(){return this.gridOptions.customChartThemes},e.prototype.getChartThemes=function(){return this.gridOptions.chartThemes||["ag-default","ag-material","ag-pastel","ag-vivid","ag-solar"]},e.prototype.getClipboardDelimiter=function(){return o(this.gridOptions.clipboardDelimiter)?this.gridOptions.clipboardDelimiter:"\t"},e.prototype.setProperty=function(e,t,r){void 0===r&&(r=!1);var n=this.gridOptions,o=n[e];if(r||o!==t){n[e]=t;var i={type:e,currentValue:t,previousValue:o};this.propertyEventService.dispatchEvent(i)}},e.prototype.addEventListener=function(e,t){this.propertyEventService.addEventListener(e,t)},e.prototype.removeEventListener=function(e,t){this.propertyEventService.removeEventListener(e,t)},e.prototype.isSkipHeaderOnAutoSize=function(){return!!this.gridOptions.skipHeaderOnAutoSize},e.prototype.getAutoSizePadding=function(){var e=this.gridOptions.autoSizePadding;return null!=e&&e>=0?e:20},e.prototype.getHeaderHeight=function(){return"number"===typeof this.gridOptions.headerHeight?this.gridOptions.headerHeight:this.getFromTheme(25,"headerHeight")},e.prototype.getFloatingFiltersHeight=function(){return"number"===typeof this.gridOptions.floatingFiltersHeight?this.gridOptions.floatingFiltersHeight:this.getFromTheme(25,"headerHeight")},e.prototype.getGroupHeaderHeight=function(){return"number"===typeof this.gridOptions.groupHeaderHeight?this.gridOptions.groupHeaderHeight:this.getHeaderHeight()},e.prototype.getPivotHeaderHeight=function(){return"number"===typeof this.gridOptions.pivotHeaderHeight?this.gridOptions.pivotHeaderHeight:this.getHeaderHeight()},e.prototype.getPivotGroupHeaderHeight=function(){return"number"===typeof this.gridOptions.pivotGroupHeaderHeight?this.gridOptions.pivotGroupHeaderHeight:this.getGroupHeaderHeight()},e.prototype.isExternalFilterPresent=function(){return"function"===typeof this.gridOptions.isExternalFilterPresent&&this.gridOptions.isExternalFilterPresent({api:this.getApi(),columnApi:this.getColumnApi(),context:this.getContext()})},e.prototype.doesExternalFilterPass=function(e){return"function"===typeof this.gridOptions.doesExternalFilterPass&&this.gridOptions.doesExternalFilterPass(e)},e.prototype.getTooltipDelay=function(e){var t=this.gridOptions,r=t.tooltipShowDelay,n=t.tooltipHideDelay,i="show"===e?r:n,a=Xe(e);return o(i)?(i<0&&T((function(){return console.warn("ag-grid: tooltip"+a+"Delay should not be lower than 0")}),"tooltip"+a+"DelayWarn"),Math.max(200,i)):null},e.prototype.isTooltipMouseTrack=function(){return ds(this.gridOptions.tooltipMouseTrack)},e.prototype.isSuppressModelUpdateAfterUpdateTransaction=function(){return ds(this.gridOptions.suppressModelUpdateAfterUpdateTransaction)},e.prototype.getDocument=function(){var e=null;return this.gridOptions.getDocument&&o(this.gridOptions.getDocument)?e=this.gridOptions.getDocument():this.eGridDiv&&(e=this.eGridDiv.ownerDocument),e&&o(e)?e:document},e.prototype.getMinColWidth=function(){var e=this.gridOptions.minColWidth;if(o(e)&&e>r.MIN_COL_WIDTH)return this.gridOptions.minColWidth;var t=this.getFromTheme(null,"headerCellMinWidth");return o(t)?Math.max(t,r.MIN_COL_WIDTH):r.MIN_COL_WIDTH},e.prototype.getMaxColWidth=function(){return this.gridOptions.maxColWidth&&this.gridOptions.maxColWidth>r.MIN_COL_WIDTH?this.gridOptions.maxColWidth:null},e.prototype.getColWidth=function(){return"number"!==typeof this.gridOptions.colWidth||this.gridOptions.colWidth<r.MIN_COL_WIDTH?200:this.gridOptions.colWidth},e.prototype.getRowBuffer=function(){var e=this.gridOptions.rowBuffer;return"number"===typeof e?e<0&&(T((function(){return console.warn("AG Grid: rowBuffer should not be negative")}),"warn rowBuffer negative"),this.gridOptions.rowBuffer=e=0):e=ne.ROW_BUFFER_SIZE,e},e.prototype.getRowBufferInPixels=function(){return this.getRowBuffer()*this.getRowHeightAsNumber()},e.prototype.getScrollbarWidth=function(){if(null==this.scrollbarWidth){var e="number"===typeof this.gridOptions.scrollbarWidth&&this.gridOptions.scrollbarWidth>=0?this.gridOptions.scrollbarWidth:Ut();null!=e&&(this.scrollbarWidth=e,this.eventService.dispatchEvent({type:He.EVENT_SCROLLBAR_WIDTH_CHANGED}))}return this.scrollbarWidth},e.prototype.checkForDeprecated=function(){var e=this.gridOptions;e.deprecatedEmbedFullWidthRows&&console.warn("AG Grid: since v21.2, deprecatedEmbedFullWidthRows has been replaced with embedFullWidthRows."),e.rowDeselection&&console.warn("AG Grid: since v24.x, rowDeselection is deprecated and the behaviour is true by default. Please use `suppressRowDeselection` to prevent rows from being deselected."),e.enableMultiRowDragging&&(e.rowDragMultiRow=!0,delete e.enableMultiRowDragging,console.warn("AG Grid: since v26.1, `enableMultiRowDragging` is deprecated. Please use `rowDragMultiRow`."));var t=function(t,r,n){null!=e[t]&&(console.warn("AG Grid: since version "+n+", '"+t+"' is deprecated / renamed, please use the new property name '"+r+"' instead."),null==e[r]&&(e[r]=e[t]))};if(t("batchUpdateWaitMillis","asyncTransactionWaitMillis","23.1.x"),t("deltaRowDataMode","immutableData","23.1.x"),(e.immutableColumns||e.deltaColumnMode)&&console.warn("AG Grid: since v24.0, immutableColumns and deltaColumnMode properties are gone. The grid now works like this as default. To keep column order maintained, set grid property applyColumnDefOrder=true"),t("suppressSetColumnStateEvents","suppressColumnStateEvents","24.0.x"),e.groupRowInnerRenderer||e.groupRowInnerRendererParams||e.groupRowInnerRendererFramework){console.warn("AG Grid: since v24.0, grid properties groupRowInnerRenderer, groupRowInnerRendererFramework and groupRowInnerRendererParams are no longer used."),console.warn("  Instead use the grid properties groupRowRendererParams.innerRenderer, groupRowRendererParams.innerRendererFramework and groupRowRendererParams.innerRendererParams."),console.warn("  For example instead of this:"),console.warn('    groupRowInnerRenderer: "myRenderer"'),console.warn("    groupRowInnerRendererParams: {x: a}"),console.warn("  Replace with this:"),console.warn("    groupRowRendererParams: {"),console.warn('      innerRenderer: "myRenderer",'),console.warn("      innerRendererParams: {x: a}"),console.warn("    }"),console.warn("  We have copied the properties over for you. However to stop this error message, please change your application code."),e.groupRowRendererParams||(e.groupRowRendererParams={});var r=e.groupRowRendererParams;e.groupRowInnerRenderer&&(r.innerRenderer=e.groupRowInnerRenderer),e.groupRowInnerRendererParams&&(r.innerRendererParams=e.groupRowInnerRendererParams),e.groupRowInnerRendererFramework&&(r.innerRendererFramework=e.groupRowInnerRendererFramework)}if(e.rememberGroupStateWhenNewData&&console.warn("AG Grid: since v24.0, grid property rememberGroupStateWhenNewData is deprecated. This feature was provided before Transaction Updates worked (which keep group state). Now that transaction updates are possible and they keep group state, this feature is no longer needed."),e.detailCellRendererParams&&e.detailCellRendererParams.autoHeight&&(console.warn("AG Grid: since v24.1, grid property detailCellRendererParams.autoHeight is replaced with grid property detailRowAutoHeight. This allows this feature to work when you provide a custom DetailCellRenderer"),e.detailRowAutoHeight=!0),e.suppressKeyboardEvent&&console.warn("AG Grid: since v24.1 suppressKeyboardEvent in the gridOptions has been deprecated and will be removed in\n                 future versions of AG Grid. If you need this to be set for every column use the defaultColDef property."),e.suppressEnterpriseResetOnNewColumns&&console.warn("AG Grid: since v25, grid property suppressEnterpriseResetOnNewColumns is deprecated. This was a temporary property to allow changing columns in Server Side Row Model without triggering a reload. Now that it is possible to dynamically change columns in the grid, this is no longer needed."),e.suppressColumnStateEvents&&console.warn('AG Grid: since v25, grid property suppressColumnStateEvents no longer works due to a refactor that we did. It should be possible to achieve similar using event.source, which would be "api" if the event was due to setting column state via the API'),e.defaultExportParams&&console.warn("AG Grid: since v25.2, the grid property `defaultExportParams` has been replaced by `defaultCsvExportParams` and `defaultExcelExportParams`."),e.stopEditingWhenGridLosesFocus&&(console.warn("AG Grid: since v25.2.2, the grid property `stopEditingWhenGridLosesFocus` has been replaced by `stopEditingWhenCellsLoseFocus`."),e.stopEditingWhenCellsLoseFocus=!0),e.applyColumnDefOrder&&console.warn("AG Grid: since v26.0, the grid property `applyColumnDefOrder` is no longer needed, as this is the default behaviour. To turn this behaviour off, set maintainColumnOrder=true"),e.groupMultiAutoColumn&&(console.warn("AG Grid: since v26.0, the grid property `groupMultiAutoColumn` has been replaced by `groupDisplayType = 'multipleColumns'`"),e.groupDisplayType="multipleColumns"),e.groupUseEntireRow&&(console.warn("AG Grid: since v26.0, the grid property `groupUseEntireRow` has been replaced by `groupDisplayType = 'groupRows'`"),e.groupDisplayType="groupRows"),e.groupSuppressAutoColumn){var n=e.treeData?"treeDataDisplayType":"groupDisplayType";console.warn("AG Grid: since v26.0, the grid property `groupSuppressAutoColumn` has been replaced by `"+n+" = 'custom'`"),e.groupDisplayType="custom"}e.defaultGroupOrderComparator&&console.warn("AG Grid: since v27.2, the grid property `defaultGroupOrderComparator` is deprecated and has been replaced by `initialGroupOrderComparator` and now receives a single params object."),e.defaultGroupSortComparator&&(console.warn("AG Grid: since v26.0, the grid property `defaultGroupSortComparator` has been replaced by `initialGroupOrderComparator`"),e.defaultGroupOrderComparator=e.defaultGroupSortComparator),e.groupRowAggNodes&&console.warn("AG Grid: since v27.2, the grid property `groupRowAggNodes` is deprecated and has been replaced by `getGroupRowAgg` and now receives a single params object."),e.postSort&&console.warn("AG Grid: since v27.2, the grid property `postSort` is deprecated and has been replaced by `postSortRows` and now receives a single params object."),e.isFullWidthCell&&console.warn("AG Grid: since v27.2, the grid property `isFullWidthCell` is deprecated and has been replaced by `isFullWidthRow` and now receives a single params object."),e.localeTextFunc&&console.warn("AG Grid: since v27.2, the grid property `localeTextFunc` is deprecated and has been replaced by `getLocaleText` and now receives a single params object."),e.colWidth&&console.warn("AG Grid: since v26.1, the grid property `colWidth` is deprecated and should be set via `defaultColDef.width`."),e.minColWidth&&console.warn("AG Grid: since v26.1, the grid property `minColWidth` is deprecated and should be set via `defaultColDef.minWidth`."),e.maxColWidth&&console.warn("AG Grid: since v26.1, the grid property `maxColWidth` is deprecated and should be set via `defaultColDef.maxWidth`."),e.reactUi&&console.warn("AG Grid: since v27.0, React UI is on by default, so no need for reactUi=true. To turn it off, set suppressReactUi=true."),e.suppressReactUi&&console.warn("AG Grid: The legacy React rendering engine is deprecated and will be removed in the next major version of the grid."),e.suppressCellSelection&&(console.warn("AG Grid: since v27.0, `suppressCellSelection` has been replaced by `suppressCellFocus`."),e.suppressCellFocus=e.suppressCellSelection),e.getRowNodeId&&console.warn("AG Grid: since v27.1, `getRowNodeId` is deprecated and has been replaced by `getRowId`. The difference: if getRowId() is implemented then immutable data is enabled by default."),e.immutableData&&(e.getRowId?console.warn("AG Grid: since v27.1, `immutableData` is deprecated. With the `getRowId` callback implemented, immutable data is enabled by default so you can remove `immutableData=true`."):console.warn("AG Grid: since v27.1, `immutableData` is deprecated. To enable immutable data you must implement the `getRowId()` callback.")),e.clipboardDeliminator&&(console.warn("AG Grid: since v27.1, `clipboardDeliminator` has been replaced by `clipboardDelimiter`."),e.clipboardDelimiter=e.clipboardDeliminator)},e.prototype.checkForViolations=function(){this.isTreeData()&&this.treeDataViolations()},e.prototype.treeDataViolations=function(){this.isRowModelDefault()&&i(this.getDataPathFunc())&&console.warn("AG Grid: property usingTreeData=true with rowModel=clientSide, but you did not provide getDataPath function, please provide getDataPath function if using tree data."),this.isRowModelServerSide()&&(i(this.getIsServerSideGroupFunc())&&console.warn("AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide isServerSideGroup function, please provide isServerSideGroup function if using tree data."),i(this.getServerSideGroupKeyFunc())&&console.warn("AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide getServerSideGroupKey function, please provide getServerSideGroupKey function if using tree data."))},e.prototype.getLocaleTextFunc=function(){var e=this,t=this.gridOptions,r=t.localeText,n=t.getLocaleText,o=t.localeTextFunc;return n?function(t,r,o){var i={key:t,defaultValue:r,variableValues:o,api:e.getApi(),columnApi:e.getColumnApi(),context:e.getContext()};return n(i)}:o||function(e,t,n){var o=r&&r[e];if(o&&n&&n.length)for(var i=0;!(i>=n.length);){if(-1===o.indexOf("${variable}"))break;o=o.replace("${variable}",n[i++])}return null!==o&&void 0!==o?o:t}},e.prototype.globalEventHandler=function(e,t){if(!this.destroyed){var r=mt.getCallbackForEvent(e);"function"===typeof this.gridOptions[r]&&this.gridOptions[r](t)}},e.prototype.setRowHeightVariable=function(e){var t=e+"px";this.eGridDiv.style.getPropertyValue("--ag-line-height").trim()!=t&&this.eGridDiv.style.setProperty("--ag-line-height",t)},e.prototype.getRowHeightAsNumber=function(){if(!this.gridOptions.rowHeight||i(this.gridOptions.rowHeight))return this.getDefaultRowHeight();var e=this.gridOptions.rowHeight;return e&&this.isNumeric(e)?(this.setRowHeightVariable(e),e):(console.warn("AG Grid row height must be a number if not using standard row model"),this.getDefaultRowHeight())},e.prototype.isGetRowHeightFunction=function(){return"function"===typeof this.gridOptions.getRowHeight},e.prototype.getRowHeightForNode=function(e,t,r){if(void 0===t&&(t=!1),null==r&&(r=this.getDefaultRowHeight()),this.isGetRowHeightFunction()){if(t)return{height:r,estimated:!0};var n={node:e,data:e.data},o=this.mergeGridCommonParams(this.gridOptions.getRowHeight)(n);if(this.isNumeric(o))return 0===o&&T((function(){return console.warn("AG Grid: The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead.")}),"invalidRowHeight"),{height:Math.max(1,o),estimated:!1}}return e.detail&&this.isMasterDetail()?this.isDetailRowAutoHeight()?{height:1,estimated:!1}:this.isNumeric(this.gridOptions.detailRowHeight)?{height:this.gridOptions.detailRowHeight,estimated:!1}:{height:300,estimated:!1}:{height:this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:r,estimated:!1}},e.prototype.isDynamicRowHeight=function(){return"function"===typeof this.gridOptions.getRowHeight},e.prototype.getListItemHeight=function(){return this.getFromTheme(20,"listItemHeight")},e.prototype.chartMenuPanelWidth=function(){return this.environment.chartMenuPanelWidth()},e.prototype.isNumeric=function(e){return!isNaN(e)&&"number"===typeof e&&isFinite(e)},e.prototype.getFromTheme=function(e,t){var r=this.environment.getTheme().theme;return r&&0===r.indexOf("ag-theme")?this.environment.getSassVariable(r,t):e},e.prototype.getDefaultRowHeight=function(){return this.getFromTheme(25,"rowHeight")},e.prototype.matchesGroupDisplayType=function(e,t){var r=["groupRows","multipleColumns","custom","singleColumn"];return r.indexOf(t)<0?(console.warn("AG Grid: '"+t+"' is not a valid groupDisplayType value - possible values are: '"+r.join("', '")+"'"),!1):t===e},e.prototype.matchesTreeDataDisplayType=function(e,t){var r=["auto","custom"];return r.indexOf(t)<0?(console.warn("AG Grid: '"+t+"' is not a valid treeDataDisplayType value - possible values are: '"+r.join("', '")+"'"),!1):t===e},e.MIN_COL_WIDTH=10,e.PROP_HEADER_HEIGHT="headerHeight",e.PROP_GROUP_REMOVE_SINGLE_CHILDREN="groupRemoveSingleChildren",e.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN="groupRemoveLowestSingleChildren",e.PROP_PIVOT_HEADER_HEIGHT="pivotHeaderHeight",e.PROP_SUPPRESS_CLIPBOARD_PASTE="suppressClipboardPaste",e.PROP_GROUP_HEADER_HEIGHT="groupHeaderHeight",e.PROP_PIVOT_GROUP_HEADER_HEIGHT="pivotGroupHeaderHeight",e.PROP_NAVIGATE_TO_NEXT_CELL="navigateToNextCell",e.PROP_TAB_TO_NEXT_CELL="tabToNextCell",e.PROP_NAVIGATE_TO_NEXT_HEADER="navigateToNextHeader",e.PROP_TAB_TO_NEXT_HEADER="tabToNextHeader",e.PROP_IS_EXTERNAL_FILTER_PRESENT="isExternalFilterPresent",e.PROP_DOES_EXTERNAL_FILTER_PASS="doesExternalFilterPass",e.PROP_FLOATING_FILTERS_HEIGHT="floatingFiltersHeight",e.PROP_SUPPRESS_ROW_CLICK_SELECTION="suppressRowClickSelection",e.PROP_SUPPRESS_ROW_DRAG="suppressRowDrag",e.PROP_SUPPRESS_MOVE_WHEN_ROW_DRAG="suppressMoveWhenRowDragging",e.PROP_GET_ROW_CLASS="getRowClass",e.PROP_GET_ROW_STYLE="getRowStyle",e.PROP_GET_ROW_HEIGHT="getRowHeight",e.PROP_POPUP_PARENT="popupParent",e.PROP_DOM_LAYOUT="domLayout",e.PROP_ROW_CLASS="rowClass",e.PROP_FILL_HANDLE_DIRECTION="fillHandleDirection",e.PROP_GROUP_ROW_AGG_NODES="groupRowAggNodes",e.PROP_GET_GROUP_ROW_AGG="getGroupRowAgg",e.PROP_GET_BUSINESS_KEY_FOR_NODE="getBusinessKeyForNode",e.PROP_GET_CHILD_COUNT="getChildCount",e.PROP_PROCESS_ROW_POST_CREATE="processRowPostCreate",e.PROP_GET_ROW_NODE_ID="getRowNodeId",e.PROP_GET_ROW_ID="getRowId",e.PROP_IS_FULL_WIDTH_CELL="isFullWidthCell",e.PROP_IS_FULL_WIDTH_ROW="isFullWidthRow",e.PROP_IS_ROW_SELECTABLE="isRowSelectable",e.PROP_IS_ROW_MASTER="isRowMaster",e.PROP_POST_SORT="postSort",e.PROP_POST_SORT_ROWS="postSortRows",e.PROP_GET_DOCUMENT="getDocument",e.PROP_POST_PROCESS_POPUP="postProcessPopup",e.PROP_DEFAULT_GROUP_ORDER_COMPARATOR="defaultGroupOrderComparator",e.PROP_INITIAL_GROUP_ORDER_COMPARATOR="initialGroupOrderComparator",e.PROP_PAGINATION_NUMBER_FORMATTER="paginationNumberFormatter",e.PROP_GET_CONTEXT_MENU_ITEMS="getContextMenuItems",e.PROP_GET_MAIN_MENU_ITEMS="getMainMenuItems",e.PROP_PROCESS_CELL_FOR_CLIPBOARD="processCellForClipboard",e.PROP_PROCESS_CELL_FROM_CLIPBOARD="processCellFromClipboard",e.PROP_SEND_TO_CLIPBOARD="sendToClipboard",e.PROP_PROCESS_TO_SECONDARY_COLDEF="processSecondaryColDef",e.PROP_PROCESS_SECONDARY_COL_GROUP_DEF="processSecondaryColGroupDef",e.PROP_GET_CHART_TOOLBAR_ITEMS="getChartToolbarItems",e.PROP_GET_SERVER_SIDE_STORE_PARAMS="getServerSideStoreParams",e.PROP_IS_SERVER_SIDE_GROUPS_OPEN_BY_DEFAULT="isServerSideGroupOpenByDefault",e.PROP_IS_APPLY_SERVER_SIDE_TRANSACTION="isApplyServerSideTransaction",e.PROP_IS_SERVER_SIDE_GROUP="isServerSideGroup",e.PROP_GET_SERVER_SIDE_GROUP_KEY="getServerSideGroupKey",ls([K("gridOptions")],e.prototype,"gridOptions",void 0),ls([K("eventService")],e.prototype,"eventService",void 0),ls([K("environment")],e.prototype,"environment",void 0),ls([K("eGridDiv")],e.prototype,"eGridDiv",void 0),ls([us(0,Z("gridApi")),us(1,Z("columnApi"))],e.prototype,"agWire",null),ls([Y],e.prototype,"destroy",null),ls([U],e.prototype,"init",null),e=r=ls([X("gridOptionsWrapper")],e)}(),vs=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ms=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a};(gs=t.LayoutCssClasses||(t.LayoutCssClasses={})).AUTO_HEIGHT="ag-layout-auto-height",gs.NORMAL="ag-layout-normal",gs.PRINT="ag-layout-print";var bs,Cs=function(e){function r(t){var r=e.call(this)||this;return r.view=t,r}return vs(r,e),r.prototype.postConstruct=function(){this.addManagedListener(this.gridOptionsWrapper,ys.PROP_DOM_LAYOUT,this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()},r.prototype.updateLayoutClasses=function(){var e=this.gridOptionsWrapper.getDomLayout(),r={autoHeight:e===ne.DOM_LAYOUT_AUTO_HEIGHT,normal:e===ne.DOM_LAYOUT_NORMAL,print:e===ne.DOM_LAYOUT_PRINT},n=r.autoHeight?t.LayoutCssClasses.AUTO_HEIGHT:r.print?t.LayoutCssClasses.PRINT:t.LayoutCssClasses.NORMAL;this.view.updateLayoutClasses(n,r)},ms([K("gridOptionsWrapper")],r.prototype,"gridOptionsWrapper",void 0),ms([U],r.prototype,"postConstruct",null),r}(Le),ws=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),xs=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Ss=function(e){function t(t){var r=e.call(this)||this;return r.scrollLeft=-1,r.nextScrollTop=-1,r.scrollTop=-1,r.eBodyViewport=t,r.resetLastHorizontalScrollElementDebounced=G(r.resetLastHorizontalScrollElement.bind(r),500),r}return ws(t,e),t.prototype.postConstruct=function(){var e=this;this.enableRtl=this.gridOptionsWrapper.isEnableRtl(),this.addManagedListener(this.eventService,He.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this)),this.ctrlsService.whenReady((function(t){e.centerRowContainerCtrl=t.centerRowContainerCtrl,e.onDisplayedColumnsWidthChanged(),e.addScrollListener()}))},t.prototype.addScrollListener=function(){var e=this.ctrlsService.getFakeHScrollCtrl();this.addManagedListener(this.centerRowContainerCtrl.getViewportElement(),"scroll",this.onCenterViewportScroll.bind(this)),this.addManagedListener(e.getViewport(),"scroll",this.onFakeHorizontalScroll.bind(this));var t=this.gridOptionsWrapper.isDebounceVerticalScrollbar()?G(this.onVerticalScroll.bind(this),100):this.onVerticalScroll.bind(this);this.addManagedListener(this.eBodyViewport,"scroll",t)},t.prototype.onDisplayedColumnsWidthChanged=function(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()},t.prototype.horizontallyScrollHeaderCenterAndFloatingCenter=function(e){if(!(null==this.centerRowContainerCtrl)){void 0===e&&(e=this.centerRowContainerCtrl.getCenterViewportScrollLeft());var t=this.enableRtl?e:-e,r=this.ctrlsService.getTopCenterRowContainerCtrl(),n=this.ctrlsService.getBottomCenterRowContainerCtrl(),o=this.ctrlsService.getFakeHScrollCtrl();this.ctrlsService.getHeaderRowContainerCtrl().setHorizontalScroll(t),n.setContainerTranslateX(t),r.setContainerTranslateX(t),cr(this.lastHorizontalScrollElement===this.centerRowContainerCtrl.getViewportElement()?o.getViewport():this.centerRowContainerCtrl.getViewportElement(),Math.abs(e),this.enableRtl)}},t.prototype.isControllingScroll=function(e){return this.lastHorizontalScrollElement?e===this.lastHorizontalScrollElement:(this.lastHorizontalScrollElement=e,!0)},t.prototype.onFakeHorizontalScroll=function(){var e=this.ctrlsService.getFakeHScrollCtrl().getViewport();this.isControllingScroll(e)&&this.onBodyHorizontalScroll(e)},t.prototype.onCenterViewportScroll=function(){var e=this.centerRowContainerCtrl.getViewportElement();this.isControllingScroll(e)&&this.onBodyHorizontalScroll(e)},t.prototype.onBodyHorizontalScroll=function(e){var t=this.centerRowContainerCtrl.getViewportElement().scrollLeft;this.shouldBlockScrollUpdate("horizontal",t,!0)||(this.doHorizontalScroll(Math.round(ur(e,this.enableRtl))),this.resetLastHorizontalScrollElementDebounced())},t.prototype.onVerticalScroll=function(){var e=this.eBodyViewport.scrollTop;this.shouldBlockScrollUpdate("vertical",e,!0)||(this.animationFrameService.setScrollTop(e),this.nextScrollTop=e,this.gridOptionsWrapper.isSuppressAnimationFrame()?(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()):this.animationFrameService.schedule())},t.prototype.resetLastHorizontalScrollElement=function(){this.lastHorizontalScrollElement=null},t.prototype.doHorizontalScroll=function(e){var t=ur(this.ctrlsService.getFakeHScrollCtrl().getViewport(),this.enableRtl);this.scrollLeft===e&&e===t||(this.scrollLeft=e,this.fireScrollEvent("horizontal"),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.onHorizontalViewportChanged())},t.prototype.fireScrollEvent=function(e){var t=this,r={type:He.EVENT_BODY_SCROLL,api:this.gridApi,columnApi:this.columnApi,direction:e,left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(r),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout((function(){var e=Object.assign({},r,{type:He.EVENT_BODY_SCROLL_END});t.eventService.dispatchEvent(e)}),100)},t.prototype.shouldBlockScrollUpdate=function(e,t,r){if(void 0===r&&(r=!1),r&&!jt())return!1;if("vertical"===e){var n=or(this.eBodyViewport),o=this.eBodyViewport.scrollHeight;if(t<0||t+n>o)return!0}if("horizontal"===e){var i=this.centerRowContainerCtrl.getCenterWidth(),a=this.centerRowContainerCtrl.getViewportElement().scrollWidth;if(this.enableRtl&&lr()){if(t>0)return!0}else if(t<0)return!0;if(Math.abs(t)+i>a)return!0}return!1},t.prototype.redrawRowsAfterScroll=function(){this.fireScrollEvent("vertical")},t.prototype.onHorizontalViewportChanged=function(){this.centerRowContainerCtrl.onHorizontalViewportChanged()},t.prototype.checkScrollLeft=function(){this.scrollLeft!==this.centerRowContainerCtrl.getCenterViewportScrollLeft()&&this.onBodyHorizontalScroll(this.centerRowContainerCtrl.getViewportElement())},t.prototype.executeAnimationFrameScroll=function(){var e=this.scrollTop!=this.nextScrollTop;return e&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),e},t.prototype.setHorizontalScrollPosition=function(e){var t=this.centerRowContainerCtrl.getViewportElement().scrollWidth-this.centerRowContainerCtrl.getCenterWidth();this.shouldBlockScrollUpdate("horizontal",e)&&(e=this.enableRtl&&lr()?e>0?0:t:Math.min(Math.max(e,0),t)),cr(this.centerRowContainerCtrl.getViewportElement(),Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)},t.prototype.setVerticalScrollPosition=function(e){this.eBodyViewport.scrollTop=e},t.prototype.getVScrollPosition=function(){return{top:this.eBodyViewport.scrollTop,bottom:this.eBodyViewport.scrollTop+this.eBodyViewport.offsetHeight}},t.prototype.getHScrollPosition=function(){return this.centerRowContainerCtrl.getHScrollPosition()},t.prototype.isHorizontalScrollShowing=function(){return this.centerRowContainerCtrl.isHorizontalScrollShowing()},t.prototype.scrollHorizontally=function(e){var t=this.centerRowContainerCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(t+e),this.centerRowContainerCtrl.getViewportElement().scrollLeft-t},t.prototype.scrollToTop=function(){this.eBodyViewport.scrollTop=0},t.prototype.ensureNodeVisible=function(e,t){void 0===t&&(t=null);for(var r=this.rowModel.getRowCount(),n="function"===typeof e,o=-1,i=0;i<r;i++){var a=this.rowModel.getRow(i);if(n){if(e(a)){o=i;break}}else if(e===a||e===a.data){o=i;break}}o>=0&&this.ensureIndexVisible(o,t)},t.prototype.ensureIndexVisible=function(e,t){if(this.gridOptionsWrapper.getDomLayout()!==ne.DOM_LAYOUT_PRINT){var r=this.paginationProxy.getRowCount();if("number"!==typeof e||e<0||e>=r)console.warn("invalid row index for ensureIndexVisible: "+e);else{this.gridOptionsWrapper.isPagination()&&!this.gridOptionsWrapper.isSuppressPaginationPanel()||this.paginationProxy.goToPageWithIndex(e);var n,o=this.paginationProxy.getRow(e);do{var i=o.rowTop,a=o.rowHeight,s=this.paginationProxy.getPixelOffset(),l=o.rowTop-s,u=l+o.rowHeight,c=this.getVScrollPosition(),p=this.heightScaler.getDivStretchOffset(),d=c.top+p,h=c.bottom+p,f=h-d,g=this.heightScaler.getScrollPositionForPixel(l),y=this.heightScaler.getScrollPositionForPixel(u-f),v=Math.min((g+y)/2,l),m=null;"top"===t?m=g:"bottom"===t?m=y:"middle"===t?m=v:d>l?m=g:h<u&&(m=y),null!==m&&(this.eBodyViewport.scrollTop=m,this.rowRenderer.redrawAfterScroll()),n=i!==o.rowTop||a!==o.rowHeight}while(n);this.animationFrameService.flushAllFrames()}}},t.prototype.ensureColumnVisible=function(e,t){void 0===t&&(t="auto");var r=this.columnModel.getGridColumn(e);if(r&&!r.isPinned()&&this.columnModel.isColumnDisplayed(r)){var n=this.getPositionedHorizontalScroll(r,t);null!==n&&this.centerRowContainerCtrl.setCenterViewportScrollLeft(n),this.centerRowContainerCtrl.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()}},t.prototype.getPositionedHorizontalScroll=function(e,t){var r=this.isColumnOutsideViewport(e),n=r.columnBeforeStart,o=r.columnAfterEnd,i=this.centerRowContainerCtrl.getCenterWidth()<e.getActualWidth(),a=this.centerRowContainerCtrl.getCenterWidth(),s=this.enableRtl,l=(s?n:o)||i,u=s?o:n;"auto"!==t&&(l="start"===t,u="end"===t);var c="middle"===t;if(l||u||c){var p=this.getColumnBounds(e),d=p.colLeft,h=p.colMiddle,f=p.colRight;return c?h-a/2:l?s?f:d:s?d-a:f-a}return null},t.prototype.isColumnOutsideViewport=function(e){var t=this.getViewportBounds(),r=t.start,n=t.end,o=this.getColumnBounds(e),i=o.colLeft,a=o.colRight,s=this.enableRtl;return{columnBeforeStart:s?r>a:n<a,columnAfterEnd:s?n<i:r>i}},t.prototype.getColumnBounds=function(e){var t=this.enableRtl,r=this.columnModel.getBodyContainerWidth(),n=e.getActualWidth(),o=e.getLeft(),i=t?-1:1,a=t?r-o:o;return{colLeft:a,colMiddle:a+n/2*i,colRight:a+n*i}},t.prototype.getViewportBounds=function(){var e=this.centerRowContainerCtrl.getCenterWidth(),t=this.centerRowContainerCtrl.getCenterViewportScrollLeft();return{start:t,end:e+t,width:e}},xs([K("ctrlsService")],t.prototype,"ctrlsService",void 0),xs([K("animationFrameService")],t.prototype,"animationFrameService",void 0),xs([K("columnApi")],t.prototype,"columnApi",void 0),xs([K("gridApi")],t.prototype,"gridApi",void 0),xs([K("paginationProxy")],t.prototype,"paginationProxy",void 0),xs([K("rowModel")],t.prototype,"rowModel",void 0),xs([K("rowContainerHeightService")],t.prototype,"heightScaler",void 0),xs([K("rowRenderer")],t.prototype,"rowRenderer",void 0),xs([K("columnModel")],t.prototype,"columnModel",void 0),xs([U],t.prototype,"postConstruct",null),t}(Le),Es=function(){function e(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=-1!==e.scrollAxis.indexOf("x"),this.scrollVertically=-1!==e.scrollAxis.indexOf("y"),this.scrollByTick=null!=e.scrollByTick?e.scrollByTick:20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||function(){return!1},this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||function(){return!1}}return e.prototype.check=function(e,t){void 0===t&&(t=!1);var r=t||this.shouldSkipVerticalScroll();if(!r||!this.shouldSkipHorizontalScroll()){var n=this.scrollContainer.getBoundingClientRect(),o=this.scrollByTick;this.tickLeft=e.clientX<n.left+o,this.tickRight=e.clientX>n.right-o,this.tickUp=e.clientY<n.top+o&&!r,this.tickDown=e.clientY>n.bottom-o&&!r,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}},e.prototype.ensureTickingStarted=function(){null===this.tickingInterval&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)},e.prototype.doTick=function(){var e;if(this.tickCount++,e=this.tickCount>20?200:this.tickCount>10?80:40,this.scrollVertically){var t=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(t-e),this.tickDown&&this.setVerticalPosition(t+e)}if(this.scrollHorizontally){var r=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(r-e),this.tickRight&&this.setHorizontalPosition(r+e)}this.onScrollCallback&&this.onScrollCallback()},e.prototype.ensureCleared=function(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)},e}(),Os=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),_s=function(){return _s=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},_s.apply(this,arguments)},Ps=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Rs=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},As=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Rs(arguments[t]));return e},Ts=function(e){function r(t){var r=e.call(this)||this;return r.isMultiRowDrag=!1,r.isGridSorted=!1,r.isGridFiltered=!1,r.isRowGroupActive=!1,r.eContainer=t,r}return Os(r,e),r.prototype.postConstruct=function(){var e=this;this.gridOptionsWrapper.isRowModelDefault()&&(this.clientSideRowModel=this.rowModel);var t=function(){e.onSortChanged(),e.onFilterChanged(),e.onRowGroupChanged()};this.addManagedListener(this.eventService,He.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,He.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,He.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,He.EVENT_MODEL_UPDATED,(function(){t()})),t(),this.ctrlsService.whenReady((function(){var t=e.ctrlsService.getGridBodyCtrl();e.autoScrollService=new Es({scrollContainer:t.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:function(){return t.getScrollFeature().getVScrollPosition().top},setVerticalPosition:function(e){return t.getScrollFeature().setVerticalScrollPosition(e)},onScrollCallback:function(){e.onDragging(e.lastDraggingEvent)}})}))},r.prototype.onSortChanged=function(){this.isGridSorted=this.sortController.isSortActive()},r.prototype.onFilterChanged=function(){this.isGridFiltered=this.filterManager.isAnyFilterPresent()},r.prototype.onRowGroupChanged=function(){var e=this.columnModel.getRowGroupColumns();this.isRowGroupActive=!a(e)},r.prototype.getContainer=function(){return this.eContainer},r.prototype.isInterestedIn=function(e){return e===t.DragSourceType.RowDrag},r.prototype.getIconName=function(){return this.gridOptionsWrapper.isRowDragManaged()&&this.shouldPreventRowMove()?ta.ICON_NOT_ALLOWED:ta.ICON_MOVE},r.prototype.shouldPreventRowMove=function(){return this.isGridSorted||this.isGridFiltered||this.isRowGroupActive},r.prototype.getRowNodes=function(e){var t=this;if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];var r=this.gridOptionsWrapper.isRowDragMultiRow(),n=As(this.selectionService.getSelectedNodes()).sort((function(e,r){return t.getRowIndexNumber(e)-t.getRowIndexNumber(r)})),o=e.dragItem.rowNode;return r&&-1!==n.indexOf(o)?(this.isMultiRowDrag=!0,n):(this.isMultiRowDrag=!1,[o])},r.prototype.onDragEnter=function(e){e.dragItem.rowNodes=this.getRowNodes(e),this.dispatchGridEvent(He.EVENT_ROW_DRAG_ENTER,e),this.getRowNodes(e).forEach((function(e){e.setDragging(!0)})),this.onEnterOrDragging(e)},r.prototype.onDragging=function(e){this.onEnterOrDragging(e)},r.prototype.isFromThisGrid=function(e){return e.dragSource.dragSourceDomDataKey===this.gridOptionsWrapper.getDomDataKey()},r.prototype.isDropZoneWithinThisGrid=function(e){var t=this.ctrlsService.getGridBodyCtrl().getGui(),r=e.dropZoneTarget;return!t.contains(r)},r.prototype.onEnterOrDragging=function(e){this.dispatchGridEvent(He.EVENT_ROW_DRAG_MOVE,e),this.lastDraggingEvent=e;var t=this.mouseEventService.getNormalisedPosition(e).y;this.gridOptionsWrapper.isRowDragManaged()&&this.doManagedDrag(e,t),this.autoScrollService.check(e.event)},r.prototype.doManagedDrag=function(e,t){var r=this.isFromThisGrid(e),n=this.gridOptionsWrapper.isRowDragManaged(),o=e.dragItem.rowNodes;n&&this.shouldPreventRowMove()||(this.gridOptionsWrapper.isSuppressMoveWhenRowDragging()||!r?this.isDropZoneWithinThisGrid(e)||this.clientSideRowModel.highlightRowAtPixel(o[0],t):this.moveRows(o,t))},r.prototype.getRowIndexNumber=function(e){return parseInt(ue(e.getRowIndexString().split("-")),10)},r.prototype.moveRowAndClearHighlight=function(e){var r=this,n=this.clientSideRowModel.getLastHighlightedRowNode(),o=n&&n.highlighted===t.RowHighlightPosition.Below,i=this.mouseEventService.getNormalisedPosition(e).y,a=e.dragItem.rowNodes,s=o?1:0;if(this.isFromThisGrid(e))a.forEach((function(e){e.rowTop<i&&(s-=1)})),this.moveRows(a,i,s);else{var l=this.gridOptionsWrapper.getRowIdFunc(),u=this.clientSideRowModel.getRowIndexAtPixel(i)+1;this.clientSideRowModel.getHighlightPosition(i)===t.RowHighlightPosition.Above&&u--,this.clientSideRowModel.updateRowData({add:a.map((function(e){return e.data})).filter((function(e){return!r.clientSideRowModel.getRowNode(l?l({data:e,level:0}):e.id)})),addIndex:u})}this.clearRowHighlight()},r.prototype.clearRowHighlight=function(){this.clientSideRowModel.highlightRowAtPixel(null)},r.prototype.moveRows=function(e,t,r){void 0===r&&(r=0),this.clientSideRowModel.ensureRowsAtPixel(e,t,r)&&(this.focusService.clearFocusedCell(),this.rangeService&&this.rangeService.removeAllCellRanges())},r.prototype.addRowDropZone=function(e){var r=this;if(e.getContainer())if(this.dragAndDropService.findExternalZone(e))console.warn("AG Grid: addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");else{var n={getContainer:e.getContainer};e.fromGrid?(e.fromGrid=void 0,n=e):(e.onDragEnter&&(n.onDragEnter=function(t){e.onDragEnter(r.draggingToRowDragEvent(He.EVENT_ROW_DRAG_ENTER,t))}),e.onDragLeave&&(n.onDragLeave=function(t){e.onDragLeave(r.draggingToRowDragEvent(He.EVENT_ROW_DRAG_LEAVE,t))}),e.onDragging&&(n.onDragging=function(t){e.onDragging(r.draggingToRowDragEvent(He.EVENT_ROW_DRAG_MOVE,t))}),e.onDragStop&&(n.onDragStop=function(t){e.onDragStop(r.draggingToRowDragEvent(He.EVENT_ROW_DRAG_END,t))})),this.dragAndDropService.addDropTarget(_s({isInterestedIn:function(e){return e===t.DragSourceType.RowDrag},getIconName:function(){return ta.ICON_MOVE},external:!0},n))}else T((function(){return console.warn("AG Grid: addRowDropZone - A container target needs to be provided")}),"add-drop-zone-empty-target")},r.prototype.getRowDropZone=function(e){var t=this,r=this.getContainer.bind(this),n=this.onDragEnter.bind(this),o=this.onDragLeave.bind(this),i=this.onDragging.bind(this),a=this.onDragStop.bind(this);return e?{getContainer:r,onDragEnter:e.onDragEnter?function(r){n(r),e.onDragEnter(t.draggingToRowDragEvent(He.EVENT_ROW_DRAG_ENTER,r))}:n,onDragLeave:e.onDragLeave?function(r){o(r),e.onDragLeave(t.draggingToRowDragEvent(He.EVENT_ROW_DRAG_LEAVE,r))}:o,onDragging:e.onDragging?function(r){i(r),e.onDragging(t.draggingToRowDragEvent(He.EVENT_ROW_DRAG_MOVE,r))}:i,onDragStop:e.onDragStop?function(r){a(r),e.onDragStop(t.draggingToRowDragEvent(He.EVENT_ROW_DRAG_END,r))}:a,fromGrid:!0}:{getContainer:r,onDragEnter:n,onDragLeave:o,onDragging:i,onDragStop:a,fromGrid:!0}},r.prototype.draggingToRowDragEvent=function(e,r){var n,o,i=this.mouseEventService.getNormalisedPosition(r).y,a=-1;switch(i>this.paginationProxy.getCurrentPageHeight()||(a=this.rowModel.getRowIndexAtPixel(i),n=this.rowModel.getRow(a)),r.vDirection){case t.VerticalDirection.Down:o="down";break;case t.VerticalDirection.Up:o="up";break;default:o=null}return{type:e,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),event:r.event,node:r.dragItem.rowNode,nodes:r.dragItem.rowNodes,overIndex:a,overNode:n,y:i,vDirection:o}},r.prototype.dispatchGridEvent=function(e,t){var r=this.draggingToRowDragEvent(e,t);this.eventService.dispatchEvent(r)},r.prototype.onDragLeave=function(e){this.dispatchGridEvent(He.EVENT_ROW_DRAG_LEAVE,e),this.stopDragging(e),this.gridOptionsWrapper.isRowDragManaged()&&this.clearRowHighlight(),this.isFromThisGrid(e)&&(this.isMultiRowDrag=!1)},r.prototype.onDragStop=function(e){this.dispatchGridEvent(He.EVENT_ROW_DRAG_END,e),this.stopDragging(e),!this.gridOptionsWrapper.isRowDragManaged()||!this.gridOptionsWrapper.isSuppressMoveWhenRowDragging()&&this.isFromThisGrid(e)||this.isDropZoneWithinThisGrid(e)||this.moveRowAndClearHighlight(e)},r.prototype.stopDragging=function(e){this.autoScrollService.ensureCleared(),this.getRowNodes(e).forEach((function(e){e.setDragging(!1)}))},Ps([K("dragAndDropService")],r.prototype,"dragAndDropService",void 0),Ps([K("rowModel")],r.prototype,"rowModel",void 0),Ps([K("paginationProxy")],r.prototype,"paginationProxy",void 0),Ps([K("columnModel")],r.prototype,"columnModel",void 0),Ps([K("focusService")],r.prototype,"focusService",void 0),Ps([K("sortController")],r.prototype,"sortController",void 0),Ps([K("filterManager")],r.prototype,"filterManager",void 0),Ps([K("selectionService")],r.prototype,"selectionService",void 0),Ps([K("mouseEventService")],r.prototype,"mouseEventService",void 0),Ps([K("ctrlsService")],r.prototype,"ctrlsService",void 0),Ps([q("rangeService")],r.prototype,"rangeService",void 0),Ps([K("columnApi")],r.prototype,"columnApi",void 0),Ps([K("gridApi")],r.prototype,"gridApi",void 0),Ps([U],r.prototype,"postConstruct",null),r}(Le),Ds=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ms=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a};(bs=t.RowAnimationCssClasses||(t.RowAnimationCssClasses={})).ANIMATION_ON="ag-row-animation",bs.ANIMATION_OFF="ag-row-no-animation";var ks,Ns,Is="ag-selectable",Ls="ag-force-vertical-scroll",Fs="ag-column-moving",Gs=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return Ds(r,e),r.prototype.getScrollFeature=function(){return this.bodyScrollFeature},r.prototype.getBodyViewportElement=function(){return this.eBodyViewport},r.prototype.setComp=function(e,t,r,n,o){this.comp=e,this.eGridBody=t,this.eBodyViewport=r,this.eTop=n,this.eBottom=o,this.setCellTextSelection(this.gridOptionsWrapper.isEnableCellTextSelect()),this.createManagedBean(new Cs(this.comp)),this.bodyScrollFeature=this.createManagedBean(new Ss(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([n,r,o]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.ctrlsService.registerGridBodyCtrl(this)},r.prototype.getComp=function(){return this.comp},r.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,He.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,He.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.addManagedListener(this.eventService,He.EVENT_PINNED_ROW_DATA_CHANGED,this.setFloatingHeights.bind(this))},r.prototype.addFocusListeners=function(e){var t=this;e.forEach((function(e){t.addManagedListener(e,"focusin",(function(){e.classList.add("ag-has-focus")})),t.addManagedListener(e,"focusout",(function(t){e.contains(t.relatedTarget)||e.classList.remove("ag-has-focus")}))}))},r.prototype.setColumnMovingCss=function(e){this.comp.setColumnMovingCss(e?Fs:null,e)},r.prototype.setCellTextSelection=function(e){void 0===e&&(e=!1);var t=e?Is:null;this.comp.setCellSelectableCss(t,e)},r.prototype.onScrollVisibilityChanged=function(){var e=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(e)},r.prototype.onGridColumnsChanged=function(){var e=this.columnModel.getAllGridColumns();this.comp.setColumnCount(e?e.length:0)},r.prototype.disableBrowserDragging=function(){this.addManagedListener(this.eGridBody,"dragstart",(function(e){if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1}))},r.prototype.addStopEditingWhenGridLosesFocus=function(){var e=this;if(this.gridOptionsWrapper.isStopEditingWhenCellsLoseFocus()){var t=function(t){var n=t.relatedTarget;if(null!==Vt(n)){var o=r.some((function(e){return e.contains(n)}))&&e.mouseEventService.isElementInThisGrid(n);if(!o){var i=e.popupService;o=i.getActivePopups().some((function(e){return e.contains(n)}))||i.isElementWithinCustomPopup(n)}o||e.rowRenderer.stopEditing()}else e.rowRenderer.stopEditing()},r=[this.eBodyViewport,this.eBottom,this.eTop];r.forEach((function(r){return e.addManagedListener(r,"focusout",t)}))}},r.prototype.updateRowCount=function(){var e=this.headerNavigationService.getHeaderRowCount(),t=this.paginationProxy.getType(),r=-1;t===ne.ROW_MODEL_TYPE_CLIENT_SIDE&&(r=0,this.paginationProxy.forEachNode((function(e){e.group||r++})));var n=-1===r?-1:e+r;this.comp.setRowCount(n)},r.prototype.registerBodyViewportResizeListener=function(e){this.comp.registerBodyViewportResizeListener(e)},r.prototype.setVerticalScrollPaddingVisible=function(e){var t=e?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(t)},r.prototype.isVerticalScrollShowing=function(){var e=this.gridOptionsWrapper.isAlwaysShowVerticalScroll(),t=e?Ls:null;return this.comp.setAlwaysVerticalScrollClass(t,e),e||xr(this.eBodyViewport)},r.prototype.setupRowAnimationCssClass=function(){var e=this,r=function(){var r=e.gridOptionsWrapper.isAnimateRows()&&!e.rowContainerHeightService.isStretching(),n=r?t.RowAnimationCssClasses.ANIMATION_ON:t.RowAnimationCssClasses.ANIMATION_OFF;e.comp.setRowAnimationCssOnBodyViewport(n,r)};r(),this.addManagedListener(this.eventService,He.EVENT_HEIGHT_SCALE_CHANGED,r)},r.prototype.getGridBodyElement=function(){return this.eGridBody},r.prototype.addBodyViewportListener=function(){var e=this;this.addManagedListener(this.eBodyViewport,"contextmenu",(function(t){e.gridOptionsWrapper.isPreventDefaultOnContextMenu()&&t.preventDefault();var r=t.target;r!==e.eBodyViewport&&r!==e.ctrlsService.getCenterRowContainerCtrl().getViewportElement()||e.contextMenuFactory&&e.contextMenuFactory.onContextMenu(t,null,null,null,null,e.eGridBody)})),this.addManagedListener(this.eBodyViewport,"wheel",this.onWheel.bind(this))},r.prototype.onWheel=function(e){this.gridOptionsWrapper.isSuppressScrollWhenPopupsAreOpen()&&this.popupService.hasAnchoredPopup()&&e.preventDefault()},r.prototype.getGui=function(){return this.eGridBody},r.prototype.scrollVertically=function(e){var t=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(t+e),this.eBodyViewport.scrollTop-t},r.prototype.addRowDragListener=function(){this.rowDragFeature=this.createManagedBean(new Ts(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature)},r.prototype.getRowDragFeature=function(){return this.rowDragFeature},r.prototype.setFloatingHeights=function(){var e=this.pinnedRowModel,t=e.getPinnedTopTotalHeight();t&&(t+=1);var r=e.getPinnedBottomTotalHeight();r&&(r+=1),this.comp.setTopHeight(t),this.comp.setBottomHeight(r),this.comp.setTopDisplay(t?"inherit":"none"),this.comp.setBottomDisplay(r?"inherit":"none")},r.prototype.sizeColumnsToFit=function(e){var t=this,r=this.isVerticalScrollShowing()?this.gridOptionsWrapper.getScrollbarWidth():0,n=ir(this.eBodyViewport)-r;n>0?this.columnModel.sizeColumnsToFit(n,"sizeColumnsToFit"):void 0===e?window.setTimeout((function(){t.sizeColumnsToFit(100)}),0):100===e?window.setTimeout((function(){t.sizeColumnsToFit(500)}),100):500===e?window.setTimeout((function(){t.sizeColumnsToFit(-1)}),500):console.warn("AG Grid: tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")},r.prototype.addScrollEventListener=function(e){this.eBodyViewport.addEventListener("scroll",e)},r.prototype.removeScrollEventListener=function(e){this.eBodyViewport.removeEventListener("scroll",e)},Ms([K("rowContainerHeightService")],r.prototype,"rowContainerHeightService",void 0),Ms([K("ctrlsService")],r.prototype,"ctrlsService",void 0),Ms([K("columnModel")],r.prototype,"columnModel",void 0),Ms([K("scrollVisibleService")],r.prototype,"scrollVisibleService",void 0),Ms([q("contextMenuFactory")],r.prototype,"contextMenuFactory",void 0),Ms([K("headerNavigationService")],r.prototype,"headerNavigationService",void 0),Ms([K("paginationProxy")],r.prototype,"paginationProxy",void 0),Ms([K("dragAndDropService")],r.prototype,"dragAndDropService",void 0),Ms([K("pinnedRowModel")],r.prototype,"pinnedRowModel",void 0),Ms([K("rowRenderer")],r.prototype,"rowRenderer",void 0),Ms([K("popupService")],r.prototype,"popupService",void 0),Ms([K("mouseEventService")],r.prototype,"mouseEventService",void 0),r}(Le);(ks=t.SelectionHandleType||(t.SelectionHandleType={}))[ks.FILL=0]="FILL",ks[ks.RANGE=1]="RANGE",(Ns=t.CellRangeType||(t.CellRangeType={}))[Ns.VALUE=0]="VALUE",Ns[Ns.DIMENSION=1]="DIMENSION";var Bs,Ws="ag-cell-range-selected",Hs=function(){function e(e,t){this.beans=e,this.cellCtrl=t}return e.prototype.setComp=function(e,t){this.cellComp=e,this.eGui=t,this.onRangeSelectionChanged()},e.prototype.onRangeSelectionChanged=function(){this.cellComp&&(this.rangeCount=this.beans.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(Ws,0!==this.rangeCount),this.cellComp.addOrRemoveCssClass("ag-cell-range-selected-1",1===this.rangeCount),this.cellComp.addOrRemoveCssClass("ag-cell-range-selected-2",2===this.rangeCount),this.cellComp.addOrRemoveCssClass("ag-cell-range-selected-3",3===this.rangeCount),this.cellComp.addOrRemoveCssClass("ag-cell-range-selected-4",this.rangeCount>=4),this.cellComp.addOrRemoveCssClass("ag-cell-range-chart",this.hasChartRange),ln(this.eGui,this.rangeCount>0||void 0),this.cellComp.addOrRemoveCssClass("ag-cell-range-single-cell",this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())},e.prototype.updateRangeBorders=function(){var e=this.getRangeBorders(),t=this.isSingleCell(),r=!t&&e.top,n=!t&&e.right,o=!t&&e.bottom,i=!t&&e.left;this.cellComp.addOrRemoveCssClass("ag-cell-range-top",r),this.cellComp.addOrRemoveCssClass("ag-cell-range-right",n),this.cellComp.addOrRemoveCssClass("ag-cell-range-bottom",o),this.cellComp.addOrRemoveCssClass("ag-cell-range-left",i)},e.prototype.isSingleCell=function(){var e=this.beans.rangeService;return 1===this.rangeCount&&e&&!e.isMoreThanOneCell()},e.prototype.getHasChartRange=function(){var e=this.beans.rangeService;if(!this.rangeCount||!e)return!1;var r=e.getCellRanges();return r.length>0&&r.every((function(e){return ye([t.CellRangeType.DIMENSION,t.CellRangeType.VALUE],e.type)}))},e.prototype.updateRangeBordersIfRangeCount=function(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())},e.prototype.getRangeBorders=function(){var e,t,r=this,n=this.beans.gridOptionsWrapper.isEnableRtl(),o=!1,i=!1,a=!1,s=!1,l=this.cellCtrl.getCellPosition().column,u=this.beans,c=u.rangeService,p=u.columnModel;n?(e=p.getDisplayedColAfter(l),t=p.getDisplayedColBefore(l)):(e=p.getDisplayedColBefore(l),t=p.getDisplayedColAfter(l));var d=c.getCellRanges().filter((function(e){return c.isCellInSpecificRange(r.cellCtrl.getCellPosition(),e)}));e||(s=!0),t||(i=!0);for(var h=0;h<d.length&&!(o&&i&&a&&s);h++){var f=d[h],g=c.getRangeStartRow(f),y=c.getRangeEndRow(f);!o&&this.beans.rowPositionUtils.sameRow(g,this.cellCtrl.getCellPosition())&&(o=!0),!a&&this.beans.rowPositionUtils.sameRow(y,this.cellCtrl.getCellPosition())&&(a=!0),!s&&e&&f.columns.indexOf(e)<0&&(s=!0),!i&&t&&f.columns.indexOf(t)<0&&(i=!0)}return{top:o,right:i,bottom:a,left:s}},e.prototype.refreshHandle=function(){if(this.beans.rangeService){var e=this.shouldHaveSelectionHandle();this.selectionHandle&&!e&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),e&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass("ag-cell-range-handle",!!this.selectionHandle)}},e.prototype.shouldHaveSelectionHandle=function(){var e=this.beans,r=e.gridOptionsWrapper,n=e.rangeService,o=n.getCellRanges(),i=o.length;if(this.rangeCount<1||i<1)return!1;var a=ue(o),s=this.cellCtrl.getCellPosition(),l=r.isEnableFillHandle()&&!this.cellCtrl.isSuppressFillHandle(),u=r.isEnableRangeHandle(),c=1===i&&!this.cellCtrl.isEditing()&&(l||u);if(this.hasChartRange){var p=o[0].type===t.CellRangeType.DIMENSION&&n.isCellInSpecificRange(s,o[0]);this.cellComp.addOrRemoveCssClass("ag-cell-range-chart-category",p),c=a.type===t.CellRangeType.VALUE}return c&&null!=a.endRow&&n.isContiguousRange(a)&&n.isBottomRightCell(a,s)},e.prototype.addSelectionHandle=function(){var e=this.beans,r=e.gridOptionsWrapper,n=ue(e.rangeService.getCellRanges()).type,o=r.isEnableFillHandle()&&i(n)?t.SelectionHandleType.FILL:t.SelectionHandleType.RANGE;this.selectionHandle&&this.selectionHandle.getType()!==o&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.beans.selectionHandleFactory.createSelectionHandle(o)),this.selectionHandle.refresh(this.cellCtrl)},e.prototype.destroy=function(){this.beans.context.destroyBean(this.selectionHandle)},e}(),js=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Vs=function(e){function t(t,r){var n=e.call(this)||this;return n.cellCtrl=t,n.beans=r,n.column=t.getColumn(),n.rowNode=t.getRowNode(),n.setupColSpan(),n.setupRowSpan(),n}return js(t,e),t.prototype.setupRowSpan=function(){this.rowSpan=this.column.getRowSpan(this.rowNode)},t.prototype.setComp=function(e){this.eGui=e,this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()},t.prototype.onDisplayColumnsChanged=function(){var e=this.getColSpanningList();ce(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())},t.prototype.setupColSpan=function(){null!=this.column.getColDef().colSpan&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListener(this.beans.eventService,He.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayColumnsChanged.bind(this)),this.addManagedListener(this.beans.eventService,He.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onWidthChanged.bind(this)))},t.prototype.onWidthChanged=function(){if(this.eGui){var e=this.getCellWidth();this.eGui.style.width=e+"px"}},t.prototype.getCellWidth=function(){return this.colsSpanning?this.colsSpanning.reduce((function(e,t){return e+t.getActualWidth()}),0):this.column.getActualWidth()},t.prototype.getColSpanningList=function(){var e=this.column.getColSpan(this.rowNode),t=[];if(1===e)t.push(this.column);else for(var r=this.column,n=this.column.getPinned(),o=0;r&&o<e&&(t.push(r),(r=this.beans.columnModel.getDisplayedColAfter(r))&&!i(r))&&n===r.getPinned();o++);return t},t.prototype.onLeftChanged=function(){if(this.eGui){var e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=e+"px"}},t.prototype.getCellLeft=function(){return(this.beans.gridOptionsWrapper.isEnableRtl()&&this.colsSpanning?ue(this.colsSpanning):this.column).getLeft()},t.prototype.modifyLeftForPrintLayout=function(e){if(!this.cellCtrl.isPrintLayout()||this.column.getPinned()===ne.PINNED_LEFT)return e;var t=this.beans.columnModel.getDisplayedColumnsLeftWidth();return this.column.getPinned()===ne.PINNED_RIGHT?t+this.beans.columnModel.getBodyContainerWidth()+(e||0):t+(e||0)},t.prototype.applyRowSpan=function(){if(1!==this.rowSpan){var e=this.beans.gridOptionsWrapper.getRowHeightAsNumber()*this.rowSpan;this.eGui.style.height=e+"px",this.eGui.style.zIndex="1"}},t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(Le),zs=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Us=function(e){function t(t,r){var n=e.call(this)||this;return n.staticClasses=[],n.cellCtrl=t,n.beans=r,n.column=t.getColumn(),n.rowNode=t.getRowNode(),n}return zs(t,e),t.prototype.setComp=function(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()},t.prototype.applyCellClassRules=function(){var e=this,t=this.column.getColDef(),r={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:t,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()};this.beans.stylingService.processClassRules(t.cellClassRules,r,(function(t){return e.cellComp.addOrRemoveCssClass(t,!0)}),(function(t){return e.cellComp.addOrRemoveCssClass(t,!1)}))},t.prototype.applyUserStyles=function(){var e=this.column.getColDef();if(e.cellStyle){var t;if("function"===typeof e.cellStyle){var r={column:this.column,value:this.cellCtrl.getValue(),colDef:e,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()};t=(0,e.cellStyle)(r)}else t=e.cellStyle;this.cellComp.setUserStyles(t)}},t.prototype.applyClassesFromColDef=function(){var e=this,t=this.column.getColDef(),r={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:t,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()};this.staticClasses.length&&this.staticClasses.forEach((function(t){return e.cellComp.addOrRemoveCssClass(t,!1)})),this.staticClasses=this.beans.stylingService.getStaticCellClasses(t,r),this.staticClasses.length&&this.staticClasses.forEach((function(t){return e.cellComp.addOrRemoveCssClass(t,!0)}))},t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(Le),Ys=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Xs=function(e){function t(t,r){var n=e.call(this)||this;return n.ctrl=t,n.beans=r,n}return Ys(t,e),t.prototype.setComp=function(e){this.comp=e,this.setupTooltip()},t.prototype.setupTooltip=function(){this.browserTooltips=this.beans.gridOptionsWrapper.isEnableBrowserTooltips(),this.updateTooltipText(),this.browserTooltips?this.comp.setTitle(null!=this.tooltip?this.tooltip:void 0):this.createTooltipFeatureIfNeeded()},t.prototype.updateTooltipText=function(){this.tooltip=this.ctrl.getTooltipValue()},t.prototype.createTooltipFeatureIfNeeded=function(){var e=this;if(null==this.genericTooltipFeature){var t={getTooltipParams:function(){return e.getTooltipParams()},getGui:function(){return e.ctrl.getGui()}};this.genericTooltipFeature=this.createManagedBean(new qn(t),this.beans.context)}},t.prototype.refreshToolTip=function(){this.updateTooltipText(),this.browserTooltips&&this.comp.setTitle(null!=this.tooltip?this.tooltip:void 0)},t.prototype.getTooltipParams=function(){var e=this.ctrl,t=e.getColumn?e.getColumn():void 0,r=e.getColDef?e.getColDef():void 0,n=e.getRowNode?e.getRowNode():void 0;return{location:e.getLocation(),colDef:r,column:t,rowIndex:e.getRowIndex?e.getRowIndex():void 0,node:n,data:n?n.data:void 0,value:this.getTooltipText(),valueFormatted:e.getValueFormatted?e.getValueFormatted():void 0}},t.prototype.getTooltipText=function(){return this.tooltip},t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(Le),Ks=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},qs=function(){function e(){}return e.prototype.postConstruct=function(){this.doingMasterDetail=this.gridOptionsWrapper.isMasterDetail(),this.gridOptionsWrapper.isRowModelDefault()&&(this.clientSideRowModel=this.rowModel),this.gridOptionsWrapper.isRowModelServerSide()&&(this.serverSideRowModel=this.rowModel)},Ks([K("resizeObserverService")],e.prototype,"resizeObserverService",void 0),Ks([K("paginationProxy")],e.prototype,"paginationProxy",void 0),Ks([K("context")],e.prototype,"context",void 0),Ks([K("columnApi")],e.prototype,"columnApi",void 0),Ks([K("gridApi")],e.prototype,"gridApi",void 0),Ks([K("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Ks([K("expressionService")],e.prototype,"expressionService",void 0),Ks([K("rowRenderer")],e.prototype,"rowRenderer",void 0),Ks([K("templateService")],e.prototype,"templateService",void 0),Ks([K("valueService")],e.prototype,"valueService",void 0),Ks([K("eventService")],e.prototype,"eventService",void 0),Ks([K("columnModel")],e.prototype,"columnModel",void 0),Ks([K("headerNavigationService")],e.prototype,"headerNavigationService",void 0),Ks([K("navigationService")],e.prototype,"navigationService",void 0),Ks([K("columnAnimationService")],e.prototype,"columnAnimationService",void 0),Ks([q("rangeService")],e.prototype,"rangeService",void 0),Ks([K("focusService")],e.prototype,"focusService",void 0),Ks([q("contextMenuFactory")],e.prototype,"contextMenuFactory",void 0),Ks([K("popupService")],e.prototype,"popupService",void 0),Ks([K("valueFormatterService")],e.prototype,"valueFormatterService",void 0),Ks([K("stylingService")],e.prototype,"stylingService",void 0),Ks([K("columnHoverService")],e.prototype,"columnHoverService",void 0),Ks([K("userComponentFactory")],e.prototype,"userComponentFactory",void 0),Ks([K("userComponentRegistry")],e.prototype,"userComponentRegistry",void 0),Ks([K("animationFrameService")],e.prototype,"animationFrameService",void 0),Ks([K("dragAndDropService")],e.prototype,"dragAndDropService",void 0),Ks([K("sortController")],e.prototype,"sortController",void 0),Ks([K("filterManager")],e.prototype,"filterManager",void 0),Ks([K("rowContainerHeightService")],e.prototype,"rowContainerHeightService",void 0),Ks([K("frameworkOverrides")],e.prototype,"frameworkOverrides",void 0),Ks([K("cellPositionUtils")],e.prototype,"cellPositionUtils",void 0),Ks([K("rowPositionUtils")],e.prototype,"rowPositionUtils",void 0),Ks([K("selectionService")],e.prototype,"selectionService",void 0),Ks([q("selectionHandleFactory")],e.prototype,"selectionHandleFactory",void 0),Ks([K("rowCssClassCalculator")],e.prototype,"rowCssClassCalculator",void 0),Ks([K("rowModel")],e.prototype,"rowModel",void 0),Ks([K("ctrlsService")],e.prototype,"ctrlsService",void 0),Ks([K("ctrlsFactory")],e.prototype,"ctrlsFactory",void 0),Ks([K("agStackComponentsRegistry")],e.prototype,"agStackComponentsRegistry",void 0),Ks([K("valueCache")],e.prototype,"valueCache",void 0),Ks([K("rowNodeEventThrottle")],e.prototype,"rowNodeEventThrottle",void 0),Ks([U],e.prototype,"postConstruct",null),e=Ks([X("beans")],e)}(),$s=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Zs=function(e){function t(t,r,n){var o=e.call(this)||this;return o.cellCtrl=t,o.beans=r,o.column=n,o}return $s(t,e),t.prototype.onMouseEvent=function(e,t){if(!Pe(t))switch(e){case"click":this.onCellClicked(t);break;case"mousedown":case"touchstart":this.onMouseDown(t);break;case"dblclick":this.onCellDoubleClicked(t);break;case"mouseout":this.onMouseOut(t);break;case"mouseover":this.onMouseOver(t)}},t.prototype.onCellClicked=function(e){if(this.isDoubleClickOnIPad())return this.onCellDoubleClicked(e),void e.preventDefault();var t=this.beans,r=t.eventService,n=t.gridOptionsWrapper,o=this.cellCtrl.createEvent(e,He.EVENT_CELL_CLICKED);r.dispatchEvent(o);var i=this.column.getColDef();i.onCellClicked&&window.setTimeout((function(){return i.onCellClicked(o)}),0),(n.isSingleClickEdit()||i.singleClickEdit)&&!n.isSuppressClickEdit()&&this.cellCtrl.startRowOrCellEdit()},t.prototype.isDoubleClickOnIPad=function(){if(!jt()||Re("dblclick"))return!1;var e=(new Date).getTime(),t=e-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=e,t},t.prototype.onCellDoubleClicked=function(e){var t=this.column.getColDef(),r=this.cellCtrl.createEvent(e,He.EVENT_CELL_DOUBLE_CLICKED);this.beans.eventService.dispatchEvent(r),"function"===typeof t.onCellDoubleClicked&&window.setTimeout((function(){return t.onCellDoubleClicked(r)}),0),!this.beans.gridOptionsWrapper.isSingleClickEdit()&&!this.beans.gridOptionsWrapper.isSuppressClickEdit()&&this.cellCtrl.startRowOrCellEdit(null,null,e)},t.prototype.onMouseDown=function(e){var t=e.ctrlKey,r=e.metaKey,n=e.shiftKey,o=e.target,i=this.beans,a=i.eventService,s=i.rangeService;if(!this.isRightClickInExistingRange(e)){var l=s&&0!=s.getCellRanges().length;if(!n||!l){var u=Gt()&&!this.cellCtrl.isEditing()&&!Qt(o);this.cellCtrl.focusCell(u)}if(n&&l&&e.preventDefault(),!this.containsWidget(o)){if(s){var c=this.cellCtrl.getCellPosition();if(n)s.extendLatestRangeToCell(c);else{var p=t||r;s.setRangeToCell(c,p)}}a.dispatchEvent(this.cellCtrl.createEvent(e,He.EVENT_CELL_MOUSE_DOWN))}}},t.prototype.isRightClickInExistingRange=function(e){var t=this.beans.rangeService;if(t&&(t.isCellInAnyRange(this.cellCtrl.getCellPosition())&&2===e.button))return!0;return!1},t.prototype.containsWidget=function(e){return rr(e,"ag-selection-checkbox",3)},t.prototype.onMouseOut=function(e){if(!this.mouseStayingInsideCell(e)){var t=this.cellCtrl.createEvent(e,He.EVENT_CELL_MOUSE_OUT);this.beans.eventService.dispatchEvent(t),this.beans.columnHoverService.clearMouseOver()}},t.prototype.onMouseOver=function(e){if(!this.mouseStayingInsideCell(e)){var t=this.cellCtrl.createEvent(e,He.EVENT_CELL_MOUSE_OVER);this.beans.eventService.dispatchEvent(t),this.beans.columnHoverService.setMouseOver([this.column])}},t.prototype.mouseStayingInsideCell=function(e){if(!e.target||!e.relatedTarget)return!1;var t=this.cellCtrl.getGui(),r=t.contains(e.target),n=t.contains(e.relatedTarget);return r&&n},t.prototype.destroy=function(){},t}(qs),Qs=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Js=function(e){function t(t,r,n,o,i){var a=e.call(this)||this;return a.cellCtrl=t,a.beans=r,a.rowNode=o,a.rowCtrl=i,a}return Qs(t,e),t.prototype.setComp=function(e){this.eGui=e},t.prototype.onKeyDown=function(e){var t=e.key;switch(t){case po.ENTER:this.onEnterKeyDown(e);break;case po.F2:this.onF2KeyDown(e);break;case po.ESCAPE:this.onEscapeKeyDown(e);break;case po.TAB:this.onTabKeyDown(e);break;case po.BACKSPACE:case po.DELETE:this.onBackspaceOrDeleteKeyPressed(t,e);break;case po.DOWN:case po.UP:case po.RIGHT:case po.LEFT:this.onNavigationKeyPressed(e,t)}},t.prototype.onNavigationKeyPressed=function(e,t){this.cellCtrl.isEditing()||(e.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(e):this.beans.navigationService.navigateToNextCell(e,t,this.cellCtrl.getCellPosition(),!0),e.preventDefault())},t.prototype.onShiftRangeSelect=function(e){if(this.beans.rangeService){var t=this.beans.rangeService.extendLatestRangeInDirection(e);t&&this.beans.navigationService.ensureCellVisible(t)}},t.prototype.onTabKeyDown=function(e){this.beans.navigationService.onTabKeyDown(this.cellCtrl,e)},t.prototype.onBackspaceOrDeleteKeyPressed=function(e,t){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(e,void 0,t)},t.prototype.onEnterKeyDown=function(e){this.cellCtrl.isEditing()||this.rowCtrl.isEditing()?this.cellCtrl.stopEditingAndFocus():this.beans.gridOptionsWrapper.isEnterMovesDown()?this.beans.navigationService.navigateToNextCell(null,po.DOWN,this.cellCtrl.getCellPosition(),!1):(this.cellCtrl.startRowOrCellEdit(po.ENTER,void 0,e),this.cellCtrl.isEditing()&&e.preventDefault())},t.prototype.onF2KeyDown=function(e){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(po.F2,void 0,e)},t.prototype.onEscapeKeyDown=function(e){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))},t.prototype.onKeyPress=function(e){if(!(e.target!==this.eGui)&&!this.cellCtrl.isEditing()){var t=String.fromCharCode(e.charCode);" "===t?this.onSpaceKeyPressed(e):Tn(e)&&(this.cellCtrl.startRowOrCellEdit(null,t,e),e.preventDefault())}},t.prototype.onSpaceKeyPressed=function(e){var t=this.beans.gridOptionsWrapper;if(!this.cellCtrl.isEditing()&&t.isRowSelection()){var r=this.rowNode.isSelected(),n=!r;if(n||!t.isSuppressRowDeselection()){var o=this.beans.gridOptionsWrapper.isGroupSelectsFiltered(),i=this.rowNode.setSelectedParams({newValue:n,rangeSelect:e.shiftKey,groupSelectsFiltered:o});void 0===r&&0===i&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:e.shiftKey,groupSelectsFiltered:o})}}e.preventDefault()},t.prototype.destroy=function(){},t}(Le),el=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),tl=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},rl=function(e){function t(t,r,n,o){var i=e.call(this,'<div class="ag-drag-handle ag-row-drag" draggable="true"></div>')||this;return i.rowNode=t,i.column=r,i.beans=n,i.eCell=o,i}return el(t,e),t.prototype.postConstruct=function(){this.getGui().appendChild(Rn("rowDrag",this.beans.gridOptionsWrapper,null)),this.addGuiEventListener("mousedown",(function(e){e.stopPropagation()})),this.addDragSource(),this.checkVisibility()},t.prototype.addDragSource=function(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))},t.prototype.onDragStart=function(e){var t=this,r=this.column.getColDef().dndSourceOnRowDrag;e.dataTransfer.setDragImage(this.eCell,0,0);r?r({rowNode:this.rowNode,dragEvent:e,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}):function(){try{var r=JSON.stringify(t.rowNode.data);e.dataTransfer.setData("application/json",r),e.dataTransfer.setData("text/plain",r)}catch(n){}}()},t.prototype.checkVisibility=function(){var e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)},tl([U],t.prototype,"postConstruct",null),t}(eo),nl=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ol=function(){return ol=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ol.apply(this,arguments)},il="ag-cell-not-inline-editing",al=0,sl=function(e){function t(t,r,n,o){var i=e.call(this)||this;return i.suppressRefreshCell=!1,i.column=t,i.rowNode=r,i.beans=n,i.rowCtrl=o,i.instanceId=t.getId()+"-"+al++,i.createCellPosition(),i.addFeatures(),i}return nl(t,e),t.prototype.addFeatures=function(){var e=this;this.cellPositionFeature=new Vs(this,this.beans),this.addDestroyFunc((function(){return e.cellPositionFeature.destroy()})),this.cellCustomStyleFeature=new Us(this,this.beans),this.addDestroyFunc((function(){return e.cellCustomStyleFeature.destroy()})),this.cellMouseListenerFeature=new Zs(this,this.beans,this.column),this.addDestroyFunc((function(){return e.cellMouseListenerFeature.destroy()})),this.cellKeyboardListenerFeature=new Js(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.addDestroyFunc((function(){return e.cellKeyboardListenerFeature.destroy()})),this.beans.rangeService&&this.beans.gridOptionsWrapper.isEnableRangeSelection()&&(this.cellRangeFeature=new Hs(this.beans,this),this.addDestroyFunc((function(){return e.cellRangeFeature.destroy()}))),this.addTooltipFeature()},t.prototype.addTooltipFeature=function(){var e=this,t={getColumn:function(){return e.column},getColDef:function(){return e.column.getColDef()},getRowIndex:function(){return e.cellPosition.rowIndex},getRowNode:function(){return e.rowNode},getGui:function(){return e.getGui()},getLocation:function(){return"cell"},getTooltipValue:function(){var t=e.column.getColDef(),r=e.rowNode.data;if(t.tooltipField&&o(r))return S(r,t.tooltipField,e.column.isTooltipFieldContainsDots());var n=t.tooltipValueGetter;return n?n({location:"cell",api:e.beans.gridOptionsWrapper.getApi(),columnApi:e.beans.gridOptionsWrapper.getColumnApi(),context:e.beans.gridOptionsWrapper.getContext(),colDef:e.column.getColDef(),column:e.column,rowIndex:e.cellPosition.rowIndex,node:e.rowNode,data:e.rowNode.data,value:e.value,valueFormatted:e.valueFormatted}):null},getValueFormatted:function(){return e.valueFormatted}};this.tooltipFeature=new Xs(t,this.beans),this.addDestroyFunc((function(){return e.tooltipFeature.destroy()}))},t.prototype.setComp=function(e,t,r,n,o){this.cellComp=e,this.gow=this.beans.gridOptionsWrapper,this.eGui=t,this.eCellWrapper=r,this.printLayout=n,this.updateAndFormatValue(!0),this.addDomData(),this.onCellFocused(),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(),this.setAriaColIndex(),this.gow.isSuppressCellFocus()||this.cellComp.setTabIndex(-1);var i=Ke(this.column.getId());this.cellComp.setColId(i),this.cellComp.setRole("gridcell"),this.cellPositionFeature.setComp(t),this.cellCustomStyleFeature.setComp(e),this.tooltipFeature.setComp(e),this.cellKeyboardListenerFeature.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(e,t),o&&this.isCellEditable()?this.startEditing():this.showValue()},t.prototype.setupAutoHeight=function(){var e=this;if(this.column.isAutoHeight()){var t=this.eCellWrapper,r=t.parentElement,n=this.beans.gridOptionsWrapper.getRowHeightForNode(this.rowNode).height,o=function o(i){if(!e.editing&&e.isAlive()){var a=nr(r),s=a.paddingTop,l=a.paddingBottom,u=t.offsetHeight+s+l;if(i<5){var c=e.beans.gridOptionsWrapper.getDocument();if(!c||!c.contains(t)||0==u)return void e.beans.frameworkOverrides.setTimeout((function(){return o(i+1)}),0)}var p=Math.max(u,n);e.rowNode.setRowAutoHeight(p,e.column)}},i=function(){return o(0)};i();var a=this.beans.resizeObserverService.observeResize(t,i);this.addDestroyFunc((function(){a(),e.rowNode.setRowAutoHeight(void 0,e.column)}))}},t.prototype.getInstanceId=function(){return this.instanceId},t.prototype.showValue=function(e){void 0===e&&(e=!1);var t=null!=this.valueFormatted?this.valueFormatted:this.value,r=this.createCellRendererParams(),n=this.beans.userComponentFactory.getCellRendererDetails(this.column.getColDef(),r);this.cellComp.setRenderDetails(n,t,e),this.refreshHandle()},t.prototype.setupControlComps=function(){var e=this.column.getColDef();this.includeSelection=this.isIncludeControl(e.checkboxSelection),this.includeRowDrag=this.isIncludeControl(e.rowDrag),this.includeDndSource=this.isIncludeControl(e.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)},t.prototype.isForceWrapper=function(){return this.beans.gridOptionsWrapper.isEnableCellTextSelection()||this.column.isAutoHeight()},t.prototype.isIncludeControl=function(e){return!(null!=this.rowNode.rowPinned)&&("function"===typeof e||!0===e)},t.prototype.refreshShouldDestroy=function(){var e=this.column.getColDef(),t=this.includeSelection!=this.isIncludeControl(e.checkboxSelection),r=this.includeRowDrag!=this.isIncludeControl(e.rowDrag),n=this.includeDndSource!=this.isIncludeControl(e.dndSource);return t||r||n},t.prototype.startEditing=function(e,t,r,n){var o,i;if(void 0===e&&(e=null),void 0===t&&(t=null),void 0===r&&(r=!1),void 0===n&&(n=null),this.isCellEditable()&&!this.editing){var a=this.createCellEditorParams(e,t,r),s=this.column.getColDef(),l=this.beans.userComponentFactory.getCellEditorDetails(s,a),u=null!=(null===(o=l)||void 0===o?void 0:o.popupFromSelector)?l.popupFromSelector:!!s.cellEditorPopup,c=null!=(null===(i=l)||void 0===i?void 0:i.popupPositionFromSelector)?l.popupPositionFromSelector:s.cellEditorPopupPosition;this.setEditing(!0,u),this.cellComp.setEditDetails(l,u,c);var p=this.createEvent(n,He.EVENT_CELL_EDITING_STARTED);this.beans.eventService.dispatchEvent(p)}},t.prototype.setEditing=function(e,t){void 0===t&&(t=!1),this.editing!==e&&(this.editing=e,this.editingInPopup=t,this.setInlineEditingClass())},t.prototype.stopRowOrCellEdit=function(e){void 0===e&&(e=!1),this.beans.gridOptionsWrapper.isFullRowEdit()?this.rowCtrl.stopRowEditing(e):this.stopEditing(e)},t.prototype.onPopupEditorClosed=function(){this.isEditing()&&this.stopEditingAndFocus()},t.prototype.takeValueFromCellEditor=function(e){var t={newValueExists:!1};if(e)return t;var r=this.cellComp.getCellEditor();return r?r.isCancelAfterEnd&&r.isCancelAfterEnd()?t:{newValue:r.getValue(),newValueExists:!0}:t},t.prototype.saveNewValue=function(e,t){if(t===e)return!1;if(this.beans.gridOptionsWrapper.isReadOnlyEdit())return this.dispatchEventForSaveValueReadOnly(e,t),!1;this.suppressRefreshCell=!0;var r=this.rowNode.setDataValue(this.column,t);return this.suppressRefreshCell=!1,r},t.prototype.dispatchEventForSaveValueReadOnly=function(e,t){var r=this.rowNode,n={type:He.EVENT_CELL_EDIT_REQUEST,event:null,rowIndex:r.rowIndex,rowPinned:r.rowPinned,column:this.column,api:this.beans.gridApi,columnApi:this.beans.columnApi,colDef:this.column.getColDef(),context:this.beans.gridOptionsWrapper.getContext(),data:r.data,node:r,oldValue:e,newValue:t,value:t,source:void 0};this.beans.eventService.dispatchEvent(n)},t.prototype.stopEditing=function(e){if(void 0===e&&(e=!1),!this.editing)return!1;var t=this.takeValueFromCellEditor(e),r=t.newValue,n=t.newValueExists,o=this.getValueFromValueService(),i=!1;return n&&(i=this.saveNewValue(o,r)),this.setEditing(!1),this.cellComp.setEditDetails(),this.updateAndFormatValue(),this.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.dispatchEditingStoppedEvent(o,r),i},t.prototype.dispatchEditingStoppedEvent=function(e,t){var r=ol(ol({},this.createEvent(null,He.EVENT_CELL_EDITING_STOPPED)),{oldValue:e,newValue:t});this.beans.eventService.dispatchEvent(r)},t.prototype.setInlineEditingClass=function(){if(this.isAlive()){var e=this.editing&&!this.editingInPopup,t=this.editing&&this.editingInPopup;this.cellComp.addOrRemoveCssClass("ag-cell-inline-editing",e),this.cellComp.addOrRemoveCssClass(il,!e),this.cellComp.addOrRemoveCssClass("ag-cell-popup-editing",t),this.rowCtrl.setInlineEditingCss(this.editing)}},t.prototype.hackSayEditingInPopup=function(){this.editingInPopup||(this.editingInPopup=!0,this.setInlineEditingClass())},t.prototype.createCellEditorParams=function(e,t,r){return{value:this.getValueFromValueService(),key:e,eventKey:e,charPress:t,column:this.column,colDef:this.column.getColDef(),rowIndex:this.getCellPosition().rowIndex,node:this.rowNode,data:this.rowNode.data,api:this.beans.gridOptionsWrapper.getApi(),cellStartedEdit:r,columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),onKeyDown:this.onKeyDown.bind(this),stopEditing:this.stopEditingAndFocus.bind(this),eGridCell:this.getGui(),parseValue:this.parseValue.bind(this),formatValue:this.formatValue.bind(this)}},t.prototype.createCellRendererParams=function(){var e=this;return{value:this.value,valueFormatted:this.valueFormatted,getValue:this.getValueFromValueService.bind(this),setValue:function(t){return e.beans.valueService.setValue(e.rowNode,e.column,t)},formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,colDef:this.column.getColDef(),column:this.column,rowIndex:this.getCellPosition().rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:function(t,r,n,o){return e.registerRowDragger(t,r,o)},addRowCompListener:function(t,r){console.warn("AG Grid: since AG Grid v26, params.addRowCompListener() is deprecated. If you need this functionality, please contact AG Grid support and advise why so that we can revert with an appropriate workaround, as we dont have any valid use cases for it. This method was originally provided as a work around to know when cells were destroyed in AG Grid before custom Cell Renderers could be provided."),e.rowCtrl.addEventListener(t,r)}}},t.prototype.parseValue=function(e){var t=this.column.getColDef(),r={node:this.rowNode,data:this.rowNode.data,oldValue:this.getValue(),newValue:e,colDef:t,column:this.column,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()},n=t.valueParser;return o(n)?this.beans.expressionService.evaluate(n,r):e},t.prototype.setFocusOutOnEditor=function(){if(this.editing){var e=this.cellComp.getCellEditor();e&&e.focusOut&&e.focusOut()}},t.prototype.setFocusInOnEditor=function(){if(this.editing){var e=this.cellComp.getCellEditor();e&&e.focusIn?e.focusIn():this.focusCell(!0)}},t.prototype.onCellChanged=function(e){this.cellComp&&(e.column===this.column&&this.refreshCell({}))},t.prototype.refreshCell=function(e){if(!this.suppressRefreshCell&&!this.editing&&this.cellComp){var t=this.column.getColDef(),r=null!=e&&!!e.newData,n=null!=e&&!!e.suppressFlash||!!t.suppressCellFlash,o=null==t.field&&null==t.valueGetter&&null==t.showRowGroup,i=e&&e.forceRefresh||o||r,a=this.updateAndFormatValue();if(i||a){this.showValue(r);var s=this.beans.filterManager.isSuppressFlashingCellsBecauseFiltering();!n&&!s&&(this.beans.gridOptionsWrapper.isEnableCellChangeFlash()||t.enableCellChangeFlash)&&this.flashCell(),this.cellCustomStyleFeature.applyUserStyles(),this.cellCustomStyleFeature.applyClassesFromColDef()}this.refreshToolTip(),this.cellCustomStyleFeature.applyCellClassRules()}},t.prototype.stopEditingAndFocus=function(e){void 0===e&&(e=!1),this.stopRowOrCellEdit(),this.focusCell(!0),e||this.navigateAfterEdit()},t.prototype.navigateAfterEdit=function(){this.beans.gridOptionsWrapper.isFullRowEdit()||this.beans.gridOptionsWrapper.isEnterMovesDownAfterEdit()&&this.beans.navigationService.navigateToNextCell(null,po.DOWN,this.getCellPosition(),!1)},t.prototype.flashCell=function(e){var t=e&&e.flashDelay,r=e&&e.fadeDelay;this.animateCell("data-changed",t,r)},t.prototype.animateCell=function(e,t,r){var n=this,i="ag-cell-"+e,a="ag-cell-"+e+"-animation",s=this.beans.gridOptionsWrapper;t||(t=s.getCellFlashDelay()),o(r)||(r=s.getCellFadeDelay()),this.cellComp.addOrRemoveCssClass(i,!0),this.cellComp.addOrRemoveCssClass(a,!1),window.setTimeout((function(){n.cellComp.addOrRemoveCssClass(i,!1),n.cellComp.addOrRemoveCssClass(a,!0),n.eGui.style.transition="background-color "+r+"ms",window.setTimeout((function(){n.cellComp.addOrRemoveCssClass(a,!1),n.eGui.style.transition=""}),r)}),t)},t.prototype.onFlashCells=function(e){if(this.cellComp){var t=this.beans.cellPositionUtils.createId(this.getCellPosition());e.cells[t]&&this.animateCell("highlight")}},t.prototype.isCellEditable=function(){return this.column.isCellEditable(this.rowNode)},t.prototype.isSuppressFillHandle=function(){return this.column.isSuppressFillHandle()},t.prototype.formatValue=function(e){var t=this.callValueFormatter(e);return null!=t?t:e},t.prototype.callValueFormatter=function(e){return this.beans.valueFormatterService.formatValue(this.column,this.rowNode,e)},t.prototype.updateAndFormatValue=function(e){void 0===e&&(e=!1);var t=this.value,r=this.valueFormatted;return this.value=this.getValueFromValueService(),this.valueFormatted=this.callValueFormatter(this.value),!!e||(!this.valuesAreEqual(t,this.value)||this.valueFormatted!=r)},t.prototype.valuesAreEqual=function(e,t){var r=this.column.getColDef();return r.equals?r.equals(e,t):e===t},t.prototype.getComp=function(){return this.cellComp},t.prototype.getValueFromValueService=function(){var e=this.rowNode.leafGroup&&this.beans.columnModel.isPivotMode(),t=this.rowNode.group&&this.rowNode.expanded&&!this.rowNode.footer&&!e,r=this.beans.gridOptionsWrapper.isGroupIncludeFooter(),n=this.beans.gridOptionsWrapper.isGroupSuppressBlankHeader(),o=t&&r&&!n;return this.beans.valueService.getValue(this.column,this.rowNode,!1,o)},t.prototype.getValue=function(){return this.value},t.prototype.getValueFormatted=function(){return this.valueFormatted},t.prototype.addDomData=function(){var e=this,r=this.getGui();this.beans.gridOptionsWrapper.setDomData(r,t.DOM_DATA_KEY_CELL_CTRL,this),this.addDestroyFunc((function(){return e.beans.gridOptionsWrapper.setDomData(r,t.DOM_DATA_KEY_CELL_CTRL,null)}))},t.prototype.createEvent=function(e,t){return{type:t,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridApi,columnApi:this.beans.columnApi,rowPinned:this.rowNode.rowPinned,event:e,rowIndex:this.rowNode.rowIndex}},t.prototype.onKeyPress=function(e){this.cellKeyboardListenerFeature.onKeyPress(e)},t.prototype.onKeyDown=function(e){this.cellKeyboardListenerFeature.onKeyDown(e)},t.prototype.onMouseEvent=function(e,t){this.cellMouseListenerFeature.onMouseEvent(e,t)},t.prototype.getGui=function(){return this.eGui},t.prototype.refreshToolTip=function(){this.tooltipFeature.refreshToolTip()},t.prototype.getColSpanningList=function(){return this.cellPositionFeature.getColSpanningList()},t.prototype.onLeftChanged=function(){this.cellComp&&this.cellPositionFeature.onLeftChanged()},t.prototype.onDisplayedColumnsChanged=function(){this.eGui&&this.setAriaColIndex()},t.prototype.setAriaColIndex=function(){var e=this.beans.columnModel.getAriaColumnIndex(this.column);nn(this.getGui(),e)},t.prototype.isSuppressNavigable=function(){return this.column.isSuppressNavigable(this.rowNode)},t.prototype.onWidthChanged=function(){return this.cellPositionFeature.onWidthChanged()},t.prototype.getColumn=function(){return this.column},t.prototype.getRowNode=function(){return this.rowNode},t.prototype.getBeans=function(){return this.beans},t.prototype.isPrintLayout=function(){return this.printLayout},t.prototype.appendChild=function(e){this.eGui.appendChild(e)},t.prototype.refreshHandle=function(){this.editing||this.cellRangeFeature&&this.cellRangeFeature.refreshHandle()},t.prototype.getCellPosition=function(){return this.cellPosition},t.prototype.isEditing=function(){return this.editing},t.prototype.startRowOrCellEdit=function(e,t,r){void 0===r&&(r=null),this.beans.gridOptionsWrapper.isFullRowEdit()?this.rowCtrl.startRowEditing(e,t,this):this.startEditing(e,t,!0,r)},t.prototype.getRowCtrl=function(){return this.rowCtrl},t.prototype.getRowPosition=function(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}},t.prototype.updateRangeBordersIfRangeCount=function(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()},t.prototype.onRangeSelectionChanged=function(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},t.prototype.isRangeSelectionEnabled=function(){return null!=this.cellRangeFeature},t.prototype.focusCell=function(e){void 0===e&&(e=!1),this.beans.focusService.setFocusedCell(this.getCellPosition().rowIndex,this.column,this.rowNode.rowPinned,e)},t.prototype.onRowIndexChanged=function(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},t.prototype.onFirstRightPinnedChanged=function(){if(this.cellComp){var e=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass("ag-cell-first-right-pinned",e)}},t.prototype.onLastLeftPinnedChanged=function(){if(this.cellComp){var e=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass("ag-cell-last-left-pinned",e)}},t.prototype.onCellFocused=function(e){if(this.cellComp&&!this.gow.isSuppressCellFocus()){var t=this.beans.focusService.isCellFocused(this.cellPosition);if(this.cellComp.addOrRemoveCssClass("ag-cell-focus",t),t&&e&&e.forceBrowserFocus)this.cellComp.getFocusableElement().focus();var r=this.beans.gridOptionsWrapper.isFullRowEdit();t||r||!this.editing||this.stopRowOrCellEdit()}},t.prototype.createCellPosition=function(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:n(this.rowNode.rowPinned),column:this.column}},t.prototype.applyStaticCssClasses=function(){this.cellComp.addOrRemoveCssClass("ag-cell",!0),this.cellComp.addOrRemoveCssClass(il,!0);var e=1==this.column.isAutoHeight();this.cellComp.addOrRemoveCssClass("ag-cell-auto-height",e),this.cellComp.addOrRemoveCssClass("ag-cell-normal-height",!e)},t.prototype.onColumnHover=function(){if(this.cellComp&&this.beans.gridOptionsWrapper.isColumnHoverHighlight()){var e=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass("ag-column-hover",e)}},t.prototype.onNewColumnsLoaded=function(){this.cellComp&&(this.setWrapText(),this.editing||this.refreshCell({forceRefresh:!0,suppressFlash:!0}))},t.prototype.setWrapText=function(){var e=1==this.column.getColDef().wrapText;this.cellComp.addOrRemoveCssClass("ag-cell-wrap-text",e)},t.prototype.dispatchCellContextMenuEvent=function(e){var t=this.column.getColDef(),r=this.createEvent(e,He.EVENT_CELL_CONTEXT_MENU);this.beans.eventService.dispatchEvent(r),t.onCellContextMenu&&window.setTimeout((function(){return t.onCellContextMenu(r)}),0)},t.prototype.getCellRenderer=function(){return this.cellComp?this.cellComp.getCellRenderer():null},t.prototype.getCellEditor=function(){return this.cellComp?this.cellComp.getCellEditor():null},t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.prototype.createSelectionCheckbox=function(){var e=new $i;return this.beans.context.createBean(e),e.init({rowNode:this.rowNode,column:this.column}),e},t.prototype.createDndSource=function(){var e=new rl(this.rowNode,this.column,this.beans,this.eGui);return this.beans.context.createBean(e),e},t.prototype.registerRowDragger=function(e,t,r){var n=this;if(this.customRowDragComp)this.customRowDragComp.setDragElement(e,t);else{var o=this.createRowDragComp(e,t,r);o&&(this.customRowDragComp=o,this.addDestroyFunc((function(){return n.beans.context.destroyBean(o)})))}},t.prototype.createRowDragComp=function(e,t,r){var n=this,o=this.beans.gridOptionsWrapper.isPagination(),i=this.beans.gridOptionsWrapper.isRowDragManaged(),a=this.beans.gridOptionsWrapper.isRowModelDefault();if(i){if(!a)return void T((function(){return console.warn("AG Grid: managed row dragging is only allowed in the Client Side Row Model")}),"CellComp.addRowDragging");if(o)return void T((function(){return console.warn("AG Grid: managed row dragging is not possible when doing pagination")}),"CellComp.addRowDragging")}var s=new oa((function(){return n.value}),this.rowNode,this.column,e,t,r);return this.beans.context.createBean(s),s},t.DOM_DATA_KEY_CELL_CTRL="cellCtrl",t}(Le),ll=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ul=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},cl=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ul(arguments[t]));return e};!function(e){e.Normal="Normal",e.FullWidth="FullWidth",e.FullWidthLoading="FullWidthLoading",e.FullWidthGroup="FullWidthGroup",e.FullWidthDetail="FullWidthDetail"}(Bs||(Bs={}));var pl,dl,hl=0,fl=function(e){function r(t,r,n,o,i){var a=e.call(this)||this;return a.allRowGuis=[],a.active=!0,a.centerCellCtrls={list:[],map:{}},a.leftCellCtrls={list:[],map:{}},a.rightCellCtrls={list:[],map:{}},a.lastMouseDownOnDragger=!1,a.updateColumnListsPending=!1,a.beans=r,a.rowNode=t,a.paginationPage=a.beans.paginationProxy.getCurrentPage(),a.useAnimationFrameForCreate=o,a.printLayout=i,a.instanceId=t.id+"-"+hl++,a.setAnimateFlags(n),a.rowFocused=a.beans.focusService.isRowFocused(a.rowNode.rowIndex,a.rowNode.rowPinned),a.rowLevel=a.beans.rowCssClassCalculator.calculateRowLevel(a.rowNode),a.setRowType(),a.addListeners(),a.setInitialRowTop(),a}return ll(r,e),r.prototype.getBeans=function(){return this.beans},r.prototype.getInstanceId=function(){return this.instanceId},r.prototype.setComp=function(e,r,n){var o={rowComp:e,element:r,containerType:n};this.allRowGuis.push(o),n===t.RowContainerType.LEFT?this.leftGui=o:n===t.RowContainerType.RIGHT?this.rightGui=o:n===t.RowContainerType.FULL_WIDTH?this.fullWidthGui=o:this.centerGui=o;var i=null!=this.leftGui&&null!=this.rightGui&&null!=this.centerGui,a=null!=this.fullWidthGui;(i||a)&&this.initialiseRowComps()},r.prototype.isCacheable=function(){return this.rowType===Bs.FullWidthDetail&&this.beans.gridOptionsWrapper.isKeepDetailRows()},r.prototype.setCached=function(e){var t=e?"none":"";this.allRowGuis.forEach((function(e){return e.element.style.display=t}))},r.prototype.initialiseRowComps=function(){var e=this,t=this.beans.gridOptionsWrapper;this.onRowHeightChanged(),this.updateRowIndexes(),this.setFocusedClasses(),this.setStylesFromGridOptions(),t.isRowSelection()&&this.rowNode.selectable&&this.onRowSelected(),this.updateColumnLists(!this.useAnimationFrameForCreate),this.slideRowIn&&L(this.onTopChanged.bind(this)),this.fadeRowIn&&L((function(){e.allRowGuis.forEach((function(e){return e.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)}))}));var n=this.getRowBusinessKey(),o=Ke(this.rowNode.id),i=Ke(n);this.allRowGuis.forEach((function(n){var a=n.rowComp;a.setRole("row"),e.getInitialRowClasses(n.containerType).forEach((function(e){return a.addOrRemoveCssClass(e,!0)})),e.rowNode.group&&qr(n.element,1==e.rowNode.expanded),null!=o&&a.setRowId(o),null!=i&&a.setRowBusinessKey(i),e.isFullWidth()&&!e.beans.gridOptionsWrapper.isSuppressCellFocus()&&a.setTabIndex(-1),t.setDomData(n.element,r.DOM_DATA_KEY_ROW_CTRL,e),e.addDestroyFunc((function(){return t.setDomData(n.element,r.DOM_DATA_KEY_ROW_CTRL,null)})),e.useAnimationFrameForCreate?e.beans.animationFrameService.createTask(e.addHoverFunctionality.bind(e,n.element),e.rowNode.rowIndex,"createTasksP2"):e.addHoverFunctionality(n.element),e.isFullWidth()&&e.setupFullWidth(n),t.isRowDragEntireRow()&&e.addRowDraggerToRow(n),e.useAnimationFrameForCreate&&e.beans.animationFrameService.addDestroyTask((function(){e.isAlive()&&n.rowComp.addOrRemoveCssClass("ag-after-created",!0)}))})),this.executeProcessRowPostCreateFunc()},r.prototype.addRowDraggerToRow=function(e){if(this.beans.gridOptionsWrapper.isEnableRangeSelection())T((function(){console.warn("AG Grid: Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `enableRangeSelection: true`")}),"rowDragAndRangeSelectionEnabled");else{var t=new oa((function(){return"1 row"}),this.rowNode,void 0,e.element,void 0,!0);this.createManagedBean(t,this.beans.context)}},r.prototype.setupFullWidth=function(e){var r=this.getPinnedForContainer(e.containerType),n=this.createFullWidthParams(e.element,r),o=oe.isRegistered(t.ModuleNames.MasterDetailModule);if(this.rowType!=Bs.FullWidthDetail||o){var i;switch(this.rowType){case Bs.FullWidthDetail:i=this.beans.userComponentFactory.getFullWidthDetailCellRendererDetails(n);break;case Bs.FullWidthGroup:i=this.beans.userComponentFactory.getFullWidthGroupCellRendererDetails(n);break;case Bs.FullWidthLoading:i=this.beans.userComponentFactory.getFullWidthLoadingCellRendererDetails(n);break;default:i=this.beans.userComponentFactory.getFullWidthCellRendererDetails(n)}e.rowComp.showFullWidth(i)}else oe.isPackageBased()?console.warn("AG Grid: cell renderer 'agDetailCellRenderer' (for master detail) not found. Can only be used with ag-grid-enterprise package."):console.warn("AG Grid: cell renderer 'agDetailCellRenderer' (for master detail) not found. Can only be used with AG Grid Enterprise Module "+t.ModuleNames.MasterDetailModule)},r.prototype.isPrintLayout=function(){return this.printLayout},r.prototype.getCellElement=function(e){var t=this.getCellCtrl(e);return t?t.getGui():null},r.prototype.executeProcessRowPostCreateFunc=function(){var e=this.beans.gridOptionsWrapper.getProcessRowPostCreateFunc();e&&e({eRow:this.centerGui?this.centerGui.element:void 0,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)})},r.prototype.setRowType=function(){var e=this.rowNode.stub,t=this.rowNode.isFullWidthCell(),r=this.beans.doingMasterDetail&&this.rowNode.detail,n=this.beans.columnModel.isPivotMode(),o=!!this.rowNode.group&&!this.rowNode.footer&&this.beans.gridOptionsWrapper.isGroupUseEntireRow(n);this.rowType=e?Bs.FullWidthLoading:r?Bs.FullWidthDetail:t?Bs.FullWidth:o?Bs.FullWidthGroup:Bs.Normal},r.prototype.updateColumnLists=function(e){var t=this;(void 0===e&&(e=!1),this.isFullWidth())||(e||this.beans.gridOptionsWrapper.isSuppressAnimationFrame()||this.printLayout?this.updateColumnListsImpl():this.updateColumnListsPending||(this.beans.animationFrameService.createTask((function(){t.active&&t.updateColumnListsImpl()}),this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0))},r.prototype.createCellCtrls=function(e,t,r){var n=this;void 0===r&&(r=null);var o={list:[],map:{}},i=function(e,t){o.list.push(t),o.map[e]=t};return t.forEach((function(t){var r=t.getInstanceId(),o=e.map[r];o||(o=new sl(t,n.rowNode,n.beans,n)),i(r,o)})),e.list.forEach((function(e){null!=o.map[e.getColumn().getInstanceId()]||(!n.isCellEligibleToBeRemoved(e,r)?i(e.getColumn().getInstanceId(),e):e.destroy())})),o},r.prototype.updateColumnListsImpl=function(){var e=this;this.updateColumnListsPending=!1;var r=this.beans.columnModel;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,r.getAllDisplayedColumns()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{var n=r.getViewportCenterColumnsForRow(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,n);var o=r.getDisplayedLeftColumnsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,o,ne.PINNED_LEFT);var i=r.getDisplayedRightColumnsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,i,ne.PINNED_RIGHT)}this.allRowGuis.forEach((function(r){var n=r.containerType===t.RowContainerType.LEFT?e.leftCellCtrls:r.containerType===t.RowContainerType.RIGHT?e.rightCellCtrls:e.centerCellCtrls;r.rowComp.setCellCtrls(n.list)}))},r.prototype.isCellEligibleToBeRemoved=function(e,t){var r=!0;if(e.getColumn().getPinned()!=t)return r;var n=e.isEditing(),o=this.beans.focusService.isCellFocused(e.getCellPosition());if(n||o){var i=e.getColumn();return!(this.beans.columnModel.getAllDisplayedColumns().indexOf(i)>=0)&&r}return r},r.prototype.setAnimateFlags=function(e){if(e){var t=o(this.rowNode.oldRowTop);this.slideRowIn=t,this.fadeRowIn=!t}else this.slideRowIn=!1,this.fadeRowIn=!1},r.prototype.isEditing=function(){return this.editingRow},r.prototype.stopRowEditing=function(e){this.stopEditing(e)},r.prototype.isFullWidth=function(){return this.rowType!==Bs.Normal},r.prototype.getRowType=function(){return this.rowType},r.prototype.refreshFullWidth=function(){var e=this,t=function(t,r){if(!t)return!0;var n=t.rowComp.getFullWidthCellRenderer();if(!n)return!1;if(!n.refresh)return!1;var o=e.createFullWidthParams(t.element,r);return n.refresh(o)},r=t(this.fullWidthGui,null),n=t(this.centerGui,null),o=t(this.leftGui,ne.PINNED_LEFT),i=t(this.rightGui,ne.PINNED_RIGHT);return r&&n&&o&&i},r.prototype.addListeners=function(){this.addManagedListener(this.rowNode,Xi.EVENT_HEIGHT_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.rowNode,Xi.EVENT_ROW_SELECTED,this.onRowSelected.bind(this)),this.addManagedListener(this.rowNode,Xi.EVENT_ROW_INDEX_CHANGED,this.onRowIndexChanged.bind(this)),this.addManagedListener(this.rowNode,Xi.EVENT_TOP_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(this.rowNode,Xi.EVENT_EXPANDED_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,Xi.EVENT_HAS_CHILDREN_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,Xi.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,Xi.EVENT_CELL_CHANGED,this.onRowNodeCellChanged.bind(this)),this.addManagedListener(this.rowNode,Xi.EVENT_HIGHLIGHT_CHANGED,this.onRowNodeHighlightChanged.bind(this)),this.addManagedListener(this.rowNode,Xi.EVENT_DRAGGING_CHANGED,this.onRowNodeDraggingChanged.bind(this)),this.addManagedListener(this.rowNode,Xi.EVENT_UI_LEVEL_CHANGED,this.onUiLevelChanged.bind(this));var e=this.beans.eventService;this.addManagedListener(e,He.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,this.onPaginationPixelOffsetChanged.bind(this)),this.addManagedListener(e,He.EVENT_HEIGHT_SCALE_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(e,He.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(e,He.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(e,He.EVENT_CELL_FOCUSED,this.onCellFocusChanged.bind(this)),this.addManagedListener(e,He.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),this.addManagedListener(e,He.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedListener(e,He.EVENT_COLUMN_MOVED,this.onColumnMoved.bind(this)),this.addListenersForCellComps()},r.prototype.onColumnMoved=function(){this.updateColumnLists()},r.prototype.addListenersForCellComps=function(){var e=this;this.addManagedListener(this.rowNode,Xi.EVENT_ROW_INDEX_CHANGED,(function(){e.getAllCellCtrls().forEach((function(e){return e.onRowIndexChanged()}))})),this.addManagedListener(this.rowNode,Xi.EVENT_CELL_CHANGED,(function(t){e.getAllCellCtrls().forEach((function(e){return e.onCellChanged(t)}))}))},r.prototype.onRowNodeDataChanged=function(e){this.getAllCellCtrls().forEach((function(t){return t.refreshCell({suppressFlash:!e.update,newData:!e.update})})),this.onRowSelected(),this.postProcessCss()},r.prototype.onRowNodeCellChanged=function(){this.postProcessCss()},r.prototype.postProcessCss=function(){this.setStylesFromGridOptions(),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()},r.prototype.onRowNodeHighlightChanged=function(){var e=this.rowNode.highlighted;this.allRowGuis.forEach((function(r){var n=e===t.RowHighlightPosition.Above,o=e===t.RowHighlightPosition.Below;r.rowComp.addOrRemoveCssClass("ag-row-highlight-above",n),r.rowComp.addOrRemoveCssClass("ag-row-highlight-below",o)}))},r.prototype.onRowNodeDraggingChanged=function(){this.postProcessRowDragging()},r.prototype.postProcessRowDragging=function(){var e=this.rowNode.dragging;this.allRowGuis.forEach((function(t){return t.rowComp.addOrRemoveCssClass("ag-row-dragging",e)}))},r.prototype.updateExpandedCss=function(){var e=this.rowNode.isExpandable(),t=1==this.rowNode.expanded;this.allRowGuis.forEach((function(r){r.rowComp.addOrRemoveCssClass("ag-row-group",e),r.rowComp.addOrRemoveCssClass("ag-row-group-expanded",e&&t),r.rowComp.addOrRemoveCssClass("ag-row-group-contracted",e&&!t),qr(r.element,e&&t)}))},r.prototype.onDisplayedColumnsChanged=function(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()},r.prototype.onVirtualColumnsChanged=function(){this.updateColumnLists()},r.prototype.getRowPosition=function(){return{rowPinned:n(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}},r.prototype.onKeyboardNavigate=function(e){var t=this.allRowGuis.find((function(t){return t.element.contains(e.target)}));if((t?t.element:null)===e.target){var r=this.rowNode,n=this.beans.focusService.getFocusedCell(),o={rowIndex:r.rowIndex,rowPinned:r.rowPinned,column:n&&n.column};this.beans.navigationService.navigateToNextCell(e,e.key,o,!0),e.preventDefault()}},r.prototype.onTabKeyDown=function(e){if(!e.defaultPrevented&&!Pe(e)){var t=this.allRowGuis.find((function(t){return t.element.contains(e.target)})),r=t?t.element:null,n=r===e.target,o=null;n||(o=this.beans.focusService.findNextFocusableElement(r,!1,e.shiftKey)),(this.isFullWidth()&&n||!o)&&this.beans.navigationService.onTabKeyDown(this,e)}},r.prototype.onFullWidthRowFocused=function(e){var t,r=this.rowNode,n=this.isFullWidth()&&e.rowIndex===r.rowIndex&&e.rowPinned==r.rowPinned,o=this.fullWidthGui?this.fullWidthGui.element:null===(t=this.centerGui)||void 0===t?void 0:t.element;o&&(o.classList.toggle("ag-full-width-focus",n),n&&o.focus({preventScroll:!0}))},r.prototype.refreshCell=function(e){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,e),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,e),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,e),this.updateColumnLists()},r.prototype.removeCellCtrl=function(e,t){var r={list:[],map:{}};return e.list.forEach((function(e){e!==t&&(r.list.push(e),r.map[e.getInstanceId()]=e)})),r},r.prototype.onMouseEvent=function(e,t){switch(e){case"dblclick":this.onRowDblClick(t);break;case"click":this.onRowClick(t);break;case"touchstart":case"mousedown":this.onRowMouseDown(t)}},r.prototype.createRowEvent=function(e,t){return{type:e,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),event:t}},r.prototype.createRowEventWithSource=function(e,t){var r=this.createRowEvent(e,t);return r.source=this,r},r.prototype.onRowDblClick=function(e){if(!Pe(e)){var t=this.createRowEventWithSource(He.EVENT_ROW_DOUBLE_CLICKED,e);this.beans.eventService.dispatchEvent(t)}},r.prototype.onRowMouseDown=function(e){if(this.lastMouseDownOnDragger=rr(e.target,"ag-row-drag",3),this.isFullWidth()){var t=this.rowNode,r=this.beans.columnModel;this.beans.focusService.setFocusedCell(t.rowIndex,r.getAllDisplayedColumns()[0],t.rowPinned,!0)}},r.prototype.onRowClick=function(e){if(!(Pe(e)||this.lastMouseDownOnDragger)){var t=this.createRowEventWithSource(He.EVENT_ROW_CLICKED,e);this.beans.eventService.dispatchEvent(t);var r=e.ctrlKey||e.metaKey,n=e.shiftKey;if(!(this.beans.gridOptionsWrapper.isGroupSelectsChildren()&&this.rowNode.group||!this.rowNode.selectable||this.rowNode.rowPinned||!this.beans.gridOptionsWrapper.isRowSelection()||this.beans.gridOptionsWrapper.isSuppressRowClickSelection())){var o=this.beans.gridOptionsWrapper.isRowMultiSelectWithClick(),i=!this.beans.gridOptionsWrapper.isSuppressRowDeselection();if(this.rowNode.isSelected())o?this.rowNode.setSelectedParams({newValue:!1}):r?i&&this.rowNode.setSelectedParams({newValue:!1}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!n,rangeSelect:n});else{var a=!o&&!r;this.rowNode.setSelectedParams({newValue:!0,clearSelection:a,rangeSelect:n})}}}},r.prototype.setupDetailRowAutoHeight=function(e){var t=this;if(this.rowType===Bs.FullWidthDetail&&this.beans.gridOptionsWrapper.isDetailRowAutoHeight()){var r=function(){var r=e.clientHeight;if(null!=r&&r>0){t.beans.frameworkOverrides.setTimeout((function(){t.rowNode.setRowHeight(r),t.beans.clientSideRowModel?t.beans.clientSideRowModel.onRowHeightChanged():t.beans.serverSideRowModel&&t.beans.serverSideRowModel.onRowHeightChanged()}),0)}},n=this.beans.resizeObserverService.observeResize(e,r);this.addDestroyFunc(n),r()}},r.prototype.createFullWidthParams=function(e,t){var r=this;return{fullWidth:!0,data:this.rowNode.data,node:this.rowNode,value:this.rowNode.key,valueFormatted:this.rowNode.key,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),eGridCell:e,eParentOfValue:e,pinned:t,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:function(e,t,n,o){return r.addFullWidthRowDragging(e,t,n,o)}}},r.prototype.addFullWidthRowDragging=function(e,t,r,n){if(void 0===r&&(r=""),this.isFullWidth()){var o=new oa((function(){return r}),this.rowNode,void 0,e,t,n);this.createManagedBean(o,this.beans.context)}},r.prototype.onUiLevelChanged=function(){var e=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=e){var t="ag-row-level-"+e,r="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach((function(e){e.rowComp.addOrRemoveCssClass(t,!0),e.rowComp.addOrRemoveCssClass(r,!1)}))}this.rowLevel=e},r.prototype.isFirstRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageFirstRow()},r.prototype.isLastRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageLastRow()},r.prototype.onModelUpdated=function(){this.refreshFirstAndLastRowStyles()},r.prototype.refreshFirstAndLastRowStyles=function(){var e=this.isFirstRowOnPage(),t=this.isLastRowOnPage();this.firstRowOnPage!==e&&(this.firstRowOnPage=e,this.allRowGuis.forEach((function(t){return t.rowComp.addOrRemoveCssClass("ag-row-first",e)}))),this.lastRowOnPage!==t&&(this.lastRowOnPage=t,this.allRowGuis.forEach((function(e){return e.rowComp.addOrRemoveCssClass("ag-row-last",t)})))},r.prototype.stopEditing=function(e){void 0===e&&(e=!1);var t=this.getAllCellCtrls().map((function(t){return t.stopEditing(e)}));if(this.editingRow){if(!e&&t.some((function(e){return e}))){var r=this.createRowEvent(He.EVENT_ROW_VALUE_CHANGED);this.beans.eventService.dispatchEvent(r)}this.setEditingRow(!1)}},r.prototype.setInlineEditingCss=function(e){this.allRowGuis.forEach((function(t){t.rowComp.addOrRemoveCssClass("ag-row-inline-editing",e),t.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!e)}))},r.prototype.setEditingRow=function(e){this.editingRow=e,this.allRowGuis.forEach((function(t){return t.rowComp.addOrRemoveCssClass("ag-row-editing",e)}));var t=e?this.createRowEvent(He.EVENT_ROW_EDITING_STARTED):this.createRowEvent(He.EVENT_ROW_EDITING_STOPPED);this.beans.eventService.dispatchEvent(t)},r.prototype.startRowEditing=function(e,t,r,n){void 0===e&&(e=null),void 0===t&&(t=null),void 0===r&&(r=null),void 0===n&&(n=null),this.editingRow||(this.getAllCellCtrls().forEach((function(o){var i=o===r;i?o.startEditing(e,t,i,n):o.startEditing(null,null,i,n)})),this.setEditingRow(!0))},r.prototype.getAllCellCtrls=function(){return cl(this.centerCellCtrls.list,this.leftCellCtrls.list,this.rightCellCtrls.list)},r.prototype.postProcessClassesFromGridOptions=function(){var e=this,t=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);t&&t.length&&t.forEach((function(t){e.allRowGuis.forEach((function(e){return e.rowComp.addOrRemoveCssClass(t,!0)}))}))},r.prototype.postProcessRowClassRules=function(){var e=this;this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,(function(t){e.allRowGuis.forEach((function(e){return e.rowComp.addOrRemoveCssClass(t,!0)}))}),(function(t){e.allRowGuis.forEach((function(e){return e.rowComp.addOrRemoveCssClass(t,!1)}))}))},r.prototype.setStylesFromGridOptions=function(){var e=this.processStylesFromGridOptions();this.allRowGuis.forEach((function(t){return t.rowComp.setUserStyles(e)}))},r.prototype.getRowBusinessKey=function(){var e=this.beans.gridOptionsWrapper.getBusinessKeyForNodeFunc();if("function"===typeof e)return e(this.rowNode)},r.prototype.getPinnedForContainer=function(e){return e===t.RowContainerType.LEFT?ne.PINNED_LEFT:e===t.RowContainerType.RIGHT?ne.PINNED_RIGHT:null},r.prototype.getInitialRowClasses=function(e){var t=this.getPinnedForContainer(e),r={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeRowIn,rowIsEven:this.rowNode.rowIndex%2===0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned:t};return this.beans.rowCssClassCalculator.getInitialRowClasses(r)},r.prototype.processStylesFromGridOptions=function(){var e=this.beans.gridOptionsWrapper.getRowStyle();if(!e||"function"!==typeof e){var t,r=this.beans.gridOptionsWrapper.getRowStyleFunc();if(r)t=r({data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex});return Object.assign({},e,t)}console.warn("AG Grid: rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead")},r.prototype.onRowSelected=function(){var e=this,t=!!this.rowNode.isSelected();this.allRowGuis.forEach((function(r){r.rowComp.addOrRemoveCssClass("ag-row-selected",t),ln(r.element,!!t||void 0);var n=e.createAriaLabel();Vr(r.element,null==n?"":n)}))},r.prototype.createAriaLabel=function(){var e=this.rowNode.isSelected();if(!e||!this.beans.gridOptionsWrapper.isSuppressRowDeselection())return this.beans.gridOptionsWrapper.getLocaleTextFunc()(e?"ariaRowDeselect":"ariaRowSelect","Press SPACE to "+(e?"deselect":"select")+" this row.")},r.prototype.isUseAnimationFrameForCreate=function(){return this.useAnimationFrameForCreate},r.prototype.addHoverFunctionality=function(e){var t=this;this.active&&(this.addManagedListener(e,"mouseenter",(function(){return t.rowNode.onMouseEnter()})),this.addManagedListener(e,"mouseleave",(function(){return t.rowNode.onMouseLeave()})),this.addManagedListener(this.rowNode,Xi.EVENT_MOUSE_ENTER,(function(){t.beans.gridOptionsWrapper.isSuppressRowHoverHighlight()||e.classList.add("ag-row-hover")})),this.addManagedListener(this.rowNode,Xi.EVENT_MOUSE_LEAVE,(function(){e.classList.remove("ag-row-hover")})))},r.prototype.roundRowTopToBounds=function(e){var t=this.beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),r=this.applyPaginationOffset(t.top,!0)-100,n=this.applyPaginationOffset(t.bottom,!0)+100;return Math.min(Math.max(r,e),n)},r.prototype.getFrameworkOverrides=function(){return this.beans.frameworkOverrides},r.prototype.onRowHeightChanged=function(){if(null!=this.rowNode.rowHeight){var e=this.rowNode.rowHeight,t=this.beans.gridOptionsWrapper.getDefaultRowHeight(),r=this.beans.gridOptionsWrapper.isGetRowHeightFunction()?this.beans.gridOptionsWrapper.getRowHeightForNode(this.rowNode).height:void 0,n=r?Math.min(t,r)-2+"px":void 0;this.allRowGuis.forEach((function(t){t.element.style.height=e+"px",n&&t.element.style.setProperty("--ag-line-height",n)}))}},r.prototype.addEventListener=function(t,r){"renderedRowRemoved"!==t&&"rowRemoved"!==t||(t=He.EVENT_VIRTUAL_ROW_REMOVED,console.warn("AG Grid: Since version 11, event renderedRowRemoved is now called "+He.EVENT_VIRTUAL_ROW_REMOVED)),e.prototype.addEventListener.call(this,t,r)},r.prototype.removeEventListener=function(t,r){"renderedRowRemoved"!==t&&"rowRemoved"!==t||(t=He.EVENT_VIRTUAL_ROW_REMOVED,console.warn("AG Grid: Since version 11, event renderedRowRemoved and rowRemoved is now called "+He.EVENT_VIRTUAL_ROW_REMOVED)),e.prototype.removeEventListener.call(this,t,r)},r.prototype.destroyFirstPass=function(){this.active=!1,this.setupRemoveAnimation();var t=this.createRowEvent(He.EVENT_VIRTUAL_ROW_REMOVED);this.dispatchEvent(t),this.beans.eventService.dispatchEvent(t),e.prototype.destroy.call(this)},r.prototype.setupRemoveAnimation=function(){if(null!=this.rowNode.rowTop){var e=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(e)}else this.allRowGuis.forEach((function(e){return e.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0)}))},r.prototype.destroySecondPass=function(){this.allRowGuis.length=0;var e=function(e){return e.list.forEach((function(e){return e.destroy()})),{list:[],map:{}}};this.centerCellCtrls=e(this.centerCellCtrls),this.leftCellCtrls=e(this.leftCellCtrls),this.rightCellCtrls=e(this.rightCellCtrls)},r.prototype.setFocusedClasses=function(){var e=this;this.allRowGuis.forEach((function(t){t.rowComp.addOrRemoveCssClass("ag-row-focus",e.rowFocused),t.rowComp.addOrRemoveCssClass("ag-row-no-focus",!e.rowFocused)}))},r.prototype.onCellFocusChanged=function(){var e=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);e!==this.rowFocused&&(this.rowFocused=e,this.setFocusedClasses()),!e&&this.editingRow&&this.stopEditing(!1)},r.prototype.onPaginationChanged=function(){var e=this.beans.paginationProxy.getCurrentPage();this.paginationPage!==e&&(this.paginationPage=e,this.onTopChanged()),this.refreshFirstAndLastRowStyles()},r.prototype.onTopChanged=function(){this.setRowTop(this.rowNode.rowTop)},r.prototype.onPaginationPixelOffsetChanged=function(){this.onTopChanged()},r.prototype.applyPaginationOffset=function(e,t){return void 0===t&&(t=!1),this.rowNode.isRowPinned()?e:e+this.beans.paginationProxy.getPixelOffset()*(t?1:-1)},r.prototype.setRowTop=function(e){if(!this.printLayout&&o(e)){var t=this.applyPaginationOffset(e),r=(this.rowNode.isRowPinned()?t:this.beans.rowContainerHeightService.getRealPixelPosition(t))+"px";this.setRowTopStyle(r)}},r.prototype.getInitialRowTop=function(){return this.initialTop},r.prototype.getInitialTransform=function(){return this.initialTransform},r.prototype.setInitialRowTop=function(){if(this.printLayout)return"";var e=this.slideRowIn?this.roundRowTopToBounds(this.rowNode.oldRowTop):this.rowNode.rowTop,t=this.applyPaginationOffset(e),r=(this.rowNode.isRowPinned()?t:this.beans.rowContainerHeightService.getRealPixelPosition(t))+"px";this.beans.gridOptionsWrapper.isSuppressRowTransform()?this.initialTop=r:this.initialTransform="translateY("+r+")"},r.prototype.setRowTopStyle=function(e){var t=this.beans.gridOptionsWrapper.isSuppressRowTransform();this.allRowGuis.forEach((function(r){return t?r.rowComp.setTop(e):r.rowComp.setTransform("translateY("+e+")")}))},r.prototype.getRowNode=function(){return this.rowNode},r.prototype.getCellCtrl=function(e){var t=null;return this.getAllCellCtrls().forEach((function(r){r.getColumn()==e&&(t=r)})),null!=t||this.getAllCellCtrls().forEach((function(r){r.getColSpanningList().indexOf(e)>=0&&(t=r)})),t},r.prototype.onRowIndexChanged=function(){null!=this.rowNode.rowIndex&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())},r.prototype.updateRowIndexes=function(){var e=this.rowNode.getRowIndexString(),t=this.beans.headerNavigationService.getHeaderRowCount(),r=this.rowNode.rowIndex%2===0,n=t+this.rowNode.rowIndex+1;this.allRowGuis.forEach((function(t){t.rowComp.setRowIndex(e),t.rowComp.addOrRemoveCssClass("ag-row-even",r),t.rowComp.addOrRemoveCssClass("ag-row-odd",!r),tn(t.element,n)}))},r.prototype.getPinnedLeftRowElement=function(){return this.leftGui?this.leftGui.element:void 0},r.prototype.getPinnedRightRowElement=function(){return this.rightGui?this.rightGui.element:void 0},r.prototype.getBodyRowElement=function(){return this.centerGui?this.centerGui.element:void 0},r.prototype.getFullWidthRowElement=function(){return this.fullWidthGui?this.fullWidthGui.element:void 0},r.DOM_DATA_KEY_ROW_CTRL="renderedRow",r}(Le),gl=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),yl=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},vl=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},ml=function(e){function r(t){var r=e.call(this)||this;return r.element=t,r}return gl(r,e),r.prototype.postConstruct=function(){this.addMouseListeners(),this.mockContextMenuForIPad(),this.addKeyboardEvents()},r.prototype.addKeyboardEvents=function(){var e=this;["keydown","keypress"].forEach((function(t){var r=e.processKeyboardEvent.bind(e,t);e.addManagedListener(e.element,t,r)}))},r.prototype.addMouseListeners=function(){var e=this;["dblclick","contextmenu","mouseover","mouseout","click",Re("touchstart")?"touchstart":"mousedown"].forEach((function(t){var r=e.processMouseEvent.bind(e,t);e.addManagedListener(e.element,t,r)}))},r.prototype.processMouseEvent=function(e,t){if(this.mouseEventService.isEventFromThisGrid(t)&&!Pe(t)){var r=this.getRowForEvent(t),n=this.mouseEventService.getRenderedCellForEvent(t);"contextmenu"===e?this.handleContextMenuMouseEvent(t,null,r,n):(n&&n.onMouseEvent(e,t),r&&r.onMouseEvent(e,t))}},r.prototype.mockContextMenuForIPad=function(){var e=this;if(jt()){var t=new yi(this.element);this.addManagedListener(t,yi.EVENT_LONG_TAP,(function(t){var r=e.getRowForEvent(t.touchEvent),n=e.mouseEventService.getRenderedCellForEvent(t.touchEvent);e.handleContextMenuMouseEvent(null,t.touchEvent,r,n)})),this.addDestroyFunc((function(){return t.destroy()}))}},r.prototype.getRowForEvent=function(e){for(var t=e.target;t;){var r=this.gridOptionsWrapper.getDomData(t,fl.DOM_DATA_KEY_ROW_CTRL);if(r)return r;t=t.parentElement}return null},r.prototype.handleContextMenuMouseEvent=function(e,t,r,n){var o=r?r.getRowNode():null,i=n?n.getColumn():null,a=null;if(i){var s=e||t;n.dispatchCellContextMenuEvent(s),a=this.valueService.getValue(i,o)}var l=this.ctrlsService.getGridBodyCtrl(),u=n?n.getGui():l.getGridBodyElement();this.contextMenuFactory&&this.contextMenuFactory.onContextMenu(e,t,o,i,a,u)},r.prototype.processKeyboardEvent=function(e,t){var r=Ae(this.gridOptionsWrapper,t,sl.DOM_DATA_KEY_CELL_CTRL),n=Ae(this.gridOptionsWrapper,t,fl.DOM_DATA_KEY_ROW_CTRL);t.defaultPrevented||(r?this.processCellKeyboardEvent(r,e,t):n&&n.isFullWidth()&&this.processFullWidthRowKeyboardEvent(n,e,t))},r.prototype.processCellKeyboardEvent=function(e,t,r){var n=e.getRowNode(),o=e.getColumn(),i=e.isEditing();if(!Dn(this.gridOptionsWrapper,r,n,o,i))switch(t){case"keydown":!i&&this.navigationService.handlePageScrollingKey(r)||e.onKeyDown(r),this.doGridOperations(r,e.isEditing());break;case"keypress":e.onKeyPress(r)}if("keydown"===t){var a=e.createEvent(r,He.EVENT_CELL_KEY_DOWN);this.eventService.dispatchEvent(a)}if("keypress"===t){var s=e.createEvent(r,He.EVENT_CELL_KEY_PRESS);this.eventService.dispatchEvent(s)}},r.prototype.processFullWidthRowKeyboardEvent=function(e,t,r){var n=e.getRowNode(),o=this.focusService.getFocusedCell(),i=o&&o.column;if(!Dn(this.gridOptionsWrapper,r,n,i,!1)){var a=r.key;if("keydown"===t)switch(a){case po.UP:case po.DOWN:e.onKeyboardNavigate(r);break;case po.TAB:e.onTabKeyDown(r)}}if("keydown"===t){var s=e.createRowEvent(He.EVENT_CELL_KEY_DOWN,r);this.eventService.dispatchEvent(s)}if("keypress"===t){var l=e.createRowEvent(He.EVENT_CELL_KEY_PRESS,r);this.eventService.dispatchEvent(l)}},r.prototype.doGridOperations=function(e,t){if((e.ctrlKey||e.metaKey)&&!t&&this.mouseEventService.isEventFromThisGrid(e))switch(e.code){case po.A:return this.onCtrlAndA(e);case po.C:return this.onCtrlAndC(e);case po.V:return this.onCtrlAndV();case po.D:return this.onCtrlAndD(e);case po.Z:return e.shiftKey?this.undoRedoService.redo():this.undoRedoService.undo();case po.Y:return this.undoRedoService.redo()}},r.prototype.onCtrlAndA=function(e){var t=this,r=t.pinnedRowModel,n=t.paginationProxy,o=t.rangeService,i=ne.PINNED_BOTTOM,s=ne.PINNED_TOP;if(o&&n.isRowsToRender()){var l=vl([r.isEmpty(s),r.isEmpty(i)],2),u=l[0]?null:s,c=void 0,p=void 0;l[1]?(c=null,p=this.paginationProxy.getRowCount()-1):(c=i,p=r.getPinnedBottomRowData().length-1);var d=this.columnModel.getAllDisplayedColumns();if(a(d))return;o.setCellRange({rowStartIndex:0,rowStartPinned:u,rowEndIndex:p,rowEndPinned:c,columnStart:d[0],columnEnd:ue(d)})}e.preventDefault()},r.prototype.onCtrlAndC=function(e){this.clipboardService&&!this.gridOptionsWrapper.isEnableCellTextSelection()&&(this.clipboardService.copyToClipboard(),e.preventDefault())},r.prototype.onCtrlAndV=function(){oe.isRegistered(t.ModuleNames.ClipboardModule)&&!this.gridOptionsWrapper.isSuppressClipboardPaste()&&this.clipboardService.pasteFromClipboard()},r.prototype.onCtrlAndD=function(e){oe.isRegistered(t.ModuleNames.ClipboardModule)&&!this.gridOptionsWrapper.isSuppressClipboardPaste()&&this.clipboardService.copyRangeDown(),e.preventDefault()},yl([K("mouseEventService")],r.prototype,"mouseEventService",void 0),yl([K("valueService")],r.prototype,"valueService",void 0),yl([q("contextMenuFactory")],r.prototype,"contextMenuFactory",void 0),yl([K("ctrlsService")],r.prototype,"ctrlsService",void 0),yl([K("navigationService")],r.prototype,"navigationService",void 0),yl([K("focusService")],r.prototype,"focusService",void 0),yl([K("undoRedoService")],r.prototype,"undoRedoService",void 0),yl([K("columnModel")],r.prototype,"columnModel",void 0),yl([K("paginationProxy")],r.prototype,"paginationProxy",void 0),yl([K("pinnedRowModel")],r.prototype,"pinnedRowModel",void 0),yl([q("rangeService")],r.prototype,"rangeService",void 0),yl([q("clipboardService")],r.prototype,"clipboardService",void 0),yl([U],r.prototype,"postConstruct",null),r}(Le),bl=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Cl=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},wl=function(e){function t(t){var r=e.call(this)||this;return r.centerContainerCtrl=t,r}return bl(t,e),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady((function(){e.gridBodyCtrl=e.ctrlsService.getGridBodyCtrl(),e.listenForResize()})),this.addManagedListener(this.eventService,He.EVENT_SCROLLBAR_WIDTH_CHANGED,this.onScrollbarWidthChanged.bind(this))},t.prototype.listenForResize=function(){var e=this,t=function(){return e.onCenterViewportResized()};this.centerContainerCtrl.registerViewportResizeListener(t),this.gridBodyCtrl.registerBodyViewportResizeListener(t)},t.prototype.onScrollbarWidthChanged=function(){this.checkViewportAndScrolls()},t.prototype.onCenterViewportResized=function(){if(this.centerContainerCtrl.isViewportVisible()){this.checkViewportAndScrolls();var e=this.centerContainerCtrl.getCenterWidth();e!==this.centerWidth&&(this.centerWidth=e,this.columnModel.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0},t.prototype.checkViewportAndScrolls=function(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()},t.prototype.getBodyHeight=function(){return this.bodyHeight},t.prototype.checkBodyHeight=function(){var e=or(this.gridBodyCtrl.getBodyViewportElement());if(this.bodyHeight!==e){this.bodyHeight=e;var t={type:He.EVENT_BODY_HEIGHT_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(t)}},t.prototype.updateScrollVisibleService=function(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)},t.prototype.updateScrollVisibleServiceImpl=function(){var e={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(e),this.gridBodyCtrl.setVerticalScrollPaddingVisible(e.verticalScrollShowing)},t.prototype.isHorizontalScrollShowing=function(){return this.gridOptionsWrapper.isAlwaysShowHorizontalScroll()||this.centerContainerCtrl.isViewportHScrollShowing()},t.prototype.onHorizontalViewportChanged=function(){var e=this.centerContainerCtrl.getCenterWidth(),t=this.centerContainerCtrl.getViewportScrollLeft();this.columnModel.setViewportPosition(e,t)},Cl([K("ctrlsService")],t.prototype,"ctrlsService",void 0),Cl([K("columnModel")],t.prototype,"columnModel",void 0),Cl([K("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),Cl([K("columnApi")],t.prototype,"columnApi",void 0),Cl([K("gridApi")],t.prototype,"gridApi",void 0),Cl([U],t.prototype,"postConstruct",null),t}(Le),xl=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Sl=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},El=function(e){function t(t){var r=e.call(this)||this;return r.element=t,r}return xl(t,e),t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,He.EVENT_LEFT_PINNED_WIDTH_CHANGED,this.onPinnedLeftWidthChanged.bind(this))},t.prototype.onPinnedLeftWidthChanged=function(){var e=this.pinnedWidthService.getPinnedLeftWidth(),t=e>0;Jt(this.element,t),t&&Er(this.element,e)},Sl([K("pinnedWidthService")],t.prototype,"pinnedWidthService",void 0),Sl([U],t.prototype,"postConstruct",null),t}(Le),Ol=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),_l=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Pl=function(e){function t(t){var r=e.call(this)||this;return r.element=t,r}return Ol(t,e),t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,He.EVENT_RIGHT_PINNED_WIDTH_CHANGED,this.onPinnedRightWidthChanged.bind(this))},t.prototype.onPinnedRightWidthChanged=function(){var e=this.pinnedWidthService.getPinnedRightWidth(),t=e>0;Jt(this.element,t),t&&Er(this.element,e)},_l([K("pinnedWidthService")],t.prototype,"pinnedWidthService",void 0),_l([U],t.prototype,"postConstruct",null),t}(Le),Rl=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Al=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Tl=function(e){function t(t,r){var n=e.call(this)||this;return n.eContainer=t,n.eWrapper=r,n}return Rl(t,e),t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,He.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onHeightChanged.bind(this))},t.prototype.onHeightChanged=function(){var e=this.maxDivHeightScaler.getUiContainerHeight(),t=null!=e?e+"px":"";this.eContainer.style.height=t,this.eWrapper&&(this.eWrapper.style.height=t)},Al([K("rowContainerHeightService")],t.prototype,"maxDivHeightScaler",void 0),Al([U],t.prototype,"postConstruct",null),t}(Le),Dl=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ml=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},kl=function(e){function t(t){var r=e.call(this)||this;return r.eContainer=t,r}return Dl(t,e),t.prototype.postConstruct=function(){var e=this;if(this.gridOptionsWrapper.isEnableRangeSelection()&&!i(this.rangeService)){var t={dragStartPixels:0,eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)};this.dragService.addDragSource(t),this.addDestroyFunc((function(){return e.dragService.removeDragSource(t)}))}},Ml([q("rangeService")],t.prototype,"rangeService",void 0),Ml([K("dragService")],t.prototype,"dragService",void 0),Ml([U],t.prototype,"postConstruct",null),t}(Le),Nl=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Il=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Ll=function(e){function t(t){var r=e.call(this)||this;return r.callback=t,r}return Nl(t,e),t.prototype.postConstruct=function(){var e=this.setWidth.bind(this);this.addManagedListener(this.gridOptionsWrapper,ys.PROP_DOM_LAYOUT,e),this.addManagedListener(this.eventService,He.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,He.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,e),this.setWidth()},t.prototype.setWidth=function(){var e=this.columnModel,t=this.gridOptionsWrapper.getDomLayout()===ne.DOM_LAYOUT_PRINT,r=e.getBodyContainerWidth(),n=e.getDisplayedColumnsLeftWidth(),o=e.getDisplayedColumnsRightWidth(),i=t?r+n+o:r;this.callback(i)},Il([K("columnModel")],t.prototype,"columnModel",void 0),Il([U],t.prototype,"postConstruct",null),t}(Le),Fl=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Gl=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Bl=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},Wl=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Bl(arguments[t]));return e};function Hl(e){switch(e){case t.RowContainerName.CENTER:case t.RowContainerName.TOP_CENTER:case t.RowContainerName.BOTTOM_CENTER:return t.RowContainerType.CENTER;case t.RowContainerName.LEFT:case t.RowContainerName.TOP_LEFT:case t.RowContainerName.BOTTOM_LEFT:return t.RowContainerType.LEFT;case t.RowContainerName.RIGHT:case t.RowContainerName.TOP_RIGHT:case t.RowContainerName.BOTTOM_RIGHT:return t.RowContainerType.RIGHT;case t.RowContainerName.FULL_WIDTH:case t.RowContainerName.TOP_FULL_WIDTH:case t.RowContainerName.BOTTOM_FULL_WIDTH:return t.RowContainerType.FULL_WIDTH;default:throw Error("Invalid Row Container Type")}}(pl=t.RowContainerName||(t.RowContainerName={})).LEFT="left",pl.RIGHT="right",pl.CENTER="center",pl.FULL_WIDTH="fullWidth",pl.TOP_LEFT="topLeft",pl.TOP_RIGHT="topRight",pl.TOP_CENTER="topCenter",pl.TOP_FULL_WIDTH="topFullWidth",pl.BOTTOM_LEFT="bottomLeft",pl.BOTTOM_RIGHT="bottomRight",pl.BOTTOM_CENTER="bottomCenter",pl.BOTTOM_FULL_WIDTH="bottomFullWidth",(dl=t.RowContainerType||(t.RowContainerType={})).LEFT="left",dl.RIGHT="right",dl.CENTER="center",dl.FULL_WIDTH="fullWidth";var jl=Ze([[t.RowContainerName.CENTER,"ag-center-cols-container"],[t.RowContainerName.LEFT,"ag-pinned-left-cols-container"],[t.RowContainerName.RIGHT,"ag-pinned-right-cols-container"],[t.RowContainerName.FULL_WIDTH,"ag-full-width-container"],[t.RowContainerName.TOP_CENTER,"ag-floating-top-container"],[t.RowContainerName.TOP_LEFT,"ag-pinned-left-floating-top"],[t.RowContainerName.TOP_RIGHT,"ag-pinned-right-floating-top"],[t.RowContainerName.TOP_FULL_WIDTH,"ag-floating-top-full-width-container"],[t.RowContainerName.BOTTOM_CENTER,"ag-floating-bottom-container"],[t.RowContainerName.BOTTOM_LEFT,"ag-pinned-left-floating-bottom"],[t.RowContainerName.BOTTOM_RIGHT,"ag-pinned-right-floating-bottom"],[t.RowContainerName.BOTTOM_FULL_WIDTH,"ag-floating-bottom-full-width-container"]]),Vl=Ze([[t.RowContainerName.CENTER,"ag-center-cols-viewport"],[t.RowContainerName.TOP_CENTER,"ag-floating-top-viewport"],[t.RowContainerName.BOTTOM_CENTER,"ag-floating-bottom-viewport"]]),zl=Ze([[t.RowContainerName.CENTER,"ag-center-cols-clipper"]]),Ul=function(e){function r(t){var r=e.call(this)||this;return r.name=t,r}return Fl(r,e),r.getRowContainerCssClasses=function(e){return{container:jl.get(e),viewport:Vl.get(e),wrapper:zl.get(e)}},r.getPinned=function(e){switch(e){case t.RowContainerName.BOTTOM_LEFT:case t.RowContainerName.TOP_LEFT:case t.RowContainerName.LEFT:return ne.PINNED_LEFT;case t.RowContainerName.BOTTOM_RIGHT:case t.RowContainerName.TOP_RIGHT:case t.RowContainerName.RIGHT:return ne.PINNED_RIGHT;default:return null}},r.prototype.postConstruct=function(){var e=this;this.enableRtl=this.gridOptionsWrapper.isEnableRtl(),this.embedFullWidthRows=this.gridOptionsWrapper.isEmbedFullWidthRows(),this.forContainers([t.RowContainerName.CENTER],(function(){return e.viewportSizeFeature=e.createManagedBean(new wl(e))}))},r.prototype.registerWithCtrlsService=function(){switch(this.name){case t.RowContainerName.CENTER:this.ctrlsService.registerCenterRowContainerCtrl(this);break;case t.RowContainerName.LEFT:this.ctrlsService.registerLeftRowContainerCtrl(this);break;case t.RowContainerName.RIGHT:this.ctrlsService.registerRightRowContainerCtrl(this);break;case t.RowContainerName.TOP_CENTER:this.ctrlsService.registerTopCenterRowContainerCtrl(this);break;case t.RowContainerName.TOP_LEFT:this.ctrlsService.registerTopLeftRowContainerCon(this);break;case t.RowContainerName.TOP_RIGHT:this.ctrlsService.registerTopRightRowContainerCtrl(this);break;case t.RowContainerName.BOTTOM_CENTER:this.ctrlsService.registerBottomCenterRowContainerCtrl(this);break;case t.RowContainerName.BOTTOM_LEFT:this.ctrlsService.registerBottomLeftRowContainerCtrl(this);break;case t.RowContainerName.BOTTOM_RIGHT:this.ctrlsService.registerBottomRightRowContainerCtrl(this)}},r.prototype.forContainers=function(e,t){e.indexOf(this.name)>=0&&t()},r.prototype.getContainerElement=function(){return this.eContainer},r.prototype.getViewportSizeFeature=function(){return this.viewportSizeFeature},r.prototype.setComp=function(e,r,n,o){var i=this;this.comp=e,this.eContainer=r,this.eViewport=n,this.eWrapper=o,this.createManagedBean(new ml(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder(),this.stopHScrollOnPinnedRows();var a=[t.RowContainerName.TOP_CENTER,t.RowContainerName.TOP_LEFT,t.RowContainerName.TOP_RIGHT],s=[t.RowContainerName.BOTTOM_CENTER,t.RowContainerName.BOTTOM_LEFT,t.RowContainerName.BOTTOM_RIGHT],l=[t.RowContainerName.CENTER,t.RowContainerName.LEFT,t.RowContainerName.RIGHT],u=Wl(a,s,l),c=[t.RowContainerName.CENTER,t.RowContainerName.LEFT,t.RowContainerName.RIGHT,t.RowContainerName.FULL_WIDTH],p=[t.RowContainerName.CENTER,t.RowContainerName.TOP_CENTER,t.RowContainerName.BOTTOM_CENTER],d=[t.RowContainerName.LEFT,t.RowContainerName.BOTTOM_LEFT,t.RowContainerName.TOP_LEFT],h=[t.RowContainerName.RIGHT,t.RowContainerName.BOTTOM_RIGHT,t.RowContainerName.TOP_RIGHT];this.forContainers(d,(function(){return i.createManagedBean(new El(i.eContainer))})),this.forContainers(h,(function(){return i.createManagedBean(new Pl(i.eContainer))})),this.forContainers(c,(function(){return i.createManagedBean(new Tl(i.eContainer,i.eWrapper))})),this.forContainers(u,(function(){return i.createManagedBean(new kl(i.eContainer))})),this.forContainers(p,(function(){return i.createManagedBean(new Ll((function(e){return i.comp.setContainerWidth(e+"px")})))})),this.addListeners(),this.registerWithCtrlsService()},r.prototype.addListeners=function(){var e=this;this.addManagedListener(this.eventService,He.EVENT_SCROLL_VISIBILITY_CHANGED,(function(){return e.onScrollVisibilityChanged()})),this.addManagedListener(this.eventService,He.EVENT_DISPLAYED_COLUMNS_CHANGED,(function(){return e.onDisplayedColumnsChanged()})),this.addManagedListener(this.eventService,He.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,(function(){return e.onDisplayedColumnsWidthChanged()})),this.addManagedListener(this.eventService,He.EVENT_DISPLAYED_ROWS_CHANGED,(function(){return e.onDisplayedRowsChanged()})),this.onScrollVisibilityChanged(),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()},r.prototype.listenOnDomOrder=function(){var e=this,t=function(){return e.comp.setDomOrder(e.gridOptionsWrapper.isEnsureDomOrder())};this.addManagedListener(this.gridOptionsWrapper,ys.PROP_DOM_LAYOUT,t),t()},r.prototype.stopHScrollOnPinnedRows=function(){var e=this;this.forContainers([t.RowContainerName.TOP_CENTER,t.RowContainerName.BOTTOM_CENTER],(function(){e.addManagedListener(e.eViewport,"scroll",(function(){return e.eViewport.scrollLeft=0}))}))},r.prototype.onDisplayedColumnsChanged=function(){var e=this;this.forContainers([t.RowContainerName.CENTER],(function(){return e.onHorizontalViewportChanged()}))},r.prototype.onDisplayedColumnsWidthChanged=function(){var e=this;this.forContainers([t.RowContainerName.CENTER],(function(){return e.onHorizontalViewportChanged()}))},r.prototype.onScrollVisibilityChanged=function(){if(this.name===t.RowContainerName.CENTER){var e=this.scrollVisibleService.isHorizontalScrollShowing()&&this.gridOptionsWrapper.getScrollbarWidth()||0,r=0==e?"100%":"calc(100% + "+e+"px)";this.comp.setViewportHeight(r)}},r.prototype.addPreventScrollWhileDragging=function(){var e=this,t=function(t){e.dragService.isDragging()&&t.cancelable&&t.preventDefault()};this.eContainer.addEventListener("touchmove",t,{passive:!1}),this.addDestroyFunc((function(){return e.eContainer.removeEventListener("touchmove",t)}))},r.prototype.onHorizontalViewportChanged=function(){var e=this.getCenterWidth(),t=this.getCenterViewportScrollLeft();this.columnModel.setViewportPosition(e,t)},r.prototype.getCenterWidth=function(){return ir(this.eViewport)},r.prototype.getCenterViewportScrollLeft=function(){return ur(this.eViewport,this.enableRtl)},r.prototype.registerViewportResizeListener=function(e){var t=this.resizeObserverService.observeResize(this.eViewport,e);this.addDestroyFunc((function(){return t()}))},r.prototype.isViewportVisible=function(){return hr(this.eViewport)},r.prototype.isViewportHScrollShowing=function(){return wr(this.eViewport)},r.prototype.getViewportScrollLeft=function(){return ur(this.eViewport,this.enableRtl)},r.prototype.isHorizontalScrollShowing=function(){return this.gridOptionsWrapper.isAlwaysShowHorizontalScroll()||wr(this.eViewport)},r.prototype.getViewportElement=function(){return this.eViewport},r.prototype.setContainerTranslateX=function(e){this.eContainer.style.transform="translateX("+e+"px)"},r.prototype.getHScrollPosition=function(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}},r.prototype.setCenterViewportScrollLeft=function(e){cr(this.eViewport,e,this.enableRtl)},r.prototype.onDisplayedRowsChanged=function(){var e=this,r=this.name===t.RowContainerName.TOP_FULL_WIDTH||this.name===t.RowContainerName.BOTTOM_FULL_WIDTH||this.name===t.RowContainerName.FULL_WIDTH,n=this.getRowCtrls().filter((function(t){var n=t.isFullWidth(),o=e.gridOptionsWrapper.getDomLayout()===ne.DOM_LAYOUT_PRINT,i=e.embedFullWidthRows||o;return r?!i&&n:i||!n}));this.comp.setRowCtrls(n)},r.prototype.getRowCtrls=function(){switch(this.name){case t.RowContainerName.TOP_CENTER:case t.RowContainerName.TOP_LEFT:case t.RowContainerName.TOP_RIGHT:case t.RowContainerName.TOP_FULL_WIDTH:return this.rowRenderer.getTopRowCtrls();case t.RowContainerName.BOTTOM_CENTER:case t.RowContainerName.BOTTOM_LEFT:case t.RowContainerName.BOTTOM_RIGHT:case t.RowContainerName.BOTTOM_FULL_WIDTH:return this.rowRenderer.getBottomRowCtrls();default:return this.rowRenderer.getRowCtrls()}},Gl([K("scrollVisibleService")],r.prototype,"scrollVisibleService",void 0),Gl([K("dragService")],r.prototype,"dragService",void 0),Gl([K("ctrlsService")],r.prototype,"ctrlsService",void 0),Gl([K("columnModel")],r.prototype,"columnModel",void 0),Gl([K("resizeObserverService")],r.prototype,"resizeObserverService",void 0),Gl([K("rowRenderer")],r.prototype,"rowRenderer",void 0),Gl([U],r.prototype,"postConstruct",null),r}(Le),Yl=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Xl=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Kl='<div class="ag-root ag-unselectable" role="grid">\n        <ag-header-root ref="gridHeader"></ag-header-root>\n        <div class="ag-floating-top" ref="eTop" role="presentation">\n            <ag-row-container ref="topLeftContainer" name="'+t.RowContainerName.TOP_LEFT+'"></ag-row-container>\n            <ag-row-container ref="topCenterContainer" name="'+t.RowContainerName.TOP_CENTER+'"></ag-row-container>\n            <ag-row-container ref="topRightContainer" name="'+t.RowContainerName.TOP_RIGHT+'"></ag-row-container>\n            <ag-row-container ref="topFullWidthContainer" name="'+t.RowContainerName.TOP_FULL_WIDTH+'"></ag-row-container>\n        </div>\n        <div class="ag-body-viewport" ref="eBodyViewport" role="presentation">\n            <ag-row-container ref="leftContainer" name="'+t.RowContainerName.LEFT+'"></ag-row-container>\n            <ag-row-container ref="centerContainer" name="'+t.RowContainerName.CENTER+'"></ag-row-container>\n            <ag-row-container ref="rightContainer" name="'+t.RowContainerName.RIGHT+'"></ag-row-container>\n            <ag-row-container ref="fullWidthContainer" name="'+t.RowContainerName.FULL_WIDTH+'"></ag-row-container>\n        </div>\n        <div class="ag-floating-bottom" ref="eBottom" role="presentation">\n            <ag-row-container ref="bottomLeftContainer" name="'+t.RowContainerName.BOTTOM_LEFT+'"></ag-row-container>\n            <ag-row-container ref="bottomCenterContainer" name="'+t.RowContainerName.BOTTOM_CENTER+'"></ag-row-container>\n            <ag-row-container ref="bottomRightContainer" name="'+t.RowContainerName.BOTTOM_RIGHT+'"></ag-row-container>\n            <ag-row-container ref="bottomFullWidthContainer" name="'+t.RowContainerName.BOTTOM_FULL_WIDTH+'"></ag-row-container>\n        </div>\n        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>\n        <ag-overlay-wrapper></ag-overlay-wrapper>\n    </div>',ql=function(e){function r(){return e.call(this,Kl)||this}return Yl(r,e),r.prototype.init=function(){var e=this,r=function(e,t){var r=e+"px";t.style.minHeight=r,t.style.height=r},n={setRowAnimationCssOnBodyViewport:function(t,r){return e.setRowAnimationCssOnBodyViewport(t,r)},setColumnCount:function(t){return rn(e.getGui(),t)},setRowCount:function(t){return en(e.getGui(),t)},setTopHeight:function(t){return r(t,e.eTop)},setBottomHeight:function(t){return r(t,e.eBottom)},setTopDisplay:function(t){return e.eTop.style.display=t},setBottomDisplay:function(t){return e.eBottom.style.display=t},setColumnMovingCss:function(t,r){return e.addOrRemoveCssClass(Fs,r)},updateLayoutClasses:function(r,n){var o=e.eBodyViewport.classList;o.toggle(t.LayoutCssClasses.AUTO_HEIGHT,n.autoHeight),o.toggle(t.LayoutCssClasses.NORMAL,n.normal),o.toggle(t.LayoutCssClasses.PRINT,n.print),e.addOrRemoveCssClass(t.LayoutCssClasses.AUTO_HEIGHT,n.autoHeight),e.addOrRemoveCssClass(t.LayoutCssClasses.NORMAL,n.normal),e.addOrRemoveCssClass(t.LayoutCssClasses.PRINT,n.print)},setAlwaysVerticalScrollClass:function(t,r){return e.eBodyViewport.classList.toggle(Ls,r)},registerBodyViewportResizeListener:function(t){var r=e.resizeObserverService.observeResize(e.eBodyViewport,t);e.addDestroyFunc((function(){return r()}))},setPinnedTopBottomOverflowY:function(t){return e.eTop.style.overflowY=e.eBottom.style.overflowY=t},setCellSelectableCss:function(t,r){[e.eTop,e.eBodyViewport,e.eBottom].forEach((function(e){return e.classList.toggle(Is,r)}))}};this.ctrl=this.createManagedBean(new Gs),this.ctrl.setComp(n,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom),(this.rangeService||this.gridOptionsWrapper.isRowSelectionMulti())&&Jr(this.getGui(),!0)},r.prototype.setRowAnimationCssOnBodyViewport=function(e,r){var n=this.eBodyViewport.classList;n.toggle(t.RowAnimationCssClasses.ANIMATION_ON,r),n.toggle(t.RowAnimationCssClasses.ANIMATION_OFF,!r)},r.prototype.getFloatingTopBottom=function(){return[this.eTop,this.eBottom]},Xl([K("resizeObserverService")],r.prototype,"resizeObserverService",void 0),Xl([q("rangeService")],r.prototype,"rangeService",void 0),Xl([to("eBodyViewport")],r.prototype,"eBodyViewport",void 0),Xl([to("eTop")],r.prototype,"eTop",void 0),Xl([to("eBottom")],r.prototype,"eBottom",void 0),Xl([to("gridHeader")],r.prototype,"headerRootComp",void 0),Xl([U],r.prototype,"init",null),r}(eo),$l=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Zl=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Ql=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $l(t,e),t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,He.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,He.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this))},t.prototype.onDisplayedColumnsChanged=function(){this.update()},t.prototype.onDisplayedColumnsWidthChanged=function(){this.update()},t.prototype.update=function(){this.updateImpl(),setTimeout(this.updateImpl.bind(this),500)},t.prototype.updateImpl=function(){var e=this.ctrlsService.getCenterRowContainerCtrl();if(e){var t={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(t)}},t.prototype.setScrollsVisible=function(e){if(this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing){this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing;var t={type:He.EVENT_SCROLL_VISIBILITY_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(t)}},t.prototype.isHorizontalScrollShowing=function(){return this.horizontalScrollShowing},t.prototype.isVerticalScrollShowing=function(){return this.verticalScrollShowing},Zl([K("columnApi")],t.prototype,"columnApi",void 0),Zl([K("gridApi")],t.prototype,"gridApi",void 0),Zl([K("ctrlsService")],t.prototype,"ctrlsService",void 0),Zl([U],t.prototype,"postConstruct",null),t=Zl([X("scrollVisibleService")],t)}(Le),Jl=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),eu=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},tu=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.gridInstanceId=r.gridInstanceSequence.next(),t}var r;return Jl(t,e),r=t,t.prototype.stampTopLevelGridCompWithGridInstance=function(e){e[r.GRID_DOM_KEY]=this.gridInstanceId},t.prototype.getRenderedCellForEvent=function(e){return Ae(this.gridOptionsWrapper,e,sl.DOM_DATA_KEY_CELL_CTRL)},t.prototype.isEventFromThisGrid=function(e){return this.isElementInThisGrid(e.target)},t.prototype.isElementInThisGrid=function(e){for(var t=e;t;){var n=t[r.GRID_DOM_KEY];if(o(n))return n===this.gridInstanceId;t=t.parentElement}return!1},t.prototype.getCellPositionForEvent=function(e){var t=this.getRenderedCellForEvent(e);return t?t.getCellPosition():null},t.prototype.getNormalisedPosition=function(e){var t,r,n=this.gridOptionsWrapper.getDomLayout()===ne.DOM_LAYOUT_NORMAL,o=e;if(null!=o.clientX||null!=o.clientY?(t=o.clientX,r=o.clientY):(t=o.x,r=o.y),n){var i=this.ctrlsService.getGridBodyCtrl(),a=i.getScrollFeature().getVScrollPosition();t+=i.getScrollFeature().getHScrollPosition().left,r+=a.top}return{x:t,y:r}},t.gridInstanceSequence=new jn,t.GRID_DOM_KEY="__ag_grid_instance",eu([K("ctrlsService")],t.prototype,"ctrlsService",void 0),t=r=eu([X("mouseEventService")],t)}(Le),ru=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),nu=function(){return nu=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},nu.apply(this,arguments)},ou=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},iu=function(e){function t(){var t=e.call(this)||this;return t.onPageDown=B(t.onPageDown,100),t.onPageUp=B(t.onPageUp,100),t}return ru(t,e),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady((function(t){e.gridBodyCon=t.gridBodyCtrl}))},t.prototype.handlePageScrollingKey=function(e){var t=e.key,r=e.altKey,n=e.ctrlKey||e.metaKey,o=!!this.rangeService&&e.shiftKey,i=this.mouseEventService.getCellPositionForEvent(e);if(!i)return!1;var a=!1;switch(t){case po.PAGE_HOME:case po.PAGE_END:n||r||(this.onHomeOrEndKey(t),a=!0);break;case po.LEFT:case po.RIGHT:case po.UP:case po.DOWN:!n||r||o||(this.onCtrlUpDownLeftRight(t,i),a=!0);break;case po.PAGE_DOWN:n||r||(this.onPageDown(i),a=!0);break;case po.PAGE_UP:n||r||(this.onPageUp(i),a=!0)}return a&&e.preventDefault(),a},t.prototype.navigateTo=function(e){var t=e.scrollIndex,r=e.scrollType,n=e.scrollColumn,i=e.focusIndex,a=e.focusColumn;if(o(n)&&!n.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(n),o(t)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(t,r),this.animationFrameService.flushAllFrames(),this.focusService.setFocusedCell(i,a,null,!0),this.rangeService){var s={rowIndex:i,rowPinned:null,column:a};this.rangeService.setRangeToCell(s)}},t.prototype.onPageDown=function(e){var t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),r=this.getViewportHeight(),n=this.paginationProxy.getPixelOffset(),o=t.top+r,i=this.paginationProxy.getRowIndexAtPixel(o+n);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,i):this.navigateToNextPage(e,i)},t.prototype.onPageUp=function(e){var t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),r=this.paginationProxy.getPixelOffset(),n=t.top,o=this.paginationProxy.getRowIndexAtPixel(n+r);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,o,!0):this.navigateToNextPage(e,o,!0)},t.prototype.navigateToNextPage=function(e,t,r){var n,o;void 0===r&&(r=!1);var i,a=this.getViewportHeight(),s=this.paginationProxy.getPageFirstRow(),l=this.paginationProxy.getPageLastRow(),u=this.paginationProxy.getPixelOffset(),c=this.paginationProxy.getRow(e.rowIndex),p=r?(null===(n=c)||void 0===n?void 0:n.rowHeight)-a-u:a-u,d=(null===(o=c)||void 0===o?void 0:o.rowTop)+p,h=this.paginationProxy.getRowIndexAtPixel(d+u);if(h===e.rowIndex){var f=r?-1:1;t=h=e.rowIndex+f}r?(i="bottom",h<s&&(h=s),t<s&&(t=s)):(i="top",h>l&&(h=l),t>l&&(t=l)),this.isRowTallerThanView(h)&&(t=h,i="top"),this.navigateTo({scrollIndex:t,scrollType:i,scrollColumn:null,focusIndex:h,focusColumn:e.column})},t.prototype.navigateToNextPageWithAutoHeight=function(e,t,r){var n=this;void 0===r&&(r=!1),this.navigateTo({scrollIndex:t,scrollType:r?"bottom":"top",scrollColumn:null,focusIndex:t,focusColumn:e.column}),setTimeout((function(){var o=n.getNextFocusIndexForAutoHeight(e,r);n.navigateTo({scrollIndex:t,scrollType:r?"bottom":"top",scrollColumn:null,focusIndex:o,focusColumn:e.column})}),50)},t.prototype.getNextFocusIndexForAutoHeight=function(e,t){var r;void 0===t&&(t=!1);for(var n=t?-1:1,o=this.getViewportHeight(),i=this.paginationProxy.getPageLastRow(),a=0,s=e.rowIndex;s>=0&&s<=i;){var l=this.paginationProxy.getRow(s);if(l){var u=null!==(r=l.rowHeight)&&void 0!==r?r:0;if(a+u>o)break;a+=u}s+=n}return Math.max(0,Math.min(s,i))},t.prototype.getViewportHeight=function(){var e=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),t=this.gridOptionsWrapper.getScrollbarWidth(),r=e.bottom-e.top;return this.ctrlsService.getCenterRowContainerCtrl().isHorizontalScrollShowing()&&(r-=t),r},t.prototype.isRowTallerThanView=function(e){var t=this.paginationProxy.getRow(e);if(!t)return!1;var r=t.rowHeight;return"number"===typeof r&&r>this.getViewportHeight()},t.prototype.onCtrlUpDownLeftRight=function(e,t){var r=this.cellNavigationService.getNextCellToFocus(e,t,!0),n=r.rowIndex,o=r.column;this.navigateTo({scrollIndex:n,scrollType:null,scrollColumn:o,focusIndex:n,focusColumn:o})},t.prototype.onHomeOrEndKey=function(e){var t=e===po.PAGE_HOME,r=this.columnModel.getAllDisplayedColumns(),n=t?r[0]:ue(r),o=t?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow();this.navigateTo({scrollIndex:o,scrollType:null,scrollColumn:n,focusIndex:o,focusColumn:n})},t.prototype.onTabKeyDown=function(e,t){var r=t.shiftKey;if(this.tabToNextCellCommon(e,r,t))t.preventDefault();else if(r){var n=e.getRowPosition(),o=n.rowIndex;(n.rowPinned?0===o:o===this.paginationProxy.getPageFirstRow())&&(t.preventDefault(),this.focusService.focusLastHeader(t))}else e instanceof sl&&e.focusCell(!0),this.focusService.focusNextGridCoreContainer(r)&&t.preventDefault()},t.prototype.tabToNextCell=function(e,t){var r=this.focusService.getFocusedCell();if(!r)return!1;var n=this.getCellByPosition(r);return!!(n||(n=this.rowRenderer.getRowByPosition(r))&&n.isFullWidth())&&this.tabToNextCellCommon(n,e,t)},t.prototype.tabToNextCellCommon=function(e,t,r){var n=e.isEditing();if(!n&&e instanceof sl){var o=e.getRowCtrl();o&&(n=o.isEditing())}return(n?this.gridOptionsWrapper.isFullRowEdit()?this.moveToNextEditingRow(e,t,r):this.moveToNextEditingCell(e,t,r):this.moveToNextCellNotEditing(e,t))||!!this.focusService.getFocusedHeader()},t.prototype.moveToNextEditingCell=function(e,t,r){void 0===r&&(r=null);var n=e.getCellPosition();e.stopEditing();var o=this.findNextCellToFocusOn(n,t,!0);return null!=o&&(o.startEditing(null,null,!0,r),o.focusCell(!1),!0)},t.prototype.moveToNextEditingRow=function(e,t,r){void 0===r&&(r=null);var n=e.getCellPosition(),o=this.findNextCellToFocusOn(n,t,!0);if(null==o)return!1;var i=o.getCellPosition(),a=this.isCellEditable(n),s=this.isCellEditable(i),l=i&&n.rowIndex===i.rowIndex&&n.rowPinned===i.rowPinned;(a&&e.setFocusOutOnEditor(),l)||(e.getRowCtrl().stopEditing(),o.getRowCtrl().startRowEditing(void 0,void 0,void 0,r));return s?(o.setFocusInOnEditor(),o.focusCell()):o.focusCell(!0),!0},t.prototype.moveToNextCellNotEditing=function(e,t){var r,n=this.columnModel.getAllDisplayedColumns();r=e instanceof fl?nu(nu({},e.getRowPosition()),{column:t?n[0]:ue(n)}):e.getCellPosition();var i=this.findNextCellToFocusOn(r,t,!1);if(i instanceof sl)i.focusCell(!0);else if(i)return this.tryToFocusFullWidthRow(i.getRowPosition(),t);return o(i)},t.prototype.findNextCellToFocusOn=function(e,t,r){for(var n=e;;){e!==n&&(e=n),t||(n=this.getLastCellOfColSpan(n)),n=this.cellNavigationService.getNextTabbedCell(n,t);var i=this.gridOptionsWrapper.getTabToNextCellFunc();if(o(i)){var a=i({backwards:t,editing:r,previousCellPosition:e,nextCellPosition:n||null});o(a)?(a.floating&&(T((function(){console.warn("AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")}),"no floating in userCell"),a.rowPinned=a.floating),n={rowIndex:a.rowIndex,column:a.column,rowPinned:a.rowPinned}):n=null}if(!n)return null;if(n.rowIndex<0){var s=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:s+n.rowIndex,column:n.column}}),null}var l=this.gridOptionsWrapper.isFullRowEdit();if(r&&!l)if(!this.isCellEditable(n))continue;this.ensureCellVisible(n);var u=this.getCellByPosition(n);if(u){if(!u.isSuppressNavigable())return this.rangeService&&this.rangeService.setRangeToCell(n),u}else{var c=this.rowRenderer.getRowByPosition(n);if(c&&c.isFullWidth())return c}}},t.prototype.isCellEditable=function(e){var t=this.lookupRowNodeForCell(e);return!!t&&e.column.isCellEditable(t)},t.prototype.getCellByPosition=function(e){var t=this.rowRenderer.getRowByPosition(e);return t?t.getCellCtrl(e.column):null},t.prototype.lookupRowNodeForCell=function(e){return e.rowPinned===ne.PINNED_TOP?this.pinnedRowModel.getPinnedTopRow(e.rowIndex):e.rowPinned===ne.PINNED_BOTTOM?this.pinnedRowModel.getPinnedBottomRow(e.rowIndex):this.paginationProxy.getRow(e.rowIndex)},t.prototype.navigateToNextCell=function(e,t,r,n){for(var a=r,s=!1;a&&(a===r||!this.isValidNavigateCell(a));)this.gridOptionsWrapper.isEnableRtl()?t===po.LEFT&&(a=this.getLastCellOfColSpan(a)):t===po.RIGHT&&(a=this.getLastCellOfColSpan(a)),s=i(a=this.cellNavigationService.getNextCellToFocus(t,a));if(s&&e&&e.key===po.UP&&(a={rowIndex:-1,rowPinned:null,column:r.column}),n){var l=this.gridOptionsWrapper.getNavigateToNextCellFunc();if(o(l)){var u=l({key:t,previousCellPosition:r,nextCellPosition:a||null,event:e});o(u)?(u.floating&&(T((function(){console.warn("AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")}),"no floating in userCell"),u.rowPinned=u.floating),a={rowPinned:u.rowPinned,rowIndex:u.rowIndex,column:u.column}):a=null}}if(a)if(a.rowIndex<0){var c=this.headerNavigationService.getHeaderRowCount();this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:c+a.rowIndex,column:r.column},event:e||void 0})}else{var p=this.getNormalisedPosition(a);p?this.focusPosition(p):this.tryToFocusFullWidthRow(a)}},t.prototype.getNormalisedPosition=function(e){this.ensureCellVisible(e);var t=this.getCellByPosition(e);return t?(e=t.getCellPosition(),this.ensureCellVisible(e),e):null},t.prototype.tryToFocusFullWidthRow=function(e,t){void 0===t&&(t=!1);var r=this.columnModel.getAllDisplayedColumns(),n=this.rowRenderer.getRowByPosition(e);if(!n||!n.isFullWidth())return!1;var o=this.focusService.getFocusedCell(),i={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(t?ue(r):r[0])};this.focusPosition(i);var a=null!=o&&this.rowPositionUtils.before(i,o),s={type:He.EVENT_FULL_WIDTH_ROW_FOCUSED,api:this.gridApi,columnApi:this.columnApi,rowIndex:i.rowIndex,rowPinned:i.rowPinned,column:i.column,isFullWidthCell:!0,floating:i.rowPinned,fromBelow:a};return this.eventService.dispatchEvent(s),!0},t.prototype.focusPosition=function(e){this.focusService.setFocusedCell(e.rowIndex,e.column,e.rowPinned,!0),this.rangeService&&this.rangeService.setRangeToCell(e)},t.prototype.isValidNavigateCell=function(e){return!!this.rowPositionUtils.getRowNode(e)},t.prototype.getLastCellOfColSpan=function(e){var t=this.getCellByPosition(e);if(!t)return e;var r=t.getColSpanningList();return 1===r.length?e:{rowIndex:e.rowIndex,column:ue(r),rowPinned:e.rowPinned}},t.prototype.ensureCellVisible=function(e){i(e.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(e.rowIndex),e.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(e.column),this.gridBodyCon.getScrollFeature().horizontallyScrollHeaderCenterAndFloatingCenter(),this.animationFrameService.flushAllFrames()},ou([K("columnApi")],t.prototype,"columnApi",void 0),ou([K("gridApi")],t.prototype,"gridApi",void 0),ou([K("mouseEventService")],t.prototype,"mouseEventService",void 0),ou([K("paginationProxy")],t.prototype,"paginationProxy",void 0),ou([K("focusService")],t.prototype,"focusService",void 0),ou([K("animationFrameService")],t.prototype,"animationFrameService",void 0),ou([q("rangeService")],t.prototype,"rangeService",void 0),ou([K("columnModel")],t.prototype,"columnModel",void 0),ou([K("ctrlsService")],t.prototype,"ctrlsService",void 0),ou([K("rowRenderer")],t.prototype,"rowRenderer",void 0),ou([K("headerNavigationService")],t.prototype,"headerNavigationService",void 0),ou([K("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),ou([K("cellNavigationService")],t.prototype,"cellNavigationService",void 0),ou([K("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),ou([U],t.prototype,"postConstruct",null),t=ou([X("navigationService")],t)}(Le),au=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),su=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},lu=function(e){function t(t){var r=e.call(this,'<div class="ag-popup-editor" tabindex="-1"/>')||this;return r.params=t,r}return au(t,e),t.prototype.postConstruct=function(){this.gridOptionsWrapper.setDomData(this.getGui(),t.DOM_KEY_POPUP_EDITOR_WRAPPER,!0),this.addKeyDownListener()},t.prototype.addKeyDownListener=function(){var e=this,t=this.getGui(),r=this.params;this.addManagedListener(t,"keydown",(function(t){Dn(e.gridOptionsWrapper,t,r.node,r.column,!0)||r.onKeyDown(t)}))},t.DOM_KEY_POPUP_EDITOR_WRAPPER="popupEditorWrapper",su([U],t.prototype,"postConstruct",null),t}(Ei),uu=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),cu=function(e){function t(t,r,n,o,i){var a=e.call(this)||this;a.rendererVersion=0,a.editorVersion=0,a.beans=t,a.column=r.getColumn(),a.rowNode=r.getRowNode(),a.rowCtrl=r.getRowCtrl(),a.eRow=o,a.setTemplate('<div comp-id="'+a.getCompId()+'"/>');var s=a.getGui();a.forceWrapper=r.isForceWrapper(),a.refreshWrapper(!1);var l=function(e,t,r){var n=r||s;null!=t&&""!=t?n.setAttribute(e,t):n.removeAttribute(e)},u={addOrRemoveCssClass:function(e,t){return a.addOrRemoveCssClass(e,t)},setUserStyles:function(e){return Cr(s,e)},getFocusableElement:function(){return a.getFocusableElement()},setTabIndex:function(e){return l("tabindex",e.toString())},setRole:function(e){return Br(s,e)},setColId:function(e){return l("col-id",e)},setTitle:function(e){return l("title",e)},setIncludeSelection:function(e){return a.includeSelection=e},setIncludeRowDrag:function(e){return a.includeRowDrag=e},setIncludeDndSource:function(e){return a.includeDndSource=e},setRenderDetails:function(e,t,r){return a.setRenderDetails(e,t,r)},setEditDetails:function(e,t,r){return a.setEditDetails(e,t,r)},getCellEditor:function(){return a.cellEditor||null},getCellRenderer:function(){return a.cellRenderer||null},getParentOfValue:function(){return a.getParentOfValue()}};return a.cellCtrl=r,r.setComp(u,a.getGui(),a.eCellWrapper,n,i),a}return uu(t,e),t.prototype.getParentOfValue=function(){return this.eCellValue?this.eCellValue:this.eCellWrapper?this.eCellWrapper:this.getGui()},t.prototype.setRenderDetails=function(e,t,r){if(!(this.cellEditor&&!this.cellEditorPopupWrapper)){this.firstRender=null==this.firstRender;var n=this.refreshWrapper(!1);if(e)!(r||n)&&this.refreshCellRenderer(e)||(this.destroyRenderer(),this.createCellRendererInstance(e));else this.destroyRenderer(),this.insertValueWithoutCellRenderer(t)}},t.prototype.setEditDetails=function(e,t,r){e?this.createCellEditorInstance(e,t,r):this.destroyEditor()},t.prototype.removeControls=function(){this.checkboxSelectionComp=this.beans.context.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=this.beans.context.destroyBean(this.dndSourceComp),this.rowDraggingComp=this.beans.context.destroyBean(this.rowDraggingComp)},t.prototype.refreshWrapper=function(e){var t=this.includeRowDrag||this.includeDndSource||this.includeSelection,r=t||this.forceWrapper,n=r&&null==this.eCellWrapper;n&&(this.eCellWrapper=fr('<div class="ag-cell-wrapper" role="presentation"></div>'),this.getGui().appendChild(this.eCellWrapper));var o=!r&&null!=this.eCellWrapper;o&&(dr(this.eCellWrapper),this.eCellWrapper=void 0),this.addOrRemoveCssClass("ag-cell-value",!r);var i=!e&&r,a=i&&null==this.eCellValue;a&&(this.eCellValue=fr('<span class="ag-cell-value" role="presentation"></span>'),this.eCellWrapper.appendChild(this.eCellValue));var s=!i&&null!=this.eCellValue;s&&(dr(this.eCellValue),this.eCellValue=void 0);var l=n||o||a||s;return l&&this.removeControls(),!e&&t&&this.addControls(),l},t.prototype.addControls=function(){var e=this.eCellValue.id="cell-"+this.getCompId(),t=[];this.includeRowDrag&&null==this.rowDraggingComp&&(this.rowDraggingComp=this.cellCtrl.createRowDragComp(),this.rowDraggingComp&&this.eCellWrapper.insertBefore(this.rowDraggingComp.getGui(),this.eCellValue)),this.includeDndSource&&null==this.dndSourceComp&&(this.dndSourceComp=this.cellCtrl.createDndSource(),this.eCellWrapper.insertBefore(this.dndSourceComp.getGui(),this.eCellValue)),this.includeSelection&&(null==this.checkboxSelectionComp&&(this.checkboxSelectionComp=this.cellCtrl.createSelectionCheckbox(),this.eCellWrapper.insertBefore(this.checkboxSelectionComp.getGui(),this.eCellValue)),t.push(this.checkboxSelectionComp.getCheckboxId())),t.push(e),Yr(this.getGui(),t.join(" "))},t.prototype.createCellEditorInstance=function(e,t,r){var n=this,o=this.editorVersion,a=e.newAgStackInstance();if(a){var s=e.params;a.then((function(e){return n.afterCellEditorCreated(o,e,s,t,r)})),i(this.cellEditor)&&s.cellStartedEdit&&this.cellCtrl.focusCell(!0)}},t.prototype.insertValueWithoutCellRenderer=function(e){var t=this.getParentOfValue();pr(t);var r=null!=e?Ke(e):null;null!=r&&(t.innerHTML=r)},t.prototype.destroyEditorAndRenderer=function(){this.destroyRenderer(),this.destroyEditor()},t.prototype.destroyRenderer=function(){var e=this.beans.context;this.cellRenderer=e.destroyBean(this.cellRenderer),dr(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++},t.prototype.destroyEditor=function(){var e=this.beans.context;this.hideEditorPopup&&this.hideEditorPopup(),this.hideEditorPopup=void 0,this.cellEditor=e.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=e.destroyBean(this.cellEditorPopupWrapper),dr(this.cellEditorGui),this.cellEditorGui=null,this.editorVersion++},t.prototype.refreshCellRenderer=function(e){if(null==this.cellRenderer||null==this.cellRenderer.refresh)return!1;if(this.cellRendererClass!==e.componentClass)return!1;var t=this.cellRenderer.refresh(e.params);return!0===t||void 0===t},t.prototype.createCellRendererInstance=function(e){var t=this,r=this.beans.gridOptionsWrapper.isAngularCompileRows(),n=this.beans.gridOptionsWrapper.isSuppressAnimationFrame(),o=!r&&!n,i=this.rendererVersion,a=e.componentClass,s=function(){if(!(t.rendererVersion!==i||!t.isAlive())){var r=e.newAgStackInstance(),n=t.afterCellRendererCreated.bind(t,i,a);r&&r.then(n)}};o&&this.firstRender?this.beans.animationFrameService.createTask(s,this.rowNode.rowIndex,"createTasksP2"):s()},t.prototype.getCtrl=function(){return this.cellCtrl},t.prototype.getRowCtrl=function(){return this.rowCtrl},t.prototype.getCellRenderer=function(){return this.cellRenderer},t.prototype.getCellEditor=function(){return this.cellEditor},t.prototype.afterCellRendererCreated=function(e,t,r){if(!this.isAlive()||e!==this.rendererVersion)this.beans.context.destroyBean(r);else if(this.cellRenderer=r,this.cellRendererClass=t,this.cellRendererGui=this.cellRenderer.getGui(),null!=this.cellRendererGui){var n=this.getParentOfValue();pr(n),n.appendChild(this.cellRendererGui)}},t.prototype.afterCellEditorCreated=function(e,t,r,n,o){if(e!==this.editorVersion)this.beans.context.destroyBean(t);else{if(t.isCancelBeforeStart&&t.isCancelBeforeStart())return this.beans.context.destroyBean(t),void this.cellCtrl.stopEditing();if(!t.getGui)return console.warn("AG Grid: cellEditor for column "+this.column.getId()+" is missing getGui() method"),void this.beans.context.destroyBean(t);this.cellEditor=t,this.cellEditorGui=t.getGui(),n||void 0!==t.isPopup&&t.isPopup()?(n||this.cellCtrl.hackSayEditingInPopup(),this.addPopupCellEditor(r,o)):this.addInCellEditor(),t.afterGuiAttached&&t.afterGuiAttached()}},t.prototype.addInCellEditor=function(){var e=this.getGui(),t=this.beans.gridOptionsWrapper.getDocument();(e.contains(t.activeElement)&&e.focus(),this.destroyRenderer(),this.refreshWrapper(!0),this.clearParentOfValue(),this.cellEditorGui)&&this.getParentOfValue().appendChild(this.cellEditorGui)},t.prototype.addPopupCellEditor=function(e,t){var r=this;this.beans.gridOptionsWrapper.isFullRowEdit()&&console.warn("AG Grid: popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");var n=this.cellEditor;this.cellEditorPopupWrapper=this.beans.context.createBean(new lu(e));var o=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&o.appendChild(this.cellEditorGui);var i=this.beans.popupService,a=this.beans.gridOptionsWrapper.isStopEditingWhenCellsLoseFocus(),s=null!=t?t:n.getPopupPosition?n.getPopupPosition():"over",l={column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),ePopup:o,keepWithinBounds:!0},u="under"===s?i.positionPopupUnderComponent.bind(i,l):i.positionPopupOverComponent.bind(i,l),c=this.beans.gridOptionsWrapper.getLocaleTextFunc(),p=i.addPopup({modal:a,eChild:o,closeOnEsc:!0,closedCallback:function(){r.cellCtrl.onPopupEditorClosed()},anchorToElement:this.getGui(),positionCallback:u,ariaLabel:c("ariaLabelCellEditor","Cell Editor")});p&&(this.hideEditorPopup=p.hideFunc)},t.prototype.detach=function(){this.eRow.removeChild(this.getGui())},t.prototype.destroy=function(){this.cellCtrl.stopEditing(),this.destroyEditorAndRenderer(),this.removeControls(),e.prototype.destroy.call(this)},t.prototype.clearParentOfValue=function(){var e=this.getGui(),t=this.beans.gridOptionsWrapper.getDocument();e.contains(t.activeElement)&&e.focus({preventScroll:!0}),pr(this.getParentOfValue())},t}(eo),pu=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),du=function(e){function t(t,r,n){var o=e.call(this)||this;o.cellComps={},o.beans=r,o.rowCtrl=t,o.setTemplate('<div comp-id="'+o.getCompId()+'" style="'+o.getInitialStyle()+'"/>');var i=o.getGui(),a=i.style,s={setDomOrder:function(e){return o.domOrder=e},setCellCtrls:function(e){return o.setCellCtrls(e)},showFullWidth:function(e){return o.showFullWidth(e)},getFullWidthCellRenderer:function(){return o.getFullWidthCellRenderer()},addOrRemoveCssClass:function(e,t){return o.addOrRemoveCssClass(e,t)},setUserStyles:function(e){return Cr(i,e)},setTop:function(e){return a.top=e},setTransform:function(e){return a.transform=e},setRowIndex:function(e){return i.setAttribute("row-index",e)},setRole:function(e){return Br(i,e)},setRowId:function(e){return i.setAttribute("row-id",e)},setRowBusinessKey:function(e){return i.setAttribute("row-business-key",e)},setTabIndex:function(e){return i.setAttribute("tabindex",e.toString())}};return t.setComp(s,o.getGui(),n),o}return pu(t,e),t.prototype.getInitialStyle=function(){var e=this.rowCtrl.getInitialTransform(),t=this.rowCtrl.getInitialRowTop();return e?"transform: "+e:"top: "+t},t.prototype.showFullWidth=function(e){var t=this,r=e.newAgStackInstance();r&&r.then((function(e){if(t.isAlive()){var r=e.getGui();t.getGui().appendChild(r),t.rowCtrl.setupDetailRowAutoHeight(r),t.setFullWidthRowComp(e)}else t.beans.context.destroyBean(e)}))},t.prototype.setCellCtrls=function(e){var t=this,r=Object.assign({},this.cellComps);e.forEach((function(e){var n=e.getInstanceId();null==t.cellComps[n]?t.newCellComp(e):r[n]=null}));var n=w(r).filter((function(e){return null!=e}));this.destroyCells(n),this.ensureDomOrder(e)},t.prototype.ensureDomOrder=function(e){var t=this;if(this.domOrder){var r=[];e.forEach((function(e){var n=t.cellComps[e.getInstanceId()];n&&r.push(n.getGui())})),mr(this.getGui(),r)}},t.prototype.newCellComp=function(e){var t=new cu(this.beans,e,this.rowCtrl.isPrintLayout(),this.getGui(),this.rowCtrl.isEditing());this.cellComps[e.getInstanceId()]=t,this.getGui().appendChild(t.getGui())},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.destroyAllCells()},t.prototype.destroyAllCells=function(){var e=w(this.cellComps).filter((function(e){return null!=e}));this.destroyCells(e)},t.prototype.setFullWidthRowComp=function(e){var t=this;this.fullWidthCellRenderer&&console.error("AG Grid - should not be setting fullWidthRowComponent twice"),this.fullWidthCellRenderer=e,this.addDestroyFunc((function(){t.fullWidthCellRenderer=t.beans.context.destroyBean(t.fullWidthCellRenderer)}))},t.prototype.getFullWidthCellRenderer=function(){return this.fullWidthCellRenderer},t.prototype.destroyCells=function(e){var t=this;e.forEach((function(e){if(e){var r=e.getCtrl().getInstanceId();t.cellComps[r]===e&&(e.detach(),e.destroy(),t.cellComps[r]=null)}}))},t}(eo),hu=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),fu=function(){return fu=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},fu.apply(this,arguments)},gu=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a};var yu,vu=function(e){function r(){var r=e.call(this,function(){var e=eo.elementGettingCreated.getAttribute("name"),r=Ul.getRowContainerCssClasses(e),n=e===t.RowContainerName.CENTER,o=e===t.RowContainerName.TOP_CENTER||e===t.RowContainerName.BOTTOM_CENTER;return n?'<div class="'+r.wrapper+'" ref="eWrapper" role="presentation">\n                <div class="'+r.viewport+'" ref="eViewport" role="presentation">\n                    <div class="'+r.container+'" ref="eContainer"></div>\n                </div>\n            </div>':o?'<div class="'+r.viewport+'" ref="eViewport" role="presentation">\n                <div class="'+r.container+'" ref="eContainer"></div>\n            </div>':'<div class="'+r.container+'" ref="eContainer"></div>'}())||this;return r.rowComps={},r.name=eo.elementGettingCreated.getAttribute("name"),r.type=Hl(r.name),r}return hu(r,e),r.prototype.postConstruct=function(){var e=this,t={setViewportHeight:function(t){return e.eViewport.style.height=t},setRowCtrls:function(t){return e.setRowCtrls(t)},setDomOrder:function(t){e.domOrder=t},setContainerWidth:function(t){return e.eContainer.style.width=t}};this.createManagedBean(new Ul(this.name)).setComp(t,this.eContainer,this.eViewport,this.eWrapper)},r.prototype.preDestroy=function(){this.setRowCtrls([])},r.prototype.setRowCtrls=function(e){var t=this,r=fu({},this.rowComps);this.rowComps={},this.lastPlacedElement=null;e.forEach((function(e){var n=e.getInstanceId(),o=r[n];if(o)t.rowComps[n]=o,delete r[n],t.ensureDomOrder(o.getGui());else{var i=t.newRowComp(e);t.rowComps[n]=i,t.appendRow(i.getGui())}})),w(r).forEach((function(e){t.eContainer.removeChild(e.getGui()),e.destroy()})),Br(this.eContainer,e.length?"rowgroup":"presentation")},r.prototype.appendRow=function(e){this.domOrder?br(this.eContainer,e,this.lastPlacedElement):this.eContainer.appendChild(e),this.lastPlacedElement=e},r.prototype.ensureDomOrder=function(e){this.domOrder&&(vr(this.eContainer,e,this.lastPlacedElement),this.lastPlacedElement=e)},r.prototype.newRowComp=function(e){Ul.getPinned(this.name);return new du(e,this.beans,this.type)},gu([K("beans")],r.prototype,"beans",void 0),gu([to("eViewport")],r.prototype,"eViewport",void 0),gu([to("eContainer")],r.prototype,"eContainer",void 0),gu([to("eWrapper")],r.prototype,"eWrapper",void 0),gu([U],r.prototype,"postConstruct",null),gu([Y],r.prototype,"preDestroy",null),r}(eo),mu=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},bu=function(){function e(e){this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=e}return e.prototype.onDragEnter=function(e){var t=this;if(this.clearColumnsList(),!this.gridOptionsWrapper.isFunctionsReadOnly()){var r=e.dragItem.columns;r&&r.forEach((function(e){e.isPrimary()&&(e.isAnyFunctionActive()||(e.isAllowValue()?t.columnsToAggregate.push(e):e.isAllowRowGroup()?t.columnsToGroup.push(e):e.isAllowPivot()&&t.columnsToPivot.push(e)))}))}},e.prototype.getIconName=function(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?ta.ICON_PINNED:ta.ICON_MOVE:null},e.prototype.onDragLeave=function(e){this.clearColumnsList()},e.prototype.clearColumnsList=function(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0},e.prototype.onDragging=function(e){},e.prototype.onDragStop=function(e){this.columnsToAggregate.length>0&&this.columnModel.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.columnModel.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.columnModel.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")},mu([K("columnModel")],e.prototype,"columnModel",void 0),mu([K("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),e}(),Cu=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},wu=function(){function e(e,t){this.needToMoveLeft=!1,this.needToMoveRight=!1,this.pinned=e,this.eContainer=t,this.centerContainer=!o(e)}return e.prototype.init=function(){var e=this;this.ctrlsService.whenReady((function(){e.gridBodyCon=e.ctrlsService.getGridBodyCtrl()}))},e.prototype.getIconName=function(){return this.pinned?ta.ICON_PINNED:ta.ICON_MOVE},e.prototype.onDragEnter=function(e){var r=e.dragItem.columns;if(e.dragSource.type===t.DragSourceType.ToolPanel)this.setColumnsVisible(r,!0,"uiColumnDragged");else{var n=e.dragItem.visibleState,o=(r||[]).filter((function(e){return n[e.getId()]}));this.setColumnsVisible(o,!0,"uiColumnDragged")}this.setColumnsPinned(r,this.pinned,"uiColumnDragged"),this.onDragging(e,!0)},e.prototype.onDragLeave=function(e){if(!this.gridOptionsWrapper.isSuppressDragLeaveHidesColumns()&&!e.fromNudge){var t=e.dragSource.getDragItem().columns;this.setColumnsVisible(t,!1,"uiColumnDragged")}this.ensureIntervalCleared()},e.prototype.setColumnsVisible=function(e,t,r){if(void 0===r&&(r="api"),e){var n=e.filter((function(e){return!e.getColDef().lockVisible}));this.columnModel.setColumnsVisible(n,t,r)}},e.prototype.setColumnsPinned=function(e,t,r){if(void 0===r&&(r="api"),e){var n=e.filter((function(e){return!e.getColDef().lockPinned}));this.columnModel.setColumnsPinned(n,t,r)}},e.prototype.onDragStop=function(){this.ensureIntervalCleared()},e.prototype.normaliseX=function(e){this.gridOptionsWrapper.isEnableRtl()&&(e=this.eContainer.clientWidth-e);return this.centerContainer&&(e+=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft()),e},e.prototype.checkCenterForScrolling=function(e){if(this.centerContainer){var t=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft(),r=t+this.ctrlsService.getCenterRowContainerCtrl().getCenterWidth();this.gridOptionsWrapper.isEnableRtl()?(this.needToMoveRight=e<t+50,this.needToMoveLeft=e>r-50):(this.needToMoveLeft=e<t+50,this.needToMoveRight=e>r-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}},e.prototype.onDragging=function(e,t){var r=this;if(void 0===t&&(t=!1),this.lastDraggingEvent=e,!i(e.hDirection)){var n=this.normaliseX(e.x);t||this.checkCenterForScrolling(n);var o=this.normaliseDirection(e.hDirection),a=e.dragSource.type,s=e.dragSource.getDragItem().columns;s=s.filter((function(e){return!e.getColDef().lockPinned||e.getPinned()==r.pinned})),this.attemptMoveColumns(a,s,o,n,t)}},e.prototype.normaliseDirection=function(e){if(!this.gridOptionsWrapper.isEnableRtl())return e;switch(e){case t.HorizontalDirection.Left:return t.HorizontalDirection.Right;case t.HorizontalDirection.Right:return t.HorizontalDirection.Left;default:console.error("AG Grid: Unknown direction "+e)}},e.prototype.calculateOldIndex=function(e){var t=this.columnModel.getAllGridColumns(),r=pe(e.map((function(e){return t.indexOf(e)}))),n=r[0];return ue(r)-n!==r.length-1?null:n},e.prototype.attemptMoveColumns=function(e,r,n,o,i){var a=n===t.HorizontalDirection.Left,s=n===t.HorizontalDirection.Right,l=r.slice();this.columnModel.sortColumnsLikeGridColumns(l);var u=this.calculateValidMoves(l,s,o),c=this.calculateOldIndex(l);if(0!==u.length){var p=u[0],d=null!==c&&!i;if(e==t.DragSourceType.HeaderCell&&(d=null!==c),d){if(a&&p>=c)return;if(s&&p<=c)return}for(var h=0;h<u.length;h++){var f=u[h];if(this.columnModel.doesMovePassRules(l,f))return void this.columnModel.moveColumns(l,f,"uiColumnDragged")}}},e.prototype.calculateValidMoves=function(e,t,r){var n=this.gridOptionsWrapper.isSuppressMovableColumns()||e.some((function(e){return e.getColDef().suppressMovable}));if(n)return[];var o,i=this.columnModel.getDisplayedColumns(this.pinned),a=this.columnModel.getAllGridColumns(),s=i.filter((function(t){return ye(e,t)})),l=i.filter((function(t){return!ye(e,t)})),u=a.filter((function(t){return!ye(e,t)})),c=0,p=r;if(t){var d=0;s.forEach((function(e){return d+=e.getActualWidth()})),p-=d}if(p>0){for(var h=0;h<l.length;h++){if((p-=l[h].getActualWidth())<0)break;c++}t&&c++}if(c>0){var f=l[c-1];o=u.indexOf(f)+1}else-1===(o=u.indexOf(l[0]))&&(o=0);var g=[o],y=function(e,t){return e-t};if(t){for(var v=o+1,m=a.length-1;v<=m;)g.push(v),v++;g.sort(y)}else{v=o,m=a.length-1;for(var b=a[v];v<=m&&this.isColumnHidden(i,b);)v++,g.push(v),b=a[v];v=o-1;for(;v>=0;)g.push(v),v--;g.sort(y).reverse()}return g},e.prototype.isColumnHidden=function(e,t){return e.indexOf(t)<0},e.prototype.ensureIntervalStarted=function(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.needToMoveLeft?this.dragAndDropService.setGhostIcon(ta.ICON_LEFT,!0):this.dragAndDropService.setGhostIcon(ta.ICON_RIGHT,!0))},e.prototype.ensureIntervalCleared=function(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon(ta.ICON_MOVE))},e.prototype.moveInterval=function(){var e;this.intervalCount++,(e=10+5*this.intervalCount)>100&&(e=100);var t=null,r=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?t=r.scrollHorizontally(-e):this.needToMoveRight&&(t=r.scrollHorizontally(e)),0!==t)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;var n=this.lastDraggingEvent.dragItem.columns.filter((function(e){return!e.getColDef().lockPinned}));if(n.length>0&&(this.dragAndDropService.setGhostIcon(ta.ICON_PINNED),this.failedMoveAttempts>7)){var o=this.needToMoveLeft?ne.PINNED_LEFT:ne.PINNED_RIGHT;this.setColumnsPinned(n,o,"uiColumnDragged"),this.dragAndDropService.nudge()}}},Cu([K("columnModel")],e.prototype,"columnModel",void 0),Cu([K("dragAndDropService")],e.prototype,"dragAndDropService",void 0),Cu([K("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Cu([K("ctrlsService")],e.prototype,"ctrlsService",void 0),Cu([U],e.prototype,"init",null),e}(),xu=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Su=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Eu=function(e){function r(t,r){var n=e.call(this)||this;return n.pinned=t,n.eContainer=r,n}return xu(r,e),r.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady((function(t){switch(e.pinned){case ne.PINNED_LEFT:e.eSecondaryContainers=[[t.gridBodyCtrl.getBodyViewportElement(),t.leftRowContainerCtrl.getContainerElement()],[t.bottomLeftRowContainerCtrl.getContainerElement()],[t.topLeftRowContainerCtrl.getContainerElement()]];break;case ne.PINNED_RIGHT:e.eSecondaryContainers=[[t.gridBodyCtrl.getBodyViewportElement(),t.rightRowContainerCtrl.getContainerElement()],[t.bottomRightRowContainerCtrl.getContainerElement()],[t.topRightRowContainerCtrl.getContainerElement()]];break;default:e.eSecondaryContainers=[[t.gridBodyCtrl.getBodyViewportElement(),t.centerRowContainerCtrl.getViewportElement()],[t.bottomCenterRowContainerCtrl.getViewportElement()],[t.topCenterRowContainerCtrl.getViewportElement()]]}}))},r.prototype.isInterestedIn=function(e){return e===t.DragSourceType.HeaderCell||e===t.DragSourceType.ToolPanel&&this.gridOptionsWrapper.isAllowDragFromColumnsToolPanel()},r.prototype.getSecondaryContainers=function(){return this.eSecondaryContainers},r.prototype.getContainer=function(){return this.eContainer},r.prototype.init=function(){this.moveColumnFeature=this.createManagedBean(new wu(this.pinned,this.eContainer)),this.bodyDropPivotTarget=this.createManagedBean(new bu(this.pinned)),this.dragAndDropService.addDropTarget(this)},r.prototype.getIconName=function(){return this.currentDropListener.getIconName()},r.prototype.isDropColumnInPivotMode=function(e){return this.columnModel.isPivotMode()&&e.dragSource.type===t.DragSourceType.ToolPanel},r.prototype.onDragEnter=function(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)},r.prototype.onDragLeave=function(e){this.currentDropListener.onDragLeave(e)},r.prototype.onDragging=function(e){this.currentDropListener.onDragging(e)},r.prototype.onDragStop=function(e){this.currentDropListener.onDragStop(e)},Su([K("dragAndDropService")],r.prototype,"dragAndDropService",void 0),Su([K("columnModel")],r.prototype,"columnModel",void 0),Su([K("ctrlsService")],r.prototype,"ctrlsService",void 0),Su([U],r.prototype,"postConstruct",null),Su([U],r.prototype,"init",null),r}(Le),Ou=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},_u=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Ou(arguments[t]));return e},Pu=function(){function e(){}return e.getHeaderClassesFromColDef=function(e,t,r,n){return i(e)?[]:this.getColumnClassesFromCollDef(e.headerClass,e,t,r,n)},e.getToolPanelClassesFromColDef=function(e,t,r,n){return i(e)?[]:this.getColumnClassesFromCollDef(e.toolPanelClass,e,t,r,n)},e.getClassParams=function(e,t,r,n){return{colDef:e,column:r,columnGroup:n,api:t.getApi(),columnApi:t.getColumnApi(),context:t.getContext()}},e.getColumnClassesFromCollDef=function(e,t,r,n,o){if(i(e))return[];var a;"function"===typeof e?a=e(this.getClassParams(t,r,n,o)):a=e;return"string"===typeof a?[a]:Array.isArray(a)?_u(a):[]},e}(),Ru=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Au=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Tu=function(e){function t(r){var n=e.call(this,t.TEMPLATE,r)||this;return n.headerCompVersion=0,n.column=r.getColumnGroupChild(),n.pinned=r.getPinned(),n}return Ru(t,e),t.prototype.postConstruct=function(){var e=this,t=this.getGui(),r=function(e,r,n){var o=n||t;null!=r&&""!=r?o.setAttribute(e,r):o.removeAttribute(e)},n={setWidth:function(e){return t.style.width=e},addOrRemoveCssClass:function(t,r){return e.addOrRemoveCssClass(t,r)},setColId:function(e){return r("col-id",e)},setTitle:function(e){return r("title",e)},setAriaDescription:function(e){return Ur(t,e)},setAriaSort:function(e){return e?an(t,e):sn(t)},setUserCompDetails:function(t){return e.setUserCompDetails(t)},getUserCompInstance:function(){return e.headerComp}};this.ctrl.setComp(n,this.getGui(),this.eResize);var o=this.ctrl.getSelectAllGui();this.eResize.insertAdjacentElement("afterend",o)},t.prototype.destroyHeaderComp=function(){this.headerComp&&(this.getGui().removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)},t.prototype.setUserCompDetails=function(e){var t=this;this.headerCompVersion++;var r=this.headerCompVersion;e.newAgStackInstance().then((function(e){return t.afterCompCreated(r,e)}))},t.prototype.afterCompCreated=function(e,t){e==this.headerCompVersion&&this.isAlive()?(this.destroyHeaderComp(),this.headerComp=t,this.headerCompGui=t.getGui(),this.getGui().appendChild(this.headerCompGui),this.ctrl.setDragSource(this.headerCompGui)):this.destroyBean(t)},t.TEMPLATE='<div class="ag-header-cell" role="columnheader" tabindex="-1">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n        </div>',Au([to("eResize")],t.prototype,"eResize",void 0),Au([U],t.prototype,"postConstruct",null),Au([Y],t.prototype,"destroyHeaderComp",null),t}(rs),Du=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Mu=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},ku=function(e){function t(r){return e.call(this,t.TEMPLATE,r)||this}return Du(t,e),t.prototype.postConstruct=function(){var e=this,t=this.getGui(),r=function(e,r){return void 0!=r?t.setAttribute(e,r):t.removeAttribute(e)},n={addOrRemoveCssClass:function(t,r){return e.addOrRemoveCssClass(t,r)},addOrRemoveResizableCssClass:function(t,r){return e.eResize.classList.toggle(t,r)},setWidth:function(e){return t.style.width=e},setColId:function(e){return t.setAttribute("col-id",e)},setAriaExpanded:function(e){return r("aria-expanded",e)},setTitle:function(e){return r("title",e)},setUserCompDetails:function(t){return e.setUserCompDetails(t)}};this.ctrl.setComp(n,t,this.eResize)},t.prototype.setUserCompDetails=function(e){var t=this;e.newAgStackInstance().then((function(e){return t.afterHeaderCompCreated(e)}))},t.prototype.afterHeaderCompCreated=function(e){var t=this,r=function(){return t.destroyBean(e)};this.isAlive()?(this.getGui().appendChild(e.getGui()),this.addDestroyFunc(r),this.ctrl.setDragSource(e.getGui())):r()},t.TEMPLATE='<div class="ag-header-group-cell" role="columnheader" tabindex="-1">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n        </div>',Mu([K("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Mu([to("eResize")],t.prototype,"eResize",void 0),Mu([U],t.prototype,"postConstruct",null),t}(rs),Nu=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Iu=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a};(yu=t.HeaderRowType||(t.HeaderRowType={})).COLUMN_GROUP="group",yu.COLUMN="column",yu.FLOATING_FILTER="filter";var Lu,Fu=function(e){function r(r){var n=e.call(this)||this;n.headerComps={};var o=r.getType()==t.HeaderRowType.COLUMN_GROUP?"ag-header-row-column-group":r.getType()==t.HeaderRowType.FLOATING_FILTER?"ag-header-row-column-filter":"ag-header-row-column";return n.setTemplate('<div class="ag-header-row '+o+'" role="row"></div>'),n.ctrl=r,n}return Nu(r,e),r.prototype.init=function(){var e=this,t={setTransform:function(t){return e.getGui().style.transform=t},setHeight:function(t){return e.getGui().style.height=t},setTop:function(t){return e.getGui().style.top=t},setHeaderCtrls:function(t){return e.setHeaderCtrls(t)},setWidth:function(t){return e.getGui().style.width=t},setAriaRowIndex:function(t){return tn(e.getGui(),t)}};this.ctrl.setComp(t)},r.prototype.destroyHeaderCtrls=function(){this.setHeaderCtrls([])},r.prototype.setHeaderCtrls=function(e){var t=this;if(this.isAlive()){var r=this.headerComps;if(this.headerComps={},e.forEach((function(e){var n=e.getInstanceId(),o=r[n];delete r[n],null==o&&(o=t.createHeaderComp(e),t.getGui().appendChild(o.getGui())),t.headerComps[n]=o})),f(r,(function(e,r){t.getGui().removeChild(r.getGui()),t.destroyBean(r)})),this.gridOptionsWrapper.isEnsureDomOrder()){var n=w(this.headerComps);n.sort((function(e,t){return e.getCtrl().getColumnGroupChild().getLeft()-t.getCtrl().getColumnGroupChild().getLeft()}));var o=n.map((function(e){return e.getGui()}));mr(this.getGui(),o)}}},r.prototype.createHeaderComp=function(e){var r;switch(this.ctrl.getType()){case t.HeaderRowType.COLUMN_GROUP:r=new ku(e);break;case t.HeaderRowType.FLOATING_FILTER:r=new is(e);break;default:r=new Tu(e)}return this.createBean(r),r.setParentComponent(this),r},Iu([U],r.prototype,"init",null),Iu([Y],r.prototype,"destroyHeaderCtrls",null),r}(eo),Gu=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Bu=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Wu=0,Hu=function(e){function t(t,r){var n=e.call(this)||this;return n.lastFocusEvent=null,n.columnGroupChild=t,n.parentRowCtrl=r,n.instanceId=t.getUniqueId()+"-"+Wu++,n}return Gu(t,e),t.prototype.shouldStopEventPropagation=function(e){var t=this.focusService.getFocusedHeader(),r=t.headerRowIndex,n=t.column;return Mn(this.gridOptionsWrapper,e,r,n)},t.prototype.setGui=function(e){this.eGui=e,this.addDomData()},t.prototype.addDomData=function(){var e=this,r=t.DOM_DATA_KEY_HEADER_CTRL;this.gridOptionsWrapper.setDomData(this.eGui,r,this),this.addDestroyFunc((function(){return e.gridOptionsWrapper.setDomData(e.eGui,r,null)}))},t.prototype.getGui=function(){return this.eGui},t.prototype.focus=function(e){return!!this.eGui&&(this.lastFocusEvent=e||null,this.eGui.focus(),!0)},t.prototype.getRowIndex=function(){return this.parentRowCtrl.getRowIndex()},t.prototype.getParentRowCtrl=function(){return this.parentRowCtrl},t.prototype.getPinned=function(){return this.parentRowCtrl.getPinned()},t.prototype.getInstanceId=function(){return this.instanceId},t.prototype.getColumnGroupChild=function(){return this.columnGroupChild},t.DOM_DATA_KEY_HEADER_CTRL="headerCtrl",Bu([K("focusService")],t.prototype,"focusService",void 0),t}(Le);(Lu=t.ClientSideRowModelSteps||(t.ClientSideRowModelSteps={})).EVERYTHING="group",Lu.FILTER="filter",Lu.SORT="sort",Lu.MAP="map",Lu.AGGREGATE="aggregate",Lu.FILTER_AGGREGATES="filter_aggregates",Lu.PIVOT="pivot",Lu.NOTHING="nothing";var ju=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a};function Vu(e){var t=e;return null!=t&&null!=t.getFrameworkComponentInstance?t.getFrameworkComponentInstance():e}var zu,Uu=function(){function e(){this.detailGridInfoMap={},this.destroyCalled=!1}return e.prototype.registerOverlayWrapperComp=function(e){this.overlayWrapperComp=e},e.prototype.registerSideBarComp=function(e){this.sideBarComp=e},e.prototype.init=function(){var e=this;switch(this.rowModel.getType()){case ne.ROW_MODEL_TYPE_CLIENT_SIDE:this.clientSideRowModel=this.rowModel;break;case ne.ROW_MODEL_TYPE_INFINITE:this.infiniteRowModel=this.rowModel;break;case ne.ROW_MODEL_TYPE_SERVER_SIDE:this.serverSideRowModel=this.rowModel}this.ctrlsService.whenReady((function(){e.gridBodyCtrl=e.ctrlsService.getGridBodyCtrl()}))},e.prototype.__getAlignedGridService=function(){return this.alignedGridsService},e.prototype.__getContext=function(){return this.context},e.prototype.addDetailGridInfo=function(e,t){this.detailGridInfoMap[e]=t},e.prototype.removeDetailGridInfo=function(e){this.detailGridInfoMap[e]=void 0},e.prototype.getDetailGridInfo=function(e){return this.detailGridInfoMap[e]},e.prototype.forEachDetailGridInfo=function(e){var t=0;f(this.detailGridInfoMap,(function(r,n){o(n)&&(e(n,t),t++)}))},e.prototype.getDataAsCsv=function(e){if(oe.assertRegistered(t.ModuleNames.CsvExportModule,"api.getDataAsCsv"))return this.csvCreator.getDataAsCsv(e)},e.prototype.exportDataAsCsv=function(e){oe.assertRegistered(t.ModuleNames.CsvExportModule,"api.exportDataAsCSv")&&this.csvCreator.exportDataAsCsv(e)},e.prototype.getExcelExportMode=function(e){var t=this.gridOptionsWrapper.getDefaultExportParams("excel");return Object.assign({exportMode:"xlsx"},t,e).exportMode},e.prototype.getDataAsExcel=function(e){if(oe.assertRegistered(t.ModuleNames.ExcelExportModule,"api.getDataAsExcel")){var r=this.getExcelExportMode(e);if(this.excelCreator.getFactoryMode(r)!==t.ExcelFactoryMode.MULTI_SHEET)return this.excelCreator.getDataAsExcel(e);console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling `api.getMultipleSheetAsExcel()` or `api.exportMultipleSheetsAsExcel()`")}},e.prototype.exportDataAsExcel=function(e){if(oe.assertRegistered(t.ModuleNames.ExcelExportModule,"api.exportDataAsExcel")){var r=this.getExcelExportMode(e);this.excelCreator.getFactoryMode(r)!==t.ExcelFactoryMode.MULTI_SHEET?this.excelCreator.exportDataAsExcel(e):console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling `api.getMultipleSheetAsExcel()` or `api.exportMultipleSheetsAsExcel()`")}},e.prototype.getSheetDataForExcel=function(e){if(oe.assertRegistered(t.ModuleNames.ExcelExportModule,"api.getSheetDataForExcel")){var r=this.getExcelExportMode(e);return this.excelCreator.setFactoryMode(t.ExcelFactoryMode.MULTI_SHEET,r),this.excelCreator.getSheetDataForExcel(e)}},e.prototype.getMultipleSheetsAsExcel=function(e){if(oe.assertRegistered(t.ModuleNames.ExcelExportModule,"api.getMultipleSheetsAsExcel"))return this.excelCreator.getMultipleSheetsAsExcel(e)},e.prototype.exportMultipleSheetsAsExcel=function(e){if(oe.assertRegistered(t.ModuleNames.ExcelExportModule,"api.exportMultipleSheetsAsExcel"))return this.excelCreator.exportMultipleSheetsAsExcel(e)},e.prototype.setEnterpriseDatasource=function(e){console.warn("AG Grid: since version 18.x, api.setEnterpriseDatasource() should be replaced with api.setServerSideDatasource()"),this.setServerSideDatasource(e)},e.prototype.setGridAriaProperty=function(e,t){if(e){var r=this.ctrlsService.getGridBodyCtrl().getGui(),n="aria-"+e;null===t?r.removeAttribute(n):r.setAttribute(n,t)}},e.prototype.setServerSideDatasource=function(e){this.serverSideRowModel?this.serverSideRowModel.setDatasource(e):console.warn("AG Grid: you can only use an enterprise datasource when gridOptions.rowModelType is '"+ne.ROW_MODEL_TYPE_SERVER_SIDE+"'")},e.prototype.setDatasource=function(e){this.gridOptionsWrapper.isRowModelInfinite()?this.rowModel.setDatasource(e):console.warn("AG Grid: you can only use a datasource when gridOptions.rowModelType is '"+ne.ROW_MODEL_TYPE_INFINITE+"'")},e.prototype.setViewportDatasource=function(e){this.gridOptionsWrapper.isRowModelViewport()?this.rowModel.setViewportDatasource(e):console.warn("AG Grid: you can only use a viewport datasource when gridOptions.rowModelType is '"+ne.ROW_MODEL_TYPE_VIEWPORT+"'")},e.prototype.setRowData=function(e){null==this.immutableService?console.warn("AG Grid: you can only set rowData when using the Client Side Row Model"):this.immutableService.isActive()?this.immutableService.setRowData(e):(this.selectionService.reset(),this.clientSideRowModel.setRowData(e))},e.prototype.setFloatingTopRowData=function(e){console.warn("AG Grid: since v12, api.setFloatingTopRowData() is now api.setPinnedTopRowData()"),this.setPinnedTopRowData(e)},e.prototype.setFloatingBottomRowData=function(e){console.warn("AG Grid: since v12, api.setFloatingBottomRowData() is now api.setPinnedBottomRowData()"),this.setPinnedBottomRowData(e)},e.prototype.getFloatingTopRowCount=function(){return console.warn("AG Grid: since v12, api.getFloatingTopRowCount() is now api.getPinnedTopRowCount()"),this.getPinnedTopRowCount()},e.prototype.getFloatingBottomRowCount=function(){return console.warn("AG Grid: since v12, api.getFloatingBottomRowCount() is now api.getPinnedBottomRowCount()"),this.getPinnedBottomRowCount()},e.prototype.getFloatingTopRow=function(e){return console.warn("AG Grid: since v12, api.getFloatingTopRow() is now api.getPinnedTopRow()"),this.getPinnedTopRow(e)},e.prototype.getFloatingBottomRow=function(e){return console.warn("AG Grid: since v12, api.getFloatingBottomRow() is now api.getPinnedBottomRow()"),this.getPinnedBottomRow(e)},e.prototype.setPinnedTopRowData=function(e){this.pinnedRowModel.setPinnedTopRowData(e)},e.prototype.setPinnedBottomRowData=function(e){this.pinnedRowModel.setPinnedBottomRowData(e)},e.prototype.getPinnedTopRowCount=function(){return this.pinnedRowModel.getPinnedTopRowCount()},e.prototype.getPinnedBottomRowCount=function(){return this.pinnedRowModel.getPinnedBottomRowCount()},e.prototype.getPinnedTopRow=function(e){return this.pinnedRowModel.getPinnedTopRow(e)},e.prototype.getPinnedBottomRow=function(e){return this.pinnedRowModel.getPinnedBottomRow(e)},e.prototype.setColumnDefs=function(e,t){void 0===t&&(t="api"),this.columnModel.setColumnDefs(e,t)},e.prototype.setAutoGroupColumnDef=function(e,t){this.gridOptionsWrapper.setProperty("autoGroupColumnDef",e,!0)},e.prototype.setDefaultColDef=function(e,t){this.gridOptionsWrapper.setProperty("defaultColDef",e,!0)},e.prototype.expireValueCache=function(){this.valueCache.expire()},e.prototype.getVerticalPixelRange=function(){return this.gridBodyCtrl.getScrollFeature().getVScrollPosition()},e.prototype.getHorizontalPixelRange=function(){return this.gridBodyCtrl.getScrollFeature().getHScrollPosition()},e.prototype.setAlwaysShowHorizontalScroll=function(e){this.gridOptionsWrapper.setProperty("alwaysShowHorizontalScroll",e)},e.prototype.setAlwaysShowVerticalScroll=function(e){this.gridOptionsWrapper.setProperty("alwaysShowVerticalScroll",e)},e.prototype.refreshToolPanel=function(){this.sideBarComp&&this.sideBarComp.refresh()},e.prototype.refreshCells=function(e){void 0===e&&(e={}),Array.isArray(e)?console.warn("since AG Grid v11.1, refreshCells() now takes parameters, please see the documentation."):this.rowRenderer.refreshCells(e)},e.prototype.flashCells=function(e){void 0===e&&(e={}),this.rowRenderer.flashCells(e)},e.prototype.redrawRows=function(e){void 0===e&&(e={});var t=e?e.rowNodes:void 0;this.rowRenderer.redrawRows(t)},e.prototype.setFunctionsReadOnly=function(e){this.gridOptionsWrapper.setProperty("functionsReadOnly",e)},e.prototype.refreshHeader=function(){this.ctrlsService.getHeaderRowContainerCtrls().forEach((function(e){return e.refresh()}))},e.prototype.isAnyFilterPresent=function(){return this.filterManager.isAnyFilterPresent()},e.prototype.isColumnFilterPresent=function(){return this.filterManager.isColumnFilterPresent()||this.filterManager.isAggregateFilterPresent()},e.prototype.isQuickFilterPresent=function(){return this.filterManager.isQuickFilterPresent()},e.prototype.getModel=function(){return this.rowModel},e.prototype.setRowNodeExpanded=function(e,t){e&&e.setExpanded(t)},e.prototype.onGroupExpandedOrCollapsed=function(e){i(this.clientSideRowModel)&&console.warn("AG Grid: cannot call onGroupExpandedOrCollapsed unless using normal row model"),o(e)&&console.warn("AG Grid: api.onGroupExpandedOrCollapsed - refreshFromIndex parameter is no longer used, the grid will refresh all rows"),this.clientSideRowModel.refreshModel({step:t.ClientSideRowModelSteps.MAP})},e.prototype.refreshInMemoryRowModel=function(e){console.warn("ag-grid: since version 18.x, api.refreshInMemoryRowModel() should be replaced with api.refreshClientSideRowModel()"),this.refreshClientSideRowModel(e)},e.prototype.refreshClientSideRowModel=function(e){i(this.clientSideRowModel)&&console.warn("cannot call refreshClientSideRowModel unless using normal row model");var r=t.ClientSideRowModelSteps.EVERYTHING,n={group:t.ClientSideRowModelSteps.EVERYTHING,filter:t.ClientSideRowModelSteps.FILTER,map:t.ClientSideRowModelSteps.MAP,aggregate:t.ClientSideRowModelSteps.AGGREGATE,sort:t.ClientSideRowModelSteps.SORT,pivot:t.ClientSideRowModelSteps.PIVOT};if(o(e)&&(r=n[e]),i(r))console.error("AG Grid: invalid step "+e+", available steps are "+Object.keys(n).join(", "));else{var a={step:r,keepRenderedRows:!0,keepEditingRows:!0,animate:!this.gridOptionsWrapper.isSuppressAnimationFrame()};this.clientSideRowModel.refreshModel(a)}},e.prototype.isAnimationFrameQueueEmpty=function(){return this.animationFrameService.isQueueEmpty()},e.prototype.flushAllAnimationFrames=function(){this.animationFrameService.flushAllFrames()},e.prototype.getRowNode=function(e){return this.rowModel.getRowNode(e)},e.prototype.getSizesForCurrentTheme=function(){return{rowHeight:this.gridOptionsWrapper.getRowHeightAsNumber(),headerHeight:this.gridOptionsWrapper.getHeaderHeight()}},e.prototype.expandAll=function(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!0):this.serverSideRowModel?this.serverSideRowModel.expandAll(!0):console.warn("AG Grid: expandAll only works with Client Side Row Model and Server Side Row Model")},e.prototype.collapseAll=function(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!1):this.serverSideRowModel?this.serverSideRowModel.expandAll(!1):console.warn("AG Grid: collapseAll only works with Client Side Row Model and Server Side Row Model")},e.prototype.getToolPanelInstance=function(e){if(this.sideBarComp)return Vu(this.sideBarComp.getToolPanelInstance(e));console.warn("AG Grid: toolPanel is only available in AG Grid Enterprise")},e.prototype.addVirtualRowListener=function(e,t,r){"string"!==typeof e&&console.warn("AG Grid: addVirtualRowListener is deprecated, please use addRenderedRowListener."),this.addRenderedRowListener(e,t,r)},e.prototype.addRenderedRowListener=function(e,t,r){"virtualRowSelected"===e&&console.warn("AG Grid: event virtualRowSelected is deprecated, to register for individual row\n                selection events, add a listener directly to the row node."),this.rowRenderer.addRenderedRowListener(e,t,r)},e.prototype.setQuickFilter=function(e){this.filterManager.setQuickFilter(e)},e.prototype.selectIndex=function(e,t,r){console.warn("AG Grid: do not use api for selection, call node.setSelected(value) instead"),r&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),this.selectionService.selectIndex(e,t)},e.prototype.deselectIndex=function(e,t){void 0===t&&(t=!1),console.warn("AG Grid: do not use api for selection, call node.setSelected(value) instead"),t&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),this.selectionService.deselectIndex(e)},e.prototype.selectNode=function(e,t,r){void 0===t&&(t=!1),void 0===r&&(r=!1),console.warn("AG Grid: API for selection is deprecated, call node.setSelected(value) instead"),r&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),e.setSelectedParams({newValue:!0,clearSelection:!t})},e.prototype.deselectNode=function(e,t){void 0===t&&(t=!1),console.warn("AG Grid: API for selection is deprecated, call node.setSelected(value) instead"),t&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),e.setSelectedParams({newValue:!1})},e.prototype.selectAll=function(){this.selectionService.selectAllRowNodes()},e.prototype.deselectAll=function(){this.selectionService.deselectAllRowNodes()},e.prototype.selectAllFiltered=function(){this.selectionService.selectAllRowNodes(!0)},e.prototype.deselectAllFiltered=function(){this.selectionService.deselectAllRowNodes(!0)},e.prototype.recomputeAggregates=function(){i(this.clientSideRowModel)&&console.warn("cannot call recomputeAggregates unless using normal row model"),console.warn("recomputeAggregates is deprecated, please call api.refreshClientSideRowModel('aggregate') instead"),this.clientSideRowModel.refreshModel({step:t.ClientSideRowModelSteps.AGGREGATE})},e.prototype.sizeColumnsToFit=function(){this.gridBodyCtrl.sizeColumnsToFit()},e.prototype.showLoadingOverlay=function(){this.overlayWrapperComp.showLoadingOverlay()},e.prototype.showNoRowsOverlay=function(){this.overlayWrapperComp.showNoRowsOverlay()},e.prototype.hideOverlay=function(){this.overlayWrapperComp.hideOverlay()},e.prototype.isNodeSelected=function(e){return console.warn("AG Grid: no need to call api.isNodeSelected(), just call node.isSelected() instead"),e.isSelected()},e.prototype.getSelectedNodesById=function(){return console.error("AG Grid: since version 3.4, getSelectedNodesById no longer exists, use getSelectedNodes() instead"),null},e.prototype.getSelectedNodes=function(){return this.selectionService.getSelectedNodes()},e.prototype.getSelectedRows=function(){return this.selectionService.getSelectedRows()},e.prototype.getBestCostNodeSelection=function(){return this.selectionService.getBestCostNodeSelection()},e.prototype.getRenderedNodes=function(){return this.rowRenderer.getRenderedNodes()},e.prototype.ensureColIndexVisible=function(e){console.warn("AG Grid: ensureColIndexVisible(index) no longer supported, use ensureColumnVisible(colKey) instead.")},e.prototype.ensureColumnVisible=function(e,t){void 0===t&&(t="auto"),this.gridBodyCtrl.getScrollFeature().ensureColumnVisible(e,t)},e.prototype.ensureIndexVisible=function(e,t){this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(e,t)},e.prototype.ensureNodeVisible=function(e,t){void 0===t&&(t=null),this.gridBodyCtrl.getScrollFeature().ensureNodeVisible(e,t)},e.prototype.forEachLeafNode=function(e){i(this.clientSideRowModel)&&console.warn("cannot call forEachNode unless using normal row model"),this.clientSideRowModel.forEachLeafNode(e)},e.prototype.forEachNode=function(e){this.rowModel.forEachNode(e)},e.prototype.forEachNodeAfterFilter=function(e){i(this.clientSideRowModel)&&console.warn("cannot call forEachNodeAfterFilter unless using normal row model"),this.clientSideRowModel.forEachNodeAfterFilter(e)},e.prototype.forEachNodeAfterFilterAndSort=function(e){i(this.clientSideRowModel)&&console.warn("cannot call forEachNodeAfterFilterAndSort unless using normal row model"),this.clientSideRowModel.forEachNodeAfterFilterAndSort(e)},e.prototype.getFilterInstance=function(e,t){var r=this.getFilterInstanceImpl(e,(function(e){if(t){var r=Vu(e);t(r)}}));return Vu(r)},e.prototype.getFilterInstanceImpl=function(e,t){var r=this.columnModel.getPrimaryColumn(e);if(r){var n=this.filterManager.getFilterComponent(r,"NO_UI"),o=n&&n.resolveNow(null,(function(e){return e}));return o?setTimeout(t,0,o):n&&n.then((function(e){t(e)})),o}},e.prototype.destroyFilter=function(e){var t=this.columnModel.getPrimaryColumn(e);if(t)return this.filterManager.destroyFilter(t,"filterDestroyed")},e.prototype.getStatusPanel=function(e){if(this.statusBarService)return Vu(this.statusBarService.getStatusPanel(e))},e.prototype.getColumnDef=function(e){var t=this.columnModel.getPrimaryColumn(e);return t?t.getColDef():null},e.prototype.getColumnDefs=function(){return this.columnModel.getColumnDefs()},e.prototype.onFilterChanged=function(){this.filterManager.onFilterChanged()},e.prototype.onSortChanged=function(){this.sortController.onSortChanged("api")},e.prototype.setFilterModel=function(e){this.filterManager.setFilterModel(e)},e.prototype.getFilterModel=function(){return this.filterManager.getFilterModel()},e.prototype.getFocusedCell=function(){return this.focusService.getFocusedCell()},e.prototype.clearFocusedCell=function(){return this.focusService.clearFocusedCell()},e.prototype.setFocusedCell=function(e,t,r){this.focusService.setFocusedCell(e,t,r,!0)},e.prototype.setSuppressRowDrag=function(e){this.gridOptionsWrapper.setProperty(ys.PROP_SUPPRESS_ROW_DRAG,e)},e.prototype.setSuppressMoveWhenRowDragging=function(e){this.gridOptionsWrapper.setProperty(ys.PROP_SUPPRESS_MOVE_WHEN_ROW_DRAG,e)},e.prototype.setSuppressRowClickSelection=function(e){this.gridOptionsWrapper.setProperty(ys.PROP_SUPPRESS_ROW_CLICK_SELECTION,e)},e.prototype.addRowDropZone=function(e){this.gridBodyCtrl.getRowDragFeature().addRowDropZone(e)},e.prototype.removeRowDropZone=function(e){var t=this.dragAndDropService.findExternalZone(e);t&&this.dragAndDropService.removeDropTarget(t)},e.prototype.getRowDropZoneParams=function(e){return this.gridBodyCtrl.getRowDragFeature().getRowDropZone(e)},e.prototype.setHeaderHeight=function(e){this.gridOptionsWrapper.setProperty(ys.PROP_HEADER_HEIGHT,e)},e.prototype.setDomLayout=function(e){this.gridOptionsWrapper.setProperty(ys.PROP_DOM_LAYOUT,e)},e.prototype.setEnableCellTextSelection=function(e){this.gridBodyCtrl.setCellTextSelection(e)},e.prototype.setFillHandleDirection=function(e){this.gridOptionsWrapper.setProperty(ys.PROP_FILL_HANDLE_DIRECTION,e)},e.prototype.setGroupHeaderHeight=function(e){this.gridOptionsWrapper.setProperty(ys.PROP_GROUP_HEADER_HEIGHT,e)},e.prototype.setFloatingFiltersHeight=function(e){this.gridOptionsWrapper.setProperty(ys.PROP_FLOATING_FILTERS_HEIGHT,e)},e.prototype.setPivotHeaderHeight=function(e){this.gridOptionsWrapper.setProperty(ys.PROP_PIVOT_HEADER_HEIGHT,e)},e.prototype.setPivotGroupHeaderHeight=function(e){this.gridOptionsWrapper.setProperty(ys.PROP_PIVOT_GROUP_HEADER_HEIGHT,e)},e.prototype.setIsExternalFilterPresent=function(e){this.gridOptionsWrapper.setProperty(ys.PROP_IS_EXTERNAL_FILTER_PRESENT,e)},e.prototype.setDoesExternalFilterPass=function(e){this.gridOptionsWrapper.setProperty(ys.PROP_DOES_EXTERNAL_FILTER_PASS,e)},e.prototype.setNavigateToNextCell=function(e){this.gridOptionsWrapper.setProperty(ys.PROP_NAVIGATE_TO_NEXT_CELL,e)},e.prototype.setTabToNextCell=function(e){this.gridOptionsWrapper.setProperty(ys.PROP_TAB_TO_NEXT_CELL,e)},e.prototype.setTabToNextHeader=function(e){this.gridOptionsWrapper.setProperty(ys.PROP_TAB_TO_NEXT_HEADER,e)},e.prototype.setNavigateToNextHeader=function(e){this.gridOptionsWrapper.setProperty(ys.PROP_NAVIGATE_TO_NEXT_HEADER,e)},e.prototype.setGroupRowAggNodes=function(e){this.gridOptionsWrapper.setProperty(ys.PROP_GROUP_ROW_AGG_NODES,e)},e.prototype.setGetGroupRowAgg=function(e){this.gridOptionsWrapper.setProperty(ys.PROP_GET_GROUP_ROW_AGG,e)},e.prototype.setGetBusinessKeyForNode=function(e){this.gridOptionsWrapper.setProperty(ys.PROP_GET_BUSINESS_KEY_FOR_NODE,e)},e.prototype.setGetChildCount=function(e){this.gridOptionsWrapper.setProperty(ys.PROP_GET_CHILD_COUNT,e)},e.prototype.setProcessRowPostCreate=function(e){this.gridOptionsWrapper.setProperty(ys.PROP_PROCESS_ROW_POST_CREATE,e)},e.prototype.setGetRowNodeId=function(e){this.gridOptionsWrapper.setProperty(ys.PROP_GET_ROW_NODE_ID,e)},e.prototype.setGetRowId=function(e){this.gridOptionsWrapper.setProperty(ys.PROP_GET_ROW_ID,e)},e.prototype.setGetRowClass=function(e){this.gridOptionsWrapper.setProperty(ys.PROP_GET_ROW_CLASS,e)},e.prototype.setIsFullWidthCell=function(e){this.gridOptionsWrapper.setProperty(ys.PROP_IS_FULL_WIDTH_CELL,e)},e.prototype.setIsFullWidthRow=function(e){this.gridOptionsWrapper.setProperty(ys.PROP_IS_FULL_WIDTH_ROW,e)},e.prototype.setIsRowSelectable=function(e){this.gridOptionsWrapper.setProperty(ys.PROP_IS_ROW_SELECTABLE,e)},e.prototype.setIsRowMaster=function(e){this.gridOptionsWrapper.setProperty(ys.PROP_IS_ROW_MASTER,e)},e.prototype.setPostSort=function(e){this.gridOptionsWrapper.setProperty(ys.PROP_POST_SORT,e)},e.prototype.setPostSortRows=function(e){this.gridOptionsWrapper.setProperty(ys.PROP_POST_SORT_ROWS,e)},e.prototype.setGetDocument=function(e){this.gridOptionsWrapper.setProperty(ys.PROP_GET_DOCUMENT,e)},e.prototype.setGetContextMenuItems=function(e){this.gridOptionsWrapper.setProperty(ys.PROP_GET_CONTEXT_MENU_ITEMS,e)},e.prototype.setGetMainMenuItems=function(e){this.gridOptionsWrapper.setProperty(ys.PROP_GET_MAIN_MENU_ITEMS,e)},e.prototype.setProcessCellForClipboard=function(e){this.gridOptionsWrapper.setProperty(ys.PROP_PROCESS_CELL_FOR_CLIPBOARD,e)},e.prototype.setSendToClipboard=function(e){this.gridOptionsWrapper.setProperty(ys.PROP_SEND_TO_CLIPBOARD,e)},e.prototype.setProcessCellFromClipboard=function(e){this.gridOptionsWrapper.setProperty(ys.PROP_PROCESS_CELL_FROM_CLIPBOARD,e)},e.prototype.setProcessSecondaryColDef=function(e){this.gridOptionsWrapper.setProperty(ys.PROP_PROCESS_TO_SECONDARY_COLDEF,e)},e.prototype.setProcessSecondaryColGroupDef=function(e){this.gridOptionsWrapper.setProperty(ys.PROP_PROCESS_SECONDARY_COL_GROUP_DEF,e)},e.prototype.setPostProcessPopup=function(e){this.gridOptionsWrapper.setProperty(ys.PROP_POST_PROCESS_POPUP,e)},e.prototype.setDefaultGroupOrderComparator=function(e){this.gridOptionsWrapper.setProperty(ys.PROP_DEFAULT_GROUP_ORDER_COMPARATOR,e)},e.prototype.setInitialGroupOrderComparator=function(e){this.gridOptionsWrapper.setProperty(ys.PROP_INITIAL_GROUP_ORDER_COMPARATOR,e)},e.prototype.setGetChartToolbarItems=function(e){this.gridOptionsWrapper.setProperty(ys.PROP_GET_CHART_TOOLBAR_ITEMS,e)},e.prototype.setPaginationNumberFormatter=function(e){this.gridOptionsWrapper.setProperty(ys.PROP_PAGINATION_NUMBER_FORMATTER,e)},e.prototype.setGetServerSideStoreParams=function(e){this.gridOptionsWrapper.setProperty(ys.PROP_GET_SERVER_SIDE_STORE_PARAMS,e)},e.prototype.setIsServerSideGroupOpenByDefault=function(e){this.gridOptionsWrapper.setProperty(ys.PROP_IS_SERVER_SIDE_GROUPS_OPEN_BY_DEFAULT,e)},e.prototype.setIsApplyServerSideTransaction=function(e){this.gridOptionsWrapper.setProperty(ys.PROP_IS_APPLY_SERVER_SIDE_TRANSACTION,e)},e.prototype.setIsServerSideGroup=function(e){this.gridOptionsWrapper.setProperty(ys.PROP_IS_SERVER_SIDE_GROUP,e)},e.prototype.setGetServerSideGroupKey=function(e){this.gridOptionsWrapper.setProperty(ys.PROP_GET_SERVER_SIDE_GROUP_KEY,e)},e.prototype.setGetRowStyle=function(e){this.gridOptionsWrapper.setProperty(ys.PROP_GET_ROW_STYLE,e)},e.prototype.setGetRowHeight=function(e){this.gridOptionsWrapper.setProperty(ys.PROP_GET_ROW_HEIGHT,e)},e.prototype.isSideBarVisible=function(){return!!this.sideBarComp&&this.sideBarComp.isDisplayed()},e.prototype.setSideBarVisible=function(e){this.sideBarComp?this.sideBarComp.setDisplayed(e):e&&console.warn("AG Grid: sideBar is not loaded")},e.prototype.setSideBarPosition=function(e){this.sideBarComp?this.sideBarComp.setSideBarPosition(e):console.warn("AG Grid: sideBar is not loaded")},e.prototype.openToolPanel=function(e){this.sideBarComp?this.sideBarComp.openToolPanel(e):console.warn("AG Grid: toolPanel is only available in AG Grid Enterprise")},e.prototype.closeToolPanel=function(){this.sideBarComp?this.sideBarComp.close():console.warn("AG Grid: toolPanel is only available in AG Grid Enterprise")},e.prototype.getOpenedToolPanel=function(){return this.sideBarComp?this.sideBarComp.openedItem():null},e.prototype.getSideBar=function(){return this.gridOptionsWrapper.getSideBar()},e.prototype.setSideBar=function(e){this.gridOptionsWrapper.setProperty("sideBar",as.parse(e))},e.prototype.setSuppressClipboardPaste=function(e){this.gridOptionsWrapper.setProperty(ys.PROP_SUPPRESS_CLIPBOARD_PASTE,e)},e.prototype.isToolPanelShowing=function(){return this.sideBarComp.isToolPanelShowing()},e.prototype.doLayout=function(){T((function(){return console.warn("AG Grid - since version 25.1, doLayout was taken out, as it's not needed. The grid responds to grid size changes automatically")}),"doLayoutDeprecated")},e.prototype.resetRowHeights=function(){if(o(this.clientSideRowModel)){if(this.columnModel.isAutoRowHeightActive())return void console.warn("AG Grid: calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.");this.clientSideRowModel.resetRowHeights()}},e.prototype.setGroupRemoveSingleChildren=function(e){this.gridOptionsWrapper.setProperty(ys.PROP_GROUP_REMOVE_SINGLE_CHILDREN,e)},e.prototype.setGroupRemoveLowestSingleChildren=function(e){this.gridOptionsWrapper.setProperty(ys.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN,e)},e.prototype.onRowHeightChanged=function(){this.clientSideRowModel?this.clientSideRowModel.onRowHeightChanged():this.serverSideRowModel&&this.serverSideRowModel.onRowHeightChanged()},e.prototype.getValue=function(e,t){var r=this.columnModel.getPrimaryColumn(e);return i(r)&&(r=this.columnModel.getGridColumn(e)),i(r)?null:this.valueService.getValue(r,t)},e.prototype.addEventListener=function(e,t){var r=this.gridOptionsWrapper.useAsyncEvents();this.eventService.addEventListener(e,t,r)},e.prototype.addGlobalListener=function(e){var t=this.gridOptionsWrapper.useAsyncEvents();this.eventService.addGlobalListener(e,t)},e.prototype.removeEventListener=function(e,t){var r=this.gridOptionsWrapper.useAsyncEvents();this.eventService.removeEventListener(e,t,r)},e.prototype.removeGlobalListener=function(e){var t=this.gridOptionsWrapper.useAsyncEvents();this.eventService.removeGlobalListener(e,t)},e.prototype.dispatchEvent=function(e){this.eventService.dispatchEvent(e)},e.prototype.destroy=function(){if(!this.destroyCalled){this.destroyCalled=!0;var e=this.ctrlsService.getGridCtrl();e&&e.destroyGridUi(),this.context.destroy()}},e.prototype.cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid=function(){setTimeout(E.bind(window,this,"Grid API"),100)},e.prototype.warnIfDestroyed=function(e){return this.destroyCalled&&console.warn("AG Grid: Grid API method "+e+" was called on a grid that was destroyed."),this.destroyCalled},e.prototype.resetQuickFilter=function(){this.warnIfDestroyed("resetQuickFilter")||this.rowModel.forEachNode((function(e){return e.quickFilterAggregateText=null}))},e.prototype.getRangeSelections=function(){return console.warn("AG Grid: in v20.1.x, api.getRangeSelections() is gone, please use getCellRanges() instead.\n        We had to change how cell selections works a small bit to allow charting to integrate. The return type of\n        getCellRanges() is a bit different, please check the AG Grid documentation."),null},e.prototype.getCellRanges=function(){return this.rangeService?this.rangeService.getCellRanges():(console.warn("AG Grid: cell range selection is only available in AG Grid Enterprise"),null)},e.prototype.camelCaseToHumanReadable=function(e){return qe(e)},e.prototype.addRangeSelection=function(e){console.warn("AG Grid: As of version 21.x, range selection changed slightly to allow charting integration. Please call api.addCellRange() instead of api.addRangeSelection()")},e.prototype.addCellRange=function(e){this.rangeService||console.warn("AG Grid: cell range selection is only available in AG Grid Enterprise"),this.rangeService.addCellRange(e)},e.prototype.clearRangeSelection=function(){this.rangeService||console.warn("AG Grid: cell range selection is only available in AG Grid Enterprise"),this.rangeService.removeAllCellRanges()},e.prototype.undoCellEditing=function(){this.undoRedoService.undo()},e.prototype.redoCellEditing=function(){this.undoRedoService.redo()},e.prototype.getCurrentUndoSize=function(){return this.undoRedoService.getCurrentUndoStackSize()},e.prototype.getCurrentRedoSize=function(){return this.undoRedoService.getCurrentRedoStackSize()},e.prototype.getChartModels=function(){if(oe.assertRegistered(t.ModuleNames.RangeSelectionModule,"api.getChartModels")&&oe.assertRegistered(t.ModuleNames.GridChartsModule,"api.getChartModels"))return this.chartService.getChartModels()},e.prototype.getChartRef=function(e){if(oe.assertRegistered(t.ModuleNames.RangeSelectionModule,"api.getChartRef")&&oe.assertRegistered(t.ModuleNames.GridChartsModule,"api.getChartRef"))return this.chartService.getChartRef(e)},e.prototype.getChartImageDataURL=function(e){if(oe.assertRegistered(t.ModuleNames.RangeSelectionModule,"api.getChartImageDataURL")&&oe.assertRegistered(t.ModuleNames.GridChartsModule,"api.getChartImageDataURL"))return this.chartService.getChartImageDataURL(e)},e.prototype.createRangeChart=function(e){if(oe.assertRegistered(t.ModuleNames.RangeSelectionModule,"api.createRangeChart")&&oe.assertRegistered(t.ModuleNames.GridChartsModule,"api.createRangeChart"))return this.chartService.createRangeChart(e)},e.prototype.createCrossFilterChart=function(e){if(oe.assertRegistered(t.ModuleNames.RangeSelectionModule,"api.createCrossFilterChart")&&oe.assertRegistered(t.ModuleNames.GridChartsModule,"api.createCrossFilterChart"))return this.chartService.createCrossFilterChart(e)},e.prototype.restoreChart=function(e,r){if(oe.assertRegistered(t.ModuleNames.RangeSelectionModule,"api.restoreChart")&&oe.assertRegistered(t.ModuleNames.GridChartsModule,"api.restoreChart"))return this.chartService.restoreChart(e,r)},e.prototype.createPivotChart=function(e){if(oe.assertRegistered(t.ModuleNames.RangeSelectionModule,"api.createPivotChart")&&oe.assertRegistered(t.ModuleNames.GridChartsModule,"api.createPivotChart"))return this.chartService.createPivotChart(e)},e.prototype.copySelectedRowsToClipboard=function(e){this.clipboardService||console.warn("AG Grid: clipboard is only available in AG Grid Enterprise"),this.clipboardService.copySelectedRowsToClipboard(e)},e.prototype.copySelectedRangeToClipboard=function(e){this.clipboardService||console.warn("AG Grid: clipboard is only available in AG Grid Enterprise"),this.clipboardService.copySelectedRangeToClipboard(e)},e.prototype.copySelectedRangeDown=function(){this.clipboardService||console.warn("AG Grid: clipboard is only available in AG Grid Enterprise"),this.clipboardService.copyRangeDown()},e.prototype.showColumnMenuAfterButtonClick=function(e,t){var r=this.columnModel.getGridColumn(e);this.menuFactory.showMenuAfterButtonClick(r,t,"columnMenu")},e.prototype.showColumnMenuAfterMouseClick=function(e,t){var r=this.columnModel.getGridColumn(e);r||(r=this.columnModel.getPrimaryColumn(e)),r?this.menuFactory.showMenuAfterMouseEvent(r,t):console.error("AG Grid: column '"+e+"' not found")},e.prototype.hidePopupMenu=function(){this.contextMenuFactory&&this.contextMenuFactory.hideActiveMenu(),this.menuFactory.hideActiveMenu()},e.prototype.setPopupParent=function(e){this.gridOptionsWrapper.setProperty(ys.PROP_POPUP_PARENT,e)},e.prototype.tabToNextCell=function(e){return this.navigationService.tabToNextCell(!1,e)},e.prototype.tabToPreviousCell=function(e){return this.navigationService.tabToNextCell(!0,e)},e.prototype.getCellRendererInstances=function(e){return void 0===e&&(e={}),this.rowRenderer.getCellRendererInstances(e).map(Vu)},e.prototype.getCellEditorInstances=function(e){return void 0===e&&(e={}),this.rowRenderer.getCellEditorInstances(e).map(Vu)},e.prototype.getEditingCells=function(){return this.rowRenderer.getEditingCells()},e.prototype.stopEditing=function(e){void 0===e&&(e=!1),this.rowRenderer.stopEditing(e)},e.prototype.startEditingCell=function(e){var t=this.columnModel.getGridColumn(e.colKey);if(t){var r={rowIndex:e.rowIndex,rowPinned:e.rowPinned||null,column:t};null==e.rowPinned&&this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(e.rowIndex);var n=this.navigationService.getCellByPosition(r);n&&n.startRowOrCellEdit(e.key,e.charPress)}else console.warn("AG Grid: no column found for "+e.colKey)},e.prototype.addAggFunc=function(e,t){this.aggFuncService&&this.aggFuncService.addAggFunc(e,t)},e.prototype.addAggFuncs=function(e){this.aggFuncService&&this.aggFuncService.addAggFuncs(e)},e.prototype.clearAggFuncs=function(){this.aggFuncService&&this.aggFuncService.clear()},e.prototype.applyServerSideTransaction=function(e){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.applyTransaction(e);console.warn("AG Grid: Cannot apply Server Side Transaction if not using the Server Side Row Model.")},e.prototype.applyServerSideTransactionAsync=function(e,t){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.applyTransactionAsync(e,t);console.warn("AG Grid: Cannot apply Server Side Transaction if not using the Server Side Row Model.")},e.prototype.retryServerSideLoads=function(){this.serverSideRowModel?this.serverSideRowModel.retryLoads():console.warn("AG Grid: API retryServerSideLoads() can only be used when using Server-Side Row Model.")},e.prototype.flushServerSideAsyncTransactions=function(){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.flushAsyncTransactions();console.warn("AG Grid: Cannot flush Server Side Transaction if not using the Server Side Row Model.")},e.prototype.applyTransaction=function(e){if(this.clientSideRowModel){var t=this.clientSideRowModel.updateRowData(e);return this.rowRenderer.refreshFullWidthRows(t.update),this.gridOptionsWrapper.isSuppressChangeDetection()||this.rowRenderer.refreshCells(),t}console.error("AG Grid: updateRowData() only works with ClientSideRowModel. Working with InfiniteRowModel was deprecated in v23.1 and removed in v24.1")},e.prototype.setDeltaSort=function(e){this.gridOptionsWrapper.setProperty("deltaSort",e)},e.prototype.updateRowData=function(e){return T((function(){return console.warn("AG Grid: as of v23.1, grid API updateRowData(transaction) is now called applyTransaction(transaction). updateRowData is deprecated and will be removed in a future major release.")}),"updateRowData deprecated"),this.applyTransaction(e)},e.prototype.applyTransactionAsync=function(e,t){this.clientSideRowModel?this.clientSideRowModel.batchUpdateRowData(e,t):console.error("AG Grid: api.applyTransactionAsync() only works with ClientSideRowModel.")},e.prototype.flushAsyncTransactions=function(){this.clientSideRowModel?this.clientSideRowModel.flushAsyncTransactions():console.error("AG Grid: api.applyTransactionAsync() only works with ClientSideRowModel.")},e.prototype.batchUpdateRowData=function(e,t){T((function(){return console.warn("AG Grid: as of v23.1, grid API batchUpdateRowData(transaction, callback) is now called applyTransactionAsync(transaction, callback). batchUpdateRowData is deprecated and will be removed in a future major release.")}),"batchUpdateRowData deprecated"),this.applyTransactionAsync(e,t)},e.prototype.insertItemsAtIndex=function(e,t,r){console.warn("AG Grid: insertItemsAtIndex() is deprecated, use updateRowData(transaction) instead."),this.updateRowData({add:t,addIndex:e,update:null,remove:null})},e.prototype.removeItems=function(e,t){console.warn("AG Grid: removeItems() is deprecated, use updateRowData(transaction) instead.");var r=e.map((function(e){return e.data}));this.updateRowData({add:null,addIndex:null,update:null,remove:r})},e.prototype.addItems=function(e,t){console.warn("AG Grid: addItems() is deprecated, use updateRowData(transaction) instead."),this.updateRowData({add:e,addIndex:null,update:null,remove:null})},e.prototype.refreshVirtualPageCache=function(){console.warn("AG Grid: refreshVirtualPageCache() is now called refreshInfiniteCache(), please call refreshInfiniteCache() instead"),this.refreshInfiniteCache()},e.prototype.refreshInfinitePageCache=function(){console.warn("AG Grid: refreshInfinitePageCache() is now called refreshInfiniteCache(), please call refreshInfiniteCache() instead"),this.refreshInfiniteCache()},e.prototype.refreshInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.refreshCache():console.warn("AG Grid: api.refreshInfiniteCache is only available when rowModelType='infinite'.")},e.prototype.purgeVirtualPageCache=function(){console.warn("AG Grid: purgeVirtualPageCache() is now called purgeInfiniteCache(), please call purgeInfiniteCache() instead"),this.purgeInfinitePageCache()},e.prototype.purgeInfinitePageCache=function(){console.warn("AG Grid: purgeInfinitePageCache() is now called purgeInfiniteCache(), please call purgeInfiniteCache() instead"),this.purgeInfiniteCache()},e.prototype.purgeInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.purgeCache():console.warn("AG Grid: api.purgeInfiniteCache is only available when rowModelType='infinite'.")},e.prototype.purgeEnterpriseCache=function(e){console.warn("ag-grid: since version 18.x, api.purgeEnterpriseCache() should be replaced with api.purgeServerSideCache()"),this.purgeServerSideCache(e)},e.prototype.purgeServerSideCache=function(e){void 0===e&&(e=[]),this.serverSideRowModel?(console.warn("AG Grid: since v25.0, api.purgeServerSideCache is deprecated. Please use api.refreshServerSideStore({purge: true}) instead."),this.refreshServerSideStore({route:e,purge:!0})):console.warn("AG Grid: api.purgeServerSideCache is only available when rowModelType='serverSide'.")},e.prototype.refreshServerSideStore=function(e){this.serverSideRowModel?this.serverSideRowModel.refreshStore(e):console.warn("AG Grid: api.refreshServerSideStore is only available when rowModelType='serverSide'.")},e.prototype.getServerSideStoreState=function(){return this.serverSideRowModel?this.serverSideRowModel.getStoreState():(console.warn("AG Grid: api.getServerSideStoreState is only available when rowModelType='serverSide'."),[])},e.prototype.getVirtualRowCount=function(){return console.warn("AG Grid: getVirtualRowCount() is now called getInfiniteRowCount(), please call getInfiniteRowCount() instead"),this.getInfiniteRowCount()},e.prototype.getInfiniteRowCount=function(){if(this.infiniteRowModel)return this.infiniteRowModel.getRowCount();console.warn("AG Grid: api.getVirtualRowCount is only available when rowModelType='virtual'.")},e.prototype.isMaxRowFound=function(){return console.warn("AG Grid: api.isLastRowIndexKnown is deprecated, please use api.isLastRowIndexKnown()"),this.isLastRowIndexKnown()},e.prototype.isLastRowIndexKnown=function(){if(this.infiniteRowModel)return this.infiniteRowModel.isLastRowIndexKnown();console.warn("AG Grid: api.isMaxRowFound is only available when rowModelType='virtual'.")},e.prototype.setVirtualRowCount=function(e,t){console.warn("AG Grid: setVirtualRowCount() is now called setInfiniteRowCount(), please call setInfiniteRowCount() instead"),this.setRowCount(e,t)},e.prototype.setInfiniteRowCount=function(e,t){console.warn("AG Grid: setInfiniteRowCount() is now called setRowCount(), please call setRowCount() instead"),this.setRowCount(e,t)},e.prototype.setRowCount=function(e,t){this.infiniteRowModel?this.infiniteRowModel.setRowCount(e,t):console.warn("AG Grid: api.setRowCount is only available for Infinite Row Model.")},e.prototype.getVirtualPageState=function(){return console.warn("AG Grid: getVirtualPageState() is now called getCacheBlockState(), please call getCacheBlockState() instead"),this.getCacheBlockState()},e.prototype.getInfinitePageState=function(){return console.warn("AG Grid: getInfinitePageState() is now called getCacheBlockState(), please call getCacheBlockState() instead"),this.getCacheBlockState()},e.prototype.getCacheBlockState=function(){return this.rowNodeBlockLoader.getBlockState()},e.prototype.checkGridSize=function(){console.warn("in AG Grid v25.2.0, checkGridSize() was removed, as it was legacy and didn't do anything uesful.")},e.prototype.getFirstRenderedRow=function(){return console.warn("in AG Grid v12, getFirstRenderedRow() was renamed to getFirstDisplayedRow()"),this.getFirstDisplayedRow()},e.prototype.getFirstDisplayedRow=function(){return this.rowRenderer.getFirstVirtualRenderedRow()},e.prototype.getLastRenderedRow=function(){return console.warn("in AG Grid v12, getLastRenderedRow() was renamed to getLastDisplayedRow()"),this.getLastDisplayedRow()},e.prototype.getLastDisplayedRow=function(){return this.rowRenderer.getLastVirtualRenderedRow()},e.prototype.getDisplayedRowAtIndex=function(e){return this.rowModel.getRow(e)},e.prototype.getDisplayedRowCount=function(){return this.rowModel.getRowCount()},e.prototype.paginationIsLastPageFound=function(){return this.paginationProxy.isLastPageFound()},e.prototype.paginationGetPageSize=function(){return this.paginationProxy.getPageSize()},e.prototype.paginationSetPageSize=function(e){this.gridOptionsWrapper.setProperty("paginationPageSize",e)},e.prototype.paginationGetCurrentPage=function(){return this.paginationProxy.getCurrentPage()},e.prototype.paginationGetTotalPages=function(){return this.paginationProxy.getTotalPages()},e.prototype.paginationGetRowCount=function(){return this.paginationProxy.getMasterRowCount()},e.prototype.paginationGoToNextPage=function(){this.paginationProxy.goToNextPage()},e.prototype.paginationGoToPreviousPage=function(){this.paginationProxy.goToPreviousPage()},e.prototype.paginationGoToFirstPage=function(){this.paginationProxy.goToFirstPage()},e.prototype.paginationGoToLastPage=function(){this.paginationProxy.goToLastPage()},e.prototype.paginationGoToPage=function(e){this.paginationProxy.goToPage(e)},e.prototype.setRowClass=function(e){this.gridOptionsWrapper.setProperty(ys.PROP_ROW_CLASS,e)},ju([q("immutableService")],e.prototype,"immutableService",void 0),ju([q("csvCreator")],e.prototype,"csvCreator",void 0),ju([q("excelCreator")],e.prototype,"excelCreator",void 0),ju([K("rowRenderer")],e.prototype,"rowRenderer",void 0),ju([K("navigationService")],e.prototype,"navigationService",void 0),ju([K("filterManager")],e.prototype,"filterManager",void 0),ju([K("columnModel")],e.prototype,"columnModel",void 0),ju([K("selectionService")],e.prototype,"selectionService",void 0),ju([K("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),ju([K("valueService")],e.prototype,"valueService",void 0),ju([K("alignedGridsService")],e.prototype,"alignedGridsService",void 0),ju([K("eventService")],e.prototype,"eventService",void 0),ju([K("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),ju([K("context")],e.prototype,"context",void 0),ju([K("rowModel")],e.prototype,"rowModel",void 0),ju([K("sortController")],e.prototype,"sortController",void 0),ju([K("paginationProxy")],e.prototype,"paginationProxy",void 0),ju([K("focusService")],e.prototype,"focusService",void 0),ju([K("dragAndDropService")],e.prototype,"dragAndDropService",void 0),ju([q("rangeService")],e.prototype,"rangeService",void 0),ju([q("clipboardService")],e.prototype,"clipboardService",void 0),ju([q("aggFuncService")],e.prototype,"aggFuncService",void 0),ju([K("menuFactory")],e.prototype,"menuFactory",void 0),ju([q("contextMenuFactory")],e.prototype,"contextMenuFactory",void 0),ju([K("valueCache")],e.prototype,"valueCache",void 0),ju([K("animationFrameService")],e.prototype,"animationFrameService",void 0),ju([q("statusBarService")],e.prototype,"statusBarService",void 0),ju([q("chartService")],e.prototype,"chartService",void 0),ju([q("undoRedoService")],e.prototype,"undoRedoService",void 0),ju([q("rowNodeBlockLoader")],e.prototype,"rowNodeBlockLoader",void 0),ju([q("ssrmTransactionManager")],e.prototype,"serverSideTransactionManager",void 0),ju([K("ctrlsService")],e.prototype,"ctrlsService",void 0),ju([q("frameworkComponentWrapper")],e.prototype,"frameworkComponentWrapper",void 0),ju([U],e.prototype,"init",null),ju([Y],e.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),e=ju([X("gridApi")],e)}(),Yu=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Xu=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Ku=function(e){function t(t,r,n,o){var i=e.call(this)||this;return i.columnOrGroup=t,i.eCell=r,i.ariaEl=i.eCell.querySelector("[role=columnheader]")||i.eCell,i.colsSpanning=o,i.beans=n,i}return Yu(t,e),t.prototype.setColsSpanning=function(e){this.colsSpanning=e,this.onLeftChanged()},t.prototype.getColumnOrGroup=function(){return this.beans.gridOptionsWrapper.isEnableRtl()&&this.colsSpanning?ue(this.colsSpanning):this.columnOrGroup},t.prototype.postConstruct=function(){this.addManagedListener(this.columnOrGroup,se.EVENT_LEFT_CHANGED,this.onLeftChanged.bind(this)),this.setLeftFirstTime(),this.addManagedListener(this.eventService,He.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onLeftChanged.bind(this)),this.addManagedListener(this.beans.gridOptionsWrapper,ys.PROP_DOM_LAYOUT,this.onLeftChanged.bind(this))},t.prototype.setLeftFirstTime=function(){var e=this.beans.gridOptionsWrapper.isSuppressColumnMoveAnimation(),t=o(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&t&&!e?this.animateInLeft():this.onLeftChanged()},t.prototype.animateInLeft=function(){var e=this,t=this.getColumnOrGroup(),r=t.getLeft(),n=t.getOldLeft(),o=this.modifyLeftForPrintLayout(t,n),i=this.modifyLeftForPrintLayout(t,r);this.setLeft(o),this.actualLeft=i,this.beans.columnAnimationService.executeNextVMTurn((function(){e.actualLeft===i&&e.setLeft(i)}))},t.prototype.onLeftChanged=function(){var e=this.getColumnOrGroup(),t=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,t),this.setLeft(this.actualLeft)},t.prototype.modifyLeftForPrintLayout=function(e,t){if(!(this.beans.gridOptionsWrapper.getDomLayout()===ne.DOM_LAYOUT_PRINT))return t;if(e.getPinned()===ne.PINNED_LEFT)return t;var r=this.beans.columnModel.getDisplayedColumnsLeftWidth();return e.getPinned()===ne.PINNED_RIGHT?r+this.beans.columnModel.getBodyContainerWidth()+t:r+t},t.prototype.setLeft=function(e){var t;if(o(e)&&(this.eCell.style.left=e+"px"),this.columnOrGroup instanceof se)t=this.columnOrGroup;else{var r=this.columnOrGroup.getLeafColumns();if(!r.length)return;r.length>1&&on(this.ariaEl,r.length),t=r[0]}var n=this.beans.columnModel.getAriaColumnIndex(t);nn(this.ariaEl,n)},Xu([U],t.prototype,"postConstruct",null),t}(Le),qu=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),$u=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Zu=function(e){function t(t,r){var n=e.call(this)||this;return n.columns=t,n.element=r,n}return qu(t,e),t.prototype.postConstruct=function(){this.gridOptionsWrapper.isColumnHoverHighlight()&&this.addMouseHoverListeners()},t.prototype.addMouseHoverListeners=function(){this.addManagedListener(this.element,"mouseout",this.onMouseOut.bind(this)),this.addManagedListener(this.element,"mouseover",this.onMouseOver.bind(this))},t.prototype.onMouseOut=function(){this.columnHoverService.clearMouseOver()},t.prototype.onMouseOver=function(){this.columnHoverService.setMouseOver(this.columns)},$u([K("columnHoverService")],t.prototype,"columnHoverService",void 0),$u([U],t.prototype,"postConstruct",null),t}(Le),Qu=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ju=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},ec=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.column=t,n}return Qu(t,e),t.prototype.setComp=function(t,r,n,o){e.prototype.setGui.call(this,r),this.comp=t,this.eButtonShowMainFilter=n,this.eFloatingFilterBody=o;var i=this.column.getColDef(),a=!!i.filter||!!i.filterFramework,s=!!i.floatingFilter;this.active=a&&s,this.setupWidth(),this.setupLeft(),this.setupHover(),this.setupFocus(),this.setupUserComp(),this.setupSyncWithFilter(),this.setupUi(),this.addManagedListener(this.eButtonShowMainFilter,"click",this.showParentFilter.bind(this))},t.prototype.setupUi=function(){if(this.comp.addOrRemoveButtonWrapperCssClass("ag-hidden",!this.active||this.suppressFilterButton),this.active){this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton);var e=Rn("filter",this.gridOptionsWrapper,this.column);e&&this.eButtonShowMainFilter.appendChild(e)}},t.prototype.setupFocus=function(){this.createManagedBean(new yo(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))},t.prototype.onTabKeyDown=function(e){if(!(this.gridOptionsWrapper.getDocument().activeElement===this.eGui)){var t=this.focusService.findNextFocusableElement(this.eGui,null,e.shiftKey);if(t)return this.beans.headerNavigationService.scrollToColumn(this.column),e.preventDefault(),void t.focus();var r=this.findNextColumnWithFloatingFilter(e.shiftKey);r&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:r},event:e})&&e.preventDefault()}},t.prototype.findNextColumnWithFloatingFilter=function(e){var t=this.beans.columnModel,r=this.column;do{if(!(r=e?t.getDisplayedColBefore(r):t.getDisplayedColAfter(r)))break}while(!r.getColDef().filter||!r.getColDef().floatingFilter);return r},t.prototype.handleKeyDown=function(e){var t=this.gridOptionsWrapper.getDocument().activeElement===this.eGui;switch(e.key){case po.UP:case po.DOWN:t||e.preventDefault();case po.LEFT:case po.RIGHT:if(t)return;e.stopPropagation();case po.ENTER:t&&this.focusService.focusInto(this.eGui)&&e.preventDefault();break;case po.ESCAPE:t||this.eGui.focus()}},t.prototype.onFocusIn=function(e){if(!this.eGui.contains(e.relatedTarget)){var t=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),r=!!e.relatedTarget&&rr(e.relatedTarget,"ag-floating-filter");if(t&&r&&e.target===this.eGui){var n=this.lastFocusEvent,o=!(!n||n.key!==po.TAB);if(n&&o){var i=n.shiftKey;this.focusService.focusInto(this.eGui,i)}}var a=this.getRowIndex();this.beans.focusService.setFocusedHeader(a,this.column)}},t.prototype.setupHover=function(){var e=this;this.createManagedBean(new Zu([this.column],this.eGui));var t=function(){if(e.gridOptionsWrapper.isColumnHoverHighlight()){var t=e.columnHoverService.isHovered(e.column);e.comp.addOrRemoveCssClass("ag-column-hover",t)}};this.addManagedListener(this.eventService,He.EVENT_COLUMN_HOVER_CHANGED,t),t()},t.prototype.setupLeft=function(){var e=new Ku(this.column,this.eGui,this.beans);this.createManagedBean(e)},t.prototype.setupUserComp=function(){var e=this;if(this.active){var t=this.column.getColDef(),r=this.filterManager.createFilterParams(this.column,t),n=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(t,La,r),o=this.userComponentFactory.getDefaultFloatingFilterType(t);null==o&&(o="agReadOnlyFloatingFilter");var i={column:this.column,filterParams:n,currentParentModel:function(){return e.currentParentModel()},parentFilterInstance:function(t){return e.parentFilterInstance(t)},showParentFilter:function(){return e.showParentFilter()},suppressFilterButton:!1};this.suppressFilterButton=!!t.floatingFilterComponentParams&&!!t.floatingFilterComponentParams.suppressFilterButton;var a=this.userComponentFactory.getFloatingFilterCompDetails(t,i,o);a&&this.comp.setCompDetails(a)}},t.prototype.currentParentModel=function(){var e=this.getFilterComponent(!1);return e?e.resolveNow(null,(function(e){return e&&e.getModel()})):null},t.prototype.getFilterComponent=function(e){return void 0===e&&(e=!0),this.filterManager.getFilterComponent(this.column,"NO_UI",e)},t.prototype.parentFilterInstance=function(e){var t=this.getFilterComponent();null!=t&&t.then((function(t){e(Vu(t))}))},t.prototype.showParentFilter=function(){var e=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.menuFactory.showMenuAfterButtonClick(this.column,e,"floatingFilter","filterMenuTab",["filterMenuTab"])},t.prototype.setupSyncWithFilter=function(){var e=this;if(this.active){var t=function(t){var r=e.comp.getFloatingFilterComp();if(r){var n=e.currentParentModel();r.then((function(e){e&&e.onParentModelChanged(n,t)}))}};this.addManagedListener(this.column,se.EVENT_FILTER_CHANGED,t),this.filterManager.isFilterActive(this.column)&&t(null)}},t.prototype.setupWidth=function(){var e=this,t=function(){var t=e.column.getActualWidth()+"px";e.comp.setWidth(t)};this.addManagedListener(this.column,se.EVENT_WIDTH_CHANGED,t),t()},Ju([K("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Ju([K("filterManager")],t.prototype,"filterManager",void 0),Ju([K("columnHoverService")],t.prototype,"columnHoverService",void 0),Ju([K("gridApi")],t.prototype,"gridApi",void 0),Ju([K("menuFactory")],t.prototype,"menuFactory",void 0),Ju([K("beans")],t.prototype,"beans",void 0),t}(Hu),tc=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),rc=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},nc=function(e){function t(t,r,n,o,i){var a=e.call(this)||this;return a.pinned=t,a.column=r,a.eResize=n,a.comp=o,a.ctrl=i,a}return tc(t,e),t.prototype.postConstruct=function(){var e,t,r=this,n=this.column.getColDef(),o=[],i=function(){o.forEach((function(e){return e()})),o.length=0},a=function(){var a=r.column.isResizable(),s=!r.gridOptionsWrapper.isSuppressAutoSize()&&!n.suppressAutoSize;(a!==e||s!==t)&&(e=a,t=s,i(),function(){if(Jt(r.eResize,e),e){var n=r.horizontalResizeService.addResizeBar({eResizeBar:r.eResize,onResizeStart:r.onResizeStart.bind(r),onResizing:r.onResizing.bind(r,!1),onResizeEnd:r.onResizing.bind(r,!0)});if(o.push(n),t){var i=r.gridOptionsWrapper.isSkipHeaderOnAutoSize(),a=function(){r.columnModel.autoSizeColumn(r.column,i,"uiColumnResized")};r.eResize.addEventListener("dblclick",a);var s=new yi(r.eResize);s.addEventListener(yi.EVENT_DOUBLE_TAP,a),r.addDestroyFunc((function(){r.eResize.removeEventListener("dblclick",a),s.removeEventListener(yi.EVENT_DOUBLE_TAP,a),s.destroy()}))}}}())};a(),this.addDestroyFunc(i),this.ctrl.addRefreshFunction(a)},t.prototype.onResizing=function(e,t){var r=this.normaliseResizeAmount(t),n=[{key:this.column,newWidth:this.resizeStartWidth+r}];this.columnModel.setColumnWidths(n,this.resizeWithShiftKey,e,"uiColumnDragged"),e&&this.comp.addOrRemoveCssClass("ag-column-resizing",!1)},t.prototype.onResizeStart=function(e){this.resizeStartWidth=this.column.getActualWidth(),this.resizeWithShiftKey=e,this.comp.addOrRemoveCssClass("ag-column-resizing",!0)},t.prototype.normaliseResizeAmount=function(e){var t=e,r=this.pinned!==ne.PINNED_LEFT,n=this.pinned===ne.PINNED_RIGHT;return this.gridOptionsWrapper.isEnableRtl()?r&&(t*=-1):n&&(t*=-1),t},rc([K("horizontalResizeService")],t.prototype,"horizontalResizeService",void 0),rc([K("columnModel")],t.prototype,"columnModel",void 0),rc([U],t.prototype,"postConstruct",null),t}(Le),oc=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ic=function(e){function t(t,r,n){void 0===r&&(r="ag-checkbox"),void 0===n&&(n="checkbox");var o=e.call(this,t,r,n)||this;return o.labelAlignment="right",o.selected=!1,o.readOnly=!1,o.passive=!1,o}return oc(t,e),t.prototype.addInputListeners=function(){this.addManagedListener(this.eInput,"click",this.onCheckboxClick.bind(this)),this.addManagedListener(this.eLabel,"click",this.toggle.bind(this))},t.prototype.getNextValue=function(){return void 0===this.selected||!this.selected},t.prototype.setPassive=function(e){this.passive=e},t.prototype.isReadOnly=function(){return this.readOnly},t.prototype.setReadOnly=function(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e},t.prototype.setDisabled=function(t){return this.eWrapper.classList.toggle("ag-disabled",t),e.prototype.setDisabled.call(this,t)},t.prototype.toggle=function(){if(!this.eInput.disabled){var e=this.isSelected(),t=this.getNextValue();this.passive?this.dispatchChange(t,e):this.setValue(t)}},t.prototype.getValue=function(){return this.isSelected()},t.prototype.setValue=function(e,t){return this.refreshSelectedClass(e),this.setSelected(e,t),this},t.prototype.setName=function(e){return this.getInputElement().name=e,this},t.prototype.isSelected=function(){return this.selected},t.prototype.setSelected=function(e,t){this.isSelected()!==e&&(this.previousValue=this.isSelected(),e=this.selected="boolean"===typeof e?e:void 0,this.eInput.checked=e,this.eInput.indeterminate=void 0===e,t||this.dispatchChange(this.selected,this.previousValue))},t.prototype.dispatchChange=function(e,r,n){this.dispatchEvent({type:t.EVENT_CHANGED,selected:e,previousValue:r,event:n});var o=this.getInputElement(),i={type:He.EVENT_CHECKBOX_CHANGED,id:o.id,name:o.name,selected:e,previousValue:r};this.eventService.dispatchEvent(i)},t.prototype.onCheckboxClick=function(e){if(!this.passive&&!this.eInput.disabled){var t=this.isSelected(),r=this.selected=e.target.checked;this.refreshSelectedClass(r),this.dispatchChange(r,t,e)}},t.prototype.refreshSelectedClass=function(e){this.eWrapper.classList.toggle("ag-checked",!0===e),this.eWrapper.classList.toggle("ag-indeterminate",null==e)},t}(Lo),ac=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),sc=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},lc=function(e){function t(t){var r=e.call(this)||this;r.cbSelectAllVisible=!1,r.processingEventFromCheckbox=!1,r.column=t;var n=t.getColDef();return r.filteredOnly=!!n&&!!n.headerCheckboxSelectionFilteredOnly,r}return ac(t,e),t.prototype.onSpaceKeyPressed=function(e){var t=this.cbSelectAll,r=this.gridOptionsWrapper.getDocument();t.isDisplayed()&&!t.getGui().contains(r.activeElement)&&(e.preventDefault(),t.setValue(!t.getValue()))},t.prototype.getCheckboxGui=function(){return this.cbSelectAll.getGui()},t.prototype.setComp=function(e){this.headerCellCtrl=e,this.cbSelectAll=this.createManagedBean(new ic),this.cbSelectAll.addCssClass("ag-header-select-all"),Br(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedListener(this.eventService,He.EVENT_NEW_COLUMNS_LOADED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,He.EVENT_DISPLAYED_COLUMNS_CHANGED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,He.EVENT_SELECTION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,He.EVENT_MODEL_UPDATED,this.onModelChanged.bind(this)),this.addManagedListener(this.cbSelectAll,ic.EVENT_CHANGED,this.onCbSelectAll.bind(this)),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()},t.prototype.showOrHideSelectAll=function(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible),this.cbSelectAllVisible&&(this.checkRightRowModelType(),this.updateStateOfCheckbox()),this.refreshSelectAllLabel()},t.prototype.onModelChanged=function(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()},t.prototype.onSelectionChanged=function(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()},t.prototype.getNextCheckboxState=function(e){return(0!==e.selected||0!==e.notSelected)&&(e.selected>0&&e.notSelected>0?null:e.selected>0)},t.prototype.updateStateOfCheckbox=function(){if(!this.processingEventFromCheckbox){this.processingEventFromCheckbox=!0;var e=this.getSelectionCount(),t=this.getNextCheckboxState(e);this.cbSelectAll.setValue(t),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}},t.prototype.refreshSelectAllLabel=function(){if(this.cbSelectAllVisible){var e=this.gridOptionsWrapper.getLocaleTextFunc(),t=this.cbSelectAll.getValue()?e("ariaChecked","checked"):e("ariaUnchecked","unchecked"),r=e("ariaRowSelectAll","Press Space to toggle all rows selection");this.headerCellCtrl.setAriaDescriptionProperty("selectAll",r+" ("+t+")")}else this.headerCellCtrl.setAriaDescriptionProperty("selectAll",null);this.headerCellCtrl.refreshAriaDescription()},t.prototype.getSelectionCount=function(){var e=this,t=0,r=0,n=function(n){e.gridOptionsWrapper.isGroupSelectsChildren()&&n.group||(n.isSelected()?t++:n.selectable&&r++)};return this.filteredOnly?this.gridApi.forEachNodeAfterFilter(n):this.gridApi.forEachNode(n),{notSelected:r,selected:t}},t.prototype.checkRightRowModelType=function(){var e=this.rowModel.getType();e===ne.ROW_MODEL_TYPE_CLIENT_SIDE||console.warn("AG Grid: selectAllCheckbox is only available if using normal row model, you are using "+e)},t.prototype.onCbSelectAll=function(){this.processingEventFromCheckbox||this.cbSelectAllVisible&&(this.cbSelectAll.getValue()?this.selectionService.selectAllRowNodes(this.filteredOnly):this.selectionService.deselectAllRowNodes(this.filteredOnly))},t.prototype.isCheckboxSelection=function(){var e=this.column.getColDef().headerCheckboxSelection;"function"===typeof e&&(e=e({column:this.column,colDef:this.column.getColDef(),columnApi:this.columnApi,api:this.gridApi,context:this.gridOptionsWrapper.getContext()}));return!!e&&(this.gridOptionsWrapper.isRowModelServerSide()?(console.warn("AG Grid: headerCheckboxSelection is not supported for Server Side Row Model"),!1):this.gridOptionsWrapper.isRowModelInfinite()?(console.warn("AG Grid: headerCheckboxSelection is not supported for Infinite Row Model"),!1):!this.gridOptionsWrapper.isRowModelViewport()||(console.warn("AG Grid: headerCheckboxSelection is not supported for Viewport Row Model"),!1))},sc([K("gridApi")],t.prototype,"gridApi",void 0),sc([K("columnApi")],t.prototype,"columnApi",void 0),sc([K("rowModel")],t.prototype,"rowModel",void 0),sc([K("selectionService")],t.prototype,"selectionService",void 0),t}(Le),uc=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),cc=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},pc=function(e){function r(t,r){var n=e.call(this,t,r)||this;return n.refreshFunctions=[],n.userHeaderClasses=new Set,n.ariaDescriptionProperties=new Map,n.column=t,n}return uc(r,e),r.prototype.setComp=function(t,r,n){var o=this;e.prototype.setGui.call(this,r),this.comp=t,this.colDefVersion=this.columnModel.getColDefVersion(),this.updateState(),this.setupWidth(),this.setupMovingCss(),this.setupMenuClass(),this.setupSortableClass(),this.addColumnHoverListener(),this.setupFilterCss(),this.setupColId(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(),this.setupSelectAll(),this.setupUserComp(),this.refreshAria(),this.createManagedBean(new nc(this.getPinned(),this.column,n,t,this)),this.createManagedBean(new Zu([this.column],r)),this.createManagedBean(new Ku(this.column,r,this.beans)),this.createManagedBean(new yo(r,{shouldStopEventPropagation:function(e){return o.shouldStopEventPropagation(e)},onTabKeyDown:function(){return null},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.eventService,He.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.addManagedListener(this.eventService,He.EVENT_COLUMN_VALUE_CHANGED,this.onColumnValueChanged.bind(this)),this.addManagedListener(this.eventService,He.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onColumnRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,He.EVENT_COLUMN_PIVOT_CHANGED,this.onColumnPivotChanged.bind(this))},r.prototype.setupUserComp=function(){var e=this.lookupUserCompDetails();this.setCompDetails(e)},r.prototype.setCompDetails=function(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)},r.prototype.lookupUserCompDetails=function(){var e=this.createParams(),t=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(t,e)},r.prototype.createParams=function(){var e=this,t=this.column.getColDef();return{column:this.column,displayName:this.displayName,enableSorting:t.sortable,enableMenu:this.menuEnabled,showColumnMenu:function(t){e.gridApi.showColumnMenuAfterButtonClick(e.column,t)},progressSort:function(t){e.sortController.progressSort(e.column,!!t,"uiColumnSorted")},setSort:function(t,r){e.sortController.setSortForColumn(e.column,t,!!r,"uiColumnSorted")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext(),eGridHeader:this.getGui()}},r.prototype.setupSelectAll=function(){this.selectAllFeature=this.createManagedBean(new lc(this.column)),this.selectAllFeature.setComp(this)},r.prototype.getSelectAllGui=function(){return this.selectAllFeature.getCheckboxGui()},r.prototype.handleKeyDown=function(e){e.key===po.SPACE&&this.selectAllFeature.onSpaceKeyPressed(e),e.key===po.ENTER&&this.onEnterKeyPressed(e)},r.prototype.onEnterKeyPressed=function(e){var t=this.comp.getUserCompInstance();if(t)if(e.ctrlKey||e.metaKey)this.menuEnabled&&t.showMenu&&(e.preventDefault(),t.showMenu());else if(this.sortable){var r=e.shiftKey;this.sortController.progressSort(this.column,r,"uiColumnSorted")}},r.prototype.isMenuEnabled=function(){return this.menuEnabled},r.prototype.onFocusIn=function(e){if(!this.getGui().contains(e.relatedTarget)){var t=this.getRowIndex();this.focusService.setFocusedHeader(t,this.column)}this.setActiveHeader(!0)},r.prototype.onFocusOut=function(e){this.getGui().contains(e.relatedTarget)||this.setActiveHeader(!1)},r.prototype.setupTooltip=function(){var e=this,t={getColumn:function(){return e.column},getColDef:function(){return e.column.getColDef()},getGui:function(){return e.eGui},getLocation:function(){return"header"},getTooltipValue:function(){return e.column.getColDef().headerTooltip}},r=this.createManagedBean(new Xs(t,this.beans));r.setComp(this.comp),this.refreshFunctions.push((function(){return r.refreshToolTip()}))},r.prototype.setupClassesFromColDef=function(){var e=this,t=function(){var t=e.column.getColDef(),r=e.gridOptionsWrapper,n=Pu.getHeaderClassesFromColDef(t,r,e.column,null),o=e.userHeaderClasses;e.userHeaderClasses=new Set(n),n.forEach((function(t){o.has(t)?o.delete(t):e.comp.addOrRemoveCssClass(t,!0)})),o.forEach((function(t){return e.comp.addOrRemoveCssClass(t,!1)}))};this.refreshFunctions.push(t),t()},r.prototype.setDragSource=function(e){var r=this;this.dragSourceElement=e,this.removeDragSource(),e&&this.draggable&&(this.moveDragSource={type:t.DragSourceType.HeaderCell,eElement:e,defaultIconName:ta.ICON_HIDE,getDragItem:function(){return r.createDragItem()},dragItemName:this.displayName,onDragStarted:function(){return r.column.setMoving(!0,"uiColumnMoved")},onDragStopped:function(){return r.column.setMoving(!1,"uiColumnMoved")}},this.dragAndDropService.addDragSource(this.moveDragSource,!0))},r.prototype.createDragItem=function(){var e={};return e[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:e}},r.prototype.removeDragSource=function(){this.moveDragSource&&(this.dragAndDropService.removeDragSource(this.moveDragSource),this.moveDragSource=void 0)},r.prototype.onNewColumnsLoaded=function(){var e=this.columnModel.getColDefVersion();e!=this.colDefVersion&&(this.colDefVersion=e,this.refresh())},r.prototype.updateState=function(){var e=this.column.getColDef();this.menuEnabled=this.menuFactory.isMenuEnabled(this.column)&&!e.suppressMenu,this.sortable=e.sortable,this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()},r.prototype.addRefreshFunction=function(e){this.refreshFunctions.push(e)},r.prototype.refresh=function(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),this.refreshFunctions.forEach((function(e){return e()}))},r.prototype.refreshHeaderComp=function(){var e=this.lookupUserCompDetails();!!(null!=this.comp.getUserCompInstance()&&this.userCompDetails.componentClass==e.componentClass)&&this.attemptHeaderCompRefresh(e.params)?this.setDragSource(this.dragSourceElement):this.setCompDetails(e)},r.prototype.attemptHeaderCompRefresh=function(e){var t=this.comp.getUserCompInstance();return!!t&&(!!t.refresh&&t.refresh(e))},r.prototype.calculateDisplayName=function(){return this.columnModel.getDisplayNameForColumn(this.column,"header",!0)},r.prototype.checkDisplayName=function(){this.displayName!==this.calculateDisplayName()&&this.refresh()},r.prototype.workOutDraggable=function(){var e=this.column.getColDef();return!!(!this.gridOptionsWrapper.isSuppressMovableColumns()&&!e.suppressMovable&&!e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot},r.prototype.onColumnRowGroupChanged=function(){this.checkDisplayName()},r.prototype.onColumnPivotChanged=function(){this.checkDisplayName()},r.prototype.onColumnValueChanged=function(){this.checkDisplayName()},r.prototype.setupWidth=function(){var e=this,t=function(){e.comp.setWidth(e.column.getActualWidth()+"px")};this.addManagedListener(this.column,se.EVENT_WIDTH_CHANGED,t),t()},r.prototype.setupMovingCss=function(){var e=this,t=function(){e.comp.addOrRemoveCssClass("ag-header-cell-moving",e.column.isMoving())};this.addManagedListener(this.column,se.EVENT_MOVING_CHANGED,t),t()},r.prototype.setupMenuClass=function(){var e=this,t=function(){e.comp.addOrRemoveCssClass("ag-column-menu-visible",e.column.isMenuVisible())};this.addManagedListener(this.column,se.EVENT_MENU_VISIBLE_CHANGED,t),t()},r.prototype.setupSortableClass=function(){var e=this,t=function(){e.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!e.sortable)};t(),this.addRefreshFunction(t),this.addManagedListener(this.column,se.EVENT_SORT_CHANGED,this.refreshAriaSort.bind(this))},r.prototype.refreshAriaSort=function(){if(this.sortable){var e=this.gridOptionsWrapper.getLocaleTextFunc();this.comp.setAriaSort(Wr(this.column)),this.setAriaDescriptionProperty("sort",e("ariaSortableColumn","Press ENTER to sort."))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)},r.prototype.refreshAriaMenu=function(){if(this.menuEnabled){var e=this.gridOptionsWrapper.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press CTRL ENTER to open column menu."))}else this.setAriaDescriptionProperty("menu",null)},r.prototype.setAriaDescriptionProperty=function(e,t){null!=t?this.ariaDescriptionProperties.set(e,t):this.ariaDescriptionProperties.delete(e)},r.prototype.refreshAriaDescription=function(){var e=Array.from(this.ariaDescriptionProperties.values());this.comp.setAriaDescription(e.length?e.join(" "):void 0)},r.prototype.refreshAria=function(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaDescription()},r.prototype.addColumnHoverListener=function(){var e=this,t=function(){if(e.gridOptionsWrapper.isColumnHoverHighlight()){var t=e.columnHoverService.isHovered(e.column);e.comp.addOrRemoveCssClass("ag-column-hover",t)}};this.addManagedListener(this.eventService,He.EVENT_COLUMN_HOVER_CHANGED,t),t()},r.prototype.setupFilterCss=function(){var e=this,t=function(){e.comp.addOrRemoveCssClass("ag-header-cell-filtered",e.column.isFilterActive())};this.addManagedListener(this.column,se.EVENT_FILTER_ACTIVE_CHANGED,t),t()},r.prototype.setupColId=function(){this.comp.setColId(this.column.getColId())},r.prototype.addActiveHeaderMouseListeners=function(){var e=this,t=function(t){return e.setActiveHeader("mouseenter"===t.type)};this.addManagedListener(this.getGui(),"mouseenter",t),this.addManagedListener(this.getGui(),"mouseleave",t)},r.prototype.setActiveHeader=function(e){this.comp.addOrRemoveCssClass("ag-header-active",e)},cc([K("columnModel")],r.prototype,"columnModel",void 0),cc([K("columnHoverService")],r.prototype,"columnHoverService",void 0),cc([K("beans")],r.prototype,"beans",void 0),cc([K("sortController")],r.prototype,"sortController",void 0),cc([K("menuFactory")],r.prototype,"menuFactory",void 0),cc([K("dragAndDropService")],r.prototype,"dragAndDropService",void 0),cc([K("gridApi")],r.prototype,"gridApi",void 0),cc([K("columnApi")],r.prototype,"columnApi",void 0),cc([K("userComponentFactory")],r.prototype,"userComponentFactory",void 0),cc([Y],r.prototype,"removeDragSource",null),r}(Hu),dc=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),hc=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},fc=function(e){function t(t,r,n,o){var i=e.call(this)||this;return i.eResize=r,i.comp=t,i.pinned=n,i.columnGroup=o,i}return dc(t,e),t.prototype.postConstruct=function(){var e=this;if(this.columnGroup.isResizable()){var t=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(t),!this.gridOptionsWrapper.isSuppressAutoSize()){var r=this.gridOptionsWrapper.isSkipHeaderOnAutoSize();this.eResize.addEventListener("dblclick",(function(){var t=[];e.columnGroup.getDisplayedLeafColumns().forEach((function(e){e.getColDef().suppressAutoSize||t.push(e.getColId())})),t.length>0&&e.columnModel.autoSizeColumns({columns:t,skipHeader:r,stopAtGroup:e.columnGroup,source:"uiColumnResized"}),e.resizeLeafColumnsToFit()}))}}else this.comp.addOrRemoveResizableCssClass("ag-hidden",!0)},t.prototype.onResizeStart=function(e){var t=this;this.calculateInitialValues();var r=null;if(e&&(r=this.columnModel.getDisplayedGroupAfter(this.columnGroup)),r){var n=r.getDisplayedLeafColumns();this.resizeTakeFromCols=n.filter((function(e){return e.isResizable()})),this.resizeTakeFromStartWidth=0,this.resizeTakeFromCols.forEach((function(e){return t.resizeTakeFromStartWidth+=e.getActualWidth()})),this.resizeTakeFromRatios=[],this.resizeTakeFromCols.forEach((function(e){return t.resizeTakeFromRatios.push(e.getActualWidth()/t.resizeTakeFromStartWidth)}))}else this.resizeTakeFromCols=null,this.resizeTakeFromStartWidth=null,this.resizeTakeFromRatios=null;this.comp.addOrRemoveCssClass("ag-column-resizing",!0)},t.prototype.onResizing=function(e,t){var r=this.normaliseDragChange(t),n=this.resizeStartWidth+r;this.resizeColumns(n,e)},t.prototype.resizeLeafColumnsToFit=function(){var e=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup);this.calculateInitialValues(),e>this.resizeStartWidth&&this.resizeColumns(e,!0)},t.prototype.resizeColumns=function(e,t){void 0===t&&(t=!0);var r=[];if(r.push({columns:this.resizeCols,ratios:this.resizeRatios,width:e}),this.resizeTakeFromCols){var n=e-this.resizeStartWidth;r.push({columns:this.resizeTakeFromCols,ratios:this.resizeTakeFromRatios,width:this.resizeTakeFromStartWidth-n})}this.columnModel.resizeColumnSets({resizeSets:r,finished:t,source:"uiColumnDragged"}),t&&this.comp.addOrRemoveCssClass("ag-column-resizing",!1)},t.prototype.calculateInitialValues=function(){var e=this,t=this.columnGroup.getDisplayedLeafColumns();this.resizeCols=t.filter((function(e){return e.isResizable()})),this.resizeStartWidth=0,this.resizeCols.forEach((function(t){return e.resizeStartWidth+=t.getActualWidth()})),this.resizeRatios=[],this.resizeCols.forEach((function(t){return e.resizeRatios.push(t.getActualWidth()/e.resizeStartWidth)}))},t.prototype.normaliseDragChange=function(e){var t=e;return this.gridOptionsWrapper.isEnableRtl()?this.pinned!==ne.PINNED_LEFT&&(t*=-1):this.pinned===ne.PINNED_RIGHT&&(t*=-1),t},hc([K("horizontalResizeService")],t.prototype,"horizontalResizeService",void 0),hc([K("autoWidthCalculator")],t.prototype,"autoWidthCalculator",void 0),hc([K("columnModel")],t.prototype,"columnModel",void 0),hc([U],t.prototype,"postConstruct",null),t}(Le),gc=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),yc=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},vc=function(e){function t(t,r){var n=e.call(this)||this;return n.removeChildListenersFuncs=[],n.columnGroup=r,n.comp=t,n}return gc(t,e),t.prototype.postConstruct=function(){this.addListenersToChildrenColumns(),this.addManagedListener(this.columnGroup,Ce.EVENT_DISPLAYED_CHILDREN_CHANGED,this.onDisplayedChildrenChanged.bind(this)),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))},t.prototype.addListenersToChildrenColumns=function(){var e=this;this.removeListenersOnChildrenColumns();var t=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach((function(r){r.addEventListener(se.EVENT_WIDTH_CHANGED,t),r.addEventListener(se.EVENT_VISIBLE_CHANGED,t),e.removeChildListenersFuncs.push((function(){r.removeEventListener(se.EVENT_WIDTH_CHANGED,t),r.removeEventListener(se.EVENT_VISIBLE_CHANGED,t)}))}))},t.prototype.removeListenersOnChildrenColumns=function(){this.removeChildListenersFuncs.forEach((function(e){return e()})),this.removeChildListenersFuncs=[]},t.prototype.onDisplayedChildrenChanged=function(){this.addListenersToChildrenColumns(),this.onWidthChanged()},t.prototype.onWidthChanged=function(){this.comp.setWidth(this.columnGroup.getActualWidth()+"px")},yc([U],t.prototype,"postConstruct",null),t}(Le),mc=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),bc=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Cc=function(e){function r(t,r){var n=e.call(this,t,r)||this;return n.columnGroup=t,n}return mc(r,e),r.prototype.setComp=function(t,r,n){e.prototype.setGui.call(this,r),this.comp=t,this.displayName=this.columnModel.getDisplayNameForColumnGroup(this.columnGroup,"header"),this.addClasses(),this.addAttributes(),this.setupMovingCss(),this.setupExpandable(),this.setupTooltip(),this.setupUserComp();var o=this.getParentRowCtrl().getPinned(),i=this.columnGroup.getProvidedColumnGroup().getLeafColumns();this.createManagedBean(new Zu(i,r)),this.createManagedBean(new Ku(this.columnGroup,r,this.beans)),this.createManagedBean(new vc(t,this.columnGroup)),this.groupResizeFeature=this.createManagedBean(new fc(t,n,o,this.columnGroup)),this.createManagedBean(new yo(r,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:function(){},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))},r.prototype.resizeLeafColumnsToFit=function(){this.groupResizeFeature.onResizeStart(!1),this.groupResizeFeature.resizeLeafColumnsToFit()},r.prototype.setupUserComp=function(){var e=this,t=this.displayName,r={displayName:this.displayName,columnGroup:this.columnGroup,setExpanded:function(t){e.columnModel.setColumnGroupOpened(e.columnGroup.getProvidedColumnGroup(),t,"gridInitializing")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()};if(!t){for(var n=this.columnGroup,o=n.getLeafColumns();n.getParent()&&n.getParent().getLeafColumns().length===o.length;)n=n.getParent();var i=n.getColGroupDef();i&&(t=i.headerName),t||(t=o?this.columnModel.getDisplayNameForColumn(o[0],"header",!0):"")}var a=this.userComponentFactory.getHeaderGroupCompDetails(r);this.comp.setUserCompDetails(a)},r.prototype.setupTooltip=function(){var e=this,t=this.columnGroup.getColGroupDef(),r={getColumn:function(){return e.columnGroup},getGui:function(){return e.eGui},getLocation:function(){return"headerGroup"},getTooltipValue:function(){return t&&t.headerTooltip}};t&&(r.getColDef=function(){return t}),this.createManagedBean(new Xs(r,this.beans)).setComp(this.comp)},r.prototype.setupExpandable=function(){var e=this.columnGroup.getProvidedColumnGroup();this.refreshExpanded(),this.addManagedListener(e,we.EVENT_EXPANDABLE_CHANGED,this.refreshExpanded.bind(this)),this.addManagedListener(e,we.EVENT_EXPANDED_CHANGED,this.refreshExpanded.bind(this))},r.prototype.refreshExpanded=function(){var e=this.columnGroup;this.expandable=e.isExpandable();var t=e.isExpanded();this.expandable?this.comp.setAriaExpanded(t?"true":"false"):this.comp.setAriaExpanded(void 0)},r.prototype.addAttributes=function(){this.comp.setColId(this.columnGroup.getUniqueId())},r.prototype.addClasses=function(){var e=this,t=this.columnGroup.getColGroupDef(),r=Pu.getHeaderClassesFromColDef(t,this.gridOptionsWrapper,null,this.columnGroup);r.push(this.columnGroup.isPadding()?"ag-header-group-cell-no-group":"ag-header-group-cell-with-group"),r.forEach((function(t){return e.comp.addOrRemoveCssClass(t,!0)}))},r.prototype.setupMovingCss=function(){var e=this,t=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),r=function(){return e.comp.addOrRemoveCssClass("ag-header-cell-moving",e.columnGroup.isMoving())};t.forEach((function(t){e.addManagedListener(t,se.EVENT_MOVING_CHANGED,r)})),r()},r.prototype.onFocusIn=function(e){if(!this.eGui.contains(e.relatedTarget)){var t=this.getRowIndex();this.beans.focusService.setFocusedHeader(t,this.columnGroup)}},r.prototype.handleKeyDown=function(e){var t=this.gridOptionsWrapper.getDocument().activeElement===this.eGui;if(this.expandable&&t&&e.key===po.ENTER){var r=this.columnGroup,n=!r.isExpanded();this.columnModel.setColumnGroupOpened(r.getProvidedColumnGroup(),n,"uiColumnExpanded")}},r.prototype.setDragSource=function(e){var r=this;if(!this.isSuppressMoving()){var n=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),o={type:t.DragSourceType.HeaderCell,eElement:e,defaultIconName:ta.ICON_HIDE,dragItemName:this.displayName,getDragItem:this.getDragItemForGroup.bind(this),onDragStarted:function(){return n.forEach((function(e){return e.setMoving(!0,"uiColumnDragged")}))},onDragStopped:function(){return n.forEach((function(e){return e.setMoving(!1,"uiColumnDragged")}))}};this.dragAndDropService.addDragSource(o,!0),this.addDestroyFunc((function(){return r.dragAndDropService.removeDragSource(o)}))}},r.prototype.getDragItemForGroup=function(){var e=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),t={};e.forEach((function(e){return t[e.getId()]=e.isVisible()}));var r=[];return this.columnModel.getAllDisplayedColumns().forEach((function(t){e.indexOf(t)>=0&&(r.push(t),de(e,t))})),e.forEach((function(e){return r.push(e)})),{columns:r,visibleState:t}},r.prototype.isSuppressMoving=function(){var e=!1;return this.columnGroup.getLeafColumns().forEach((function(t){(t.getColDef().suppressMovable||t.getColDef().lockPosition)&&(e=!0)})),e||this.gridOptionsWrapper.isSuppressMovableColumns()},bc([K("beans")],r.prototype,"beans",void 0),bc([K("columnModel")],r.prototype,"columnModel",void 0),bc([K("dragAndDropService")],r.prototype,"dragAndDropService",void 0),bc([K("userComponentFactory")],r.prototype,"userComponentFactory",void 0),bc([K("gridApi")],r.prototype,"gridApi",void 0),bc([K("columnApi")],r.prototype,"columnApi",void 0),r}(Hu),wc=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),xc=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Sc=0,Ec=function(e){function r(t,r,n){var o=e.call(this)||this;return o.instanceId=Sc++,o.headerCellCtrls={},o.rowIndex=t,o.pinned=r,o.type=n,o}return wc(r,e),r.prototype.getInstanceId=function(){return this.instanceId},r.prototype.setComp=function(e){this.comp=e,this.onRowHeightChanged(),this.onVirtualColumnsChanged(),this.setWidth(),this.addEventListeners(),Bt()&&this.comp.setTransform("translateZ(0)"),e.setAriaRowIndex(this.rowIndex+1)},r.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,He.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addManagedListener(this.gridOptionsWrapper,ys.PROP_DOM_LAYOUT,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,He.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,He.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,ys.PROP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,ys.PROP_PIVOT_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,ys.PROP_GROUP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,ys.PROP_PIVOT_GROUP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,ys.PROP_FLOATING_FILTERS_HEIGHT,this.onRowHeightChanged.bind(this))},r.prototype.getHeaderCellCtrl=function(e){return p(this.headerCellCtrls).find((function(t){return t.getColumnGroupChild()===e}))},r.prototype.onDisplayedColumnsChanged=function(){this.onVirtualColumnsChanged(),this.setWidth()},r.prototype.getType=function(){return this.type},r.prototype.onColumnResized=function(){this.setWidth()},r.prototype.setWidth=function(){var e=this.getWidthForRow();this.comp.setWidth(e+"px")},r.prototype.getWidthForRow=function(){return this.gridOptionsWrapper.getDomLayout()===ne.DOM_LAYOUT_PRINT?null!=this.pinned?0:this.columnModel.getContainerWidth(ne.PINNED_RIGHT)+this.columnModel.getContainerWidth(ne.PINNED_LEFT)+this.columnModel.getContainerWidth(null):this.columnModel.getContainerWidth(this.pinned)},r.prototype.onRowHeightChanged=function(){var e,t,r=this.columnModel.getHeaderRowCount(),n=[],o=0;this.columnModel.hasFloatingFilters()&&(r++,o=1),this.columnModel.isPivotMode()?(e=this.gridOptionsWrapper.getPivotGroupHeaderHeight(),t=this.gridOptionsWrapper.getPivotHeaderHeight()):(e=this.gridOptionsWrapper.getGroupHeaderHeight(),t=this.gridOptionsWrapper.getHeaderHeight());for(var i=r-(1+o),a=0;a<i;a++)n.push(e);n.push(t);for(a=0;a<o;a++)n.push(this.gridOptionsWrapper.getFloatingFiltersHeight());var s=0;for(a=0;a<this.rowIndex;a++)s+=n[a];this.comp.setTop(s+"px"),this.comp.setHeight(n[this.rowIndex]+"px")},r.prototype.getPinned=function(){return this.pinned},r.prototype.getRowIndex=function(){return this.rowIndex},r.prototype.onVirtualColumnsChanged=function(){var e=this,r=this.headerCellCtrls;this.headerCellCtrls={},this.getColumnsInViewport().forEach((function(n){if(!n.isEmptyGroup()){var o=n.getUniqueId(),i=r[o];if(delete r[o],i&&i.getColumnGroupChild()!=n&&(e.destroyBean(i),i=void 0),null==i)switch(e.type){case t.HeaderRowType.FLOATING_FILTER:i=e.createBean(new ec(n,e));break;case t.HeaderRowType.COLUMN_GROUP:i=e.createBean(new Cc(n,e));break;default:i=e.createBean(new pc(n,e))}e.headerCellCtrls[o]=i}}));f(r,(function(t,r){var n;(n=r,!!e.focusService.isHeaderWrapperFocused(n)&&e.columnModel.isDisplayed(n.getColumnGroupChild()))?e.headerCellCtrls[t]=r:e.destroyBean(r)}));var n=w(this.headerCellCtrls);this.comp.setHeaderCtrls(n)},r.prototype.destroyCtrls=function(){var e=this;f(this.headerCellCtrls,(function(t,r){e.destroyBean(r)})),this.headerCellCtrls={}},r.prototype.getColumnsInViewport=function(){return this.gridOptionsWrapper.getDomLayout()===ne.DOM_LAYOUT_PRINT?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()},r.prototype.getColumnsInViewportPrintLayout=function(){var e=this;if(null!=this.pinned)return[];var t=[],r=this.getActualDepth();return[ne.PINNED_LEFT,null,ne.PINNED_RIGHT].forEach((function(n){var o=e.columnModel.getVirtualHeaderGroupRow(n,r);t=t.concat(o)})),t},r.prototype.getActualDepth=function(){return this.type==t.HeaderRowType.FLOATING_FILTER?this.rowIndex-1:this.rowIndex},r.prototype.getColumnsInViewportNormalLayout=function(){return this.columnModel.getVirtualHeaderGroupRow(this.pinned,this.getActualDepth())},r.prototype.focusHeader=function(e,t){var r=w(this.headerCellCtrls).find((function(t){return t.getColumnGroupChild()==e}));return!!r&&(r.focus(t),!0)},xc([K("columnModel")],r.prototype,"columnModel",void 0),xc([K("focusService")],r.prototype,"focusService",void 0),xc([Y],r.prototype,"destroyCtrls",null),r}(Le),Oc=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),_c=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Pc=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},Rc=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Pc(arguments[t]));return e},Ac=function(e){function r(t){var r=e.call(this)||this;return r.groupsRowCtrls=[],r.pinned=t,r}return Oc(r,e),r.prototype.setComp=function(e,t){this.comp=e,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(t),this.addManagedListener(this.eventService,He.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.ctrlsService.registerHeaderContainer(this,this.pinned),this.columnModel.isReady()&&this.refresh()},r.prototype.setupDragAndDrop=function(e){var t=new Eu(this.pinned,e);this.createManagedBean(t)},r.prototype.refresh=function(e){var r=this;void 0===e&&(e=!1);var n=new jn,o=this.focusService.getFocusHeaderToUseAfterRefresh();!function(){var e=r.columnModel.getHeaderRowCount()-1;r.groupsRowCtrls=r.destroyBeans(r.groupsRowCtrls);for(var o=0;o<e;o++){var i=r.createBean(new Ec(n.next(),r.pinned,t.HeaderRowType.COLUMN_GROUP));r.groupsRowCtrls.push(i)}}(),function(){var o=n.next();(null==r.columnsRowCtrl||!e||r.columnsRowCtrl.getRowIndex()!==o)&&(r.destroyBean(r.columnsRowCtrl),r.columnsRowCtrl=r.createBean(new Ec(o,r.pinned,t.HeaderRowType.COLUMN)))}(),function(){var o=function(){r.filtersRowCtrl=r.destroyBean(r.filtersRowCtrl)};if(r.columnModel.hasFloatingFilters()){var i=n.next();if(r.filtersRowCtrl){var a=r.filtersRowCtrl.getRowIndex()!==i;e&&!a||o()}r.filtersRowCtrl||(r.filtersRowCtrl=r.createBean(new Ec(i,r.pinned,t.HeaderRowType.FLOATING_FILTER)))}else o()}();var i=this.getAllCtrls();this.comp.setCtrls(i),this.restoreFocusOnHeader(o)},r.prototype.restoreFocusOnHeader=function(e){null!=e&&e.column.getPinned()==this.pinned&&this.focusService.focusHeaderPosition({headerPosition:e})},r.prototype.getAllCtrls=function(){var e=Rc(this.groupsRowCtrls,[this.columnsRowCtrl]);return this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e},r.prototype.onGridColumnsChanged=function(){this.refresh(!0)},r.prototype.setupCenterWidth=function(){var e=this;null==this.pinned&&this.createManagedBean(new Ll((function(t){return e.comp.setCenterWidth(t+"px")})))},r.prototype.setHorizontalScroll=function(e){this.comp.setContainerTransform("translateX("+e+"px)")},r.prototype.setupPinnedWidth=function(){var e=this;if(null!=this.pinned){var t=this.pinned===ne.PINNED_LEFT,r=this.pinned===ne.PINNED_RIGHT,n=function(){var n=t?e.pinnedWidthService.getPinnedLeftWidth():e.pinnedWidthService.getPinnedRightWidth();if(null!=n){var o=0==n,i=e.gridOptionsWrapper.isEnableRtl(),a=e.gridOptionsWrapper.getScrollbarWidth(),s=e.scrollVisibleService.isVerticalScrollShowing()&&(i&&t||!i&&r)?n+a:n;e.comp.setPinnedContainerWidth(s+"px"),e.comp.addOrRemoveCssClass("ag-hidden",o)}};this.addManagedListener(this.eventService,He.EVENT_LEFT_PINNED_WIDTH_CHANGED,n),this.addManagedListener(this.eventService,He.EVENT_RIGHT_PINNED_WIDTH_CHANGED,n),this.addManagedListener(this.eventService,He.EVENT_SCROLL_VISIBILITY_CHANGED,n),this.addManagedListener(this.eventService,He.EVENT_SCROLLBAR_WIDTH_CHANGED,n)}},r.prototype.getHeaderCtrlForColumn=function(e){if(e instanceof se){if(!this.columnsRowCtrl)return;return this.columnsRowCtrl.getHeaderCellCtrl(e)}if(0!==this.groupsRowCtrls.length)for(var t=0;t<this.groupsRowCtrls.length;t++){var r=this.groupsRowCtrls[t].getHeaderCellCtrl(e);if(r)return r}},r.prototype.getHtmlElementForColumnHeader=function(e){var t=this.getHeaderCtrlForColumn(e);return t?t.getGui():null},r.prototype.getRowType=function(e){var t=this.getAllCtrls()[e];return t?t.getType():void 0},r.prototype.focusHeader=function(e,t,r){var n=this.getAllCtrls()[e];return!!n&&n.focusHeader(t,r)},r.prototype.getRowCount=function(){return this.getAllCtrls().length},_c([K("ctrlsService")],r.prototype,"ctrlsService",void 0),_c([K("scrollVisibleService")],r.prototype,"scrollVisibleService",void 0),_c([K("pinnedWidthService")],r.prototype,"pinnedWidthService",void 0),_c([K("columnModel")],r.prototype,"columnModel",void 0),_c([K("focusService")],r.prototype,"focusService",void 0),r}(Le),Tc=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Dc=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Mc=function(e){function t(t){var r=e.call(this)||this;return r.headerRowComps={},r.rowCompsList=[],r.pinned=t,r}return Tc(t,e),t.prototype.init=function(){var e=this;this.selectAndSetTemplate();var t={addOrRemoveCssClass:function(t,r){return e.addOrRemoveCssClass(t,r)},setCtrls:function(t){return e.setCtrls(t)},setCenterWidth:function(t){return e.eCenterContainer.style.width=t},setContainerTransform:function(t){return e.eCenterContainer.style.transform=t},setPinnedContainerWidth:function(t){var r=e.getGui();r.style.width=t,r.style.maxWidth=t,r.style.minWidth=t}};this.createManagedBean(new Ac(this.pinned)).setComp(t,this.getGui())},t.prototype.selectAndSetTemplate=function(){var e=this.pinned==ne.PINNED_LEFT,r=this.pinned==ne.PINNED_RIGHT,n=e?t.PINNED_LEFT_TEMPLATE:r?t.PINNED_RIGHT_TEMPLATE:t.CENTER_TEMPLATE;this.setTemplate(n),this.eRowContainer=this.eCenterContainer?this.eCenterContainer:this.getGui()},t.prototype.destroyRowComps=function(){this.setCtrls([])},t.prototype.destroyRowComp=function(e){this.destroyBean(e),this.eRowContainer.removeChild(e.getGui())},t.prototype.setCtrls=function(e){var t,r=this,n=this.headerRowComps;this.headerRowComps={},this.rowCompsList=[];e.forEach((function(e){var o=e.getInstanceId(),i=n[o];delete n[o];var a=i||r.createBean(new Fu(e));r.headerRowComps[o]=a,r.rowCompsList.push(a),function(e){var n=e.getGui();n.parentElement!=r.eRowContainer&&r.eRowContainer.appendChild(n),t&&vr(r.eRowContainer,n,t),t=n}(a)})),w(n).forEach((function(e){return r.destroyRowComp(e)}))},t.PINNED_LEFT_TEMPLATE='<div class="ag-pinned-left-header" role="presentation"/>',t.PINNED_RIGHT_TEMPLATE='<div class="ag-pinned-right-header" role="presentation"/>',t.CENTER_TEMPLATE='<div class="ag-header-viewport" role="presentation">\n            <div class="ag-header-container" ref="eCenterContainer" role="rowgroup"></div>\n        </div>',Dc([to("eCenterContainer")],t.prototype,"eCenterContainer",void 0),Dc([U],t.prototype,"init",null),Dc([Y],t.prototype,"destroyRowComps",null),t}(eo),kc=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Nc=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a};(zu=t.HeaderNavigationDirection||(t.HeaderNavigationDirection={}))[zu.UP=0]="UP",zu[zu.DOWN=1]="DOWN",zu[zu.LEFT=2]="LEFT",zu[zu.RIGHT=3]="RIGHT";var Ic=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return kc(r,e),r.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady((function(t){e.gridBodyCon=t.gridBodyCtrl}))},r.prototype.getHeaderRowCount=function(){var e=this.ctrlsService.getHeaderRowContainerCtrl();return e?e.getRowCount():0},r.prototype.getHeaderRowType=function(e){var t=this.ctrlsService.getHeaderRowContainerCtrl();if(t)return t.getRowType(e)},r.prototype.navigateVertically=function(e,r,n){if(r||(r=this.focusService.getFocusedHeader()),!r)return!1;var o=r.headerRowIndex,i=r.column,a=this.getHeaderRowCount(),s=e===t.HeaderNavigationDirection.UP,l=s?o-1:o+1,u=null,c=!1;l<0&&(l=0,u=i,c=!0),l>=a&&(l=-1);var p=this.getHeaderRowType(o);if(!c){if(p===t.HeaderRowType.COLUMN_GROUP){var d=i;u=s?i.getParent():d.getDisplayedChildren()[0]}else if(p===t.HeaderRowType.FLOATING_FILTER)u=i;else{d=i;u=s?d.getParent():d}if(!u)return!1}return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:l,column:u},allowUserOverride:!0,event:n})},r.prototype.navigateHorizontally=function(e,r,n){void 0===r&&(r=!1);var o,i,a=this.focusService.getFocusedHeader();return e===t.HeaderNavigationDirection.LEFT!==this.gridOptionsWrapper.isEnableRtl()?(i="Before",o=this.headerPositionUtils.findHeader(a,i)):(i="After",o=this.headerPositionUtils.findHeader(a,i)),o?this.focusService.focusHeaderPosition({headerPosition:o,direction:i,fromTab:r,allowUserOverride:!0,event:n}):!r||this.focusNextHeaderRow(a,i,n)},r.prototype.focusNextHeaderRow=function(e,t,r){var n,o=e.headerRowIndex,i=null;return"Before"===t?o>0&&(n=o-1,i=this.headerPositionUtils.findColAtEdgeForHeaderRow(n,"end")):(n=o+1,i=this.headerPositionUtils.findColAtEdgeForHeaderRow(n,"start")),this.focusService.focusHeaderPosition({headerPosition:i,direction:t,fromTab:!0,allowUserOverride:!0,event:r})},r.prototype.scrollToColumn=function(e,t){if(void 0===t&&(t="After"),!e.getPinned()){var r;if(e instanceof Ce){var n=e.getDisplayedLeafColumns();r="Before"===t?ue(n):n[0]}else r=e;this.gridBodyCon.getScrollFeature().ensureColumnVisible(r),this.gridBodyCon.getScrollFeature().horizontallyScrollHeaderCenterAndFloatingCenter(),this.animationFrameService.flushAllFrames()}},Nc([K("focusService")],r.prototype,"focusService",void 0),Nc([K("headerPositionUtils")],r.prototype,"headerPositionUtils",void 0),Nc([K("animationFrameService")],r.prototype,"animationFrameService",void 0),Nc([K("ctrlsService")],r.prototype,"ctrlsService",void 0),Nc([U],r.prototype,"postConstruct",null),r=Nc([X("headerNavigationService")],r)}(Le),Lc=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Fc=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Gc=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return Lc(r,e),r.prototype.setComp=function(e,t,r){this.comp=e,this.eGui=t,this.createManagedBean(new yo(r,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.eventService,He.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this)),this.onPivotModeChanged(),this.setupHeaderHeight(),this.ctrlsService.registerGridHeaderCtrl(this)},r.prototype.setupHeaderHeight=function(){var e=this.setHeaderHeight.bind(this);e(),this.addManagedListener(this.gridOptionsWrapper,ys.PROP_HEADER_HEIGHT,e),this.addManagedListener(this.gridOptionsWrapper,ys.PROP_PIVOT_HEADER_HEIGHT,e),this.addManagedListener(this.gridOptionsWrapper,ys.PROP_GROUP_HEADER_HEIGHT,e),this.addManagedListener(this.gridOptionsWrapper,ys.PROP_PIVOT_GROUP_HEADER_HEIGHT,e),this.addManagedListener(this.gridOptionsWrapper,ys.PROP_FLOATING_FILTERS_HEIGHT,e),this.addManagedListener(this.eventService,He.EVENT_DISPLAYED_COLUMNS_CHANGED,e)},r.prototype.setHeaderHeight=function(){var e,t,r,n=this.columnModel,o=this.gridOptionsWrapper,i=0,a=n.getHeaderRowCount();n.hasFloatingFilters()&&(a++,i=1),n.isPivotMode()?(t=o.getPivotGroupHeaderHeight(),r=o.getPivotHeaderHeight()):(t=o.getGroupHeaderHeight(),r=o.getHeaderHeight());var s=a-(1+i);e=i*o.getFloatingFiltersHeight(),e+=s*t;var l=(e+=r)+1+"px";this.comp.setHeightAndMinHeight(l)},r.prototype.onPivotModeChanged=function(){var e=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",e),this.comp.addOrRemoveCssClass("ag-pivot-off",!e)},r.prototype.onTabKeyDown=function(e){var r=this.gridOptionsWrapper.isEnableRtl(),n=e.shiftKey!==r?t.HeaderNavigationDirection.LEFT:t.HeaderNavigationDirection.RIGHT;(this.headerNavigationService.navigateHorizontally(n,!0,e)||this.focusService.focusNextGridCoreContainer(e.shiftKey))&&e.preventDefault()},r.prototype.handleKeyDown=function(e){var r=null;switch(e.key){case po.LEFT:r=t.HeaderNavigationDirection.LEFT;case po.RIGHT:o(r)||(r=t.HeaderNavigationDirection.RIGHT),this.headerNavigationService.navigateHorizontally(r,!1,e);break;case po.UP:r=t.HeaderNavigationDirection.UP;case po.DOWN:o(r)||(r=t.HeaderNavigationDirection.DOWN),this.headerNavigationService.navigateVertically(r,null,e)&&e.preventDefault();break;default:return}},r.prototype.onFocusOut=function(e){var t=this.gridOptionsWrapper.getDocument(),r=e.relatedTarget;!r&&this.eGui.contains(t.activeElement)||this.eGui.contains(r)||this.focusService.clearFocusedHeader()},Fc([K("headerNavigationService")],r.prototype,"headerNavigationService",void 0),Fc([K("focusService")],r.prototype,"focusService",void 0),Fc([K("columnModel")],r.prototype,"columnModel",void 0),Fc([K("ctrlsService")],r.prototype,"ctrlsService",void 0),r}(Le),Bc=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Wc=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Hc=function(e){function t(){return e.call(this,t.TEMPLATE)||this}return Bc(t,e),t.prototype.postConstruct=function(){var e=this,t={addOrRemoveCssClass:function(t,r){return e.addOrRemoveCssClass(t,r)},setHeightAndMinHeight:function(t){e.getGui().style.height=t,e.getGui().style.minHeight=t}};this.createManagedBean(new Gc).setComp(t,this.getGui(),this.getFocusableElement());var r=function(t){e.createManagedBean(t),e.appendChild(t)};r(new Mc(ne.PINNED_LEFT)),r(new Mc(null)),r(new Mc(ne.PINNED_RIGHT))},t.TEMPLATE='<div class="ag-header" role="presentation"/>',Wc([U],t.prototype,"postConstruct",null),t}(eo),jc=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Vc=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},zc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return jc(t,e),t.prototype.addResizeBar=function(e){var t=this,r={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e)};this.dragService.addDragSource(r,!0);return function(){return t.dragService.removeDragSource(r)}},t.prototype.onDragStart=function(e,t){this.dragStartX=t.clientX,this.setResizeIcons();var r=t instanceof MouseEvent&&!0===t.shiftKey;e.onResizeStart(r)},t.prototype.setResizeIcons=function(){var e=this.ctrlsService.getGridCtrl();e.setResizeCursor(!0),e.disableUserSelect(!0)},t.prototype.onDragStop=function(e,t){e.onResizeEnd(this.resizeAmount),this.resetIcons()},t.prototype.resetIcons=function(){var e=this.ctrlsService.getGridCtrl();e.setResizeCursor(!1),e.disableUserSelect(!1)},t.prototype.onDragging=function(e,t){this.resizeAmount=t.clientX-this.dragStartX,e.onResizing(this.resizeAmount)},Vc([K("dragService")],t.prototype,"dragService",void 0),Vc([K("ctrlsService")],t.prototype,"ctrlsService",void 0),t=Vc([X("horizontalResizeService")],t)}(Le),Uc=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Yc=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Xc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Uc(t,e),t.prototype.hideActiveMenu=function(){this.hidePopup&&this.hidePopup()},t.prototype.showMenuAfterMouseEvent=function(e,t){var r=this;this.showPopup(e,(function(n){r.popupService.positionPopupUnderMouseEvent({column:e,type:"columnMenu",mouseEvent:t,ePopup:n})}),t.target)},t.prototype.showMenuAfterButtonClick=function(e,t,r){var n=this;this.showPopup(e,(function(o){n.popupService.positionPopupUnderComponent({type:r,eventSource:t,ePopup:o,keepWithinBounds:!0,column:e})}),t)},t.prototype.showPopup=function(e,t,r){var n=this,o=this.filterManager.getOrCreateFilterWrapper(e,"COLUMN_MENU");if(!o)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");var i,a=document.createElement("div");Br(a,"presentation"),a.classList.add("ag-menu"),this.tabListener=this.addManagedListener(a,"keydown",(function(e){return n.trapFocusWithin(e,a)})),o.guiPromise.then((function(e){return a.appendChild(e)}));var s=r||this.ctrlsService.getGridBodyCtrl().getGui(),l=this.gridOptionsWrapper.getLocaleTextFunc(),u=this.popupService.addPopup({modal:!0,eChild:a,closeOnEsc:!0,closedCallback:function(t){e.setMenuVisible(!1,"contextMenu");var o=t instanceof KeyboardEvent;if(n.tabListener&&(n.tabListener=n.tabListener()),o&&r&&hr(r)){var i=n.focusService.findTabbableParent(r);i&&i.focus()}},positionCallback:function(){return t(a)},anchorToElement:s,ariaLabel:l("ariaLabelColumnMenu","Column Menu")});u&&(this.hidePopup=i=u.hideFunc),o.filterPromise.then((function(e){t(a),e.afterGuiAttached&&e.afterGuiAttached({container:"columnMenu",hidePopup:i})})),e.setMenuVisible(!0,"contextMenu")},t.prototype.trapFocusWithin=function(e,t){e.key!==po.TAB||e.defaultPrevented||this.focusService.findNextFocusableElement(t,!1,e.shiftKey)||(e.preventDefault(),this.focusService.focusInto(t,e.shiftKey))},t.prototype.isMenuEnabled=function(e){return e.isFilterAllowed()},Yc([K("filterManager")],t.prototype,"filterManager",void 0),Yc([K("popupService")],t.prototype,"popupService",void 0),Yc([K("focusService")],t.prototype,"focusService",void 0),Yc([K("ctrlsService")],t.prototype,"ctrlsService",void 0),t=Yc([X("menuFactory")],t)}(Le),Kc=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),qc=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},$c=function(e){function t(r){var n=e.call(this,t.getTemplate(r.cssClass))||this;return n.items=[],n.tabbedItemScrollMap=new Map,n.params=r,r.items&&r.items.forEach((function(e){return n.addItem(e)})),n}return Kc(t,e),t.prototype.postConstruct=function(){this.createManagedBean(new yo(this.getFocusableElement(),{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this)}))},t.getTemplate=function(e){return'<div class="ag-tabs '+e+'">\n            <div ref="eHeader" role="tablist" class="ag-tabs-header '+(e?e+"-header":"")+'"></div>\n            <div ref="eBody" role="presentation" class="ag-tabs-body '+(e?e+"-body":"")+'"></div>\n        </div>'},t.prototype.handleKeyDown=function(e){var t=this.gridOptionsWrapper.getDocument();switch(e.key){case po.RIGHT:case po.LEFT:if(!this.eHeader.contains(t.activeElement))return;var r=this.items.indexOf(this.activeItem),n=e.key===po.RIGHT?Math.min(r+1,this.items.length-1):Math.max(r-1,0);if(r===n)return;e.preventDefault();var o=this.items[n];this.showItemWrapper(o),o.eHeaderButton.focus();break;case po.UP:case po.DOWN:e.stopPropagation()}},t.prototype.onTabKeyDown=function(e){if(!e.defaultPrevented){var t=this,r=t.focusService,n=t.eHeader,o=t.eBody,i=t.activeItem,a=this.gridOptionsWrapper.getDocument().activeElement;if(e.preventDefault(),n.contains(a))r.focusInto(o,e.shiftKey);else if(r.isFocusUnderManagedComponent(o))i.eHeaderButton.focus();else{var s=r.findNextFocusableElement(o,!1,e.shiftKey);s?s.focus():i.eHeaderButton.focus()}}},t.prototype.setAfterAttachedParams=function(e){this.afterAttachedParams=e},t.prototype.showFirstItem=function(){this.items.length>0&&this.showItemWrapper(this.items[0])},t.prototype.addItem=function(e){var t=document.createElement("span");Br(t,"tab"),t.setAttribute("tabIndex","-1"),t.appendChild(e.title),t.classList.add("ag-tab"),this.eHeader.appendChild(t),Vr(t,e.titleLabel);var r={tabbedItem:e,eHeaderButton:t};this.items.push(r),t.addEventListener("click",this.showItemWrapper.bind(this,r))},t.prototype.showItem=function(e){var t=this.items.find((function(t){return t.tabbedItem===e}));t&&this.showItemWrapper(t)},t.prototype.showItemWrapper=function(e){var t=this,r=e.tabbedItem,n=e.eHeaderButton;this.params.onItemClicked&&this.params.onItemClicked({item:r}),this.activeItem!==e?(this.lastScrollListener&&(this.lastScrollListener=this.lastScrollListener()),pr(this.eBody),r.bodyPromise.then((function(e){t.eBody.appendChild(e);var n=!t.focusService.isKeyboardMode();if(t.focusService.focusInto(t.eBody,!1,n),r.afterAttachedCallback&&r.afterAttachedCallback(t.afterAttachedParams),t.params.keepScrollPosition){var o=r.getScrollableContainer&&r.getScrollableContainer()||e;t.lastScrollListener=t.addManagedListener(o,"scroll",(function(){t.tabbedItemScrollMap.set(r.name,o.scrollTop)}));var i=t.tabbedItemScrollMap.get(r.name);void 0!==i&&setTimeout((function(){o.scrollTop=i}),0)}})),this.activeItem&&this.activeItem.eHeaderButton.classList.remove("ag-tab-selected"),n.classList.add("ag-tab-selected"),this.activeItem=e):H(this.params.onActiveItemClicked)},qc([K("focusService")],t.prototype,"focusService",void 0),qc([to("eHeader")],t.prototype,"eHeader",void 0),qc([to("eBody")],t.prototype,"eBody",void 0),qc([U],t.prototype,"postConstruct",null),t}(eo);var Zc,Qc=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Jc=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},ep=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.polyfillFunctions=[],t}return Qc(t,e),t.prototype.observeResize=function(e,t){var r=this,n=this.gridOptionsWrapper.getDocument().defaultView||window,o=G(t,50),i=this.gridOptionsWrapper.isSuppressBrowserResizeObserver();return!!n.ResizeObserver&&!i?function(){var t=new n.ResizeObserver(o);return t.observe(e),function(){return t.disconnect()}}():function(){var n=yr(e),o=gr(e),i=!0;return function a(){if(i){var s=yr(e),l=gr(e);(s!==n||l!==o)&&(n=s,o=l,t()),r.doNextPolyfillTurn(a)}}(),function(){return i=!1}}()},t.prototype.doNextPolyfillTurn=function(e){this.polyfillFunctions.push(e),this.schedulePolyfill()},t.prototype.schedulePolyfill=function(){var e=this;if(!this.polyfillScheduled){this.polyfillScheduled=!0,this.getFrameworkOverrides().setTimeout((function(){var t=e.polyfillFunctions;e.polyfillScheduled=!1,e.polyfillFunctions=[],t.forEach((function(e){return e()}))}),50)}},t=Jc([X("resizeObserverService")],t)}(Le),tp=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),rp=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},np=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.createTasksP1={list:[],sorted:!1},t.createTasksP2={list:[],sorted:!1},t.destroyTasks=[],t.ticking=!1,t.scrollGoingDown=!0,t.lastScrollTop=0,t.taskCount=0,t.cancelledTasks=new Set,t}return tp(t,e),t.prototype.setScrollTop=function(e){this.scrollGoingDown=e>this.lastScrollTop,this.lastScrollTop=e},t.prototype.init=function(){this.useAnimationFrame=!this.gridOptionsWrapper.isSuppressAnimationFrame()},t.prototype.isOn=function(){return this.useAnimationFrame},t.prototype.verifyAnimationFrameOn=function(e){!1===this.useAnimationFrame&&console.warn("AG Grid: AnimationFrameService."+e+" called but animation frames are off")},t.prototype.createTask=function(e,t,r){this.verifyAnimationFrameOn(r);var n={task:e,index:t,createOrder:++this.taskCount};this.addTaskToList(this[r],n),this.schedule()},t.prototype.cancelTask=function(e){this.cancelledTasks.add(e)},t.prototype.addTaskToList=function(e,t){e.list.push(t),e.sorted=!1},t.prototype.sortTaskList=function(e){if(!e.sorted){var t=this.scrollGoingDown?1:-1;e.list.sort((function(e,r){return e.index!==r.index?t*(r.index-e.index):r.createOrder-e.createOrder})),e.sorted=!0}},t.prototype.addDestroyTask=function(e){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(e),this.schedule()},t.prototype.executeFrame=function(e){this.verifyAnimationFrameOn("executeFrame");for(var t=this.createTasksP1,r=t.list,n=this.createTasksP2,o=n.list,i=this.destroyTasks,a=(new Date).getTime(),s=(new Date).getTime()-a,l=e<=0,u=this.ctrlsService.getGridBodyCtrl();l||s<e;){if(!u.getScrollFeature().executeAnimationFrameScroll()){var c=void 0;if(r.length)this.sortTaskList(t),c=r.pop().task;else if(o.length)this.sortTaskList(n),c=o.pop().task;else{if(!i.length){this.cancelledTasks.clear();break}c=i.pop()}this.cancelledTasks.has(c)||c()}s=(new Date).getTime()-a}r.length||o.length||i.length?this.requestFrame():this.stopTicking()},t.prototype.stopTicking=function(){this.ticking=!1},t.prototype.flushAllFrames=function(){this.useAnimationFrame&&this.executeFrame(-1)},t.prototype.schedule=function(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))},t.prototype.requestFrame=function(){var e=this.executeFrame.bind(this,60),t=this.gridOptionsWrapper.getDocument().defaultView||window;t.requestAnimationFrame?t.requestAnimationFrame(e):t.webkitRequestAnimationFrame?t.webkitRequestAnimationFrame(e):t.setTimeout(e,0)},t.prototype.isQueueEmpty=function(){return!this.ticking},t.prototype.debounce=function(e){var t=this,r=!1;return function(){t.isOn()?r||(r=!0,t.addDestroyTask((function(){r=!1,e()}))):t.getFrameworkOverrides().setTimeout(e,0)}},rp([K("ctrlsService")],t.prototype,"ctrlsService",void 0),rp([U],t.prototype,"init",null),t=rp([X("animationFrameService")],t)}(Le),op=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ip=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},ap=function(e){function t(t,r){var n=e.call(this)||this;return n.element=t,n.dragStartPosition={x:0,y:0},n.position={x:0,y:0},n.lastSize={width:-1,height:-1},n.positioned=!1,n.resizersAdded=!1,n.resizeListeners=[],n.boundaryEl=null,n.isResizing=!1,n.isMoving=!1,n.resizable={},n.movable=!1,n.currentResizer=null,n.config=Object.assign({},{popup:!1},r),n}return op(t,e),t.prototype.center=function(){var e=this.offsetParent,t=e.clientHeight,r=e.clientWidth/2-this.getWidth()/2,n=t/2-this.getHeight()/2;this.offsetElement(r,n)},t.prototype.initialisePosition=function(){var e=this.config,t=e.centered,r=e.forcePopupParentAsOffsetParent,n=e.minWidth,o=e.width,i=e.minHeight,a=e.height,s=e.x,l=e.y;this.offsetParent||this.setOffsetParent();var u=0,c=0,p=!!this.element.offsetParent;if(p){var d=this.findBoundaryElement(),h=window.getComputedStyle(d);if(null!=h.minWidth){var f=d.offsetWidth-this.element.offsetWidth;c=parseInt(h.minWidth,10)-f}if(null!=h.minHeight){var g=d.offsetHeight-this.element.offsetHeight;u=parseInt(h.minHeight,10)-g}}if(this.minHeight=i||u,this.minWidth=n||c,o&&this.setWidth(o),a&&this.setHeight(a),o&&a||this.refreshSize(),t)this.center();else if(s||l)this.offsetElement(s,l);else if(p&&r&&this.boundaryEl){var y=parseFloat(this.boundaryEl.style.top),v=parseFloat(this.boundaryEl.style.left);this.offsetElement(isNaN(v)?0:v,isNaN(y)?0:y)}this.positioned=!!this.offsetParent},t.prototype.isPositioned=function(){return this.positioned},t.prototype.getPosition=function(){return this.position},t.prototype.setMovable=function(e,t){if(this.config.popup&&e!==this.movable){this.movable=e;var r=this.moveElementDragListener||{eElement:t,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragService.addDragSource(r),this.moveElementDragListener=r):(this.dragService.removeDragSource(r),this.moveElementDragListener=void 0)}},t.prototype.setResizable=function(e){var t=this;if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),"boolean"===typeof e){if(!1===e)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach((function(r){var n=!!e[r],o=t.getResizerElement(r),i={dragStartPixels:0,eElement:o,onDragStart:function(e){return t.onResizeStart(e,r)},onDragging:t.onResize.bind(t),onDragStop:function(e){return t.onResizeEnd(e,r)}};!!t.resizable[r]===n&&(t.isAlive()||n)||(n?(t.dragService.addDragSource(i),t.resizeListeners.push(i),o.style.pointerEvents="all"):o.style.pointerEvents="none")}))},t.prototype.removeSizeFromEl=function(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")},t.prototype.restoreLastSize=function(){this.element.style.flex="0 0 auto";var e=this.lastSize,t=e.height,r=e.width;-1!==r&&(this.element.style.width=r+"px"),-1!==t&&(this.element.style.height=t+"px")},t.prototype.getHeight=function(){return this.element.offsetHeight},t.prototype.setHeight=function(e){var t=this.config.popup,r=this.element,n=!1;if("string"===typeof e&&-1!==e.indexOf("%"))Or(r,e),e=ar(r),n=!0;else if(this.positioned){var o=this.element.getBoundingClientRect(),i=this.offsetParent.getBoundingClientRect();e=Math.max(this.minHeight,e);var a=this.offsetParent.clientHeight,s=t?this.position.y:o.top,l=t?0:i.top;a&&e+s>a+l&&(e=a-s)}this.getHeight()!==e&&(n?(r.style.maxHeight="unset",r.style.minHeight="unset"):t?Or(r,e):(r.style.height=e+"px",r.style.flex="0 0 auto",this.lastSize.height="number"===typeof e?e:parseFloat(e)))},t.prototype.getWidth=function(){return this.element.offsetWidth},t.prototype.setWidth=function(e){var t=this.element,r=this.config.popup,n=!1;if("string"===typeof e&&-1!==e.indexOf("%"))Er(t,e),e=sr(t),n=!0;else if(this.positioned){e=Math.max(this.minWidth,e);var o=this.offsetParent.clientWidth,i=r?this.position.x:this.element.getBoundingClientRect().left;o&&e+i>o&&(e=o-i)}this.getWidth()!==e&&(n?(t.style.maxWidth="unset",t.style.minWidth="unset"):this.config.popup?Er(t,e):(t.style.width=e+"px",t.style.flex=" unset",this.lastSize.width="number"===typeof e?e:parseFloat(e)))},t.prototype.offsetElement=function(e,t){void 0===e&&(e=0),void 0===t&&(t=0);var r=this.config.forcePopupParentAsOffsetParent?this.boundaryEl:this.element;this.popupService.positionPopup({ePopup:r,x:e,y:t,keepWithinBounds:!0}),this.setPosition(parseFloat(r.style.left),parseFloat(r.style.top))},t.prototype.setPosition=function(e,t){this.position.x=e,this.position.y=t},t.prototype.updateDragStartPosition=function(e,t){this.dragStartPosition={x:e,y:t}},t.prototype.calculateMouseMovement=function(e){var t=e.e,r=e.isLeft,n=e.isTop,o=e.anywhereWithin,i=e.topBuffer,a=t.clientX-this.dragStartPosition.x,s=t.clientY-this.dragStartPosition.y;return{movementX:this.shouldSkipX(t,!!r,!!o,a)?0:a,movementY:this.shouldSkipY(t,!!n,i,s)?0:s}},t.prototype.shouldSkipX=function(e,t,r,n){var o=this.element.getBoundingClientRect(),i=this.offsetParent.getBoundingClientRect(),a=this.boundaryEl.getBoundingClientRect(),s=this.config.popup?this.position.x:o.left,l=s<=0&&i.left>=e.clientX||i.right<=e.clientX&&i.right<=a.right;return!!l||(l=t?n<0&&e.clientX>s+i.left||n>0&&e.clientX<s+i.left:r?n<0&&e.clientX>a.right||n>0&&e.clientX<s+i.left:n<0&&e.clientX>a.right||n>0&&e.clientX<a.right)},t.prototype.shouldSkipY=function(e,t,r,n){void 0===r&&(r=0);var o=this.element.getBoundingClientRect(),i=this.offsetParent.getBoundingClientRect(),a=this.boundaryEl.getBoundingClientRect(),s=this.config.popup?this.position.y:o.top,l=s<=0&&i.top>=e.clientY||i.bottom<=e.clientY&&i.bottom<=a.bottom;return!!l||(l=t?n<0&&e.clientY>s+i.top+r||n>0&&e.clientY<s+i.top:n<0&&e.clientY>a.bottom||n>0&&e.clientY<a.bottom)},t.prototype.createResizeMap=function(){var e=this.element;this.resizerMap={topLeft:{element:e.querySelector("[ref=eTopLeftResizer]")},top:{element:e.querySelector("[ref=eTopResizer]")},topRight:{element:e.querySelector("[ref=eTopRightResizer]")},right:{element:e.querySelector("[ref=eRightResizer]")},bottomRight:{element:e.querySelector("[ref=eBottomRightResizer]")},bottom:{element:e.querySelector("[ref=eBottomResizer]")},bottomLeft:{element:e.querySelector("[ref=eBottomLeftResizer]")},left:{element:e.querySelector("[ref=eLeftResizer]")}}},t.prototype.addResizers=function(){if(!this.resizersAdded){var e=this.element;if(e){var t=(new DOMParser).parseFromString('<div class="ag-resizer-wrapper">\n        <div ref="eTopLeftResizer" class="ag-resizer ag-resizer-topLeft"></div>\n        <div ref="eTopResizer" class="ag-resizer ag-resizer-top"></div>\n        <div ref="eTopRightResizer" class="ag-resizer ag-resizer-topRight"></div>\n        <div ref="eRightResizer" class="ag-resizer ag-resizer-right"></div>\n        <div ref="eBottomRightResizer" class="ag-resizer ag-resizer-bottomRight"></div>\n        <div ref="eBottomResizer" class="ag-resizer ag-resizer-bottom"></div>\n        <div ref="eBottomLeftResizer" class="ag-resizer ag-resizer-bottomLeft"></div>\n        <div ref="eLeftResizer" class="ag-resizer ag-resizer-left"></div>\n    </div>',"text/html").body;e.appendChild(t.firstChild),this.createResizeMap(),this.resizersAdded=!0}}},t.prototype.removeResizers=function(){this.resizerMap=void 0;var e=this.element.querySelector(".ag-resizer-wrapper");e&&this.element.removeChild(e),this.resizersAdded=!1},t.prototype.getResizerElement=function(e){return this.resizerMap[e].element},t.prototype.onResizeStart=function(e,t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!t.match(/top/i),isRight:!!t.match(/right/i),isBottom:!!t.match(/bottom/i),isLeft:!!t.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[t].element.classList.add("ag-active");var r=this.config,n=r.popup,o=r.forcePopupParentAsOffsetParent;n||o||this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)},t.prototype.getSiblings=function(){var e=this.element.parentElement;return e?Array.prototype.slice.call(e.children).filter((function(e){return!e.classList.contains("ag-hidden")})):null},t.prototype.getMinSizeOfSiblings=function(){for(var e=this.getSiblings()||[],t=0,r=0,n=0;n<e.length;n++){var o=e[n],i=!!o.style.flex&&"0 0 auto"!==o.style.flex;if(o!==this.element){var a=this.minHeight||0,s=this.minWidth||0;if(i){var l=window.getComputedStyle(o);l.minHeight&&(a=parseInt(l.minHeight,10)),l.minWidth&&(s=parseInt(l.minWidth,10))}else a=o.offsetHeight,s=o.offsetWidth;t+=a,r+=s}}return{height:t,width:r}},t.prototype.applySizeToSiblings=function(e){var t=null,r=this.getSiblings();if(r){for(var n=0;n<r.length;n++){var o=r[n];o!==t&&(e?o.style.height=o.offsetHeight+"px":o.style.width=o.offsetWidth+"px",o.style.flex="0 0 auto",o===this.element&&(t=r[n+1]))}t&&(t.style.removeProperty("height"),t.style.removeProperty("min-height"),t.style.removeProperty("max-height"),t.style.flex="1 1 auto")}},t.prototype.onResize=function(e){if(this.isResizing&&this.currentResizer){var t=this.config,r=t.popup,n=t.forcePopupParentAsOffsetParent,o=this.currentResizer,i=o.isTop,a=o.isRight,s=o.isBottom,l=o.isLeft,u=a||l,c=s||i,p=this.calculateMouseMovement({e:e,isLeft:l,isTop:i}),d=p.movementX,h=p.movementY,f=this.position.x,g=this.position.y,y=0,v=0;if(u&&d){var m=l?-1:1,b=this.getWidth(),C=b+d*m,w=!1;l&&(f+(y=b-C)<=0||C<=this.minWidth)&&(w=!0,y=0),w||this.setWidth(C)}if(c&&h){m=i?-1:1;var x=this.getHeight(),S=x+h*m,E=!1;i?(g+(v=x-S)<=0||S<=this.minHeight)&&(E=!0,v=0):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&x<S&&this.getMinSizeOfSiblings().height+S>this.element.parentElement.offsetHeight&&(E=!0),E||this.setHeight(S)}this.updateDragStartPosition(e.clientX,e.clientY),((r||n)&&y||v)&&this.offsetElement(f+y,g+v)}},t.prototype.onResizeEnd=function(e,t){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null;var r={type:"resize",api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()};this.element.classList.remove("ag-resizing"),this.resizerMap[t].element.classList.remove("ag-active"),this.dispatchEvent(r)},t.prototype.refreshSize=function(){var e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))},t.prototype.onMoveStart=function(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)},t.prototype.onMove=function(e){if(this.isMoving){var t,r=this.position,n=r.x,o=r.y;this.config.calculateTopBuffer&&(t=this.config.calculateTopBuffer());var i=this.calculateMouseMovement({e:e,isTop:!0,anywhereWithin:!0,topBuffer:t}),a=i.movementX,s=i.movementY;this.offsetElement(n+a,o+s),this.updateDragStartPosition(e.clientX,e.clientY)}},t.prototype.onMoveEnd=function(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")},t.prototype.setOffsetParent=function(){this.config.forcePopupParentAsOffsetParent?this.offsetParent=this.popupService.getPopupParent():this.offsetParent=this.element.offsetParent},t.prototype.findBoundaryElement=function(){for(var e=this.element;e;){if("static"!==window.getComputedStyle(e).position)return e;e=e.parentElement}return this.element},t.prototype.clearResizeListeners=function(){for(;this.resizeListeners.length;){var e=this.resizeListeners.pop();this.dragService.removeDragSource(e)}},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.clearResizeListeners(),this.removeResizers()},ip([K("popupService")],t.prototype,"popupService",void 0),ip([K("dragService")],t.prototype,"dragService",void 0),t}(Le),sp=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),lp=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},up=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return sp(t,e),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady((function(t){e.centerRowContainerCtrl=t.centerRowContainerCtrl}))},t.prototype.getPreferredWidthForColumn=function(e,t){var r=this.getHeaderCellForColumn(e);if(!r)return-1;var n=this.rowRenderer.getAllCellsForColumn(e);return t||n.push(r),this.addElementsToContainerAndGetWidth(n)},t.prototype.getPreferredWidthForColumnGroup=function(e){var t=this.getHeaderCellForColumn(e);return t?this.addElementsToContainerAndGetWidth([t]):-1},t.prototype.addElementsToContainerAndGetWidth=function(e){var t=this,r=document.createElement("span");r.style.position="fixed";var n=this.centerRowContainerCtrl.getContainerElement();n.appendChild(r),e.forEach((function(e){return t.cloneItemIntoDummy(e,r)}));var o=r.offsetWidth;return n.removeChild(r),o+this.gridOptionsWrapper.getAutoSizePadding()},t.prototype.getHeaderCellForColumn=function(e){var t=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach((function(r){var n=r.getHtmlElementForColumnHeader(e);null!=n&&(t=n)})),t},t.prototype.cloneItemIntoDummy=function(e,t){var r=e.cloneNode(!0);r.style.width="",r.style.position="static",r.style.left="";var n=document.createElement("div"),o=n.classList;["ag-header-cell","ag-header-group-cell"].some((function(e){return r.classList.contains(e)}))?(o.add("ag-header","ag-header-row"),n.style.position="static"):o.add("ag-row");for(var i=e.parentElement;i;){if(["ag-header-row","ag-row"].some((function(e){return i.classList.contains(e)}))){for(var a=0;a<i.classList.length;a++){var s=i.classList[a];"ag-row-position-absolute"!=s&&o.add(s)}break}i=i.parentElement}n.appendChild(r),t.appendChild(n)},lp([K("rowRenderer")],t.prototype,"rowRenderer",void 0),lp([K("ctrlsService")],t.prototype,"ctrlsService",void 0),lp([K("rowCssClassCalculator")],t.prototype,"rowCssClassCalculator",void 0),lp([U],t.prototype,"postConstruct",null),t=lp([X("autoWidthCalculator")],t)}(Le),cp=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),pp=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},dp=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},hp=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(dp(arguments[t]));return e},fp=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.destroyFuncsForColumnListeners=[],t.rowCtrlsByRowIndex={},t.zombieRowCtrls={},t.allRowCtrls=[],t.topRowCtrls=[],t.bottomRowCtrls=[],t.refreshInProgress=!1,t}return cp(t,e),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady((function(){e.gridBodyCtrl=e.ctrlsService.getGridBodyCtrl(),e.initialise()}))},t.prototype.initialise=function(){this.addManagedListener(this.eventService,He.EVENT_PAGINATION_CHANGED,this.onPageLoaded.bind(this)),this.addManagedListener(this.eventService,He.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,He.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,He.EVENT_BODY_SCROLL,this.redrawAfterScroll.bind(this)),this.addManagedListener(this.eventService,He.EVENT_BODY_HEIGHT_CHANGED,this.redrawAfterScroll.bind(this)),this.addManagedListener(this.gridOptionsWrapper,ys.PROP_DOM_LAYOUT,this.onDomLayoutChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,ys.PROP_ROW_CLASS,this.redrawRows.bind(this)),this.addManagedListener(this.eventService,He.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=this.gridOptionsWrapper.getDomLayout()===ne.DOM_LAYOUT_PRINT,this.embedFullWidthRows=this.printLayout||this.gridOptionsWrapper.isEmbedFullWidthRows(),this.redrawAfterModelUpdate()},t.prototype.initialiseCache=function(){if(this.gridOptionsWrapper.isKeepDetailRows()){var e=this.gridOptionsWrapper.getKeepDetailRowsCount(),t=null!=e?e:3;this.cachedRowCtrls=new gp(t)}},t.prototype.getRowCtrls=function(){return this.allRowCtrls},t.prototype.updateAllRowCtrls=function(){var e=w(this.rowCtrlsByRowIndex);this.gridOptionsWrapper.isEnsureDomOrder()&&e.sort((function(e,t){return e.getRowNode().rowIndex-t.getRowNode.rowIndex}));var t=w(this.zombieRowCtrls),r=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];this.allRowCtrls=hp(e,t,r)},t.prototype.registerCellEventListeners=function(){var e=this;this.addManagedListener(this.eventService,He.EVENT_CELL_FOCUSED,(function(t){e.getAllCellCtrls().forEach((function(e){return e.onCellFocused(t)})),e.getFullWidthRowCtrls().forEach((function(e){e.onFullWidthRowFocused(t)}))})),this.addManagedListener(this.eventService,He.EVENT_FLASH_CELLS,(function(t){e.getAllCellCtrls().forEach((function(e){return e.onFlashCells(t)}))})),this.addManagedListener(this.eventService,He.EVENT_COLUMN_HOVER_CHANGED,(function(){e.getAllCellCtrls().forEach((function(e){return e.onColumnHover()}))})),this.addManagedListener(this.eventService,He.EVENT_DISPLAYED_COLUMNS_CHANGED,(function(){e.getAllCellCtrls().forEach((function(e){return e.onDisplayedColumnsChanged()}))})),this.addManagedListener(this.eventService,He.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,(function(){e.printLayout&&e.getAllCellCtrls().forEach((function(e){return e.onLeftChanged()}))})),this.gridOptionsWrapper.isEnableRangeSelection()&&(this.addManagedListener(this.eventService,He.EVENT_RANGE_SELECTION_CHANGED,(function(){e.getAllCellCtrls().forEach((function(e){return e.onRangeSelectionChanged()}))})),this.addManagedListener(this.eventService,He.EVENT_COLUMN_MOVED,(function(){e.getAllCellCtrls().forEach((function(e){return e.updateRangeBordersIfRangeCount()}))})),this.addManagedListener(this.eventService,He.EVENT_COLUMN_PINNED,(function(){e.getAllCellCtrls().forEach((function(e){return e.updateRangeBordersIfRangeCount()}))})),this.addManagedListener(this.eventService,He.EVENT_COLUMN_VISIBLE,(function(){e.getAllCellCtrls().forEach((function(e){return e.updateRangeBordersIfRangeCount()}))}))),this.refreshListenersToColumnsForCellComps(),this.addManagedListener(this.eventService,He.EVENT_GRID_COLUMNS_CHANGED,this.refreshListenersToColumnsForCellComps.bind(this)),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))},t.prototype.removeGridColumnListeners=function(){this.destroyFuncsForColumnListeners.forEach((function(e){return e()})),this.destroyFuncsForColumnListeners.length=0},t.prototype.refreshListenersToColumnsForCellComps=function(){var e=this;this.removeGridColumnListeners();var t=this.columnModel.getAllGridColumns();t&&t.forEach((function(t){var r=function(r){e.getAllCellCtrls().forEach((function(e){e.getColumn()===t&&r(e)}))},n=function(){r((function(e){return e.onLeftChanged()}))},o=function(){r((function(e){return e.onWidthChanged()}))},i=function(){r((function(e){return e.onFirstRightPinnedChanged()}))},a=function(){r((function(e){return e.onLastLeftPinnedChanged()}))};t.addEventListener(se.EVENT_LEFT_CHANGED,n),t.addEventListener(se.EVENT_WIDTH_CHANGED,o),t.addEventListener(se.EVENT_FIRST_RIGHT_PINNED_CHANGED,i),t.addEventListener(se.EVENT_LAST_LEFT_PINNED_CHANGED,a),e.destroyFuncsForColumnListeners.push((function(){t.removeEventListener(se.EVENT_LEFT_CHANGED,n),t.removeEventListener(se.EVENT_WIDTH_CHANGED,o),t.removeEventListener(se.EVENT_FIRST_RIGHT_PINNED_CHANGED,i),t.removeEventListener(se.EVENT_LAST_LEFT_PINNED_CHANGED,a)}))}))},t.prototype.onDomLayoutChanged=function(){var e=this.gridOptionsWrapper.getDomLayout()===ne.DOM_LAYOUT_PRINT,t=e||this.gridOptionsWrapper.isEmbedFullWidthRows(),r=t!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=t,r&&this.redrawAfterModelUpdate()},t.prototype.datasourceChanged=function(){this.firstRenderedRow=0,this.lastRenderedRow=-1;var e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)},t.prototype.onPageLoaded=function(e){var t={recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0};this.redrawAfterModelUpdate(t)},t.prototype.getAllCellsForColumn=function(e){var t=[];return this.getAllRowCtrls().forEach((function(r){var n=r.getCellElement(e);n&&t.push(n)})),t},t.prototype.refreshFloatingRowComps=function(){this.refreshFloatingRows(this.topRowCtrls,this.pinnedRowModel.getPinnedTopRowData()),this.refreshFloatingRows(this.bottomRowCtrls,this.pinnedRowModel.getPinnedBottomRowData())},t.prototype.getTopRowCtrls=function(){return this.topRowCtrls},t.prototype.getBottomRowCtrls=function(){return this.bottomRowCtrls},t.prototype.refreshFloatingRows=function(e,t){var r=this;e.forEach((function(e){e.destroyFirstPass(),e.destroySecondPass()})),e.length=0,t&&t.forEach((function(t){var n=new fl(t,r.beans,!1,!1,r.printLayout);e.push(n)}))},t.prototype.onPinnedRowDataChanged=function(){this.redrawAfterModelUpdate({recycleRows:!0})},t.prototype.getRenderedIndexesForRowNodes=function(e){var t=[];return i(e)||f(this.rowCtrlsByRowIndex,(function(r,n){var o=n.getRowNode();e.indexOf(o)>=0&&t.push(r)})),t},t.prototype.redrawRows=function(e){var t=null!=e&&e.length>0;if(t){var r=this.getRenderedIndexesForRowNodes(e);this.removeRowCtrls(r)}this.redrawAfterModelUpdate({recycleRows:t})},t.prototype.getCellToRestoreFocusToAfterRefresh=function(e){var t=e.suppressKeepFocus?null:this.focusService.getFocusCellToUseAfterRefresh();if(null==t)return null;var r=this.gridOptionsWrapper.getDocument().activeElement,n=this.gridOptionsWrapper.getDomData(r,sl.DOM_DATA_KEY_CELL_CTRL),o=this.gridOptionsWrapper.getDomData(r,fl.DOM_DATA_KEY_ROW_CTRL);return n||o?t:null},t.prototype.redrawAfterModelUpdate=function(e){void 0===e&&(e={}),this.getLockOnRefresh();var t=this.getCellToRestoreFocusToAfterRefresh(e);this.updateContainerHeights(),this.scrollToTopIfNewData(e);var r=!this.printLayout&&!!e.recycleRows,n=e.animate&&this.gridOptionsWrapper.isAnimateRows(),o=r?this.recycleRows():null;r||this.removeAllRowComps();var i=function(){if(null==t||null==o)return!1;var e=!1;return f(o,(function(r,n){var o=n.getRowNode(),i=o.rowIndex==t.rowIndex,a=o.rowPinned==t.rowPinned;i&&a&&(e=!0)})),e}();this.redraw(o,n),e.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),i||this.restoreFocusedCell(t),this.releaseLockOnRefresh()},t.prototype.scrollToTopIfNewData=function(e){var t=e.newData||e.newPage,r=this.gridOptionsWrapper.isSuppressScrollOnNewData();t&&!r&&this.gridBodyCtrl.getScrollFeature().scrollToTop()},t.prototype.updateContainerHeights=function(){if(this.printLayout)this.rowContainerHeightService.setModelHeight(null);else{var e=this.paginationProxy.getCurrentPageHeight();0===e&&(e=1),this.rowContainerHeightService.setModelHeight(e)}},t.prototype.getLockOnRefresh=function(){if(this.refreshInProgress)throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0},t.prototype.releaseLockOnRefresh=function(){this.refreshInProgress=!1},t.prototype.isRefreshInProgress=function(){return this.refreshInProgress},t.prototype.restoreFocusedCell=function(e){e&&this.focusService.setFocusedCell(e.rowIndex,e.column,e.rowPinned,!0)},t.prototype.stopEditing=function(e){void 0===e&&(e=!1),this.getAllRowCtrls().forEach((function(t){t.stopEditing(e)}))},t.prototype.onNewColumnsLoaded=function(){this.getAllCellCtrls().forEach((function(e){return e.onNewColumnsLoaded()}))},t.prototype.getAllCellCtrls=function(){var e=[];return this.getAllRowCtrls().forEach((function(t){return e=e.concat(t.getAllCellCtrls())})),e},t.prototype.getAllRowCtrls=function(){var e=this,t=hp(this.topRowCtrls,this.bottomRowCtrls);return Object.keys(this.rowCtrlsByRowIndex).forEach((function(r){return t.push(e.rowCtrlsByRowIndex[r])})),t},t.prototype.addRenderedRowListener=function(e,t,r){var n=this.rowCtrlsByRowIndex[t];n&&n.addEventListener(e,r)},t.prototype.flashCells=function(e){void 0===e&&(e={});var t=e.flashDelay,r=e.fadeDelay;this.getCellCtrls(e.rowNodes,e.columns).forEach((function(e){return e.flashCell({flashDelay:t,fadeDelay:r})}))},t.prototype.refreshCells=function(e){void 0===e&&(e={});var t={forceRefresh:e.force,newData:!1,suppressFlash:e.suppressFlash};this.getCellCtrls(e.rowNodes,e.columns).forEach((function(e){if(e.refreshShouldDestroy()){var r=e.getRowCtrl();r&&r.refreshCell(e)}else e.refreshCell(t)})),this.getFullWidthRowCtrls(e.rowNodes).forEach((function(e){e.refreshFullWidth()}))},t.prototype.getCellRendererInstances=function(e){return this.getCellCtrls(e.rowNodes,e.columns).map((function(e){return e.getCellRenderer()})).filter((function(e){return null!=e}))},t.prototype.getCellEditorInstances=function(e){var t=[];return this.getCellCtrls(e.rowNodes,e.columns).forEach((function(e){var r=e.getCellEditor();r&&t.push(r)})),t},t.prototype.getEditingCells=function(){var e=[];return this.getAllCellCtrls().forEach((function(t){if(t.isEditing()){var r=t.getCellPosition();e.push(r)}})),e},t.prototype.mapRowNodes=function(e){if(e){var t={top:{},bottom:{},normal:{}};return e.forEach((function(e){var r=e.id;e.rowPinned===ne.PINNED_TOP?t.top[r]=e:e.rowPinned===ne.PINNED_BOTTOM?t.bottom[r]=e:t.normal[r]=e})),t}},t.prototype.isRowInMap=function(e,t){var r=e.id,n=e.rowPinned;return n===ne.PINNED_BOTTOM?null!=t.bottom[r]:n===ne.PINNED_TOP?null!=t.top[r]:null!=t.normal[r]},t.prototype.getCellCtrls=function(e,t){var r,n=this,i=this.mapRowNodes(e),a=[];o(t)&&(r={},t.forEach((function(e){var t=n.columnModel.getGridColumn(e);o(t)&&(r[t.getId()]=!0)})));var s=function(e){var t=e.getRowNode();(null==i||n.isRowInMap(t,i))&&e.getAllCellCtrls().forEach((function(e){var t=e.getColumn().getId();r&&!r[t]||a.push(e)}))};return f(this.rowCtrlsByRowIndex,(function(e,t){s(t)})),this.topRowCtrls&&this.topRowCtrls.forEach(s),this.bottomRowCtrls&&this.bottomRowCtrls.forEach(s),a},t.prototype.destroy=function(){this.removeAllRowComps(),e.prototype.destroy.call(this)},t.prototype.removeAllRowComps=function(){var e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)},t.prototype.recycleRows=function(){var e=[];f(this.rowCtrlsByRowIndex,(function(t,r){null==r.getRowNode().id&&e.push(t)})),this.removeRowCtrls(e);var t={};return f(this.rowCtrlsByRowIndex,(function(e,r){var n=r.getRowNode();t[n.id]=r})),this.rowCtrlsByRowIndex={},t},t.prototype.removeRowCtrls=function(e){var t=this;e.forEach((function(e){var r=t.rowCtrlsByRowIndex[e];r&&(r.destroyFirstPass(),r.destroySecondPass()),delete t.rowCtrlsByRowIndex[e]}))},t.prototype.redrawAfterScroll=function(){this.getLockOnRefresh(),this.redraw(null,!1,!0),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged()},t.prototype.removeRowCompsNotToDraw=function(e){var t={};e.forEach((function(e){return t[e]=!0}));var r=Object.keys(this.rowCtrlsByRowIndex).filter((function(e){return!t[e]}));this.removeRowCtrls(r)},t.prototype.calculateIndexesToDraw=function(e){var t=this,r=dn(this.firstRenderedRow,this.lastRenderedRow),n=function(e,n){var o=n.getRowNode().rowIndex;null!=o&&(o<t.firstRenderedRow||o>t.lastRenderedRow)&&t.doNotUnVirtualiseRow(n)&&r.push(o)};return f(this.rowCtrlsByRowIndex,n),f(e,n),r.sort((function(e,t){return e-t})),r},t.prototype.redraw=function(e,t,r){var n=this;void 0===t&&(t=!1),void 0===r&&(r=!1),this.rowContainerHeightService.updateOffset(),this.workOutFirstAndLastRowsToRender();var i=this.calculateIndexesToDraw(e);(this.removeRowCompsNotToDraw(i),this.printLayout&&(t=!1),i.forEach((function(i){o(n.createOrUpdateRowCtrl(i,e,t,r))})),e)&&(r&&!this.gridOptionsWrapper.isSuppressAnimationFrame()&&!this.printLayout?this.beans.animationFrameService.addDestroyTask((function(){n.destroyRowCtrls(e,t),n.updateAllRowCtrls(),n.dispatchDisplayedRowsChanged()})):this.destroyRowCtrls(e,t));this.updateAllRowCtrls(),this.gridBodyCtrl.updateRowCount()},t.prototype.dispatchDisplayedRowsChanged=function(){var e={type:He.EVENT_DISPLAYED_ROWS_CHANGED};this.eventService.dispatchEvent(e)},t.prototype.onDisplayedColumnsChanged=function(){var e=this.columnModel.isPinningLeft(),t=this.columnModel.isPinningRight();(this.pinningLeft!==e||t!==this.pinningRight)&&(this.pinningLeft=e,this.pinningRight=t,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())},t.prototype.redrawFullWidthEmbeddedRows=function(){var e=[];this.getFullWidthRowCtrls().forEach((function(t){var r=t.getRowNode().rowIndex;e.push(r.toString())})),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redrawAfterScroll()},t.prototype.getFullWidthRowCtrls=function(e){var t=this,r=this.mapRowNodes(e);return w(this.rowCtrlsByRowIndex).filter((function(e){if(!e.isFullWidth())return!1;var n=e.getRowNode();return!(null!=r&&!t.isRowInMap(n,r))}))},t.prototype.refreshFullWidthRows=function(e){var t=[],r=!!e,n=r?{}:void 0;r&&n&&e.forEach((function(e){return n[e.id]=!0})),this.getFullWidthRowCtrls().forEach((function(e){var o=e.getRowNode();if(r&&n){var i=o.level>0&&o.parent?o.parent.id:void 0;if(!n[o.id]&&!n[i])return}if(!e.refreshFullWidth()){var a=e.getRowNode().rowIndex;t.push(a.toString())}})),this.removeRowCtrls(t),this.redrawAfterScroll()},t.prototype.createOrUpdateRowCtrl=function(e,t,r,n){var i,a=this.rowCtrlsByRowIndex[e];if(a||o(i=this.paginationProxy.getRow(e))&&o(t)&&t[i.id]&&i.alreadyRendered&&(a=t[i.id],t[i.id]=null),!a){if(i||(i=this.paginationProxy.getRow(e)),!o(i))return;a=this.createRowCon(i,r,n)}return i&&(i.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=a,a},t.prototype.destroyRowCtrls=function(e,t){var r=this,n=[];f(e,(function(e,o){o&&(r.cachedRowCtrls&&o.isCacheable()?r.cachedRowCtrls.addRow(o):(o.destroyFirstPass(),t?(r.zombieRowCtrls[o.getInstanceId()]=o,n.push((function(){o.destroySecondPass(),delete r.zombieRowCtrls[o.getInstanceId()]}))):o.destroySecondPass()))})),t&&(n.push((function(){r.updateAllRowCtrls(),r.dispatchDisplayedRowsChanged()})),k(n))},t.prototype.workOutFirstAndLastRowsToRender=function(){var e,t,r=this;if(this.paginationProxy.isRowsToRender())if(this.printLayout)e=this.paginationProxy.getPageFirstRow(),t=this.paginationProxy.getPageLastRow();else{var n=this.gridOptionsWrapper.getRowBufferInPixels(),o=this.ctrlsService.getGridBodyCtrl(),i=this.gridOptionsWrapper.isSuppressRowVirtualisation(),a=!1,s=void 0,l=void 0;do{var u=this.paginationProxy.getPixelOffset(),c=this.paginationProxy.getCurrentPagePixelRange(),p=c.pageFirstPixel,d=c.pageLastPixel,h=this.rowContainerHeightService.getDivStretchOffset();if(i)s=p+h,l=d+h;else{var f=o.getScrollFeature().getVScrollPosition(),g=f.top,y=f.bottom;s=Math.max(g+u-n,p)+h,l=Math.min(y+u+n,d)+h}a=this.ensureAllRowsInRangeHaveHeightsCalculated(s,l)}while(a);var v=this.paginationProxy.getRowIndexAtPixel(s),m=this.paginationProxy.getRowIndexAtPixel(l),b=this.paginationProxy.getPageFirstRow(),C=this.paginationProxy.getPageLastRow();v<b&&(v=b),m>C&&(m=C),e=v,t=m}else e=0,t=-1;var w=this.gridOptionsWrapper.getDomLayout()===ne.DOM_LAYOUT_NORMAL,x=this.gridOptionsWrapper.isSuppressMaxRenderedRowRestriction(),S=Math.max(this.gridOptionsWrapper.getRowBuffer(),500);w&&!x&&t-e>S&&(t=e+S);var E=e!==this.firstRenderedRow,O=t!==this.lastRenderedRow;if(E||O){this.firstRenderedRow=e,this.lastRenderedRow=t;var _={type:He.EVENT_VIEWPORT_CHANGED,firstRow:e,lastRow:t,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(_)}if(this.paginationProxy.isRowsToRender()){var P={type:He.EVENT_FIRST_DATA_RENDERED,firstRow:e,lastRow:t,api:this.gridApi,columnApi:this.columnApi};window.setTimeout((function(){return r.eventService.dispatchEventOnce(P)}),50)}},t.prototype.ensureAllRowsInRangeHaveHeightsCalculated=function(e,t){var r=this.paginationProxy.ensureRowHeightsValid(e,t,-1,-1);return r&&this.updateContainerHeights(),r},t.prototype.getFirstVirtualRenderedRow=function(){return this.firstRenderedRow},t.prototype.getLastVirtualRenderedRow=function(){return this.lastRenderedRow},t.prototype.doNotUnVirtualiseRow=function(e){var t=e.getRowNode(),r=this.focusService.isRowNodeFocused(t),n=e.isEditing(),o=t.detail;return!!(r||n||o)&&!!this.paginationProxy.isRowPresent(t)},t.prototype.createRowCon=function(e,t,r){var n=this.cachedRowCtrls?this.cachedRowCtrls.getRow(e):null;if(n)return n;var o=this.gridOptionsWrapper.isSuppressAnimationFrame(),i=r&&!o&&!this.printLayout;return new fl(e,this.beans,t,i,this.printLayout)},t.prototype.getRenderedNodes=function(){var e=this.rowCtrlsByRowIndex;return Object.keys(e).map((function(t){return e[t].getRowNode()}))},t.prototype.getRowByPosition=function(e){var t;switch(e.rowPinned){case ne.PINNED_TOP:t=this.topRowCtrls[e.rowIndex];break;case ne.PINNED_BOTTOM:t=this.bottomRowCtrls[e.rowIndex];break;default:t=this.rowCtrlsByRowIndex[e.rowIndex]}return t},t.prototype.getRowNode=function(e){switch(e.rowPinned){case ne.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case ne.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}},t.prototype.isRangeInRenderedViewport=function(e,t){if(null==e||null==t)return!1;var r=e>this.lastRenderedRow;return!(t<this.firstRenderedRow)&&!r},pp([K("paginationProxy")],t.prototype,"paginationProxy",void 0),pp([K("columnModel")],t.prototype,"columnModel",void 0),pp([K("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),pp([K("rowModel")],t.prototype,"rowModel",void 0),pp([K("focusService")],t.prototype,"focusService",void 0),pp([K("columnApi")],t.prototype,"columnApi",void 0),pp([K("gridApi")],t.prototype,"gridApi",void 0),pp([K("beans")],t.prototype,"beans",void 0),pp([K("rowContainerHeightService")],t.prototype,"rowContainerHeightService",void 0),pp([q("ctrlsService")],t.prototype,"ctrlsService",void 0),pp([U],t.prototype,"postConstruct",null),t=pp([X("rowRenderer")],t)}(Le),gp=function(){function e(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}return e.prototype.addRow=function(e){if(this.entriesMap[e.getRowNode().id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){var t=this.entriesList[0];t.destroyFirstPass(),t.destroySecondPass(),this.removeFromCache(t)}},e.prototype.getRow=function(e){if(null==e||null==e.id)return null;var t=this.entriesMap[e.id];return t?(this.removeFromCache(t),t.setCached(!1),t.getRowNode()!=e?null:t):null},e.prototype.removeFromCache=function(e){var t=e.getRowNode().id;delete this.entriesMap[t],de(this.entriesList,e)},e.prototype.getEntries=function(){return this.entriesList},e}(),yp=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),vp=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},mp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return yp(t,e),t.prototype.formatValue=function(e,t,r,n,o){void 0===o&&(o=!0);var i,a=null,s=e.getColDef();if(n?i=n:o&&(i=t&&t.rowPinned&&s.pinnedRowValueFormatter?s.pinnedRowValueFormatter:s.valueFormatter),i){var l={value:r,node:t,data:t?t.data:null,colDef:s,column:e,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};a=this.expressionService.evaluate(i,l)}else if(s.refData)return s.refData[r]||"";return null==a&&Array.isArray(r)&&(a=r.join(", ")),a},vp([K("expressionService")],t.prototype,"expressionService",void 0),t=vp([X("valueFormatterService")],t)}(Le),bp=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Cp=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},wp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return bp(t,e),t.prototype.init=function(){this.setPinnedTopRowData(this.gridOptionsWrapper.getPinnedTopRowData()),this.setPinnedBottomRowData(this.gridOptionsWrapper.getPinnedBottomRowData())},t.prototype.isEmpty=function(e){return a(e===ne.PINNED_TOP?this.pinnedTopRows:this.pinnedBottomRows)},t.prototype.isRowsToRender=function(e){return!this.isEmpty(e)},t.prototype.getRowAtPixel=function(e,t){var r=t===ne.PINNED_TOP?this.pinnedTopRows:this.pinnedBottomRows;if(a(r))return 0;for(var n=0;n<r.length;n++){var o=r[n];if(o.rowTop+o.rowHeight-1>=e)return n}return r.length-1},t.prototype.setPinnedTopRowData=function(e){this.pinnedTopRows=this.createNodesFromData(e,!0);var t={type:He.EVENT_PINNED_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(t)},t.prototype.setPinnedBottomRowData=function(e){this.pinnedBottomRows=this.createNodesFromData(e,!1);var t={type:He.EVENT_PINNED_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(t)},t.prototype.createNodesFromData=function(e,t){var r=this,n=[];if(e){var o=0;e.forEach((function(e,i){var a=new Xi(r.beans);a.data=e;var s=t?Xi.ID_PREFIX_TOP_PINNED:Xi.ID_PREFIX_BOTTOM_PINNED;a.id=s+i,a.rowPinned=t?ne.PINNED_TOP:ne.PINNED_BOTTOM,a.setRowTop(o),a.setRowHeight(r.gridOptionsWrapper.getRowHeightForNode(a).height),a.setRowIndex(i),o+=a.rowHeight,n.push(a)}))}return n},t.prototype.getPinnedTopRowData=function(){return this.pinnedTopRows},t.prototype.getPinnedBottomRowData=function(){return this.pinnedBottomRows},t.prototype.getPinnedTopTotalHeight=function(){return this.getTotalHeight(this.pinnedTopRows)},t.prototype.getPinnedTopRowCount=function(){return this.pinnedTopRows?this.pinnedTopRows.length:0},t.prototype.getPinnedBottomRowCount=function(){return this.pinnedBottomRows?this.pinnedBottomRows.length:0},t.prototype.getPinnedTopRow=function(e){return this.pinnedTopRows[e]},t.prototype.getPinnedBottomRow=function(e){return this.pinnedBottomRows[e]},t.prototype.forEachPinnedTopRow=function(e){a(this.pinnedTopRows)||this.pinnedTopRows.forEach(e)},t.prototype.forEachPinnedBottomRow=function(e){a(this.pinnedBottomRows)||this.pinnedBottomRows.forEach(e)},t.prototype.getPinnedBottomTotalHeight=function(){return this.getTotalHeight(this.pinnedBottomRows)},t.prototype.getTotalHeight=function(e){if(!e||0===e.length)return 0;var t=ue(e);return t.rowTop+t.rowHeight},Cp([K("columnApi")],t.prototype,"columnApi",void 0),Cp([K("gridApi")],t.prototype,"gridApi",void 0),Cp([K("beans")],t.prototype,"beans",void 0),Cp([U],t.prototype,"init",null),t=Cp([X("pinnedRowModel")],t)}(Le);(Zc=t.ServerSideTransactionResultStatus||(t.ServerSideTransactionResultStatus={})).Applied="Applied",Zc.StoreNotFound="StoreNotFound",Zc.StoreLoading="StoreLoading",Zc.StoreWaitingToLoad="StoreWaitingToLoad",Zc.StoreLoadingFailed="StoreLoadingFailed",Zc.StoreWrongType="StoreWrongType",Zc.Cancelled="Cancelled";var xp,Sp=function(){function e(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}return e.prototype.setInactive=function(){this.active=!1},e.prototype.isActive=function(){return this.active},e.prototype.depthFirstSearchChangedPath=function(e,t){if(e.children)for(var r=0;r<e.children.length;r++)this.depthFirstSearchChangedPath(e.children[r],t);t(e.rowNode)},e.prototype.depthFirstSearchEverything=function(e,t,r){if(e.childrenAfterGroup)for(var n=0;n<e.childrenAfterGroup.length;n++){var o=e.childrenAfterGroup[n];o.childrenAfterGroup?this.depthFirstSearchEverything(e.childrenAfterGroup[n],t,r):r&&t(o)}t(e)},e.prototype.forEachChangedNodeDepthFirst=function(e,t){void 0===t&&(t=!1),this.active?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)},e.prototype.executeFromRootNode=function(e){e(this.pathRoot.rowNode)},e.prototype.createPathItems=function(e){for(var t=e,r=0;!this.mapToItems[t.id];){var n={rowNode:t,children:null};this.mapToItems[t.id]=n,r++,t=t.parent}return r},e.prototype.populateColumnsMap=function(e,t){var r=this;if(this.keepingColumns&&t)for(var n=e;n;)this.nodeIdsToColumns[n.id]||(this.nodeIdsToColumns[n.id]={}),t.forEach((function(e){return r.nodeIdsToColumns[n.id][e.getId()]=!0})),n=n.parent},e.prototype.linkPathItems=function(e,t){for(var r=e,n=0;n<t;n++){var o=this.mapToItems[r.id],i=this.mapToItems[r.parent.id];i.children||(i.children=[]),i.children.push(o),r=r.parent}},e.prototype.addParentNode=function(e,t){if(e&&!e.isRowPinned()){var r=this.createPathItems(e);this.linkPathItems(e,r),this.populateColumnsMap(e,t)}},e.prototype.canSkip=function(e){return this.active&&!this.mapToItems[e.id]},e.prototype.getValueColumnsForNode=function(e,t){if(!this.keepingColumns)return t;var r=this.nodeIdsToColumns[e.id];return t.filter((function(e){return r[e.getId()]}))},e.prototype.getNotValueColumnsForNode=function(e,t){if(!this.keepingColumns)return null;var r=this.nodeIdsToColumns[e.id];return t.filter((function(e){return!r[e.getId()]}))},e}(),Ep=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Op=function(e){function t(r){var n=e.call(this)||this;return n.state=t.STATE_WAITING_TO_LOAD,n.version=0,n.id=r,n}return Ep(t,e),t.prototype.getId=function(){return this.id},t.prototype.load=function(){this.state=t.STATE_LOADING,this.loadFromDatasource()},t.prototype.getVersion=function(){return this.version},t.prototype.setStateWaitingToLoad=function(){this.version++,this.state=t.STATE_WAITING_TO_LOAD},t.prototype.getState=function(){return this.state},t.prototype.pageLoadFailed=function(e){this.isRequestMostRecentAndLive(e)&&(this.state=t.STATE_FAILED,this.processServerFail()),this.dispatchLoadCompleted(!1)},t.prototype.success=function(e,t){this.successCommon(e,t)},t.prototype.pageLoaded=function(e,t,r){this.successCommon(e,{rowData:t,rowCount:r})},t.prototype.isRequestMostRecentAndLive=function(e){var t=e===this.version,r=this.isAlive();return t&&r},t.prototype.successCommon=function(e,r){this.dispatchLoadCompleted(),this.isRequestMostRecentAndLive(e)&&(this.state=t.STATE_LOADED,this.processServerResult(r))},t.prototype.dispatchLoadCompleted=function(e){void 0===e&&(e=!0);var r={type:t.EVENT_LOAD_COMPLETE,success:e,block:this};this.dispatchEvent(r)},t.EVENT_LOAD_COMPLETE="loadComplete",t.STATE_WAITING_TO_LOAD="needsLoading",t.STATE_LOADING="loading",t.STATE_LOADED="loaded",t.STATE_FAILED="failed",t}(Le),_p=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Pp=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Rp=function(e,t){return function(r,n){t(r,n,e)}},Ap=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.activeBlockLoadsCount=0,t.blocks=[],t.active=!0,t}var r;return _p(t,e),r=t,t.prototype.postConstruct=function(){this.maxConcurrentRequests=this.gridOptionsWrapper.getMaxConcurrentDatasourceRequests();var e=this.gridOptionsWrapper.getBlockLoadDebounceMillis();e&&e>0&&(this.checkBlockToLoadDebounce=Hn.debounce(this.performCheckBlocksToLoad.bind(this),e))},t.prototype.setBeans=function(e){this.logger=e.create("RowNodeBlockLoader")},t.prototype.addBlock=function(e){this.blocks.push(e),e.addEventListener(Op.EVENT_LOAD_COMPLETE,this.loadComplete.bind(this)),this.checkBlockToLoad()},t.prototype.removeBlock=function(e){Hn.removeFromArray(this.blocks,e)},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.active=!1},t.prototype.loadComplete=function(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),0==this.activeBlockLoadsCount&&this.dispatchEvent({type:r.BLOCK_LOADER_FINISHED_EVENT})},t.prototype.checkBlockToLoad=function(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()},t.prototype.performCheckBlocksToLoad=function(){if(this.active)if(this.printCacheStatus(),null!=this.maxConcurrentRequests&&this.activeBlockLoadsCount>=this.maxConcurrentRequests)this.logger.log("checkBlockToLoad: max loads exceeded");else{var e=null;this.blocks.forEach((function(t){t.getState()===Op.STATE_WAITING_TO_LOAD&&(e=t)})),e&&(e.load(),this.activeBlockLoadsCount++,this.printCacheStatus())}},t.prototype.getBlockState=function(){var e={};return this.blocks.forEach((function(t){var r=t.getBlockStateJson(),n=r.id,o=r.state;e[n]=o})),e},t.prototype.printCacheStatus=function(){this.logger.isLogging()&&this.logger.log("printCacheStatus: activePageLoadsCount = "+this.activeBlockLoadsCount+", blocks = "+JSON.stringify(this.getBlockState()))},t.prototype.isLoading=function(){return this.activeBlockLoadsCount>0},t.BLOCK_LOADER_FINISHED_EVENT="blockLoaderFinished",Pp([U],t.prototype,"postConstruct",null),Pp([Rp(0,Z("loggerFactory"))],t.prototype,"setBeans",null),t=r=Pp([X("rowNodeBlockLoader")],t)}(Le),Tp=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Dp=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Mp=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.currentPage=0,t.topDisplayedRowIndex=0,t.bottomDisplayedRowIndex=0,t.pixelOffset=0,t.masterRowCount=0,t}return Tp(t,e),t.prototype.postConstruct=function(){this.active=this.gridOptionsWrapper.isPagination(),this.paginateChildRows=this.gridOptionsWrapper.isPaginateChildRows(),this.addManagedListener(this.eventService,He.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedListener(this.gridOptionsWrapper,"paginationPageSize",this.onPaginationPageSizeChanged.bind(this)),this.onModelUpdated()},t.prototype.ensureRowHeightsValid=function(e,t,r,n){var o=this.rowModel.ensureRowHeightsValid(e,t,this.getPageFirstRow(),this.getPageLastRow());return o&&this.calculatePages(),o},t.prototype.onModelUpdated=function(e){this.calculatePages();var t={type:He.EVENT_PAGINATION_CHANGED,animate:!!e&&e.animate,newData:!!e&&e.newData,newPage:!!e&&e.newPage,keepRenderedRows:!!e&&e.keepRenderedRows,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(t)},t.prototype.onPaginationPageSizeChanged=function(){this.calculatePages();var e={type:He.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!1,keepRenderedRows:!0,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(e)},t.prototype.goToPage=function(e){if(this.active&&this.currentPage!==e){this.currentPage=e;var t={type:He.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!0,api:this.gridApi,columnApi:this.columnApi};this.onModelUpdated(t)}},t.prototype.getPixelOffset=function(){return this.pixelOffset},t.prototype.getRow=function(e){return this.rowModel.getRow(e)},t.prototype.getRowNode=function(e){return this.rowModel.getRowNode(e)},t.prototype.getRowIndexAtPixel=function(e){return this.rowModel.getRowIndexAtPixel(e)},t.prototype.getCurrentPageHeight=function(){return i(this.topRowBounds)||i(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)},t.prototype.getCurrentPagePixelRange=function(){return{pageFirstPixel:this.topRowBounds?this.topRowBounds.rowTop:0,pageLastPixel:this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0}},t.prototype.isRowPresent=function(e){return!!this.rowModel.isRowPresent(e)&&(e.rowIndex>=this.topDisplayedRowIndex&&e.rowIndex<=this.bottomDisplayedRowIndex)},t.prototype.isEmpty=function(){return this.rowModel.isEmpty()},t.prototype.isRowsToRender=function(){return this.rowModel.isRowsToRender()},t.prototype.getNodesInRangeForSelection=function(e,t){return this.rowModel.getNodesInRangeForSelection(e,t)},t.prototype.forEachNode=function(e){return this.rowModel.forEachNode(e)},t.prototype.getType=function(){return this.rowModel.getType()},t.prototype.getRowBounds=function(e){var t=this.rowModel.getRowBounds(e);return t.rowIndex=e,t},t.prototype.getPageFirstRow=function(){return this.topRowBounds?this.topRowBounds.rowIndex:-1},t.prototype.getPageLastRow=function(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1},t.prototype.getRowCount=function(){return this.rowModel.getRowCount()},t.prototype.getPageForIndex=function(e){return Math.floor(e/this.pageSize)},t.prototype.goToPageWithIndex=function(e){if(this.active){var t=this.getPageForIndex(e);this.goToPage(t)}},t.prototype.isRowInPage=function(e){return!this.active||this.getPageForIndex(e.rowIndex)===this.currentPage},t.prototype.isLastPageFound=function(){return this.rowModel.isLastRowIndexKnown()},t.prototype.getCurrentPage=function(){return this.currentPage},t.prototype.goToNextPage=function(){this.goToPage(this.currentPage+1)},t.prototype.goToPreviousPage=function(){this.goToPage(this.currentPage-1)},t.prototype.goToFirstPage=function(){this.goToPage(0)},t.prototype.goToLastPage=function(){var e=this.rowModel.getRowCount(),t=Math.floor(e/this.pageSize);this.goToPage(t)},t.prototype.getPageSize=function(){return this.pageSize},t.prototype.getTotalPages=function(){return this.totalPages},t.prototype.setPageSize=function(){this.pageSize=this.gridOptionsWrapper.getPaginationPageSize(),(null==this.pageSize||this.pageSize<1)&&(this.pageSize=100)},t.prototype.calculatePages=function(){this.active?(this.setPageSize(),this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly()):this.calculatedPagesNotActive(),this.topRowBounds=this.rowModel.getRowBounds(this.topDisplayedRowIndex),this.topRowBounds&&(this.topRowBounds.rowIndex=this.topDisplayedRowIndex),this.bottomRowBounds=this.rowModel.getRowBounds(this.bottomDisplayedRowIndex),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=this.bottomDisplayedRowIndex),this.setPixelOffset(o(this.topRowBounds)?this.topRowBounds.rowTop:0)},t.prototype.setPixelOffset=function(e){this.pixelOffset!==e&&(this.pixelOffset=e,this.eventService.dispatchEvent({type:He.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED}))},t.prototype.setZeroRows=function(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0},t.prototype.calculatePagesMasterRowsOnly=function(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0)this.setZeroRows();else{var e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!hn(this.currentPage)||this.currentPage<0)&&(this.currentPage=0);var t=this.pageSize*this.currentPage,r=this.pageSize*(this.currentPage+1)-1;if(r>e&&(r=e),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(t),r===e)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{var n=this.rowModel.getTopLevelRowDisplayedIndex(r+1);this.bottomDisplayedRowIndex=n-1}}},t.prototype.getMasterRowCount=function(){return this.masterRowCount},t.prototype.calculatePagesAllRows=function(){if(this.masterRowCount=this.rowModel.getRowCount(),0!==this.masterRowCount){var e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!hn(this.currentPage)||this.currentPage<0)&&(this.currentPage=0),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>e&&(this.bottomDisplayedRowIndex=e)}else this.setZeroRows()},t.prototype.calculatedPagesNotActive=function(){this.pageSize=this.rowModel.getRowCount(),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1},Dp([K("rowModel")],t.prototype,"rowModel",void 0),Dp([K("columnApi")],t.prototype,"columnApi",void 0),Dp([K("gridApi")],t.prototype,"gridApi",void 0),Dp([U],t.prototype,"postConstruct",null),t=Dp([X("paginationProxy")],t)}(Le),kp=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Np=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Ip=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return kp(t,e),t.prototype.processAllCellClasses=function(e,t,r,n){this.processClassRules(e.cellClassRules,t,r,n),this.processStaticCellClasses(e,t,r)},t.prototype.processClassRules=function(e,t,r,n){if(null!=e){for(var o=Object.keys(e),i={},a={},s=function(r){var n,s=o[r],u=e[s];"string"===typeof u?n=l.expressionService.evaluate(u,t):"function"===typeof u&&(n=u(t)),s.split(" ").forEach((function(e){null!=e&&""!=e.trim()&&(n?i[e]=!0:a[e]=!0)}))},l=this,u=0;u<o.length;u++)s(u);n&&Object.keys(a).forEach(n),Object.keys(i).forEach(r)}},t.prototype.getStaticCellClasses=function(e,t){var r,n=e.cellClass;if(!n)return[];"function"===typeof n?r=n(t):r=n;return"string"===typeof r&&(r=[r]),r||[]},t.prototype.processStaticCellClasses=function(e,t,r){this.getStaticCellClasses(e,t).forEach((function(e){r(e)}))},Np([K("expressionService")],t.prototype,"expressionService",void 0),t=Np([X("stylingService")],t)}(Le),Lp=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Fp=function(e){function t(t){return e.call(this,t,"ag-radio-button","radio")||this}return Lp(t,e),t.prototype.isSelected=function(){return this.eInput.checked},t.prototype.toggle=function(){this.eInput.disabled||this.isSelected()||this.setValue(!0)},t.prototype.addInputListeners=function(){e.prototype.addInputListeners.call(this),this.addManagedListener(this.eventService,He.EVENT_CHECKBOX_CHANGED,this.onChange.bind(this))},t.prototype.onChange=function(e){e.selected&&e.name&&this.eInput.name&&this.eInput.name===e.name&&e.id&&this.eInput.id!==e.id&&this.setValue(!1,!0)},t}(ic),Gp=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Bp=function(e){function t(t){return e.call(this,t,"ag-toggle-button")||this}return Gp(t,e),t.prototype.setValue=function(t,r){return e.prototype.setValue.call(this,t,r),this.addOrRemoveCssClass("ag-selected",this.getValue()),this},t}(ic),Wp=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Hp=function(e){function t(t,r,n){return void 0===r&&(r="ag-text-field"),void 0===n&&(n="text"),e.call(this,t,r,n)||this}return Wp(t,e),t.prototype.postConstruct=function(){e.prototype.postConstruct.call(this),this.config.allowedCharPattern&&this.preventDisallowedCharacters()},t.prototype.setValue=function(t,r){var n=e.prototype.setValue.call(this,t,r);return this.eInput.value!==t&&(this.eInput.value=o(t)?t:""),n},t.prototype.preventDisallowedCharacters=function(){var e=new RegExp("["+this.config.allowedCharPattern+"]");this.addManagedListener(this.eInput,"keypress",(function(t){t.key&&!e.test(t.key)&&t.preventDefault()})),this.addManagedListener(this.eInput,"paste",(function(t){var r,n=null===(r=t.clipboardData)||void 0===r?void 0:r.getData("text");n&&n.split("").some((function(t){return!e.test(t)}))&&t.preventDefault()}))},t}(Lo),jp=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Vp=function(e){function t(t){return e.call(this,t,"ag-text-area",null,"textarea")||this}return jp(t,e),t.prototype.setValue=function(t,r){var n=e.prototype.setValue.call(this,t,r);return this.eInput.value=t,n},t.prototype.setCols=function(e){return this.eInput.cols=e,this},t.prototype.setRows=function(e){return this.eInput.rows=e,this},t}(Lo),zp=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Up=function(e){function t(t){return e.call(this,t,"ag-number-field","number")||this}return zp(t,e),t.prototype.postConstruct=function(){var t=this;e.prototype.postConstruct.call(this),this.addManagedListener(this.eInput,"blur",(function(){var e=parseFloat(t.eInput.value),r=isNaN(e)?"":t.normalizeValue(e.toString());t.value!==r&&t.setValue(r)})),this.eInput.step="any"},t.prototype.normalizeValue=function(e){if(""===e)return"";this.precision&&(e=this.adjustPrecision(e));var t=parseFloat(e);return null!=this.min&&t<this.min?e=this.min.toString():null!=this.max&&t>this.max&&(e=this.max.toString()),e},t.prototype.adjustPrecision=function(e){if(this.precision){var t=parseFloat(e).toFixed(this.precision);e=parseFloat(t).toString()}return e},t.prototype.setMin=function(e){return this.min===e||(this.min=e,Mr(this.eInput,"min",e)),this},t.prototype.setMax=function(e){return this.max===e||(this.max=e,Mr(this.eInput,"max",e)),this},t.prototype.setPrecision=function(e){return this.precision=e,this},t.prototype.setStep=function(e){return this.step===e||(this.step=e,Mr(this.eInput,"step",e)),this},t.prototype.setValue=function(t,r){return(t=this.adjustPrecision(t))!=this.normalizeValue(t)?this:e.prototype.setValue.call(this,t,r)},t}(Hp),Yp=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Xp=function(e){function t(t){return e.call(this,t,"ag-range-field","range")||this}return Yp(t,e),t.prototype.postConstruct=function(){e.prototype.postConstruct.call(this);var t=this.config,r=t.min,n=t.max,o=t.step;null!=r&&this.setMinValue(r),null!=n&&this.setMaxValue(n),this.setStep(o||1)},t.prototype.addInputListeners=function(){var e=this;this.addManagedListener(this.eInput,"input",(function(t){var r=t.target.value;e.setValue(r)}))},t.prototype.setMinValue=function(e){return this.min=e,this.eInput.setAttribute("min",e.toString()),this},t.prototype.setMaxValue=function(e){return this.max=e,this.eInput.setAttribute("max",e.toString()),this},t.prototype.setStep=function(e){return this.eInput.setAttribute("step",e.toString()),this},t.prototype.setValue=function(t,r){null!=this.min&&(t=Math.max(parseFloat(t),this.min).toString()),null!=this.max&&(t=Math.min(parseFloat(t),this.max).toString());var n=e.prototype.setValue.call(this,t,r);return this.eInput.value=t,n},t}(Lo),Kp=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),qp=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},$p=function(e){function t(r){var n=e.call(this,r,t.TEMPLATE)||this;return n.labelAlignment="top",n}return Kp(t,e),t.prototype.init=function(){this.eSlider.addCssClass("ag-slider-field")},t.prototype.onValueChange=function(e){var t=this,r=Eo.EVENT_CHANGED;return this.addManagedListener(this.eText,r,(function(){var r=parseFloat(t.eText.getValue());t.eSlider.setValue(r.toString(),!0),e(r||0)})),this.addManagedListener(this.eSlider,r,(function(){var r=t.eSlider.getValue();t.eText.setValue(r,!0),e(parseFloat(r))})),this},t.prototype.setSliderWidth=function(e){return this.eSlider.setWidth(e),this},t.prototype.setTextFieldWidth=function(e){return this.eText.setWidth(e),this},t.prototype.setMinValue=function(e){return this.eSlider.setMinValue(e),this.eText.setMin(e),this},t.prototype.setMaxValue=function(e){return this.eSlider.setMaxValue(e),this.eText.setMax(e),this},t.prototype.getValue=function(){return this.eText.getValue()},t.prototype.setValue=function(e){return this.getValue()===e||(this.eText.setValue(e,!0),this.eSlider.setValue(e,!0),this.dispatchEvent({type:Eo.EVENT_CHANGED})),this},t.prototype.setStep=function(e){return this.eSlider.setStep(e),this.eText.setStep(e),this},t.TEMPLATE='<div class="ag-slider">\n            <label ref="eLabel"></label>\n            <div class="ag-wrapper ag-slider-wrapper">\n                <ag-input-range ref="eSlider"></ag-input-range>\n                <ag-input-number-field ref="eText"></ag-input-number-field>\n            </div>\n        </div>',qp([to("eLabel")],t.prototype,"eLabel",void 0),qp([to("eSlider")],t.prototype,"eSlider",void 0),qp([to("eText")],t.prototype,"eText",void 0),qp([U],t.prototype,"init",null),t}(xo),Zp=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Qp=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Jp=function(e){function t(r){var n=e.call(this,r,t.TEMPLATE)||this;return n.radius=0,n.offsetX=0,n.offsetY=0,n}return Zp(t,e),t.prototype.postConstruct=function(){var t=this;e.prototype.postConstruct.call(this),this.dragListener={eElement:this.eParentCircle,dragStartPixels:0,onDragStart:function(e){t.parentCircleRect=t.eParentCircle.getBoundingClientRect()},onDragging:function(e){return t.calculateAngleDrag(e)},onDragStop:function(){}},this.dragService.addDragSource(this.dragListener),this.eAngleValue.setLabel("").setLabelWidth(5).setInputWidth(45).setMin(0).setMax(360).setValue(""+this.degrees).onValueChange((function(e){null!=e&&""!==e||(e="0"),e=t.eAngleValue.normalizeValue(e);var r=parseFloat(e);r>180&&(r-=360),t.setValue(r)})),this.updateNumberInput(),o(this.getValue())&&this.eAngleValue.setValue(this.normalizeNegativeValue(this.getValue()).toString()),this.addManagedListener(this,Eo.EVENT_CHANGED,(function(){var e=t.gridOptionsWrapper.getDocument();t.eAngleValue.getInputElement().contains(e.activeElement)||t.updateNumberInput()}))},t.prototype.updateNumberInput=function(){var e=this.normalizeNegativeValue(this.getValue());this.eAngleValue.setValue(e.toString())},t.prototype.positionChildCircle=function(e){var t=this.parentCircleRect||{width:24,height:24},r=this.eChildCircle,n=t.width/2,o=t.height/2;r.style.left=n+8*Math.cos(e)+"px",r.style.top=o+8*Math.sin(e)+"px"},t.prototype.calculatePolar=function(){var e=this.offsetX,t=this.offsetY,r=Math.atan2(t,e);this.degrees=this.toDegrees(r),this.radius=Math.sqrt(e*e+t*t),this.positionChildCircle(r)},t.prototype.calculateCartesian=function(){var e=this.toRadians(this.getValue()),t=this.getRadius();this.setOffsetX(Math.cos(e)*t).setOffsetY(Math.sin(e)*t)},t.prototype.setOffsetX=function(e){return this.offsetX!==e&&(this.offsetX=e,this.calculatePolar()),this},t.prototype.setOffsetY=function(e){return this.offsetY!==e&&(this.offsetY=e,this.calculatePolar()),this},t.prototype.calculateAngleDrag=function(e){var t=this.parentCircleRect,r=t.width/2,n=t.height/2,o=e.clientX-t.left-r,i=e.clientY-t.top-n,a=Math.atan2(i,o);this.setValue(a,!0)},t.prototype.toDegrees=function(e){return e/Math.PI*180},t.prototype.toRadians=function(e){return e/180*Math.PI},t.prototype.normalizeNegativeValue=function(e){return e<0?360+e:e},t.prototype.normalizeAngle180=function(e){return(e%=2*Math.PI)<-Math.PI?e+=2*Math.PI:e>=Math.PI&&(e-=2*Math.PI),e},t.prototype.getRadius=function(){return this.radius},t.prototype.setRadius=function(e){return this.radius===e||(this.radius=e,this.calculateCartesian()),this},t.prototype.onValueChange=function(e){var t=this;return this.addManagedListener(this,Eo.EVENT_CHANGED,(function(){e(t.degrees)})),this},t.prototype.getValue=function(e){return e?this.toRadians(this.degrees):this.degrees},t.prototype.setValue=function(e,t){var r;return r=t?e:this.normalizeAngle180(this.toRadians(e)),e=this.toDegrees(r),this.degrees!==e&&(this.degrees=Math.floor(e),this.calculateCartesian(),this.positionChildCircle(r),this.dispatchEvent({type:Eo.EVENT_CHANGED})),this},t.prototype.setWidth=function(e){return Er(this.getGui(),e),this},t.prototype.destroy=function(){this.dragService.removeDragSource(this.dragListener),e.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-angle-select">\n            <div ref="eLabel"></div>\n            <div class="ag-wrapper ag-angle-select-wrapper">\n                <div ref="eAngleSelectField" class="ag-angle-select-field">\n                    <div ref="eParentCircle" class="ag-angle-select-parent-circle">\n                        <div ref="eChildCircle" class="ag-angle-select-child-circle"></div>\n                    </div>\n                </div>\n                <ag-input-number-field ref="eAngleValue"></ag-input-number-field>\n            </div>\n        </div>',Qp([to("eLabel")],t.prototype,"eLabel",void 0),Qp([to("eParentCircle")],t.prototype,"eParentCircle",void 0),Qp([to("eChildCircle")],t.prototype,"eChildCircle",void 0),Qp([to("eAngleValue")],t.prototype,"eAngleValue",void 0),Qp([K("dragService")],t.prototype,"dragService",void 0),t}(xo),ed=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),td=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},rd=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},nd=function(e){function t(r){var n=e.call(this,t.TEMPLATE)||this;return n.H=1,n.S=1,n.B=1,n.A=1,n.isSpectrumDragging=!1,n.isSpectrumHueDragging=!1,n.isSpectrumAlphaDragging=!1,n.colorChanged=!1,n.picker=r.picker,n}return ed(t,e),t.prototype.postConstruct=function(){var e=this.getGui();this.initRecentColors(),this.addManagedListener(this.spectrumVal,"mousedown",this.onSpectrumDraggerDown.bind(this)),this.addManagedListener(e,"mousemove",this.onSpectrumDraggerMove.bind(this)),this.addManagedListener(this.spectrumHue,"mousedown",this.onSpectrumHueDown.bind(this)),this.addManagedListener(e,"mousemove",this.onSpectrumHueMove.bind(this)),this.addManagedListener(this.spectrumAlpha,"mousedown",this.onSpectrumAlphaDown.bind(this)),this.addManagedListener(e,"mousemove",this.onSpectrumAlphaMove.bind(this)),this.addManagedListener(document,"mouseup",this.onMouseUp.bind(this)),this.addManagedListener(this.recentColors,"click",this.onRecentColorClick.bind(this))},t.prototype.refreshSpectrumRect=function(){return this.spectrumValRect=this.spectrumVal.getBoundingClientRect()},t.prototype.refreshHueRect=function(){return this.spectrumHueRect=this.spectrumHue.getBoundingClientRect()},t.prototype.refreshAlphaRect=function(){return this.spectrumAlphaRect=this.spectrumAlpha.getBoundingClientRect()},t.prototype.onSpectrumDraggerDown=function(e){this.refreshSpectrumRect(),this.isSpectrumDragging=!0,this.moveDragger(e)},t.prototype.onSpectrumDraggerMove=function(e){this.isSpectrumDragging&&this.moveDragger(e)},t.prototype.onSpectrumHueDown=function(e){this.refreshHueRect(),this.isSpectrumHueDragging=!0,this.moveHueSlider(e)},t.prototype.onSpectrumHueMove=function(e){this.isSpectrumHueDragging&&this.moveHueSlider(e)},t.prototype.onSpectrumAlphaDown=function(e){this.refreshAlphaRect(),this.isSpectrumAlphaDragging=!0,this.moveAlphaSlider(e)},t.prototype.onSpectrumAlphaMove=function(e){this.isSpectrumAlphaDragging&&this.moveAlphaSlider(e)},t.prototype.onMouseUp=function(){this.isSpectrumDragging=!1,this.isSpectrumHueDragging=!1,this.isSpectrumAlphaDragging=!1},t.prototype.moveDragger=function(e){var t=this.spectrumValRect;if(t){var r=e.clientX-t.left,n=e.clientY-t.top;r=Math.max(r,0),r=Math.min(r,t.width),n=Math.max(n,0),n=Math.min(n,t.height),this.setSpectrumValue(r/t.width,1-n/t.height)}},t.prototype.moveHueSlider=function(e){var t=this.spectrumHueRect;if(t){var r=this.spectrumHueSlider,n=r.getBoundingClientRect(),o=e.clientX-t.left;o=Math.max(o,0),o=Math.min(o,t.width),this.H=1-o/t.width,r.style.left=o+n.width/2+"px",this.update()}},t.prototype.moveAlphaSlider=function(e){var t=this.spectrumAlphaRect;if(t){var r=this.spectrumAlphaSlider,n=r.getBoundingClientRect(),o=e.clientX-t.left;o=Math.max(o,0),o=Math.min(o,t.width),this.A=o/t.width,r.style.left=o+n.width/2+"px",this.update()}},t.prototype.update=function(){var e=_t.fromHSB(360*this.H,this.S,this.B,this.A),t=_t.fromHSB(360*this.H,1,1),r=e.toRgbaString(),n=this.picker;_t.fromString(n.getValue()).toRgbaString()!==r&&(this.colorChanged=!0),n.setValue(r),this.spectrumColor.style.backgroundColor=t.toRgbaString(),this.spectrumDragger.style.backgroundColor=r},t.prototype.setSpectrumValue=function(e,t){var r=this.spectrumValRect||this.refreshSpectrumRect();if(r){var n=this.spectrumDragger,o=n.getBoundingClientRect();e=Math.max(0,e),e=Math.min(1,e),t=Math.max(0,t),t=Math.min(1,t),this.S=e,this.B=t,n.style.left=e*r.width-o.width/2+"px",n.style.top=(1-t)*r.height-o.height/2+"px",this.update()}},t.prototype.initRecentColors=function(){var e=t.recentColors.map((function(e,t){return'<div class="ag-recent-color" id='+t+' style="background-color: '+e+'; width: 15px; height: 15px;" recent-color="'+e+'"></div>'}));this.recentColors.innerHTML=e.join("")},t.prototype.setValue=function(e){var t=_t.fromString(e),r=rd(t.toHSB(),3),n=r[0],o=r[1],i=r[2];this.H=(isNaN(n)?0:n)/360,this.A=t.a;var a=this.spectrumHueRect||this.refreshHueRect(),s=this.spectrumAlphaRect||this.refreshAlphaRect();this.spectrumHueSlider.style.left=(this.H-1)*-a.width+"px",this.spectrumAlphaSlider.style.left=this.A*s.width+"px",this.setSpectrumValue(o,i)},t.prototype.onRecentColorClick=function(e){var r=e.target;if(o(r.id)){var n=parseInt(r.id,10);this.setValue(t.recentColors[n]),this.destroy()}},t.prototype.addRecentColor=function(){var e=_t.fromHSB(360*this.H,this.S,this.B,this.A).toRgbaString(),r=t.recentColors;this.colorChanged&&r[0]!==e&&(r=r.filter((function(t){return t!=e})),(r=[e].concat(r)).length>t.maxRecentColors&&(r=r.slice(0,t.maxRecentColors)),t.recentColors=r)},t.prototype.destroy=function(){this.addRecentColor(),e.prototype.destroy.call(this)},t.maxRecentColors=8,t.recentColors=[],t.TEMPLATE='<div class="ag-color-panel">\n            <div ref="spectrumColor" class="ag-spectrum-color">\n                <div class="ag-spectrum-sat ag-spectrum-fill">\n                    <div ref="spectrumVal" class="ag-spectrum-val ag-spectrum-fill">\n                        <div ref="spectrumDragger" class="ag-spectrum-dragger"></div>\n                    </div>\n                </div>\n            </div>\n            <div class="ag-spectrum-tools">\n                <div ref="spectrumHue" class="ag-spectrum-hue ag-spectrum-tool">\n                    <div class="ag-spectrum-hue-background"></div>\n                    <div ref="spectrumHueSlider" class="ag-spectrum-slider"></div>\n                </div>\n                <div ref="spectrumAlpha" class="ag-spectrum-alpha ag-spectrum-tool">\n                    <div class="ag-spectrum-alpha-background"></div>\n                    <div ref="spectrumAlphaSlider" class="ag-spectrum-slider"></div>\n                </div>\n                <div ref="recentColors" class="ag-recent-colors"></div>\n            </div>\n        </div>',td([to("spectrumColor")],t.prototype,"spectrumColor",void 0),td([to("spectrumVal")],t.prototype,"spectrumVal",void 0),td([to("spectrumDragger")],t.prototype,"spectrumDragger",void 0),td([to("spectrumHue")],t.prototype,"spectrumHue",void 0),td([to("spectrumHueSlider")],t.prototype,"spectrumHueSlider",void 0),td([to("spectrumAlpha")],t.prototype,"spectrumAlpha",void 0),td([to("spectrumAlphaSlider")],t.prototype,"spectrumAlphaSlider",void 0),td([to("recentColors")],t.prototype,"recentColors",void 0),td([U],t.prototype,"postConstruct",null),t}(eo),od=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),id=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},ad=function(e){function t(r){var n=e.call(this,t.getTemplate(r))||this;return n.closable=!0,n.config=r,n}return od(t,e),t.getTemplate=function(e){var t=e&&e.cssIdentifier||"default";return'<div class="ag-panel ag-'+t+'-panel" tabindex="-1">\n            <div ref="eTitleBar" class="ag-panel-title-bar ag-'+t+'-panel-title-bar ag-unselectable">\n                <span ref="eTitle" class="ag-panel-title-bar-title ag-'+t+'-panel-title-bar-title"></span>\n                <div ref="eTitleBarButtons" class="ag-panel-title-bar-buttons ag-'+t+'-panel-title-bar-buttons"></div>\n            </div>\n            <div ref="eContentWrapper" class="ag-panel-content-wrapper ag-'+t+'-panel-content-wrapper"></div>\n        </div>'},t.prototype.postConstruct=function(){var e=this,t=this.config,r=t.component,n=t.closable,o=t.hideTitleBar,i=t.title,a=t.minWidth,s=void 0===a?250:a,l=t.width,u=t.minHeight,c=void 0===u?250:u,p=t.height,d=t.centered,h=t.popup,f=t.x,g=t.y;this.positionableFeature=new ap(this.getGui(),{minWidth:s,width:l,minHeight:c,height:p,centered:d,x:f,y:g,popup:h,calculateTopBuffer:function(){return e.positionableFeature.getHeight()-e.getBodyHeight()}}),this.createManagedBean(this.positionableFeature);var y=this.getGui();r&&this.setBodyComponent(r),o?this.eTitleBar.classList.add("ag-hidden"):(i&&this.setTitle(i),this.setClosable(null!=n?n:this.closable)),this.addManagedListener(this.eTitleBar,"mousedown",(function(t){var r=e.gridOptionsWrapper.getDocument();if(y.contains(t.relatedTarget)||y.contains(r.activeElement)||e.eTitleBarButtons.contains(t.target))t.preventDefault();else{var n=e.eContentWrapper.querySelector("button, [href], input, select, textarea, [tabindex]");n&&n.focus()}})),h&&this.positionableFeature.isPositioned()||(this.renderComponent&&this.renderComponent(),this.positionableFeature.initialisePosition(),this.eContentWrapper.style.height="0")},t.prototype.renderComponent=function(){var e=this,t=this.getGui();t.focus(),this.close=function(){t.parentElement.removeChild(t),e.destroy()}},t.prototype.getHeight=function(){return this.positionableFeature.getHeight()},t.prototype.setHeight=function(e){this.positionableFeature.setHeight(e)},t.prototype.getWidth=function(){return this.positionableFeature.getWidth()},t.prototype.setWidth=function(e){this.positionableFeature.setWidth(e)},t.prototype.setClosable=function(e){if(e!==this.closable&&(this.closable=e),e){var r=this.closeButtonComp=new eo(t.CLOSE_BTN_TEMPLATE);this.getContext().createBean(r);var n=r.getGui(),o=Rn("close",this.gridOptionsWrapper);o.classList.add("ag-panel-title-bar-button-icon"),n.appendChild(o),this.addTitleBarButton(r),r.addManagedListener(n,"click",this.onBtClose.bind(this))}else if(this.closeButtonComp){(n=this.closeButtonComp.getGui()).parentElement.removeChild(n),this.closeButtonComp=this.destroyBean(this.closeButtonComp)}},t.prototype.setBodyComponent=function(e){e.setParentComponent(this),this.eContentWrapper.appendChild(e.getGui())},t.prototype.addTitleBarButton=function(e,t){var r=this.eTitleBarButtons,n=r.children,o=n.length;null==t&&(t=o),t=Math.max(0,Math.min(t,o)),e.addCssClass("ag-panel-title-bar-button");var i=e.getGui();0===t?r.insertAdjacentElement("afterbegin",i):t===o?r.insertAdjacentElement("beforeend",i):n[t-1].insertAdjacentElement("afterend",i),e.setParentComponent(this)},t.prototype.getBodyHeight=function(){return or(this.eContentWrapper)},t.prototype.getBodyWidth=function(){return ir(this.eContentWrapper)},t.prototype.setTitle=function(e){this.eTitle.innerText=e},t.prototype.onBtClose=function(){this.close()},t.prototype.destroy=function(){this.closeButtonComp&&(this.closeButtonComp=this.destroyBean(this.closeButtonComp));var t=this.getGui();t&&t.offsetParent&&this.close(),e.prototype.destroy.call(this)},t.CLOSE_BTN_TEMPLATE='<div class="ag-button"></div>',id([to("eContentWrapper")],t.prototype,"eContentWrapper",void 0),id([to("eTitleBar")],t.prototype,"eTitleBar",void 0),id([to("eTitleBarButtons")],t.prototype,"eTitleBarButtons",void 0),id([to("eTitle")],t.prototype,"eTitle",void 0),id([U],t.prototype,"postConstruct",null),t}(eo),sd=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ld=function(){return ld=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ld.apply(this,arguments)},ud=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},cd=function(e){function t(t){var r=e.call(this,ld(ld({},t),{popup:!0}))||this;return r.isMaximizable=!1,r.isMaximized=!1,r.maximizeListeners=[],r.resizeListenerDestroy=null,r.lastPosition={x:0,y:0,width:0,height:0},r}return sd(t,e),t.prototype.postConstruct=function(){var t=this,r=this.getGui(),n=this.config,o=n.movable,i=n.resizable,a=n.maximizable;this.addCssClass("ag-dialog"),e.prototype.postConstruct.call(this),this.addManagedListener(r,"focusin",(function(e){r.contains(e.relatedTarget)||t.popupService.bringPopupToFront(r)})),o&&this.setMovable(o),a&&this.setMaximizable(a),i&&this.setResizable(i)},t.prototype.renderComponent=function(){var e=this.getGui(),t=this.config,r=t.alwaysOnTop,n=t.modal,o=t.title,i=this.gridOptionsWrapper.getLocaleTextFunc(),a=this.popupService.addPopup({modal:n,eChild:e,closeOnEsc:!0,closedCallback:this.destroy.bind(this),alwaysOnTop:r,ariaLabel:o||i("ariaLabelDialog","Dialog")});a&&(this.close=a.hideFunc)},t.prototype.toggleMaximize=function(){var e=this.positionableFeature.getPosition();if(this.isMaximized){var t=this.lastPosition,r=t.x,n=t.y,o=t.width,i=t.height;this.setWidth(o),this.setHeight(i),this.positionableFeature.offsetElement(r,n)}else this.lastPosition.width=this.getWidth(),this.lastPosition.height=this.getHeight(),this.lastPosition.x=e.x,this.lastPosition.y=e.y,this.positionableFeature.offsetElement(0,0),this.setHeight("100%"),this.setWidth("100%");this.isMaximized=!this.isMaximized,this.refreshMaximizeIcon()},t.prototype.refreshMaximizeIcon=function(){Jt(this.maximizeIcon,!this.isMaximized),Jt(this.minimizeIcon,this.isMaximized)},t.prototype.clearMaximizebleListeners=function(){this.maximizeListeners.length&&(this.maximizeListeners.forEach((function(e){return e()})),this.maximizeListeners.length=0),this.resizeListenerDestroy&&(this.resizeListenerDestroy(),this.resizeListenerDestroy=null)},t.prototype.destroy=function(){this.maximizeButtonComp=this.destroyBean(this.maximizeButtonComp),this.clearMaximizebleListeners(),e.prototype.destroy.call(this)},t.prototype.setResizable=function(e){this.positionableFeature.setResizable(e)},t.prototype.setMovable=function(e){this.positionableFeature.setMovable(e,this.eTitleBar)},t.prototype.setMaximizable=function(e){var t=this;if(!e)return this.clearMaximizebleListeners(),void(this.maximizeButtonComp&&(this.destroyBean(this.maximizeButtonComp),this.maximizeButtonComp=this.maximizeIcon=this.minimizeIcon=void 0));var r=this.eTitleBar;if(r&&e!==this.isMaximizable){var n=this.maximizeButtonComp=this.createBean(new eo('<div class="ag-dialog-button"></span>')),o=n.getGui();o.appendChild(this.maximizeIcon=Rn("maximize",this.gridOptionsWrapper)),this.maximizeIcon.classList.add("ag-panel-title-bar-button-icon"),o.appendChild(this.minimizeIcon=Rn("minimize",this.gridOptionsWrapper)),this.minimizeIcon.classList.add("ag-panel-title-bar-button-icon","ag-hidden"),n.addManagedListener(o,"click",this.toggleMaximize.bind(this)),this.addTitleBarButton(n,0),this.maximizeListeners.push(this.addManagedListener(r,"dblclick",this.toggleMaximize.bind(this))),this.resizeListenerDestroy=this.addManagedListener(this,"resize",(function(){t.isMaximized=!1,t.refreshMaximizeIcon()}))}},ud([K("popupService")],t.prototype,"popupService",void 0),t}(ad),pd=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),dd=function(e){function t(t){var r=e.call(this,t,"ag-color-picker","colorPicker")||this;return t&&t.color&&(r.value=t.color),r}return pd(t,e),t.prototype.postConstruct=function(){e.prototype.postConstruct.call(this),this.value&&this.setValue(this.value)},t.prototype.showPicker=function(){var e=this,t=this.getGui().getBoundingClientRect(),r=this.createBean(new cd({closable:!1,modal:!0,hideTitleBar:!0,minWidth:190,width:190,height:250,x:t.right-190,y:t.top-250}));this.isPickerDisplayed=!0,r.addCssClass("ag-color-dialog"),qr(this.eWrapper,!0);var n=this.createBean(new nd({picker:this}));return n.addDestroyFunc((function(){r.isAlive()&&e.destroyBean(r)})),r.setParentComponent(this),r.setBodyComponent(n),n.setValue(this.getValue()),r.addDestroyFunc((function(){e.isDestroyingPicker?e.isDestroyingPicker=!1:(e.isDestroyingPicker=!0,n.isAlive()&&e.destroyBean(n)),e.isAlive()&&(qr(e.eWrapper,!1),e.getFocusableElement().focus()),e.isPickerDisplayed=!1})),r},t.prototype.setValue=function(t){return this.value===t?this:(this.eDisplayField.style.backgroundColor=t,e.prototype.setValue.call(this,t))},t.prototype.getValue=function(){return this.value},t}(Po),hd=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),fd=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},gd=function(e){function t(r){void 0===r&&(r={});var n=e.call(this,t.getTemplate(r))||this;n.suppressEnabledCheckbox=!0,n.suppressOpenCloseIcons=!1;var o=r.title,i=r.enabled,a=r.items,s=r.suppressEnabledCheckbox,l=r.suppressOpenCloseIcons;return n.title=o,n.cssIdentifier=r.cssIdentifier||"default",n.enabled=null==i||i,n.items=a||[],n.alignItems=r.alignItems||"center",null!=s&&(n.suppressEnabledCheckbox=s),null!=l&&(n.suppressOpenCloseIcons=l),n}return hd(t,e),t.getTemplate=function(e){var t=e.cssIdentifier||"default";return'<div class="ag-group ag-'+t+'-group" role="presentation">\n            <div class="ag-group-title-bar ag-'+t+'-group-title-bar ag-unselectable" ref="eTitleBar" role="button">\n                <span class="ag-group-title-bar-icon ag-'+t+'-group-title-bar-icon" ref="eGroupOpenedIcon" role="presentation"></span>\n                <span class="ag-group-title-bar-icon ag-'+t+'-group-title-bar-icon" ref="eGroupClosedIcon" role="presentation"></span>\n                <span ref="eTitle" class="ag-group-title ag-'+t+'-group-title"></span>\n            </div>\n            <div ref="eToolbar" class="ag-group-toolbar ag-'+t+'-group-toolbar">\n                <ag-checkbox ref="cbGroupEnabled"></ag-checkbox>\n            </div>\n            <div ref="eContainer" class="ag-group-container ag-group-container-'+(e.direction||"vertical")+" ag-"+t+'-group-container"></div>\n        </div>'},t.prototype.postConstruct=function(){if(this.items.length){var e=this.items;this.items=[],this.addItems(e)}var t=this.gridOptionsWrapper.getLocaleTextFunc();this.cbGroupEnabled.setLabel(t("enabled","Enabled")),this.title&&this.setTitle(this.title),this.enabled&&this.setEnabled(this.enabled),this.setAlignItems(this.alignItems),this.hideEnabledCheckbox(this.suppressEnabledCheckbox),this.hideOpenCloseIcons(this.suppressOpenCloseIcons),this.setupExpandContract(),this.refreshAriaStatus(),this.refreshChildDisplay()},t.prototype.setupExpandContract=function(){var e=this;this.eGroupClosedIcon.appendChild(Pn("columnSelectClosed",this.gridOptionsWrapper,null)),this.eGroupOpenedIcon.appendChild(Pn("columnSelectOpen",this.gridOptionsWrapper,null)),this.addManagedListener(this.eTitleBar,"click",(function(){return e.toggleGroupExpand()})),this.addManagedListener(this.eTitleBar,"keydown",(function(t){switch(t.key){case po.ENTER:case po.SPACE:t.preventDefault(),e.toggleGroupExpand();break;case po.RIGHT:case po.LEFT:t.preventDefault(),e.toggleGroupExpand(t.key===po.RIGHT)}}))},t.prototype.refreshAriaStatus=function(){this.suppressOpenCloseIcons||qr(this.eTitleBar,this.expanded)},t.prototype.refreshChildDisplay=function(){var e=!this.suppressOpenCloseIcons;Jt(this.eToolbar,this.expanded&&!this.suppressEnabledCheckbox),Jt(this.eGroupOpenedIcon,e&&this.expanded),Jt(this.eGroupClosedIcon,e&&!this.expanded)},t.prototype.isExpanded=function(){return this.expanded},t.prototype.setAlignItems=function(e){this.alignItems!==e&&this.removeCssClass("ag-group-item-alignment-"+this.alignItems),this.alignItems=e;var t="ag-group-item-alignment-"+this.alignItems;return this.addCssClass(t),this},t.prototype.toggleGroupExpand=function(e){return this.suppressOpenCloseIcons?(this.expanded=!0,this.refreshChildDisplay(),Jt(this.eContainer,!0),this):(e=null!=e?e:!this.expanded,this.expanded===e||(this.expanded=e,this.refreshAriaStatus(),this.refreshChildDisplay(),Jt(this.eContainer,e),this.dispatchEvent({type:this.expanded?t.EVENT_EXPANDED:t.EVENT_COLLAPSED})),this)},t.prototype.addItems=function(e){var t=this;e.forEach((function(e){return t.addItem(e)}))},t.prototype.addItem=function(e){var t=this.eContainer,r=e instanceof eo?e.getGui():e;r.classList.add("ag-group-item","ag-"+this.cssIdentifier+"-group-item"),t.appendChild(r),this.items.push(r)},t.prototype.hideItem=function(e,t){this.items[t].classList.toggle("ag-hidden",e)},t.prototype.setTitle=function(e){return this.eTitle.innerText=e,this},t.prototype.addCssClassToTitleBar=function(e){this.eTitleBar.classList.add(e)},t.prototype.setEnabled=function(e,t){return this.enabled=e,this.refreshDisabledStyles(),this.toggleGroupExpand(e),t||this.cbGroupEnabled.setValue(e),this},t.prototype.isEnabled=function(){return this.enabled},t.prototype.onEnableChange=function(e){var t=this;return this.cbGroupEnabled.onValueChange((function(r){t.setEnabled(r,!0),e(r)})),this},t.prototype.hideEnabledCheckbox=function(e){return this.suppressEnabledCheckbox=e,this.refreshChildDisplay(),this.refreshDisabledStyles(),this},t.prototype.hideOpenCloseIcons=function(e){return this.suppressOpenCloseIcons=e,e&&this.toggleGroupExpand(!0),this},t.prototype.refreshDisabledStyles=function(){this.addOrRemoveCssClass("ag-disabled",!this.enabled),this.suppressEnabledCheckbox&&!this.enabled?(this.eTitleBar.classList.add("ag-disabled-group-title-bar"),this.eTitleBar.removeAttribute("tabindex")):(this.eTitleBar.classList.remove("ag-disabled-group-title-bar"),this.eTitleBar.setAttribute("tabindex","0")),this.eContainer.classList.toggle("ag-disabled-group-container",!this.enabled)},t.EVENT_EXPANDED="expanded",t.EVENT_COLLAPSED="collapsed",fd([to("eTitleBar")],t.prototype,"eTitleBar",void 0),fd([to("eGroupOpenedIcon")],t.prototype,"eGroupOpenedIcon",void 0),fd([to("eGroupClosedIcon")],t.prototype,"eGroupClosedIcon",void 0),fd([to("eToolbar")],t.prototype,"eToolbar",void 0),fd([to("cbGroupEnabled")],t.prototype,"cbGroupEnabled",void 0),fd([to("eTitle")],t.prototype,"eTitle",void 0),fd([to("eContainer")],t.prototype,"eContainer",void 0),fd([U],t.prototype,"postConstruct",null),t}(eo),yd=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),vd=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},md=function(e){function t(t){var r=e.call(this)||this;r.skipTabGuardFocus=!1;var n=t.comp,o=t.eTopGuard,i=t.eBottomGuard,a=t.focusInnerElement,s=t.onFocusIn,l=t.onFocusOut,u=t.shouldStopEventPropagation,c=t.onTabKeyDown,p=t.handleKeyDown,d=t.eFocusableElement;return r.comp=n,r.eTopGuard=o,r.eBottomGuard=i,r.providedFocusInnerElement=a,r.eFocusableElement=d,r.providedFocusIn=s,r.providedFocusOut=l,r.providedShouldStopEventPropagation=u,r.providedOnTabKeyDown=c,r.providedHandleKeyDown=p,r}return yd(t,e),t.prototype.postConstruct=function(){var e=this;this.createManagedBean(new yo(this.eFocusableElement,{shouldStopEventPropagation:function(){return e.shouldStopEventPropagation()},onTabKeyDown:function(t){return e.onTabKeyDown(t)},handleKeyDown:function(t){return e.handleKeyDown(t)},onFocusIn:function(t){return e.onFocusIn(t)},onFocusOut:function(t){return e.onFocusOut(t)}})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach((function(t){return e.addManagedListener(t,"focus",e.onFocus.bind(e))}))},t.prototype.handleKeyDown=function(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)},t.prototype.tabGuardsAreActive=function(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")},t.prototype.shouldStopEventPropagation=function(){return!!this.providedShouldStopEventPropagation&&this.providedShouldStopEventPropagation()},t.prototype.activateTabGuards=function(){this.comp.setTabIndex(this.getGridTabIndex())},t.prototype.deactivateTabGuards=function(){this.comp.setTabIndex()},t.prototype.onFocus=function(e){if(this.skipTabGuardFocus)this.skipTabGuardFocus=!1;else{var t=e.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(t):this.focusInnerElement(t)}},t.prototype.onFocusIn=function(e){this.providedFocusIn&&this.providedFocusIn(e)||this.deactivateTabGuards()},t.prototype.onFocusOut=function(e){this.providedFocusOut&&this.providedFocusOut(e)||this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards()},t.prototype.onTabKeyDown=function(e){var t=this;if(this.providedOnTabKeyDown)this.providedOnTabKeyDown(e);else if(!e.defaultPrevented){var r=this.tabGuardsAreActive();r&&this.deactivateTabGuards();var n=this.getNextFocusableElement(e.shiftKey);r&&setTimeout((function(){return t.activateTabGuards()}),0),n&&(n.focus(),e.preventDefault())}},t.prototype.getGridTabIndex=function(){return this.gridOptionsWrapper.getGridTabIndex()},t.prototype.focusInnerElement=function(e){void 0===e&&(e=!1);var t=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(t.splice(0,1),t.splice(t.length-1,1)),t.length&&t[e?t.length-1:0].focus()},t.prototype.getNextFocusableElement=function(e){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,e)},t.prototype.forceFocusOutOfContainer=function(e){void 0===e&&(e=!1);var t=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,t.focus()},vd([K("focusService")],t.prototype,"focusService",void 0),vd([U],t.prototype,"postConstruct",null),t}(Le),bd=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Cd=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},wd=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Cd(arguments[t]));return e},xd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return bd(t,e),t.prototype.initialiseTabGuard=function(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.getFocusableElement();var t=[this.eTopGuard,this.eBottomGuard],r={setTabIndex:function(e){t.forEach((function(t){return null!=e?t.setAttribute("tabIndex",e):t.removeAttribute("tabIndex")}))}};this.addTabGuards(this.eTopGuard,this.eBottomGuard),this.tabGuardCtrl=this.createManagedBean(new md({comp:r,eTopGuard:this.eTopGuard,eBottomGuard:this.eBottomGuard,eFocusableElement:this.eFocusableElement,onFocusIn:e.onFocusIn,onFocusOut:e.onFocusOut,focusInnerElement:e.focusInnerElement,handleKeyDown:e.handleKeyDown,onTabKeyDown:e.onTabKeyDown,shouldStopEventPropagation:e.shouldStopEventPropagation}))},t.prototype.createTabGuard=function(e){var t=document.createElement("div");return t.classList.add("ag-tab-guard","ag-tab-guard-"+e),Br(t,"presentation"),t},t.prototype.addTabGuards=function(e,t){this.eFocusableElement.insertAdjacentElement("afterbegin",e),this.eFocusableElement.insertAdjacentElement("beforeend",t)},t.prototype.removeAllChildrenExceptTabGuards=function(){var e=[this.eTopGuard,this.eBottomGuard];pr(this.getFocusableElement()),this.addTabGuards.apply(this,wd(e))},t.prototype.forceFocusOutOfContainer=function(e){void 0===e&&(e=!1),this.tabGuardCtrl.forceFocusOutOfContainer(e)},t.prototype.appendChild=function(t,r){Ar(t)||(t=t.getGui());var n=this.eBottomGuard;n?n.insertAdjacentElement("beforebegin",t):e.prototype.appendChild.call(this,t,r)},t}(eo),Sd=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ed=function(){return Ed=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ed.apply(this,arguments)},Od=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},_d=function(e){function t(t){void 0===t&&(t=1);var r=e.call(this,'<div class="ag-menu-list" role="tree"></div>')||this;return r.level=t,r.menuItems=[],r}return Sd(t,e),t.prototype.postConstruct=function(){var e=this;this.initialiseTabGuard({onTabKeyDown:function(t){return e.onTabKeyDown(t)},handleKeyDown:function(t){return e.handleKeyDown(t)}})},t.prototype.onTabKeyDown=function(e){var t=this.getParentComponent(),r=t&&t.getGui();r&&r.classList.contains("ag-focus-managed")||e.preventDefault(),e.shiftKey&&this.closeIfIsChild(e)},t.prototype.handleKeyDown=function(e){switch(e.key){case po.UP:case po.RIGHT:case po.DOWN:case po.LEFT:e.preventDefault(),this.handleNavKey(e.key);break;case po.ESCAPE:var t=this.findTopMenu();t&&this.focusService.focusInto(t.getGui())}},t.prototype.clearActiveItem=function(){this.activeMenuItem&&(this.activeMenuItem.deactivate(),this.activeMenuItem=null)},t.prototype.addMenuItems=function(e){var t=this;null!=e&&e.forEach((function(e){"separator"===e?t.addSeparator():"string"===typeof e?console.warn("AG Grid: unrecognised menu item "+e):t.addItem(e)}))},t.prototype.addItem=function(e){var t=this,r=this.createManagedBean(new Md(Ed(Ed({},e),{isAnotherSubMenuOpen:function(){return t.menuItems.some((function(e){return e.isSubMenuOpen()}))}})));r.setParentComponent(this),Xr(r.getGui(),this.level),this.menuItems.push(r),this.appendChild(r.getGui()),this.addManagedListener(r,Md.EVENT_MENU_ITEM_SELECTED,(function(e){t.dispatchEvent(e)})),this.addManagedListener(r,Md.EVENT_MENU_ITEM_ACTIVATED,(function(e){t.activeMenuItem&&t.activeMenuItem!==e.menuItem&&t.activeMenuItem.deactivate(),t.activeMenuItem=e.menuItem}))},t.prototype.activateFirstItem=function(){var e=this.menuItems.filter((function(e){return!e.isDisabled()}))[0];e&&e.activate()},t.prototype.addSeparator=function(){this.appendChild(fr('\n            <div class="ag-menu-separator" aria-hidden="true">\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n            </div>'))},t.prototype.findTopMenu=function(){var e=this.getParentComponent();if(!e&&this instanceof t)return this;for(;;){var r=e&&e.getParentComponent&&e.getParentComponent();if(!r||!(r instanceof t||r instanceof Md))break;e=r}return e instanceof t?e:void 0},t.prototype.handleNavKey=function(e){switch(e){case po.UP:case po.DOWN:var t=this.findNextItem(e===po.UP);return void(t&&t!==this.activeMenuItem&&t.activate())}e===(this.gridOptionsWrapper.isEnableRtl()?po.RIGHT:po.LEFT)?this.closeIfIsChild():this.openChild()},t.prototype.closeIfIsChild=function(e){var t=this.getParentComponent();t&&t instanceof Md&&(e&&e.preventDefault(),t.closeSubMenu(),t.getGui().focus())},t.prototype.openChild=function(){this.activeMenuItem&&this.activeMenuItem.openSubMenu(!0)},t.prototype.findNextItem=function(e){var t=this.menuItems.filter((function(e){return!e.isDisabled()}));if(t.length){if(!this.activeMenuItem)return e?ue(t):t[0];var r;e&&t.reverse();for(var n=!1,o=0;o<t.length;o++){var i=t[o];if(n){r=i;break}i===this.activeMenuItem&&(n=!0)}return r||this.activeMenuItem}},t.prototype.destroy=function(){this.clearActiveItem(),e.prototype.destroy.call(this)},Od([K("focusService")],t.prototype,"focusService",void 0),Od([U],t.prototype,"postConstruct",null),t}(xd),Pd=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Rd=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Ad=function(e){function t(t){var r=e.call(this)||this;return r.wrappedComponent=t,r.setTemplateFromElement(t.getGui()),r}return Pd(t,e),t.prototype.postConstruct=function(){var e=this;this.initialiseTabGuard({onTabKeyDown:function(t){return e.onTabKeyDown(t)},handleKeyDown:function(t){return e.handleKeyDown(t)}})},t.prototype.handleKeyDown=function(e){e.key===po.ESCAPE&&this.closePanel()},t.prototype.onTabKeyDown=function(e){e.defaultPrevented||(this.closePanel(),e.preventDefault())},t.prototype.closePanel=function(){var e=this.parentComponent;e.closeSubMenu(),setTimeout((function(){return e.getGui().focus()}),0)},Rd([U],t.prototype,"postConstruct",null),t}(xd),Td=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Dd=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Md=function(e){function t(t){var r=e.call(this)||this;return r.params=t,r.isActive=!1,r.subMenuIsOpen=!1,r.setTemplate('<div class="'+r.getClassName()+'" tabindex="-1" role="treeitem"></div>'),r}return Td(t,e),t.prototype.init=function(){var e=this;this.addIcon(),this.addName(),this.addShortcut(),this.addSubMenu(),this.addTooltip();var t=this.getGui();this.params.disabled?(this.addCssClass(this.getClassName("disabled")),Kr(t,!0)):(this.addGuiEventListener("click",(function(t){return e.onItemSelected(t)})),this.addGuiEventListener("keydown",(function(t){t.key!==po.ENTER&&t.key!==po.SPACE||(t.preventDefault(),e.onItemSelected(t))})),this.addGuiEventListener("mousedown",(function(e){e.stopPropagation(),e.preventDefault()})),this.addGuiEventListener("mouseenter",(function(){return e.onMouseEnter()})),this.addGuiEventListener("mouseleave",(function(){return e.onMouseLeave()}))),this.params.cssClasses&&this.params.cssClasses.forEach((function(t){return e.addCssClass(t)}))},t.prototype.isDisabled=function(){return!!this.params.disabled},t.prototype.openSubMenu=function(e){var r=this;if(void 0===e&&(e=!1),this.closeSubMenu(),this.params.subMenu){var n,o=fr('<div class="ag-menu" role="presentation"></div>');if(this.params.subMenu instanceof Array){var i=Hr(this.getGui()),a=isNaN(i)?1:i+1,s=this.createBean(new _d(a));s.setParentComponent(this),s.addMenuItems(this.params.subMenu),o.appendChild(s.getGui()),this.addManagedListener(s,t.EVENT_MENU_ITEM_SELECTED,(function(e){return r.dispatchEvent(e)})),s.addGuiEventListener("mouseenter",(function(){return r.cancelDeactivate()})),n=function(){return r.destroyBean(s)},e&&setTimeout((function(){return s.activateFirstItem()}),0)}else{var l=this.params.subMenu,u=this.createBean(new Ad(l));u.setParentComponent(this);var c=u.getGui(),p="mouseenter",d=function(){return r.cancelDeactivate()};c.addEventListener(p,d),n=function(){return c.removeEventListener(p,d)},o.appendChild(c),l.afterGuiAttached&&setTimeout((function(){return l.afterGuiAttached()}),0)}var h=this.getGui(),f=this.popupService.positionPopupForMenu.bind(this.popupService,{eventSource:h,ePopup:o}),g=this.gridOptionsWrapper.getLocaleTextFunc(),y=this.popupService.addPopup({modal:!0,eChild:o,positionCallback:f,anchorToElement:h,ariaLabel:g("ariaLabelSubMenu","SubMenu")});this.subMenuIsOpen=!0,qr(h,!0),this.hideSubMenu=function(){y&&y.hideFunc(),r.subMenuIsOpen=!1,qr(h,!1),n()}}},t.prototype.closeSubMenu=function(){this.hideSubMenu&&(this.hideSubMenu(),this.hideSubMenu=null,qr(this.getGui(),!1))},t.prototype.isSubMenuOpen=function(){return this.subMenuIsOpen},t.prototype.activate=function(e){var t=this;this.cancelActivate(),this.params.disabled||(this.isActive=!0,this.addCssClass(this.getClassName("active")),this.getGui().focus(),e&&this.params.subMenu&&window.setTimeout((function(){t.isAlive()&&t.isActive&&t.openSubMenu()}),300),this.onItemActivated())},t.prototype.deactivate=function(){this.cancelDeactivate(),this.removeCssClass(this.getClassName("active")),this.isActive=!1,this.subMenuIsOpen&&this.hideSubMenu()},t.prototype.addIcon=function(){if(this.params.checked||this.params.icon||!this.params.isCompact){var e=fr('<span ref="eIcon" class="'+this.getClassName("part")+" "+this.getClassName("icon")+'" role="presentation"></span>');this.params.checked?e.appendChild(Rn("check",this.gridOptionsWrapper)):this.params.icon&&(Ar(this.params.icon)?e.appendChild(this.params.icon):"string"===typeof this.params.icon?e.innerHTML=this.params.icon:console.warn("AG Grid: menu item icon must be DOM node or string")),this.getGui().appendChild(e)}},t.prototype.addName=function(){if(this.params.name||!this.params.isCompact){var e=fr('<span ref="eName" class="'+this.getClassName("part")+" "+this.getClassName("text")+'">'+(this.params.name||"")+"</span>");this.getGui().appendChild(e)}},t.prototype.addTooltip=function(){this.params.tooltip&&(this.tooltip=this.params.tooltip,this.gridOptionsWrapper.isEnableBrowserTooltips()?this.getGui().setAttribute("title",this.tooltip):this.createManagedBean(new qn(this)))},t.prototype.getTooltipParams=function(){return{location:"menu",value:this.tooltip}},t.prototype.addShortcut=function(){if(this.params.shortcut||!this.params.isCompact){var e=fr('<span ref="eShortcut" class="'+this.getClassName("part")+" "+this.getClassName("shortcut")+'">'+(this.params.shortcut||"")+"</span>");this.getGui().appendChild(e)}},t.prototype.addSubMenu=function(){if(this.params.subMenu||!this.params.isCompact){var e=fr('<span ref="ePopupPointer" class="'+this.getClassName("part")+" "+this.getClassName("popup-pointer")+'"></span>'),t=this.getGui();if(this.params.subMenu){var r=this.gridOptionsWrapper.isEnableRtl()?"smallLeft":"smallRight";qr(t,!1),e.appendChild(Rn(r,this.gridOptionsWrapper))}t.appendChild(e)}},t.prototype.onItemSelected=function(e){if(this.params.action?this.params.action():this.openSubMenu(e&&"keydown"===e.type),!this.params.subMenu||this.params.action){var r={type:t.EVENT_MENU_ITEM_SELECTED,action:this.params.action,checked:this.params.checked,cssClasses:this.params.cssClasses,disabled:this.params.disabled,icon:this.params.icon,name:this.params.name,shortcut:this.params.shortcut,subMenu:this.params.subMenu,tooltip:this.params.tooltip,event:e};this.dispatchEvent(r)}},t.prototype.onItemActivated=function(){var e={type:t.EVENT_MENU_ITEM_ACTIVATED,menuItem:this};this.dispatchEvent(e)},t.prototype.cancelActivate=function(){this.activateTimeoutId&&(window.clearTimeout(this.activateTimeoutId),this.activateTimeoutId=0)},t.prototype.cancelDeactivate=function(){this.deactivateTimeoutId&&(window.clearTimeout(this.deactivateTimeoutId),this.deactivateTimeoutId=0)},t.prototype.onMouseEnter=function(){var e=this;this.cancelDeactivate(),this.params.isAnotherSubMenuOpen()?this.activateTimeoutId=window.setTimeout((function(){return e.activate(!0)}),t.ACTIVATION_DELAY):this.activate(!0)},t.prototype.onMouseLeave=function(){var e=this;this.cancelActivate(),this.isSubMenuOpen()?this.deactivateTimeoutId=window.setTimeout((function(){return e.deactivate()}),t.ACTIVATION_DELAY):this.deactivate()},t.prototype.getClassName=function(e){var t=this.params.isCompact?"ag-compact-menu-option":"ag-menu-option";return e?t+"-"+e:t},t.EVENT_MENU_ITEM_SELECTED="menuItemSelected",t.EVENT_MENU_ITEM_ACTIVATED="menuItemActivated",t.ACTIVATION_DELAY=80,Dd([K("popupService")],t.prototype,"popupService",void 0),Dd([U],t.prototype,"init",null),t}(eo),kd=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Nd=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Id=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},Ld=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Id(arguments[t]));return e},Fd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var r;return kd(t,e),r=t,t.addKeyboardModeEvents=function(e,t){var n=r.instancesMonitored.get(e);n&&n.length>0?-1===n.indexOf(t)&&n.push(t):(r.instancesMonitored.set(e,[t]),e.addEventListener("keydown",r.toggleKeyboardMode),e.addEventListener("mousedown",r.toggleKeyboardMode))},t.removeKeyboardModeEvents=function(e,t){var n=r.instancesMonitored.get(e),o=[];n&&n.length&&(o=Ld(n).filter((function(e){return e!==t})),r.instancesMonitored.set(e,o)),0===o.length&&(e.removeEventListener("keydown",r.toggleKeyboardMode),e.removeEventListener("mousedown",r.toggleKeyboardMode))},t.toggleKeyboardMode=function(e){var t=r.keyboardModeActive,n="keydown"===e.type;if((!n||!(e.ctrlKey||e.metaKey||e.altKey))&&!(t&&n||!t&&!n)){r.keyboardModeActive=n;var o=e.target.ownerDocument;if(o){var i=r.instancesMonitored.get(o);i&&i.forEach((function(e){e.dispatchEvent({type:n?He.EVENT_KEYBOARD_FOCUS:He.EVENT_MOUSE_FOCUS})}))}}},t.prototype.init=function(){var e=this,t=this.clearFocusedCell.bind(this);this.addManagedListener(this.eventService,He.EVENT_COLUMN_PIVOT_MODE_CHANGED,t),this.addManagedListener(this.eventService,He.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverythingChanged.bind(this)),this.addManagedListener(this.eventService,He.EVENT_COLUMN_GROUP_OPENED,t),this.addManagedListener(this.eventService,He.EVENT_COLUMN_ROW_GROUP_CHANGED,t),this.ctrlsService.whenReady((function(t){e.gridCtrl=t.gridCtrl;var n=e.gridOptionsWrapper.getDocument();r.addKeyboardModeEvents(n,e.gridCtrl),e.addDestroyFunc((function(){return e.unregisterGridCompController(e.gridCtrl)}))}))},t.prototype.unregisterGridCompController=function(e){var t=this.gridOptionsWrapper.getDocument();r.removeKeyboardModeEvents(t,e)},t.prototype.onColumnEverythingChanged=function(){if(this.focusedCellPosition){var e=this.focusedCellPosition.column,t=this.columnModel.getGridColumn(e.getId());e!==t&&this.clearFocusedCell()}},t.prototype.isKeyboardMode=function(){return r.keyboardModeActive},t.prototype.getFocusCellToUseAfterRefresh=function(){var e=this.gridOptionsWrapper.getDocument();return this.gridOptionsWrapper.isSuppressFocusAfterRefresh()||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(e.activeElement,fl.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition},t.prototype.getFocusHeaderToUseAfterRefresh=function(){var e=this.gridOptionsWrapper.getDocument();return this.gridOptionsWrapper.isSuppressFocusAfterRefresh()||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(e.activeElement,Hu.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition},t.prototype.isDomDataMissingInHierarchy=function(e,t){for(var r=e;r;){if(this.gridOptionsWrapper.getDomData(r,t))return!1;r=r.parentNode}return!0},t.prototype.clearFocusedCell=function(){this.focusedCellPosition=null,this.onCellFocused(!1)},t.prototype.getFocusedCell=function(){return this.focusedCellPosition},t.prototype.setFocusedCell=function(e,t,r,o){void 0===o&&(o=!1);var i=this.columnModel.getGridColumn(t);i?(this.focusedCellPosition=i?{rowIndex:e,rowPinned:n(r),column:i}:null,this.onCellFocused(o)):this.focusedCellPosition=null},t.prototype.isCellFocused=function(e){return null!=this.focusedCellPosition&&(this.focusedCellPosition.column===e.column&&this.isRowFocused(e.rowIndex,e.rowPinned))},t.prototype.isRowNodeFocused=function(e){return this.isRowFocused(e.rowIndex,e.rowPinned)},t.prototype.isHeaderWrapperFocused=function(e){if(null==this.focusedHeaderPosition)return!1;var t=e.getColumnGroupChild(),r=e.getRowIndex(),n=e.getPinned(),o=this.focusedHeaderPosition,i=o.column,a=o.headerRowIndex;return t===i&&r===a&&n==i.getPinned()},t.prototype.clearFocusedHeader=function(){this.focusedHeaderPosition=null},t.prototype.getFocusedHeader=function(){return this.focusedHeaderPosition},t.prototype.setFocusedHeader=function(e,t){this.focusedHeaderPosition={headerRowIndex:e,column:t}},t.prototype.focusHeaderPosition=function(e){var t=e.direction,r=e.fromTab,n=e.allowUserOverride,o=e.event,i=e.headerPosition;if(n){var a,s=this.gridOptionsWrapper,l=this.getFocusedHeader(),u=this.headerNavigationService.getHeaderRowCount();if(r){if(a=s.getTabToNextHeaderFunc())i=a({backwards:"Before"===t,previousHeaderPosition:l,nextHeaderPosition:i,headerRowCount:u})}else if((a=s.getNavigateToNextHeaderFunc())&&o)i=a({key:o.key,previousHeaderPosition:l,nextHeaderPosition:i,headerRowCount:u,event:o})}return!!i&&(-1===i.headerRowIndex?this.focusGridView(i.column):(this.headerNavigationService.scrollToColumn(i.column,t),this.ctrlsService.getHeaderRowContainerCtrl(i.column.getPinned()).focusHeader(i.headerRowIndex,i.column,o)))},t.prototype.focusFirstHeader=function(){var e=this.columnModel.getAllDisplayedColumns()[0];return!!e&&(e.getParent()&&(e=this.columnModel.getColumnGroupAtLevel(e,0)),this.focusHeaderPosition({headerPosition:{headerRowIndex:0,column:e}}))},t.prototype.focusLastHeader=function(e){var t=this.headerNavigationService.getHeaderRowCount()-1,r=ue(this.columnModel.getAllDisplayedColumns());return this.focusHeaderPosition({headerPosition:{headerRowIndex:t,column:r},event:e})},t.prototype.isAnyCellFocused=function(){return!!this.focusedCellPosition},t.prototype.isRowFocused=function(e,t){return null!=this.focusedCellPosition&&(this.focusedCellPosition.rowIndex===e&&this.focusedCellPosition.rowPinned===n(t))},t.prototype.findFocusableElements=function(e,t,r){void 0===r&&(r=!1);var n=ne.FOCUSABLE_SELECTOR,o=ne.FOCUSABLE_EXCLUDE;t&&(o+=", "+t),r&&(o+=', [tabindex="-1"]');var i=Array.prototype.slice.apply(e.querySelectorAll(n)),a=Array.prototype.slice.apply(e.querySelectorAll(o));if(!a.length)return i;var s;return s=a,i.filter((function(e){return-1===s.indexOf(e)}))},t.prototype.focusInto=function(e,t,r){void 0===t&&(t=!1),void 0===r&&(r=!1);var n=this.findFocusableElements(e,null,r),o=t?ue(n):n[0];return!!o&&(o.focus(),!0)},t.prototype.findNextFocusableElement=function(e,t,r){void 0===e&&(e=this.eGridDiv);var n=this.findFocusableElements(e,t?':not([tabindex="-1"])':null),o=this.gridOptionsWrapper.getDocument().activeElement,i=(t?n.findIndex((function(e){return e.contains(o)})):n.indexOf(o))+(r?-1:1);return i<0||i>=n.length?null:n[i]},t.prototype.isFocusUnderManagedComponent=function(e){var t=this.gridOptionsWrapper.getDocument(),r=e.querySelectorAll("."+yo.FOCUS_MANAGED_CLASS);if(!r.length)return!1;for(var n=0;n<r.length;n++)if(r[n].contains(t.activeElement))return!0;return!1},t.prototype.findTabbableParent=function(e,t){void 0===t&&(t=5);for(var r=0;e&&null===Vt(e)&&++r<=t;)e=e.parentElement;return null===Vt(e)?null:e},t.prototype.onCellFocused=function(e){var t={type:He.EVENT_CELL_FOCUSED,forceBrowserFocus:e,rowIndex:null,column:null,floating:null,api:this.gridApi,columnApi:this.columnApi,rowPinned:null,isFullWidthCell:!1};if(this.focusedCellPosition){var r=t.rowIndex=this.focusedCellPosition.rowIndex,n=t.rowPinned=this.focusedCellPosition.rowPinned;t.column=this.focusedCellPosition.column;var o=this.rowRenderer.getRowByPosition({rowIndex:r,rowPinned:n});o&&(t.isFullWidthCell=o.isFullWidth())}this.eventService.dispatchEvent(t)},t.prototype.focusGridView=function(e,t){if(this.gridOptionsWrapper.isSuppressCellFocus())return t?this.focusLastHeader():this.focusNextGridCoreContainer(!1);var r=t?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(!r)return!1;var o=r.rowIndex,i=r.rowPinned,a=this.getFocusedHeader();if(!e&&a&&(e=a.column),null==o||!e)return!1;if(this.navigationService.ensureCellVisible({rowIndex:o,column:e,rowPinned:i}),this.setFocusedCell(o,e,n(i),!0),this.rangeService){var s={rowIndex:o,rowPinned:i,column:e};this.rangeService.setRangeToCell(s)}return!0},t.prototype.focusNextGridCoreContainer=function(e){return!!this.gridCtrl.focusNextInnerContainer(e)||(e||this.gridCtrl.isDetailGrid()||this.gridCtrl.forceFocusOutOfContainer(),!1)},t.AG_KEYBOARD_FOCUS="ag-keyboard-focus",t.keyboardModeActive=!1,t.instancesMonitored=new Map,Nd([K("eGridDiv")],t.prototype,"eGridDiv",void 0),Nd([K("columnModel")],t.prototype,"columnModel",void 0),Nd([K("headerNavigationService")],t.prototype,"headerNavigationService",void 0),Nd([K("columnApi")],t.prototype,"columnApi",void 0),Nd([K("gridApi")],t.prototype,"gridApi",void 0),Nd([K("rowRenderer")],t.prototype,"rowRenderer",void 0),Nd([K("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),Nd([q("rangeService")],t.prototype,"rangeService",void 0),Nd([K("navigationService")],t.prototype,"navigationService",void 0),Nd([K("ctrlsService")],t.prototype,"ctrlsService",void 0),Nd([U],t.prototype,"init",null),t=r=Nd([X("focusService")],t)}(Le),Gd=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Bd=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a};!function(e){e[e.vertical=0]="vertical",e[e.horizontal=1]="horizontal"}(xp||(xp={}));var Wd,Hd=0,jd=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.popupList=[],t}return Gd(t,e),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady((function(t){e.gridCtrl=t.gridCtrl,e.addManagedListener(e.gridCtrl,He.EVENT_KEYBOARD_FOCUS,(function(){e.popupList.forEach((function(e){return e.element.classList.add(Fd.AG_KEYBOARD_FOCUS)}))})),e.addManagedListener(e.gridCtrl,He.EVENT_MOUSE_FOCUS,(function(){e.popupList.forEach((function(e){return e.element.classList.remove(Fd.AG_KEYBOARD_FOCUS)}))}))}))},t.prototype.getPopupParent=function(){var e=this.gridOptionsWrapper.getPopupParent();return e||this.gridCtrl.getGui()},t.prototype.positionPopupForMenu=function(e){var t=e.eventSource.getBoundingClientRect(),r=this.getParentRect(),n=this.keepXYWithinBounds(e.ePopup,t.top-r.top,xp.vertical),o=e.ePopup.clientWidth>0?e.ePopup.clientWidth:200;e.ePopup.style.minWidth=o+"px";var i,a=r.right-r.left-o;function s(){return t.right-r.left-2}function l(){return t.left-r.left-o}this.gridOptionsWrapper.isEnableRtl()?((i=l())<0&&(i=s()),i>a&&(i=0)):((i=s())>a&&(i=l()),i<0&&(i=0)),e.ePopup.style.left=i+"px",e.ePopup.style.top=n+"px"},t.prototype.positionPopupUnderMouseEvent=function(e){var t=e.ePopup,r=e.nudgeX,n=e.nudgeY,o=this.calculatePointerAlign(e.mouseEvent),i=o.x,a=o.y;this.positionPopup({ePopup:t,x:i,y:a,nudgeX:r,nudgeY:n,keepWithinBounds:!0}),this.callPostProcessPopup(e.type,e.ePopup,null,e.mouseEvent,e.column,e.rowNode)},t.prototype.calculatePointerAlign=function(e){var t=this.getParentRect();return{x:e.clientX-t.left,y:e.clientY-t.top}},t.prototype.positionPopupUnderComponent=function(e){var t=e.eventSource.getBoundingClientRect(),r=e.alignSide||"left",n=this.getParentRect(),o=t.left-n.left;"right"===r&&(o-=e.ePopup.offsetWidth-t.width),this.positionPopup({ePopup:e.ePopup,nudgeX:e.nudgeX,nudgeY:e.nudgeY,x:o,y:t.top-n.top+t.height,keepWithinBounds:e.keepWithinBounds}),this.callPostProcessPopup(e.type,e.ePopup,e.eventSource,null,e.column,e.rowNode)},t.prototype.positionPopupOverComponent=function(e){var t=e.eventSource.getBoundingClientRect(),r=this.getParentRect();this.positionPopup({ePopup:e.ePopup,nudgeX:e.nudgeX,nudgeY:e.nudgeY,x:t.left-r.left,y:t.top-r.top,keepWithinBounds:e.keepWithinBounds}),this.callPostProcessPopup(e.type,e.ePopup,e.eventSource,null,e.column,e.rowNode)},t.prototype.callPostProcessPopup=function(e,t,r,n,o,i){var a=this.gridOptionsWrapper.getPostProcessPopupFunc();a&&a({column:o,rowNode:i,ePopup:t,type:e,eventSource:r,mouseEvent:n})},t.prototype.positionPopup=function(e){var t=e.ePopup,r=e.keepWithinBounds,n=e.nudgeX,o=e.nudgeY,i=e.x,a=e.y;n&&(i+=n),o&&(a+=o),r&&(i=this.keepXYWithinBounds(t,i,xp.horizontal),a=this.keepXYWithinBounds(t,a,xp.vertical)),t.style.left=i+"px",t.style.top=a+"px"},t.prototype.getActivePopups=function(){return this.popupList.map((function(e){return e.element}))},t.prototype.getPopupList=function(){return this.popupList},t.prototype.getParentRect=function(){var e=this.gridOptionsWrapper.getDocument(),t=this.getPopupParent();t===e.body&&(t=e.documentElement);var r=getComputedStyle(t),n=t.getBoundingClientRect();return{top:n.top+parseFloat(r.borderTopWidth)||0,left:n.left+parseFloat(r.borderLeftWidth)||0,right:n.right+parseFloat(r.borderRightWidth)||0,bottom:n.bottom+parseFloat(r.borderBottomWidth)||0}},t.prototype.keepXYWithinBounds=function(e,t,r){var n=r===xp.vertical,o=n?"clientHeight":"clientWidth",i=n?"top":"left",a=n?"offsetHeight":"offsetWidth",s=n?"scrollTop":"scrollLeft",l=this.gridOptionsWrapper.getDocument(),u=l.documentElement,c=this.getPopupParent(),p=c.getBoundingClientRect(),d=l.documentElement.getBoundingClientRect(),h=c===l.body,f=e[a],g=h?(n?ar:sr)(u)+u[s]:c[o];h&&(g-=Math.abs(d[i]-p[i]));var y=g-f;return Math.min(Math.max(t,0),Math.abs(y))},t.prototype.keepPopupPositionedRelativeTo=function(e){var t=this,r=this.getPopupParent(),n=r.getBoundingClientRect(),o=e.element.getBoundingClientRect(),i=n.top-o.top,a=n.left-o.left,s=i,l=a,u=e.ePopup.style.top,c=parseInt(u.substring(0,u.length-1),10),p=e.ePopup.style.left,d=parseInt(p.substring(0,p.length-1),10);return new zn((function(n){t.getFrameworkOverrides().setInterval((function(){var n=r.getBoundingClientRect(),o=e.element.getBoundingClientRect();if(0==o.top&&0==o.left&&0==o.height&&0==o.width)e.hidePopup();else{var u=n.top-o.top;if(u!=s){var p=t.keepXYWithinBounds(e.ePopup,c+i-u,xp.vertical);e.ePopup.style.top=p+"px"}s=u;var h=n.left-o.left;if(h!=l){var f=t.keepXYWithinBounds(e.ePopup,d+a-h,xp.horizontal);e.ePopup.style.left=f+"px"}l=h}}),200).then((function(e){n((function(){null!=e&&window.clearInterval(e)}))}))}))},t.prototype.addPopup=function(e){var t=this,r=e.modal,n=e.eChild,o=e.closeOnEsc,i=e.closedCallback,a=e.click,s=e.alwaysOnTop,l=e.afterGuiAttached,u=e.positionCallback,c=e.anchorToElement,p=e.ariaLabel,d=this.gridOptionsWrapper.getDocument(),h=new zn((function(e){return e((function(){}))}));if(!d)return console.warn("ag-grid: could not find the document, document is empty"),{hideFunc:function(){},stopAnchoringPromise:h};var f=this.popupList.findIndex((function(e){return e.element===n}));if(-1!==f){var g=this.popupList[f];return{hideFunc:g.hideFunc,stopAnchoringPromise:g.stopAnchoringPromise}}var y=this.getPopupParent();null==n.style.top&&(n.style.top="0px"),null==n.style.left&&(n.style.left="0px");var v=document.createElement("div"),m=this.environment.getTheme().theme;m&&v.classList.add(m),v.classList.add("ag-popup"),n.classList.add(this.gridOptionsWrapper.isEnableRtl()?"ag-rtl":"ag-ltr","ag-popup-child"),n.hasAttribute("role")||Br(n,"dialog"),Vr(n,p),this.focusService.isKeyboardMode()&&n.classList.add(Fd.AG_KEYBOARD_FOCUS),v.appendChild(n),y.appendChild(v),s?this.setAlwaysOnTop(v,!0):this.bringPopupToFront(v);var b=!1,C=function(e){v.contains(d.activeElement)&&(e.key===po.ESCAPE&&S({keyboardEvent:e}))},w=function(e){return S({mouseEvent:e})},x=function(e){return S({touchEvent:e})},S=function(e){void 0===e&&(e={});var r=e.mouseEvent,o=e.touchEvent,s=e.keyboardEvent;t.isEventFromCurrentPopup({mouseEvent:r,touchEvent:o},n)||t.isEventSameChainAsOriginalEvent({originalMouseEvent:a,mouseEvent:r,touchEvent:o})||b||(b=!0,y.removeChild(v),d.removeEventListener("keydown",C),d.removeEventListener("mousedown",w),d.removeEventListener("touchstart",x),d.removeEventListener("contextmenu",w),t.eventService.removeEventListener(He.EVENT_DRAG_STARTED,w),i&&i(r||o||s),t.popupList=t.popupList.filter((function(e){return e.element!==n})),h&&h.then((function(e){return e&&e()})))};return l&&l({hidePopup:S}),window.setTimeout((function(){o&&d.addEventListener("keydown",C),r&&(d.addEventListener("mousedown",w),t.eventService.addEventListener(He.EVENT_DRAG_STARTED,w),d.addEventListener("touchstart",x),d.addEventListener("contextmenu",w))}),0),u&&u(),c&&(h=this.keepPopupPositionedRelativeTo({element:c,ePopup:n,hidePopup:S})),this.popupList.push({element:n,wrapper:v,hideFunc:S,stopAnchoringPromise:h,instanceId:Hd++,isAnchored:!!c}),{hideFunc:S,stopAnchoringPromise:h}},t.prototype.hasAnchoredPopup=function(){return this.popupList.some((function(e){return e.isAnchored}))},t.prototype.isEventFromCurrentPopup=function(e,t){var r=e.mouseEvent,n=e.touchEvent,o=r||n;if(!o)return!1;var i=this.popupList.findIndex((function(e){return e.element===t}));if(-1===i)return!1;for(var a=i;a<this.popupList.length;a++){if(Te(this.popupList[a].element,o))return!0}return this.isElementWithinCustomPopup(o.target)},t.prototype.isElementWithinCustomPopup=function(e){for(var t=this.gridOptionsWrapper.getDocument();e&&e!==t.body;){if(e.classList.contains("ag-custom-component-popup")||null===e.parentElement)return!0;e=e.parentElement}return!1},t.prototype.isEventSameChainAsOriginalEvent=function(e){var t=e.originalMouseEvent,r=e.mouseEvent,n=e.touchEvent,o=null;if(r?o=r:n&&(o=n.touches[0]),o&&t){var i=r?r.screenX:0,a=r?r.screenY:0,s=Math.abs(t.screenX-i)<5,l=Math.abs(t.screenY-a)<5;if(s&&l)return!0}return!1},t.prototype.getWrapper=function(e){for(;!e.classList.contains("ag-popup")&&e.parentElement;)e=e.parentElement;return e.classList.contains("ag-popup")?e:null},t.prototype.setAlwaysOnTop=function(e,t){var r=this.getWrapper(e);r&&(r.classList.toggle("ag-always-on-top",!!t),t&&this.bringPopupToFront(r))},t.prototype.bringPopupToFront=function(e){var t=this.getPopupParent(),r=Array.prototype.slice.call(t.querySelectorAll(".ag-popup")),n=r.length,o=Array.prototype.slice.call(t.querySelectorAll(".ag-popup.ag-always-on-top")),i=o.length,a=this.getWrapper(e);if(a&&!(n<=1)&&t.contains(e)){var s=r.indexOf(a),l=a.querySelectorAll("div"),u=[];if(l.forEach((function(e){0!==e.scrollTop&&u.push([e,e.scrollTop])})),i)a.classList.contains("ag-always-on-top")?s!==n-1&&ue(o).insertAdjacentElement("afterend",a):s!==n-i-1&&o[0].insertAdjacentElement("beforebegin",a);else s!==n-1&&ue(r).insertAdjacentElement("afterend",a);for(;u.length;){var c=u.pop();c[0].scrollTop=c[1]}var p={type:"popupToFront",api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),eWrapper:a};this.eventService.dispatchEvent(p)}},Bd([K("environment")],t.prototype,"environment",void 0),Bd([K("focusService")],t.prototype,"focusService",void 0),Bd([K("ctrlsService")],t.prototype,"ctrlsService",void 0),Bd([U],t.prototype,"postConstruct",null),t=Bd([X("popupService")],t)}(Le),Vd=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),zd=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Ud=function(e){function t(r,n,o){void 0===r&&(r="default"),void 0===n&&(n="listbox");var i=e.call(this,t.getTemplate(r))||this;return i.cssIdentifier=r,i.ariaRole=n,i.listName=o,i.renderedRows=new Map,i.rowHeight=20,i.isDestroyed=!1,i}return Vd(t,e),t.prototype.postConstruct=function(){var e=this;this.addScrollListener(),this.rowHeight=this.getItemHeight(),this.addResizeObserver(),this.initialiseTabGuard({onFocusIn:function(t){return e.onFocusIn(t)},onFocusOut:function(t){return e.onFocusOut(t)},focusInnerElement:function(t){return e.focusInnerElement(t)},onTabKeyDown:function(t){return e.onTabKeyDown(t)},handleKeyDown:function(t){return e.handleKeyDown(t)}}),this.setAriaProperties()},t.prototype.setAriaProperties=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc()("ariaDefaultListName",this.listName||"List"),t=this.eContainer;Br(t,this.ariaRole),Vr(t,e)},t.prototype.addResizeObserver=function(){var e=this.drawVirtualRows.bind(this),t=this.resizeObserverService.observeResize(this.getGui(),e);this.addDestroyFunc(t)},t.prototype.focusInnerElement=function(e){this.focusRow(e?this.model.getRowCount()-1:0)},t.prototype.onFocusIn=function(e){var t=e.target;return t.classList.contains("ag-virtual-list-item")&&(this.lastFocusedRowIndex=jr(t)-1),!1},t.prototype.onFocusOut=function(e){return this.getFocusableElement().contains(e.relatedTarget)||(this.lastFocusedRowIndex=null),!1},t.prototype.handleKeyDown=function(e){switch(e.key){case po.UP:case po.DOWN:this.navigate(e.key===po.UP)&&e.preventDefault()}},t.prototype.onTabKeyDown=function(e){this.navigate(e.shiftKey)?e.preventDefault():this.focusService.focusInto(this.getGui(),!e.shiftKey)},t.prototype.navigate=function(e){if(null==this.lastFocusedRowIndex)return!1;var t=this.lastFocusedRowIndex+(e?-1:1);return!(t<0||t>=this.model.getRowCount())&&(this.focusRow(t),!0)},t.prototype.getLastFocusedRow=function(){return this.lastFocusedRowIndex},t.prototype.focusRow=function(e){var t=this;this.ensureIndexVisible(e),window.setTimeout((function(){var r=t.renderedRows.get(e);r&&r.eDiv.focus()}),10)},t.prototype.getComponentAt=function(e){var t=this.renderedRows.get(e);return t&&t.rowComponent},t.getTemplate=function(e){return'\n            <div class="ag-virtual-list-viewport ag-'+e+'-virtual-list-viewport" role="presentation">\n                <div class="ag-virtual-list-container ag-'+e+'-virtual-list-container" ref="eContainer"></div>\n            </div>'},t.prototype.getItemHeight=function(){return this.gridOptionsWrapper.getListItemHeight()},t.prototype.ensureIndexVisible=function(e){var t=this.model.getRowCount();if("number"!==typeof e||e<0||e>=t)console.warn("AG Grid: invalid row index for ensureIndexVisible: "+e);else{var r=e*this.rowHeight,n=r+this.rowHeight,o=this.getGui(),i=o.scrollTop,a=o.offsetHeight,s=i+a<n;if(i>r)o.scrollTop=r;else if(s){var l=n-a;o.scrollTop=l}}},t.prototype.setComponentCreator=function(e){this.componentCreator=e},t.prototype.getRowHeight=function(){return this.rowHeight},t.prototype.getScrollTop=function(){return this.getGui().scrollTop},t.prototype.setRowHeight=function(e){this.rowHeight=e,this.refresh()},t.prototype.refresh=function(){var e=this;if(null!=this.model&&!this.isDestroyed){var t=this.model.getRowCount();this.eContainer.style.height=t*this.rowHeight+"px",W((function(){return e.eContainer.clientHeight>=t*e.rowHeight}),(function(){e.isDestroyed||(e.clearVirtualRows(),e.drawVirtualRows())}))}},t.prototype.clearVirtualRows=function(){var e=this;this.renderedRows.forEach((function(t,r){return e.removeRow(r)}))},t.prototype.drawVirtualRows=function(){var e=this.getGui(),t=e.scrollTop,r=t+e.offsetHeight,n=Math.floor(t/this.rowHeight),o=Math.floor(r/this.rowHeight);this.ensureRowsRendered(n,o)},t.prototype.ensureRowsRendered=function(e,t){var r=this;this.renderedRows.forEach((function(n,o){(o<e||o>t)&&o!==r.lastFocusedRowIndex&&r.removeRow(o)}));for(var n=e;n<=t;n++)this.renderedRows.has(n)||n<this.model.getRowCount()&&this.insertRow(n)},t.prototype.insertRow=function(e){var t=this,r=this.model.getRow(e),n=document.createElement("div");if(n.classList.add("ag-virtual-list-item","ag-"+this.cssIdentifier+"-virtual-list-item"),Br(n,"tree"===this.ariaRole?"treeitem":"option"),Zr(n,this.model.getRowCount()),Qr(n,e+1),n.setAttribute("tabindex","-1"),"function"===typeof this.model.isRowSelected){var o=this.model.isRowSelected(e);ln(n,!!o),un(n,o)}n.style.height=this.rowHeight+"px",n.style.top=this.rowHeight*e+"px";var i=this.componentCreator(r,n);i.addGuiEventListener("focusin",(function(){return t.lastFocusedRowIndex=e})),n.appendChild(i.getGui()),this.renderedRows.has(e-1)?this.renderedRows.get(e-1).eDiv.insertAdjacentElement("afterend",n):this.renderedRows.has(e+1)?this.renderedRows.get(e+1).eDiv.insertAdjacentElement("beforebegin",n):this.eContainer.appendChild(n),this.renderedRows.set(e,{rowComponent:i,eDiv:n})},t.prototype.removeRow=function(e){var t=this.renderedRows.get(e);this.eContainer.removeChild(t.eDiv),this.destroyBean(t.rowComponent),this.renderedRows.delete(e)},t.prototype.addScrollListener=function(){var e=this;this.addGuiEventListener("scroll",(function(){return e.drawVirtualRows()}))},t.prototype.setModel=function(e){this.model=e},t.prototype.destroy=function(){this.isDestroyed||(this.clearVirtualRows(),this.isDestroyed=!0,e.prototype.destroy.call(this))},zd([K("resizeObserverService")],t.prototype,"resizeObserverService",void 0),zd([K("focusService")],t.prototype,"focusService",void 0),zd([to("eContainer")],t.prototype,"eContainer",void 0),zd([U],t.prototype,"postConstruct",null),t}(xd),Yd=["mouseover","mouseout","mouseenter","mouseleave"],Xd=["touchstart","touchend","touchmove","touchcancel"],Kd=function(){function e(){this.isOutsideAngular=function(e){return ye(Yd,e)}}return e.prototype.setTimeout=function(e,t){window.setTimeout(e,t)},e.prototype.setInterval=function(e,t){return new zn((function(r){r(window.setInterval(e,t))}))},e.prototype.addEventListener=function(e,t,r,n){var o=ye(Xd,t);e.addEventListener(t,r,{capture:!!n,passive:o})},e.prototype.dispatchEvent=function(e,t,r){t()},e.prototype.frameworkComponent=function(e){return null},e.prototype.isFrameworkComponent=function(e){return!1},e}(),qd=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),$d=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Zd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return qd(t,e),t.prototype.getNextCellToFocus=function(e,t,r){return void 0===r&&(r=!1),r?this.getNextCellToFocusWithCtrlPressed(e,t):this.getNextCellToFocusWithoutCtrlPressed(e,t)},t.prototype.getNextCellToFocusWithCtrlPressed=function(e,t){var r,n,o=e===po.UP,i=e===po.DOWN,a=e===po.LEFT;if(o||i)n=o?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow(),r=t.column;else{var s=this.columnModel.getAllDisplayedColumns(),l=this.gridOptionsWrapper.isEnableRtl();n=t.rowIndex,r=a!==l?s[0]:ue(s)}return{rowIndex:n,rowPinned:null,column:r}},t.prototype.getNextCellToFocusWithoutCtrlPressed=function(e,t){for(var r=t,n=!1;!n;){switch(e){case po.UP:r=this.getCellAbove(r);break;case po.DOWN:r=this.getCellBelow(r);break;case po.RIGHT:r=this.gridOptionsWrapper.isEnableRtl()?this.getCellToLeft(r):this.getCellToRight(r);break;case po.LEFT:r=this.gridOptionsWrapper.isEnableRtl()?this.getCellToRight(r):this.getCellToLeft(r);break;default:r=null,console.warn("AG Grid: unknown key for navigation "+e)}n=!r||this.isCellGoodToFocusOn(r)}return r},t.prototype.isCellGoodToFocusOn=function(e){var t,r=e.column;switch(e.rowPinned){case ne.PINNED_TOP:t=this.pinnedRowModel.getPinnedTopRow(e.rowIndex);break;case ne.PINNED_BOTTOM:t=this.pinnedRowModel.getPinnedBottomRow(e.rowIndex);break;default:t=this.rowModel.getRow(e.rowIndex)}return!!t&&!r.isSuppressNavigable(t)},t.prototype.getCellToLeft=function(e){if(!e)return null;var t=this.columnModel.getDisplayedColBefore(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null},t.prototype.getCellToRight=function(e){if(!e)return null;var t=this.columnModel.getDisplayedColAfter(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null},t.prototype.getRowBelow=function(e){var t=e.rowIndex,r=e.rowPinned;if(this.isLastRowInContainer(e))switch(r){case ne.PINNED_BOTTOM:return null;case ne.PINNED_TOP:return this.rowModel.isRowsToRender()?{rowIndex:this.paginationProxy.getPageFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender(ne.PINNED_BOTTOM)?{rowIndex:0,rowPinned:ne.PINNED_BOTTOM}:null;default:return this.pinnedRowModel.isRowsToRender(ne.PINNED_BOTTOM)?{rowIndex:0,rowPinned:ne.PINNED_BOTTOM}:null}return{rowIndex:t+1,rowPinned:r}},t.prototype.getCellBelow=function(e){if(!e)return null;var t=this.getRowBelow(e);return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null},t.prototype.isLastRowInContainer=function(e){var t=e.rowPinned,r=e.rowIndex;return t===ne.PINNED_TOP?this.pinnedRowModel.getPinnedTopRowData().length-1<=r:t===ne.PINNED_BOTTOM?this.pinnedRowModel.getPinnedBottomRowData().length-1<=r:this.paginationProxy.getPageLastRow()<=r},t.prototype.getRowAbove=function(e){var t=e.rowIndex,r=e.rowPinned;return(r?0===t:t===this.paginationProxy.getPageFirstRow())?r===ne.PINNED_TOP?null:r&&this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender(ne.PINNED_TOP)?this.getLastFloatingTopRow():null:{rowIndex:t-1,rowPinned:r}},t.prototype.getCellAbove=function(e){if(!e)return null;var t=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null},t.prototype.getLastBodyCell=function(){return{rowIndex:this.paginationProxy.getPageLastRow(),rowPinned:null}},t.prototype.getLastFloatingTopRow=function(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowData().length-1,rowPinned:ne.PINNED_TOP}},t.prototype.getNextTabbedCell=function(e,t){return t?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)},t.prototype.getNextTabbedCellForwards=function(e){var t=this.columnModel.getAllDisplayedColumns(),r=e.rowIndex,n=e.rowPinned,o=this.columnModel.getDisplayedColAfter(e.column);if(!o){o=t[0];var a=this.getRowBelow(e);if(i(a))return null;if(!a.rowPinned&&!this.paginationProxy.isRowInPage(a))return null;r=a?a.rowIndex:null,n=a?a.rowPinned:null}return{rowIndex:r,column:o,rowPinned:n}},t.prototype.getNextTabbedCellBackwards=function(e){var t=this.columnModel.getAllDisplayedColumns(),r=e.rowIndex,n=e.rowPinned,o=this.columnModel.getDisplayedColBefore(e.column);if(!o){o=ue(t);var a=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(i(a))return null;if(!a.rowPinned&&!this.paginationProxy.isRowInPage(a))return null;r=a?a.rowIndex:null,n=a?a.rowPinned:null}return{rowIndex:r,column:o,rowPinned:n}},$d([K("columnModel")],t.prototype,"columnModel",void 0),$d([K("rowModel")],t.prototype,"rowModel",void 0),$d([K("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),$d([K("paginationProxy")],t.prototype,"paginationProxy",void 0),t=$d([X("cellNavigationService")],t)}(Le),Qd=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Jd=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},eh=function(e,t){return function(r,n){t(r,n,e)}},th=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.consuming=!1,t}return Qd(t,e),t.prototype.setBeans=function(e){this.logger=e.create("AlignedGridsService")},t.prototype.init=function(){this.addManagedListener(this.eventService,He.EVENT_COLUMN_MOVED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,He.EVENT_COLUMN_VISIBLE,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,He.EVENT_COLUMN_PINNED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,He.EVENT_COLUMN_GROUP_OPENED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,He.EVENT_COLUMN_RESIZED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,He.EVENT_BODY_SCROLL,this.fireScrollEvent.bind(this))},t.prototype.fireEvent=function(e){if(!this.consuming){var t=this.gridOptionsWrapper.getAlignedGrids();t&&t.forEach((function(t){if(t.api){var r=t.api.__getAlignedGridService();e(r)}}))}},t.prototype.onEvent=function(e){this.consuming=!0,e(),this.consuming=!1},t.prototype.fireColumnEvent=function(e){this.fireEvent((function(t){t.onColumnEvent(e)}))},t.prototype.fireScrollEvent=function(e){"horizontal"===e.direction&&this.fireEvent((function(t){t.onScrollEvent(e)}))},t.prototype.onScrollEvent=function(e){var t=this;this.onEvent((function(){t.ctrlsService.getGridBodyCtrl().getScrollFeature().setHorizontalScrollPosition(e.left)}))},t.prototype.getMasterColumns=function(e){var t=[];return e.columns?e.columns.forEach((function(e){t.push(e)})):e.column&&t.push(e.column),t},t.prototype.getColumnIds=function(e){var t=[];return e.columns?e.columns.forEach((function(e){t.push(e.getColId())})):e.column&&t.push(e.column.getColId()),t},t.prototype.onColumnEvent=function(e){var t=this;this.onEvent((function(){switch(e.type){case He.EVENT_COLUMN_MOVED:case He.EVENT_COLUMN_VISIBLE:case He.EVENT_COLUMN_PINNED:case He.EVENT_COLUMN_RESIZED:var r=e;t.processColumnEvent(r);break;case He.EVENT_COLUMN_GROUP_OPENED:var n=e;t.processGroupOpenedEvent(n);break;case He.EVENT_COLUMN_PIVOT_CHANGED:console.warn("AG Grid: pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.")}}))},t.prototype.processGroupOpenedEvent=function(e){var t=e.columnGroup,r=null;if(t){var n=t.getGroupId();r=this.columnModel.getProvidedColumnGroup(n)}t&&!r||(this.logger.log("onColumnEvent-> processing "+e+" expanded = "+t.isExpanded()),this.columnModel.setColumnGroupOpened(r,t.isExpanded(),"alignedGridChanged"))},t.prototype.processColumnEvent=function(e){var t=this,r=e.column,n=null;if(r&&(n=this.columnModel.getPrimaryColumn(r.getColId())),!r||n){var o=this.getMasterColumns(e);switch(e.type){case He.EVENT_COLUMN_MOVED:var i=e,a=e.columnApi.getColumnState().map((function(e){return{colId:e.colId}}));this.columnModel.applyColumnState({state:a,applyOrder:!0},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+e.type+" toIndex = "+i.toIndex);break;case He.EVENT_COLUMN_VISIBLE:var s=e;a=e.columnApi.getColumnState().map((function(e){return{colId:e.colId,hide:e.hide}}));this.columnModel.applyColumnState({state:a},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+e.type+" visible = "+s.visible);break;case He.EVENT_COLUMN_PINNED:var l=e;a=e.columnApi.getColumnState().map((function(e){return{colId:e.colId,pinned:e.pinned}}));this.columnModel.applyColumnState({state:a},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+e.type+" pinned = "+l.pinned);break;case He.EVENT_COLUMN_RESIZED:var u=e;o.forEach((function(r){t.logger.log("onColumnEvent-> processing "+e.type+" actualWidth = "+r.getActualWidth());var n=[{key:r.getColId(),newWidth:r.getActualWidth()}];t.columnModel.setColumnWidths(n,!1,u.finished,"alignedGridChanged")}))}var c=this.ctrlsService.getGridBodyCtrl().isVerticalScrollShowing(),p=this.gridOptionsWrapper.getAlignedGrids();p&&p.forEach((function(e){e.api&&e.api.setAlwaysShowVerticalScroll(c)}))}},Jd([K("columnModel")],t.prototype,"columnModel",void 0),Jd([K("ctrlsService")],t.prototype,"ctrlsService",void 0),Jd([eh(0,Z("loggerFactory"))],t.prototype,"setBeans",null),Jd([U],t.prototype,"init",null),t=Jd([X("alignedGridsService")],t)}(Le),rh=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),nh=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},oh=function(e,t){return function(r,n){t(r,n,e)}},ih=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return rh(t,e),t.prototype.setBeans=function(e){this.logger=e.create("selectionService"),this.reset()},t.prototype.init=function(){this.groupSelectsChildren=this.gridOptionsWrapper.isGroupSelectsChildren(),this.addManagedListener(this.eventService,He.EVENT_ROW_SELECTED,this.onRowSelected.bind(this))},t.prototype.setLastSelectedNode=function(e){this.lastSelectedNode=e},t.prototype.getLastSelectedNode=function(){return this.lastSelectedNode},t.prototype.getSelectedNodes=function(){var e=[];return f(this.selectedNodes,(function(t,r){r&&e.push(r)})),e},t.prototype.getSelectedRows=function(){var e=[];return f(this.selectedNodes,(function(t,r){r&&r.data&&e.push(r.data)})),e},t.prototype.removeGroupsFromSelection=function(){var e=this;f(this.selectedNodes,(function(t,r){r&&r.group&&(e.selectedNodes[r.id]=void 0)}))},t.prototype.updateGroupsFromChildrenSelections=function(e){if(this.gridOptionsWrapper.isGroupSelectsChildren()&&this.rowModel.getType()===ne.ROW_MODEL_TYPE_CLIENT_SIDE){var t=this.rowModel.getRootNode();e||(e=new Sp(!0,t)).setInactive(),e.forEachChangedNodeDepthFirst((function(e){e!==t&&e.calculateSelectedFromChildren()}))}},t.prototype.getNodeForIdIfSelected=function(e){return this.selectedNodes[e]},t.prototype.clearOtherNodes=function(e){var t=this,r={},n=0;return f(this.selectedNodes,(function(o,i){if(i&&i.id!==e.id){var a=t.selectedNodes[i.id];n+=a.setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0}),t.groupSelectsChildren&&i.parent&&(r[i.parent.id]=i.parent)}})),f(r,(function(e,t){t.calculateSelectedFromChildren()})),n},t.prototype.onRowSelected=function(e){var t=e.node;this.groupSelectsChildren&&t.group||(t.isSelected()?this.selectedNodes[t.id]=t:this.selectedNodes[t.id]=void 0)},t.prototype.syncInRowNode=function(e,t){this.syncInOldRowNode(e,t),this.syncInNewRowNode(e)},t.prototype.syncInOldRowNode=function(e,t){if(o(t)&&e.id!==t.id&&t){var r=t.id;this.selectedNodes[r]==e&&(this.selectedNodes[t.id]=t)}},t.prototype.syncInNewRowNode=function(e){o(this.selectedNodes[e.id])?(e.setSelectedInitialValue(!0),this.selectedNodes[e.id]=e):e.setSelectedInitialValue(!1)},t.prototype.reset=function(){this.logger.log("reset"),this.selectedNodes={},this.lastSelectedNode=null},t.prototype.getBestCostNodeSelection=function(){if(this.rowModel.getType()===ne.ROW_MODEL_TYPE_CLIENT_SIDE){var e=this.rowModel.getTopLevelNodes();if(null!==e){var t=[];return function e(r){for(var n=0,o=r.length;n<o;n++){var i=r[n];if(i.isSelected())t.push(i);else{var a=i;a.group&&a.children&&e(a.children)}}}(e),t}console.warn("AG Grid: `selectAll` not available doing `rowModel=virtual`")}else console.warn("AG Grid: `getBestCostNodeSelection` is only available when using normal row model")},t.prototype.setRowModel=function(e){this.rowModel=e},t.prototype.isEmpty=function(){var e=0;return f(this.selectedNodes,(function(t,r){r&&e++})),0===e},t.prototype.deselectAllRowNodes=function(e){void 0===e&&(e=!1);var t=function(e){return e.selectThisNode(!1)},r=this.rowModel.getType()===ne.ROW_MODEL_TYPE_CLIENT_SIDE;if(e){if(!r)return void console.error("AG Grid: selecting just filtered only works with In Memory Row Model");this.rowModel.forEachNodeAfterFilter(t)}else f(this.selectedNodes,(function(e,r){r&&t(r)})),this.reset();r&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections();var n={type:He.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(n)},t.prototype.selectAllRowNodes=function(e){if(void 0===e&&(e=!1),this.rowModel.getType()!==ne.ROW_MODEL_TYPE_CLIENT_SIDE)throw new Error("selectAll only available with normal row model, ie not "+this.rowModel.getType());var t=this.rowModel,r=function(e){return e.selectThisNode(!0)};e?t.forEachNodeAfterFilter(r):t.forEachNode(r),this.rowModel.getType()===ne.ROW_MODEL_TYPE_CLIENT_SIDE&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections();var n={type:He.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(n)},t.prototype.selectNode=function(e,t){e&&e.setSelectedParams({newValue:!0,clearSelection:!t})},t.prototype.deselectIndex=function(e){var t=this.rowModel.getRow(e);this.deselectNode(t)},t.prototype.deselectNode=function(e){e&&e.setSelectedParams({newValue:!1,clearSelection:!1})},t.prototype.selectIndex=function(e,t){var r=this.rowModel.getRow(e);this.selectNode(r,t)},nh([K("rowModel")],t.prototype,"rowModel",void 0),nh([K("columnApi")],t.prototype,"columnApi",void 0),nh([K("gridApi")],t.prototype,"gridApi",void 0),nh([oh(0,Z("loggerFactory"))],t.prototype,"setBeans",null),nh([U],t.prototype,"init",null),t=nh([X("selectionService")],t)}(Le),ah=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},sh=function(){function e(){}return e.prototype.sizeColumnsToFit=function(e){"undefined"===typeof e&&console.error("AG Grid: missing parameter to columnApi.sizeColumnsToFit(gridWidth)"),this.columnModel.sizeColumnsToFit(e,"api")},e.prototype.setColumnGroupOpened=function(e,t){this.columnModel.setColumnGroupOpened(e,t,"api")},e.prototype.getColumnGroup=function(e,t){return this.columnModel.getColumnGroup(e,t)},e.prototype.getProvidedColumnGroup=function(e){return this.columnModel.getProvidedColumnGroup(e)},e.prototype.getDisplayNameForColumn=function(e,t){return this.columnModel.getDisplayNameForColumn(e,t)||""},e.prototype.getDisplayNameForColumnGroup=function(e,t){return this.columnModel.getDisplayNameForColumnGroup(e,t)||""},e.prototype.getColumn=function(e){return this.columnModel.getPrimaryColumn(e)},e.prototype.applyColumnState=function(e){return this.columnModel.applyColumnState(e,"api")},e.prototype.getColumnState=function(){return this.columnModel.getColumnState()},e.prototype.resetColumnState=function(){this.columnModel.resetColumnState("api")},e.prototype.getColumnGroupState=function(){return this.columnModel.getColumnGroupState()},e.prototype.setColumnGroupState=function(e){this.columnModel.setColumnGroupState(e,"api")},e.prototype.resetColumnGroupState=function(){this.columnModel.resetColumnGroupState("api")},e.prototype.isPinning=function(){return this.columnModel.isPinningLeft()||this.columnModel.isPinningRight()},e.prototype.isPinningLeft=function(){return this.columnModel.isPinningLeft()},e.prototype.isPinningRight=function(){return this.columnModel.isPinningRight()},e.prototype.getDisplayedColAfter=function(e){return this.columnModel.getDisplayedColAfter(e)},e.prototype.getDisplayedColBefore=function(e){return this.columnModel.getDisplayedColBefore(e)},e.prototype.setColumnVisible=function(e,t){this.columnModel.setColumnVisible(e,t,"api")},e.prototype.setColumnsVisible=function(e,t){this.columnModel.setColumnsVisible(e,t,"api")},e.prototype.setColumnPinned=function(e,t){this.columnModel.setColumnPinned(e,t,"api")},e.prototype.setColumnsPinned=function(e,t){this.columnModel.setColumnsPinned(e,t,"api")},e.prototype.getAllColumns=function(){return this.columnModel.getAllPrimaryColumns()},e.prototype.getAllGridColumns=function(){return this.columnModel.getAllGridColumns()},e.prototype.getDisplayedLeftColumns=function(){return this.columnModel.getDisplayedLeftColumns()},e.prototype.getDisplayedCenterColumns=function(){return this.columnModel.getDisplayedCenterColumns()},e.prototype.getDisplayedRightColumns=function(){return this.columnModel.getDisplayedRightColumns()},e.prototype.getAllDisplayedColumns=function(){return this.columnModel.getAllDisplayedColumns()},e.prototype.getAllDisplayedVirtualColumns=function(){return this.columnModel.getViewportColumns()},e.prototype.moveColumn=function(e,t){"number"===typeof e?(console.warn("AG Grid: you are using moveColumn(fromIndex, toIndex) - moveColumn takes a column key and a destination index, not two indexes, to move with indexes use moveColumnByIndex(from,to) instead"),this.columnModel.moveColumnByIndex(e,t,"api")):this.columnModel.moveColumn(e,t,"api")},e.prototype.moveColumnByIndex=function(e,t){this.columnModel.moveColumnByIndex(e,t,"api")},e.prototype.moveColumns=function(e,t){this.columnModel.moveColumns(e,t,"api")},e.prototype.moveRowGroupColumn=function(e,t){this.columnModel.moveRowGroupColumn(e,t)},e.prototype.setColumnAggFunc=function(e,t){this.columnModel.setColumnAggFunc(e,t)},e.prototype.setColumnWidth=function(e,t,r,n){void 0===r&&(r=!0),this.columnModel.setColumnWidths([{key:e,newWidth:t}],!1,r,n)},e.prototype.setColumnWidths=function(e,t,r){void 0===t&&(t=!0),this.columnModel.setColumnWidths(e,!1,t,r)},e.prototype.setPivotMode=function(e){this.columnModel.setPivotMode(e)},e.prototype.isPivotMode=function(){return this.columnModel.isPivotMode()},e.prototype.getSecondaryPivotColumn=function(e,t){return this.columnModel.getSecondaryPivotColumn(e,t)},e.prototype.setValueColumns=function(e){this.columnModel.setValueColumns(e,"api")},e.prototype.getValueColumns=function(){return this.columnModel.getValueColumns()},e.prototype.removeValueColumn=function(e){this.columnModel.removeValueColumn(e,"api")},e.prototype.removeValueColumns=function(e){this.columnModel.removeValueColumns(e,"api")},e.prototype.addValueColumn=function(e){this.columnModel.addValueColumn(e,"api")},e.prototype.addValueColumns=function(e){this.columnModel.addValueColumns(e,"api")},e.prototype.setRowGroupColumns=function(e){this.columnModel.setRowGroupColumns(e,"api")},e.prototype.removeRowGroupColumn=function(e){this.columnModel.removeRowGroupColumn(e,"api")},e.prototype.removeRowGroupColumns=function(e){this.columnModel.removeRowGroupColumns(e,"api")},e.prototype.addRowGroupColumn=function(e){this.columnModel.addRowGroupColumn(e,"api")},e.prototype.addRowGroupColumns=function(e){this.columnModel.addRowGroupColumns(e,"api")},e.prototype.getRowGroupColumns=function(){return this.columnModel.getRowGroupColumns()},e.prototype.setPivotColumns=function(e){this.columnModel.setPivotColumns(e,"api")},e.prototype.removePivotColumn=function(e){this.columnModel.removePivotColumn(e,"api")},e.prototype.removePivotColumns=function(e){this.columnModel.removePivotColumns(e,"api")},e.prototype.addPivotColumn=function(e){this.columnModel.addPivotColumn(e,"api")},e.prototype.addPivotColumns=function(e){this.columnModel.addPivotColumns(e,"api")},e.prototype.getPivotColumns=function(){return this.columnModel.getPivotColumns()},e.prototype.getLeftDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeLeft()},e.prototype.getCenterDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeCentre()},e.prototype.getRightDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeRight()},e.prototype.getAllDisplayedColumnGroups=function(){return this.columnModel.getAllDisplayedTrees()},e.prototype.autoSizeColumn=function(e,t){return this.columnModel.autoSizeColumn(e,t,"api")},e.prototype.autoSizeColumns=function(e,t){this.columnModel.autoSizeColumns({columns:e,skipHeader:t})},e.prototype.autoSizeAllColumns=function(e){this.columnModel.autoSizeAllColumns(e,"api")},e.prototype.setSecondaryColumns=function(e){this.columnModel.setSecondaryColumns(e,"api")},e.prototype.getSecondaryColumns=function(){return this.columnModel.getSecondaryColumns()},e.prototype.getPrimaryColumns=function(){return this.columnModel.getAllPrimaryColumns()},e.prototype.cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid=function(){setTimeout(Hn.removeAllReferences.bind(window,this,"Column API"),100)},e.prototype.columnGroupOpened=function(e,t){console.error("AG Grid: columnGroupOpened no longer exists, use setColumnGroupOpened"),this.setColumnGroupOpened(e,t)},e.prototype.hideColumns=function(e,t){console.error("AG Grid: hideColumns is deprecated, use setColumnsVisible"),this.columnModel.setColumnsVisible(e,!t,"api")},e.prototype.hideColumn=function(e,t){console.error("AG Grid: hideColumn is deprecated, use setColumnVisible"),this.columnModel.setColumnVisible(e,!t,"api")},e.prototype.setState=function(e){return console.error("AG Grid: setState is deprecated, use setColumnState"),this.setColumnState(e)},e.prototype.getState=function(){return console.error("AG Grid: getState is deprecated, use getColumnState"),this.getColumnState()},e.prototype.resetState=function(){console.error("AG Grid: resetState is deprecated, use resetColumnState"),this.resetColumnState()},e.prototype.getAggregationColumns=function(){return console.error("AG Grid: getAggregationColumns is deprecated, use getValueColumns"),this.columnModel.getValueColumns()},e.prototype.removeAggregationColumn=function(e){console.error("AG Grid: removeAggregationColumn is deprecated, use removeValueColumn"),this.columnModel.removeValueColumn(e,"api")},e.prototype.removeAggregationColumns=function(e){console.error("AG Grid: removeAggregationColumns is deprecated, use removeValueColumns"),this.columnModel.removeValueColumns(e,"api")},e.prototype.addAggregationColumn=function(e){console.error("AG Grid: addAggregationColumn is deprecated, use addValueColumn"),this.columnModel.addValueColumn(e,"api")},e.prototype.addAggregationColumns=function(e){console.error("AG Grid: addAggregationColumns is deprecated, use addValueColumns"),this.columnModel.addValueColumns(e,"api")},e.prototype.setColumnAggFunction=function(e,t){console.error("AG Grid: setColumnAggFunction is deprecated, use setColumnAggFunc"),this.columnModel.setColumnAggFunc(e,t,"api")},e.prototype.getDisplayNameForCol=function(e){return console.error("AG Grid: getDisplayNameForCol is deprecated, use getDisplayNameForColumn"),this.getDisplayNameForColumn(e,null)},e.prototype.setColumnState=function(e){return console.error("AG Grid: setColumnState is deprecated, use applyColumnState"),this.columnModel.applyColumnState({state:e,applyOrder:!0},"api")},e.prototype.getOriginalColumnGroup=function(e){return console.error("AG Grid: getOriginalColumnGroup is deprecated, use getProvidedColumnGroup"),this.columnModel.getProvidedColumnGroup(e)},ah([K("columnModel")],e.prototype,"columnModel",void 0),ah([Y],e.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),e=ah([X("columnApi")],e)}(),lh=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),uh=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},ch=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.initialised=!1,t}return lh(t,e),t.prototype.init=function(){var e=this;this.cellExpressions=this.gridOptionsWrapper.isEnableCellExpressions(),this.initialised=!0,this.eventService.addEventListener(He.EVENT_CELL_VALUE_CHANGED,(function(t){return e.callColumnCellValueChangedHandler(t)}),this.gridOptionsWrapper.useAsyncEvents())},t.prototype.getValue=function(e,t,r,n){if(void 0===r&&(r=!1),void 0===n&&(n=!1),this.initialised||this.init(),t){var o,i=e.getColDef(),a=i.field,s=e.getId(),l=t.data,u=t.groupData&&void 0!==t.groupData[s],c=!n&&t.aggData&&void 0!==t.aggData[s];if(r&&i.filterValueGetter?o=this.executeFilterValueGetter(i.filterValueGetter,l,e,t):this.gridOptionsWrapper.isTreeData()&&c?o=t.aggData[s]:this.gridOptionsWrapper.isTreeData()&&i.valueGetter?o=this.executeValueGetter(i.valueGetter,l,e,t):this.gridOptionsWrapper.isTreeData()&&a&&l?o=S(l,a,e.isFieldContainsDots()):u?o=t.groupData[s]:c?o=t.aggData[s]:i.valueGetter?o=this.executeValueGetter(i.valueGetter,l,e,t):a&&l&&(o=S(l,a,e.isFieldContainsDots())),this.cellExpressions&&"string"===typeof o&&0===o.indexOf("=")){var p=o.substring(1);o=this.executeValueGetter(p,l,e,t)}if(null==o){var d=this.getOpenedGroup(t,e);if(null!=d)return d}return o}},t.prototype.getOpenedGroup=function(e,t){if(this.gridOptionsWrapper.isShowOpenedGroup()&&t.getColDef().showRowGroup)for(var r=t.getColDef().showRowGroup,n=e.parent;null!=n;){if(n.rowGroupColumn&&(!0===r||r===n.rowGroupColumn.getId()))return n.key;n=n.parent}},t.prototype.setValue=function(e,t,r,n){var a=this.columnModel.getPrimaryColumn(t);if(!e||!a)return!1;i(e.data)&&(e.data={});var s=a.getColDef(),l=s.field,u=s.newValueHandler,c=s.valueSetter;if(i(l)&&i(u)&&i(c))return console.warn("AG Grid: you need either field or valueSetter set on colDef for editing to work"),!1;var p,d={node:e,data:e.data,oldValue:this.getValue(a,e),newValue:r,colDef:a.getColDef(),column:a,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};if(d.newValue=r,void 0===(p=u&&o(u)?u(d):o(c)?this.expressionService.evaluate(c,d):this.setValueUsingField(e.data,l,r,a.isFieldContainsDots()))&&(p=!0),!p)return!1;e.resetQuickFilterAggregateText(),this.valueCache.onDataChanged(),d.newValue=this.getValue(a,e);var h={type:He.EVENT_CELL_VALUE_CHANGED,event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:d.column,api:d.api,columnApi:d.columnApi,colDef:d.colDef,context:d.context,data:e.data,node:e,oldValue:d.oldValue,newValue:d.newValue,value:d.newValue,source:n};return this.eventService.dispatchEvent(h),!0},t.prototype.callColumnCellValueChangedHandler=function(e){var t=e.colDef.onCellValueChanged;"function"===typeof t&&t({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,columnApi:e.columnApi,context:e.context})},t.prototype.setValueUsingField=function(e,t,r,n){if(!t)return!1;if(n)for(var o=t.split("."),i=e;o.length>0&&i;){var a=o.shift();0===o.length?i[a]=r:i=i[a]}else e[t]=r;return!0},t.prototype.executeFilterValueGetter=function(e,t,r,n){var o={data:t,node:n,column:r,colDef:r.getColDef(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),getValue:this.getValueCallback.bind(this,n)};return this.expressionService.evaluate(e,o)},t.prototype.executeValueGetter=function(e,t,r,n){var o=r.getId(),i=this.valueCache.getValue(n,o);if(void 0!==i)return i;var a={data:t,node:n,column:r,colDef:r.getColDef(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),getValue:this.getValueCallback.bind(this,n)},s=this.expressionService.evaluate(e,a);return this.valueCache.setValue(n,o,s),s},t.prototype.getValueCallback=function(e,t){var r=this.columnModel.getPrimaryColumn(t);return r?this.getValue(r,e):null},t.prototype.getKeyForNode=function(e,t){var r=this.getValue(e,t),n=e.getColDef().keyCreator,o=r;n&&(o=n({value:r,colDef:e.getColDef(),column:e,node:t,data:t.data,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}));return"string"===typeof o||null==o||"[object Object]"===(o=String(o))&&T((function(){console.warn("AG Grid: a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")}),"getKeyForNode - warn about [object,object]"),o},uh([K("expressionService")],t.prototype,"expressionService",void 0),uh([K("columnModel")],t.prototype,"columnModel",void 0),uh([K("valueCache")],t.prototype,"valueCache",void 0),uh([U],t.prototype,"init",null),t=uh([X("valueService")],t)}(Le),ph=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),dh=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},hh=function(e,t){return function(r,n){t(r,n,e)}},fh=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.expressionToFunctionCache={},t}return ph(t,e),t.prototype.setBeans=function(e){this.logger=e.create("ExpressionService")},t.prototype.evaluate=function(e,t){if("function"===typeof e)return e(t);if("string"===typeof e){var r=e;return this.evaluateExpression(r,t)}console.error("AG Grid: value should be either a string or a function",e)},t.prototype.evaluateExpression=function(e,t){try{return this.createExpressionFunction(e)(t.value,t.context,t.oldValue,t.newValue,t.value,t.node,t.data,t.colDef,t.rowIndex,t.api,t.columnApi,t.getValue,t.column,t.columnGroup)}catch(r){return console.log("Processing of the expression failed"),console.log("Expression = "+e),console.log("Params =",t),console.log("Exception = "+r),null}},t.prototype.createExpressionFunction=function(e){if(this.expressionToFunctionCache[e])return this.expressionToFunctionCache[e];var t=this.createFunctionBody(e),r=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, columnApi, getValue, column, columnGroup",t);return this.expressionToFunctionCache[e]=r,r},t.prototype.createFunctionBody=function(e){return e.indexOf("return")>=0?e:"return "+e+";"},dh([hh(0,Z("loggerFactory"))],t.prototype,"setBeans",null),t=dh([X("expressionService")],t)}(Le),gh=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),yh=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},vh=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.templateCache={},t.waitingCallbacks={},t}return gh(t,e),t.prototype.getTemplate=function(e,t){var r=this.templateCache[e];if(r)return r;var n=this.waitingCallbacks[e],o=this;if(!n){n=[],this.waitingCallbacks[e]=n;var i=new XMLHttpRequest;i.onload=function(){o.handleHttpResult(this,e)},i.open("GET",e),i.send()}return t&&n.push(t),null},t.prototype.handleHttpResult=function(e,t){if(200===e.status&&null!==e.response){this.templateCache[t]=e.response||e.responseText;for(var r=this.waitingCallbacks[t],n=0;n<r.length;n++){(0,r[n])()}}else console.warn("AG Grid: Unable to get template error "+e.status+" - "+t)},t=yh([X("templateService")],t)}(Le),mh=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),bh=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Ch=function(e,t){return function(r,n){t(r,n,e)}},wh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return mh(t,e),t.prototype.setBeans=function(e){this.logging=e.isDebug()},t.prototype.create=function(e){return new xh(e,this.isLogging.bind(this))},t.prototype.isLogging=function(){return this.logging},bh([Ch(0,Z("gridOptionsWrapper"))],t.prototype,"setBeans",null),t=bh([X("loggerFactory")],t)}(Le),xh=function(){function e(e,t){this.name=e,this.isLoggingFunc=t}return e.prototype.isLogging=function(){return this.isLoggingFunc()},e.prototype.log=function(e){this.isLoggingFunc()&&console.log("AG Grid."+this.name+": "+e)},e}(),Sh=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Eh=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Oh=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return Sh(r,e),r.prototype.setComp=function(e,t,r){var n=this;this.view=e,this.eGridHostDiv=t,this.eGui=r,this.mouseEventService.stampTopLevelGridCompWithGridInstance(t),this.createManagedBean(new Cs(this.view)),this.addRtlSupport(),this.addManagedListener(this,He.EVENT_KEYBOARD_FOCUS,(function(){n.view.addOrRemoveKeyboardFocusClass(!0)})),this.addManagedListener(this,He.EVENT_MOUSE_FOCUS,(function(){n.view.addOrRemoveKeyboardFocusClass(!1)}));var o=this.resizeObserverService.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc((function(){return o()})),this.ctrlsService.registerGridCtrl(this)},r.prototype.isDetailGrid=function(){var e,t;return(null===(t=null===(e=this.focusService.findTabbableParent(this.getGui()))||void 0===e?void 0:e.getAttribute("row-id"))||void 0===t?void 0:t.startsWith("detail"))||!1},r.prototype.showDropZones=function(){return oe.isRegistered(t.ModuleNames.RowGroupingModule)},r.prototype.showSideBar=function(){return oe.isRegistered(t.ModuleNames.SideBarModule)},r.prototype.showStatusBar=function(){return oe.isRegistered(t.ModuleNames.StatusBarModule)},r.prototype.showWatermark=function(){return oe.isRegistered(t.ModuleNames.EnterpriseCoreModule)},r.prototype.onGridSizeChanged=function(){var e={type:He.EVENT_GRID_SIZE_CHANGED,api:this.gridApi,columnApi:this.columnApi,clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight};this.eventService.dispatchEvent(e)},r.prototype.addRtlSupport=function(){var e=this.gridOptionsWrapper.isEnableRtl()?"ag-rtl":"ag-ltr";this.view.setRtlClass(e)},r.prototype.destroyGridUi=function(){this.view.destroyGridUi()},r.prototype.getGui=function(){return this.eGui},r.prototype.setResizeCursor=function(e){this.view.setCursor(e?"ew-resize":null)},r.prototype.disableUserSelect=function(e){this.view.setUserSelect(e?"none":null)},r.prototype.focusNextInnerContainer=function(e){var t=this.gridOptionsWrapper.getDocument(),r=this.view.getFocusableContainers(),n=r.findIndex((function(e){return e.contains(t.activeElement)}))+(e?-1:1);return!(n<=0||n>=r.length)&&this.focusService.focusInto(r[n])},r.prototype.focusInnerElement=function(e){var t=this.view.getFocusableContainers();if(e){if(t.length>1)return this.focusService.focusInto(ue(t),!0);var r=ue(this.columnModel.getAllDisplayedColumns());if(this.focusService.focusGridView(r,!0))return!0}return this.focusService.focusFirstHeader()},r.prototype.forceFocusOutOfContainer=function(e){void 0===e&&(e=!1),this.view.forceFocusOutOfContainer(e)},Eh([K("columnApi")],r.prototype,"columnApi",void 0),Eh([K("gridApi")],r.prototype,"gridApi",void 0),Eh([K("focusService")],r.prototype,"focusService",void 0),Eh([K("resizeObserverService")],r.prototype,"resizeObserverService",void 0),Eh([K("columnModel")],r.prototype,"columnModel",void 0),Eh([K("ctrlsService")],r.prototype,"ctrlsService",void 0),Eh([K("mouseEventService")],r.prototype,"mouseEventService",void 0),r}(Le),_h=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ph=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Rh=function(e){function r(t){var r=e.call(this,void 0)||this;return r.eGridDiv=t,r}return _h(r,e),r.prototype.postConstruct=function(){var e=this;this.logger=this.loggerFactory.create("GridComp");var t={destroyGridUi:function(){return e.destroyBean(e)},setRtlClass:function(t){return e.addCssClass(t)},addOrRemoveKeyboardFocusClass:function(t){return e.addOrRemoveCssClass(Fd.AG_KEYBOARD_FOCUS,t)},forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:function(t){e.getGui().style.userSelect=null!=t?t:"",e.getGui().style.webkitUserSelect=null!=t?t:""},setCursor:function(t){e.getGui().style.cursor=null!=t?t:""}};this.ctrl=this.createManagedBean(new Oh);var r=this.createTemplate();this.setTemplate(r),this.ctrl.setComp(t,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:function(){},focusInnerElement:function(t){return e.ctrl.focusInnerElement(t)}})},r.prototype.insertGridIntoDom=function(){var e=this,t=this.getGui();this.eGridDiv.appendChild(t),this.addDestroyFunc((function(){e.eGridDiv.removeChild(t),e.logger.log("Grid removed from DOM")}))},r.prototype.updateLayoutClasses=function(e,r){var n=this.eRootWrapperBody.classList;n.toggle(t.LayoutCssClasses.AUTO_HEIGHT,r.autoHeight),n.toggle(t.LayoutCssClasses.NORMAL,r.normal),n.toggle(t.LayoutCssClasses.PRINT,r.print),this.addOrRemoveCssClass(t.LayoutCssClasses.AUTO_HEIGHT,r.autoHeight),this.addOrRemoveCssClass(t.LayoutCssClasses.NORMAL,r.normal),this.addOrRemoveCssClass(t.LayoutCssClasses.PRINT,r.print)},r.prototype.createTemplate=function(){return'<div class="ag-root-wrapper">\n                '+(this.ctrl.showDropZones()?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":"")+'\n                <div class="ag-root-wrapper-body" ref="rootWrapperBody">\n                    <ag-grid-body ref="gridBody"></ag-grid-body>\n                    '+(this.ctrl.showSideBar()?'<ag-side-bar ref="sideBar"></ag-side-bar>':"")+"\n                </div>\n                "+(this.ctrl.showStatusBar()?'<ag-status-bar ref="statusBar"></ag-status-bar>':"")+"\n                <ag-pagination></ag-pagination>\n                "+(this.ctrl.showWatermark()?"<ag-watermark></ag-watermark>":"")+"\n            </div>"},r.prototype.getFocusableElement=function(){return this.eRootWrapperBody},r.prototype.getFocusableContainers=function(){var e=[this.gridBodyComp.getGui()];return this.sideBarComp&&e.push(this.sideBarComp.getGui()),e.filter((function(e){return hr(e)}))},Ph([K("loggerFactory")],r.prototype,"loggerFactory",void 0),Ph([to("gridBody")],r.prototype,"gridBodyComp",void 0),Ph([to("sideBar")],r.prototype,"sideBarComp",void 0),Ph([to("rootWrapperBody")],r.prototype,"eRootWrapperBody",void 0),Ph([U],r.prototype,"postConstruct",null),r}(xd),Ah=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Th=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Dh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var r;return Ah(t,e),r=t,t.prototype.progressSort=function(e,t,r){var n=this.getNextSortDirection(e);this.setSortForColumn(e,n,t,r)},t.prototype.setSortForColumn=function(e,t,r,n){t!==ne.SORT_ASC&&t!==ne.SORT_DESC&&(t=null),e.setSort(t,n),(r||this.gridOptionsWrapper.isAlwaysMultiSort())&&!this.gridOptionsWrapper.isSuppressMultiSort()||this.clearSortBarThisColumn(e,n),this.updateSortIndex(e),this.dispatchSortChangedEvents(n)},t.prototype.updateSortIndex=function(e){var t=this.getColumnsWithSortingOrdered(),r=0;t.forEach((function(t){t!==e&&(t.setSortIndex(r),r++)})),e.getSort()&&e.setSortIndex(r),this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter((function(e){return null==e.getSort()})).forEach((function(e){return e.setSortIndex()}))},t.prototype.onSortChanged=function(e){this.dispatchSortChangedEvents(e)},t.prototype.isSortActive=function(){var e=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter((function(e){return!!e.getSort()}));return e&&e.length>0},t.prototype.dispatchSortChangedEvents=function(e){var t={type:He.EVENT_SORT_CHANGED,api:this.gridApi,columnApi:this.columnApi,source:e};this.eventService.dispatchEvent(t)},t.prototype.clearSortBarThisColumn=function(e,t){this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach((function(r){r!==e&&r.setSort(void 0,t)}))},t.prototype.getNextSortDirection=function(e){var t;if(t=e.getColDef().sortingOrder?e.getColDef().sortingOrder:this.gridOptionsWrapper.getSortingOrder()?this.gridOptionsWrapper.getSortingOrder():r.DEFAULT_SORTING_ORDER,!Array.isArray(t)||t.length<=0)return console.warn("AG Grid: sortingOrder must be an array with at least one element, currently it's "+t),null;var n,o=t.indexOf(e.getSort()),i=o<0,a=o==t.length-1;return n=i||a?t[0]:t[o+1],r.DEFAULT_SORTING_ORDER.indexOf(n)<0?(console.warn("AG Grid: invalid sort type "+n),null):n},t.prototype.getColumnsWithSortingOrdered=function(){var e=this.columnModel.getPrimaryAndSecondaryAndAutoColumns(),t=e.filter((function(e){return!!e.getSort()})),r={};return e.forEach((function(e,t){return r[e.getId()]=t})),t.sort((function(e,t){var n=e.getSortIndex(),o=t.getSortIndex();return null!=n&&null!=o?n-o:null==n&&null==o?r[e.getId()]>r[t.getId()]?1:-1:null==o?-1:1})),t},t.prototype.getSortModel=function(){return this.getColumnsWithSortingOrdered().map((function(e){return{sort:e.getSort(),colId:e.getId()}}))},t.prototype.getSortOptions=function(){return this.getColumnsWithSortingOrdered().map((function(e){return{sort:e.getSort(),column:e}}))},t.DEFAULT_SORTING_ORDER=[ne.SORT_ASC,ne.SORT_DESC,null],Th([K("columnModel")],t.prototype,"columnModel",void 0),Th([K("columnApi")],t.prototype,"columnApi",void 0),Th([K("gridApi")],t.prototype,"gridApi",void 0),t=r=Th([X("sortController")],t)}(Le),Mh=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),kh=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Nh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Mh(t,e),t.prototype.setMouseOver=function(e){this.selectedColumns=e;var t={type:He.EVENT_COLUMN_HOVER_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(t)},t.prototype.clearMouseOver=function(){this.selectedColumns=null;var e={type:He.EVENT_COLUMN_HOVER_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(e)},t.prototype.isHovered=function(e){return!!this.selectedColumns&&this.selectedColumns.indexOf(e)>=0},kh([K("columnApi")],t.prototype,"columnApi",void 0),kh([K("gridApi")],t.prototype,"gridApi",void 0),t=kh([X("columnHoverService")],t)}(Le),Ih=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Lh=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Fh=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.executeNextFuncs=[],t.executeLaterFuncs=[],t.active=!1,t.animationThreadCount=0,t}return Ih(t,e),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady((function(t){return e.gridBodyCtrl=t.gridBodyCtrl}))},t.prototype.isActive=function(){return this.active},t.prototype.start=function(){this.active||this.gridOptionsWrapper.isSuppressColumnMoveAnimation()||this.gridOptionsWrapper.isEnableRtl()||(this.ensureAnimationCssClassPresent(),this.active=!0)},t.prototype.finish=function(){this.active&&(this.flush(),this.active=!1)},t.prototype.executeNextVMTurn=function(e){this.active?this.executeNextFuncs.push(e):e()},t.prototype.executeLaterVMTurn=function(e){this.active?this.executeLaterFuncs.push(e):e()},t.prototype.ensureAnimationCssClassPresent=function(){var e=this;this.animationThreadCount++;var t=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push((function(){e.animationThreadCount===t&&e.gridBodyCtrl.setColumnMovingCss(!1)}))},t.prototype.flush=function(){var e=this.executeNextFuncs;this.executeNextFuncs=[];var t=this.executeLaterFuncs;this.executeLaterFuncs=[],0===e.length&&0===t.length||(window.setTimeout((function(){return e.forEach((function(e){return e()}))}),0),window.setTimeout((function(){return t.forEach((function(e){return e()}))}),300))},Lh([K("ctrlsService")],t.prototype,"ctrlsService",void 0),Lh([U],t.prototype,"postConstruct",null),t=Lh([X("columnAnimationService")],t)}(Le),Gh=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Bh=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Wh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var r;return Gh(t,e),r=t,t.prototype.createAutoGroupColumns=function(e,t){var r=this,n=[],o=this.gridOptionsWrapper.isTreeData(),i=this.gridOptionsWrapper.isGroupMultiAutoColumn();return o&&i&&(console.warn("AG Grid: you cannot mix groupMultiAutoColumn with treeData, only one column can be used to display groups when doing tree data"),i=!1),i?t.forEach((function(t,o){n.push(r.createOneAutoGroupColumn(e,t,o))})):n.push(this.createOneAutoGroupColumn(e)),n},t.prototype.createOneAutoGroupColumn=function(e,t,n){var o,a=this.generateDefaultColDef(t);(o=t?ne.GROUP_AUTO_COLUMN_ID+"-"+t.getId():r.GROUP_AUTO_COLUMN_BUNDLE_ID,x(a,this.gridOptionsWrapper.getAutoGroupColumnDef()),(a=this.columnFactory.mergeColDefs(a)).colId=o,this.gridOptionsWrapper.isTreeData())||i(a.field)&&i(a.valueGetter)&&i(a.filterValueGetter)&&(a.filter=!1);n&&n>0&&(a.headerCheckboxSelection=!1);var s=e.find((function(e){return e.getId()==o}));if(s)return s.setColDef(a,null),this.columnFactory.applyColumnState(s,a),s;var l=new se(a,null,o,!0);return this.context.createBean(l),l},t.prototype.generateDefaultColDef=function(e){var t=this.gridOptionsWrapper.getAutoGroupColumnDef(),r={headerName:this.gridOptionsWrapper.getLocaleTextFunc()("group","Group")};if(t&&(t.cellRenderer||t.cellRendererFramework||t.cellRendererSelector)||(r.cellRenderer="agGroupCellRenderer"),e){var n=e.getColDef();Object.assign(r,{headerName:this.columnModel.getDisplayNameForColumn(e,"header"),headerValueGetter:n.headerValueGetter}),(n.cellRenderer||n.cellRendererFramework)&&Object.assign(r,{cellRendererParams:{innerRenderer:n.cellRenderer,innerRendererFramework:n.cellRendererFramework,innerRendererParams:n.cellRendererParams}}),r.showRowGroup=e.getColId()}else r.showRowGroup=!0;return r},t.GROUP_AUTO_COLUMN_BUNDLE_ID=ne.GROUP_AUTO_COLUMN_ID,Bh([K("columnModel")],t.prototype,"columnModel",void 0),Bh([K("columnFactory")],t.prototype,"columnFactory",void 0),t=r=Bh([X("autoGroupColService")],t)}(Le),Hh=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),jh=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Vh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Hh(t,e),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady((function(t){e.centerRowContainerCon=t.centerRowContainerCtrl,e.addManagedListener(e.eventService,He.EVENT_BODY_HEIGHT_CHANGED,e.onBodyHeightChanged.bind(e)),e.addManagedListener(e.eventService,He.EVENT_SCROLL_VISIBILITY_CHANGED,e.onScrollVisibilityChanged.bind(e)),e.checkPageSize()}))},t.prototype.notActive=function(){return!this.gridOptionsWrapper.isPaginationAutoPageSize()},t.prototype.onScrollVisibilityChanged=function(){this.checkPageSize()},t.prototype.onBodyHeightChanged=function(){this.checkPageSize()},t.prototype.checkPageSize=function(){if(!this.notActive()){var e=this.gridOptionsWrapper.getRowHeightAsNumber(),t=this.centerRowContainerCon.getViewportSizeFeature().getBodyHeight();if(t>0){var r=Math.floor(t/e);this.gridOptionsWrapper.setProperty("paginationPageSize",r)}}},jh([K("ctrlsService")],t.prototype,"ctrlsService",void 0),jh([U],t.prototype,"postConstruct",null),t=jh([X("paginationAutoPageSizeService")],t)}(Le),zh=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Uh=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Yh=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cacheVersion=0,t}return zh(t,e),t.prototype.init=function(){this.active=this.gridOptionsWrapper.isValueCache(),this.neverExpires=this.gridOptionsWrapper.isValueCacheNeverExpires()},t.prototype.onDataChanged=function(){this.neverExpires||this.expire()},t.prototype.expire=function(){this.cacheVersion++},t.prototype.setValue=function(e,t,r){this.active&&(e.__cacheVersion!==this.cacheVersion&&(e.__cacheVersion=this.cacheVersion,e.__cacheData={}),e.__cacheData[t]=r)},t.prototype.getValue=function(e,t){if(this.active&&e.__cacheVersion===this.cacheVersion)return e.__cacheData[t]},Uh([U],t.prototype,"init",null),t=Uh([X("valueCache")],t)}(Le),Xh=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Kh=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},qh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Xh(t,e),t.prototype.init=function(){this.rowModel.getType()===ne.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel),this.addManagedListener(this.eventService,He.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged.bind(this))},t.prototype.onCellValueChanged=function(e){e.source!==ne.SOURCE_PASTE&&this.doChangeDetection(e.node,e.column)},t.prototype.doChangeDetection=function(e,t){if(!this.gridOptionsWrapper.isSuppressChangeDetection()){if(this.clientSideRowModel&&!e.isRowPinned()){var r=this.gridOptionsWrapper.isAggregateOnlyChangedColumns(),n=new Sp(r,this.clientSideRowModel.getRootNode());n.addParentNode(e.parent,[t]),this.clientSideRowModel.doAggregate(n)}this.rowRenderer.refreshCells()}},Kh([K("rowModel")],t.prototype,"rowModel",void 0),Kh([K("rowRenderer")],t.prototype,"rowRenderer",void 0),Kh([U],t.prototype,"init",null),t=Kh([X("changeDetectionService")],t)}(Le),$h=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Zh=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Qh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $h(t,e),t.prototype.adaptFunction=function(e,t){var r=this.componentMetadataProvider.retrieve(e);return r&&r.functionAdapter?r.functionAdapter(t):null},t.prototype.adaptCellRendererFunction=function(e){return function(){function t(){}return t.prototype.refresh=function(e){return!1},t.prototype.getGui=function(){return this.eGui},t.prototype.init=function(t){var r=e(t),n=typeof r;this.eGui="string"!==n&&"number"!==n&&"boolean"!==n?null!=r?r:fr("<span></span>"):fr("<span>"+r+"</span>")},t}()},t.prototype.doesImplementIComponent=function(e){return!!e&&(e.prototype&&"getGui"in e.prototype)},Zh([K("componentMetadataProvider")],t.prototype,"componentMetadataProvider",void 0),t=Zh([X("agComponentUtils")],t)}(Le),Jh=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ef=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},tf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Jh(t,e),t.prototype.postConstruct=function(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[]},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached"]},floatingFilterWrapperComponent:{mandatoryMethodList:[],optionalMethodList:[]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},pinnedRowCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged"]},filterComponent:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]}}},t.prototype.retrieve=function(e){return this.componentMetaData[e]},ef([K("agComponentUtils")],t.prototype,"agComponentUtils",void 0),ef([U],t.prototype,"postConstruct",null),t=ef([X("componentMetadataProvider")],t)}(Le),rf=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),nf=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},of={"ag-theme-custom":{headerHeight:25,headerCellMinWidth:24,listItemHeight:20,rowHeight:25,chartMenuPanelWidth:220},"ag-theme-material":{headerHeight:56,headerCellMinWidth:48,listItemHeight:32,rowHeight:48,chartMenuPanelWidth:240},"ag-theme-balham":{headerHeight:32,headerCellMinWidth:24,listItemHeight:24,rowHeight:28,chartMenuPanelWidth:220},"ag-theme-alpine":{headerHeight:48,headerCellMinWidth:36,listItemHeight:24,rowHeight:42,chartMenuPanelWidth:240}},af={headerHeight:["ag-header-row"],headerCellMinWidth:["ag-header-cell"],listItemHeight:["ag-virtual-list-item"],rowHeight:["ag-row"],chartMenuPanelWidth:["ag-chart-docked-container"]},sf={},lf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return rf(t,e),t.prototype.getSassVariable=function(e,t){var r="ag-theme-"+(e.match("material")?"material":e.match("balham")?"balham":e.match("alpine")?"alpine":"custom"),n=of[r][t],o=0;sf[e]||(sf[e]={});var i=sf[e][t];if(null!=i)return i;if(af[t]){var a=af[t],s=document.createElement("div");s.classList.add(e),s.style.position="absolute";var l=a.reduce((function(e,t){var r=document.createElement("div");return r.style.position="static",r.classList.add(t),e.appendChild(r),r}),s);if(document.body){document.body.appendChild(s);var u=-1!==t.toLowerCase().indexOf("height")?"height":"width";o=parseInt(window.getComputedStyle(l)[u],10),document.body.removeChild(s)}}return sf[e][t]=o||n,sf[e][t]},t.prototype.isThemeDark=function(){var e=this.getTheme().theme;return!!e&&e.indexOf("dark")>=0},t.prototype.chartMenuPanelWidth=function(){var e=this.getTheme().themeFamily;return this.getSassVariable(e,"chartMenuPanelWidth")},t.prototype.getTheme=function(){for(var e=/\bag-(material|(?:theme-([\w\-]*)))\b/,t=this.eGridDiv,r=null;t&&!(r=e.exec(t.className));)t=t.parentElement||void 0;if(!r)return{};var n=r[0];if(void 0===r[2]){var o=n.replace("ag-","ag-theme-");T((function(){return console.warn("AG Grid: As of v19 old theme are no longer provided. Please replace "+n+" with "+o+".")}),"using-old-theme")}return{theme:n,el:t,themeFamily:n.replace(/-dark$/,"")}},nf([K("eGridDiv")],t.prototype,"eGridDiv",void 0),t=nf([X("environment")],t)}(Le),uf=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),cf=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},pf=function(e,t){return function(r,n){t(r,n,e)}},df=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.scrollY=0,t.uiBodyHeight=0,t}return uf(t,e),t.prototype.agWire=function(e){this.logger=e.create("RowContainerHeightService")},t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,He.EVENT_BODY_HEIGHT_CHANGED,this.updateOffset.bind(this)),this.maxDivHeight=zt(),this.logger.log("maxDivHeight = "+this.maxDivHeight)},t.prototype.isStretching=function(){return this.stretching},t.prototype.getDivStretchOffset=function(){return this.divStretchOffset},t.prototype.updateOffset=function(){if(this.stretching){var e=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition().top,t=this.getUiBodyHeight();(e!==this.scrollY||t!==this.uiBodyHeight)&&(this.scrollY=e,this.uiBodyHeight=t,this.calculateOffset())}},t.prototype.calculateOffset=function(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;var e=this.scrollY/this.maxScrollY,t=e*this.pixelsToShave;this.logger.log("Div Stretch Offset = "+t+" ("+this.pixelsToShave+" * "+e+")"),this.setDivStretchOffset(t)},t.prototype.setUiContainerHeight=function(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventService.dispatchEvent({type:He.EVENT_ROW_CONTAINER_HEIGHT_CHANGED}))},t.prototype.clearOffset=function(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)},t.prototype.setDivStretchOffset=function(e){var t="number"===typeof e?Math.floor(e):null;this.divStretchOffset!==t&&(this.divStretchOffset=t,this.eventService.dispatchEvent({type:He.EVENT_HEIGHT_SCALE_CHANGED}))},t.prototype.setModelHeight=function(e){this.modelHeight=e,this.stretching=null!=e&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()},t.prototype.getUiContainerHeight=function(){return this.uiContainerHeight},t.prototype.getRealPixelPosition=function(e){return e-this.divStretchOffset},t.prototype.getUiBodyHeight=function(){var e=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition();return e.bottom-e.top},t.prototype.getScrollPositionForPixel=function(e){if(this.pixelsToShave<=0)return e;var t=e/(this.modelHeight-this.getUiBodyHeight());return this.maxScrollY*t},cf([K("ctrlsService")],t.prototype,"ctrlsService",void 0),cf([pf(0,Z("loggerFactory"))],t.prototype,"agWire",null),cf([U],t.prototype,"postConstruct",null),t=cf([X("rowContainerHeightService")],t)}(Le),hf=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ff=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},gf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return hf(t,e),t.prototype.init=function(){this.groupSelectsChildren=this.gridOptionsWrapper.isGroupSelectsChildren(),this.isRowSelectableFunc=this.gridOptionsWrapper.getIsRowSelectableFunc()},t.prototype.updateSelectableAfterGrouping=function(e){if(this.isRowSelectableFunc){this.recurseDown(e.childrenAfterGroup,(function(e){return e.childrenAfterGroup}))}},t.prototype.recurseDown=function(e,t){var r=this;e&&e.forEach((function(e){if(e.group){var n;if(e.hasChildren()&&r.recurseDown(t(e),t),r.groupSelectsChildren)n=o((t(e)||[]).find((function(e){return!0===e.selectable})));else n=!!r.isRowSelectableFunc&&r.isRowSelectableFunc(e);e.setRowSelectable(n)}}))},ff([U],t.prototype,"init",null),t=ff([X("selectableService")],t)}(Le),yf=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),vf=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},mf=function(e){function t(){var t=e.call(this)||this;return t.previousAndFirstButtonsDisabled=!1,t.nextButtonDisabled=!1,t.lastButtonDisabled=!1,t}return yf(t,e),t.prototype.postConstruct=function(){var e=this,t=this.gridOptionsWrapper.isEnableRtl();this.setTemplate(this.getTemplate()),this.btFirst.insertAdjacentElement("afterbegin",Rn(t?"last":"first",this.gridOptionsWrapper)),this.btPrevious.insertAdjacentElement("afterbegin",Rn(t?"next":"previous",this.gridOptionsWrapper)),this.btNext.insertAdjacentElement("afterbegin",Rn(t?"previous":"next",this.gridOptionsWrapper)),this.btLast.insertAdjacentElement("afterbegin",Rn(t?"first":"last",this.gridOptionsWrapper)),this.gridOptionsWrapper.isPagination()&&!this.gridOptionsWrapper.isSuppressPaginationPanel()?(this.addManagedListener(this.eventService,He.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach((function(t){var r=t.el,n=t.fn;e.addManagedListener(r,"click",n),e.addManagedListener(r,"keydown",(function(e){e.key!==po.ENTER&&e.key!==po.SPACE||(e.preventDefault(),n())}))})),this.onPaginationChanged()):this.setDisplayed(!1)},t.prototype.onPaginationChanged=function(){this.enableOrDisableButtons(),this.updateRowLabels(),this.setCurrentPageLabel(),this.setTotalLabels()},t.prototype.onBtFirst=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToFirstPage()},t.prototype.setCurrentPageLabel=function(){var e=this.paginationProxy.getTotalPages()>0,t=this.paginationProxy.getCurrentPage(),r=e?t+1:0;this.lbCurrent.innerHTML=this.formatNumber(r)},t.prototype.formatNumber=function(e){var t=this.gridOptionsWrapper.getPaginationNumberFormatterFunc();if(t)return t({value:e});var r=this.gridOptionsWrapper.getLocaleTextFunc();return fn(e,r("thousandSeparator",","),r("decimalSeparator","."))},t.prototype.getTemplate=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),t=e("page","Page"),r=e("to","to"),n=e("of","of"),o=e("firstPage","First Page"),i=e("previousPage","Previous Page"),a=e("nextPage","Next Page"),s=e("lastPage","Last Page"),l=this.getCompId();return'<div class="ag-paging-panel ag-unselectable" id="ag-'+l+'">\n                <span class="ag-paging-row-summary-panel" role="status">\n                    <span id="ag-'+l+'-first-row" ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-'+l+'-to">'+r+'</span>\n                    <span id="ag-'+l+'-last-row" ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-'+l+'-of">'+n+'</span>\n                    <span id="ag-'+l+'-row-count" ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>\n                </span>\n                <span class="ag-paging-page-summary-panel" role="presentation">\n                    <div ref="btFirst" class="ag-paging-button" role="button" aria-label="'+o+'"></div>\n                    <div ref="btPrevious" class="ag-paging-button" role="button" aria-label="'+i+'"></div>\n                    <span class="ag-paging-description" role="status">\n                        <span id="ag-'+l+'-start-page">'+t+'</span>\n                        <span id="ag-'+l+'-start-page-number" ref="lbCurrent" class="ag-paging-number"></span>\n                        <span id="ag-'+l+'-of-page">'+n+'</span>\n                        <span id="ag-'+l+'-of-page-number" ref="lbTotal" class="ag-paging-number"></span>\n                    </span>\n                    <div ref="btNext" class="ag-paging-button" role="button" aria-label="'+a+'"></div>\n                    <div ref="btLast" class="ag-paging-button" role="button" aria-label="'+s+'"></div>\n                </span>\n            </div>'},t.prototype.onBtNext=function(){this.nextButtonDisabled||this.paginationProxy.goToNextPage()},t.prototype.onBtPrevious=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToPreviousPage()},t.prototype.onBtLast=function(){this.lastButtonDisabled||this.paginationProxy.goToLastPage()},t.prototype.enableOrDisableButtons=function(){var e=this.paginationProxy.getCurrentPage(),t=this.paginationProxy.isLastPageFound(),r=this.paginationProxy.getTotalPages();this.previousAndFirstButtonsDisabled=0===e,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);var n=this.isZeroPagesToDisplay(),o=t&&e===r-1;this.nextButtonDisabled=o||n,this.lastButtonDisabled=!t||n||e===r-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)},t.prototype.toggleButtonDisabled=function(e,t){Kr(e,t),e.classList.toggle("ag-disabled",t),t?e.removeAttribute("tabindex"):e.setAttribute("tabindex","0")},t.prototype.updateRowLabels=function(){var e,t,r=this.paginationProxy.getCurrentPage(),n=this.paginationProxy.getPageSize(),o=this.paginationProxy.isLastPageFound(),i=this.paginationProxy.isLastPageFound()?this.paginationProxy.getMasterRowCount():null;this.isZeroPagesToDisplay()?e=t=0:(t=(e=n*r+1)+n-1,o&&t>i&&(t=i)),this.lbFirstRowOnPage.innerHTML=this.formatNumber(e),this.rowNodeBlockLoader.isLoading()?this.lbLastRowOnPage.innerHTML="?":this.lbLastRowOnPage.innerHTML=this.formatNumber(t)},t.prototype.isZeroPagesToDisplay=function(){var e=this.paginationProxy.isLastPageFound(),t=this.paginationProxy.getTotalPages();return e&&0===t},t.prototype.setTotalLabels=function(){var e=this.paginationProxy.isLastPageFound(),t=this.paginationProxy.getTotalPages(),r=e?this.paginationProxy.getMasterRowCount():null;if(1===r){var n=this.paginationProxy.getRow(0);if(n&&n.group&&!(n.groupData||n.aggData))return void this.setTotalLabelsToZero()}if(e)this.lbTotal.innerHTML=this.formatNumber(t),this.lbRecordCount.innerHTML=this.formatNumber(r);else{var o=this.gridOptionsWrapper.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=o,this.lbRecordCount.innerHTML=o}},t.prototype.setTotalLabelsToZero=function(){this.lbFirstRowOnPage.innerHTML=this.formatNumber(0),this.lbCurrent.innerHTML=this.formatNumber(0),this.lbLastRowOnPage.innerHTML=this.formatNumber(0),this.lbTotal.innerHTML=this.formatNumber(0),this.lbRecordCount.innerHTML=this.formatNumber(0)},vf([K("paginationProxy")],t.prototype,"paginationProxy",void 0),vf([K("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),vf([to("btFirst")],t.prototype,"btFirst",void 0),vf([to("btPrevious")],t.prototype,"btPrevious",void 0),vf([to("btNext")],t.prototype,"btNext",void 0),vf([to("btLast")],t.prototype,"btLast",void 0),vf([to("lbRecordCount")],t.prototype,"lbRecordCount",void 0),vf([to("lbFirstRowOnPage")],t.prototype,"lbFirstRowOnPage",void 0),vf([to("lbLastRowOnPage")],t.prototype,"lbLastRowOnPage",void 0),vf([to("lbCurrent")],t.prototype,"lbCurrent",void 0),vf([to("lbTotal")],t.prototype,"lbTotal",void 0),vf([U],t.prototype,"postConstruct",null),t}(eo),bf=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Cf=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a};!function(e){e[e.Loading=0]="Loading",e[e.NoRows=1]="NoRows"}(Wd||(Wd={}));var wf=function(e){function r(){var t=e.call(this,r.TEMPLATE)||this;return t.inProgress=!1,t.destroyRequested=!1,t.manuallyDisplayed=!1,t}return bf(r,e),r.prototype.updateLayoutClasses=function(e,r){var n=this.eOverlayWrapper.classList;n.toggle(t.LayoutCssClasses.AUTO_HEIGHT,r.autoHeight),n.toggle(t.LayoutCssClasses.NORMAL,r.normal),n.toggle(t.LayoutCssClasses.PRINT,r.print)},r.prototype.postConstruct=function(){this.createManagedBean(new Cs(this)),this.setDisplayed(!1),this.addManagedListener(this.eventService,He.EVENT_ROW_DATA_CHANGED,this.onRowDataChanged.bind(this)),this.addManagedListener(this.eventService,He.EVENT_ROW_DATA_UPDATED,this.onRowDataChanged.bind(this)),this.addManagedListener(this.eventService,He.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.gridOptionsWrapper.isRowModelDefault()&&!this.gridOptionsWrapper.getRowData()&&this.showLoadingOverlay(),this.gridApi.registerOverlayWrapperComp(this)},r.prototype.setWrapperTypeClass=function(e){var t=this.eOverlayWrapper.classList;t.toggle("ag-overlay-loading-wrapper",e===Wd.Loading),t.toggle("ag-overlay-no-rows-wrapper",e===Wd.NoRows)},r.prototype.showLoadingOverlay=function(){if(!this.gridOptionsWrapper.isSuppressLoadingOverlay()){var e=this.userComponentFactory.getLoadingOverlayCompDetails({}).newAgStackInstance();this.showOverlay(e,Wd.Loading)}},r.prototype.showNoRowsOverlay=function(){if(!this.gridOptionsWrapper.isSuppressNoRowsOverlay()){var e=this.userComponentFactory.getNoRowsOverlayCompDetails({}).newAgStackInstance();this.showOverlay(e,Wd.NoRows)}},r.prototype.showOverlay=function(e,t){var r=this;this.inProgress||(this.setWrapperTypeClass(t),this.destroyActiveOverlay(),this.inProgress=!0,e&&e.then((function(e){r.inProgress=!1,r.eOverlayWrapper.appendChild(e.getGui()),r.activeOverlay=e,r.destroyRequested&&(r.destroyRequested=!1,r.destroyActiveOverlay())})),this.manuallyDisplayed=this.columnModel.isReady()&&!this.paginationProxy.isEmpty(),this.setDisplayed(!0))},r.prototype.destroyActiveOverlay=function(){this.inProgress?this.destroyRequested=!0:this.activeOverlay&&(this.activeOverlay=this.getContext().destroyBean(this.activeOverlay),pr(this.eOverlayWrapper))},r.prototype.hideOverlay=function(){this.manuallyDisplayed=!1,this.destroyActiveOverlay(),this.setDisplayed(!1)},r.prototype.destroy=function(){this.destroyActiveOverlay(),e.prototype.destroy.call(this)},r.prototype.showOrHideOverlay=function(){var e=this.paginationProxy.isEmpty(),t=this.gridOptionsWrapper.isSuppressNoRowsOverlay();e&&!t?this.showNoRowsOverlay():this.hideOverlay()},r.prototype.onRowDataChanged=function(){this.showOrHideOverlay()},r.prototype.onNewColumnsLoaded=function(){!this.columnModel.isReady()||this.paginationProxy.isEmpty()||this.manuallyDisplayed||this.hideOverlay()},r.TEMPLATE='\n        <div class="ag-overlay" aria-hidden="true">\n            <div class="ag-overlay-panel">\n                <div class="ag-overlay-wrapper" ref="eOverlayWrapper"></div>\n            </div>\n        </div>',Cf([K("userComponentFactory")],r.prototype,"userComponentFactory",void 0),Cf([K("paginationProxy")],r.prototype,"paginationProxy",void 0),Cf([K("gridApi")],r.prototype,"gridApi",void 0),Cf([K("columnModel")],r.prototype,"columnModel",void 0),Cf([to("eOverlayWrapper")],r.prototype,"eOverlayWrapper",void 0),Cf([U],r.prototype,"postConstruct",null),r}(eo),xf=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Sf=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Ef=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xf(t,e),t.prototype.getFirstRow=function(){var e,t=0;return this.pinnedRowModel.getPinnedTopRowCount()?e=ne.PINNED_TOP:this.rowModel.getRowCount()?(e=null,t=this.paginationProxy.getPageFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(e=ne.PINNED_BOTTOM),void 0===e?null:{rowIndex:t,rowPinned:e}},t.prototype.getLastRow=function(){var e,t=null,r=this.pinnedRowModel.getPinnedBottomRowCount(),n=this.pinnedRowModel.getPinnedTopRowCount();return r?(t=ne.PINNED_BOTTOM,e=r-1):this.rowModel.getRowCount()?(t=null,e=this.paginationProxy.getPageLastRow()):n&&(t=ne.PINNED_TOP,e=n-1),void 0===e?null:{rowIndex:e,rowPinned:t}},t.prototype.getRowNode=function(e){switch(e.rowPinned){case ne.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case ne.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}},t.prototype.sameRow=function(e,t){return!e&&!t||!(e&&!t||!e&&t)&&(e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned)},t.prototype.before=function(e,t){switch(e.rowPinned){case ne.PINNED_TOP:if(t.rowPinned!==ne.PINNED_TOP)return!0;break;case ne.PINNED_BOTTOM:if(t.rowPinned!==ne.PINNED_BOTTOM)return!1;break;default:if(o(t.rowPinned))return t.rowPinned!==ne.PINNED_TOP}return e.rowIndex<t.rowIndex},Sf([K("rowModel")],t.prototype,"rowModel",void 0),Sf([K("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Sf([K("paginationProxy")],t.prototype,"paginationProxy",void 0),t=Sf([X("rowPositionUtils")],t)}(Le),Of=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),_f=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Pf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Of(t,e),t.prototype.createId=function(e){var t=e.rowIndex,r=e.rowPinned,n=e.column;return this.createIdFromValues(t,n,r)},t.prototype.createIdFromValues=function(e,t,r){return e+"."+(null==r?"null":r)+"."+t.getId()},t.prototype.equals=function(e,t){var r=e.column===t.column,n=e.rowPinned===t.rowPinned,o=e.rowIndex===t.rowIndex;return r&&n&&o},t=_f([X("cellPositionUtils")],t)}(Le),Rf=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Af=function(e){this.cellValueChanges=e},Tf=function(e){function t(t,r,n){var o=e.call(this,t)||this;return o.initialRange=r,o.finalRange=n,o}return Rf(t,e),t}(Af),Df=function(){function e(t){this.actionStack=[],this.maxStackSize=t||e.DEFAULT_STACK_SIZE,this.actionStack=new Array(this.maxStackSize)}return e.prototype.pop=function(){return this.actionStack.pop()},e.prototype.push=function(e){e.cellValueChanges&&e.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))},e.prototype.clear=function(){this.actionStack=[]},e.prototype.getCurrentStackSize=function(){return this.actionStack.length},e.DEFAULT_STACK_SIZE=10,e}(),Mf=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),kf=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Nf=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.cellValueChanges=[],t.activeCellEdit=null,t.activeRowEdit=null,t.isPasting=!1,t.isFilling=!1,t.onCellValueChanged=function(e){var r={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned},n=null!==t.activeCellEdit&&t.cellPositionUtils.equals(t.activeCellEdit,r),o=null!==t.activeRowEdit&&t.rowPositionUtils.sameRow(t.activeRowEdit,r);if(n||o||t.isPasting||t.isFilling){var i=e.rowPinned,a=e.rowIndex,s=e.column,l=e.oldValue,u=e.value,c={rowPinned:i,rowIndex:a,columnId:s.getColId(),newValue:u,oldValue:l};t.cellValueChanges.push(c)}},t.clearStacks=function(){t.undoStack.clear(),t.redoStack.clear()},t}return Mf(r,e),r.prototype.init=function(){if(this.gridOptionsWrapper.isUndoRedoCellEditing()){var e=this.gridOptionsWrapper.getUndoRedoCellEditingLimit();e<=0||(this.undoStack=new Df(e),this.redoStack=new Df(e),this.addRowEditingListeners(),this.addCellEditingListeners(),this.addPasteListeners(),this.addFillListeners(),this.addManagedListener(this.eventService,He.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged),this.addManagedListener(this.eventService,He.EVENT_MODEL_UPDATED,this.clearStacks),this.addManagedListener(this.eventService,He.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,He.EVENT_NEW_COLUMNS_LOADED,this.clearStacks),this.addManagedListener(this.eventService,He.EVENT_COLUMN_GROUP_OPENED,this.clearStacks),this.addManagedListener(this.eventService,He.EVENT_COLUMN_ROW_GROUP_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,He.EVENT_COLUMN_MOVED,this.clearStacks),this.addManagedListener(this.eventService,He.EVENT_COLUMN_PINNED,this.clearStacks),this.addManagedListener(this.eventService,He.EVENT_COLUMN_VISIBLE,this.clearStacks),this.addManagedListener(this.eventService,He.EVENT_ROW_DRAG_END,this.clearStacks))}},r.prototype.getCurrentUndoStackSize=function(){return this.undoStack?this.undoStack.getCurrentStackSize():0},r.prototype.getCurrentRedoStackSize=function(){return this.redoStack?this.redoStack.getCurrentStackSize():0},r.prototype.undo=function(){if(this.undoStack){var e=this.undoStack.pop();e&&e.cellValueChanges&&(this.processAction(e,(function(e){return e.oldValue})),e instanceof Tf?this.processRangeAndCellFocus(e.cellValueChanges,e.initialRange):this.processRangeAndCellFocus(e.cellValueChanges),this.redoStack.push(e))}},r.prototype.redo=function(){if(this.redoStack){var e=this.redoStack.pop();e&&e.cellValueChanges&&(this.processAction(e,(function(e){return e.newValue})),e instanceof Tf?this.processRangeAndCellFocus(e.cellValueChanges,e.finalRange):this.processRangeAndCellFocus(e.cellValueChanges),this.undoStack.push(e))}},r.prototype.processAction=function(e,t){var r=this;e.cellValueChanges.forEach((function(e){var n=e.rowIndex,o=e.rowPinned,i=e.columnId,a={rowIndex:n,rowPinned:o},s=r.getRowNode(a);s.displayed&&s.setDataValue(i,t(e))}))},r.prototype.processRangeAndCellFocus=function(e,t){var r;if(t){var n=t.startRow,o=t.endRow;r={rowPinned:n.rowPinned,rowIndex:n.rowIndex,columnId:t.startColumn.getColId()},this.setLastFocusedCell(r);var i={rowStartIndex:n.rowIndex,rowStartPinned:n.rowPinned,rowEndIndex:o.rowIndex,rowEndPinned:o.rowPinned,columnStart:t.startColumn,columns:t.columns};this.gridApi.addCellRange(i)}else{var a=e[0],s={rowIndex:a.rowIndex,rowPinned:a.rowPinned},l=this.getRowNode(s);r={rowPinned:a.rowPinned,rowIndex:l.rowIndex,columnId:a.columnId},this.setLastFocusedCell(r)}},r.prototype.setLastFocusedCell=function(e){var r=e.rowIndex,n=e.columnId,o=e.rowPinned;this.gridApi.ensureIndexVisible(r),this.gridApi.ensureColumnVisible(n),oe.isRegistered(t.ModuleNames.RangeSelectionModule)&&this.gridApi.clearRangeSelection(),this.focusService.setFocusedCell(r,n,o,!0)},r.prototype.addRowEditingListeners=function(){var e=this;this.addManagedListener(this.eventService,He.EVENT_ROW_EDITING_STARTED,(function(t){e.activeRowEdit={rowIndex:t.rowIndex,rowPinned:t.rowPinned}})),this.addManagedListener(this.eventService,He.EVENT_ROW_EDITING_STOPPED,(function(){var t=new Af(e.cellValueChanges);e.pushActionsToUndoStack(t),e.activeRowEdit=null}))},r.prototype.addCellEditingListeners=function(){var e=this;this.addManagedListener(this.eventService,He.EVENT_CELL_EDITING_STARTED,(function(t){e.activeCellEdit={column:t.column,rowIndex:t.rowIndex,rowPinned:t.rowPinned}})),this.addManagedListener(this.eventService,He.EVENT_CELL_EDITING_STOPPED,(function(){if(e.activeCellEdit=null,!e.activeRowEdit&&!e.isPasting&&!e.isFilling){var t=new Af(e.cellValueChanges);e.pushActionsToUndoStack(t)}}))},r.prototype.addPasteListeners=function(){var e=this;this.addManagedListener(this.eventService,He.EVENT_PASTE_START,(function(){e.isPasting=!0})),this.addManagedListener(this.eventService,He.EVENT_PASTE_END,(function(){var t=new Af(e.cellValueChanges);e.pushActionsToUndoStack(t),e.isPasting=!1}))},r.prototype.addFillListeners=function(){var e=this;this.addManagedListener(this.eventService,He.EVENT_FILL_START,(function(){e.isFilling=!0})),this.addManagedListener(this.eventService,He.EVENT_FILL_END,(function(t){var r=new Tf(e.cellValueChanges,t.initialRange,t.finalRange);e.pushActionsToUndoStack(r),e.isFilling=!1}))},r.prototype.pushActionsToUndoStack=function(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()},r.prototype.getRowNode=function(e){switch(e.rowPinned){case ne.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case ne.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}},kf([K("focusService")],r.prototype,"focusService",void 0),kf([K("gridApi")],r.prototype,"gridApi",void 0),kf([K("rowModel")],r.prototype,"rowModel",void 0),kf([K("pinnedRowModel")],r.prototype,"pinnedRowModel",void 0),kf([K("cellPositionUtils")],r.prototype,"cellPositionUtils",void 0),kf([K("rowPositionUtils")],r.prototype,"rowPositionUtils",void 0),kf([U],r.prototype,"init",null),r=kf([X("undoRedoService")],r)}(Le),If=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Lf=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Ff=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return If(r,e),r.prototype.findHeader=function(e,t){var r,n,o;if(e.column instanceof Ce?(n="getDisplayedGroup"+t,r=this.columnModel[n](e.column)):(o="getDisplayedCol"+t,r=this.columnModel[o](e.column)),r)return{column:r,headerRowIndex:e.headerRowIndex}},r.prototype.findColAtEdgeForHeaderRow=function(e,r){var n=this.columnModel.getAllDisplayedColumns(),o=n["start"===r?0:n.length-1];if(o){var i=this.ctrlsService.getHeaderRowContainerCtrl(o.getPinned()).getRowType(e);return i==t.HeaderRowType.COLUMN_GROUP?{headerRowIndex:e,column:this.columnModel.getColumnGroupAtLevel(o,e)}:{headerRowIndex:null==i?-1:e,column:o}}},Lf([K("columnModel")],r.prototype,"columnModel",void 0),Lf([K("ctrlsService")],r.prototype,"ctrlsService",void 0),r=Lf([X("headerPositionUtils")],r)}(Le),Gf=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Bf=function(){function e(){}return e.prototype.buildColumnDefs=function(e,t,r){var n=this,o=[],i={};return e.forEach((function(e){for(var a=!0,s=n.createDefFromColumn(e,t,r),l=e.getOriginalParent();l;){var u=null;if(l.isPadding())l=l.getOriginalParent();else{var c=i[l.getGroupId()];if(c){c.children.push(s),a=!1;break}(u=n.createDefFromGroup(l))&&(u.children=[s],i[u.groupId]=u,s=u,l=l.getOriginalParent())}}a&&o.push(s)})),o},e.prototype.createDefFromGroup=function(e){var t=y(e.getColGroupDef(),["children"]);return t&&(t.groupId=e.getGroupId()),t},e.prototype.createDefFromColumn=function(e,t,r){var n=y(e.getColDef());return n.colId=e.getColId(),n.width=e.getActualWidth(),n.rowGroup=e.isRowGroupActive(),n.rowGroupIndex=e.isRowGroupActive()?t.indexOf(e):null,n.pivot=e.isPivotActive(),n.pivotIndex=e.isPivotActive()?r.indexOf(e):null,n.aggFunc=e.isValueActive()?e.getAggFunc():null,n.hide=!e.isVisible()||void 0,n.pinned=e.isPinned()?e.getPinned():null,n.sort=e.getSort()?e.getSort():null,n.sortIndex=null!=e.getSortIndex()?e.getSortIndex():null,n},e=Gf([X("columnDefFactory")],e)}(),Wf=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Hf=function(){function e(){}return e.prototype.getInitialRowClasses=function(e){var t=[];return o(e.extraCssClass)&&t.push(e.extraCssClass),t.push("ag-row"),t.push(e.rowFocused?"ag-row-focus":"ag-row-no-focus"),e.fadeRowIn&&t.push("ag-opacity-zero"),t.push(e.rowIsEven?"ag-row-even":"ag-row-odd"),e.rowNode.isRowPinned()&&t.push("ag-row-pinned"),e.rowNode.isSelected()&&t.push("ag-row-selected"),e.rowNode.footer&&t.push("ag-row-footer"),t.push("ag-row-level-"+e.rowLevel),e.rowNode.stub&&t.push("ag-row-loading"),e.fullWidthRow&&t.push("ag-full-width-row"),e.expandable&&(t.push("ag-row-group"),t.push(e.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),e.rowNode.dragging&&t.push("ag-row-dragging"),ve(t,this.processClassesFromGridOptions(e.rowNode)),ve(t,this.preProcessRowClassRules(e.rowNode)),t.push(e.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),e.firstRowOnPage&&t.push("ag-row-first"),e.lastRowOnPage&&t.push("ag-row-last"),e.fullWidthRow&&(e.pinned===ne.PINNED_LEFT&&t.push("ag-cell-last-left-pinned"),e.pinned===ne.PINNED_RIGHT&&t.push("ag-cell-first-right-pinned")),t},e.prototype.processClassesFromGridOptions=function(e){var t=[],r=function(e){"string"===typeof e?t.push(e):Array.isArray(e)&&e.forEach((function(e){return t.push(e)}))},n=this.gridOptionsWrapper.getRowClass();if(n){if("function"===typeof n)return console.warn("AG Grid: rowClass should not be a function, please use getRowClass instead"),[];r(n)}var o=this.gridOptionsWrapper.getRowClassFunc();o&&r(o({data:e.data,node:e,rowIndex:e.rowIndex}));return t},e.prototype.preProcessRowClassRules=function(e){var t=[];return this.processRowClassRules(e,(function(e){t.push(e)}),(function(e){})),t},e.prototype.processRowClassRules=function(e,t,r){var n={data:e.data,node:e,rowIndex:e.rowIndex,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};this.stylingService.processClassRules(this.gridOptionsWrapper.rowClassRules(),n,t,r)},e.prototype.calculateRowLevel=function(e){return e.group?e.level:e.parent?e.parent.level+1:0},Wf([K("stylingService")],e.prototype,"stylingService",void 0),Wf([K("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),e=Wf([X("rowCssClassCalculator")],e)}(),jf=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Vf=function(){function e(){}return e.prototype.doFullSort=function(e,t){var r=e.map((function(e,t){return{currentPos:t,rowNode:e}}));return r.sort(this.compareRowNodes.bind(this,t)),r.map((function(e){return e.rowNode}))},e.prototype.compareRowNodes=function(e,t,r){for(var n=t.rowNode,o=r.rowNode,i=0,a=e.length;i<a;i++){var s=e[i],l=s.sort===ne.SORT_DESC,u=this.getValue(n,s.column),c=this.getValue(o,s.column),p=void 0,d=this.getComparator(s,n);if(p=d?d(u,c,n,o,l):Hn.defaultComparator(u,c,this.gridOptionsWrapper.isAccentedSort()),!isNaN(p)&&0!==p)return s.sort===ne.SORT_ASC?p:-1*p}return t.currentPos-r.currentPos},e.prototype.getComparator=function(e,t){var r=e.column,n=r.getColDef().comparator;if(null!=n)return n;if(t.rowGroupColumn)return t.rowGroupColumn.getColDef().comparator;if(r.getColDef().showRowGroup){var o=!t.group&&r.getColDef().field;if(o){var i=this.columnModel.getPrimaryColumn(o);if(i)return i.getColDef().comparator}}},e.prototype.getValue=function(e,t){return this.valueService.getValue(t,e,!1,!1)},jf([K("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),jf([K("valueService")],e.prototype,"valueService",void 0),jf([K("columnModel")],e.prototype,"columnModel",void 0),e=jf([X("rowNodeSorter")],e)}(),zf=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Uf=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Yf=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ready=!1,t.readyCallbacks=[],t}var r;return zf(t,e),r=t,t.prototype.checkReady=function(){if(this.ready=null!=this.gridCtrl&&null!=this.gridBodyCtrl&&null!=this.centerRowContainerCtrl&&null!=this.leftRowContainerCtrl&&null!=this.rightRowContainerCtrl&&null!=this.bottomCenterRowContainerCtrl&&null!=this.bottomLeftRowContainerCtrl&&null!=this.bottomRightRowContainerCtrl&&null!=this.topCenterRowContainerCtrl&&null!=this.topLeftRowContainerCtrl&&null!=this.topRightRowContainerCtrl&&null!=this.centerHeaderRowContainerCtrl&&null!=this.leftHeaderRowContainerCtrl&&null!=this.rightHeaderRowContainerCtrl&&null!=this.fakeHScrollCtrl&&null!=this.gridHeaderCtrl,this.ready){var e=this.createReadyParams();this.readyCallbacks.forEach((function(t){return t(e)})),this.readyCallbacks.length=0}},t.prototype.whenReady=function(e){this.ready?e(this.createReadyParams()):this.readyCallbacks.push(e)},t.prototype.createReadyParams=function(){return{centerRowContainerCtrl:this.centerRowContainerCtrl,leftRowContainerCtrl:this.leftRowContainerCtrl,rightRowContainerCtrl:this.rightRowContainerCtrl,bottomCenterRowContainerCtrl:this.bottomCenterRowContainerCtrl,bottomLeftRowContainerCtrl:this.bottomLeftRowContainerCtrl,bottomRightRowContainerCtrl:this.bottomRightRowContainerCtrl,topCenterRowContainerCtrl:this.topCenterRowContainerCtrl,topLeftRowContainerCtrl:this.topLeftRowContainerCtrl,topRightRowContainerCtrl:this.topRightRowContainerCtrl,centerHeaderRowContainerCtrl:this.centerHeaderRowContainerCtrl,leftHeaderRowContainerCtrl:this.leftHeaderRowContainerCtrl,rightHeaderRowContainerCtrl:this.rightHeaderRowContainerCtrl,fakeHScrollCtrl:this.fakeHScrollCtrl,gridBodyCtrl:this.gridBodyCtrl,gridCtrl:this.gridCtrl,gridHeaderCtrl:this.gridHeaderCtrl}},t.prototype.registerFakeHScrollCtrl=function(e){this.fakeHScrollCtrl=e,this.checkReady()},t.prototype.registerGridHeaderCtrl=function(e){this.gridHeaderCtrl=e,this.checkReady()},t.prototype.registerCenterRowContainerCtrl=function(e){this.centerRowContainerCtrl=e,this.checkReady()},t.prototype.registerLeftRowContainerCtrl=function(e){this.leftRowContainerCtrl=e,this.checkReady()},t.prototype.registerRightRowContainerCtrl=function(e){this.rightRowContainerCtrl=e,this.checkReady()},t.prototype.registerTopCenterRowContainerCtrl=function(e){this.topCenterRowContainerCtrl=e,this.checkReady()},t.prototype.registerTopLeftRowContainerCon=function(e){this.topLeftRowContainerCtrl=e,this.checkReady()},t.prototype.registerTopRightRowContainerCtrl=function(e){this.topRightRowContainerCtrl=e,this.checkReady()},t.prototype.registerBottomCenterRowContainerCtrl=function(e){this.bottomCenterRowContainerCtrl=e,this.checkReady()},t.prototype.registerBottomLeftRowContainerCtrl=function(e){this.bottomLeftRowContainerCtrl=e,this.checkReady()},t.prototype.registerBottomRightRowContainerCtrl=function(e){this.bottomRightRowContainerCtrl=e,this.checkReady()},t.prototype.registerHeaderContainer=function(e,t){switch(t){case ne.PINNED_LEFT:this.leftHeaderRowContainerCtrl=e;break;case ne.PINNED_RIGHT:this.rightHeaderRowContainerCtrl=e;break;default:this.centerHeaderRowContainerCtrl=e}this.checkReady()},t.prototype.registerGridBodyCtrl=function(e){this.gridBodyCtrl=e,this.checkReady()},t.prototype.registerGridCtrl=function(e){this.gridCtrl=e,this.checkReady()},t.prototype.getFakeHScrollCtrl=function(){return this.fakeHScrollCtrl},t.prototype.getGridHeaderCtrl=function(){return this.gridHeaderCtrl},t.prototype.getGridCtrl=function(){return this.gridCtrl},t.prototype.getCenterRowContainerCtrl=function(){return this.centerRowContainerCtrl},t.prototype.getTopCenterRowContainerCtrl=function(){return this.topCenterRowContainerCtrl},t.prototype.getBottomCenterRowContainerCtrl=function(){return this.bottomCenterRowContainerCtrl},t.prototype.getGridBodyCtrl=function(){return this.gridBodyCtrl},t.prototype.getHeaderRowContainerCtrls=function(){return[this.leftHeaderRowContainerCtrl,this.rightHeaderRowContainerCtrl,this.centerHeaderRowContainerCtrl]},t.prototype.getHeaderRowContainerCtrl=function(e){switch(e){case ne.PINNED_LEFT:return this.leftHeaderRowContainerCtrl;case ne.PINNED_RIGHT:return this.rightHeaderRowContainerCtrl;default:return this.centerHeaderRowContainerCtrl}},t.NAME="ctrlsService",t=r=Uf([X(r.NAME)],t)}(Le),Xf=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Kf=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},qf=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registry={},t}return Xf(t,e),t.prototype.register=function(e){this.registry[e.controllerName]=e.controllerClass},t.prototype.getInstance=function(e){var t=this.registry[e];if(null!=t)return new t},t=Kf([X("ctrlsFactory")],t)}(Le),$f=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Zf=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Qf=function(e){function t(){return e.call(this)||this}return $f(t,e),t.prototype.setComp=function(e,t,r,n){this.view=e,this.eViewport=r,this.eContainer=n,this.eGui=t,this.addManagedListener(this.eventService,He.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.onScrollVisibilityChanged();var o=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedListener(this.eventService,He.EVENT_DISPLAYED_COLUMNS_CHANGED,o),this.addManagedListener(this.eventService,He.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,o),this.addManagedListener(this.gridOptionsWrapper,ys.PROP_DOM_LAYOUT,o),this.setFakeHScrollSpacerWidths(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()),this.ctrlsService.registerFakeHScrollCtrl(this)},t.prototype.addActiveListenerToggles=function(){var e=this;["mouseenter","mousedown","touchstart"].forEach((function(t){return e.addManagedListener(e.eGui,t,(function(){return e.view.addOrRemoveCssClass("ag-scrollbar-active",!0)}))})),["mouseleave","mouseup","touchend"].forEach((function(t){return e.addManagedListener(e.eGui,t,(function(){return e.view.addOrRemoveCssClass("ag-scrollbar-active",!1)}))}))},t.prototype.postConstruct=function(){this.enableRtl=this.gridOptionsWrapper.isEnableRtl(),this.invisibleScrollbar=Xt()},t.prototype.onScrollVisibilityChanged=function(){this.setScrollVisible(),this.setFakeHScrollSpacerWidths()},t.prototype.hideAndShowInvisibleScrollAsNeeded=function(){var e=this;this.addManagedListener(this.eventService,He.EVENT_BODY_SCROLL,(function(t){"horizontal"===t.direction&&e.view.addOrRemoveCssClass("ag-scrollbar-scrolling",!0)})),this.addManagedListener(this.eventService,He.EVENT_BODY_SCROLL_END,(function(){return e.view.addOrRemoveCssClass("ag-scrollbar-scrolling",!1)}))},t.prototype.setFakeHScrollSpacerWidths=function(){var e=this.scrollVisibleService.isVerticalScrollShowing(),t=this.columnModel.getDisplayedColumnsRightWidth(),r=!this.enableRtl&&e,n=this.gridOptionsWrapper.getScrollbarWidth();r&&(t+=n),this.view.setRightSpacerFixedWidth(t),this.view.includeRightSpacerScrollerCss("ag-scroller-corner",t<=n);var o=this.columnModel.getDisplayedColumnsLeftWidth();this.enableRtl&&e&&(o+=n),this.view.setLeftSpacerFixedWidth(o),this.view.includeLeftSpacerScrollerCss("ag-scroller-corner",o<=n)},t.prototype.setScrollVisible=function(){var e=this.scrollVisibleService.isHorizontalScrollShowing(),t=this.invisibleScrollbar,r=this.gridOptionsWrapper.isSuppressHorizontalScroll(),n=e&&this.gridOptionsWrapper.getScrollbarWidth()||0,o=r?0:0===n&&t?15:n;this.view.addOrRemoveCssClass("ag-scrollbar-invisible",t),this.view.setHeight(o),this.view.setViewportHeight(o),this.view.setContainerHeight(o)},t.prototype.getViewport=function(){return this.eViewport},t.prototype.getContainer=function(){return this.eContainer},Zf([K("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),Zf([K("columnModel")],t.prototype,"columnModel",void 0),Zf([K("ctrlsService")],t.prototype,"ctrlsService",void 0),Zf([U],t.prototype,"postConstruct",null),t}(Le),Jf=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),eg=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},tg=function(e){function t(){return e.call(this,t.TEMPLATE)||this}return Jf(t,e),t.prototype.postConstruct=function(){var e=this,t={addOrRemoveCssClass:function(t,r){return e.addOrRemoveCssClass(t,r)},setHeight:function(t){return Or(e.getGui(),t)},setContainerHeight:function(t){return Or(e.eContainer,t)},setViewportHeight:function(t){return Or(e.eViewport,t)},setRightSpacerFixedWidth:function(t){return Er(e.eRightSpacer,t)},setLeftSpacerFixedWidth:function(t){return Er(e.eLeftSpacer,t)},includeLeftSpacerScrollerCss:function(t,r){return e.eLeftSpacer.classList.toggle(t,r)},includeRightSpacerScrollerCss:function(t,r){return e.eRightSpacer.classList.toggle(t,r)}};this.createManagedBean(new Qf).setComp(t,this.getGui(),this.eViewport,this.eContainer),this.createManagedBean(new Ll((function(t){return e.eContainer.style.width=t+"px"})))},t.TEMPLATE='<div class="ag-body-horizontal-scroll" aria-hidden="true">\n            <div class="ag-horizontal-left-spacer" ref="eLeftSpacer"></div>\n            <div class="ag-body-horizontal-scroll-viewport" ref="eViewport">\n                <div class="ag-body-horizontal-scroll-container" ref="eContainer"></div>\n            </div>\n            <div class="ag-horizontal-right-spacer" ref="eRightSpacer"></div>\n        </div>',eg([to("eLeftSpacer")],t.prototype,"eLeftSpacer",void 0),eg([to("eRightSpacer")],t.prototype,"eRightSpacer",void 0),eg([to("eViewport")],t.prototype,"eViewport",void 0),eg([to("eContainer")],t.prototype,"eContainer",void 0),eg([U],t.prototype,"postConstruct",null),t}(eo),rg=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ng=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},og=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return rg(t,e),t.prototype.postConstruct=function(){var e=this.checkContainerWidths.bind(this);this.addManagedListener(this.eventService,He.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,He.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,e),this.addManagedListener(this.gridOptionsWrapper,ys.PROP_DOM_LAYOUT,e)},t.prototype.checkContainerWidths=function(){var e=this.gridOptionsWrapper.getDomLayout()===ne.DOM_LAYOUT_PRINT,t=e?0:this.columnModel.getDisplayedColumnsLeftWidth(),r=e?0:this.columnModel.getDisplayedColumnsRightWidth();t!=this.leftWidth&&(this.leftWidth=t,this.eventService.dispatchEvent({type:He.EVENT_LEFT_PINNED_WIDTH_CHANGED})),r!=this.rightWidth&&(this.rightWidth=r,this.eventService.dispatchEvent({type:He.EVENT_RIGHT_PINNED_WIDTH_CHANGED}))},t.prototype.getPinnedRightWidth=function(){return this.rightWidth},t.prototype.getPinnedLeftWidth=function(){return this.leftWidth},ng([K("columnModel")],t.prototype,"columnModel",void 0),ng([U],t.prototype,"postConstruct",null),t=ng([X("pinnedWidthService")],t)}(Le),ig=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ag=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},sg=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.events=[],t}return ig(t,e),t.prototype.postConstruct=function(){this.rowModel.getType()==ne.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel)},t.prototype.dispatchExpanded=function(e){var t=this;if(null!=this.clientSideRowModel){this.events.push(e);null==this.dispatchExpandedDebounced&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce((function(){t.clientSideRowModel&&t.clientSideRowModel.onRowGroupOpened(),t.events.forEach((function(e){return t.eventService.dispatchEvent(e)})),t.events=[]}))),this.dispatchExpandedDebounced()}else this.eventService.dispatchEvent(e)},ag([K("animationFrameService")],t.prototype,"animationFrameService",void 0),ag([K("rowModel")],t.prototype,"rowModel",void 0),ag([U],t.prototype,"postConstruct",null),t=ag([X("rowNodeEventThrottle")],t)}(Le),lg=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},ug=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(lg(arguments[t]));return e},cg=function(){function e(e,t,r){t?(this.gridOptions=t,(new pg).create(e,t,(function(t){var r=new Rh(e);t.createBean(r)}),void 0,r)):console.error("AG Grid: no gridOptions provided to the grid")}return e.prototype.destroy=function(){this.gridOptions&&this.gridOptions.api&&this.gridOptions.api.destroy()},e}(),pg=function(){function e(){}return e.prototype.create=function(e,r,n,o,i){var a=this,s=!!r.debug,l=this.getRegisteredModules(i),u=this.createBeansList(r.rowModelType,l),c=this.createProvidedBeans(e,r,i);if(u){var p={providedBeanInstances:c,beanClasses:u,debug:s},d=new xh("AG Grid",(function(){return r.debug})),h=new xh("Context",(function(){return p.debug})),f=new V(p,h),g=f.getBean("beans");this.registerModuleUserComponents(g,l),this.registerStackComponents(g,l),this.registerControllers(g,l),n(f),g.ctrlsService.whenReady((function(){a.setColumnsAndData(g),a.dispatchGridReadyEvent(g,r);var e=oe.isRegistered(t.ModuleNames.EnterpriseCoreModule);d.log("initialised successfully, enterprise = "+e)})),o&&o(f)}},e.prototype.registerControllers=function(e,t){t.forEach((function(t){t.controllers&&t.controllers.forEach((function(t){return e.ctrlsFactory.register(t)}))}))},e.prototype.registerStackComponents=function(e,t){var r=this.createAgStackComponentsList(t);e.agStackComponentsRegistry.setupComponents(r)},e.prototype.getRegisteredModules=function(e){var t=e?e.modules:null,r=oe.getRegisteredModules(),n=[],o={};function i(e,t){var r;o[(r=t).moduleName]||(o[r.moduleName]=!0,n.push(r),oe.register(r,e)),t.dependantModules&&t.dependantModules.forEach(i.bind(null,e))}return t&&t.forEach(i.bind(null,!0)),r&&r.forEach(i.bind(null,!oe.isPackageBased())),n},e.prototype.registerModuleUserComponents=function(e,t){this.extractModuleEntity(t,(function(e){return e.userComponents?e.userComponents:[]})).forEach((function(t){e.userComponentRegistry.registerDefaultComponent(t.componentName,t.componentClass)}))},e.prototype.createProvidedBeans=function(e,t,r){var n=r?r.frameworkOverrides:null;i(n)&&(n=new Kd);var o={gridOptions:t,eGridDiv:e,globalEventListener:r?r.globalEventListener:null,frameworkOverrides:n};return r&&r.providedBeanInstances&&Object.assign(o,r.providedBeanInstances),o},e.prototype.createAgStackComponentsList=function(e){var t=[{componentName:"AgCheckbox",componentClass:ic},{componentName:"AgRadioButton",componentClass:Fp},{componentName:"AgToggleButton",componentClass:Bp},{componentName:"AgInputTextField",componentClass:Hp},{componentName:"AgInputTextArea",componentClass:Vp},{componentName:"AgInputNumberField",componentClass:Up},{componentName:"AgInputRange",componentClass:Xp},{componentName:"AgSelect",componentClass:ko},{componentName:"AgSlider",componentClass:$p},{componentName:"AgAngleSelect",componentClass:Jp},{componentName:"AgColorPicker",componentClass:dd},{componentName:"AgGridBody",componentClass:ql},{componentName:"AgHeaderRoot",componentClass:Hc},{componentName:"AgPagination",componentClass:mf},{componentName:"AgOverlayWrapper",componentClass:wf},{componentName:"AgGroupComponent",componentClass:gd},{componentName:"AgPanel",componentClass:ad},{componentName:"AgDialog",componentClass:cd},{componentName:"AgRowContainer",componentClass:vu},{componentName:"AgFakeHorizontalScroll",componentClass:tg}],r=this.extractModuleEntity(e,(function(e){return e.agStackComponents?e.agStackComponents:[]}));return t=t.concat(r)},e.prototype.createBeansList=function(e,t){var r=this.getRowModelClass(e,t);if(r){var n=[r,qs,Ef,Pf,Ff,Vh,Uu,_a,Qh,tf,ep,Xa,df,zc,wp,$a,pt,re,ys,jd,ih,es,it,Ic,Mp,fp,fh,We,vh,th,iu,Yh,ch,wh,lt,up,Xc,ta,sh,Fd,tu,lf,Zd,mp,Ip,Ql,Dh,Nh,Fh,gf,Wh,qh,np,Nf,wt,Bf,Hf,Ap,Vf,Yf,og,sg,qf],o=this.extractModuleEntity(t,(function(e){return e.beans?e.beans:[]}));n.push.apply(n,ug(o));var i=[];return n.forEach((function(e){i.indexOf(e)<0&&i.push(e)})),i}},e.prototype.extractModuleEntity=function(e,t){return[].concat.apply([],ug(e.map(t)))},e.prototype.setColumnsAndData=function(e){var t=e.gridOptionsWrapper.getColumnDefs();e.columnModel.setColumnDefs(t||[],"gridInitializing"),e.rowModel.start()},e.prototype.dispatchGridReadyEvent=function(e,t){var r={type:He.EVENT_GRID_READY,api:t.api,columnApi:t.columnApi};e.eventService.dispatchEvent(r)},e.prototype.getRowModelClass=function(e,r){e||(e=ne.ROW_MODEL_TYPE_CLIENT_SIDE);var n={};r.forEach((function(e){f(e.rowModels,(function(e,t){n[e]=t}))}));var i=n[e];if(o(i))return i;oe.isPackageBased()?[ne.ROW_MODEL_TYPE_VIEWPORT,ne.ROW_MODEL_TYPE_SERVER_SIDE].includes(e)?console.error('AG Grid: Row Model "'+e+"\" not found. Please ensure the package 'ag-grid-enterprise' is imported. Please see: https://www.ag-grid.com/javascript-grid/packages/"):console.error("AG Grid: could not find row model for rowModelType "+e):e===ne.ROW_MODEL_TYPE_INFINITE?console.error('AG Grid: Row Model "Infinite" not found. Please ensure the '+t.ModuleNames.InfiniteRowModelModule+" module is registered. Please see: https://www.ag-grid.com/javascript-grid/modules/"):e===ne.ROW_MODEL_TYPE_VIEWPORT?console.error('AG Grid: Row Model "Viewport" not found. Please ensure the AG Grid Enterprise Module '+t.ModuleNames.ViewportRowModelModule+" module is registered. Please see: https://www.ag-grid.com/javascript-grid/modules/"):e===ne.ROW_MODEL_TYPE_SERVER_SIDE?console.error('AG Grid: Row Model "Server Side" not found. Please ensure the AG Grid Enterprise Module '+t.ModuleNames.ServerSideRowModelModule+" module is registered. Please see: https://www.ag-grid.com/javascript-grid/modules/"):e===ne.ROW_MODEL_TYPE_CLIENT_SIDE?console.error('AG Grid: Row Model "Client Side" not found. Please ensure the '+t.ModuleNames.ClientSideRowModelModule+" module is registered. Please see: https://www.ag-grid.com/javascript-grid/modules/"):console.error("AG Grid: could not find row model for rowModelType "+e)},e}();var dg,hg=function(){function e(){}return e.prototype.wrap=function(e,t,r,n){var o=this;void 0===r&&(r=[]);var i=this.createWrapper(e,n);return t.forEach((function(e){o.createMethod(i,e,!0)})),r.forEach((function(e){o.createMethod(i,e,!1)})),i},e.prototype.unwrap=function(e){return e},e.prototype.createMethod=function(e,t,r){e.addMethod(t,this.createMethodProxy(e,t,r))},e.prototype.createMethodProxy=function(e,t,r){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):(r&&console.warn("AG Grid: Framework component is missing the method "+t+"()"),null)}},e}();(dg=t.BarColumnLabelPlacement||(t.BarColumnLabelPlacement={})).InsideBase="insideBase",dg.InsideEnd="insideEnd",dg.Center="center",dg.OutsideEnd="outsideEnd";var fg="undefined"===typeof r.g?{}:r.g;fg.HTMLElement="undefined"===typeof HTMLElement?{}:HTMLElement,fg.HTMLButtonElement="undefined"===typeof HTMLButtonElement?{}:HTMLButtonElement,fg.HTMLSelectElement="undefined"===typeof HTMLSelectElement?{}:HTMLSelectElement,fg.HTMLInputElement="undefined"===typeof HTMLInputElement?{}:HTMLInputElement,fg.Node="undefined"===typeof Node?{}:Node,fg.MouseEvent="undefined"===typeof MouseEvent?{}:MouseEvent;var gg,yg=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},vg=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(yg(arguments[t]));return e},mg=function(){function e(t,r,n,o,i,a,s,l){this.nextId=0,this.allNodesMap={},this.rootNode=t,this.gridOptionsWrapper=r,this.eventService=n,this.columnModel=o,this.gridApi=i,this.columnApi=a,this.beans=l,this.selectionService=s,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=e.ROOT_NODE_ID,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterAggFilter=[],this.rootNode.childrenAfterFilter=[],this.postConstruct()}return e.prototype.postConstruct=function(){this.suppressParentsInRowNodes=this.gridOptionsWrapper.isSuppressParentsInRowNodes(),this.isRowMasterFunc=this.gridOptionsWrapper.getIsRowMasterFunc(),this.doingTreeData=this.gridOptionsWrapper.isTreeData(),this.doingMasterDetail=this.gridOptionsWrapper.isMasterDetail()},e.prototype.getCopyOfNodesMap=function(){return Hn.cloneObject(this.allNodesMap)},e.prototype.getRowNode=function(e){return this.allNodesMap[e]},e.prototype.setRowData=function(t){var r=this;if("string"!==typeof t){var n=this.rootNode,o=this.rootNode.sibling;n.childrenAfterFilter=null,n.childrenAfterGroup=null,n.childrenAfterAggFilter=null,n.childrenAfterSort=null,n.childrenMapped=null,n.updateHasChildren(),this.nextId=0,this.allNodesMap={},t?n.allLeafChildren=t.map((function(t){return r.createNode(t,r.rootNode,e.TOP_LEVEL)})):(n.allLeafChildren=[],n.childrenAfterGroup=[]),o&&(o.childrenAfterFilter=n.childrenAfterFilter,o.childrenAfterGroup=n.childrenAfterGroup,o.childrenAfterAggFilter=n.childrenAfterAggFilter,o.childrenAfterSort=n.childrenAfterSort,o.childrenMapped=n.childrenMapped,o.allLeafChildren=n.allLeafChildren)}else console.warn("AG Grid: rowData must be an array, however you passed in a string. If you are loading JSON, make sure you convert the JSON string to JavaScript objects first")},e.prototype.updateRowData=function(e,t){var r={remove:[],update:[],add:[]},n=[];return this.executeRemove(e,r,n),this.executeUpdate(e,r,n),this.executeAdd(e,r),this.updateSelection(n),t&&Hn.sortRowNodesByOrder(this.rootNode.allLeafChildren,t),r},e.prototype.updateSelection=function(e){var t=e.length>0;if(t&&e.forEach((function(e){e.setSelected(!1,!1,!0)})),this.selectionService.updateGroupsFromChildrenSelections(),t){var r={type:He.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(r)}},e.prototype.executeAdd=function(t,r){var n=this,o=t.add,i=t.addIndex;if(!Hn.missingOrEmpty(o)){var a,s,l=o.map((function(t){return n.createNode(t,n.rootNode,e.TOP_LEVEL)}));if("number"===typeof i&&i>=0){var u=this.rootNode.allLeafChildren,c=0===i?0:u.reduce((function(e,t,r){var n,o=t.rowIndex,a=null===(n=u[e])||void 0===n?void 0:n.rowIndex;return null!=o&&null!=a&&o<i&&o>a?r:e}),0)+1;a=u.slice(0,c),s=u.slice(c,u.length)}else a=this.rootNode.allLeafChildren,s=[];this.rootNode.allLeafChildren=vg(a,l,s),this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren),r.add=l}},e.prototype.executeRemove=function(e,t,r){var n=this,o=e.remove;if(!Hn.missingOrEmpty(o)){var i={};o.forEach((function(e){var o=n.lookupRowNode(e);o&&(o.isSelected()&&r.push(o),o.clearRowTopAndRowIndex(),i[o.id]=!0,delete n.allNodesMap[o.id],t.remove.push(o))})),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren.filter((function(e){return!i[e.id]})),this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren)}},e.prototype.executeUpdate=function(t,r,n){var o=this,i=t.update;Hn.missingOrEmpty(i)||i.forEach((function(t){var i=o.lookupRowNode(t);i&&(i.updateData(t),!i.selectable&&i.isSelected()&&n.push(i),o.setMasterForRow(i,t,e.TOP_LEVEL,!1),r.update.push(i))}))},e.prototype.lookupRowNode=function(e){var t,r=this.gridOptionsWrapper.getRowIdFunc();if(r){var n=r({data:e,level:0});if(!(t=this.allNodesMap[n]))return console.error("AG Grid: could not find row id="+n+", data item was not found for this id"),null}else if(!(t=this.rootNode.allLeafChildren.find((function(t){return t.data===e}))))return console.error("AG Grid: could not find data item as object was not found",e),console.error("Consider using getRowId to help the Grid find matching row data"),null;return t||null},e.prototype.createNode=function(e,t,r){var n=new Xi(this.beans);return n.group=!1,this.setMasterForRow(n,e,r,!0),t&&!this.suppressParentsInRowNodes&&(n.parent=t),n.level=r,n.setDataAndId(e,this.nextId.toString()),this.allNodesMap[n.id]&&console.warn("AG Grid: duplicate node id '"+n.id+"' detected from getRowId callback, this could cause issues in your grid."),this.allNodesMap[n.id]=n,this.nextId++,n},e.prototype.setMasterForRow=function(e,t,r,n){if(this.doingTreeData)e.setMaster(!1),n&&(e.expanded=!1);else if(this.doingMasterDetail?this.isRowMasterFunc?e.setMaster(this.isRowMasterFunc(t)):e.setMaster(!0):e.setMaster(!1),n){var o=this.columnModel.getRowGroupColumns(),i=r+(o?o.length:0);e.expanded=!!e.master&&this.isExpanded(i)}},e.prototype.isExpanded=function(e){var t=this.gridOptionsWrapper.getGroupDefaultExpanded();return-1===t||e<t},e.TOP_LEVEL=0,e.ROOT_NODE_ID="ROOT_NODE_ID",e}(),bg=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Cg=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a};!function(e){e[e.Normal=0]="Normal",e[e.AfterFilter=1]="AfterFilter",e[e.AfterFilterAndSort=2]="AfterFilterAndSort",e[e.PivotNodes=3]="PivotNodes"}(gg||(gg={}));var wg=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return bg(r,e),r.prototype.init=function(){var e=this.refreshModel.bind(this,{step:t.ClientSideRowModelSteps.EVERYTHING}),r=!this.gridOptionsWrapper.isSuppressAnimationFrame(),n=this.refreshModel.bind(this,{step:t.ClientSideRowModelSteps.EVERYTHING,afterColumnsChanged:!0,keepRenderedRows:!0,animate:r});this.addManagedListener(this.eventService,He.EVENT_NEW_COLUMNS_LOADED,n),this.addManagedListener(this.eventService,He.EVENT_COLUMN_ROW_GROUP_CHANGED,e),this.addManagedListener(this.eventService,He.EVENT_COLUMN_VALUE_CHANGED,this.onValueChanged.bind(this)),this.addManagedListener(this.eventService,He.EVENT_COLUMN_PIVOT_CHANGED,this.refreshModel.bind(this,{step:t.ClientSideRowModelSteps.PIVOT})),this.addManagedListener(this.eventService,He.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,He.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,He.EVENT_COLUMN_PIVOT_MODE_CHANGED,e);var o=this.refreshModel.bind(this,{step:t.ClientSideRowModelSteps.MAP,keepRenderedRows:!0,animate:r});this.addManagedListener(this.gridOptionsWrapper,ys.PROP_GROUP_REMOVE_SINGLE_CHILDREN,o),this.addManagedListener(this.gridOptionsWrapper,ys.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN,o),this.rootNode=new Xi(this.beans),this.nodeManager=new mg(this.rootNode,this.gridOptionsWrapper,this.eventService,this.columnModel,this.gridApi,this.columnApi,this.selectionService,this.beans)},r.prototype.start=function(){var e=this.gridOptionsWrapper.getRowData();e&&this.setRowData(e)},r.prototype.ensureRowHeightsValid=function(e,t,r,n){var o,i=!1;do{o=!1;for(var a=this.getRowIndexAtPixel(e),s=this.getRowIndexAtPixel(t),l=Math.max(a,r),u=Math.min(s,n),c=l;c<=u;c++){var p=this.getRow(c);if(p.rowHeightEstimated){var d=this.gridOptionsWrapper.getRowHeightForNode(p);p.setRowHeight(d.height),o=!0,i=!0}}o&&this.setRowTopAndRowIndex()}while(o);return i},r.prototype.setRowTopAndRowIndex=function(){for(var e=this.gridOptionsWrapper.getDefaultRowHeight(),t=0,r=new Set,n=this.gridOptionsWrapper.getDomLayout()===ne.DOM_LAYOUT_NORMAL,o=0;o<this.rowsToDisplay.length;o++){var i=this.rowsToDisplay[o];if(null!=i.id&&r.add(i.id),null==i.rowHeight){var a=this.gridOptionsWrapper.getRowHeightForNode(i,n,e);i.setRowHeight(a.height,a.estimated)}i.setRowTop(t),i.setRowIndex(o),t+=i.rowHeight}return r},r.prototype.clearRowTopAndRowIndex=function(e,t){var r=e.isActive(),n=function(e){e&&null!=e.id&&!t.has(e.id)&&e.clearRowTopAndRowIndex()};!function e(t){if(n(t),n(t.detailNode),n(t.sibling),t.hasChildren()&&t.childrenAfterGroup){var o=-1==t.level;r&&!o&&!t.expanded||t.childrenAfterGroup.forEach(e)}}(this.rootNode)},r.prototype.ensureRowsAtPixel=function(e,r,n){var o=this;void 0===n&&(n=0);var i=this.getRowIndexAtPixel(r),a=this.getRow(i),s=!this.gridOptionsWrapper.isSuppressAnimationFrame();return a!==e[0]&&(e.forEach((function(e){Hn.removeFromArray(o.rootNode.allLeafChildren,e)})),e.forEach((function(e,t){Hn.insertIntoArray(o.rootNode.allLeafChildren,e,Math.max(i+n,0)+t)})),this.refreshModel({step:t.ClientSideRowModelSteps.EVERYTHING,keepRenderedRows:!0,keepEditingRows:!0,animate:s}),!0)},r.prototype.highlightRowAtPixel=function(e,t){var r=null!=t?this.getRowIndexAtPixel(t):null,n=null!=r?this.getRow(r):null;if(n&&e&&n!==e&&null!=t){var o=this.getHighlightPosition(t,n);this.lastHighlightedRow&&this.lastHighlightedRow!==n&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),n.setHighlighted(o),this.lastHighlightedRow=n}else this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null)},r.prototype.getHighlightPosition=function(e,r){if(!r){var n=this.getRowIndexAtPixel(e);if(!(r=this.getRow(n||0)))return t.RowHighlightPosition.Below}return e-r.rowTop<r.rowHeight/2?t.RowHighlightPosition.Above:t.RowHighlightPosition.Below},r.prototype.getLastHighlightedRowNode=function(){return this.lastHighlightedRow},r.prototype.isLastRowIndexKnown=function(){return!0},r.prototype.getRowCount=function(){return this.rowsToDisplay?this.rowsToDisplay.length:0},r.prototype.getTopLevelRowCount=function(){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return 1;var e=this.rootNode.childrenAfterAggFilter;return e?e.length:0},r.prototype.getTopLevelRowDisplayedIndex=function(e){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return e;var t=this.rootNode.childrenAfterSort[e];if(this.gridOptionsWrapper.isGroupHideOpenParents())for(;t.expanded&&t.childrenAfterSort&&t.childrenAfterSort.length>0;)t=t.childrenAfterSort[0];return t.rowIndex},r.prototype.getRowBounds=function(e){if(Hn.missing(this.rowsToDisplay))return null;var t=this.rowsToDisplay[e];return t?{rowTop:t.rowTop,rowHeight:t.rowHeight}:null},r.prototype.onRowGroupOpened=function(){var e=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:t.ClientSideRowModelSteps.MAP,keepRenderedRows:!0,animate:e})},r.prototype.onFilterChanged=function(e){if(!e.afterDataChange){var r=this.gridOptionsWrapper.isAnimateRows(),n=0===e.columns.length||e.columns.some((function(e){return e.isPrimary()}))?t.ClientSideRowModelSteps.FILTER:t.ClientSideRowModelSteps.FILTER_AGGREGATES;this.refreshModel({step:n,keepRenderedRows:!0,animate:r})}},r.prototype.onSortChanged=function(){var e=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:t.ClientSideRowModelSteps.SORT,keepRenderedRows:!0,animate:e,keepEditingRows:!0})},r.prototype.getType=function(){return ne.ROW_MODEL_TYPE_CLIENT_SIDE},r.prototype.onValueChanged=function(){this.columnModel.isPivotActive()?this.refreshModel({step:t.ClientSideRowModelSteps.PIVOT}):this.refreshModel({step:t.ClientSideRowModelSteps.AGGREGATE})},r.prototype.createChangePath=function(e){var t=Hn.missingOrEmpty(e),r=new Sp(!1,this.rootNode);return(t||this.gridOptionsWrapper.isTreeData())&&r.setInactive(),r},r.prototype.isSuppressModelUpdateAfterUpdateTransaction=function(e){if(!this.gridOptionsWrapper.isSuppressModelUpdateAfterUpdateTransaction())return!1;if(null==e.rowNodeTransactions)return!1;var t=e.rowNodeTransactions.filter((function(e){return null!=e.add&&e.add.length>0||null!=e.remove&&e.remove.length>0}));return null==t||0==t.length},r.prototype.refreshModel=function(e){if(!this.isSuppressModelUpdateAfterUpdateTransaction(e)){var r=this.createChangePath(e.rowNodeTransactions);switch(e.step){case t.ClientSideRowModelSteps.EVERYTHING:this.doRowGrouping(e.groupState,e.rowNodeTransactions,e.rowNodeOrder,r,!!e.afterColumnsChanged);case t.ClientSideRowModelSteps.FILTER:this.doFilter(r);case t.ClientSideRowModelSteps.PIVOT:this.doPivot(r);case t.ClientSideRowModelSteps.AGGREGATE:this.doAggregate(r);case t.ClientSideRowModelSteps.FILTER_AGGREGATES:this.doFilterAggregates(r);case t.ClientSideRowModelSteps.SORT:this.doSort(e.rowNodeTransactions,r);case t.ClientSideRowModelSteps.MAP:this.doRowsToDisplay()}var n=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(r,n);var o={type:He.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,animate:e.animate,keepRenderedRows:e.keepRenderedRows,newData:e.newData,newPage:!1};this.eventService.dispatchEvent(o)}},r.prototype.isEmpty=function(){var e=Hn.missing(this.rootNode.allLeafChildren)||0===this.rootNode.allLeafChildren.length;return Hn.missing(this.rootNode)||e||!this.columnModel.isReady()},r.prototype.isRowsToRender=function(){return Hn.exists(this.rowsToDisplay)&&this.rowsToDisplay.length>0},r.prototype.getNodesInRangeForSelection=function(e,t){var r,n=!t,o=!1,i=[],a=this.gridOptionsWrapper.isGroupSelectsChildren();return this.forEachNodeAfterFilterAndSort((function(s){var l=n&&!o;if(n||s!==t&&s!==e||(n=!0),!(s.group&&a)){var u=n&&!o,c=s.isParentOfNode(r);(u||c)&&i.push(s)}l&&(s!==t&&s!==e||(o=!0,r=s===t?t:e))})),i},r.prototype.setDatasource=function(e){console.error("AG Grid: should never call setDatasource on clientSideRowController")},r.prototype.getTopLevelNodes=function(){return this.rootNode?this.rootNode.childrenAfterGroup:null},r.prototype.getRootNode=function(){return this.rootNode},r.prototype.getRow=function(e){return this.rowsToDisplay[e]},r.prototype.isRowPresent=function(e){return this.rowsToDisplay.indexOf(e)>=0},r.prototype.getRowIndexAtPixel=function(e){if(this.isEmpty())return-1;var t=0,r=this.rowsToDisplay.length-1;if(e<=0)return 0;if(Hn.last(this.rowsToDisplay).rowTop<=e)return this.rowsToDisplay.length-1;for(;;){var n=Math.floor((t+r)/2),o=this.rowsToDisplay[n];if(this.isRowInPixel(o,e))return n;o.rowTop<e?t=n+1:o.rowTop>e&&(r=n-1)}},r.prototype.isRowInPixel=function(e,t){var r=e.rowTop,n=e.rowTop+e.rowHeight;return r<=t&&n>t},r.prototype.forEachLeafNode=function(e){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach((function(t,r){return e(t,r)}))},r.prototype.forEachNode=function(e){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterGroup,e,gg.Normal,0)},r.prototype.forEachNodeAfterFilter=function(e){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterAggFilter,e,gg.AfterFilter,0)},r.prototype.forEachNodeAfterFilterAndSort=function(e){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterSort,e,gg.AfterFilterAndSort,0)},r.prototype.forEachPivotNode=function(e){this.recursivelyWalkNodesAndCallback([this.rootNode],e,gg.PivotNodes,0)},r.prototype.recursivelyWalkNodesAndCallback=function(e,t,r,n){if(!e)return n;for(var o=0;o<e.length;o++){var i=e[o];if(t(i,n++),i.hasChildren()){var a=null;switch(r){case gg.Normal:a=i.childrenAfterGroup;break;case gg.AfterFilter:a=i.childrenAfterAggFilter;break;case gg.AfterFilterAndSort:a=i.childrenAfterSort;break;case gg.PivotNodes:a=i.leafGroup?null:i.childrenAfterSort}a&&(n=this.recursivelyWalkNodesAndCallback(a,t,r,n))}}return n},r.prototype.doAggregate=function(e){this.aggregationStage&&this.aggregationStage.execute({rowNode:this.rootNode,changedPath:e})},r.prototype.doFilterAggregates=function(e){this.filterAggregatesStage?this.filterAggregatesStage.execute({rowNode:this.rootNode,changedPath:e}):this.rootNode.childrenAfterAggFilter=this.rootNode.childrenAfterFilter},r.prototype.expandOrCollapseAll=function(e){var r=this.gridOptionsWrapper.isTreeData(),n=this.columnModel.isPivotActive();this.rootNode&&function t(o){o&&o.forEach((function(o){var i=function(){o.expanded=e,t(o.childrenAfterGroup)};r?Hn.exists(o.childrenAfterGroup)&&i():n?!o.leafGroup&&i():o.group&&i()}))}(this.rootNode.childrenAfterGroup),this.refreshModel({step:t.ClientSideRowModelSteps.MAP});var o=e?"expandAll":"collapseAll",i={api:this.gridApi,columnApi:this.columnApi,type:He.EVENT_EXPAND_COLLAPSE_ALL,source:o};this.eventService.dispatchEvent(i)},r.prototype.doSort=function(e,t){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,changedPath:t})},r.prototype.doRowGrouping=function(e,t,r,n,o){this.groupStage?(t?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:t,rowNodeOrder:r,changedPath:n}):(this.groupStage.execute({rowNode:this.rootNode,changedPath:n,afterColumnsChanged:o}),this.restoreGroupState(e)),this.gridOptionsWrapper.isGroupSelectsChildren()&&this.selectionService.updateGroupsFromChildrenSelections(n)):(this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren,this.rootNode.sibling&&(this.rootNode.sibling.childrenAfterGroup=this.rootNode.childrenAfterGroup),this.rootNode.updateHasChildren())},r.prototype.restoreGroupState=function(e){e&&Hn.traverseNodesWithKey(this.rootNode.childrenAfterGroup,(function(t,r){"boolean"===typeof e[r]&&(t.expanded=e[r])}))},r.prototype.doFilter=function(e){this.filterStage.execute({rowNode:this.rootNode,changedPath:e})},r.prototype.doPivot=function(e){this.pivotStage&&this.pivotStage.execute({rowNode:this.rootNode,changedPath:e})},r.prototype.getGroupState=function(){if(!this.rootNode.childrenAfterGroup||!this.gridOptionsWrapper.isRememberGroupStateWhenNewData())return null;var e={};return Hn.traverseNodesWithKey(this.rootNode.childrenAfterGroup,(function(t,r){return e[r]=t.expanded})),e},r.prototype.getCopyOfNodesMap=function(){return this.nodeManager.getCopyOfNodesMap()},r.prototype.getRowNode=function(e){if("string"==typeof e&&0==e.indexOf(Xi.ID_PREFIX_ROW_GROUP)){var t=void 0;return this.forEachNode((function(r){r.id===e&&(t=r)})),t}return this.nodeManager.getRowNode(e)},r.prototype.setRowData=function(e){var r=this.getGroupState();this.nodeManager.setRowData(e),this.selectionService.reset(),this.filterManager.onNewRowsLoaded("rowDataUpdated");var n={type:He.EVENT_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(n),this.refreshModel({step:t.ClientSideRowModelSteps.EVERYTHING,groupState:r,newData:!0})},r.prototype.batchUpdateRowData=function(e,t){var r=this;if(null==this.applyAsyncTransactionsTimeout){this.rowDataTransactionBatch=[];var n=this.gridOptionsWrapper.getAsyncTransactionWaitMillis();this.applyAsyncTransactionsTimeout=window.setTimeout((function(){r.executeBatchUpdateRowData()}),n)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:t})},r.prototype.flushAsyncTransactions=function(){null!=this.applyAsyncTransactionsTimeout&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())},r.prototype.executeBatchUpdateRowData=function(){var e=this;this.valueCache.onDataChanged();var t=[],r=[],n=!1;if(this.rowDataTransactionBatch&&this.rowDataTransactionBatch.forEach((function(o){var i=e.nodeManager.updateRowData(o.rowDataTransaction,void 0);r.push(i),o.callback&&t.push(o.callback.bind(null,i)),"number"===typeof o.rowDataTransaction.addIndex&&(n=!0)})),this.commonUpdateRowData(r,void 0,n),t.length>0&&window.setTimeout((function(){t.forEach((function(e){return e()}))}),0),r.length>0){var o={api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),type:He.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:r};this.eventService.dispatchEvent(o)}this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0},r.prototype.updateRowData=function(e,t){this.valueCache.onDataChanged();var r=this.nodeManager.updateRowData(e,t),n="number"===typeof e.addIndex;return this.commonUpdateRowData([r],t,n),r},r.prototype.createRowNodeOrder=function(){if(!this.gridOptionsWrapper.isSuppressMaintainUnsortedOrder()){var e={};if(this.rootNode&&this.rootNode.allLeafChildren)for(var t=0;t<this.rootNode.allLeafChildren.length;t++){e[this.rootNode.allLeafChildren[t].id]=t}return e}},r.prototype.commonUpdateRowData=function(e,r,n){var o=!this.gridOptionsWrapper.isSuppressAnimationFrame();n&&(r=this.createRowNodeOrder()),this.refreshModel({step:t.ClientSideRowModelSteps.EVERYTHING,rowNodeTransactions:e,rowNodeOrder:r,keepRenderedRows:!0,keepEditingRows:!0,animate:o});var i={type:He.EVENT_ROW_DATA_UPDATED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(i)},r.prototype.doRowsToDisplay=function(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})},r.prototype.onRowHeightChanged=function(){this.refreshModel({step:t.ClientSideRowModelSteps.MAP,keepRenderedRows:!0,keepEditingRows:!0})},r.prototype.resetRowHeights=function(){var e=!1;this.forEachNode((function(t){t.setRowHeight(t.rowHeight,!0);var r=t.detailNode;r&&r.setRowHeight(r.rowHeight,!0),e=!0})),e&&this.onRowHeightChanged()},Cg([K("columnModel")],r.prototype,"columnModel",void 0),Cg([K("selectionService")],r.prototype,"selectionService",void 0),Cg([K("filterManager")],r.prototype,"filterManager",void 0),Cg([K("valueCache")],r.prototype,"valueCache",void 0),Cg([K("columnApi")],r.prototype,"columnApi",void 0),Cg([K("gridApi")],r.prototype,"gridApi",void 0),Cg([K("animationFrameService")],r.prototype,"animationFrameService",void 0),Cg([K("beans")],r.prototype,"beans",void 0),Cg([K("filterStage")],r.prototype,"filterStage",void 0),Cg([K("sortStage")],r.prototype,"sortStage",void 0),Cg([K("flattenStage")],r.prototype,"flattenStage",void 0),Cg([q("groupStage")],r.prototype,"groupStage",void 0),Cg([q("aggregationStage")],r.prototype,"aggregationStage",void 0),Cg([q("pivotStage")],r.prototype,"pivotStage",void 0),Cg([q("filterAggregatesStage")],r.prototype,"filterAggregatesStage",void 0),Cg([U],r.prototype,"init",null),r=Cg([X("rowModel")],r)}(Le),xg=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Sg=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Eg=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xg(t,e),t.prototype.execute=function(e){var t=e.changedPath;this.filterService.filter(t)},Sg([K("filterService")],t.prototype,"filterService",void 0),t=Sg([X("filterStage")],t)}(Le),Og=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),_g=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Pg=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Og(t,e),t.prototype.execute=function(e){var t=this.sortController.getSortOptions(),r=Hn.exists(t)&&t.length>0,n=r&&Hn.exists(e.rowNodeTransactions)&&this.gridOptionsWrapper.isDeltaSort(),o=t.some((function(e){return!!e.column.getColDef().showRowGroup}));this.sortService.sort(t,r,n,e.rowNodeTransactions,e.changedPath,o)},_g([K("sortService")],t.prototype,"sortService",void 0),_g([K("sortController")],t.prototype,"sortController",void 0),_g([K("columnModel")],t.prototype,"columnModel",void 0),t=_g([X("sortStage")],t)}(Le),Rg=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ag=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Tg=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Rg(t,e),t.prototype.execute=function(e){var t=e.rowNode,r=[],n={value:0},o=this.columnModel.isPivotMode(),i=o&&t.leafGroup,a=i?[t]:t.childrenAfterSort;return this.recursivelyAddToRowsToDisplay(a,r,n,o,0),!i&&r.length>0&&this.gridOptionsWrapper.isGroupIncludeTotalFooter()&&(this.ensureFooterNodeExists(t),this.addRowNodeToRowsToDisplay(t.sibling,r,n,0)),r},t.prototype.recursivelyAddToRowsToDisplay=function(e,t,r,n,o){if(!Hn.missingOrEmpty(e))for(var i=this.gridOptionsWrapper.isGroupHideOpenParents(),a=this.gridOptionsWrapper.isGroupRemoveSingleChildren(),s=!a&&this.gridOptionsWrapper.isGroupRemoveLowestSingleChildren(),l=0;l<e.length;l++){var u=e[l],c=u.hasChildren(),p=n&&!c,d=a&&c&&1===u.childrenAfterGroup.length,h=s&&c&&u.leafGroup&&1===u.childrenAfterGroup.length,f=n&&u.leafGroup,g=i&&u.expanded&&!u.master&&!f;if(!p&&!g&&!d&&!h&&this.addRowNodeToRowsToDisplay(u,t,r,o),!n||!u.leafGroup)if(c){var y=d||h;if(u.expanded||y){var v=y?o:o+1;this.recursivelyAddToRowsToDisplay(u.childrenAfterSort,t,r,n,v),this.gridOptionsWrapper.isGroupIncludeFooter()&&(this.ensureFooterNodeExists(u),this.addRowNodeToRowsToDisplay(u.sibling,t,r,o))}}else if(u.master&&u.expanded){var m=this.createDetailNode(u);this.addRowNodeToRowsToDisplay(m,t,r,o)}}},t.prototype.addRowNodeToRowsToDisplay=function(e,t,r,n){var o=this.gridOptionsWrapper.isGroupMultiAutoColumn();t.push(e),e.setUiLevel(o?0:n)},t.prototype.ensureFooterNodeExists=function(e){if(!Hn.exists(e.sibling)){var t=new Xi(this.beans);Object.keys(e).forEach((function(r){t[r]=e[r]})),t.footer=!0,t.setRowTop(null),t.setRowIndex(null),t.oldRowTop=null,Hn.exists(t.id)&&(t.id="rowGroupFooter_"+t.id),t.sibling=e,e.sibling=t}},t.prototype.createDetailNode=function(e){if(Hn.exists(e.detailNode))return e.detailNode;var t=new Xi(this.beans);return t.detail=!0,t.selectable=!1,t.parent=e,Hn.exists(e.id)&&(t.id="detail_"+e.id),t.data=e.data,t.level=e.level+1,e.detailNode=t,t},Ag([K("columnModel")],t.prototype,"columnModel",void 0),Ag([K("beans")],t.prototype,"beans",void 0),t=Ag([X("flattenStage")],t)}(Le),Dg=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Mg=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},kg=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Dg(t,e),t.prototype.init=function(){this.postSortFunc=this.gridOptionsWrapper.getPostSortFunc()},t.prototype.sort=function(e,t,r,n,o,i){var a=this,s=this.gridOptionsWrapper.isGroupMaintainOrder(),l=this.columnModel.getAllGridColumns().some((function(e){return e.isRowGroupActive()})),u={};r&&n&&(u=this.calculateDirtyNodes(n));var c=this.columnModel.isPivotMode();o&&o.forEachChangedNodeDepthFirst((function(n){a.pullDownGroupDataForHideOpenParents(n.childrenAfterAggFilter,!0);var p=c&&n.leafGroup,d=s&&l&&!n.leafGroup&&!i;if(!t||d||p){var h=n.childrenAfterAggFilter.slice(0);if(s&&n.childrenAfterSort){var f=n.childrenAfterSort.reduce((function(e,t,r){return e[t.id]=r,e}),{});h.sort((function(e,t){return(f[e.id]||0)-(f[t.id]||0)}))}n.childrenAfterSort=h}else n.childrenAfterSort=r?a.doDeltaSort(n,u,o,e):a.rowNodeSorter.doFullSort(n.childrenAfterAggFilter,e);if(n.sibling&&(n.sibling.childrenAfterSort=n.childrenAfterSort),a.updateChildIndexes(n),a.postSortFunc){var g={nodes:n.childrenAfterSort};a.postSortFunc(g)}})),this.updateGroupDataForHideOpenParents(o)},t.prototype.calculateDirtyNodes=function(e){var t={},r=function(e){e&&e.forEach((function(e){return t[e.id]=!0}))};return e&&e.forEach((function(e){r(e.add),r(e.update),r(e.remove)})),t},t.prototype.doDeltaSort=function(e,t,r,n){var o=this,i=e.childrenAfterAggFilter,a=e.childrenAfterSort;if(!a)return this.rowNodeSorter.doFullSort(i,n);var s={},l=[];i.forEach((function(e){t[e.id]||!r.canSkip(e)?l.push(e):s[e.id]=!0}));var u=a.filter((function(e){return s[e.id]})),c=function(e,t){return{currentPos:t,rowNode:e}},p=l.map(c).sort((function(e,t){return o.rowNodeSorter.compareRowNodes(n,e,t)}));return this.mergeSortedArrays(n,p,u.map(c)).map((function(e){return e.rowNode}))},t.prototype.mergeSortedArrays=function(e,t,r){for(var n=[],o=0,i=0;o<t.length&&i<r.length;){this.rowNodeSorter.compareRowNodes(e,t[o],r[i])<0?n.push(t[o++]):n.push(r[i++])}for(;o<t.length;)n.push(t[o++]);for(;i<r.length;)n.push(r[i++]);return n},t.prototype.updateChildIndexes=function(e){if(!Hn.missing(e.childrenAfterSort))for(var t=e.childrenAfterSort,r=0;r<t.length;r++){var n=t[r],o=0===r,i=r===e.childrenAfterSort.length-1;n.setFirstChild(o),n.setLastChild(i),n.setChildIndex(r)}},t.prototype.updateGroupDataForHideOpenParents=function(e){var t=this;if(this.gridOptionsWrapper.isGroupHideOpenParents()){if(this.gridOptionsWrapper.isTreeData()){return Hn.doOnce((function(){return console.warn("AG Grid: The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them (as opposed to Row Grouping, which only has Aggregated Values at the group level).")}),"sortService.hideOpenParentsWithTreeData"),!1}var r=function e(r){t.pullDownGroupDataForHideOpenParents(r.childrenAfterSort,!1),r.childrenAfterSort.forEach((function(t){t.hasChildren()&&e(t)}))};e&&e.executeFromRootNode((function(e){return r(e)}))}},t.prototype.pullDownGroupDataForHideOpenParents=function(e,t){var r=this;this.gridOptionsWrapper.isGroupHideOpenParents()&&!Hn.missing(e)&&e.forEach((function(e){r.columnModel.getGroupDisplayColumns().forEach((function(n){var o=n.getColDef().showRowGroup;if("string"===typeof o){var i=o,a=r.columnModel.getPrimaryColumn(i);if(!(a===e.rowGroupColumn))if(t)e.setGroupValue(n.getId(),void 0);else{var s=e.getFirstChildOfFirstChild(a);s&&e.setGroupValue(n.getId(),s.key)}}else console.error("AG Grid: groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup")}))}))},Mg([K("columnModel")],t.prototype,"columnModel",void 0),Mg([K("rowNodeSorter")],t.prototype,"rowNodeSorter",void 0),Mg([U],t.prototype,"init",null),t=Mg([X("sortService")],t)}(Le),Ng=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ig=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Lg=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ng(t,e),t.prototype.filter=function(e){var t=this.filterManager.isColumnFilterPresent()||this.filterManager.isQuickFilterPresent()||this.gridOptionsWrapper.isExternalFilterPresent();this.filterNodes(t,e)},t.prototype.filterNodes=function(e,t){var r=this,n=function(t,n){t.hasChildren()?t.childrenAfterFilter=e&&!n?t.childrenAfterGroup.filter((function(e){var t=e.childrenAfterFilter&&e.childrenAfterFilter.length>0,n=e.data&&r.filterManager.doesRowPassFilter({rowNode:e});return t||n})):t.childrenAfterGroup:t.childrenAfterFilter=t.childrenAfterGroup,t.sibling&&(t.sibling.childrenAfterFilter=t.childrenAfterFilter)};if(this.doingTreeDataFiltering()){var o=function e(t,o){if(t.childrenAfterGroup)for(var i=0;i<t.childrenAfterGroup.length;i++){var a=t.childrenAfterGroup[i],s=o||r.filterManager.doesRowPassFilter({rowNode:a});a.childrenAfterGroup?e(t.childrenAfterGroup[i],s):n(a,s)}n(t,o)};t.executeFromRootNode((function(e){return o(e,!1)}))}else{t.forEachChangedNodeDepthFirst((function(e){return n(e,!1)}),!0)}},t.prototype.doingTreeDataFiltering=function(){return this.gridOptionsWrapper.isTreeData()&&!this.gridOptionsWrapper.isExcludeChildrenWhenTreeDataFiltering()},Ig([K("filterManager")],t.prototype,"filterManager",void 0),t=Ig([X("filterService")],t)}(Le),Fg=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Gg=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Bg=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},Wg=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Fg(t,e),t.prototype.postConstruct=function(){this.rowModel.getType()===ne.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel)},t.prototype.isActive=function(){return this.gridOptionsWrapper.isImmutableData()},t.prototype.setRowData=function(e){var t=this.createTransactionForRowData(e);if(t){var r=Bg(t,2),n=r[0],o=r[1],i=this.clientSideRowModel.updateRowData(n,o);i&&this.rowRenderer.refreshFullWidthRows(i.update);var a={type:He.EVENT_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(a)}},t.prototype.createTransactionForRowData=function(e){if(Hn.missing(this.clientSideRowModel))console.error("AG Grid: ImmutableService only works with ClientSideRowModel");else{var t=this.gridOptionsWrapper.getRowIdFunc();if(null!=t){var r={remove:[],update:[],add:[]},n=this.clientSideRowModel.getCopyOfNodesMap(),o=this.gridOptionsWrapper.isSuppressMaintainUnsortedOrder()?void 0:{};return Hn.exists(e)&&e.forEach((function(e,i){var a=t({data:e,level:0}),s=n[a];(o&&(o[a]=i),s)?(s.data!==e&&r.update.push(e),n[a]=void 0):r.add.push(e)})),Hn.iterateObject(n,(function(e,t){t&&r.remove.push(t.data)})),[r,o]}console.error("AG Grid: ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!")}},Gg([K("rowModel")],t.prototype,"rowModel",void 0),Gg([K("rowRenderer")],t.prototype,"rowRenderer",void 0),Gg([K("columnApi")],t.prototype,"columnApi",void 0),Gg([K("gridApi")],t.prototype,"gridApi",void 0),Gg([U],t.prototype,"postConstruct",null),t=Gg([X("immutableService")],t)}(Le),Hg={moduleName:t.ModuleNames.ClientSideRowModelModule,beans:[Eg,Pg,Tg,kg,Lg,Wg],rowModels:{clientSide:wg}},jg=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Vg=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},zg=function(e){function t(t,r,n){var o=e.call(this,t)||this;return o.parentCache=r,o.params=n,o.startRow=t*n.blockSize,o.endRow=o.startRow+n.blockSize,o}return jg(t,e),t.prototype.postConstruct=function(){this.createRowNodes()},t.prototype.getBlockStateJson=function(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}},t.prototype.setDataAndId=function(e,t,r){!e.id&&e.alreadyRendered&&(e.alreadyRendered=!1),Hn.exists(t)?e.setDataAndId(t,r.toString()):e.setDataAndId(void 0,void 0)},t.prototype.loadFromDatasource=function(){var e=this,t=this.createLoadParams();Hn.missing(this.params.datasource.getRows)?console.warn("AG Grid: datasource is missing getRows method"):window.setTimeout((function(){e.params.datasource.getRows(t)}),0)},t.prototype.processServerFail=function(){},t.prototype.createLoadParams=function(){return{startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gridOptionsWrapper.getContext()}},t.prototype.forEachNode=function(e,t,r){var n=this;this.rowNodes.forEach((function(o,i){n.startRow+i<r&&e(o,t.next())}))},t.prototype.getLastAccessed=function(){return this.lastAccessed},t.prototype.getRow=function(e,t){void 0===t&&(t=!1),t||(this.lastAccessed=this.params.lastAccessedSequence.next());var r=e-this.startRow;return this.rowNodes[r]},t.prototype.getStartRow=function(){return this.startRow},t.prototype.getEndRow=function(){return this.endRow},t.prototype.createRowNodes=function(){this.rowNodes=[];for(var e=0;e<this.params.blockSize;e++){var t=this.startRow+e,r=new Xi(this.beans);r.setRowHeight(this.params.rowHeight),r.uiLevel=0,r.setRowIndex(t),r.setRowTop(this.params.rowHeight*t),this.rowNodes.push(r)}},t.prototype.processServerResult=function(e){var t=this;this.rowNodes.forEach((function(r,n){var o=e.rowData?e.rowData[n]:void 0;t.setDataAndId(r,o,t.startRow+n)}));var r=null!=e.rowCount&&e.rowCount>=0?e.rowCount:void 0;this.parentCache.pageLoaded(this,r)},t.prototype.destroyRowNodes=function(){this.rowNodes.forEach((function(e){e.clearRowTopAndRowIndex()}))},Vg([K("beans")],t.prototype,"beans",void 0),Vg([U],t.prototype,"postConstruct",null),Vg([Y],t.prototype,"destroyRowNodes",null),t}(Op),Ug=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Yg=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Xg=function(e,t){return function(r,n){t(r,n,e)}},Kg=function(e){function t(t){var r=e.call(this)||this;return r.lastRowIndexKnown=!1,r.blocks={},r.blockCount=0,r.rowCount=t.initialRowCount,r.params=t,r}return Ug(t,e),t.prototype.setBeans=function(e){this.logger=e.create("InfiniteCache")},t.prototype.getRow=function(e,t){void 0===t&&(t=!1);var r=Math.floor(e/this.params.blockSize),n=this.blocks[r];if(!n){if(t)return;n=this.createBlock(r)}return n.getRow(e)},t.prototype.createBlock=function(e){var t=this.createBean(new zg(e,this,this.params));return this.blocks[t.getId()]=t,this.blockCount++,this.purgeBlocksIfNeeded(t),this.params.rowNodeBlockLoader.addBlock(t),t},t.prototype.refreshCache=function(){0==this.blockCount?this.purgeCache():(this.getBlocksInOrder().forEach((function(e){return e.setStateWaitingToLoad()})),this.params.rowNodeBlockLoader.checkBlockToLoad())},t.prototype.destroyAllBlocks=function(){var e=this;this.getBlocksInOrder().forEach((function(t){return e.destroyBlock(t)}))},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.isLastRowIndexKnown=function(){return this.lastRowIndexKnown},t.prototype.pageLoaded=function(e,t){this.isAlive()&&(this.logger.log("onPageLoaded: page = "+e.getId()+", lastRow = "+t),this.checkRowCount(e,t),this.onCacheUpdated())},t.prototype.purgeBlocksIfNeeded=function(e){var r=this,n=this.getBlocksInOrder().filter((function(t){return t!=e}));n.sort((function(e,t){return t.getLastAccessed()-e.getLastAccessed()}));var o=this.params.maxBlocksInCache>0,i=o?this.params.maxBlocksInCache-1:null,a=t.MAX_EMPTY_BLOCKS_TO_KEEP-1;n.forEach((function(e,t){if(e.getState()===zg.STATE_WAITING_TO_LOAD&&t>=a||!!o&&t>=i){if(r.isBlockCurrentlyDisplayed(e))return;if(r.isBlockFocused(e))return;r.removeBlockFromCache(e)}}))},t.prototype.isBlockFocused=function(e){var t=this.focusService.getFocusCellToUseAfterRefresh();if(!t)return!1;if(null!=t.rowPinned)return!1;var r=e.getStartRow(),n=e.getEndRow();return t.rowIndex>=r&&t.rowIndex<n},t.prototype.isBlockCurrentlyDisplayed=function(e){var t=e.getStartRow(),r=e.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(t,r)},t.prototype.removeBlockFromCache=function(e){e&&this.destroyBlock(e)},t.prototype.checkRowCount=function(e,t){if("number"===typeof t&&t>=0)this.rowCount=t,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){var r=(e.getId()+1)*this.params.blockSize+this.params.overflowSize;this.rowCount<r&&(this.rowCount=r)}},t.prototype.setRowCount=function(e,t){this.rowCount=e,Hn.exists(t)&&(this.lastRowIndexKnown=t),this.lastRowIndexKnown||this.rowCount%this.params.blockSize===0&&this.rowCount++,this.onCacheUpdated()},t.prototype.forEachNodeDeep=function(e){var t=this,r=new jn;this.getBlocksInOrder().forEach((function(n){return n.forEachNode(e,r,t.rowCount)}))},t.prototype.getBlocksInOrder=function(){return Hn.getAllValuesInObject(this.blocks).sort((function(e,t){return e.getId()-t.getId()}))},t.prototype.destroyBlock=function(e){delete this.blocks[e.getId()],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)},t.prototype.onCacheUpdated=function(){if(this.isAlive()){this.destroyAllBlocksPastVirtualRowCount();var e={type:He.EVENT_STORE_UPDATED};this.eventService.dispatchEvent(e)}},t.prototype.destroyAllBlocksPastVirtualRowCount=function(){var e=this,t=[];this.getBlocksInOrder().forEach((function(r){r.getId()*e.params.blockSize>=e.rowCount&&t.push(r)})),t.length>0&&t.forEach((function(t){return e.destroyBlock(t)}))},t.prototype.purgeCache=function(){var e=this;this.getBlocksInOrder().forEach((function(t){return e.removeBlockFromCache(t)})),this.lastRowIndexKnown=!1,0===this.rowCount&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()},t.prototype.getRowNodesInRange=function(e,t){var r=this,n=[],o=-1,i=!1,a=new jn;Hn.missing(e)&&(i=!0);var s=!1;return this.getBlocksInOrder().forEach((function(l){s||(i&&o+1!==l.getId()?s=!0:(o=l.getId(),l.forEachNode((function(r){var o=r===e||r===t;(i||o)&&n.push(r),o&&(i=!i)}),a,r.rowCount)))})),s||i?[]:n},t.MAX_EMPTY_BLOCKS_TO_KEEP=2,Yg([K("rowRenderer")],t.prototype,"rowRenderer",void 0),Yg([K("focusService")],t.prototype,"focusService",void 0),Yg([Xg(0,Z("loggerFactory"))],t.prototype,"setBeans",null),Yg([Y],t.prototype,"destroyAllBlocks",null),t}(Le),qg=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),$g=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Zg=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return qg(t,e),t.prototype.getRowBounds=function(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}},t.prototype.ensureRowHeightsValid=function(e,t,r,n){return!1},t.prototype.init=function(){var e=this;this.gridOptionsWrapper.isRowModelInfinite()&&(this.rowHeight=this.gridOptionsWrapper.getRowHeightAsNumber(),this.addEventListeners(),this.addDestroyFunc((function(){return e.destroyCache()})),this.verifyProps())},t.prototype.verifyProps=function(){if(null!=this.gridOptionsWrapper.getInitialGroupOrderComparator()){Hn.doOnce((function(){return console.warn("AG Grid: initialGroupOrderComparator cannot be used with Infinite Row Model. If using Infinite Row Model, then sorting is done on the server side, nothing to do with the client.")}),"IRM.InitialGroupOrderComparator")}},t.prototype.start=function(){this.setDatasource(this.gridOptionsWrapper.getDatasource())},t.prototype.destroyDatasource=function(){this.datasource&&(this.getContext().destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)},t.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,He.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,He.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,He.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,He.EVENT_STORE_UPDATED,this.onCacheUpdated.bind(this))},t.prototype.onFilterChanged=function(){this.reset()},t.prototype.onSortChanged=function(){this.reset()},t.prototype.onColumnEverything=function(){(!this.cacheParams||this.isSortModelDifferent())&&this.reset()},t.prototype.isSortModelDifferent=function(){return!Hn.jsonEquals(this.cacheParams.sortModel,this.sortController.getSortModel())},t.prototype.getType=function(){return ne.ROW_MODEL_TYPE_INFINITE},t.prototype.setDatasource=function(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()},t.prototype.isEmpty=function(){return!this.infiniteCache},t.prototype.isRowsToRender=function(){return!!this.infiniteCache},t.prototype.getNodesInRangeForSelection=function(e,t){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(e,t):[]},t.prototype.reset=function(){if(this.datasource){null!=this.gridOptionsWrapper.getRowIdFunc()||this.selectionService.reset(),this.resetCache();var e=this.createModelUpdatedEvent();this.eventService.dispatchEvent(e)}},t.prototype.createModelUpdatedEvent=function(){return{type:He.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,newPage:!1,newData:!1,keepRenderedRows:!0,animate:!1}},t.prototype.resetCache=function(){this.destroyCache(),this.cacheParams={datasource:this.datasource,filterModel:this.filterManager.getFilterModel(),sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,initialRowCount:this.defaultIfInvalid(this.gridOptionsWrapper.getInfiniteInitialRowCount(),1),maxBlocksInCache:this.gridOptionsWrapper.getMaxBlocksInCache(),rowHeight:this.gridOptionsWrapper.getRowHeightAsNumber(),overflowSize:this.defaultIfInvalid(this.gridOptionsWrapper.getCacheOverflowSize(),1),blockSize:this.defaultIfInvalid(this.gridOptionsWrapper.getCacheBlockSize(),100),lastAccessedSequence:new jn},this.infiniteCache=this.createBean(new Kg(this.cacheParams))},t.prototype.defaultIfInvalid=function(e,t){return e>0?e:t},t.prototype.destroyCache=function(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))},t.prototype.onCacheUpdated=function(){var e=this.createModelUpdatedEvent();this.eventService.dispatchEvent(e)},t.prototype.getRow=function(e){if(this.infiniteCache&&!(e>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(e)},t.prototype.getRowNode=function(e){var t;return this.forEachNode((function(r){r.id===e&&(t=r)})),t},t.prototype.forEachNode=function(e){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(e)},t.prototype.getTopLevelRowCount=function(){return this.getRowCount()},t.prototype.getTopLevelRowDisplayedIndex=function(e){return e},t.prototype.getRowIndexAtPixel=function(e){if(0!==this.rowHeight){var t=Math.floor(e/this.rowHeight),r=this.getRowCount()-1;return t>r?r:t}return 0},t.prototype.getRowCount=function(){return this.infiniteCache?this.infiniteCache.getRowCount():0},t.prototype.isRowPresent=function(e){return!!this.getRowNode(e.id)},t.prototype.refreshCache=function(){this.infiniteCache&&this.infiniteCache.refreshCache()},t.prototype.purgeCache=function(){this.infiniteCache&&this.infiniteCache.purgeCache()},t.prototype.isLastRowIndexKnown=function(){return!!this.infiniteCache&&this.infiniteCache.isLastRowIndexKnown()},t.prototype.setRowCount=function(e,t){this.infiniteCache&&this.infiniteCache.setRowCount(e,t)},$g([K("filterManager")],t.prototype,"filterManager",void 0),$g([K("sortController")],t.prototype,"sortController",void 0),$g([K("selectionService")],t.prototype,"selectionService",void 0),$g([K("gridApi")],t.prototype,"gridApi",void 0),$g([K("columnApi")],t.prototype,"columnApi",void 0),$g([K("rowRenderer")],t.prototype,"rowRenderer",void 0),$g([K("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),$g([U],t.prototype,"init",null),$g([Y],t.prototype,"destroyDatasource",null),t=$g([X("rowModel")],t)}(Le),Qg={moduleName:t.ModuleNames.InfiniteRowModelModule,rowModels:{infinite:Zg}},Jg=function(){function e(){}return e.prototype.setBeans=function(e){this.beans=e},e.prototype.getFileName=function(e){var t=this.getDefaultFileExtension();return null!=e&&e.length||(e=this.getDefaultFileName()),-1===e.indexOf(".")?e+"."+t:e},e.prototype.getData=function(e){var t=this.createSerializingSession(e);return this.beans.gridSerializer.serialize(t,e)},e}(),ey=function(){function e(e){this.groupColumns=[];var t=e.columnModel,r=e.valueService,n=e.gridOptionsWrapper,o=e.processCellCallback,i=e.processHeaderCallback,a=e.processGroupHeaderCallback,s=e.processRowGroupCallback;this.columnModel=t,this.valueService=r,this.gridOptionsWrapper=n,this.processCellCallback=o,this.processHeaderCallback=i,this.processGroupHeaderCallback=a,this.processRowGroupCallback=s}return e.prototype.prepare=function(e){this.groupColumns=e.filter((function(e){return!!e.getColDef().showRowGroup}))},e.prototype.extractHeaderValue=function(e){var t=this.getHeaderName(this.processHeaderCallback,e);return null!=t?t:""},e.prototype.extractRowCellValue=function(e,t,r,n,o){var i,a=this.gridOptionsWrapper.isGroupMultiAutoColumn()?o.rowGroupIndex:0;i=o&&o.group&&(t===a&&-1!==this.groupColumns.indexOf(e)||0===t&&this.gridOptionsWrapper.isGroupUseEntireRow(this.columnModel.isPivotMode()))?this.createValueForGroupNode(o):this.valueService.getValue(e,o);var s=this.processCell(r,o,e,i,this.processCellCallback,n);return null!=s?s:""},e.prototype.getHeaderName=function(e,t){return e?e({column:t,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}):this.columnModel.getDisplayNameForColumn(t,"csv",!0)},e.prototype.createValueForGroupNode=function(e){if(this.processRowGroupCallback)return this.processRowGroupCallback({node:e,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()});var t=[e.key];if(!this.gridOptionsWrapper.isGroupMultiAutoColumn())for(;e.parent;)e=e.parent,t.push(e.key);return t.reverse().join(" -> ")},e.prototype.processCell=function(e,t,r,n,o,i){return o?o({accumulatedRowIndex:e,column:r,node:t,value:n,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),type:i}):null!=n?n:""},e}(),ty=function(){function e(){}return e.download=function(e,t){var r=document.defaultView||window;if(r){var n=document.createElement("a"),o=r.URL.createObjectURL(t);n.setAttribute("href",o),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:r})),document.body.removeChild(n),r.setTimeout((function(){r.URL.revokeObjectURL(o)}),0)}else console.warn("AG Grid: There is no `window` associated with the current `document`")},e}(),ry=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ny=function(e){function t(t){var r=e.call(this,t)||this;r.isFirstLine=!0,r.result="";var n=t.suppressQuotes,o=t.columnSeparator;return r.suppressQuotes=n,r.columnSeparator=o,r}return ry(t,e),t.prototype.addCustomContent=function(e){var t=this;e&&("string"===typeof e?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,"\r\n"),this.result+=e):e.forEach((function(e){t.beginNewLine(),e.forEach((function(e,r){0!==r&&(t.result+=t.columnSeparator),t.result+=t.putInQuotes(e.data.value||""),e.mergeAcross&&t.appendEmptyCells(e.mergeAcross)}))})))},t.prototype.onNewHeaderGroupingRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}},t.prototype.onNewHeaderGroupingRowColumn=function(e,t,r){0!=t&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(e),this.appendEmptyCells(r)},t.prototype.appendEmptyCells=function(e){for(var t=1;t<=e;t++)this.result+=this.columnSeparator+this.putInQuotes("")},t.prototype.onNewHeaderRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}},t.prototype.onNewHeaderRowColumn=function(e,t){0!=t&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))},t.prototype.onNewBodyRow=function(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}},t.prototype.onNewBodyRowColumn=function(e,t,r){0!=t&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractRowCellValue(e,t,t,ne.EXPORT_TYPE_CSV,r))},t.prototype.putInQuotes=function(e){return this.suppressQuotes?e:null===e||void 0===e?'""':("string"===typeof e?t=e:"function"===typeof e.toString?t=e.toString():(console.warn("AG Grid: unknown value type during csv conversion"),t=""),'"'+t.replace(/"/g,'""')+'"');var t},t.prototype.parse=function(){return this.result},t.prototype.beginNewLine=function(){this.isFirstLine||(this.result+="\r\n"),this.isFirstLine=!1},t}(ey),oy=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),iy=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},ay=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return oy(t,e),t.prototype.postConstruct=function(){this.setBeans({gridSerializer:this.gridSerializer,gridOptionsWrapper:this.gridOptionsWrapper})},t.prototype.getMergedParams=function(e){var t=this.gridOptionsWrapper.getDefaultExportParams("csv");return Object.assign({},t,e)},t.prototype.export=function(e){if(this.isExportSuppressed())return console.warn("AG Grid: Export cancelled. Export is not allowed as per your configuration."),"";var t=this.getMergedParams(e),r=this.getData(t),n=new Blob(["\ufeff",r],{type:"text/plain"});return ty.download(this.getFileName(t.fileName),n),r},t.prototype.exportDataAsCsv=function(e){return this.export(e)},t.prototype.getDataAsCsv=function(e){var t=this.getMergedParams(e);return this.getData(t)},t.prototype.getDefaultFileName=function(){return"export.csv"},t.prototype.getDefaultFileExtension=function(){return"csv"},t.prototype.createSerializingSession=function(e){var t=this,r=t.columnModel,n=t.valueService,o=t.gridOptionsWrapper,i=e,a=i.processCellCallback,s=i.processHeaderCallback,l=i.processGroupHeaderCallback,u=i.processRowGroupCallback,c=i.suppressQuotes,p=i.columnSeparator;return new ny({columnModel:r,valueService:n,gridOptionsWrapper:o,processCellCallback:a||void 0,processHeaderCallback:s||void 0,processGroupHeaderCallback:l||void 0,processRowGroupCallback:u||void 0,suppressQuotes:c||!1,columnSeparator:p||","})},t.prototype.isExportSuppressed=function(){return this.gridOptionsWrapper.isSuppressCsvExport()},iy([K("columnModel")],t.prototype,"columnModel",void 0),iy([K("valueService")],t.prototype,"valueService",void 0),iy([K("gridSerializer")],t.prototype,"gridSerializer",void 0),iy([K("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),iy([U],t.prototype,"postConstruct",null),t=iy([X("csvCreator")],t)}(Jg),sy=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ly=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a};!function(e){e[e.HEADER_GROUPING=0]="HEADER_GROUPING",e[e.HEADER=1]="HEADER",e[e.BODY=2]="BODY"}(t.RowType||(t.RowType={}));var uy=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return sy(t,e),t.prototype.serialize=function(e,t){void 0===t&&(t={});var r=this.getColumnsToExport(t.allColumns,t.columnKeys);return Hn.compose(this.prepareSession(r),this.prependContent(t),this.exportColumnGroups(t,r),this.exportHeaders(t,r),this.processPinnedTopRows(t,r),this.processRows(t,r),this.processPinnedBottomRows(t,r),this.appendContent(t))(e).parse()},t.prototype.processRow=function(e,t,r,n){var o=this,i=t.shouldRowBeSkipped||function(){return!1},a=this.gridOptionsWrapper,s=a.getContext(),l=a.getApi(),u=a.getColumnApi(),c=a.isGroupRemoveSingleChildren(),p=a.isGroupHideOpenParents(),d=a.isGroupRemoveLowestSingleChildren(),h=this.columnModel.isPivotMode()?n.leafGroup:!n.group,f=t.skipGroups||t.skipRowGroups,g=d&&n.leafGroup,y=1===n.allChildrenCount&&(c||g);f&&t.skipGroups&&Hn.doOnce((function(){return console.warn("AG Grid: Since v25.2 `skipGroups` has been renamed to `skipRowGroups`.")}),"gridSerializer-skipGroups");var v={rowIndex:n.rowIndex,rowPinned:n.rowPinned};if(!(!h&&(t.skipRowGroups||y||p)||t.onlySelected&&!n.isSelected()||t.rowNodes&&!t.rowNodes.some((function(e){return o.rowPositionUtils.sameRow(e,v)}))||t.skipPinnedTop&&"top"===n.rowPinned||t.skipPinnedBottom&&"bottom"===n.rowPinned)&&((!(-1===n.level)||n.leafGroup)&&!i({node:n,api:l,columnApi:u,context:s}))){var m=e.onNewBodyRow();if(r.forEach((function(e,t){m.onColumn(e,t,n)})),t.getCustomContentBelowRow){var b=t.getCustomContentBelowRow({node:n,api:l,columnApi:u,context:s});b&&e.addCustomContent(b)}}},t.prototype.appendContent=function(e){return function(t){var r=e.customFooter||e.appendContent;return r&&(e.customFooter&&Hn.doOnce((function(){return console.warn("AG Grid: Since version 25.2.0 the `customFooter` param has been deprecated. Use `appendContent` instead.")}),"gridSerializer-customFooter"),t.addCustomContent(r)),t}},t.prototype.prependContent=function(e){return function(t){var r=e.customHeader||e.prependContent;return r&&(e.customHeader&&Hn.doOnce((function(){return console.warn("AG Grid: Since version 25.2.0 the `customHeader` param has been deprecated. Use `prependContent` instead.")}),"gridSerializer-customHeader"),t.addCustomContent(r)),t}},t.prototype.prepareSession=function(e){return function(t){return t.prepare(e),t}},t.prototype.exportColumnGroups=function(e,t){var r=this;return function(n){if(e.skipColumnGroupHeaders)e.columnGroups&&Hn.doOnce((function(){return console.warn("AG Grid: Since v25.2 the `columnGroups` param has deprecated, and groups are exported by default.")}),"gridSerializer-columnGroups");else{var o=new je,i=r.displayedGroupCreator.createDisplayedGroups(t,r.columnModel.getGridBalancedTree(),o,null);r.recursivelyAddHeaderGroups(i,n,e.processGroupHeaderCallback)}return n}},t.prototype.exportHeaders=function(e,t){return function(r){if(e.skipHeader||e.skipColumnHeaders)e.skipHeader&&Hn.doOnce((function(){return console.warn("AG Grid: Since v25.2 the `skipHeader` param has been renamed to `skipColumnHeaders`.")}),"gridSerializer-skipHeader");else{var n=r.onNewHeaderRow();t.forEach((function(e,t){n.onColumn(e,t,void 0)}))}return r}},t.prototype.processPinnedTopRows=function(e,t){var r=this;return function(n){var o=r.processRow.bind(r,n,e,t);return r.pinnedRowModel.forEachPinnedTopRow(o),n}},t.prototype.processRows=function(e,t){var r=this;return function(n){var o=r.rowModel,i=o.getType(),a=i===ne.ROW_MODEL_TYPE_CLIENT_SIDE,s=i===ne.ROW_MODEL_TYPE_SERVER_SIDE,l=!a&&e.onlySelected,u=r.processRow.bind(r,n,e,t);r.columnModel.isPivotMode()?a?o.forEachPivotNode(u):o.forEachNode(u):e.onlySelectedAllPages||l?r.selectionService.getSelectedNodes().forEach(u):a||s?o.forEachNodeAfterFilterAndSort(u):o.forEachNode(u);return n}},t.prototype.processPinnedBottomRows=function(e,t){var r=this;return function(n){var o=r.processRow.bind(r,n,e,t);return r.pinnedRowModel.forEachPinnedBottomRow(o),n}},t.prototype.getColumnsToExport=function(e,t){void 0===e&&(e=!1);var r=this.columnModel.isPivotMode();return t&&t.length?this.columnModel.getGridColumns(t):e&&!r?(this.gridOptionsWrapper.isTreeData()?this.columnModel.getGridColumns([ne.GROUP_AUTO_COLUMN_ID]):[]).concat(this.columnModel.getAllPrimaryColumns()||[]):this.columnModel.getAllDisplayedColumns()},t.prototype.recursivelyAddHeaderGroups=function(e,t,r){var n=[];e.forEach((function(e){var t=e;t.getChildren&&t.getChildren().forEach((function(e){return n.push(e)}))})),e.length>0&&e[0]instanceof Ce&&this.doAddHeaderHeader(t,e,r),n&&n.length>0&&this.recursivelyAddHeaderGroups(n,t,r)},t.prototype.doAddHeaderHeader=function(e,t,r){var n=this,o=e.onNewHeaderGroupingRow(),i=0;t.forEach((function(e){var t,a=e;t=r?r({columnGroup:a,api:n.gridOptionsWrapper.getApi(),columnApi:n.gridOptionsWrapper.getColumnApi(),context:n.gridOptionsWrapper.getContext()}):n.columnModel.getDisplayNameForColumnGroup(a,"header");var s=a.getLeafColumns().reduce((function(e,t,r,n){var o=Hn.last(e);return"open"===t.getColumnGroupShow()?o&&null==o[1]||(o=[r],e.push(o)):o&&null==o[1]&&(o[1]=r-1),r===n.length-1&&o&&null==o[1]&&(o[1]=r),e}),[]);o.onColumn(t||"",i++,a.getLeafColumns().length-1,s)}))},ly([K("displayedGroupCreator")],t.prototype,"displayedGroupCreator",void 0),ly([K("columnModel")],t.prototype,"columnModel",void 0),ly([K("rowModel")],t.prototype,"rowModel",void 0),ly([K("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),ly([K("selectionService")],t.prototype,"selectionService",void 0),ly([K("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),t=ly([X("gridSerializer")],t)}(Le),cy={moduleName:t.ModuleNames.CsvExportModule,beans:[ay,uy]},py="\r\n",dy=function(){function e(){}return e.createHeader=function(e){void 0===e&&(e={});var t=["version"];return e.version||(e.version="1.0"),e.encoding&&t.push("encoding"),e.standalone&&t.push("standalone"),"<?xml "+t.map((function(t){return t+'="'+e[t]+'"'})).join(" ")+" ?>"},e.createXml=function(e,t){var r=this,n="";e.properties&&(e.properties.prefixedAttributes&&e.properties.prefixedAttributes.forEach((function(e){Object.keys(e.map).forEach((function(o){n+=r.returnAttributeIfPopulated(e.prefix+o,e.map[o],t)}))})),e.properties.rawMap&&Object.keys(e.properties.rawMap).forEach((function(o){n+=r.returnAttributeIfPopulated(o,e.properties.rawMap[o],t)})));var o="<"+e.name+n;return e.children||null!=e.textNode?null!=e.textNode?o+">"+e.textNode+"</"+e.name+">"+py:(o+=">\r\n",e.children&&e.children.forEach((function(e){o+=r.createXml(e,t)})),o+"</"+e.name+">"+py):o+"/>"+py},e.returnAttributeIfPopulated=function(e,t,r){if(!t&&""!==t&&0!==t)return"";var n=t;return"boolean"===typeof t&&r&&(n=r(t))," "+e+'="'+n+'"'},e}(),hy=function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},fy=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),gy=function(){function e(){}return e.addFolders=function(e){e.forEach(this.addFolder.bind(this))},e.addFolder=function(e){this.folders.push({path:e,created:new Date,isBase64:!1})},e.addFile=function(e,t,r){void 0===r&&(r=!1),this.files.push({path:e,created:new Date,content:t,isBase64:r})},e.getContent=function(e){void 0===e&&(e="application/zip");var t=this.buildFileStream(),r=this.buildUint8Array(t);return this.clearStream(),new Blob([r],{type:e})},e.clearStream=function(){this.folders=[],this.files=[]},e.buildFileStream=function(e){var t,r;void 0===e&&(e="");var n=this.folders.concat(this.files),o=n.length,i="",a=0,s=0;try{for(var l=hy(n),u=l.next();!u.done;u=l.next()){var c=u.value,p=this.getHeader(c,a),d=p.fileHeader,h=p.folderHeader,f=p.content;a+=d.length+f.length,s+=h.length,e+=d+f,i+=h}}catch(g){t={error:g}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(t)throw t.error}}return e+i+this.buildFolderEnd(o,s,a)},e.getHeader=function(e,t){var r=e.content,n=e.path,o=e.created,i=e.isBase64,a=Hn.utf8_encode,s=Hn.decToHex,l=a(n),u=l!==n,c=this.convertTime(o),p=this.convertDate(o),d="";if(u){var h=s(1,1)+s(this.getFromCrc32Table(l),4)+l;d="up"+s(h.length,2)+h}var f=r?this.getConvertedContent(r,i):{size:0,content:""},g=f.size,y=f.content,v="\n\0"+(u?"\0\b":"\0\0")+"\0\0"+s(c,2)+s(p,2)+s(g?this.getFromCrc32Table(y):0,4)+s(g,4)+s(g,4)+s(l.length,2)+s(d.length,2);return{fileHeader:"PK\x03\x04"+v+l+d,folderHeader:"PK\x01\x02\x14\0"+v+"\0\0\0\0\0\0"+(r?"\0\0\0\0":"\x10\0\0\0")+s(t,4)+l+d,content:y||""}},e.getConvertedContent=function(e,t){return void 0===t&&(t=!1),t&&(e=e.split(";base64,")[1]),{size:(e=t?atob(e):e).length,content:e}},e.buildFolderEnd=function(e,t,r){var n=Hn.decToHex;return"PK\x05\x06\0\0\0\0"+n(e,2)+n(e,2)+n(t,4)+n(r,4)+"\0\0"},e.buildUint8Array=function(e){for(var t=new Uint8Array(e.length),r=0;r<t.length;r++)t[r]=e.charCodeAt(r);return t},e.getFromCrc32Table=function(e){if(!e.length)return 0;for(var t=e.length,r=new Uint8Array(t),n=0;n<t;n++)r[n]=e.charCodeAt(n);var o=-1,i=0;for(n=0;n<t;n++)i=r[n],o=o>>>8^fy[255&(o^i)];return-1^o},e.convertTime=function(e){var t=e.getHours();return t<<=6,t|=e.getMinutes(),t<<=5,t|=e.getSeconds()/2},e.convertDate=function(e){var t=e.getFullYear()-1980;return t<<=4,t|=e.getMonth()+1,t<<=5,t|=e.getDate()},e.folders=[],e.files=[],e}();oe.register(Hg,!1),oe.register(Qg,!1),oe.register(cy,!1),t.AbstractHeaderCellCtrl=Hu,t.AgAbstractField=Eo,t.AgAngleSelect=Jp,t.AgCheckbox=ic,t.AgColorPicker=dd,t.AgDialog=cd,t.AgGroupComponent=gd,t.AgInputNumberField=Up,t.AgInputRange=Xp,t.AgInputTextArea=Vp,t.AgInputTextField=Hp,t.AgMenuItemComponent=Md,t.AgMenuList=_d,t.AgMenuPanel=Ad,t.AgPanel=ad,t.AgPromise=zn,t.AgRadioButton=Fp,t.AgSelect=ko,t.AgSlider=$p,t.AgStackComponentsRegistry=wt,t.AgToggleButton=Bp,t.AlignedGridsService=th,t.AnimateShowChangeCellRenderer=Wi,t.AnimateSlideCellRenderer=Vi,t.AnimationFrameService=np,t.AutoScrollService=Es,t.AutoWidthCalculator=up,t.Autowired=K,t.BaseComponentWrapper=hg,t.BaseCreator=Jg,t.BaseGridSerializingSession=ey,t.Bean=X,t.BeanStub=Le,t.Beans=qs,t.BodyDropPivotTarget=bu,t.BodyDropTarget=Eu,t.CellComp=cu,t.CellCtrl=sl,t.CellNavigationService=Zd,t.CellPositionUtils=Pf,t.ChangedPath=Sp,t.CheckboxSelectionComponent=$i,t.ColDefUtil=Et,t.Color=_t,t.Column=se,t.ColumnApi=sh,t.ColumnFactory=We,t.ColumnGroup=Ce,t.ColumnKeyCreator=h,t.ColumnModel=it,t.ColumnUtils=lt,t.Component=eo,t.ComponentUtil=mt,t.Constants=ne,t.Context=V,t.CssClassApplier=Pu,t.CssClassManager=Jn,t.CsvCreator=ay,t.CsvExportModule=cy,t.CtrlsService=Yf,t.CustomTooltipFeature=qn,t.DateFilter=Xo,t.DisplayedGroupCreator=pt,t.Downloader=ty,t.DragAndDropService=ta,t.DragService=$a,t.Environment=lf,t.EventService=re,t.Events=He,t.ExpressionService=fh,t.FilterManager=es,t.FloatingFilterMapper=za,t.FocusService=Fd,t.Grid=cg,t.GridApi=Uu,t.GridBodyComp=ql,t.GridBodyCtrl=Gs,t.GridComp=Rh,t.GridCoreCreator=pg,t.GridCtrl=Oh,t.GridHeaderComp=Hc,t.GridHeaderCtrl=Gc,t.GridOptionsWrapper=ys,t.GridSerializer=uy,t.GroupCellRenderer=fa,t.GroupCellRendererCtrl=pa,t.GroupInstanceIdCreator=je,t.HeaderCellCtrl=pc,t.HeaderFilterCellComp=is,t.HeaderFilterCellCtrl=ec,t.HeaderGroupCellCtrl=Cc,t.HeaderNavigationService=Ic,t.HeaderPositionUtils=Ff,t.HeaderRowComp=Fu,t.HeaderRowContainerComp=Mc,t.HeaderRowContainerCtrl=Ac,t.HeaderRowCtrl=Ec,t.HorizontalResizeService=zc,t.KeyCode=po,t.LargeTextCellEditor=Pi,t.Logger=xh,t.LoggerFactory=wh,t.ManagedFocusFeature=yo,t.ModuleRegistry=oe,t.MouseEventService=tu,t.MoveColumnFeature=wu,t.NavigationService=iu,t.NumberFilter=oi,t.NumberSequence=jn,t.Optional=q,t.PaginationProxy=Mp,t.PinnedRowModel=wp,t.PopupComponent=Ei,t.PopupEditorWrapper=lu,t.PopupSelectCellEditor=Mi,t.PopupService=jd,t.PopupTextCellEditor=Fi,t.PositionableFeature=ap,t.PostConstruct=U,t.PreConstruct=z,t.PreDestroy=Y,t.PropertyKeys=ft,t.ProvidedColumnGroup=we,t.ProvidedFilter=bo,t.Qualifier=Z,t.QuerySelector=function(e){return ro.bind(this,e,void 0)},t.RefSelector=to,t.ResizeObserverService=ep,t.RowContainerComp=vu,t.RowContainerCtrl=Ul,t.RowCtrl=fl,t.RowNode=Xi,t.RowNodeBlock=Op,t.RowNodeBlockLoader=Ap,t.RowNodeSorter=Vf,t.RowPositionUtils=Ef,t.RowRenderer=fp,t.ScalarFilter=jo,t.ScrollVisibleService=Ql,t.SelectCellEditor=Ti,t.SelectableService=gf,t.SelectionService=ih,t.SetLeftFeature=Ku,t.SimpleFilter=Wo,t.SortController=Dh,t.StandardMenuFactory=Xc,t.StylingService=Ip,t.TabGuardComp=xd,t.TabGuardCtrl=md,t.TabbedLayout=$c,t.TemplateService=vh,t.TextCellEditor=Ii,t.TextFilter=li,t.TextFloatingFilter=gi,t.Timer=Un,t.TouchListener=yi,t.UserComponentFactory=Xa,t.UserComponentRegistry=_a,t.ValueCache=Yh,t.ValueFormatterService=mp,t.ValueService=ch,t.VanillaFrameworkOverrides=Kd,t.VirtualList=Ud,t.XmlFactory=dy,t.ZipContainer=gy,t._=Hn,t.defaultGroupComparator=function(e,t,r,n,i){void 0===i&&(i=!1),console.warn("AG Grid: Since ag-grid 11.0.0 defaultGroupComparator is not necessary. You can remove this from your colDef");var a=o(r)&&r.group,s=o(n)&&n.group,l=!a&&!s;return a&&s?c(r.key,n.key,i):l?c(e,t,i):a?1:-1},t.getRowContainerTypeForName=Hl,t.simpleHttpRequest=function(e){return new zn((function(t){var r=new XMLHttpRequest;r.open("GET",e.url),r.send(),r.onreadystatechange=function(){4===r.readyState&&200===r.status&&t(JSON.parse(r.responseText))}}))},t.stringToArray=Pt},240:function(e,t,r){"use strict";var n,o=r(1167),i=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),a=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},s=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.watermarkMessage=void 0,t}var r;return i(t,e),r=t,t.prototype.validateLicense=function(){if(o._.missingOrEmpty(r.licenseKey))this.outputMissingLicenseKey();else if(r.licenseKey.length>32){var e=r.extractLicenseComponents(r.licenseKey),t=e.md5,n=e.license,i=e.version,a=e.isTrial;t===this.md5.md5(n)?o._.exists(i)&&i?this.validateLicenseKeyForVersion(i,!!a,n):this.validateLegacyKey(n):this.outputInvalidLicenseKey()}else this.outputInvalidLicenseKey()},t.extractExpiry=function(e){var t=e.substring(e.lastIndexOf("_")+1,e.length);return new Date(parseInt(r.decode(t),10))},t.extractLicenseComponents=function(e){var t=e.replace(/[\u200B-\u200D\uFEFF]/g,""),n=(t=t.replace(/\r?\n|\r/g,"")).length-32,o=t.substring(n),i=t.substring(0,n),a=s(r.extractBracketedInformation(t),2);return{md5:o,license:i,version:a[0],isTrial:a[1]}},t.prototype.getLicenseDetails=function(e){var t=r.extractLicenseComponents(e),n=t.md5,o=t.license,i=t.version,a=t.isTrial,s=n===this.md5.md5(o),l=null;return s&&(l=r.extractExpiry(o),s=!isNaN(l.getTime())),{licenseKey:e,valid:s,expiry:s?r.formatDate(l):null,version:i||"legacy",isTrial:a}},t.prototype.isDisplayWatermark=function(){return!o._.missingOrEmpty(this.watermarkMessage)},t.prototype.getWatermarkMessage=function(){return this.watermarkMessage||""},t.formatDate=function(e){var t=e.getDate(),r=e.getMonth(),n=e.getFullYear();return t+" "+["January","February","March","April","May","June","July","August","September","October","November","December"][r]+" "+n},t.getGridReleaseDate=function(){return new Date(parseInt(r.decode(r.RELEASE_INFORMATION),10))},t.decode=function(e){for(var t,n,o,i,a,s,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",u="",c=0,p=e.replace(/[^A-Za-z0-9+/=]/g,"");c<p.length;)t=l.indexOf(p.charAt(c++))<<2|(i=l.indexOf(p.charAt(c++)))>>4,n=(15&i)<<4|(a=l.indexOf(p.charAt(c++)))>>2,o=(3&a)<<6|(s=l.indexOf(p.charAt(c++))),u+=String.fromCharCode(t),64!=a&&(u+=String.fromCharCode(n)),64!=s&&(u+=String.fromCharCode(o));return u=r.utf8_decode(u)},t.utf8_decode=function(e){e=e.replace(/rn/g,"n");for(var t="",r=0;r<e.length;r++){var n=e.charCodeAt(r);n<128?t+=String.fromCharCode(n):n>127&&n<2048?(t+=String.fromCharCode(n>>6|192),t+=String.fromCharCode(63&n|128)):(t+=String.fromCharCode(n>>12|224),t+=String.fromCharCode(n>>6&63|128),t+=String.fromCharCode(63&n|128))}return t},t.setLicenseKey=function(e){r.licenseKey=e},t.extractBracketedInformation=function(e){var t=e.split("[").filter((function(e){return e.indexOf("]")>-1})).map((function(e){return e.split("]")[0]}));if(!t||0===t.length)return[null,null];var r=1===t.filter((function(e){return"TRIAL"===e})).length;return[t.filter((function(e){return 0===e.indexOf("v")})).map((function(e){return e.replace(/^v/,"")}))[0],r]},t.prototype.validateLicenseKeyForVersion=function(e,t,r){"2"===e&&(t?this.validateForTrial(r):this.validateLegacyKey(r))},t.prototype.validateLegacyKey=function(e){var t=r.getGridReleaseDate(),n=r.extractExpiry(e),o=!1,i=!1;if(isNaN(n.getTime())||(o=!0,i=t<n),o){if(!i){var a=r.formatDate(n),s=r.formatDate(t);this.outputIncompatibleVersion(a,s)}}else this.outputInvalidLicenseKey()},t.prototype.validateForTrial=function(e){var t=r.extractExpiry(e),n=new Date,o=!1,i=!1;if(isNaN(t.getTime())||(o=!0,i=t>n),o){if(!i){var a=r.formatDate(t);this.outputExpiredTrialKey(a)}}else this.outputInvalidLicenseKey()},t.prototype.outputInvalidLicenseKey=function(){console.error("*****************************************************************************************************************"),console.error("***************************************** AG Grid Enterprise License ********************************************"),console.error("********************************************* Invalid License ***************************************************"),console.error("* Your license for AG Grid Enterprise is not valid - please contact info@ag-grid.com to obtain a valid license. *"),console.error("*****************************************************************************************************************"),console.error("*****************************************************************************************************************"),this.watermarkMessage="Invalid License"},t.prototype.outputExpiredTrialKey=function(e){console.error("****************************************************************************************************************"),console.error("***************************************** AG Grid Enterprise License *******************************************"),console.error("*****************************************   Trial Period Expired.    *******************************************"),console.error("* Your license for AG Grid Enterprise expired on "+e+".                                                *"),console.error("* Please email info@ag-grid.com to purchase a license.                                                         *"),console.error("****************************************************************************************************************"),console.error("****************************************************************************************************************"),this.watermarkMessage="Trial Period Expired"},t.prototype.outputMissingLicenseKey=function(){console.error("****************************************************************************************************************"),console.error("***************************************** AG Grid Enterprise License *******************************************"),console.error("****************************************** License Key Not Found ***********************************************"),console.error("* All AG Grid Enterprise features are unlocked.                                                                *"),console.error("* This is an evaluation only version, it is not licensed for development projects intended for production.     *"),console.error("* If you want to hide the watermark, please email info@ag-grid.com for a trial license.                        *"),console.error("****************************************************************************************************************"),console.error("****************************************************************************************************************"),this.watermarkMessage="For Trial Use Only"},t.prototype.outputIncompatibleVersion=function(e,t){console.error("****************************************************************************************************************************"),console.error("****************************************************************************************************************************"),console.error("*                                             AG Grid Enterprise License                                                   *"),console.error("*                           License not compatible with installed version of AG Grid Enterprise.                           *"),console.error("*                                                                                                                          *"),console.error("* Your AG Grid License entitles you to all versions of AG Grid that we release within the time covered by your license     *"),console.error("* - typically we provide one year licenses which entitles you to all releases / updates of AG Grid within that year.       *"),console.error("* Your license has an end (expiry) date which stops the license key working with versions of AG Grid released after the    *"),console.error("* license end date. The license key that you have expires on "+e+", however the version of AG Grid you    *"),console.error("* are trying to use was released on "+t+".                                                               *"),console.error("*                                                                                                                          *"),console.error("* Please contact info@ag-grid.com to renew your subscription to new versions and get a new license key to work with this   *"),console.error("* version of AG Grid.                                                                                                      *"),console.error("****************************************************************************************************************************"),console.error("****************************************************************************************************************************"),this.watermarkMessage="License Expired"},t.RELEASE_INFORMATION="MTY1MjQ0MzczMDM1MQ==",a([o.Autowired("md5")],t.prototype,"md5",void 0),a([o.PreConstruct],t.prototype,"validateLicense",null),t=r=a([o.Bean("licenseManager")],t)}(o.BeanStub),u=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),c=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ieCompatibility=!1,t}return u(t,e),t.prototype.init=function(){this.ieCompatibility="5d41402abc4b2a76b9719d911017c592"!=this.md5("hello")},t.prototype.md5cycle=function(e,t){var r=e[0],n=e[1],o=e[2],i=e[3];r=this.ff(r,n,o,i,t[0],7,-680876936),i=this.ff(i,r,n,o,t[1],12,-389564586),o=this.ff(o,i,r,n,t[2],17,606105819),n=this.ff(n,o,i,r,t[3],22,-1044525330),r=this.ff(r,n,o,i,t[4],7,-176418897),i=this.ff(i,r,n,o,t[5],12,1200080426),o=this.ff(o,i,r,n,t[6],17,-1473231341),n=this.ff(n,o,i,r,t[7],22,-45705983),r=this.ff(r,n,o,i,t[8],7,1770035416),i=this.ff(i,r,n,o,t[9],12,-1958414417),o=this.ff(o,i,r,n,t[10],17,-42063),n=this.ff(n,o,i,r,t[11],22,-1990404162),r=this.ff(r,n,o,i,t[12],7,1804603682),i=this.ff(i,r,n,o,t[13],12,-40341101),o=this.ff(o,i,r,n,t[14],17,-1502002290),n=this.ff(n,o,i,r,t[15],22,1236535329),r=this.gg(r,n,o,i,t[1],5,-165796510),i=this.gg(i,r,n,o,t[6],9,-1069501632),o=this.gg(o,i,r,n,t[11],14,643717713),n=this.gg(n,o,i,r,t[0],20,-373897302),r=this.gg(r,n,o,i,t[5],5,-701558691),i=this.gg(i,r,n,o,t[10],9,38016083),o=this.gg(o,i,r,n,t[15],14,-660478335),n=this.gg(n,o,i,r,t[4],20,-405537848),r=this.gg(r,n,o,i,t[9],5,568446438),i=this.gg(i,r,n,o,t[14],9,-1019803690),o=this.gg(o,i,r,n,t[3],14,-187363961),n=this.gg(n,o,i,r,t[8],20,1163531501),r=this.gg(r,n,o,i,t[13],5,-1444681467),i=this.gg(i,r,n,o,t[2],9,-51403784),o=this.gg(o,i,r,n,t[7],14,1735328473),n=this.gg(n,o,i,r,t[12],20,-1926607734),r=this.hh(r,n,o,i,t[5],4,-378558),i=this.hh(i,r,n,o,t[8],11,-2022574463),o=this.hh(o,i,r,n,t[11],16,1839030562),n=this.hh(n,o,i,r,t[14],23,-35309556),r=this.hh(r,n,o,i,t[1],4,-1530992060),i=this.hh(i,r,n,o,t[4],11,1272893353),o=this.hh(o,i,r,n,t[7],16,-155497632),n=this.hh(n,o,i,r,t[10],23,-1094730640),r=this.hh(r,n,o,i,t[13],4,681279174),i=this.hh(i,r,n,o,t[0],11,-358537222),o=this.hh(o,i,r,n,t[3],16,-722521979),n=this.hh(n,o,i,r,t[6],23,76029189),r=this.hh(r,n,o,i,t[9],4,-640364487),i=this.hh(i,r,n,o,t[12],11,-421815835),o=this.hh(o,i,r,n,t[15],16,530742520),n=this.hh(n,o,i,r,t[2],23,-995338651),r=this.ii(r,n,o,i,t[0],6,-198630844),i=this.ii(i,r,n,o,t[7],10,1126891415),o=this.ii(o,i,r,n,t[14],15,-1416354905),n=this.ii(n,o,i,r,t[5],21,-57434055),r=this.ii(r,n,o,i,t[12],6,1700485571),i=this.ii(i,r,n,o,t[3],10,-1894986606),o=this.ii(o,i,r,n,t[10],15,-1051523),n=this.ii(n,o,i,r,t[1],21,-2054922799),r=this.ii(r,n,o,i,t[8],6,1873313359),i=this.ii(i,r,n,o,t[15],10,-30611744),o=this.ii(o,i,r,n,t[6],15,-1560198380),n=this.ii(n,o,i,r,t[13],21,1309151649),r=this.ii(r,n,o,i,t[4],6,-145523070),i=this.ii(i,r,n,o,t[11],10,-1120210379),o=this.ii(o,i,r,n,t[2],15,718787259),n=this.ii(n,o,i,r,t[9],21,-343485551),e[0]=this.add32(r,e[0]),e[1]=this.add32(n,e[1]),e[2]=this.add32(o,e[2]),e[3]=this.add32(i,e[3])},t.prototype.cmn=function(e,t,r,n,o,i){return t=this.add32(this.add32(t,e),this.add32(n,i)),this.add32(t<<o|t>>>32-o,r)},t.prototype.ff=function(e,t,r,n,o,i,a){return this.cmn(t&r|~t&n,e,t,o,i,a)},t.prototype.gg=function(e,t,r,n,o,i,a){return this.cmn(t&n|r&~n,e,t,o,i,a)},t.prototype.hh=function(e,t,r,n,o,i,a){return this.cmn(t^r^n,e,t,o,i,a)},t.prototype.ii=function(e,t,r,n,o,i,a){return this.cmn(r^(t|~n),e,t,o,i,a)},t.prototype.md51=function(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)this.md5cycle(n,this.md5blk(e.substring(t-64,t)));e=e.substring(t-64);var o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)o[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(o[t>>2]|=128<<(t%4<<3),t>55)for(this.md5cycle(n,o),t=0;t<16;t++)o[t]=0;return o[14]=8*r,this.md5cycle(n,o),n},t.prototype.md5blk=function(e){for(var t=[],r=0;r<64;r+=4)t[r>>2]=e.charCodeAt(r)+(e.charCodeAt(r+1)<<8)+(e.charCodeAt(r+2)<<16)+(e.charCodeAt(r+3)<<24);return t},t.prototype.rhex=function(e){for(var t="0123456789abcdef".split(""),r="",n=0;n<4;n++)r+=t[e>>8*n+4&15]+t[e>>8*n&15];return r},t.prototype.hex=function(e){for(var t=0;t<e.length;t++)e[t]=this.rhex(e[t]);return e.join("")},t.prototype.md5=function(e){return this.hex(this.md51(e))},t.prototype.add32=function(e,t){return this.ieCompatibility?this.add32Compat(e,t):this.add32Std(e,t)},t.prototype.add32Std=function(e,t){return e+t&4294967295},t.prototype.add32Compat=function(e,t){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r},c([o.PostConstruct],t.prototype,"init",null),t=c([o.Bean("md5")],t)}(o.BeanStub),d=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),h=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},f=function(e){function t(){return e.call(this,'<div class="ag-watermark">\n                    <div ref="eLicenseTextRef" class="ag-watermark-text"></div>\n               </div>')||this}return d(t,e),t.prototype.postConstruct=function(){var e=this,t=this.shouldDisplayWatermark();this.addOrRemoveCssClass("ag-hidden",!t),t&&(this.eLicenseTextRef.innerText=this.licenseManager.getWatermarkMessage(),window.setTimeout((function(){return e.addCssClass("ag-opacity-zero")}),0),window.setTimeout((function(){return e.addCssClass("ag-hidden")}),5e3))},t.prototype.shouldDisplayWatermark=function(){var e=(this.gridOptionsWrapper.getDocument().defaultView||window).location,t=e.hostname,r=void 0===t?"":t,n=e.pathname,o=this.licenseManager.isDisplayWatermark(),i=null!=r.match("^(?:127.0.0.1|localhost|(?:w+.)?ag-grid.com)$");return!!n&&-1!==n.indexOf("forceWatermark")||o&&!i},h([o.Autowired("licenseManager")],t.prototype,"licenseManager",void 0),h([o.RefSelector("eLicenseTextRef")],t.prototype,"eLicenseTextRef",void 0),h([o.PostConstruct],t.prototype,"postConstruct",null),t}(o.Component),g={moduleName:o.ModuleNames.EnterpriseCoreModule,beans:[l,p],agStackComponents:[{componentName:"AgWatermark",componentClass:f}]},y=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),v=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a};!function(e){e[e.EXPANDED=0]="EXPANDED",e[e.COLLAPSED=1]="COLLAPSED",e[e.INDETERMINATE=2]="INDETERMINATE"}(n||(n={}));var m=function(e){function t(){return e.call(this,t.TEMPLATE)||this}return y(t,e),t.prototype.postConstruct=function(){var e=this;this.createExpandIcons(),this.addManagedListener(this.eExpand,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eExpand,"keydown",(function(t){t.key===o.KeyCode.SPACE&&e.onExpandClicked()})),this.addManagedListener(this.eSelect.getInputElement(),"click",this.onSelectClicked.bind(this)),this.eFilterTextField.onValueChange((function(){return e.onFilterTextChanged()})),this.addManagedListener(this.eFilterTextField.getInputElement(),"keypress",this.onMiniFilterKeyPress.bind(this)),this.addManagedListener(this.eventService,o.Events.EVENT_NEW_COLUMNS_LOADED,this.showOrHideOptions.bind(this));var t=this.gridOptionsWrapper.getLocaleTextFunc();this.eSelect.setInputAriaLabel(t("ariaColumnSelectAll","Toggle Select All Columns")),this.eFilterTextField.setInputAriaLabel(t("ariaFilterColumnsInput","Filter Columns Input"))},t.prototype.init=function(e){this.params=e,this.columnModel.isReady()&&this.showOrHideOptions()},t.prototype.createExpandIcons=function(){this.eExpand.appendChild(this.eExpandChecked=o._.createIconNoSpan("columnSelectOpen",this.gridOptionsWrapper)),this.eExpand.appendChild(this.eExpandUnchecked=o._.createIconNoSpan("columnSelectClosed",this.gridOptionsWrapper)),this.eExpand.appendChild(this.eExpandIndeterminate=o._.createIconNoSpan("columnSelectIndeterminate",this.gridOptionsWrapper)),this.setExpandState(n.EXPANDED)},t.prototype.showOrHideOptions=function(){var e=!this.params.suppressColumnFilter,t=!this.params.suppressColumnSelectAll,r=!this.params.suppressColumnExpandAll,n=this.columnModel.isPrimaryColumnGroupsPresent(),i=this.gridOptionsWrapper.getLocaleTextFunc();this.eFilterTextField.setInputPlaceholder(i("searchOoo","Search...")),o._.setDisplayed(this.eFilterTextField.getGui(),e),o._.setDisplayed(this.eSelect.getGui(),t),o._.setDisplayed(this.eExpand,r&&n)},t.prototype.onFilterTextChanged=function(){var e=this;this.onFilterTextChangedDebounced||(this.onFilterTextChangedDebounced=o._.debounce((function(){var t=e.eFilterTextField.getValue();e.dispatchEvent({type:"filterChanged",filterText:t})}),t.DEBOUNCE_DELAY)),this.onFilterTextChangedDebounced()},t.prototype.onMiniFilterKeyPress=function(e){var r=this;e.key===o.KeyCode.ENTER&&setTimeout((function(){return r.onSelectClicked()}),t.DEBOUNCE_DELAY)},t.prototype.onSelectClicked=function(){this.dispatchEvent({type:this.selectState?"unselectAll":"selectAll"})},t.prototype.onExpandClicked=function(){this.dispatchEvent({type:this.expandState===n.EXPANDED?"collapseAll":"expandAll"})},t.prototype.setExpandState=function(e){this.expandState=e,o._.setDisplayed(this.eExpandChecked,this.expandState===n.EXPANDED),o._.setDisplayed(this.eExpandUnchecked,this.expandState===n.COLLAPSED),o._.setDisplayed(this.eExpandIndeterminate,this.expandState===n.INDETERMINATE)},t.prototype.setSelectionState=function(e){this.selectState=e,this.eSelect.setValue(this.selectState)},t.DEBOUNCE_DELAY=300,t.TEMPLATE='<div class="ag-column-select-header" role="presentation" tabindex="-1">\n            <div ref="eExpand" class="ag-column-select-header-icon" tabindex="0"></div>\n            <ag-checkbox ref="eSelect" class="ag-column-select-header-checkbox"></ag-checkbox>\n            <ag-input-text-field class="ag-column-select-header-filter-wrapper" ref="eFilterTextField"></ag-input-text-field>\n        </div>',v([o.Autowired("columnModel")],t.prototype,"columnModel",void 0),v([o.RefSelector("eExpand")],t.prototype,"eExpand",void 0),v([o.RefSelector("eSelect")],t.prototype,"eSelect",void 0),v([o.RefSelector("eFilterTextField")],t.prototype,"eFilterTextField",void 0),v([o.PostConstruct],t.prototype,"postConstruct",null),t}(o.Component),b=function(){function e(e,t,r,n,i){void 0===n&&(n=!1),this.eventService=new o.EventService,this.displayName=e,this.dept=r,this.group=n,n?(this.columnGroup=t,this.expanded=i,this.children=[]):this.column=t}return e.prototype.isGroup=function(){return this.group},e.prototype.getDisplayName=function(){return this.displayName},e.prototype.getColumnGroup=function(){return this.columnGroup},e.prototype.getColumn=function(){return this.column},e.prototype.getDept=function(){return this.dept},e.prototype.isExpanded=function(){return!!this.expanded},e.prototype.getChildren=function(){return this.children},e.prototype.isPassesFilter=function(){return this.passesFilter},e.prototype.setExpanded=function(t){t!==this.expanded&&(this.expanded=t,this.eventService.dispatchEvent({type:e.EVENT_EXPANDED_CHANGED}))},e.prototype.setPassesFilter=function(e){this.passesFilter=e},e.prototype.addEventListener=function(e,t){this.eventService.addEventListener(e,t)},e.prototype.removeEventListener=function(e,t){this.eventService.removeEventListener(e,t)},e.EVENT_EXPANDED_CHANGED="expandedChanged",e}(),C=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),w=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},x=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},S=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(x(arguments[t]));return e},E=function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},O=function(e){function t(t,r,n){var o=e.call(this,'<div class="ag-menu"></div>')||this;return o.column=t,o.mouseEvent=r,o.parentEl=n,o.displayName=null,o}return C(t,e),t.prototype.postConstruct=function(){this.initializeProperties(this.column),this.buildMenuItemMap(),this.column instanceof o.Column?this.displayName=this.columnModel.getDisplayNameForColumn(this.column,"columnToolPanel"):this.displayName=this.columnModel.getDisplayNameForProvidedColumnGroup(null,this.column,"columnToolPanel"),this.isActive()&&(this.mouseEvent.preventDefault(),this.displayContextMenu())},t.prototype.initializeProperties=function(e){e instanceof o.ProvidedColumnGroup?this.columns=e.getLeafColumns():this.columns=[e],this.allowGrouping=this.columns.some((function(e){return e.isPrimary()&&e.isAllowRowGroup()})),this.allowValues=this.columns.some((function(e){return e.isPrimary()&&e.isAllowValue()})),this.allowPivoting=this.columnModel.isPivotMode()&&this.columns.some((function(e){return e.isPrimary()&&e.isAllowPivot()}))},t.prototype.buildMenuItemMap=function(){var e=this,t=this.gridOptionsWrapper.getLocaleTextFunc();this.menuItemMap=new Map,this.menuItemMap.set("rowGroup",{allowedFunction:function(e){return e.isPrimary()&&e.isAllowRowGroup()},activeFunction:function(e){return e.isRowGroupActive()},activateLabel:function(){return t("groupBy","Group by")+" "+e.displayName},deactivateLabel:function(){return t("ungroupBy","Un-Group by")+" "+e.displayName},activateFunction:function(){var t=e.columnModel.getRowGroupColumns();e.columnModel.setRowGroupColumns(e.addColumnsToList(t),"toolPanelUi")},deActivateFunction:function(){var t=e.columnModel.getRowGroupColumns();e.columnModel.setRowGroupColumns(e.removeColumnsFromList(t),"toolPanelUi")},addIcon:"menuAddRowGroup",removeIcon:"menuRemoveRowGroup"}),this.menuItemMap.set("value",{allowedFunction:function(e){return e.isPrimary()&&e.isAllowValue()},activeFunction:function(e){return e.isValueActive()},activateLabel:function(){return t("addToValues","Add "+e.displayName+" to values",[e.displayName])},deactivateLabel:function(){return t("removeFromValues","Remove "+e.displayName+" from values",[e.displayName])},activateFunction:function(){var t=e.columnModel.getValueColumns();e.columnModel.setValueColumns(e.addColumnsToList(t),"toolPanelUi")},deActivateFunction:function(){var t=e.columnModel.getValueColumns();e.columnModel.setValueColumns(e.removeColumnsFromList(t),"toolPanelUi")},addIcon:"valuePanel",removeIcon:"valuePanel"}),this.menuItemMap.set("pivot",{allowedFunction:function(t){return e.columnModel.isPivotMode()&&t.isPrimary()&&t.isAllowPivot()},activeFunction:function(e){return e.isPivotActive()},activateLabel:function(){return t("addToLabels","Add "+e.displayName+" to labels",[e.displayName])},deactivateLabel:function(){return t("removeFromLabels","Remove "+e.displayName+" from labels",[e.displayName])},activateFunction:function(){var t=e.columnModel.getPivotColumns();e.columnModel.setPivotColumns(e.addColumnsToList(t),"toolPanelUi")},deActivateFunction:function(){var t=e.columnModel.getPivotColumns();e.columnModel.setPivotColumns(e.removeColumnsFromList(t),"toolPanelUi")},addIcon:"pivotPanel",removeIcon:"pivotPanel"})},t.prototype.addColumnsToList=function(e){return S(e).concat(this.columns.filter((function(t){return-1===e.indexOf(t)})))},t.prototype.removeColumnsFromList=function(e){var t=this;return e.filter((function(e){return-1===t.columns.indexOf(e)}))},t.prototype.displayContextMenu=function(){var e=this,t=this.getGui(),r=this.createBean(new o.AgMenuList),n=this.getMappedMenuItems(),i=function(){};t.appendChild(r.getGui()),r.addMenuItems(n),r.addManagedListener(r,o.AgMenuItemComponent.EVENT_MENU_ITEM_SELECTED,(function(){e.parentEl.focus(),i()}));var a=this.popupService.addPopup({modal:!0,eChild:t,closeOnEsc:!0,afterGuiAttached:function(){return e.focusService.focusInto(r.getGui())},ariaLabel:"Foo",closedCallback:function(t){t instanceof KeyboardEvent&&e.parentEl.focus(),e.destroyBean(r)}});a&&(i=a.hideFunc),this.popupService.positionPopupUnderMouseEvent({type:"columnContextMenu",mouseEvent:this.mouseEvent,ePopup:t})},t.prototype.isActive=function(){return this.allowGrouping||this.allowValues||this.allowPivoting},t.prototype.getMappedMenuItems=function(){var e,t,r=[],n=function(e){var t=i.columns.some((function(t){return e.allowedFunction(t)&&!e.activeFunction(t)})),n=i.columns.some((function(t){return e.allowedFunction(t)&&e.activeFunction(t)}));t&&r.push({name:e.activateLabel(i.displayName),icon:o._.createIconNoSpan(e.addIcon,i.gridOptionsWrapper,null),action:function(){return e.activateFunction()}}),n&&r.push({name:e.deactivateLabel(i.displayName),icon:o._.createIconNoSpan(e.removeIcon,i.gridOptionsWrapper,null),action:function(){return e.deActivateFunction()}})},i=this;try{for(var a=E(this.menuItemMap.values()),s=a.next();!s.done;s=a.next()){n(s.value)}}catch(l){e={error:l}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return r},w([o.Autowired("columnModel")],t.prototype,"columnModel",void 0),w([o.Autowired("popupService")],t.prototype,"popupService",void 0),w([o.Autowired("focusService")],t.prototype,"focusService",void 0),w([o.PostConstruct],t.prototype,"postConstruct",null),t}(o.Component),_=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),P=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},R=function(e){function t(t,r,n,o){var i=e.call(this)||this;return i.modelItem=t,i.allowDragging=r,i.eventType=n,i.focusWrapper=o,i.processingColumnStateChange=!1,i.modelItem=t,i.columnGroup=t.getColumnGroup(),i.columnDept=t.getDept(),i.allowDragging=r,i}return _(t,e),t.prototype.init=function(){var e=this;this.setTemplate(t.TEMPLATE),this.eDragHandle=o._.createIconNoSpan("columnDrag",this.gridOptionsWrapper),this.eDragHandle.classList.add("ag-drag-handle","ag-column-select-column-group-drag-handle");var r=this.cbSelect.getGui(),n=this.cbSelect.getInputElement();r.insertAdjacentElement("afterend",this.eDragHandle),n.setAttribute("tabindex","-1"),this.displayName=this.columnModel.getDisplayNameForProvidedColumnGroup(null,this.columnGroup,this.eventType),o._.missing(this.displayName)&&(this.displayName=">>"),this.eLabel.innerHTML=this.displayName?this.displayName:"",this.setupExpandContract(),this.addCssClass("ag-column-select-indent-"+this.columnDept),this.addManagedListener(this.eventService,o.Events.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.eLabel,"click",this.onLabelClicked.bind(this)),this.addManagedListener(this.cbSelect,o.AgCheckbox.EVENT_CHANGED,this.onCheckboxChanged.bind(this)),this.addManagedListener(this.modelItem,b.EVENT_EXPANDED_CHANGED,this.onExpandChanged.bind(this)),this.addManagedListener(this.focusWrapper,"keydown",this.handleKeyDown.bind(this)),this.addManagedListener(this.focusWrapper,"contextmenu",this.onContextMenu.bind(this)),this.setOpenClosedIcons(),this.setupDragging(),this.onColumnStateChanged(),this.addVisibilityListenersToAllChildren(),this.refreshAriaExpanded(),this.refreshAriaLabel(),this.setupTooltip(),o.CssClassApplier.getToolPanelClassesFromColDef(this.columnGroup.getColGroupDef(),this.gridOptionsWrapper,null,this.columnGroup).forEach((function(t){return e.addOrRemoveCssClass(t,!0)}))},t.prototype.getColumns=function(){return this.columnGroup.getLeafColumns()},t.prototype.setupTooltip=function(){var e=this,t=this.columnGroup.getColGroupDef();if(t){var r=function(){var r=t.headerTooltip;e.setTooltip(r)};r(),this.addManagedListener(this.eventService,o.Events.EVENT_NEW_COLUMNS_LOADED,r)}},t.prototype.getTooltipParams=function(){var t=e.prototype.getTooltipParams.call(this);return t.location="columnToolPanelColumnGroup",t},t.prototype.handleKeyDown=function(e){switch(e.key){case o.KeyCode.LEFT:e.preventDefault(),this.modelItem.setExpanded(!1);break;case o.KeyCode.RIGHT:e.preventDefault(),this.modelItem.setExpanded(!0);break;case o.KeyCode.SPACE:e.preventDefault(),this.isSelectable()&&this.onSelectAllChanged(!this.isSelected())}},t.prototype.onContextMenu=function(e){var t=this,r=this.columnGroup;if(!this.gridOptionsWrapper.isFunctionsReadOnly()){var n=this.createBean(new O(r,e,this.focusWrapper));this.addDestroyFunc((function(){n.isAlive()&&t.destroyBean(n)}))}},t.prototype.addVisibilityListenersToAllChildren=function(){var e=this;this.columnGroup.getLeafColumns().forEach((function(t){e.addManagedListener(t,o.Column.EVENT_VISIBLE_CHANGED,e.onColumnStateChanged.bind(e)),e.addManagedListener(t,o.Column.EVENT_VALUE_CHANGED,e.onColumnStateChanged.bind(e)),e.addManagedListener(t,o.Column.EVENT_PIVOT_CHANGED,e.onColumnStateChanged.bind(e)),e.addManagedListener(t,o.Column.EVENT_ROW_GROUP_CHANGED,e.onColumnStateChanged.bind(e))}))},t.prototype.setupDragging=function(){var e=this;if(this.allowDragging){var t={type:o.DragSourceType.ToolPanel,eElement:this.eDragHandle,dragItemName:this.displayName,getDragItem:function(){return e.createDragItem()},onDragStarted:function(){var t={type:o.Events.EVENT_COLUMN_PANEL_ITEM_DRAG_START,column:e.columnGroup};e.eventService.dispatchEvent(t)},onDragStopped:function(){var t={type:o.Events.EVENT_COLUMN_PANEL_ITEM_DRAG_END};e.eventService.dispatchEvent(t)}};this.dragAndDropService.addDragSource(t,!0),this.addDestroyFunc((function(){return e.dragAndDropService.removeDragSource(t)}))}else o._.setDisplayed(this.eDragHandle,!1)},t.prototype.createDragItem=function(){var e={};return this.columnGroup.getLeafColumns().forEach((function(t){e[t.getId()]=t.isVisible()})),{columns:this.columnGroup.getLeafColumns(),visibleState:e}},t.prototype.setupExpandContract=function(){this.eGroupClosedIcon.appendChild(o._.createIcon("columnSelectClosed",this.gridOptionsWrapper,null)),this.eGroupOpenedIcon.appendChild(o._.createIcon("columnSelectOpen",this.gridOptionsWrapper,null)),this.addManagedListener(this.eGroupClosedIcon,"click",this.onExpandOrContractClicked.bind(this)),this.addManagedListener(this.eGroupOpenedIcon,"click",this.onExpandOrContractClicked.bind(this));var e=new o.TouchListener(this.eColumnGroupIcons,!0);this.addManagedListener(e,o.TouchListener.EVENT_TAP,this.onExpandOrContractClicked.bind(this)),this.addDestroyFunc(e.destroy.bind(e))},t.prototype.onLabelClicked=function(){var e=!this.cbSelect.getValue();this.onChangeCommon(e)},t.prototype.onCheckboxChanged=function(e){this.onChangeCommon(e.selected)},t.prototype.getVisibleLeafColumns=function(){var e=[];return function t(r){r.forEach((function(r){r.isPassesFilter()&&(r.isGroup()?t(r.getChildren()):e.push(r.getColumn()))}))}(this.modelItem.getChildren()),e},t.prototype.onChangeCommon=function(e){this.refreshAriaLabel(),this.processingColumnStateChange||this.modelItemUtils.selectAllChildren(this.modelItem.getChildren(),e,this.eventType)},t.prototype.refreshAriaLabel=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),t=e("ariaColumnGroup","Column Group"),r=this.cbSelect.getValue()?e("ariaVisible","visible"):e("ariaHidden","hidden"),n=e("ariaToggleVisibility","Press SPACE to toggle visibility");o._.setAriaLabel(this.focusWrapper,this.displayName+" "+t),this.cbSelect.setInputAriaLabel(n+" ("+r+")"),o._.setAriaDescribedBy(this.focusWrapper,this.cbSelect.getInputElement().id)},t.prototype.onColumnStateChanged=function(){var e=this.workOutSelectedValue(),t=this.workOutReadOnlyValue();this.processingColumnStateChange=!0,this.cbSelect.setValue(e),this.cbSelect.setReadOnly(t),this.addOrRemoveCssClass("ag-column-select-column-group-readonly",t),this.processingColumnStateChange=!1},t.prototype.workOutSelectedValue=function(){var e=this,t=this.columnModel.isPivotMode(),r=this.getVisibleLeafColumns(),n=0,o=0;if(r.forEach((function(r){!t&&r.getColDef().lockVisible||(e.isColumnChecked(r,t)?n++:o++)})),!(n>0&&o>0))return n>0},t.prototype.workOutReadOnlyValue=function(){var e=this.columnModel.isPivotMode(),t=0;return this.columnGroup.getLeafColumns().forEach((function(r){e?r.isAnyFunctionAllowed()&&t++:r.getColDef().lockVisible||t++})),0===t},t.prototype.isColumnChecked=function(e,t){if(t){var r=e.isPivotActive(),n=e.isRowGroupActive(),o=e.isValueActive();return r||n||o}return e.isVisible()},t.prototype.onExpandOrContractClicked=function(){var e=this.modelItem.isExpanded();this.modelItem.setExpanded(!e)},t.prototype.onExpandChanged=function(){this.setOpenClosedIcons(),this.refreshAriaExpanded()},t.prototype.setOpenClosedIcons=function(){var e=this.modelItem.isExpanded();o._.setDisplayed(this.eGroupClosedIcon,!e),o._.setDisplayed(this.eGroupOpenedIcon,e)},t.prototype.refreshAriaExpanded=function(){o._.setAriaExpanded(this.focusWrapper,this.modelItem.isExpanded())},t.prototype.getDisplayName=function(){return this.displayName},t.prototype.onSelectAllChanged=function(e){var t=this.cbSelect.getValue();!this.cbSelect.isReadOnly()&&(e&&!t||!e&&t)&&this.cbSelect.toggle()},t.prototype.isSelected=function(){return this.cbSelect.getValue()},t.prototype.isSelectable=function(){return!this.cbSelect.isReadOnly()},t.prototype.setSelected=function(e){this.cbSelect.setValue(e,!0)},t.TEMPLATE='<div class="ag-column-select-column-group" aria-hidden="true">\n            <span class="ag-column-group-icons" ref="eColumnGroupIcons" >\n                <span class="ag-column-group-closed-icon" ref="eGroupClosedIcon"></span>\n                <span class="ag-column-group-opened-icon" ref="eGroupOpenedIcon"></span>\n            </span>\n            <ag-checkbox ref="cbSelect" class="ag-column-select-checkbox"></ag-checkbox>\n            <span class="ag-column-select-column-label" ref="eLabel"></span>\n        </div>',P([o.Autowired("columnModel")],t.prototype,"columnModel",void 0),P([o.Autowired("dragAndDropService")],t.prototype,"dragAndDropService",void 0),P([o.Autowired("modelItemUtils")],t.prototype,"modelItemUtils",void 0),P([o.RefSelector("cbSelect")],t.prototype,"cbSelect",void 0),P([o.RefSelector("eLabel")],t.prototype,"eLabel",void 0),P([o.RefSelector("eGroupOpenedIcon")],t.prototype,"eGroupOpenedIcon",void 0),P([o.RefSelector("eGroupClosedIcon")],t.prototype,"eGroupClosedIcon",void 0),P([o.RefSelector("eColumnGroupIcons")],t.prototype,"eColumnGroupIcons",void 0),P([o.PostConstruct],t.prototype,"init",null),t}(o.Component),A=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),T=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},D="ag-list-item-hovered",M=function(e){function t(t,r){var n=e.call(this)||this;return n.comp=t,n.virtualList=r,n.currentDragColumn=null,n.lastHoveredColumnItem=null,n}return A(t,e),t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,o.Events.EVENT_COLUMN_PANEL_ITEM_DRAG_START,this.columnPanelItemDragStart.bind(this)),this.addManagedListener(this.eventService,o.Events.EVENT_COLUMN_PANEL_ITEM_DRAG_END,this.columnPanelItemDragEnd.bind(this)),this.createDropTarget(),this.createAutoScrollService()},t.prototype.columnPanelItemDragStart=function(e){var t=e.column;this.currentDragColumn=t,this.getCurrentColumns().find((function(e){var t=e.getColDef();return!!t.suppressMovable||!!t.lockPosition}))&&(this.moveBlocked=!0)},t.prototype.columnPanelItemDragEnd=function(){var e=this;window.setTimeout((function(){e.currentDragColumn=null,e.moveBlocked=!1}),10)},t.prototype.createDropTarget=function(){var e=this,t={isInterestedIn:function(e){return e===o.DragSourceType.ToolPanel},getIconName:function(){return o.DragAndDropService[e.moveBlocked?"ICON_NOT_ALLOWED":"ICON_MOVE"]},getContainer:function(){return e.comp.getGui()},onDragging:function(t){return e.onDragging(t)},onDragStop:function(){return e.onDragStop()},onDragLeave:function(){return e.onDragLeave()}};this.dragAndDropService.addDropTarget(t)},t.prototype.createAutoScrollService=function(){var e=this.virtualList.getGui();this.autoScrollService=new o.AutoScrollService({scrollContainer:e,scrollAxis:"y",getVerticalPosition:function(){return e.scrollTop},setVerticalPosition:function(t){return e.scrollTop=t}})},t.prototype.onDragging=function(e){if(this.currentDragColumn&&!this.moveBlocked){var t=this.getDragColumnItem(e),r=this.virtualList.getComponentAt(t.rowIndex);if(r){var n=r.getGui().parentElement;this.lastHoveredColumnItem&&this.lastHoveredColumnItem.rowIndex===t.rowIndex&&this.lastHoveredColumnItem.position===t.position||(this.autoScrollService.check(e.event),this.clearHoveredItems(),this.lastHoveredColumnItem=t,o._.radioCssClass(n,""+D),o._.radioCssClass(n,"ag-item-highlight-"+t.position))}}},t.prototype.getDragColumnItem=function(e){var t=this.virtualList.getGui(),r=parseFloat(window.getComputedStyle(t).paddingTop),n=this.virtualList.getRowHeight(),o=this.virtualList.getScrollTop(),i=Math.max(0,(e.y-r+o)/n),a=this.comp.getDisplayedColsList().length-1,s=0|Math.min(a,i);return{rowIndex:s,position:Math.round(i)>i||i>a?"bottom":"top",component:this.virtualList.getComponentAt(s)}},t.prototype.onDragStop=function(){if(!this.moveBlocked){var e=this.getTargetIndex(),t=this.getCurrentColumns();null!=e&&this.columnModel.moveColumns(t,e),this.clearHoveredItems(),this.autoScrollService.ensureCleared()}},t.prototype.getMoveDiff=function(e){var t=this.columnModel.getAllGridColumns(),r=this.getCurrentColumns(),n=r[0],o=r.length;return t.indexOf(n)<e?o:0},t.prototype.getCurrentColumns=function(){return this.currentDragColumn instanceof o.ProvidedColumnGroup?this.currentDragColumn.getLeafColumns():[this.currentDragColumn]},t.prototype.getTargetIndex=function(){if(!this.lastHoveredColumnItem)return null;var e,t=this.lastHoveredColumnItem.component,r="top"===this.lastHoveredColumnItem.position;t instanceof R?(e=t.getColumns()[0],r=!0):e=t.getColumn();var n=this.columnModel.getAllGridColumns().indexOf(e),o=r?n:n+1;return o-this.getMoveDiff(o)},t.prototype.onDragLeave=function(){this.clearHoveredItems(),this.autoScrollService.ensureCleared()},t.prototype.clearHoveredItems=function(){this.virtualList.getGui().querySelectorAll("."+D).forEach((function(e){[D,"ag-item-highlight-top","ag-item-highlight-bottom"].forEach((function(t){e.classList.remove(t)}))})),this.lastHoveredColumnItem=null},T([o.Autowired("columnModel")],t.prototype,"columnModel",void 0),T([o.Autowired("dragAndDropService")],t.prototype,"dragAndDropService",void 0),T([o.PostConstruct],t.prototype,"postConstruct",null),t}(o.BeanStub),k=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),N=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},I=function(e){function t(t,r,n,o,i){var a=e.call(this)||this;return a.column=t,a.columnDept=r,a.allowDragging=n,a.groupsExist=o,a.focusWrapper=i,a.processingColumnStateChange=!1,a}return k(t,e),t.prototype.init=function(){var e=this;this.setTemplate(t.TEMPLATE),this.eDragHandle=o._.createIconNoSpan("columnDrag",this.gridOptionsWrapper),this.eDragHandle.classList.add("ag-drag-handle","ag-column-select-column-drag-handle");var r=this.cbSelect.getGui(),n=this.cbSelect.getInputElement();r.insertAdjacentElement("afterend",this.eDragHandle),n.setAttribute("tabindex","-1"),this.displayName=this.columnModel.getDisplayNameForColumn(this.column,"columnToolPanel");var i=o._.escapeString(this.displayName);this.eLabel.innerHTML=i;var a=this.columnDept;this.groupsExist&&this.addCssClass("ag-column-select-add-group-indent"),this.addCssClass("ag-column-select-indent-"+a),this.setupDragging(),this.addManagedListener(this.eventService,o.Events.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,o.Column.EVENT_VALUE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,o.Column.EVENT_PIVOT_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,o.Column.EVENT_ROW_GROUP_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,o.Column.EVENT_VISIBLE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.focusWrapper,"keydown",this.handleKeyDown.bind(this)),this.addManagedListener(this.focusWrapper,"contextmenu",this.onContextMenu.bind(this)),this.addManagedListener(this.gridOptionsWrapper,"functionsReadOnly",this.onColumnStateChanged.bind(this)),this.addManagedListener(this.cbSelect,o.AgCheckbox.EVENT_CHANGED,this.onCheckboxChanged.bind(this)),this.addManagedListener(this.eLabel,"click",this.onLabelClicked.bind(this)),this.onColumnStateChanged(),this.refreshAriaLabel(),this.setupTooltip(),o.CssClassApplier.getToolPanelClassesFromColDef(this.column.getColDef(),this.gridOptionsWrapper,this.column,null).forEach((function(t){return e.addOrRemoveCssClass(t,!0)}))},t.prototype.getColumn=function(){return this.column},t.prototype.setupTooltip=function(){var e=this,t=function(){var t=e.column.getColDef().headerTooltip;e.setTooltip(t)};t(),this.addManagedListener(this.eventService,o.Events.EVENT_NEW_COLUMNS_LOADED,t)},t.prototype.getTooltipParams=function(){var t=e.prototype.getTooltipParams.call(this);return t.location="columnToolPanelColumn",t.colDef=this.column.getColDef(),t},t.prototype.onContextMenu=function(e){var t=this,r=this.column;if(!this.gridOptionsWrapper.isFunctionsReadOnly()){var n=this.createBean(new O(r,e,this.focusWrapper));this.addDestroyFunc((function(){n.isAlive()&&t.destroyBean(n)}))}},t.prototype.handleKeyDown=function(e){e.key===o.KeyCode.SPACE&&(e.preventDefault(),this.isSelectable()&&this.onSelectAllChanged(!this.isSelected()))},t.prototype.onLabelClicked=function(){if(!this.gridOptionsWrapper.isFunctionsReadOnly()){var e=!this.cbSelect.getValue();this.onChangeCommon(e)}},t.prototype.onCheckboxChanged=function(e){this.onChangeCommon(e.selected)},t.prototype.onChangeCommon=function(e){this.cbSelect.isReadOnly()||(this.refreshAriaLabel(),this.processingColumnStateChange||this.modelItemUtils.setColumn(this.column,e,"toolPanelUi"))},t.prototype.refreshAriaLabel=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),t=e("ariaColumn","Column"),r=this.cbSelect.getValue()?e("ariaVisible","visible"):e("ariaHidden","hidden"),n=e("ariaToggleVisibility","Press SPACE to toggle visibility");o._.setAriaLabel(this.focusWrapper,this.displayName+" "+t),this.cbSelect.setInputAriaLabel(n+" ("+r+")"),o._.setAriaDescribedBy(this.focusWrapper,this.cbSelect.getInputElement().id)},t.prototype.setupDragging=function(){var e=this;if(this.allowDragging){var t={type:o.DragSourceType.ToolPanel,eElement:this.eDragHandle,dragItemName:this.displayName,getDragItem:function(){return e.createDragItem()},onDragStarted:function(){var t={type:o.Events.EVENT_COLUMN_PANEL_ITEM_DRAG_START,column:e.column};e.eventService.dispatchEvent(t)},onDragStopped:function(){var t={type:o.Events.EVENT_COLUMN_PANEL_ITEM_DRAG_END};e.eventService.dispatchEvent(t)}};this.dragAndDropService.addDragSource(t,!0),this.addDestroyFunc((function(){return e.dragAndDropService.removeDragSource(t)}))}else o._.setDisplayed(this.eDragHandle,!1)},t.prototype.createDragItem=function(){var e={};return e[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:e}},t.prototype.onColumnStateChanged=function(){this.processingColumnStateChange=!0;var e=this.columnModel.isPivotMode();if(e){var t=this.column.isAnyFunctionActive();this.cbSelect.setValue(t)}else this.cbSelect.setValue(this.column.isVisible());var r=!0,n=!0;if(e){var o=this.gridOptionsWrapper.isFunctionsReadOnly(),i=!this.column.isAnyFunctionAllowed();n=r=!o&&!i}else{var a=this.column.getColDef(),s=a.enableRowGroup,l=a.enableValue,u=a.lockPosition,c=a.suppressMovable;r=!a.lockVisible,n=!!s||!!l||!(!!u||!!c)}this.cbSelect.setReadOnly(!r),this.eDragHandle.classList.toggle("ag-column-select-column-readonly",!n),this.addOrRemoveCssClass("ag-column-select-column-readonly",!n&&!r);var p=e&&this.gridOptionsWrapper.isFunctionsPassive();this.cbSelect.setPassive(p),this.processingColumnStateChange=!1},t.prototype.getDisplayName=function(){return this.displayName},t.prototype.onSelectAllChanged=function(e){e!==this.cbSelect.getValue()&&(this.cbSelect.isReadOnly()||this.cbSelect.toggle())},t.prototype.isSelected=function(){return this.cbSelect.getValue()},t.prototype.isSelectable=function(){return!this.cbSelect.isReadOnly()},t.prototype.isExpandable=function(){return!1},t.prototype.setExpanded=function(e){console.warn("AG Grid: can not expand a column item that does not represent a column group header")},t.TEMPLATE='<div class="ag-column-select-column" aria-hidden="true">\n            <ag-checkbox ref="cbSelect" class="ag-column-select-checkbox"></ag-checkbox>\n            <span class="ag-column-select-column-label" ref="eLabel"></span>\n        </div>',N([o.Autowired("columnModel")],t.prototype,"columnModel",void 0),N([o.Autowired("dragAndDropService")],t.prototype,"dragAndDropService",void 0),N([o.Autowired("modelItemUtils")],t.prototype,"modelItemUtils",void 0),N([o.RefSelector("eLabel")],t.prototype,"eLabel",void 0),N([o.RefSelector("cbSelect")],t.prototype,"cbSelect",void 0),N([o.PostConstruct],t.prototype,"init",null),t}(o.Component),L=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),F=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},G=function(){function e(e){this.items=e}return e.prototype.getRowCount=function(){return this.items.length},e.prototype.getRow=function(e){return this.items[e]},e}(),B=function(e){function t(){var r=e.call(this,t.TEMPLATE)||this;return r.destroyColumnItemFuncs=[],r}return L(t,e),t.prototype.destroyColumnTree=function(){this.allColsTree=[],this.destroyColumnItemFuncs.forEach((function(e){return e()})),this.destroyColumnItemFuncs=[]},t.prototype.init=function(e,t,r){var n=this;this.params=e,this.allowDragging=t,this.eventType=r,this.params.suppressSyncLayoutWithGrid||this.addManagedListener(this.eventService,o.Events.EVENT_COLUMN_MOVED,this.onColumnsChanged.bind(this)),this.addManagedListener(this.eventService,o.Events.EVENT_NEW_COLUMNS_LOADED,this.onColumnsChanged.bind(this)),[o.Events.EVENT_COLUMN_PIVOT_CHANGED,o.Events.EVENT_COLUMN_PIVOT_MODE_CHANGED,o.Events.EVENT_COLUMN_ROW_GROUP_CHANGED,o.Events.EVENT_COLUMN_VALUE_CHANGED,o.Events.EVENT_COLUMN_VISIBLE,o.Events.EVENT_NEW_COLUMNS_LOADED].forEach((function(e){n.addManagedListener(n.eventService,e,n.fireSelectionChangedEvent.bind(n))})),this.expandGroupsByDefault=!this.params.contractColumnSelection;var i=this.gridOptionsWrapper.getLocaleTextFunc()("ariaColumnList","Column List");this.virtualList=this.createManagedBean(new o.VirtualList("column-select","tree",i)),this.appendChild(this.virtualList.getGui()),this.virtualList.setComponentCreator((function(e,t){return o._.setAriaLevel(t,e.getDept()+1),n.createComponentFromItem(e,t)})),this.columnModel.isReady()&&this.onColumnsChanged(),e.suppressColumnMove||this.gridOptionsWrapper.isSuppressMovableColumns()||this.createManagedBean(new M(this,this.virtualList))},t.prototype.createComponentFromItem=function(e,t){if(e.isGroup()){var r=new R(e,this.allowDragging,this.eventType,t);return this.getContext().createBean(r),r}var n=new I(e.getColumn(),e.getDept(),this.allowDragging,this.groupsExist,t);return this.getContext().createBean(n),n},t.prototype.onColumnsChanged=function(){var e=this.getExpandedStates(),t=this.columnModel.isPivotMode();!this.params.suppressSyncLayoutWithGrid&&!t?this.buildTreeFromWhatGridIsDisplaying():this.buildTreeFromProvidedColumnDefs(),this.setExpandedStates(e),this.markFilteredColumns(),this.flattenAndFilterModel()},t.prototype.getDisplayedColsList=function(){return this.displayedColsList},t.prototype.getExpandedStates=function(){if(!this.allColsTree)return{};var e={};return this.forEachItem((function(t){if(t.isGroup()){var r=t.getColumnGroup();r&&(e[r.getId()]=t.isExpanded())}})),e},t.prototype.setExpandedStates=function(e){this.allColsTree&&this.forEachItem((function(t){if(t.isGroup()){var r=t.getColumnGroup();if(r){var n=e[r.getId()];null!=n&&t.setExpanded(n)}}}))},t.prototype.buildTreeFromWhatGridIsDisplaying=function(){this.colDefService.syncLayoutWithGrid(this.setColumnLayout.bind(this))},t.prototype.setColumnLayout=function(e){var t=this.colDefService.createColumnTree(e);this.buildListModel(t),this.groupsExist=e.some((function(e){return e&&"undefined"!==typeof e.children})),this.markFilteredColumns(),this.flattenAndFilterModel()},t.prototype.buildTreeFromProvidedColumnDefs=function(){this.buildListModel(this.columnModel.getPrimaryColumnTree()),this.groupsExist=this.columnModel.isPrimaryColumnGroupsPresent()},t.prototype.buildListModel=function(e){var t=this,r=this.onColumnExpanded.bind(this),n=function(e,t,r){e.forEach((function(e){e instanceof o.ProvidedColumnGroup?i(e,t,r):a(e,t,r)}))},i=function(e,o,i){var a=e.getColGroupDef();if(!(a&&a.suppressColumnsToolPanel))if(e.isPadding())n(e.getChildren(),o,i);else{var s=t.columnModel.getDisplayNameForProvidedColumnGroup(null,e,t.eventType),l=new b(s,e,o,!0,t.expandGroupsByDefault);i.push(l),function(e){e.addEventListener(b.EVENT_EXPANDED_CHANGED,r);var n=e.removeEventListener.bind(e,b.EVENT_EXPANDED_CHANGED,r);t.destroyColumnItemFuncs.push(n)}(l),n(e.getChildren(),o+1,l.getChildren())}},a=function(e,r,n){if(!(e.getColDef()&&e.getColDef().suppressColumnsToolPanel)){var o=t.columnModel.getDisplayNameForColumn(e,"columnToolPanel");n.push(new b(o,e,r))}};this.destroyColumnTree(),n(e,0,this.allColsTree)},t.prototype.onColumnExpanded=function(){this.flattenAndFilterModel()},t.prototype.flattenAndFilterModel=function(){var e=this;this.displayedColsList=[];this.allColsTree.forEach((function t(r){r.isPassesFilter()&&(e.displayedColsList.push(r),r.isGroup()&&r.isExpanded()&&r.getChildren().forEach(t))})),this.virtualList.setModel(new G(this.displayedColsList));var t=this.virtualList.getLastFocusedRow();this.virtualList.refresh(),null!=t&&this.focusRowIfAlive(t),this.notifyListeners()},t.prototype.focusRowIfAlive=function(e){var t=this;window.setTimeout((function(){t.isAlive()&&t.virtualList.focusRow(e)}),0)},t.prototype.forEachItem=function(e){!function t(r){r.forEach((function(r){e(r),r.isGroup()&&t(r.getChildren())}))}(this.allColsTree)},t.prototype.doSetExpandedAll=function(e){this.forEachItem((function(t){t.isGroup()&&t.setExpanded(e)}))},t.prototype.setGroupsExpanded=function(e,t){if(t){var r=[];this.forEachItem((function(n){if(n.isGroup()){var o=n.getColumnGroup().getId();t.indexOf(o)>=0&&(n.setExpanded(e),r.push(o))}}));var n=t.filter((function(e){return!o._.includes(r,e)}));n.length>0&&console.warn("AG Grid: unable to find group(s) for supplied groupIds:",n)}else this.doSetExpandedAll(e)},t.prototype.getExpandState=function(){var e=0,t=0;return this.forEachItem((function(r){r.isGroup()&&(r.isExpanded()?e++:t++)})),e>0&&t>0?n.INDETERMINATE:t>0?n.COLLAPSED:n.EXPANDED},t.prototype.doSetSelectedAll=function(e){this.modelItemUtils.selectAllChildren(this.allColsTree,e,this.eventType)},t.prototype.getSelectionState=function(){var e=0,t=0,r=this.columnModel.isPivotMode();if(this.forEachItem((function(n){if(!n.isGroup()&&n.isPassesFilter()){var o,i=n.getColumn(),a=i.getColDef();if(r){if(!i.isAllowPivot()&&!i.isAllowRowGroup()&&!i.isAllowValue())return;o=i.isValueActive()||i.isPivotActive()||i.isRowGroupActive()}else{if(a.lockVisible)return;o=i.isVisible()}o?e++:t++}})),!(e>0&&t>0))return!(0===e||t>0)},t.prototype.setFilterText=function(e){this.filterText=o._.exists(e)?e.toLowerCase():null,this.markFilteredColumns(),this.flattenAndFilterModel()},t.prototype.markFilteredColumns=function(){var e=this,t=function(t){if(!o._.exists(e.filterText))return!0;var r=t.getDisplayName();return null==r||-1!==r.toLowerCase().indexOf(e.filterText)},r=function e(r,n){var o=!1;if(r.isGroup()){var i=t(r);r.getChildren().forEach((function(t){var r=e(t,i||n);r&&(o=r)}))}var a=!(!n&&!o)||t(r);return r.setPassesFilter(a),a};this.allColsTree.forEach((function(e){return r(e,!1)}))},t.prototype.notifyListeners=function(){this.fireGroupExpandedEvent(),this.fireSelectionChangedEvent()},t.prototype.fireGroupExpandedEvent=function(){var e=this.getExpandState();this.dispatchEvent({type:"groupExpanded",state:e})},t.prototype.fireSelectionChangedEvent=function(){var e=this.getSelectionState();this.dispatchEvent({type:"selectionChanged",state:e})},t.TEMPLATE='<div class="ag-column-select-list" role="presentation"></div>',F([o.Autowired("columnModel")],t.prototype,"columnModel",void 0),F([o.Autowired("toolPanelColDefService")],t.prototype,"colDefService",void 0),F([o.Autowired("modelItemUtils")],t.prototype,"modelItemUtils",void 0),F([o.PreDestroy],t.prototype,"destroyColumnTree",null),t}(o.Component),W=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),H=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},j=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return W(t,e),t.prototype.createTemplate=function(){return'<div class="ag-pivot-mode-panel">\n                <ag-toggle-button ref="cbPivotMode" class="ag-pivot-mode-select"></ag-toggle-button>\n            </div>'},t.prototype.init=function(){this.setTemplate(this.createTemplate()),this.cbPivotMode.setValue(this.columnModel.isPivotMode());var e=this.gridOptionsWrapper.getLocaleTextFunc();this.cbPivotMode.setLabel(e("pivotMode","Pivot Mode")),this.addManagedListener(this.cbPivotMode,o.AgCheckbox.EVENT_CHANGED,this.onBtPivotMode.bind(this)),this.addManagedListener(this.eventService,o.Events.EVENT_NEW_COLUMNS_LOADED,this.onPivotModeChanged.bind(this)),this.addManagedListener(this.eventService,o.Events.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this))},t.prototype.onBtPivotMode=function(){var e=!!this.cbPivotMode.getValue();if(e!==this.columnModel.isPivotMode()){this.columnModel.setPivotMode(e,"toolPanelUi");var t=this.gridOptionsWrapper.getApi();t&&t.refreshHeader()}},t.prototype.onPivotModeChanged=function(){var e=this.columnModel.isPivotMode();this.cbPivotMode.setValue(e)},H([o.Autowired("columnModel")],t.prototype,"columnModel",void 0),H([o.RefSelector("cbPivotMode")],t.prototype,"cbPivotMode",void 0),H([o.PreConstruct],t.prototype,"init",null),t}(o.Component),V=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),z=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},U=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return V(t,e),t.prototype.execute=function(e){var t=o._.missingOrEmpty(this.columnModel.getValueColumns()),r=!this.gridOptionsWrapper.getGroupRowAggFunc(),n=e.changedPath&&e.changedPath.isActive();if(!(t&&r&&n)){var i=this.createAggDetails(e);this.recursivelyCreateAggData(i)}},t.prototype.createAggDetails=function(e){var t=this.columnModel.isPivotActive(),r=this.columnModel.getValueColumns(),n=t?this.columnModel.getPivotColumns():[];return{changedPath:e.changedPath,valueColumns:r,pivotColumns:n}},t.prototype.recursivelyCreateAggData=function(e){var t=this;this.filteredOnly=!this.gridOptionsWrapper.isSuppressAggFilteredOnly();e.changedPath.forEachChangedNodeDepthFirst((function(r){if(!r.hasChildren())r.aggData&&r.setAggData(null);else{if(-1===r.level){var n=!t.columnModel.isPivotMode();if(t.gridOptionsWrapper.isSuppressAggAtRootLevel()&&n)return}t.aggregateRowNode(r,e)}}),!0)},t.prototype.aggregateRowNode=function(e,t){var r,n=0===t.valueColumns.length,o=0===t.pivotColumns.length,i=this.gridOptionsWrapper.getGroupRowAggFunc();i?r=i({nodes:e.childrenAfterFilter}):r=n?null:o?this.aggregateRowNodeUsingValuesOnly(e,t):this.aggregateRowNodeUsingValuesAndPivot(e);e.setAggData(r),e.sibling&&e.sibling.setAggData(r)},t.prototype.aggregateRowNodeUsingValuesAndPivot=function(e){var t=this,r={},n=this.pivotStage.getPivotColumnDefs();return n.filter((function(e){return!o._.exists(e.pivotTotalColumnIds)})).forEach((function(n){var o,i=n.pivotKeys||[],a=n.pivotValueColumn,s=n.colId;o=e.leafGroup?t.getValuesFromMappedSet(e.childrenMapped,i,a):t.getValuesPivotNonLeaf(e,s),r[s]=t.aggregateValues(o,a.getAggFunc(),a,e)})),n.filter((function(e){return o._.exists(e.pivotTotalColumnIds)})).forEach((function(n){var o=[],i=n.pivotValueColumn,a=n.pivotTotalColumnIds,s=n.colId;a&&a.length&&(a.forEach((function(e){o.push(r[e])})),r[s]=t.aggregateValues(o,i.getAggFunc(),i,e))})),r},t.prototype.aggregateRowNodeUsingValuesOnly=function(e,t){var r=this,n={},o=t.changedPath.isActive()?t.changedPath.getValueColumnsForNode(e,t.valueColumns):t.valueColumns,i=t.changedPath.isActive()?t.changedPath.getNotValueColumnsForNode(e,t.valueColumns):null,a=this.getValuesNormal(e,o),s=e.aggData;return o.forEach((function(t,o){n[t.getId()]=r.aggregateValues(a[o],t.getAggFunc(),t,e)})),i&&s&&i.forEach((function(e){n[e.getId()]=s[e.getId()]})),n},t.prototype.getValuesPivotNonLeaf=function(e,t){var r=[];return e.childrenAfterFilter.forEach((function(e){var n=e.aggData[t];r.push(n)})),r},t.prototype.getValuesFromMappedSet=function(e,t,r){var n=this,o=e;if(t.forEach((function(e){return o=o?o[e]:null})),!o)return[];var i=[];return o.forEach((function(e){var t=n.valueService.getValue(r,e);i.push(t)})),i},t.prototype.getValuesNormal=function(e,t){var r=[];t.forEach((function(){return r.push([])}));for(var n=t.length,o=this.filteredOnly?e.childrenAfterFilter:e.childrenAfterGroup,i=o.length,a=0;a<i;a++)for(var s=o[a],l=0;l<n;l++){var u=t[l],c=this.valueService.getValue(u,s);r[l].push(c)}return r},t.prototype.aggregateValues=function(e,t,r,n){var i="string"===typeof t?this.aggFuncService.getAggFunc(t):t;if("function"!==typeof i)return console.error("AG Grid: unrecognised aggregation function "+t),null;var a=function(){o._.doOnce((function(){console.warn("AG Grid: since v24.0, custom aggregation functions take a params object. Please alter your aggregation function to use params.values")}),"aggregationStage.aggregateValues Deprecation")};return i({values:e,column:r,colDef:r?r.getColDef():void 0,rowNode:n,data:n?n.data:void 0,api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext(),forEach:function(t,r){return a(),e.forEach(t,r)},get length(){return a(),e.length},set length(t){a(),e.length=t}})},z([o.Autowired("columnModel")],t.prototype,"columnModel",void 0),z([o.Autowired("valueService")],t.prototype,"valueService",void 0),z([o.Autowired("pivotStage")],t.prototype,"pivotStage",void 0),z([o.Autowired("aggFuncService")],t.prototype,"aggFuncService",void 0),z([o.Autowired("gridApi")],t.prototype,"gridApi",void 0),z([o.Autowired("columnApi")],t.prototype,"columnApi",void 0),t=z([o.Bean("aggregationStage")],t)}(o.BeanStub),Y=function(){function e(){this.allSets={},this.allParents=[]}return e.prototype.removeFromChildrenAfterGroup=function(e,t){this.getSet(e).removeFromChildrenAfterGroup[t.id]=!0},e.prototype.removeFromAllLeafChildren=function(e,t){this.getSet(e).removeFromAllLeafChildren[t.id]=!0},e.prototype.getSet=function(e){return this.allSets[e.id]||(this.allSets[e.id]={removeFromAllLeafChildren:{},removeFromChildrenAfterGroup:{}},this.allParents.push(e)),this.allSets[e.id]},e.prototype.getAllParents=function(){return this.allParents},e.prototype.flush=function(){var e=this;this.allParents.forEach((function(t){var r=e.allSets[t.id];t.childrenAfterGroup=t.childrenAfterGroup.filter((function(e){return!r.removeFromChildrenAfterGroup[e.id]})),t.allLeafChildren=t.allLeafChildren.filter((function(e){return!r.removeFromAllLeafChildren[e.id]})),t.updateHasChildren(),t.sibling&&(t.sibling.childrenAfterGroup=t.childrenAfterGroup,t.sibling.allLeafChildren=t.allLeafChildren)})),this.allSets={},this.allParents.length=0},e}(),X=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),K=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},q=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},$=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(q(arguments[t]));return e},Z=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.groupIdSequence=new o.NumberSequence,t}return X(t,e),t.prototype.postConstruct=function(){this.usingTreeData=this.gridOptionsWrapper.isTreeData(),this.usingTreeData&&(this.getDataPath=this.gridOptionsWrapper.getDataPathFunc())},t.prototype.execute=function(e){var t=this.createGroupingDetails(e);if(t.transactions)this.handleTransaction(t);else{var r=!0===e.afterColumnsChanged;this.shotgunResetEverything(t,r)}this.positionLeafsAboveGroups(e.changedPath),this.orderGroups(t.rootNode),this.selectableService.updateSelectableAfterGrouping(t.rootNode)},t.prototype.positionLeafsAboveGroups=function(e){this.usingTreeData||e.forEachChangedNodeDepthFirst((function(e){if(e.childrenAfterGroup){var t=[],r=[];e.childrenAfterGroup.forEach((function(e){var n;(null===(n=e.childrenAfterGroup)||void 0===n?void 0:n.length)?r.push(e):t.push(e)})),e.childrenAfterGroup=$(t,r)}}),!1)},t.prototype.createGroupingDetails=function(e){var t=e.rowNode,r=e.changedPath,n=e.rowNodeTransactions,o=e.rowNodeOrder,i=this.usingTreeData?null:this.columnModel.getRowGroupColumns();return{includeParents:!this.gridOptionsWrapper.isSuppressParentsInRowNodes(),expandByDefault:this.gridOptionsWrapper.getGroupDefaultExpanded(),groupedCols:i,rootNode:t,pivotMode:this.columnModel.isPivotMode(),groupedColCount:this.usingTreeData||!i?0:i.length,rowNodeOrder:o,transactions:n,changedPath:r}},t.prototype.handleTransaction=function(e){var t=this;e.transactions.forEach((function(r){var n=t.usingTreeData?void 0:new Y;if(o._.existsAndNotEmpty(r.remove)&&t.removeNodes(r.remove,e,n),o._.existsAndNotEmpty(r.update)&&t.moveNodesInWrongPath(r.update,e,n),o._.existsAndNotEmpty(r.add)&&t.insertNodes(r.add,e,!1),n){var i=n.getAllParents().slice();n.flush(),t.removeEmptyGroups(i,e)}})),e.rowNodeOrder&&this.sortChildren(e)},t.prototype.sortChildren=function(e){e.changedPath.forEachChangedNodeDepthFirst((function(t){o._.sortRowNodesByOrder(t.childrenAfterGroup,e.rowNodeOrder)}))},t.prototype.orderGroups=function(e){if(!this.usingTreeData){var t=this.gridOptionsWrapper.getInitialGroupOrderComparator();o._.exists(t)&&function e(r){o._.exists(r.childrenAfterGroup)&&!r.leafGroup&&(r.childrenAfterGroup.sort((function(e,r){return t({nodeA:e,nodeB:r})})),r.childrenAfterGroup.forEach((function(t){return e(t)})))}(e)}},t.prototype.getExistingPathForNode=function(e,t){for(var r=[],n=this.usingTreeData?e:e.parent;n&&n!==t.rootNode;)r.push({key:n.key,rowGroupColumn:n.rowGroupColumn,field:n.field}),n=n.parent;return r.reverse(),r},t.prototype.moveNodesInWrongPath=function(e,t,r){var n=this;e.forEach((function(e){t.changedPath.isActive()&&t.changedPath.addParentNode(e.parent);var i=function(e){return e.key},a=n.getExistingPathForNode(e,t).map(i),s=n.getGroupInfo(e,t).map(i);o._.areEqual(a,s)||n.moveNode(e,t,r)}))},t.prototype.moveNode=function(e,t,r){if(this.removeNodesInStages([e],t,r),this.insertOneNode(e,t,!0),e.setData(e.data),t.changedPath.isActive()){var n=e.parent;t.changedPath.addParentNode(n)}},t.prototype.removeNodes=function(e,t,r){this.removeNodesInStages(e,t,r),t.changedPath.isActive()&&e.forEach((function(e){return t.changedPath.addParentNode(e.parent)}))},t.prototype.removeNodesInStages=function(e,t,r){if(this.removeNodesFromParents(e,t,r),this.usingTreeData){this.postRemoveCreateFillerNodes(e,t);var n=e.map((function(e){return e.parent}));this.removeEmptyGroups(n,t)}},t.prototype.forEachParentGroup=function(e,t,r){for(var n=t;n&&n!==e.rootNode;)r(n),n=n.parent},t.prototype.removeNodesFromParents=function(e,t,r){var n=this,o=null==r,i=r||new Y;e.forEach((function(e){n.removeFromParent(e,i),n.forEachParentGroup(t,e.parent,(function(t){i.removeFromAllLeafChildren(t,e)}))})),o&&i.flush()},t.prototype.postRemoveCreateFillerNodes=function(e,t){var r=this;e.forEach((function(e){if(e.hasChildren()){var n=r.getExistingPathForNode(e,t),o=r.findParentForNode(e,n,t);o.expanded=e.expanded,o.allLeafChildren=e.allLeafChildren,o.childrenAfterGroup=e.childrenAfterGroup,o.childrenMapped=e.childrenMapped,o.updateHasChildren(),o.childrenAfterGroup.forEach((function(e){return e.parent=o}))}}))},t.prototype.removeEmptyGroups=function(e,t){for(var r=this,n=!0,o=function(){n=!1;var o=new Y;e.forEach((function(e){r.forEachParentGroup(t,e,(function(e){(function(e){var t=r.getChildrenMappedKey(e.key,e.rowGroupColumn),n=e.parent;return!(!n||!n.childrenMapped||!n.childrenMapped[t])&&!!e.isEmptyRowGroupNode()})(e)&&(n=!0,r.removeFromParent(e,o),e.setSelected(!1))}))})),o.flush()};n;)o()},t.prototype.removeFromParent=function(e,t){e.parent&&(t?t.removeFromChildrenAfterGroup(e.parent,e):(o._.removeFromArray(e.parent.childrenAfterGroup,e),e.parent.updateHasChildren()));var r=this.getChildrenMappedKey(e.key,e.rowGroupColumn);e.parent&&e.parent.childrenMapped&&(e.parent.childrenMapped[r]=void 0),e.setRowTop(null),e.setRowIndex(null)},t.prototype.addToParent=function(e,t){var r=this.getChildrenMappedKey(e.key,e.rowGroupColumn);t&&(null!=t.childrenMapped&&(t.childrenMapped[r]=e),t.childrenAfterGroup.push(e),t.updateHasChildren())},t.prototype.areGroupColsEqual=function(e,t){return null!=e&&null!=t&&e.pivotMode===t.pivotMode&&o._.areEqual(e.groupedCols,t.groupedCols)},t.prototype.checkAllGroupDataAfterColsChanged=function(e){var t=this;!function e(r){r&&r.forEach((function(r){if(!(!t.usingTreeData&&!r.group)){var n={field:r.field,key:r.key,rowGroupColumn:r.rowGroupColumn};t.setGroupData(r,n),e(r.childrenAfterGroup)}}))}(e.rootNode.childrenAfterGroup)},t.prototype.shotgunResetEverything=function(e,t){if(!this.noChangeInGroupingColumns(e,t)){this.selectionService.removeGroupsFromSelection();var r=e.rootNode,n=e.groupedCols;r.leafGroup=!this.usingTreeData&&0===n.length,r.childrenAfterGroup=[],r.childrenMapped={},r.updateHasChildren();var o=r.sibling;o&&(o.childrenAfterGroup=r.childrenAfterGroup,o.childrenMapped=r.childrenMapped),this.insertNodes(r.allLeafChildren,e,!1)}},t.prototype.noChangeInGroupingColumns=function(e,t){var r=!1,n=this.columnModel.getGroupDisplayColumns(),o=n?n.map((function(e){return e.getId()})).join("-"):"";return t&&(r=this.usingTreeData||this.areGroupColsEqual(e,this.oldGroupingDetails),this.oldGroupDisplayColIds!==o&&this.checkAllGroupDataAfterColsChanged(e)),this.oldGroupingDetails=e,this.oldGroupDisplayColIds=o,r},t.prototype.insertNodes=function(e,t,r){var n=this;e.forEach((function(e){n.insertOneNode(e,t,r),t.changedPath.isActive()&&t.changedPath.addParentNode(e.parent)}))},t.prototype.insertOneNode=function(e,t,r){var n=this.getGroupInfo(e,t),o=this.findParentForNode(e,n,t);o.group||console.warn("AG Grid: duplicate group keys for row data, keys should be unique",[o.data,e.data]),this.usingTreeData?this.swapGroupWithUserNode(o,e,r):(e.parent=o,e.level=n.length,o.childrenAfterGroup.push(e),o.updateHasChildren())},t.prototype.findParentForNode=function(e,t,r){var n=this,o=r.rootNode;return t.forEach((function(t,i){(o=n.getOrCreateNextNode(o,t,i,r)).allLeafChildren.push(e)})),o},t.prototype.swapGroupWithUserNode=function(e,t,r){t.parent=e.parent,t.key=e.key,t.field=e.field,t.groupData=e.groupData,t.level=e.level,r||(t.expanded=e.expanded),t.leafGroup=e.leafGroup,t.rowGroupIndex=e.rowGroupIndex,t.allLeafChildren=e.allLeafChildren,t.childrenAfterGroup=e.childrenAfterGroup,t.childrenMapped=e.childrenMapped,t.updateHasChildren(),this.removeFromParent(e),t.childrenAfterGroup.forEach((function(e){return e.parent=t})),this.addToParent(t,e.parent)},t.prototype.getOrCreateNextNode=function(e,t,r,n){var o=this.getChildrenMappedKey(t.key,t.rowGroupColumn),i=e.childrenMapped?e.childrenMapped[o]:void 0;return i||(i=this.createGroup(t,e,r,n),this.addToParent(i,e)),i},t.prototype.createGroup=function(e,t,r,n){var i=new o.RowNode(this.beans);return i.group=!0,i.field=e.field,i.rowGroupColumn=e.rowGroupColumn,this.setGroupData(i,e),i.id=o.RowNode.ID_PREFIX_ROW_GROUP+this.groupIdSequence.next(),i.key=e.key,i.level=r,i.leafGroup=!this.usingTreeData&&r===n.groupedColCount-1,i.allLeafChildren=[],i.setAllChildrenCount(0),i.rowGroupIndex=this.usingTreeData?null:r,i.childrenAfterGroup=[],i.childrenMapped={},i.updateHasChildren(),i.parent=n.includeParents?t:null,this.setExpandedInitialValue(n,i),i},t.prototype.setGroupData=function(e,t){var r=this;e.groupData={},this.columnModel.getGroupDisplayColumns().forEach((function(n){(r.usingTreeData||!!e.rowGroupColumn&&n.isRowGroupDisplayed(e.rowGroupColumn.getId()))&&(e.groupData[n.getColId()]=t.key)}))},t.prototype.getChildrenMappedKey=function(e,t){return t?t.getId()+"-"+e:e},t.prototype.setExpandedInitialValue=function(e,t){if(e.pivotMode&&t.leafGroup)t.expanded=!1;else{var r=this.gridOptionsWrapper.getIsGroupOpenByDefaultFunc();if(r){var n={rowNode:t,field:t.field,key:t.key,level:t.level,rowGroupColumn:t.rowGroupColumn};t.expanded=1==r(n)}else{var o=e.expandByDefault;-1!==e.expandByDefault?t.expanded=t.level<o:t.expanded=!0}}},t.prototype.getGroupInfo=function(e,t){return this.usingTreeData?this.getGroupInfoFromCallback(e):this.getGroupInfoFromGroupColumns(e,t)},t.prototype.getGroupInfoFromCallback=function(e){var t=this.getDataPath?this.getDataPath(e.data):null;null!==t&&void 0!==t&&0!==t.length||o._.doOnce((function(){return console.warn("AG Grid: getDataPath() should not return an empty path for data",e.data)}),"groupStage.getGroupInfoFromCallback");return t?t.map((function(e){return{key:e,field:null,rowGroupColumn:null}})):[]},t.prototype.getGroupInfoFromGroupColumns=function(e,t){var r=this,n=[];return t.groupedCols.forEach((function(o){var i=r.valueService.getKeyForNode(o,e),a=null!==i&&void 0!==i;if(t.pivotMode&&!a&&(i=" ",a=!0),a){var s={key:i,field:o.getColDef().field,rowGroupColumn:o};n.push(s)}})),n},K([o.Autowired("columnModel")],t.prototype,"columnModel",void 0),K([o.Autowired("selectableService")],t.prototype,"selectableService",void 0),K([o.Autowired("valueService")],t.prototype,"valueService",void 0),K([o.Autowired("beans")],t.prototype,"beans",void 0),K([o.Autowired("selectionService")],t.prototype,"selectionService",void 0),K([o.PostConstruct],t.prototype,"postConstruct",null),t=K([o.Bean("groupStage")],t)}(o.BeanStub),Q=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),J=function(){return J=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},J.apply(this,arguments)},ee=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},te=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},re=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(te(arguments[t]));return e},ne=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var r;return Q(t,e),r=t,t.prototype.createPivotColumnDefs=function(e){var t=this.columnModel.getPivotColumns(),r=this.columnModel.getValueColumns(),n=t.length,i=this.recursiveBuildGroup(0,e,[],n,t);var a=function e(t,r){return void 0===r&&(r=[]),t.forEach((function(t){void 0!==t.children?e(t.children,r):r.push(t)})),r}(i);return this.addRowGroupTotals(i,a,r),this.addExpandablePivotGroups(i,a),this.addPivotTotalsToGroups(i,a),{pivotColumnGroupDefs:i,pivotColumnDefs:a.map((function(e){return o._.cloneObject(e)}))}},t.prototype.recursiveBuildGroup=function(e,t,r,n,i){var a=this,s=this.columnModel.getValueColumns();if(e>=n)return this.buildMeasureCols(r);var l=i[e].getColDef(),u=this.headerNameComparator.bind(this,l.pivotComparator);if(1===s.length&&this.gridOptionsWrapper.isRemovePivotHeaderRowWhenSingleValueColumn()&&e===n-1){var c=[];return o._.iterateObject(t,(function(e){var t=re(r,[e]);c.push(J(J({},a.createColDef(s[0],e,t)),{columnGroupShow:"open"}))})),c.sort(u),c}var p=[];return o._.iterateObject(t,(function(t,o){var s=re(r,[t]);p.push({children:a.recursiveBuildGroup(e+1,o,s,n,i),headerName:t,pivotKeys:s,columnGroupShow:"open",groupId:a.generateColumnGroupId(s)})})),p.sort(u),p},t.prototype.buildMeasureCols=function(e){var t=this,r=this.columnModel.getValueColumns();return 0===r.length?[this.createColDef(null,"-",e)]:r.map((function(r){var n=t.columnModel.getDisplayNameForColumn(r,"header");return J(J({},t.createColDef(r,n,e)),{columnGroupShow:"open"})}))},t.prototype.addExpandablePivotGroups=function(e,t){var r=this;if(!this.gridOptionsWrapper.isSuppressExpandablePivotGroups()&&!this.gridOptionsWrapper.getPivotColumnGroupTotals()){var n=function e(t,n,o){var i=t;if(i.children){var a=new Map;i.children.forEach((function(t){e(t,n,a)}));var s=!i.children.some((function(e){return e.children}));r.columnModel.getValueColumns().forEach((function(e){var o=r.columnModel.getDisplayNameForColumn(e,"header"),i=r.createColDef(e,o,t.pivotKeys);(i.pivotTotalColumnIds=a.get(e.getColId()),i.columnGroupShow="closed",i.aggFunc=e.getAggFunc(),s)||(t.children.push(i),n.push(i))})),r.merge(o,a)}else{var l=t;if(!l.pivotValueColumn)return;var u=l.pivotValueColumn.getColId(),c=o.has(u)?o.get(u):[];c.push(l.colId),o.set(u,c)}};e.forEach((function(e){n(e,t,new Map)}))}},t.prototype.addPivotTotalsToGroups=function(e,t){var r=this;if(this.gridOptionsWrapper.getPivotColumnGroupTotals()){var n="after"===this.gridOptionsWrapper.getPivotColumnGroupTotals(),o=this.columnModel.getValueColumns(),i=o.map((function(e){return e.getAggFunc()}));if(i&&!(i.length<1)&&this.sameAggFuncs(i)){var a=o[0];e.forEach((function(e){r.recursivelyAddPivotTotal(e,t,a,n)}))}}},t.prototype.recursivelyAddPivotTotal=function(e,t,r,n){var o=this,i=e;if(!i.children){var a=e;return a.colId?[a.colId]:null}var s=[];if(i.children.forEach((function(e){var i=o.recursivelyAddPivotTotal(e,t,r,n);i&&(s=s.concat(i))})),i.children.length>1){var l=this.gridOptionsWrapper.getLocaleTextFunc()("pivotColumnGroupTotals","Total"),u=this.createColDef(r,l,e.pivotKeys,!0);u.pivotTotalColumnIds=s,u.aggFunc=r.getAggFunc();var c=e.children;n?c.push(u):c.unshift(u),t.push(u)}return s},t.prototype.addRowGroupTotals=function(e,t,r){var n=this;if(this.gridOptionsWrapper.getPivotRowTotals())for(var o="after"===this.gridOptionsWrapper.getPivotRowTotals(),i=o?r.slice():r.slice().reverse(),a=function(r){var a=i[r],l=[];e.forEach((function(e){l=l.concat(n.extractColIdsForValueColumn(e,a))})),s.createRowGroupTotal(e,t,a,l,o)},s=this,l=0;l<i.length;l++)a(l)},t.prototype.extractColIdsForValueColumn=function(e,t){var r=this,n=e;if(!n.children){var o=n;return o.pivotValueColumn===t&&o.colId?[o.colId]:[]}var i=[];return n.children.forEach((function(e){r.extractColIdsForValueColumn(e,t);var n=r.extractColIdsForValueColumn(e,t);i=i.concat(n)})),i},t.prototype.createRowGroupTotal=function(e,t,n,o,i){var a;if(0===this.columnModel.getValueColumns().length)a=this.createColDef(null,"-",[]);else{var s=this.columnModel.getDisplayNameForColumn(n,"header");(a=this.createColDef(n,s,[])).pivotTotalColumnIds=o}a.colId=r.PIVOT_ROW_TOTAL_PREFIX+a.colId,t.push(a),i?e.push(a):e.unshift(a)},t.prototype.createColDef=function(e,t,r,n){void 0===n&&(n=!1);var o={};if(e){var i=e.getColDef();Object.assign(o,i),o.hide=!1}return o.headerName=t,o.colId=this.generateColumnId(r||[],e&&!n?e.getColId():""),o.field=o.colId,o.pivotKeys=r,o.pivotValueColumn=e,!0===o.filter&&(o.filter="agNumberColumnFilter"),o},t.prototype.sameAggFuncs=function(e){if(1==e.length)return!0;for(var t=1;t<e.length;t++)if(e[t]!==e[0])return!1;return!0},t.prototype.headerNameComparator=function(e,t,r){return e?e(t.headerName,r.headerName):t.headerName&&!r.headerName?1:!t.headerName&&r.headerName?-1:t.headerName&&r.headerName?t.headerName<r.headerName?-1:t.headerName>r.headerName?1:0:0},t.prototype.merge=function(e,t){t.forEach((function(t,r,n){var o=e.has(r)?e.get(r):[],i=re(o,t);e.set(r,i)}))},t.prototype.generateColumnGroupId=function(e){return"pivotGroup_"+this.columnModel.getPivotColumns().map((function(e){return e.getColId()})).join("-")+"_"+e.join("-")},t.prototype.generateColumnId=function(e,t){return"pivot_"+this.columnModel.getPivotColumns().map((function(e){return e.getColId()})).join("-")+"_"+e.join("-")+"_"+t},t.PIVOT_ROW_TOTAL_PREFIX="PivotRowTotal_",ee([o.Autowired("columnModel")],t.prototype,"columnModel",void 0),t=r=ee([o.Bean("pivotColDefService")],t)}(o.BeanStub),oe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ie=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},ae=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.uniqueValues={},t}return oe(t,e),t.prototype.execute=function(e){var t=e.rowNode,r=e.changedPath;this.columnModel.isPivotActive()?this.executePivotOn(t,r):this.executePivotOff(r)},t.prototype.executePivotOff=function(e){this.aggregationColumnsHashLastTime=null,this.uniqueValues={},this.columnModel.isSecondaryColumnsPresent()&&(this.columnModel.setSecondaryColumns(null,"rowModelUpdated"),e&&e.setInactive())},t.prototype.executePivotOn=function(e,t){var r=this.bucketUpRowNodes(e),n=this.setUniqueValues(r),o=this.columnModel.getValueColumns(),i=o.map((function(e){return e.getId()+"-"+e.getColDef().headerName})).join("#"),a=o.map((function(e){return e.getAggFunc().toString()})).join("#"),s=this.aggregationColumnsHashLastTime!==i,l=this.aggregationFuncsHashLastTime!==a;if(this.aggregationColumnsHashLastTime=i,this.aggregationFuncsHashLastTime=a,n||s||l){var u=this.pivotColDefService.createPivotColumnDefs(this.uniqueValues),c=u.pivotColumnGroupDefs,p=u.pivotColumnDefs;this.pivotColumnDefs=p,this.columnModel.setSecondaryColumns(c,"rowModelUpdated"),t&&t.setInactive()}},t.prototype.setUniqueValues=function(e){return!!(JSON.stringify(e)!==JSON.stringify(this.uniqueValues))&&(this.uniqueValues=e,!0)},t.prototype.bucketUpRowNodes=function(e){var t=this,r={};return function e(n){n.leafGroup?t.bucketRowNode(n,r):n.childrenAfterFilter.forEach((function(t){e(t)}))}(e),r},t.prototype.bucketRowNode=function(e,t){var r=this.columnModel.getPivotColumns();0===r.length?e.childrenMapped=null:e.childrenMapped=this.bucketChildren(e.childrenAfterFilter,r,0,t),e.sibling&&(e.sibling.childrenMapped=e.childrenMapped)},t.prototype.bucketChildren=function(e,t,r,n){var i=this,a={},s=t[r];if(e.forEach((function(e){var t=i.valueService.getKeyForNode(s,e);o._.missing(t)&&(t=""),n[t]||(n[t]={}),a[t]||(a[t]=[]),a[t].push(e)})),r===t.length-1)return a;var l={};return o._.iterateObject(a,(function(e,o){l[e]=i.bucketChildren(o,t,r+1,n[e])})),l},t.prototype.getPivotColumnDefs=function(){return this.pivotColumnDefs},ie([o.Autowired("valueService")],t.prototype,"valueService",void 0),ie([o.Autowired("columnModel")],t.prototype,"columnModel",void 0),ie([o.Autowired("pivotColDefService")],t.prototype,"pivotColDefService",void 0),t=ie([o.Bean("pivotStage")],t)}(o.BeanStub),se=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),le=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},ue="undefined"===typeof BigInt?null:BigInt,ce=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.aggFuncsMap={},t.initialised=!1,t}var r;return se(t,e),r=t,t.prototype.init=function(){this.initialised||(this.initialiseWithDefaultAggregations(),this.addAggFuncs(this.gridOptionsWrapper.getAggFuncs()))},t.prototype.initialiseWithDefaultAggregations=function(){this.aggFuncsMap[r.AGG_SUM]=pe,this.aggFuncsMap[r.AGG_FIRST]=de,this.aggFuncsMap[r.AGG_LAST]=he,this.aggFuncsMap[r.AGG_MIN]=fe,this.aggFuncsMap[r.AGG_MAX]=ge,this.aggFuncsMap[r.AGG_COUNT]=ye,this.aggFuncsMap[r.AGG_AVG]=ve,this.initialised=!0},t.prototype.isAggFuncPossible=function(e,t){var r=this.getFuncNames(e),n=o._.includes(r,t),i=o._.exists(this.aggFuncsMap[t]);return n&&i},t.prototype.getDefaultAggFunc=function(e){var t=e.getColDef().defaultAggFunc;if(o._.exists(t)&&this.isAggFuncPossible(e,t))return t;if(this.isAggFuncPossible(e,r.AGG_SUM))return r.AGG_SUM;var n=this.getFuncNames(e);return o._.existsAndNotEmpty(n)?n[0]:null},t.prototype.addAggFuncs=function(e){o._.iterateObject(e,this.addAggFunc.bind(this))},t.prototype.addAggFunc=function(e,t){this.init(),this.aggFuncsMap[e]=t},t.prototype.getAggFunc=function(e){return this.init(),this.aggFuncsMap[e]},t.prototype.getFuncNames=function(e){var t=e.getColDef().allowedAggFuncs;return null==t?Object.keys(this.aggFuncsMap).sort():t},t.prototype.clear=function(){this.aggFuncsMap={}},t.AGG_SUM="sum",t.AGG_FIRST="first",t.AGG_LAST="last",t.AGG_MIN="min",t.AGG_MAX="max",t.AGG_COUNT="count",t.AGG_AVG="avg",le([o.PostConstruct],t.prototype,"init",null),t=r=le([o.Bean("aggFuncService")],t)}(o.BeanStub);function pe(e){for(var t=e.values,r=null,n=0;n<t.length;n++){var o=t[n];"number"===typeof o?null===r?r=o:r+=ue?"number"===typeof r?o:ue(o):o:"bigint"===typeof o&&(r=null===r?o:("bigint"===typeof r?r:ue(r))+o)}return r}function de(e){return e.values.length>0?e.values[0]:null}function he(e){return e.values.length>0?o._.last(e.values):null}function fe(e){for(var t=e.values,r=null,n=0;n<t.length;n++){var o=t[n];"number"!==typeof o&&"bigint"!==typeof o||!(null===r||r>o)||(r=o)}return r}function ge(e){for(var t=e.values,r=null,n=0;n<t.length;n++){var o=t[n];"number"!==typeof o&&"bigint"!==typeof o||!(null===r||r<o)||(r=o)}return r}function ye(e){for(var t=e.values,r=0,n=0;n<t.length;n++){var o=t[n];r+=null!=o&&"number"===typeof o.value?o.value:1}return{value:r,toString:function(){return this.value.toString()},toNumber:function(){return this.value}}}function ve(e){for(var t=e.values,r=0,n=0,o=0;o<t.length;o++){var i=t[o],a=null;"number"===typeof i||"bigint"===typeof i?(a=i,n++):null==i||"number"!==typeof i.value&&"bigint"!==typeof i.value||"number"!==typeof i.count||(a=ue?i.value*("number"===typeof i.value?i.count:ue(i.count)):i.value*i.count,n+=i.count),"number"===typeof a?r+=ue?"number"===typeof r?a:ue(a):a:"bigint"===typeof a&&(r=("bigint"===typeof r?r:ue(r))+a)}var s=null;return n>0&&(s=ue?r/("number"===typeof r?n:ue(n)):r/n),{count:n,value:s,toString:function(){return"number"===typeof this.value||"bigint"===typeof this.value?this.value.toString():""},toNumber:function(){return this.value}}}var me,be=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ce=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},we=function(e){function t(t,r,n,o,i){var a=e.call(this)||this;return a.column=t,a.dragSourceDropTarget=r,a.ghost=n,a.valueColumn=o,a.horizontal=i,a.popupShowing=!1,a}return be(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE);var e=this.getGui(),r=this.gridOptionsWrapper.isFunctionsReadOnly();this.addElementClasses(e),this.addElementClasses(this.eDragHandle,"drag-handle"),this.addElementClasses(this.eText,"text"),this.addElementClasses(this.eButton,"button"),this.eDragHandle.appendChild(o._.createIconNoSpan("columnDrag",this.gridOptionsWrapper)),this.eButton.appendChild(o._.createIconNoSpan("cancel",this.gridOptionsWrapper)),this.displayName=this.columnModel.getDisplayNameForColumn(this.column,"columnDrop"),this.setupComponents(),this.ghost||r||this.addDragSource();var n=this.gridOptionsWrapper.getLocaleTextFunc(),i=n("ariaDropZoneColumnComponentDescription","Press DELETE to remove"),a=this.getColumnAndAggFuncName(),s=a.name,l=a.aggFuncName,u="";this.valueColumn&&!r&&(u=n("ariaDropZoneColumnValueItemDescription","Press ENTER to change the aggregation type")),o._.setAriaLabel(e,l+" "+s+" "+i+" "+u),this.setupTooltip()},t.prototype.setupTooltip=function(){var e=this,t=function(){var t=e.column.getColDef().headerTooltip;e.setTooltip(t)};t(),this.addManagedListener(this.eventService,o.Events.EVENT_NEW_COLUMNS_LOADED,t)},t.prototype.addDragSource=function(){var e=this,t={type:o.DragSourceType.ToolPanel,eElement:this.eDragHandle,defaultIconName:o.DragAndDropService.ICON_HIDE,getDragItem:function(){return e.createDragItem()},dragItemName:this.displayName,dragSourceDropTarget:this.dragSourceDropTarget};this.dragAndDropService.addDragSource(t,!0),this.addDestroyFunc((function(){return e.dragAndDropService.removeDragSource(t)}))},t.prototype.createDragItem=function(){var e={};return e[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:e}},t.prototype.setupComponents=function(){this.setTextValue(),this.setupRemove(),this.ghost&&this.addCssClass("ag-column-drop-cell-ghost"),this.valueColumn&&!this.gridOptionsWrapper.isFunctionsReadOnly()&&this.addGuiEventListener("click",this.onShowAggFuncSelection.bind(this))},t.prototype.setupRemove=function(){var e=this;o._.setDisplayed(this.eButton,!this.gridOptionsWrapper.isFunctionsReadOnly());var r={type:t.EVENT_COLUMN_REMOVE};this.addGuiEventListener("keydown",(function(t){var n=t.key===o.KeyCode.ENTER;t.key===o.KeyCode.DELETE&&(t.preventDefault(),e.dispatchEvent(r)),n&&e.valueColumn&&!e.gridOptionsWrapper.isFunctionsReadOnly()&&(t.preventDefault(),e.onShowAggFuncSelection())})),this.addManagedListener(this.eButton,"click",(function(t){e.dispatchEvent(r),t.stopPropagation()}));var n=new o.TouchListener(this.eButton);this.addManagedListener(n,o.TouchListener.EVENT_TAP,(function(){e.dispatchEvent(r)})),this.addDestroyFunc(n.destroy.bind(n))},t.prototype.getColumnAndAggFuncName=function(){var e=this.displayName,t="";if(this.valueColumn){var r=this.column.getAggFunc(),n="string"===typeof r?r:"agg";t=this.gridOptionsWrapper.getLocaleTextFunc()(n,n)}return{name:e,aggFuncName:t}},t.prototype.setTextValue=function(){var e=this.getColumnAndAggFuncName(),t=e.name,r=e.aggFuncName,n=this.valueColumn?r+"("+t+")":t,i=o._.escapeString(n);this.eText.innerHTML=i},t.prototype.onShowAggFuncSelection=function(){var e=this;if(!this.popupShowing){this.popupShowing=!0;var t=new o.VirtualList("select-agg-func"),r=this.aggFuncService.getFuncNames(this.column),n=this.getGui(),i=t.getGui();t.setModel({getRow:function(e){return r[e]},getRowCount:function(){return r.length}}),this.getContext().createBean(t);var a=o._.loadTemplate('<div class="ag-select-agg-func-popup"></div>');a.style.top="0px",a.style.left="0px",a.appendChild(i),a.style.width=n.clientWidth+"px";var s=this.gridOptionsWrapper.getLocaleTextFunc(),l=this.popupService.addPopup({modal:!0,eChild:a,closeOnEsc:!0,closedCallback:function(){e.destroyBean(t),e.popupShowing=!1,n.focus()},ariaLabel:s("ariaLabelAggregationFunction","Aggregation Function")});l&&t.setComponentCreator(this.createAggSelect.bind(this,l.hideFunc)),t.addGuiEventListener("keydown",(function(e){if(e.key===o.KeyCode.ENTER||e.key===o.KeyCode.SPACE){var r=t.getLastFocusedRow();if(null==r)return;var n=t.getComponentAt(r);n&&n.selectItem()}})),this.popupService.positionPopupUnderComponent({type:"aggFuncSelect",eventSource:n,ePopup:a,keepWithinBounds:!0,column:this.column}),t.refresh();var u=r.findIndex((function(t){return t===e.column.getAggFunc()}));-1===u&&(u=0),t.focusRow(u)}},t.prototype.createAggSelect=function(e,t){var r=this,n=this.gridOptionsWrapper.getLocaleTextFunc(),i=t.toString(),a=n(i,i);return new xe((function(){if(e(),r.gridOptionsWrapper.isFunctionsPassive()){var n={type:o.Events.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST,columns:[r.column],aggFunc:t,api:r.gridApi,columnApi:r.columnApi};r.eventService.dispatchEvent(n)}else r.columnModel.setColumnAggFunc(r.column,t,"toolPanelDragAndDrop")}),a)},t.prototype.addElementClasses=function(e,t){t=t?"-"+t:"";var r=this.horizontal?"horizontal":"vertical";e.classList.add("ag-column-drop-cell"+t,"ag-column-drop-"+r+"-cell"+t)},t.EVENT_COLUMN_REMOVE="columnRemove",t.TEMPLATE='<span role="option" tabindex="0">\n          <span ref="eDragHandle" class="ag-drag-handle ag-column-drop-cell-drag-handle" role="presentation"></span>\n          <span ref="eText" class="ag-column-drop-cell-text" aria-hidden="true"></span>\n          <span ref="eButton" class="ag-column-drop-cell-button" role="presentation"></span>\n        </span>',Ce([o.Autowired("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Ce([o.Autowired("columnModel")],t.prototype,"columnModel",void 0),Ce([o.Autowired("popupService")],t.prototype,"popupService",void 0),Ce([o.Optional("aggFuncService")],t.prototype,"aggFuncService",void 0),Ce([o.Autowired("columnApi")],t.prototype,"columnApi",void 0),Ce([o.Autowired("gridApi")],t.prototype,"gridApi",void 0),Ce([o.RefSelector("eText")],t.prototype,"eText",void 0),Ce([o.RefSelector("eDragHandle")],t.prototype,"eDragHandle",void 0),Ce([o.RefSelector("eButton")],t.prototype,"eButton",void 0),Ce([o.PostConstruct],t.prototype,"init",null),t}(o.Component),xe=function(e){function t(t,r){var n=e.call(this,'<div class="ag-select-agg-func-item"/>')||this;return n.selectItem=t,n.getGui().innerText=r,n.addGuiEventListener("click",n.selectItem),n}return be(t,e),t}(o.Component),Se=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ee=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Oe=function(e){function t(r,n){var i=e.call(this,'<div class="ag-unselectable" aria-role="presentation"></div>')||this;return i.horizontal=r,i.valueColumn=n,i.state=t.STATE_NOT_DRAGGING,i.guiDestroyFunctions=[],i.childColumnComponents=[],i.resizeEnabled=!1,i.addElementClasses(i.getGui()),i.eColumnDropList=document.createElement("div"),i.addElementClasses(i.eColumnDropList,"list"),o._.setAriaRole(i.eColumnDropList,"listbox"),i}return Se(t,e),t.prototype.isHorizontal=function(){return this.horizontal},t.prototype.toggleResizable=function(e){this.positionableFeature.setResizable(!!e&&{bottom:!0}),this.resizeEnabled=e},t.prototype.setBeans=function(e){this.beans=e},t.prototype.destroy=function(){this.destroyGui(),e.prototype.destroy.call(this)},t.prototype.destroyGui=function(){this.guiDestroyFunctions.forEach((function(e){return e()})),this.guiDestroyFunctions.length=0,this.childColumnComponents.length=0,o._.clearElement(this.getGui()),o._.clearElement(this.eColumnDropList)},t.prototype.init=function(e){this.params=e,this.createManagedBean(new o.ManagedFocusFeature(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.addManagedListener(this.beans.eventService,o.Events.EVENT_NEW_COLUMNS_LOADED,this.refreshGui.bind(this)),this.addManagedListener(this.beans.gridOptionsWrapper,"functionsReadOnly",this.refreshGui.bind(this)),this.setupDropTarget(),this.positionableFeature=new o.PositionableFeature(this.getGui(),{minHeight:100}),this.createManagedBean(this.positionableFeature),this.refreshGui(),o._.setAriaLabel(this.eColumnDropList,this.getAriaLabel())},t.prototype.handleKeyDown=function(e){var t=!this.horizontal,r=e.key===o.KeyCode.DOWN,n=e.key===o.KeyCode.UP;if(!t){var i=this.gridOptionsWrapper.isEnableRtl();r=!i&&e.key===o.KeyCode.RIGHT||i&&e.key===o.KeyCode.LEFT,n=!i&&e.key===o.KeyCode.LEFT||i&&e.key===o.KeyCode.RIGHT}if(r||n){var a=this.focusService.findNextFocusableElement(this.getFocusableElement(),!1,n);a&&(e.preventDefault(),a.focus())}},t.prototype.addElementClasses=function(e,t){t=t?"-"+t:"";var r=this.horizontal?"horizontal":"vertical";e.classList.add("ag-column-drop"+t,"ag-column-drop-"+r+t)},t.prototype.setupDropTarget=function(){this.dropTarget={getContainer:this.getGui.bind(this),getIconName:this.getIconName.bind(this),onDragging:this.onDragging.bind(this),onDragEnter:this.onDragEnter.bind(this),onDragLeave:this.onDragLeave.bind(this),onDragStop:this.onDragStop.bind(this),isInterestedIn:this.isInterestedIn.bind(this)},this.beans.dragAndDropService.addDropTarget(this.dropTarget)},t.prototype.isInterestedIn=function(e){return e===o.DragSourceType.HeaderCell||e===o.DragSourceType.ToolPanel},t.prototype.checkInsertIndex=function(e){var t=this.horizontal?this.getNewHorizontalInsertIndex(e):this.getNewVerticalInsertIndex(e);if(t<0)return!1;var r=t!==this.insertIndex;return r&&(this.insertIndex=t),r},t.prototype.getNewHorizontalInsertIndex=function(e){if(o._.missing(e.hDirection))return-1;var t=0,r=e.event,n=this.beans.gridOptionsWrapper.isEnableRtl(),i=e.hDirection===o.HorizontalDirection.Left,a=r.clientX;return this.childColumnComponents.forEach((function(e){var r=e.getGui().getBoundingClientRect(),o=i?r.right:r.left;(n?a<=o:a>=o)&&t++})),t},t.prototype.getNewVerticalInsertIndex=function(e){if(o._.missing(e.vDirection))return-1;var t=0,r=e.event;return this.childColumnComponents.forEach((function(n){var i=n.getGui().getBoundingClientRect();r.clientY>=(e.vDirection===o.VerticalDirection.Down?i.top:i.bottom)&&t++})),t},t.prototype.checkDragStartedBySelf=function(e){this.state===t.STATE_NOT_DRAGGING&&(this.state=t.STATE_REARRANGE_COLUMNS,this.potentialDndColumns=e.dragSource.getDragItem().columns||[],this.refreshGui(),this.checkInsertIndex(e),this.refreshGui())},t.prototype.onDragging=function(e){this.checkDragStartedBySelf(e),this.checkInsertIndex(e)&&this.refreshGui()},t.prototype.onDragEnter=function(e){var r=e.dragSource.getDragItem().columns||[];this.state=t.STATE_NEW_COLUMNS_IN;var n=r.filter(this.isColumnDroppable.bind(this));n.length>0&&(this.potentialDndColumns=n,this.checkInsertIndex(e),this.refreshGui())},t.prototype.isPotentialDndColumns=function(){return o._.existsAndNotEmpty(this.potentialDndColumns)},t.prototype.onDragLeave=function(e){if(this.state===t.STATE_REARRANGE_COLUMNS){var r=e.dragSource.getDragItem().columns||[];this.removeColumns(r)}this.isPotentialDndColumns()&&(this.potentialDndColumns=[],this.refreshGui()),this.state=t.STATE_NOT_DRAGGING},t.prototype.onDragStop=function(){if(this.isPotentialDndColumns()){var e=!1;this.state===t.STATE_NEW_COLUMNS_IN?(this.addColumns(this.potentialDndColumns),e=!0):e=this.rearrangeColumns(this.potentialDndColumns),this.potentialDndColumns=[],this.beans.gridOptionsWrapper.isFunctionsPassive()&&e||this.refreshGui()}this.state=t.STATE_NOT_DRAGGING},t.prototype.removeColumns=function(e){var t=this.getExistingColumns().filter((function(t){return!o._.includes(e,t)}));this.updateColumns(t)},t.prototype.addColumns=function(e){if(e){var t=this.getExistingColumns().slice(),r=e.filter((function(e){return t.indexOf(e)<0}));o._.insertArrayIntoArray(t,r,this.insertIndex),this.updateColumns(t)}},t.prototype.rearrangeColumns=function(e){var t=this.getNonGhostColumns().slice();return o._.insertArrayIntoArray(t,e,this.insertIndex),!o._.areEqual(t,this.getExistingColumns())&&(this.updateColumns(t),!0)},t.prototype.refreshGui=function(){var e=this.eColumnDropList.scrollTop,t=this.resizeEnabled,r=this.getFocusedItem(),n=this.focusService.findNextFocusableElement();n||(n=this.focusService.findNextFocusableElement(void 0,!1,!0)),this.toggleResizable(!1),this.destroyGui(),this.addIconAndTitleToGui(),this.addEmptyMessageToGui(),this.addColumnsToGui(),this.isHorizontal()||(this.eColumnDropList.scrollTop=e),t&&this.toggleResizable(t),this.restoreFocus(r,n)},t.prototype.getFocusedItem=function(){var e=this.getGui(),t=this.gridOptionsWrapper.getDocument().activeElement;return e.contains(t)?Array.from(e.querySelectorAll(".ag-column-drop-cell")).indexOf(t):-1},t.prototype.restoreFocus=function(e,t){var r=this.getGui(),n=Array.from(r.querySelectorAll(".ag-column-drop-cell"));if(-1!==e){0===n.length&&t.focus();var o=n[Math.min(n.length-1,e)];o&&o.focus()}},t.prototype.getNonGhostColumns=function(){var e=this,t=this.getExistingColumns();return this.isPotentialDndColumns()?t.filter((function(t){return!o._.includes(e.potentialDndColumns,t)})):t},t.prototype.addColumnsToGui=function(){var e=this,t=this.getNonGhostColumns(),r=this.isPotentialDndColumns(),n=[];t.forEach((function(t,o){if(!(r&&o>=e.insertIndex)){var i=e.createColumnComponent(t,!1);n.push(i)}})),this.isPotentialDndColumns()&&(this.potentialDndColumns.forEach((function(t){var r=e.createColumnComponent(t,!0);n.push(r)})),t.forEach((function(t,r){if(!(r<e.insertIndex)){var o=e.createColumnComponent(t,!1);n.push(o)}}))),this.appendChild(this.eColumnDropList),n.forEach((function(t,r){r>0&&e.addArrow(e.eColumnDropList),e.eColumnDropList.appendChild(t.getGui())})),this.addAriaLabelsToComponents()},t.prototype.addAriaLabelsToComponents=function(){var e=this;this.childColumnComponents.forEach((function(t,r){var n=t.getGui();o._.setAriaPosInSet(n,r+1),o._.setAriaSetSize(n,e.childColumnComponents.length)}))},t.prototype.createColumnComponent=function(e,t){var r=this,n=new we(e,this.dropTarget,t,this.valueColumn,this.horizontal);return n.addEventListener(we.EVENT_COLUMN_REMOVE,this.removeColumns.bind(this,[e])),this.beans.context.createBean(n),this.guiDestroyFunctions.push((function(){return r.destroyBean(n)})),t||this.childColumnComponents.push(n),n},t.prototype.addIconAndTitleToGui=function(){var e=this.params.icon,t=document.createElement("div");if(t.setAttribute("aria-hidden","true"),this.addElementClasses(t,"title-bar"),this.addElementClasses(e,"icon"),this.addOrRemoveCssClass("ag-column-drop-empty",this.isExistingColumnsEmpty()),t.appendChild(e),!this.horizontal){var r=document.createElement("span");this.addElementClasses(r,"title"),r.innerHTML=this.params.title,t.appendChild(r)}this.appendChild(t)},t.prototype.isExistingColumnsEmpty=function(){return 0===this.getExistingColumns().length},t.prototype.addEmptyMessageToGui=function(){if(this.isExistingColumnsEmpty()&&!this.isPotentialDndColumns()){var e=document.createElement("span");e.innerHTML=this.params.emptyMessage,this.addElementClasses(e,"empty-message"),this.eColumnDropList.appendChild(e)}},t.prototype.addArrow=function(e){if(this.horizontal){var t=this.beans.gridOptionsWrapper.isEnableRtl(),r=o._.createIconNoSpan(t?"smallLeft":"smallRight",this.beans.gridOptionsWrapper);this.addElementClasses(r,"cell-separator"),e.appendChild(r)}},t.STATE_NOT_DRAGGING="notDragging",t.STATE_NEW_COLUMNS_IN="newColumnsIn",t.STATE_REARRANGE_COLUMNS="rearrangeColumns",Ee([o.Autowired("focusService")],t.prototype,"focusService",void 0),t}(o.Component),_e=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Pe=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Re=function(e){function t(t){return e.call(this,t,!1)||this}return _e(t,e),t.prototype.passBeansUp=function(){e.prototype.setBeans.call(this,{gridOptionsWrapper:this.gridOptionsWrapper,eventService:this.eventService,context:this.getContext(),loggerFactory:this.loggerFactory,dragAndDropService:this.dragAndDropService});var t=this.gridOptionsWrapper.getLocaleTextFunc(),r=t("rowGroupColumnsEmptyMessage","Drag here to set row groups"),n=t("groups","Row Groups");e.prototype.init.call(this,{dragAndDropIcon:o.DragAndDropService.ICON_GROUP,icon:o._.createIconNoSpan("rowGroupPanel",this.gridOptionsWrapper,null),emptyMessage:r,title:n}),this.addManagedListener(this.eventService,o.Events.EVENT_COLUMN_ROW_GROUP_CHANGED,this.refreshGui.bind(this))},t.prototype.getAriaLabel=function(){return this.gridOptionsWrapper.getLocaleTextFunc()("ariaRowGroupDropZonePanelLabel","Row Groups")},t.prototype.getTooltipParams=function(){var t=e.prototype.getTooltipParams.call(this);return t.location="rowGroupColumnsList",t},t.prototype.isColumnDroppable=function(e){return!(this.gridOptionsWrapper.isFunctionsReadOnly()||!e.isPrimary())&&(e.isAllowRowGroup()&&!e.isRowGroupActive())},t.prototype.updateColumns=function(e){if(this.gridOptionsWrapper.isFunctionsPassive()){var t={type:o.Events.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST,columns:e,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(t)}else this.columnModel.setRowGroupColumns(e,"toolPanelUi")},t.prototype.getIconName=function(){return this.isPotentialDndColumns()?o.DragAndDropService.ICON_GROUP:o.DragAndDropService.ICON_NOT_ALLOWED},t.prototype.getExistingColumns=function(){return this.columnModel.getRowGroupColumns()},Pe([o.Autowired("columnModel")],t.prototype,"columnModel",void 0),Pe([o.Autowired("loggerFactory")],t.prototype,"loggerFactory",void 0),Pe([o.Autowired("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Pe([o.Autowired("columnApi")],t.prototype,"columnApi",void 0),Pe([o.Autowired("gridApi")],t.prototype,"gridApi",void 0),Pe([o.PostConstruct],t.prototype,"passBeansUp",null),t}(Oe),Ae=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Te=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},De=function(e){function t(t){return e.call(this,t,!1)||this}return Ae(t,e),t.prototype.passBeansUp=function(){e.prototype.setBeans.call(this,{gridOptionsWrapper:this.gridOptionsWrapper,eventService:this.eventService,context:this.getContext(),loggerFactory:this.loggerFactory,dragAndDropService:this.dragAndDropService});var t=this.gridOptionsWrapper.getLocaleTextFunc(),r=t("pivotColumnsEmptyMessage","Drag here to set column labels"),n=t("pivots","Column Labels");e.prototype.init.call(this,{dragAndDropIcon:o.DragAndDropService.ICON_GROUP,icon:o._.createIconNoSpan("pivotPanel",this.gridOptionsWrapper,null),emptyMessage:r,title:n}),this.addManagedListener(this.eventService,o.Events.EVENT_NEW_COLUMNS_LOADED,this.refresh.bind(this)),this.addManagedListener(this.eventService,o.Events.EVENT_COLUMN_PIVOT_CHANGED,this.refresh.bind(this)),this.addManagedListener(this.eventService,o.Events.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.checkVisibility.bind(this)),this.refresh()},t.prototype.getAriaLabel=function(){return this.gridOptionsWrapper.getLocaleTextFunc()("ariaPivotDropZonePanelLabel","Column Labels")},t.prototype.getTooltipParams=function(){var t=e.prototype.getTooltipParams.call(this);return t.location="pivotColumnsList",t},t.prototype.refresh=function(){this.checkVisibility(),this.refreshGui()},t.prototype.checkVisibility=function(){var e=this.columnModel.isPivotMode();if(this.isHorizontal())switch(this.gridOptionsWrapper.getPivotPanelShow()){case"always":this.setDisplayed(e);break;case"onlyWhenPivoting":var t=this.columnModel.isPivotActive();this.setDisplayed(e&&t);break;default:this.setDisplayed(!1)}else this.setDisplayed(e)},t.prototype.isColumnDroppable=function(e){return!(this.gridOptionsWrapper.isFunctionsReadOnly()||!e.isPrimary())&&(e.isAllowPivot()&&!e.isPivotActive())},t.prototype.updateColumns=function(e){if(this.gridOptionsWrapper.isFunctionsPassive()){var t={type:o.Events.EVENT_COLUMN_PIVOT_CHANGE_REQUEST,columns:e,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(t)}else this.columnModel.setPivotColumns(e,"toolPanelUi")},t.prototype.getIconName=function(){return this.isPotentialDndColumns()?o.DragAndDropService.ICON_PIVOT:o.DragAndDropService.ICON_NOT_ALLOWED},t.prototype.getExistingColumns=function(){return this.columnModel.getPivotColumns()},Te([o.Autowired("columnModel")],t.prototype,"columnModel",void 0),Te([o.Autowired("loggerFactory")],t.prototype,"loggerFactory",void 0),Te([o.Autowired("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Te([o.Autowired("columnApi")],t.prototype,"columnApi",void 0),Te([o.Autowired("gridApi")],t.prototype,"gridApi",void 0),Te([o.PostConstruct],t.prototype,"passBeansUp",null),t}(Oe),Me=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ke=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Ne=function(e){function t(){return e.call(this)||this}return Me(t,e),t.prototype.postConstruct=function(){this.setGui(this.createNorthPanel()),this.addManagedListener(this.eventService,o.Events.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,o.Events.EVENT_NEW_COLUMNS_LOADED,this.onRowGroupChanged.bind(this)),this.onRowGroupChanged()},t.prototype.createNorthPanel=function(){var e=document.createElement("div"),t=this.onDropPanelVisible.bind(this);return e.classList.add("ag-column-drop-wrapper"),o._.setAriaRole(e,"presentation"),this.rowGroupComp=new Re(!0),this.createManagedBean(this.rowGroupComp),this.pivotComp=new De(!0),this.createManagedBean(this.pivotComp),e.appendChild(this.rowGroupComp.getGui()),e.appendChild(this.pivotComp.getGui()),this.addManagedListener(this.rowGroupComp,o.Component.EVENT_DISPLAYED_CHANGED,t),this.addManagedListener(this.pivotComp,o.Component.EVENT_DISPLAYED_CHANGED,t),this.onDropPanelVisible(),e},t.prototype.onDropPanelVisible=function(){var e=this.rowGroupComp.isDisplayed()&&this.pivotComp.isDisplayed();this.rowGroupComp.addOrRemoveCssClass("ag-column-drop-horizontal-half-width",e),this.pivotComp.addOrRemoveCssClass("ag-column-drop-horizontal-half-width",e)},t.prototype.onRowGroupChanged=function(){if(this.rowGroupComp){var e=this.gridOptionsWrapper.getRowGroupPanelShow();if(e===o.Constants.ALWAYS)this.rowGroupComp.setDisplayed(!0);else if(e===o.Constants.ONLY_WHEN_GROUPING){var t=!this.columnModel.isRowGroupEmpty();this.rowGroupComp.setDisplayed(t)}else this.rowGroupComp.setDisplayed(!1)}},ke([o.Autowired("columnModel")],t.prototype,"columnModel",void 0),ke([o.PostConstruct],t.prototype,"postConstruct",null),t}(o.Component),Ie=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Le=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Fe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ie(t,e),t.prototype.execute=function(e){var t=this,r=this.columnModel.isPivotMode(),n=this.filterManager.isAggregateFilterPresent(),o=this.gridOptionsWrapper.getGroupAggFiltering()||(r?function(e){return e.node.leafGroup}:function(e){return!e.node.group}),i=e.changedPath,a=function e(r,n){void 0===n&&(n=!1),r.childrenAfterFilter&&(r.childrenAfterAggFilter=r.childrenAfterFilter,n&&r.childrenAfterAggFilter.forEach((function(t){return e(t,n)})),t.setAllChildrenCount(r)),r.sibling&&(r.sibling.childrenAfterAggFilter=r.childrenAfterAggFilter)};i.forEachChangedNodeDepthFirst(n?function(e){var r;e.childrenAfterAggFilter=(null===(r=e.childrenAfterFilter)||void 0===r?void 0:r.filter((function(e){var r;if(o({node:e})&&t.filterManager.doesRowPassAggregateFilters({rowNode:e}))return a(e,!0),!0;return null===(r=e.childrenAfterAggFilter)||void 0===r?void 0:r.length})))||null,t.setAllChildrenCount(e),e.sibling&&(e.sibling.childrenAfterAggFilter=e.childrenAfterAggFilter)}:a,!0)},t.prototype.setAllChildrenCountTreeData=function(e){var t=0;e.childrenAfterAggFilter.forEach((function(e){t++,t+=e.allChildrenCount})),e.setAllChildrenCount(t)},t.prototype.setAllChildrenCountGridGrouping=function(e){var t=0;e.childrenAfterAggFilter.forEach((function(e){e.group?t+=e.allChildrenCount:t++})),e.setAllChildrenCount(t)},t.prototype.setAllChildrenCount=function(e){e.hasChildren()?this.gridOptionsWrapper.isTreeData()?this.setAllChildrenCountTreeData(e):this.setAllChildrenCountGridGrouping(e):e.setAllChildrenCount(null)},Le([o.Autowired("filterManager")],t.prototype,"filterManager",void 0),Le([o.Autowired("columnModel")],t.prototype,"columnModel",void 0),t=Le([o.Bean("filterAggregatesStage")],t)}(o.BeanStub),Ge={moduleName:o.ModuleNames.RowGroupingModule,beans:[U,Fe,Z,ne,ae,ce],agStackComponents:[{componentName:"AgGridHeaderDropZones",componentClass:Ne}],dependantModules:[g]},Be=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),We=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},He=function(e){function t(t){return e.call(this,t,!0)||this}return Be(t,e),t.prototype.passBeansUp=function(){e.prototype.setBeans.call(this,{gridOptionsWrapper:this.gridOptionsWrapper,eventService:this.eventService,context:this.getContext(),loggerFactory:this.loggerFactory,dragAndDropService:this.dragAndDropService});var t=this.gridOptionsWrapper.getLocaleTextFunc(),r=t("valueColumnsEmptyMessage","Drag here to aggregate"),n=t("values","Values");e.prototype.init.call(this,{dragAndDropIcon:o.DragAndDropService.ICON_AGGREGATE,icon:o._.createIconNoSpan("valuePanel",this.gridOptionsWrapper,null),emptyMessage:r,title:n}),this.addManagedListener(this.eventService,o.Events.EVENT_COLUMN_VALUE_CHANGED,this.refreshGui.bind(this))},t.prototype.getAriaLabel=function(){return this.gridOptionsWrapper.getLocaleTextFunc()("ariaValuesDropZonePanelLabel","Values")},t.prototype.getTooltipParams=function(){var t=e.prototype.getTooltipParams.call(this);return t.location="valueColumnsList",t},t.prototype.getIconName=function(){return this.isPotentialDndColumns()?o.DragAndDropService.ICON_AGGREGATE:o.DragAndDropService.ICON_NOT_ALLOWED},t.prototype.isColumnDroppable=function(e){return!(this.gridOptionsWrapper.isFunctionsReadOnly()||!e.isPrimary())&&(e.isAllowValue()&&!e.isValueActive())},t.prototype.updateColumns=function(e){if(this.gridOptionsWrapper.isFunctionsPassive()){var t={type:o.Events.EVENT_COLUMN_VALUE_CHANGE_REQUEST,columns:e,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(t)}else this.columnModel.setValueColumns(e,"toolPanelUi")},t.prototype.getExistingColumns=function(){return this.columnModel.getValueColumns()},We([o.Autowired("columnModel")],t.prototype,"columnModel",void 0),We([o.Autowired("loggerFactory")],t.prototype,"loggerFactory",void 0),We([o.Autowired("dragAndDropService")],t.prototype,"dragAndDropService",void 0),We([o.Autowired("columnApi")],t.prototype,"columnApi",void 0),We([o.Autowired("gridApi")],t.prototype,"gridApi",void 0),We([o.PostConstruct],t.prototype,"passBeansUp",null),t}(Oe),je=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ve=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},ze=function(e){function t(){return e.call(this,t.TEMPLATE)||this}return je(t,e),t.prototype.postConstruct=function(){this.initialiseTabGuard({})},t.prototype.init=function(e,t,r){this.allowDragging=e,this.params=t,this.eventType=r,this.primaryColsHeaderPanel.init(this.params);var n=this.params.suppressColumnFilter,i=this.params.suppressColumnSelectAll;this.params.suppressColumnExpandAll&&n&&i&&this.primaryColsHeaderPanel.setDisplayed(!1),this.addManagedListener(this.primaryColsListPanel,"groupExpanded",this.onGroupExpanded.bind(this)),this.addManagedListener(this.primaryColsListPanel,"selectionChanged",this.onSelectionChange.bind(this)),this.primaryColsListPanel.init(this.params,this.allowDragging,this.eventType),this.addManagedListener(this.primaryColsHeaderPanel,"expandAll",this.onExpandAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"collapseAll",this.onCollapseAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"selectAll",this.onSelectAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"unselectAll",this.onUnselectAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"filterChanged",this.onFilterChanged.bind(this)),this.positionableFeature=new o.PositionableFeature(this.getGui(),{minHeight:100}),this.createManagedBean(this.positionableFeature)},t.prototype.toggleResizable=function(e){this.positionableFeature.setResizable(!!e&&{bottom:!0})},t.prototype.onExpandAll=function(){this.primaryColsListPanel.doSetExpandedAll(!0)},t.prototype.onCollapseAll=function(){this.primaryColsListPanel.doSetExpandedAll(!1)},t.prototype.expandGroups=function(e){this.primaryColsListPanel.setGroupsExpanded(!0,e)},t.prototype.collapseGroups=function(e){this.primaryColsListPanel.setGroupsExpanded(!1,e)},t.prototype.setColumnLayout=function(e){this.primaryColsListPanel.setColumnLayout(e)},t.prototype.onFilterChanged=function(e){this.primaryColsListPanel.setFilterText(e.filterText)},t.prototype.syncLayoutWithGrid=function(){this.primaryColsListPanel.onColumnsChanged()},t.prototype.onSelectAll=function(){this.primaryColsListPanel.doSetSelectedAll(!0)},t.prototype.onUnselectAll=function(){this.primaryColsListPanel.doSetSelectedAll(!1)},t.prototype.onGroupExpanded=function(e){this.primaryColsHeaderPanel.setExpandState(e.state)},t.prototype.onSelectionChange=function(e){this.primaryColsHeaderPanel.setSelectionState(e.state)},t.TEMPLATE='<div class="ag-column-select">\n            <ag-primary-cols-header ref="primaryColsHeaderPanel"></ag-primary-cols-header>\n            <ag-primary-cols-list ref="primaryColsListPanel"></ag-primary-cols-list>\n        </div>',Ve([o.RefSelector("primaryColsHeaderPanel")],t.prototype,"primaryColsHeaderPanel",void 0),Ve([o.RefSelector("primaryColsListPanel")],t.prototype,"primaryColsListPanel",void 0),Ve([o.PostConstruct],t.prototype,"postConstruct",null),t}(o.TabGuardComp),Ue=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ye=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Xe=function(e){function t(){var r=e.call(this,t.TEMPLATE)||this;return r.initialised=!1,r.childDestroyFuncs=[],r}return Ue(t,e),t.prototype.setVisible=function(t){e.prototype.setDisplayed.call(this,t),t&&!this.initialised&&this.init(this.params)},t.prototype.init=function(e){var t=this,r={suppressColumnMove:!1,suppressColumnSelectAll:!1,suppressColumnFilter:!1,suppressColumnExpandAll:!1,contractColumnSelection:!1,suppressPivotMode:!1,suppressRowGroups:!1,suppressValues:!1,suppressPivots:!1,suppressSyncLayoutWithGrid:!1,api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()};if(o._.mergeDeep(r,e),this.params=r,this.isRowGroupingModuleLoaded()&&!this.params.suppressPivotMode&&(this.pivotModePanel=this.createBean(new j),this.childDestroyFuncs.push((function(){return t.destroyBean(t.pivotModePanel)})),this.appendChild(this.pivotModePanel)),this.primaryColsPanel=this.createBean(new ze),this.childDestroyFuncs.push((function(){return t.destroyBean(t.primaryColsPanel)})),this.primaryColsPanel.init(!0,this.params,"toolPanelUi"),this.primaryColsPanel.addCssClass("ag-column-panel-column-select"),this.appendChild(this.primaryColsPanel),this.isRowGroupingModuleLoaded()){this.params.suppressRowGroups||(this.rowGroupDropZonePanel=this.createBean(new Re(!1)),this.childDestroyFuncs.push((function(){return t.destroyBean(t.rowGroupDropZonePanel)})),this.appendChild(this.rowGroupDropZonePanel)),this.params.suppressValues||(this.valuesDropZonePanel=this.createBean(new He(!1)),this.childDestroyFuncs.push((function(){return t.destroyBean(t.valuesDropZonePanel)})),this.appendChild(this.valuesDropZonePanel)),this.params.suppressPivots||(this.pivotDropZonePanel=this.createBean(new De(!1)),this.childDestroyFuncs.push((function(){return t.destroyBean(t.pivotDropZonePanel)})),this.appendChild(this.pivotDropZonePanel)),this.setLastVisible();var n=this.addManagedListener(this.eventService,o.Events.EVENT_COLUMN_PIVOT_MODE_CHANGED,(function(){t.resetChildrenHeight(),t.setLastVisible()}));this.childDestroyFuncs.push((function(){return n()}))}this.initialised=!0},t.prototype.setPivotModeSectionVisible=function(e){var t=this;this.isRowGroupingModuleLoaded()&&(this.pivotModePanel?this.pivotModePanel.setDisplayed(e):e&&(this.pivotModePanel=this.createBean(new j),this.getGui().insertBefore(this.pivotModePanel.getGui(),this.getGui().firstChild),this.childDestroyFuncs.push((function(){return t.destroyBean(t.pivotModePanel)}))),this.setLastVisible())},t.prototype.setRowGroupsSectionVisible=function(e){this.isRowGroupingModuleLoaded()&&(this.rowGroupDropZonePanel?this.rowGroupDropZonePanel.setDisplayed(e):e&&(this.rowGroupDropZonePanel=this.createManagedBean(new Re(!1)),this.appendChild(this.rowGroupDropZonePanel)),this.setLastVisible())},t.prototype.setValuesSectionVisible=function(e){this.isRowGroupingModuleLoaded()&&(this.valuesDropZonePanel?this.valuesDropZonePanel.setDisplayed(e):e&&(this.valuesDropZonePanel=this.createManagedBean(new He(!1)),this.appendChild(this.valuesDropZonePanel)),this.setLastVisible())},t.prototype.setPivotSectionVisible=function(e){this.isRowGroupingModuleLoaded()&&(this.pivotDropZonePanel?this.pivotDropZonePanel.setDisplayed(e):e&&(this.pivotDropZonePanel=this.createManagedBean(new De(!1)),this.appendChild(this.pivotDropZonePanel),this.pivotDropZonePanel.setDisplayed(e)),this.setLastVisible())},t.prototype.setResizers=function(){[this.primaryColsPanel,this.rowGroupDropZonePanel,this.valuesDropZonePanel,this.pivotDropZonePanel].forEach((function(e){if(e){var t=e.getGui();e.toggleResizable(!t.classList.contains("ag-last-column-drop")&&!t.classList.contains("ag-hidden"))}}))},t.prototype.setLastVisible=function(){var e=this.getGui();Array.prototype.slice.call(e.querySelectorAll(".ag-column-drop")).forEach((function(e){return e.classList.remove("ag-last-column-drop")}));var t=e.querySelectorAll(".ag-column-drop:not(.ag-hidden)"),r=o._.last(t);r&&r.classList.add("ag-last-column-drop"),this.setResizers()},t.prototype.resetChildrenHeight=function(){for(var e=this.getGui().children,t=0;t<e.length;t++){var r=e[t];r.style.removeProperty("height"),r.style.removeProperty("flex")}},t.prototype.isRowGroupingModuleLoaded=function(){return o.ModuleRegistry.assertRegistered(o.ModuleNames.RowGroupingModule,"Row Grouping")},t.prototype.expandColumnGroups=function(e){this.primaryColsPanel.expandGroups(e)},t.prototype.collapseColumnGroups=function(e){this.primaryColsPanel.collapseGroups(e)},t.prototype.setColumnLayout=function(e){this.primaryColsPanel.setColumnLayout(e)},t.prototype.syncLayoutWithGrid=function(){this.primaryColsPanel.syncLayoutWithGrid()},t.prototype.destroyChildren=function(){this.childDestroyFuncs.forEach((function(e){return e()})),this.childDestroyFuncs.length=0,o._.clearElement(this.getGui())},t.prototype.refresh=function(){this.destroyChildren(),this.init(this.params)},t.prototype.destroy=function(){this.destroyChildren(),e.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-column-panel"></div>',Ye([o.Autowired("gridApi")],t.prototype,"gridApi",void 0),Ye([o.Autowired("columnApi")],t.prototype,"columnApi",void 0),t}(o.Component),Ke=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),qe=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},$e=function(e){function t(){var t=e.call(this,'<div class="ag-tool-panel-horizontal-resize"></div>')||this;return t.minWidth=100,t.maxWidth=null,t}return Ke(t,e),t.prototype.setElementToResize=function(e){this.elementToResize=e},t.prototype.postConstruct=function(){var e=this.horizontalResizeService.addResizeBar({eResizeBar:this.getGui(),dragStartPixels:1,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this),onResizeEnd:this.onResizing.bind(this)});this.addDestroyFunc(e),this.setInverted(this.gridOptionsWrapper.isEnableRtl())},t.prototype.onResizeStart=function(){this.startingWidth=this.elementToResize.offsetWidth},t.prototype.onResizing=function(e){var t=this.inverted?-1:1,r=Math.max(this.minWidth,Math.floor(this.startingWidth-e*t));null!=this.maxWidth&&(r=Math.min(this.maxWidth,r)),this.elementToResize.style.width=r+"px"},t.prototype.setInverted=function(e){this.inverted=e},t.prototype.setMaxWidth=function(e){this.maxWidth=e},t.prototype.setMinWidth=function(e){this.minWidth=null!=e?e:100},qe([o.Autowired("horizontalResizeService")],t.prototype,"horizontalResizeService",void 0),qe([o.PostConstruct],t.prototype,"postConstruct",null),t}(o.Component),Ze=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Qe=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Je=function(e){function t(t){var r=e.call(this)||this;return r.toolPanelDef=t,r}return Ze(t,e),t.prototype.getToolPanelId=function(){return this.toolPanelDef.id},t.prototype.postConstruct=function(){var e=this.createTemplate();this.setTemplate(e),this.eIconWrapper.insertAdjacentElement("afterbegin",o._.createIconNoSpan(this.toolPanelDef.iconKey,this.gridOptionsWrapper)),this.addManagedListener(this.eToggleButton,"click",this.onButtonPressed.bind(this))},t.prototype.createTemplate=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),t=this.toolPanelDef;return'<div class="ag-side-button" role="presentation">\n                <button type="button" ref="eToggleButton" tabindex="-1" role="tab" class="ag-side-button-button">\n                    <div ref="eIconWrapper" class="ag-side-button-icon-wrapper" aria-hidden="true"></div>\n                    <span class="ag-side-button-label">'+e(t.labelKey,t.labelDefault)+"</span>\n                </button>\n            </div>"},t.prototype.onButtonPressed=function(){this.dispatchEvent({type:t.EVENT_TOGGLE_BUTTON_CLICKED})},t.prototype.setSelected=function(e){this.addOrRemoveCssClass("ag-selected",e)},t.EVENT_TOGGLE_BUTTON_CLICKED="toggleButtonClicked",Qe([o.RefSelector("eToggleButton")],t.prototype,"eToggleButton",void 0),Qe([o.RefSelector("eIconWrapper")],t.prototype,"eIconWrapper",void 0),Qe([o.PostConstruct],t.prototype,"postConstruct",null),t}(o.Component),et=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),tt=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},rt=function(e){function t(){var r=e.call(this,t.TEMPLATE)||this;return r.buttonComps=[],r}return et(t,e),t.prototype.postConstruct=function(){this.addManagedListener(this.getFocusableElement(),"keydown",this.handleKeyDown.bind(this))},t.prototype.handleKeyDown=function(e){if(e.key===o.KeyCode.TAB&&e.shiftKey){var t=o._.last(this.columnModel.getAllDisplayedColumns());this.focusService.focusGridView(t,!0)&&e.preventDefault()}},t.prototype.setToolPanelDefs=function(e){e.forEach(this.addButtonComp.bind(this))},t.prototype.setActiveButton=function(e){this.buttonComps.forEach((function(t){t.setSelected(e===t.getToolPanelId())}))},t.prototype.addButtonComp=function(e){var r=this,n=this.createBean(new Je(e));this.buttonComps.push(n),this.appendChild(n),n.addEventListener(Je.EVENT_TOGGLE_BUTTON_CLICKED,(function(){r.dispatchEvent({type:t.EVENT_SIDE_BAR_BUTTON_CLICKED,toolPanelId:e.id})}))},t.prototype.clearButtons=function(){this.buttonComps=this.destroyBeans(this.buttonComps),o._.clearElement(this.getGui())},t.EVENT_SIDE_BAR_BUTTON_CLICKED="sideBarButtonClicked",t.TEMPLATE='<div class="ag-side-buttons" role="tablist"></div>',tt([o.Autowired("focusService")],t.prototype,"focusService",void 0),tt([o.Autowired("columnModel")],t.prototype,"columnModel",void 0),tt([o.PostConstruct],t.prototype,"postConstruct",null),tt([o.PreDestroy],t.prototype,"clearButtons",null),t}(o.Component),nt=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ot=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},it=function(e){function t(){return e.call(this,t.TEMPLATE)||this}return nt(t,e),t.prototype.setupResize=function(){var e=this.getGui(),t=this.resizeBar=new $e;this.getContext().createBean(t),t.setElementToResize(e),this.appendChild(t)},t.prototype.getToolPanelId=function(){return this.toolPanelId},t.prototype.setToolPanelDef=function(e){var t=e.id,r=e.minWidth,n=e.maxWidth,o=e.width;this.toolPanelId=t,this.width=o;var i=this.userComponentFactory.getToolPanelCompDetails(e,{}).newAgStackInstance();null!=i?(i.then(this.setToolPanelComponent.bind(this)),null!=r&&this.resizeBar.setMinWidth(r),null!=n&&this.resizeBar.setMaxWidth(n)):console.warn("AG Grid: error processing tool panel component "+t+". You need to specify either 'toolPanel' or 'toolPanelFramework'")},t.prototype.setToolPanelComponent=function(e){var t=this;this.toolPanelCompInstance=e,this.appendChild(e.getGui()),this.addDestroyFunc((function(){t.destroyBean(e)})),this.width&&(this.getGui().style.width=this.width+"px")},t.prototype.getToolPanelInstance=function(){return this.toolPanelCompInstance},t.prototype.setResizerSizerSide=function(e){var t="left"===e,r=this.gridOptionsWrapper.isEnableRtl()?t:!t;this.resizeBar.setInverted(r)},t.prototype.refresh=function(){this.toolPanelCompInstance.refresh()},t.TEMPLATE='<div class="ag-tool-panel-wrapper"/>',ot([o.Autowired("userComponentFactory")],t.prototype,"userComponentFactory",void 0),ot([o.PostConstruct],t.prototype,"setupResize",null),t}(o.Component),at=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),st=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},lt=function(e){function t(){var r=e.call(this,t.TEMPLATE)||this;return r.toolPanelWrappers=[],r}return at(t,e),t.prototype.postConstruct=function(){var e=this;this.sideBarButtonsComp.addEventListener(rt.EVENT_SIDE_BAR_BUTTON_CLICKED,this.onToolPanelButtonClicked.bind(this)),this.setSideBarDef(),this.gridOptionsWrapper.addEventListener("sideBar",(function(){e.clearDownUi(),e.setSideBarDef()})),this.gridApi.registerSideBarComp(this),this.createManagedBean(new o.ManagedFocusFeature(this.getFocusableElement(),{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this)}))},t.prototype.onTabKeyDown=function(e){if(!e.defaultPrevented){var t=this.focusService,r=this.sideBarButtonsComp,n=this.getGui(),o=r.getGui(),i=this.gridOptionsWrapper.getDocument().activeElement,a=n.querySelector(".ag-tool-panel-wrapper:not(.ag-hidden)");if(a)if(o.contains(i))t.focusInto(a,e.shiftKey)&&e.preventDefault();else if(!t.isFocusUnderManagedComponent(a)&&e.shiftKey){var s=t.findFocusableElements(a)[0];if(this.gridOptionsWrapper.getDocument().activeElement===s){var l=o.querySelector(".ag-selected button");l&&(e.preventDefault(),l.focus())}}}},t.prototype.handleKeyDown=function(e){var t=this.gridOptionsWrapper.getDocument();if(this.sideBarButtonsComp.getGui().contains(t.activeElement)){var r=this.sideBarButtonsComp.getGui(),n=Array.prototype.slice.call(r.querySelectorAll(".ag-side-button")),i=t.activeElement,a=n.findIndex((function(e){return e.contains(i)})),s=null;switch(e.key){case o.KeyCode.LEFT:case o.KeyCode.UP:s=Math.max(0,a-1);break;case o.KeyCode.RIGHT:case o.KeyCode.DOWN:s=Math.min(a+1,n.length-1)}if(null!==s){var l=n[s].querySelector("button");l&&(l.focus(),e.preventDefault())}}},t.prototype.onToolPanelButtonClicked=function(e){var t=e.toolPanelId;this.openedItem()===t?this.openToolPanel(void 0):this.openToolPanel(t)},t.prototype.clearDownUi=function(){this.sideBarButtonsComp.clearButtons(),this.destroyToolPanelWrappers()},t.prototype.setSideBarDef=function(){this.setDisplayed(!1);var e=this.gridOptionsWrapper.getSideBar(),t=!!e&&!!e.toolPanels;if(t){var r=t&&!e.hiddenByDefault;this.setDisplayed(r);var n=e.toolPanels;this.sideBarButtonsComp.setToolPanelDefs(n),this.setupToolPanels(n),this.setSideBarPosition(e.position),e.hiddenByDefault||this.openToolPanel(e.defaultToolPanel)}},t.prototype.setSideBarPosition=function(e){e||(e="right");var t="left"===e,r=t?"right":"left";return this.addOrRemoveCssClass("ag-side-bar-left",t),this.addOrRemoveCssClass("ag-side-bar-right",!t),this.toolPanelWrappers.forEach((function(e){e.setResizerSizerSide(r)})),this},t.prototype.setupToolPanels=function(e){var t=this;e.forEach((function(e){if(null!=e.id){if("agColumnsToolPanel"===e.toolPanel)if(!o.ModuleRegistry.assertRegistered(o.ModuleNames.ColumnToolPanelModule,"Column Tool Panel"))return;if("agFiltersToolPanel"===e.toolPanel)if(!o.ModuleRegistry.assertRegistered(o.ModuleNames.FiltersToolPanelModule,"Filters Tool Panel"))return;var r=new it;t.getContext().createBean(r),r.setToolPanelDef(e),r.setDisplayed(!1),t.getGui().appendChild(r.getGui()),t.toolPanelWrappers.push(r)}else console.warn("AG Grid: please review all your toolPanel components, it seems like at least one of them doesn't have an id")}))},t.prototype.refresh=function(){this.toolPanelWrappers.forEach((function(e){return e.refresh()}))},t.prototype.openToolPanel=function(e){var t=this.openedItem();t!==e&&(this.toolPanelWrappers.forEach((function(t){var r=e===t.getToolPanelId();t.setDisplayed(r)})),t!==this.openedItem()&&(this.sideBarButtonsComp.setActiveButton(e),this.raiseToolPanelVisibleEvent(e)))},t.prototype.getToolPanelInstance=function(e){var t=this.toolPanelWrappers.filter((function(t){return t.getToolPanelId()===e}))[0];if(t)return t.getToolPanelInstance();console.warn("AG Grid: unable to lookup Tool Panel as invalid key supplied: "+e)},t.prototype.raiseToolPanelVisibleEvent=function(e){var t={type:o.Events.EVENT_TOOL_PANEL_VISIBLE_CHANGED,source:e,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()};this.eventService.dispatchEvent(t)},t.prototype.close=function(){this.openToolPanel(void 0)},t.prototype.isToolPanelShowing=function(){return!!this.openedItem()},t.prototype.openedItem=function(){var e=null;return this.toolPanelWrappers.forEach((function(t){t.isDisplayed()&&(e=t.getToolPanelId())})),e},t.prototype.destroyToolPanelWrappers=function(){var e=this;this.toolPanelWrappers.forEach((function(t){o._.removeFromParent(t.getGui()),e.destroyBean(t)})),this.toolPanelWrappers.length=0},t.prototype.destroy=function(){this.destroyToolPanelWrappers(),e.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-side-bar ag-unselectable">\n            <ag-side-bar-buttons ref="sideBarButtons"></ag-side-bar-buttons>\n        </div>',st([o.Autowired("gridApi")],t.prototype,"gridApi",void 0),st([o.Autowired("focusService")],t.prototype,"focusService",void 0),st([o.RefSelector("sideBarButtons")],t.prototype,"sideBarButtonsComp",void 0),st([o.PostConstruct],t.prototype,"postConstruct",null),t}(o.Component),ut=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ct=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},pt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isColGroupDef=function(e){return e&&"undefined"!==typeof e.children},t.getId=function(e){return t.isColGroupDef(e)?e.groupId:e.colId},t}return ut(t,e),t.prototype.createColumnTree=function(e){var t=this,r=[],n=function e(n,i){if(t.isColGroupDef(n)){var a=n,s="undefined"!==typeof a.groupId?a.groupId:a.headerName,l=new o.ProvidedColumnGroup(a,s,!1,i),u=[];return a.children.forEach((function(t){var r=e(t,i+1);r&&u.push(r)})),l.setChildren(u),l}var c=n,p=c.colId?c.colId:c.field,d=t.columnModel.getPrimaryColumn(p);return d||r.push(c),d},i=[];return e.forEach((function(e){var t=n(e,0);t&&i.push(t)})),r.length>0&&console.warn("AG Grid: unable to find grid columns for the supplied colDef(s):",r),i},t.prototype.syncLayoutWithGrid=function(e){var t=this.getLeafPathTrees();e(this.mergeLeafPathTrees(t))},t.prototype.getLeafPathTrees=function(){var e=function e(t,r){var n;if(t instanceof o.ProvidedColumnGroup)if(t.isPadding())n=r;else{var i=Object.assign({},t.getColGroupDef());i.groupId=t.getGroupId(),i.children=[r],n=i}else{var a=Object.assign({},t.getColDef());a.colId=t.getColId(),n=a}var s=t.getOriginalParent();return s?e(s,n):n},t=this.columnModel.getAllGridColumns().filter((function(e){var t=e.getColDef();return e.isPrimary()&&!t.showRowGroup}));return t.map((function(t){return e(t,t.getColDef())}))},t.prototype.mergeLeafPathTrees=function(e){for(var t,r,n=this,o=function e(t,r){if(!n.isColGroupDef(r))return t;var o=t,i=r;if(i.children&&i.groupId&&n.addChildrenToGroup(o,i.groupId,i.children[0]))return o;return i.children.forEach((function(t){return e(o,t)})),o},i=[],a=1;a<=e.length;a++){var s=e[a-1],l=e[a];t=s,r=l,n.isColGroupDef(t)&&n.isColGroupDef(r)&&n.getId(t)===n.getId(r)?e[a]=o(s,l):i.push(s)}return i},t.prototype.addChildrenToGroup=function(e,t,r){var n=this;if(!this.isColGroupDef(e))return!0;var i=e,a=r;if(function(e,t){var r=e.children.map(n.getId),i=o._.includes(r,n.getId(t)),a=o._.last(e.children),s=a&&n.getId(a)!==n.getId(t);return i&&s}(i,a))return i.children.push(a),!0;if(i.groupId===t){var s=i.children.map(this.getId);if(!o._.includes(s,this.getId(a)))return i.children.push(a),!0}return i.children.forEach((function(e){return n.addChildrenToGroup(e,t,r)})),!1},ct([o.Autowired("columnModel")],t.prototype,"columnModel",void 0),t=ct([o.Bean("toolPanelColDefService")],t)}(o.BeanStub),dt={moduleName:o.ModuleNames.SideBarModule,beans:[pt],agStackComponents:[{componentName:"AgHorizontalResize",componentClass:$e},{componentName:"AgSideBar",componentClass:lt},{componentName:"AgSideBarButtons",componentClass:rt}],dependantModules:[g]},ht=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},ft=function(){function e(){}return e.prototype.selectAllChildren=function(e,t,r){var n=this.extractAllLeafColumns(e);this.setAllColumns(n,t,r)},e.prototype.setColumn=function(e,t,r){this.setAllColumns([e],t,r)},e.prototype.setAllColumns=function(e,t,r){this.columnModel.isPivotMode()?this.setAllPivot(e,t,r):this.setAllVisible(e,t,r)},e.prototype.extractAllLeafColumns=function(e){var t=[];return function e(r){r.forEach((function(r){r.isPassesFilter()&&(r.isGroup()?e(r.getChildren()):t.push(r.getColumn()))}))}(e),t},e.prototype.setAllVisible=function(e,t,r){var n=[];e.forEach((function(e){e.getColDef().lockVisible||e.isVisible()!=t&&n.push({colId:e.getId(),hide:!t})})),n.length>0&&this.columnModel.applyColumnState({state:n},r)},e.prototype.setAllPivot=function(e,t,r){this.gridOptionsWrapper.isFunctionsPassive()?this.setAllPivotPassive(e,t):this.setAllPivotActive(e,t,r)},e.prototype.setAllPivotPassive=function(e,t){var r=this.columnModel.getPivotColumns().slice(),n=this.columnModel.getValueColumns().slice(),i=this.columnModel.getRowGroupColumns().slice(),a=!1,s=!1,l=!1,u=t?function(e){e.isAnyFunctionActive()||(e.isAllowValue()?(n.push(e),s=!0):e.isAllowRowGroup()?(i.push(e),a=!0):e.isAllowPivot()&&(r.push(e),l=!0))}:function(e){e.isAnyFunctionActive()&&(r.indexOf(e)>=0&&(o._.removeFromArray(r,e),a=!0),n.indexOf(e)>=0&&(o._.removeFromArray(n,e),s=!0),i.indexOf(e)>=0&&(o._.removeFromArray(i,e),l=!0))};if(e.forEach(u),a){var c={type:o.Events.EVENT_COLUMN_PIVOT_CHANGE_REQUEST,columns:r,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(c)}if(l){var p={type:o.Events.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST,columns:i,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(p)}if(s){var d={type:o.Events.EVENT_COLUMN_VALUE_CHANGE_REQUEST,columns:i,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(d)}},e.prototype.setAllPivotActive=function(e,t,r){var n=this,o=[],i=t?function(e){if(!e.isAnyFunctionActive())if(e.isAllowValue()){var t="string"===typeof e.getAggFunc()?e.getAggFunc():n.aggFuncService.getDefaultAggFunc(e);o.push({colId:e.getId(),aggFunc:t})}else e.isAllowRowGroup()?o.push({colId:e.getId(),rowGroup:!0}):e.isAllowPivot()&&o.push({colId:e.getId(),pivot:!0})}:function(e){(e.isPivotActive()||e.isRowGroupActive()||e.isValueActive())&&o.push({colId:e.getId(),pivot:!1,rowGroup:!1,aggFunc:null})};e.forEach(i),o.length>0&&this.columnModel.applyColumnState({state:o},r)},ht([o.Autowired("aggFuncService")],e.prototype,"aggFuncService",void 0),ht([o.Autowired("columnModel")],e.prototype,"columnModel",void 0),ht([o.Autowired("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),ht([o.Autowired("columnApi")],e.prototype,"columnApi",void 0),ht([o.Autowired("gridApi")],e.prototype,"gridApi",void 0),ht([o.Autowired("eventService")],e.prototype,"eventService",void 0),e=ht([o.Bean("modelItemUtils")],e)}(),gt={moduleName:o.ModuleNames.ColumnToolPanelModule,beans:[ft],agStackComponents:[{componentName:"AgPrimaryColsHeader",componentClass:m},{componentName:"AgPrimaryColsList",componentClass:B},{componentName:"AgPrimaryCols",componentClass:ze}],userComponents:[{componentName:"agColumnsToolPanel",componentClass:Xe}],dependantModules:[g,Ge,dt]},yt=function(){return{name:"Workbook",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",html:"http://www.w3.org/TR/REC-html40"}}],rawMap:{xmlns:"urn:schemas-microsoft-com:office:spreadsheet"}}}},vt=function(){return{name:"ExcelWorkbook",properties:{rawMap:{xmlns:"urn:schemas-microsoft-com:office:excel"}},children:[{name:"WindowHeight",textNode:"8130"},{name:"WindowWidth",textNode:"15135"},{name:"WindowHeight",textNode:"8130"},{name:"WindowTopX",textNode:"120"},{name:"WindowTopY",textNode:"45"},{name:"ProtectStructure",textNode:"False"},{name:"ProtectWindow",textNode:"False"}]}},mt=function(e){return{name:"Column",properties:{prefixedAttributes:[{prefix:"ss:",map:{Width:e.width}}]}}},bt=function(e){var t=e.mergeAcross,r=e.styleId,n=e.data,o={};return t&&(o.MergeAcross=t),r&&(o.StyleID=r),{name:"Cell",properties:{prefixedAttributes:[{prefix:"ss:",map:o}]},children:[{name:"Data",properties:{prefixedAttributes:[{prefix:"ss:",map:{Type:n.type}}]},textNode:n.value}]}},Ct=function(e){return{name:"Row",children:e.cells.map((function(e){return bt(e)}))}},wt=function(e){var t=e.table,r=e.name,n=t.columns,o=t.rows,i=n.map((function(e){return mt(e)})),a=o.map((function(e){return Ct(e)}));return{name:"Worksheet",children:[{name:"Table",children:i.concat(a)}],properties:{prefixedAttributes:[{prefix:"ss:",map:{Name:r}}]}}},xt=function(){return{name:"DocumentProperties",properties:{rawMap:{xmlns:"urn:schemas-microsoft-com:office:office"}},children:[{name:"Version",textNode:"12.00"}]}},St={getTemplate:function(e){var t=e.alignment;return{name:"Alignment",properties:{prefixedAttributes:[{prefix:"ss:",map:{Vertical:t.vertical,Horizontal:t.horizontal,Indent:t.indent,ReadingOrder:t.readingOrder,Rotate:t.rotate,ShrinkToFit:t.shrinkToFit,VerticalText:t.verticalText,WrapText:t.wrapText}}]}}}},Et={getTemplate:function(e){var t=e.borders;return{name:"Borders",children:[t.borderBottom,t.borderLeft,t.borderRight,t.borderTop].map((function(e,t){return{name:"Border",properties:{prefixedAttributes:[{prefix:"ss:",map:{Position:0==t?"Bottom":1==t?"Left":2==t?"Right":"Top",LineStyle:e.lineStyle,Weight:e.weight,Color:e.color}}]}}}))}}},Ot={getTemplate:function(e){var t=e.font;return{name:"Font",properties:{prefixedAttributes:[{prefix:"ss:",map:{Bold:t.bold,FontName:t.fontName,Italic:t.italic,Color:t.color,Outline:t.outline,Shadow:t.shadow,Size:t.size,StrikeThrough:t.strikeThrough,Underline:t.underline,VerticalAlign:t.verticalAlign}},{prefix:"x:",map:{CharSet:t.charSet,Family:t.family}}]}}}},_t={getTemplate:function(e){var t=e.interior;return{name:"Interior",properties:{prefixedAttributes:[{prefix:"ss:",map:{Color:t.color,Pattern:t.pattern,PatternColor:t.patternColor}}]}}}},Pt={getTemplate:function(e){return{name:"Protection",properties:{prefixedAttributes:[{prefix:"ss:",map:{Protected:e.protection.protected,HideFormula:e.protection.hideFormula}}]}}}},Rt={getTemplate:function(e){return{name:"NumberFormat",properties:{prefixedAttributes:[{prefix:"ss:",map:{Format:e.numberFormat.format}}]}}}},At=function(e){var t=e.id,r=e.name;return{name:"Style",properties:{prefixedAttributes:[{prefix:"ss:",map:{ID:t,Name:r||t}}]}}},Tt=function(){function e(){}return e.prototype.setBeans=function(e){this.beans=e},e.prototype.getFileName=function(e){var t=this.getDefaultFileExtension();return null!=e&&e.length||(e=this.getDefaultFileName()),-1===e.indexOf(".")?e+"."+t:e},e.prototype.getData=function(e){var t=this.createSerializingSession(e);return this.beans.gridSerializer.serialize(t,e)},e}(),Dt=function(){function e(e){this.groupColumns=[];var t=e.columnModel,r=e.valueService,n=e.gridOptionsWrapper,o=e.processCellCallback,i=e.processHeaderCallback,a=e.processGroupHeaderCallback,s=e.processRowGroupCallback;this.columnModel=t,this.valueService=r,this.gridOptionsWrapper=n,this.processCellCallback=o,this.processHeaderCallback=i,this.processGroupHeaderCallback=a,this.processRowGroupCallback=s}return e.prototype.prepare=function(e){this.groupColumns=e.filter((function(e){return!!e.getColDef().showRowGroup}))},e.prototype.extractHeaderValue=function(e){var t=this.getHeaderName(this.processHeaderCallback,e);return null!=t?t:""},e.prototype.extractRowCellValue=function(e,t,r,n,o){var i,a=this.gridOptionsWrapper.isGroupMultiAutoColumn()?o.rowGroupIndex:0;i=o&&o.group&&(t===a&&-1!==this.groupColumns.indexOf(e)||0===t&&this.gridOptionsWrapper.isGroupUseEntireRow(this.columnModel.isPivotMode()))?this.createValueForGroupNode(o):this.valueService.getValue(e,o);var s=this.processCell(r,o,e,i,this.processCellCallback,n);return null!=s?s:""},e.prototype.getHeaderName=function(e,t){return e?e({column:t,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}):this.columnModel.getDisplayNameForColumn(t,"csv",!0)},e.prototype.createValueForGroupNode=function(e){if(this.processRowGroupCallback)return this.processRowGroupCallback({node:e,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()});var t=[e.key];if(!this.gridOptionsWrapper.isGroupMultiAutoColumn())for(;e.parent;)e=e.parent,t.push(e.key);return t.reverse().join(" -> ")},e.prototype.processCell=function(e,t,r,n,o,i){return o?o({accumulatedRowIndex:e,column:r,node:t,value:n,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),type:i}):null!=n?n:""},e}(),Mt=function(){function e(){}return e.download=function(e,t){var r=document.defaultView||window;if(r){var n=document.createElement("a"),o=r.URL.createObjectURL(t);n.setAttribute("href",o),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:r})),document.body.removeChild(n),r.setTimeout((function(){r.URL.revokeObjectURL(o)}),0)}else console.warn("AG Grid: There is no `window` associated with the current `document`")},e}(),kt=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Nt=function(e){function t(t){var r=e.call(this,t)||this;r.isFirstLine=!0,r.result="";var n=t.suppressQuotes,o=t.columnSeparator;return r.suppressQuotes=n,r.columnSeparator=o,r}return kt(t,e),t.prototype.addCustomContent=function(e){var t=this;e&&("string"===typeof e?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,"\r\n"),this.result+=e):e.forEach((function(e){t.beginNewLine(),e.forEach((function(e,r){0!==r&&(t.result+=t.columnSeparator),t.result+=t.putInQuotes(e.data.value||""),e.mergeAcross&&t.appendEmptyCells(e.mergeAcross)}))})))},t.prototype.onNewHeaderGroupingRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}},t.prototype.onNewHeaderGroupingRowColumn=function(e,t,r){0!=t&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(e),this.appendEmptyCells(r)},t.prototype.appendEmptyCells=function(e){for(var t=1;t<=e;t++)this.result+=this.columnSeparator+this.putInQuotes("")},t.prototype.onNewHeaderRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}},t.prototype.onNewHeaderRowColumn=function(e,t){0!=t&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))},t.prototype.onNewBodyRow=function(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}},t.prototype.onNewBodyRowColumn=function(e,t,r){0!=t&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractRowCellValue(e,t,t,o.Constants.EXPORT_TYPE_CSV,r))},t.prototype.putInQuotes=function(e){return this.suppressQuotes?e:null===e||void 0===e?'""':("string"===typeof e?t=e:"function"===typeof e.toString?t=e.toString():(console.warn("AG Grid: unknown value type during csv conversion"),t=""),'"'+t.replace(/"/g,'""')+'"');var t},t.prototype.parse=function(){return this.result},t.prototype.beginNewLine=function(){this.isFirstLine||(this.result+="\r\n"),this.isFirstLine=!1},t}(Dt),It=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Lt=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Ft=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return It(t,e),t.prototype.postConstruct=function(){this.setBeans({gridSerializer:this.gridSerializer,gridOptionsWrapper:this.gridOptionsWrapper})},t.prototype.getMergedParams=function(e){var t=this.gridOptionsWrapper.getDefaultExportParams("csv");return Object.assign({},t,e)},t.prototype.export=function(e){if(this.isExportSuppressed())return console.warn("AG Grid: Export cancelled. Export is not allowed as per your configuration."),"";var t=this.getMergedParams(e),r=this.getData(t),n=new Blob(["\ufeff",r],{type:"text/plain"});return Mt.download(this.getFileName(t.fileName),n),r},t.prototype.exportDataAsCsv=function(e){return this.export(e)},t.prototype.getDataAsCsv=function(e){var t=this.getMergedParams(e);return this.getData(t)},t.prototype.getDefaultFileName=function(){return"export.csv"},t.prototype.getDefaultFileExtension=function(){return"csv"},t.prototype.createSerializingSession=function(e){var t=this,r=t.columnModel,n=t.valueService,o=t.gridOptionsWrapper,i=e,a=i.processCellCallback,s=i.processHeaderCallback,l=i.processGroupHeaderCallback,u=i.processRowGroupCallback,c=i.suppressQuotes,p=i.columnSeparator;return new Nt({columnModel:r,valueService:n,gridOptionsWrapper:o,processCellCallback:a||void 0,processHeaderCallback:s||void 0,processGroupHeaderCallback:l||void 0,processRowGroupCallback:u||void 0,suppressQuotes:c||!1,columnSeparator:p||","})},t.prototype.isExportSuppressed=function(){return this.gridOptionsWrapper.isSuppressCsvExport()},Lt([o.Autowired("columnModel")],t.prototype,"columnModel",void 0),Lt([o.Autowired("valueService")],t.prototype,"valueService",void 0),Lt([o.Autowired("gridSerializer")],t.prototype,"gridSerializer",void 0),Lt([o.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Lt([o.PostConstruct],t.prototype,"postConstruct",null),t=Lt([o.Bean("csvCreator")],t)}(Tt),Gt=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Bt=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a};!function(e){e[e.HEADER_GROUPING=0]="HEADER_GROUPING",e[e.HEADER=1]="HEADER",e[e.BODY=2]="BODY"}(me||(me={}));var Wt,Ht,jt,Vt,zt,Ut,Yt,Xt,Kt,qt,$t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Gt(t,e),t.prototype.serialize=function(e,t){void 0===t&&(t={});var r=this.getColumnsToExport(t.allColumns,t.columnKeys);return o._.compose(this.prepareSession(r),this.prependContent(t),this.exportColumnGroups(t,r),this.exportHeaders(t,r),this.processPinnedTopRows(t,r),this.processRows(t,r),this.processPinnedBottomRows(t,r),this.appendContent(t))(e).parse()},t.prototype.processRow=function(e,t,r,n){var i=this,a=t.shouldRowBeSkipped||function(){return!1},s=this.gridOptionsWrapper,l=s.getContext(),u=s.getApi(),c=s.getColumnApi(),p=s.isGroupRemoveSingleChildren(),d=s.isGroupHideOpenParents(),h=s.isGroupRemoveLowestSingleChildren(),f=this.columnModel.isPivotMode()?n.leafGroup:!n.group,g=t.skipGroups||t.skipRowGroups,y=h&&n.leafGroup,v=1===n.allChildrenCount&&(p||y);g&&t.skipGroups&&o._.doOnce((function(){return console.warn("AG Grid: Since v25.2 `skipGroups` has been renamed to `skipRowGroups`.")}),"gridSerializer-skipGroups");var m={rowIndex:n.rowIndex,rowPinned:n.rowPinned};if(!(!f&&(t.skipRowGroups||v||d)||t.onlySelected&&!n.isSelected()||t.rowNodes&&!t.rowNodes.some((function(e){return i.rowPositionUtils.sameRow(e,m)}))||t.skipPinnedTop&&"top"===n.rowPinned||t.skipPinnedBottom&&"bottom"===n.rowPinned)&&((!(-1===n.level)||n.leafGroup)&&!a({node:n,api:u,columnApi:c,context:l}))){var b=e.onNewBodyRow();if(r.forEach((function(e,t){b.onColumn(e,t,n)})),t.getCustomContentBelowRow){var C=t.getCustomContentBelowRow({node:n,api:u,columnApi:c,context:l});C&&e.addCustomContent(C)}}},t.prototype.appendContent=function(e){return function(t){var r=e.customFooter||e.appendContent;return r&&(e.customFooter&&o._.doOnce((function(){return console.warn("AG Grid: Since version 25.2.0 the `customFooter` param has been deprecated. Use `appendContent` instead.")}),"gridSerializer-customFooter"),t.addCustomContent(r)),t}},t.prototype.prependContent=function(e){return function(t){var r=e.customHeader||e.prependContent;return r&&(e.customHeader&&o._.doOnce((function(){return console.warn("AG Grid: Since version 25.2.0 the `customHeader` param has been deprecated. Use `prependContent` instead.")}),"gridSerializer-customHeader"),t.addCustomContent(r)),t}},t.prototype.prepareSession=function(e){return function(t){return t.prepare(e),t}},t.prototype.exportColumnGroups=function(e,t){var r=this;return function(n){if(e.skipColumnGroupHeaders)e.columnGroups&&o._.doOnce((function(){return console.warn("AG Grid: Since v25.2 the `columnGroups` param has deprecated, and groups are exported by default.")}),"gridSerializer-columnGroups");else{var i=new o.GroupInstanceIdCreator,a=r.displayedGroupCreator.createDisplayedGroups(t,r.columnModel.getGridBalancedTree(),i,null);r.recursivelyAddHeaderGroups(a,n,e.processGroupHeaderCallback)}return n}},t.prototype.exportHeaders=function(e,t){return function(r){if(e.skipHeader||e.skipColumnHeaders)e.skipHeader&&o._.doOnce((function(){return console.warn("AG Grid: Since v25.2 the `skipHeader` param has been renamed to `skipColumnHeaders`.")}),"gridSerializer-skipHeader");else{var n=r.onNewHeaderRow();t.forEach((function(e,t){n.onColumn(e,t,void 0)}))}return r}},t.prototype.processPinnedTopRows=function(e,t){var r=this;return function(n){var o=r.processRow.bind(r,n,e,t);return r.pinnedRowModel.forEachPinnedTopRow(o),n}},t.prototype.processRows=function(e,t){var r=this;return function(n){var i=r.rowModel,a=i.getType(),s=a===o.Constants.ROW_MODEL_TYPE_CLIENT_SIDE,l=a===o.Constants.ROW_MODEL_TYPE_SERVER_SIDE,u=!s&&e.onlySelected,c=r.processRow.bind(r,n,e,t);r.columnModel.isPivotMode()?s?i.forEachPivotNode(c):i.forEachNode(c):e.onlySelectedAllPages||u?r.selectionService.getSelectedNodes().forEach(c):s||l?i.forEachNodeAfterFilterAndSort(c):i.forEachNode(c);return n}},t.prototype.processPinnedBottomRows=function(e,t){var r=this;return function(n){var o=r.processRow.bind(r,n,e,t);return r.pinnedRowModel.forEachPinnedBottomRow(o),n}},t.prototype.getColumnsToExport=function(e,t){void 0===e&&(e=!1);var r=this.columnModel.isPivotMode();return t&&t.length?this.columnModel.getGridColumns(t):e&&!r?(this.gridOptionsWrapper.isTreeData()?this.columnModel.getGridColumns([o.Constants.GROUP_AUTO_COLUMN_ID]):[]).concat(this.columnModel.getAllPrimaryColumns()||[]):this.columnModel.getAllDisplayedColumns()},t.prototype.recursivelyAddHeaderGroups=function(e,t,r){var n=[];e.forEach((function(e){var t=e;t.getChildren&&t.getChildren().forEach((function(e){return n.push(e)}))})),e.length>0&&e[0]instanceof o.ColumnGroup&&this.doAddHeaderHeader(t,e,r),n&&n.length>0&&this.recursivelyAddHeaderGroups(n,t,r)},t.prototype.doAddHeaderHeader=function(e,t,r){var n=this,i=e.onNewHeaderGroupingRow(),a=0;t.forEach((function(e){var t,s=e;t=r?r({columnGroup:s,api:n.gridOptionsWrapper.getApi(),columnApi:n.gridOptionsWrapper.getColumnApi(),context:n.gridOptionsWrapper.getContext()}):n.columnModel.getDisplayNameForColumnGroup(s,"header");var l=s.getLeafColumns().reduce((function(e,t,r,n){var i=o._.last(e);return"open"===t.getColumnGroupShow()?i&&null==i[1]||(i=[r],e.push(i)):i&&null==i[1]&&(i[1]=r-1),r===n.length-1&&i&&null==i[1]&&(i[1]=r),e}),[]);i.onColumn(t||"",a++,s.getLeafColumns().length-1,l)}))},Bt([o.Autowired("displayedGroupCreator")],t.prototype,"displayedGroupCreator",void 0),Bt([o.Autowired("columnModel")],t.prototype,"columnModel",void 0),Bt([o.Autowired("rowModel")],t.prototype,"rowModel",void 0),Bt([o.Autowired("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Bt([o.Autowired("selectionService")],t.prototype,"selectionService",void 0),Bt([o.Autowired("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),t=Bt([o.Bean("gridSerializer")],t)}(o.BeanStub),Zt={moduleName:o.ModuleNames.CsvExportModule,beans:[Ft,$t]},Qt="\r\n",Jt=function(){function e(){}return e.createHeader=function(e){void 0===e&&(e={});var t=["version"];return e.version||(e.version="1.0"),e.encoding&&t.push("encoding"),e.standalone&&t.push("standalone"),"<?xml "+t.map((function(t){return t+'="'+e[t]+'"'})).join(" ")+" ?>"},e.createXml=function(e,t){var r=this,n="";e.properties&&(e.properties.prefixedAttributes&&e.properties.prefixedAttributes.forEach((function(e){Object.keys(e.map).forEach((function(o){n+=r.returnAttributeIfPopulated(e.prefix+o,e.map[o],t)}))})),e.properties.rawMap&&Object.keys(e.properties.rawMap).forEach((function(o){n+=r.returnAttributeIfPopulated(o,e.properties.rawMap[o],t)})));var o="<"+e.name+n;return e.children||null!=e.textNode?null!=e.textNode?o+">"+e.textNode+"</"+e.name+">"+Qt:(o+=">\r\n",e.children&&e.children.forEach((function(e){o+=r.createXml(e,t)})),o+"</"+e.name+">"+Qt):o+"/>"+Qt},e.returnAttributeIfPopulated=function(e,t,r){if(!t&&""!==t&&0!==t)return"";var n=t;return"boolean"===typeof t&&r&&(n=r(t))," "+e+'="'+n+'"'},e}(),er=function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},tr=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),rr=function(){function e(){}return e.addFolders=function(e){e.forEach(this.addFolder.bind(this))},e.addFolder=function(e){this.folders.push({path:e,created:new Date,isBase64:!1})},e.addFile=function(e,t,r){void 0===r&&(r=!1),this.files.push({path:e,created:new Date,content:t,isBase64:r})},e.getContent=function(e){void 0===e&&(e="application/zip");var t=this.buildFileStream(),r=this.buildUint8Array(t);return this.clearStream(),new Blob([r],{type:e})},e.clearStream=function(){this.folders=[],this.files=[]},e.buildFileStream=function(e){var t,r;void 0===e&&(e="");var n=this.folders.concat(this.files),o=n.length,i="",a=0,s=0;try{for(var l=er(n),u=l.next();!u.done;u=l.next()){var c=u.value,p=this.getHeader(c,a),d=p.fileHeader,h=p.folderHeader,f=p.content;a+=d.length+f.length,s+=h.length,e+=d+f,i+=h}}catch(g){t={error:g}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(t)throw t.error}}return e+i+this.buildFolderEnd(o,s,a)},e.getHeader=function(e,t){var r=e.content,n=e.path,i=e.created,a=e.isBase64,s=o._.utf8_encode,l=o._.decToHex,u=s(n),c=u!==n,p=this.convertTime(i),d=this.convertDate(i),h="";if(c){var f=l(1,1)+l(this.getFromCrc32Table(u),4)+u;h="up"+l(f.length,2)+f}var g=r?this.getConvertedContent(r,a):{size:0,content:""},y=g.size,v=g.content,m="\n\0"+(c?"\0\b":"\0\0")+"\0\0"+l(p,2)+l(d,2)+l(y?this.getFromCrc32Table(v):0,4)+l(y,4)+l(y,4)+l(u.length,2)+l(h.length,2);return{fileHeader:"PK\x03\x04"+m+u+h,folderHeader:"PK\x01\x02\x14\0"+m+"\0\0\0\0\0\0"+(r?"\0\0\0\0":"\x10\0\0\0")+l(t,4)+u+h,content:v||""}},e.getConvertedContent=function(e,t){return void 0===t&&(t=!1),t&&(e=e.split(";base64,")[1]),{size:(e=t?atob(e):e).length,content:e}},e.buildFolderEnd=function(e,t,r){var n=o._.decToHex;return"PK\x05\x06\0\0\0\0"+n(e,2)+n(e,2)+n(t,4)+n(r,4)+"\0\0"},e.buildUint8Array=function(e){for(var t=new Uint8Array(e.length),r=0;r<t.length;r++)t[r]=e.charCodeAt(r);return t},e.getFromCrc32Table=function(e){if(!e.length)return 0;for(var t=e.length,r=new Uint8Array(t),n=0;n<t;n++)r[n]=e.charCodeAt(n);var o=-1,i=0;for(n=0;n<t;n++)i=r[n],o=o>>>8^tr[255&(o^i)];return-1^o},e.convertTime=function(e){var t=e.getHours();return t<<=6,t|=e.getMinutes(),t<<=5,t|=e.getSeconds()/2},e.convertDate=function(e){var t=e.getFullYear()-1980;return t<<=4,t|=e.getMonth()+1,t<<=5,t|=e.getDate()},e.folders=[],e.files=[],e}(),nr=function(){function e(){}return e.createExcel=function(e,t){var r=this.excelXmlHeader(),n=xt(),o=vt(),i=this.workbook(n,o,e,t);return""+r+Jt.createXml(i,(function(e){return e?"1":"0"}))},e.workbook=function(e,t,r,n){var o=[e,t,this.stylesXmlElement(r)].concat(wt(n));return Object.assign({},yt(),{children:o})},e.excelXmlHeader=function(){return'<?xml version="1.0" ?>\n        <?mso-application progid="Excel.Sheet" ?>\n        '},e.stylesXmlElement=function(e){var t=this;return{name:"Styles",children:e?e.map((function(e){return t.styleXmlElement(e)})):[]}},e.styleXmlElement=function(e){var t=o._.compose(this.addProperty("alignment",e),this.addProperty("borders",e),this.addProperty("font",e),this.addProperty("interior",e),this.addProperty("protection",e),this.addProperty("numberFormat",e))([]);return Object.assign({},At(e),{children:t})},e.addProperty=function(e,t){return function(r){if(!t[e])return r;var n={alignment:St,borders:Et,font:Ot,interior:_t,numberFormat:Rt,protection:Pt};return r.concat(n[e].getTemplate(t))}},e.factoryMode=o.ExcelFactoryMode.SINGLE_SHEET,e}(),or={0:1,"0.00":2,"#,##0":3,"#,##0.00":4,"0%":9,"0.00%":10,"0.00E+00":11,"# ?/?":12,"# ??/??":13,"mm-dd-yy":14,"d-mmm-yy":15,"d-mmm":16,"mmm-yy":17,"h:mm AM/PM":18,"h:mm:ss AM/PM":19,"h:mm":20,"h:mm:ss":21,"m/d/yy h:mm":22,"#,##0 ;(#,##0)":37,"#,##0 ;[Red](#,##0)":38,"#,##0.00;(#,##0.00)":39,"#,##0.00;[Red](#,##0.00)":40,"mm:ss":45,"[h]:mm:ss":46,"mmss.0":47,"##0.0E+0":48,"@":49},ir=function(e){return Math.ceil(9525*e)},ar=function(e,t){if(t){var r,n;if("number"===typeof t)r=t;else r=t({rowIndex:e});return n=r,Math.round(72*n/96)}},sr=function(e){return""+Jt.createHeader({encoding:"UTF-8",standalone:"yes"})+Jt.createXml(e)},lr=function e(t){var r=String.fromCharCode,n=Math.floor(t/26),o=t%26;return n&&26!==t?o?n<26?r(65+n-1)+r(65+o-1):e(n)+r(65+o-1):e(n-1)+"Z":r(65+t-1)},ur=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),cr=function(){return cr=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},cr.apply(this,arguments)},pr=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},dr=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(pr(arguments[t]));return e},hr=function(e){function t(t){var r=e.call(this,t)||this;return r.mixedStyles={},r.mixedStyleCounter=0,r.rows=[],r.config=Object.assign({},t),r.stylesByIds={},r.config.baseExcelStyles.forEach((function(e){r.stylesByIds[e.id]=e})),r.excelStyles=dr(r.config.baseExcelStyles),r}return ur(t,e),t.prototype.addCustomContent=function(e){var t=this;e.forEach((function(e){var r=t.rows.length+1;t.rows.push({height:ar(r,t.config.rowHeight),cells:e.map((function(e,n){var o=t.addImage(r,t.columnsToExport[n],e.data.value),i=cr({},e);return o&&(i.data={},null!=o.value?i.data.value=o.value:(i.data.type="e",i.data.value=null)),i}))})}))},t.prototype.onNewHeaderGroupingRow=function(){var e=this,t=[];return this.rows.push({cells:t,height:ar(this.rows.length+1,this.config.headerRowHeight)}),{onColumn:function(r,n,o,i){var a=e.config.styleLinker(me.HEADER_GROUPING,1,"grouping-"+r,void 0,void 0);t.push(cr(cr({},e.createMergedCell(e.getStyleId(a),e.getDataTypeForValue("string"),r,o)),{collapsibleRanges:i}))}}},t.prototype.onNewHeaderRow=function(){return this.onNewRow(this.onNewHeaderColumn,this.config.headerRowHeight)},t.prototype.onNewBodyRow=function(){return this.onNewRow(this.onNewBodyColumn,this.config.rowHeight)},t.prototype.prepare=function(t){var r=this;e.prototype.prepare.call(this,t),this.columnsToExport=dr(t),this.cols=t.map((function(e,t){return r.convertColumnToExcel(e,t)}))},t.prototype.parse=function(){for(var e=this.rows.reduce((function(e,t){return Math.max(e,t.cells.length)}),0);this.cols.length<e;)this.cols.push(this.convertColumnToExcel(null,this.cols.length+1));var t={name:this.config.sheetName,table:{columns:this.cols,rows:this.rows}};return this.createExcel(t)},t.prototype.isFormula=function(e){return null!=e&&(this.config.autoConvertFormulas&&e.toString().startsWith("="))},t.prototype.getStyleById=function(e){return null==e?null:this.stylesByIds[e]||null},t.prototype.convertColumnToExcel=function(e,t){var r=this.config.columnWidth;if(r)return"number"===typeof r?{width:r}:{width:r({column:e,index:t})};if(e){return{width:Math.max(e.getActualWidth(),75)}}return{}},t.prototype.onNewHeaderColumn=function(e,t){var r=this;return function(n,o){var i=r.extractHeaderValue(n),a=r.config.styleLinker(me.HEADER,e,i,n,void 0);t.push(r.createCell(r.getStyleId(a),r.getDataTypeForValue("string"),i))}},t.prototype.onNewRow=function(e,t){var r=[];return this.rows.push({cells:r,height:ar(this.rows.length+1,t)}),{onColumn:e.bind(this,this.rows.length,r)()}},t.prototype.onNewBodyColumn=function(e,t){var r=this,n=0;return function(i,a,s){if(n>0)n-=1;else{var l=r.extractRowCellValue(i,a,e,o.Constants.EXPORT_TYPE_EXCEL,s),u=r.config.styleLinker(me.BODY,e,l,i,s),c=r.getStyleId(u),p=i.getColSpan(s),d=r.addImage(e,i,l);d?t.push(r.createCell(c,r.getDataTypeForValue(d.value),null==d.value?"":d.value)):p>1?(n=p-1,t.push(r.createMergedCell(c,r.getDataTypeForValue(l),l,p-1))):t.push(r.createCell(c,r.getDataTypeForValue(l),l))}}},t.prototype.getStyleId=function(e){if(!e||!e.length)return null;if(1===e.length)return e[0];var t=e.join("-");return this.mixedStyles[t]||this.addNewMixedStyle(e),this.mixedStyles[t].excelID},t.prototype.addNewMixedStyle=function(e){var t=this;this.mixedStyleCounter+=1;var r="mixedStyle"+this.mixedStyleCounter,n={};e.forEach((function(e){t.excelStyles.forEach((function(t){t.id===e&&o._.mergeDeep(n,o._.deepCloneObject(t))}))})),n.id=r,n.name=r;var i=e.join("-");this.mixedStyles[i]={excelID:r,key:i,result:n},this.excelStyles.push(n),this.stylesByIds[r]=n},t}(Dt),fr=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),gr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return fr(t,e),t.prototype.createExcel=function(e){return nr.createExcel(this.excelStyles,e)},t.prototype.getDataTypeForValue=function(e){return o._.isNumeric(e)?"Number":"String"},t.prototype.getType=function(e,t,r){if(this.isFormula(r))return"Formula";if(t&&t.dataType)switch(t.dataType.toLocaleLowerCase()){case"string":return"Formula";case"number":return"Number";case"datetime":return"DateTime";case"error":return"Error";case"boolean":return"Boolean";default:console.warn("AG Grid: Unrecognized data type for excel export ["+t.id+".dataType="+t.dataType+"]")}return e},t.prototype.addImage=function(){},t.prototype.createCell=function(e,t,r){var n=this.getStyleById(e),o=this.getType(t,n,r)||t;return{styleId:n?e:void 0,data:{type:o,value:this.getValueTransformed(o,r)}}},t.prototype.getValueTransformed=function(e,t){var r,n=this;switch(e){case"String":return function(e){if(n.config.suppressTextAsCDATA)return o._.escapeString(e);var t="<![CDATA[",r="]]>",i=new RegExp(r,"g");return t+String(e).replace(i,"]]]]><![CDATA[>")+r}(t);case"Number":return Number(t).valueOf()+"";case"Boolean":return(r=t)&&"0"!==r&&"false"!==r?"1":"0";default:return t}},t.prototype.createMergedCell=function(e,t,r,n){return{styleId:this.getStyleById(e)?e:void 0,data:{type:t,value:r},mergeAcross:n}},t}(hr),yr=function(e){var t=(new Date).toJSON();return{name:"cp:coreProperties",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance"}}]},children:[{name:"dc:creator",textNode:e},{name:"dc:title",textNode:"Workbook"},{name:"dcterms:created",properties:{rawMap:{"xsi:type":"dcterms:W3CDTF"}},textNode:t},{name:"dcterms:modified",properties:{rawMap:{"xsi:type":"dcterms:W3CDTF"}},textNode:t}]}},vr=function(e){var t=e.name,r=e.ContentType;return{name:t,properties:{rawMap:{Extension:e.Extension,PartName:e.PartName,ContentType:r}}}},mr=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},br=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(mr(arguments[t]));return e},Cr=function(e){var t=new Array(e).fill(void 0).map((function(e,t){return{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",PartName:"/xl/worksheets/sheet"+(t+1)+".xml"}})),r=Yn.worksheetImages.size,n={};Yn.workbookImageIds.forEach((function(e){n[e.type]=!0}));var o=new Array(r).fill(void 0).map((function(e,t){return{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml",PartName:"/xl/drawings/drawing"+(t+1)+".xml"}})),i=Object.keys(n).map((function(e){return{name:"Default",ContentType:"image/"+e,Extension:e}}));return{name:"Types",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"}},children:br(i,[{name:"Default",Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"},{name:"Default",ContentType:"application/xml",Extension:"xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",PartName:"/xl/workbook.xml"}],t,[{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml",PartName:"/xl/theme/theme1.xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",PartName:"/xl/styles.xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",PartName:"/xl/sharedStrings.xml"}],o,[{name:"Override",ContentType:"application/vnd.openxmlformats-package.core-properties+xml",PartName:"/docProps/core.xml"}]).map((function(e){return vr(e)}))}},wr=function(e,t){return{name:"xdr:"+e,children:[{name:"xdr:col",textNode:t.col.toString()},{name:"xdr:colOff",textNode:t.offsetX.toString()},{name:"xdr:row",textNode:t.row.toString()},{name:"xdr:rowOff",textNode:t.offsetY.toString()}]}},xr=function(e){var t=[{name:"a:ext",properties:{rawMap:{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}},children:[{name:"a16:creationId",properties:{rawMap:{id:"{822E6D20-D7BC-2841-A643-D49A6EF008A2}","xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main"}}}]}];switch(e.recolor&&e.recolor.toLowerCase()){case"grayscale":case"sepia":case"washout":t.push({name:"a:ext",properties:{rawMap:{uri:"{C183D7F6-B498-43B3-948B-1728B52AA6E4}"}},children:[{name:"adec:decorative",properties:{rawMap:{val:"0","xmlns:adec":"http://schemas.microsoft.com/office/drawing/2017/decorative"}}}]})}return{name:"a:extLst",children:t}},Sr=function(e,t){return{name:"xdr:nvPicPr",children:[{name:"xdr:cNvPr",properties:{rawMap:{id:t,name:e.id,descr:null!=e.altText?e.altText:void 0}},children:[xr(e)]},{name:"xdr:cNvPicPr",properties:{rawMap:{preferRelativeResize:"0"}},children:[{name:"a:picLocks"}]}]}},Er=function(e){if(e.saturation||e.tint){var t=[];return e.saturation&&t.push({name:"a:satMod",properties:{rawMap:{val:1e3*e.saturation}}}),e.tint&&t.push({name:"a:tint",properties:{rawMap:{val:1e3*e.tint}}}),t}},Or=function(e,t){var r,n,o;if(e.transparency){var i=Math.min(Math.max(e.transparency,0),100);r=[{name:"a:alphaModFix",properties:{rawMap:{amt:1e5-Math.round(1e3*i)}}}]}if(e.recolor)switch(r||(r=[]),e.recolor.toLocaleLowerCase()){case"grayscale":r.push({name:"a:grayscl"});break;case"sepia":r.push((o={color:"D9C3A5",tint:50,saturation:180},{name:"a:duotone",children:[{name:"a:prstClr",properties:{rawMap:{val:(n={color:"black"}).color}},children:Er(n)},{name:"a:srgbClr",properties:{rawMap:{val:o.color}},children:Er(o)}]}));break;case"washout":r.push({name:"a:lum",properties:{rawMap:{bright:"70000",contrast:"-70000"}}})}return{name:"xdr:blipFill",children:[{name:"a:blip",properties:{rawMap:{cstate:"print","r:embed":"rId"+t,"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships"}},children:r},{name:"a:stretch",children:[{name:"a:fillRect"}]}]}},_r=function(e,t){var r={name:"a:xfrm",children:[{name:"a:off",properties:{rawMap:{x:0,y:0}}},{name:"a:ext",properties:{rawMap:{cx:t.width,cy:t.height}}}]};if(e.rotation){var n=e.rotation;r.properties={rawMap:{rot:6e4*Math.min(Math.max(n,0),360)}}}return{name:"xdr:spPr",children:[r,{name:"a:prstGeom",properties:{rawMap:{prst:"rect"}},children:[{name:"a:avLst"}]}]}},Pr=function(e,t,r,n){return{name:"xdr:pic",children:[Sr(e,t+1),Or(e,r+1),_r(e,n)]}},Rr=function(e){var t=e.sheetIndex,r=Yn.worksheetImages.get(t),n=Yn.worksheetImageIds.get(t),o=r.map((function(e,t){var r=function(e){e.fitCell=!!e.fitCell||!e.width||!e.height;var t=e.position,r=void 0===t?{}:t,n=e.fitCell,o=e.width,i=void 0===o?0:o,a=e.height,s=void 0===a?0:a,l=e.totalHeight,u=e.totalWidth,c=r.offsetX,p=void 0===c?0:c,d=r.offsetY,h=void 0===d?0:d,f=r.row,g=void 0===f?1:f,y=r.rowSpan,v=void 0===y?1:y,m=r.column,b=void 0===m?1:m,C=r.colSpan,w=void 0===C?1:C;return{from:{row:g-1,col:b-1,offsetX:ir(p),offsetY:ir(h)},to:{row:g-1+(n?1:v-1),col:b-1+(n?1:w-1),offsetX:ir(i+p),offsetY:ir(s+h)},height:ir(l||s),width:ir(u||i)}}(e);return{name:"xdr:twoCellAnchor",properties:{rawMap:{editAs:"absolute"}},children:[wr("from",r.from),wr("to",r.to),Pr(e,t,n.get(e.id).index,r),{name:"xdr:clientData"}]}}));return{name:"xdr:wsDr",properties:{rawMap:{"xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main","xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing"}},children:o}},Ar=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},Tr=function(e){var t=Ar(e,4);return{name:"a:"+t[0],children:[{name:"a:"+t[1],properties:{rawMap:{val:t[2],lastClr:t[3]}}}]}},Dr=function(){return{name:"a:clrScheme",properties:{rawMap:{name:"Office"}},children:[Tr(["dk1","sysClr","windowText","000000"]),Tr(["lt1","sysClr","window","FFFFFF"]),Tr(["dk2","srgbClr","44546A"]),Tr(["lt2","srgbClr","E7E6E6"]),Tr(["accent1","srgbClr","4472C4"]),Tr(["accent2","srgbClr","ED7D31"]),Tr(["accent3","srgbClr","A5A5A5"]),Tr(["accent4","srgbClr","FFC000"]),Tr(["accent5","srgbClr","5B9BD5"]),Tr(["accent6","srgbClr","70AD47"]),Tr(["hlink","srgbClr","0563C1"]),Tr(["folHlink","srgbClr","954F72"])]}},Mr=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},kr=function(e){var t=Mr(e,4),r=t[0],n=t[1];return{name:"a:"+r,properties:{rawMap:{script:t[2],typeface:n,panose:t[3]}}}},Nr=function(){var e=o._.utf8_encode;return{name:"a:fontScheme",properties:{rawMap:{name:"Office"}},children:[{name:"a:majorFont",children:[kr(["latin","Calibri Light",void 0,"020F0302020204030204"]),kr(["ea",""]),kr(["cs",""]),kr(["font",e("\u6e38\u30b4\u30b7\u30c3\u30af Light"),"Jpan"]),kr(["font",e("\ub9d1\uc740 \uace0\ub515"),"Hang"]),kr(["font",e("\u7b49\u7ebf Light"),"Hans"]),kr(["font",e("\u65b0\u7d30\u660e\u9ad4"),"Hant"]),kr(["font","Times New Roman","Arab"]),kr(["font","Times New Roman","Hebr"]),kr(["font","Tahoma","Thai"]),kr(["font","Nyala","Ethi"]),kr(["font","Vrinda","Beng"]),kr(["font","Shruti","Gujr"]),kr(["font","MoolBoran","Khmr"]),kr(["font","Tunga","Knda"]),kr(["font","Raavi","Guru"]),kr(["font","Euphemia","Cans"]),kr(["font","Plantagenet Cherokee","Cher"]),kr(["font","Microsoft Yi Baiti","Yiii"]),kr(["font","Microsoft Himalaya","Tibt"]),kr(["font","MV Boli","Thaa"]),kr(["font","Mangal","Deva"]),kr(["font","Gautami","Telu"]),kr(["font","Latha","Taml"]),kr(["font","Estrangelo Edessa","Syrc"]),kr(["font","Kalinga","Orya"]),kr(["font","Kartika","Mlym"]),kr(["font","DokChampa","Laoo"]),kr(["font","Iskoola Pota","Sinh"]),kr(["font","Mongolian Baiti","Mong"]),kr(["font","Times New Roman","Viet"]),kr(["font","Microsoft Uighur","Uigh"]),kr(["font","Sylfaen","Geor"]),kr(["font","Arial","Armn"]),kr(["font","Leelawadee UI","Bugi"]),kr(["font","Microsoft JhengHei","Bopo"]),kr(["font","Javanese Text","Java"]),kr(["font","Segoe UI","Lisu"]),kr(["font","Myanmar Text","Mymr"]),kr(["font","Ebrima","Nkoo"]),kr(["font","Nirmala UI","Olck"]),kr(["font","Ebrima","Osma"]),kr(["font","Phagspa","Phag"]),kr(["font","Estrangelo Edessa","Syrn"]),kr(["font","Estrangelo Edessa","Syrj"]),kr(["font","Estrangelo Edessa","Syre"]),kr(["font","Nirmala UI","Sora"]),kr(["font","Microsoft Tai Le","Tale"]),kr(["font","Microsoft New Tai Lue","Talu"]),kr(["font","Ebrima","Tfng"])]},{name:"a:minorFont",children:[kr(["latin","Calibri",void 0,"020F0502020204030204"]),kr(["ea",""]),kr(["cs",""]),kr(["font",e("\u6e38\u30b4\u30b7\u30c3\u30af"),"Jpan"]),kr(["font",e("\ub9d1\uc740 \uace0\ub515"),"Hang"]),kr(["font",e("\u7b49\u7ebf"),"Hans"]),kr(["font",e("\u65b0\u7d30\u660e\u9ad4"),"Hant"]),kr(["font","Arial","Arab"]),kr(["font","Arial","Hebr"]),kr(["font","Tahoma","Thai"]),kr(["font","Nyala","Ethi"]),kr(["font","Vrinda","Beng"]),kr(["font","Shruti","Gujr"]),kr(["font","DaunPenh","Khmr"]),kr(["font","Tunga","Knda"]),kr(["font","Raavi","Guru"]),kr(["font","Euphemia","Cans"]),kr(["font","Plantagenet Cherokee","Cher"]),kr(["font","Microsoft Yi Baiti","Yiii"]),kr(["font","Microsoft Himalaya","Tibt"]),kr(["font","MV Boli","Thaa"]),kr(["font","Mangal","Deva"]),kr(["font","Gautami","Telu"]),kr(["font","Latha","Taml"]),kr(["font","Estrangelo Edessa","Syrc"]),kr(["font","Kalinga","Orya"]),kr(["font","Kartika","Mlym"]),kr(["font","DokChampa","Laoo"]),kr(["font","Iskoola Pota","Sinh"]),kr(["font","Mongolian Baiti","Mong"]),kr(["font","Arial","Viet"]),kr(["font","Microsoft Uighur","Uigh"]),kr(["font","Sylfaen","Geor"]),kr(["font","Arial","Armn"]),kr(["font","Leelawadee UI","Bugi"]),kr(["font","Microsoft JhengHei","Bopo"]),kr(["font","Javanese Text","Java"]),kr(["font","Segoe UI","Lisu"]),kr(["font","Myanmar Text","Mymr"]),kr(["font","Ebrima","Nkoo"]),kr(["font","Nirmala UI","Olck"]),kr(["font","Ebrima","Osma"]),kr(["font","Phagspa","Phag"]),kr(["font","Estrangelo Edessa","Syrn"]),kr(["font","Estrangelo Edessa","Syrj"]),kr(["font","Estrangelo Edessa","Syre"]),kr(["font","Nirmala UI","Sora"]),kr(["font","Microsoft Tai Le","Tale"]),kr(["font","Microsoft New Tai Lue","Talu"]),kr(["font","Ebrima","Tfng"])]}]}},Ir=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},Lr=function(e,t,r){return{name:"a:"+e,properties:{rawMap:{val:t}},children:r}},Fr=function(e){var t=Ir(e,6),r=t[0],n=t[1],o=t[2],i=t[3],a=t[4],s=t[5],l=[];return l.push(Lr("satMod",o)),i&&l.push(Lr("lumMod",i)),a&&l.push(Lr("tint",a)),s&&l.push(Lr("shade",s)),{name:"a:gs",properties:{rawMap:{pos:r}},children:[{name:"a:schemeClr",properties:{rawMap:{val:n}},children:l}]}},Gr=function(e,t){return{name:"a:solidFill",children:[Lr("schemeClr",e,t)]}},Br=function(e){var t=Ir(e,5),r=t[0],n=t[1],o=t[2],i=t[3],a=t[4],s=Ir(a,2),l=s[0],u=s[1];return{name:"a:gradFill",properties:{rawMap:{rotWithShape:r}},children:[{name:"a:gsLst",children:[Fr(n),Fr(o),Fr(i)]},{name:"a:lin",properties:{rawMap:{ang:l,scaled:u}}}]}},Wr=function(e){var t=Ir(e,4);return{name:"a:ln",properties:{rawMap:{w:t[0],cap:t[1],cmpd:t[2],algn:t[3]}},children:[Gr("phClr"),Lr("prstDash","solid"),{name:"a:miter",properties:{rawMap:{lim:"800000"}}}]}},Hr=function(e){var t=[];if(e){var r=Ir(e,5),n=r[0],o=r[1],i=r[2],a=r[3],s=r[4];t.push({name:"a:outerShdw",properties:{rawMap:{blurRad:n,dist:o,dir:i,algn:a,rotWithShape:s}},children:[Lr("srgbClr","000000",[Lr("alpha","63000")])]})}return{name:"a:effectStyle",children:[Object.assign({},{name:"a:effectLst"},t.length?{children:t}:{})]}},jr=function(){return{name:"a:fmtScheme",properties:{rawMap:{name:"Office"}},children:[{name:"a:fillStyleLst",children:[Gr("phClr"),Br(["1",["0","phClr","105000","110000","67000"],["50000","phClr","103000","105000","73000"],["100000","phClr","109000","105000","81000"],["5400000","0"]]),Br(["1",["0","phClr","103000","102000","94000"],["50000","phClr","110000","100000",void 0,"100000"],["100000","phClr","120000","99000",void 0,"78000"],["5400000","0"]])]},{name:"a:lnStyleLst",children:[Wr(["6350","flat","sng","ctr"]),Wr(["12700","flat","sng","ctr"]),Wr(["19050","flat","sng","ctr"])]},{name:"a:effectStyleLst",children:[Hr(),Hr(),Hr(["57150","19050","5400000","ctr","0"])]},{name:"a:bgFillStyleLst",children:[Gr("phClr"),Gr("phClr",[Lr("tint","95000"),Lr("satMod","170000")]),Br(["1",["0","phClr","150000","102000","93000","98000"],["50000","phClr","130000","103000","98000","90000"],["100000","phClr","120000",void 0,void 0,"63000"],["5400000","0"]])]}]}},Vr=function(){return{name:"a:themeElements",children:[Dr(),Nr(),jr()]}},zr=function(){return{name:"a:theme",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{a:"http://schemas.openxmlformats.org/drawingml/2006/main"}}],rawMap:{name:"Office Theme"}},children:[Vr(),{name:"a:objectDefaults"},{name:"a:extraClrSchemeLst"}]}},Ur=function(e){var t=[];return e.forEach((function(e,r){var n=r.toString(),i={name:"t",textNode:o._.utf8_encode(o._.escapeString(n))};n.trim().length!==n.length&&(i.properties={rawMap:{"xml:space":"preserve"}}),t.push({name:"si",children:[i]})})),t},Yr=function(e){return{name:"sst",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:e.size,uniqueCount:e.size}},children:Ur(e)}},Xr=function(e){return{name:"numFmt",properties:{rawMap:{formatCode:e.formatCode,numFmtId:e.numFmtId}}}},Kr=function(e){return{name:"numFmts",properties:{rawMap:{count:e.length}},children:e.map((function(e){return Xr(e)}))}},qr=function(e){var t=e.size,r=e.colorTheme,n=e.color,o=void 0===n?"FF000000":n,i=e.fontName,a=void 0===i?"Calibri":i,s=e.family,l=e.scheme,u=e.italic,c=e.bold,p=e.strikeThrough,d=e.outline,h=e.shadow,f=e.underline,g=e.verticalAlign,y=[{name:"sz",properties:{rawMap:{val:t}}},{name:"color",properties:{rawMap:{theme:r,rgb:o}}},{name:"name",properties:{rawMap:{val:a}}}];return s&&y.push({name:"family",properties:{rawMap:{val:s}}}),l&&y.push({name:"scheme",properties:{rawMap:{val:l}}}),u&&y.push({name:"i"}),c&&y.push({name:"b"}),p&&y.push({name:"strike"}),d&&y.push({name:"outline"}),h&&y.push({name:"shadow"}),f&&y.push({name:"u",properties:{rawMap:{val:f}}}),g&&y.push({name:"vertAlign",properties:{rawMap:{val:g}}}),{name:"font",children:y}},$r=function(e){return{name:"fonts",properties:{rawMap:{count:e.length}},children:e.map((function(e){return qr(e)}))}},Zr=function(e){var t=e.patternType,r=e.fgTheme,n=e.fgTint,o=e.fgRgb,i=e.bgRgb,a=e.bgIndexed,s={name:"patternFill",properties:{rawMap:{patternType:t}}};return(r||n||o)&&(s.children=[{name:"fgColor",properties:{rawMap:{theme:r,tint:n,rgb:o}}}]),(a||i)&&(s.children||(s.children=[]),s.children.push({name:"bgColor",properties:{rawMap:{indexed:a,rgb:i}}})),{name:"fill",children:[s]}},Qr=function(e){return{name:"fills",properties:{rawMap:{count:e.length}},children:e.map((function(e){return Zr(e)}))}},Jr={None:"None",Dot:"Dotted",Dash:"Dashed",Double:"Double",DashDot:"DashDot",DashDotDot:"DashDotDot",SlantDashDot:"SlantDashDot"},en=["Dashed","DashDot","DashDotDot"],tn={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinDiagStripe:"lightUp",ThinHorzCross:"lightGrid",ThinDiagCross:"lightTrellis",Gray125:"gray125",Gray0625:"gray0625"},rn={Automatic:"general",Left:"left",Center:"center",Right:"right",Fill:"fill",Justify:"justify",CenterAcrossSelection:"centerContinuous",Distributed:"distributed",JustifyDistributed:"justify"},nn={Automatic:void 0,Top:"top",Bottom:"bottom",Center:"center",Justify:"justify",Distributed:"distributed",JustifyDistributed:"justify"},on=function(e){return void 0==e?e:("#"===e.charAt(0)&&(e=e.substr(1)),6===e.length?"FF"+e:e)},an=function(e,t){if(!e)return"thin";var r=function(e){switch(e){case 1:return"thin";case 2:return"medium";case 3:return"thick";default:return"hair"}}(t),n=Jr[e];return"Continuous"===e?r:"medium"===r&&-1!==en.indexOf(n)?"medium"+n:n.charAt(0).toLowerCase()+n.substr(1)},sn=function(e){return rn[e]||"general"},ln=function(e){return nn[e]||void 0},un=function(e){return{name:"color",properties:{rawMap:{rgb:on(e||"#000000")}}}},cn=function(e){var t=e.left,r=e.right,n=e.top,o=e.bottom,i=e.diagonal,a=t?[un(t.color)]:void 0,s=r?[un(r.color)]:void 0,l=n?[un(n.color)]:void 0,u=o?[un(o.color)]:void 0,c=i?[un(i.color)]:void 0;return{name:"border",children:[{name:"left",properties:{rawMap:{style:t&&t.style}},children:a},{name:"right",properties:{rawMap:{style:r&&r.style}},children:s},{name:"top",properties:{rawMap:{style:n&&n.style}},children:l},{name:"bottom",properties:{rawMap:{style:o&&o.style}},children:u},{name:"diagonal",properties:{rawMap:{style:i&&i.style}},children:c}]}},pn=function(e){return{name:"borders",properties:{rawMap:{count:e.length}},children:e.map((function(e){return cn(e)}))}},dn=function(e){var t=["Context","LeftToRight","RightToLeft"].indexOf(e);return Math.max(t,0)},hn=function(e){var t=e.horizontal,r=e.indent,n=e.readingOrder,o=e.rotate,i=e.shrinkToFit,a=e.vertical,s=e.wrapText;return{name:"alignment",properties:{rawMap:{horizontal:t&&sn(t),indent:r,readingOrder:n&&dn(n),textRotation:o,shrinkToFit:i,vertical:a&&ln(a),wrapText:s}}}},fn=function(e){var t=!1===e.protected?0:1;return{name:"protection",properties:{rawMap:{hidden:!0===e.hideFormula?1:0,locked:t}}}},gn=function(e){var t=e.alignment,r=e.borderId,n=e.fillId,o=e.fontId,i=e.numFmtId,a=e.protection,s=e.xfId,l=[];return t&&l.push(hn(t)),a&&l.push(fn(a)),{name:"xf",properties:{rawMap:{applyAlignment:t?1:void 0,applyProtection:a?1:void 0,applyBorder:r?1:void 0,applyFill:n?1:void 0,borderId:r,fillId:n,applyFont:o?1:void 0,fontId:o,applyNumberFormat:i?1:void 0,numFmtId:i,xfId:s}},children:l.length?l:void 0}},yn=function(e){return{name:"cellStyleXfs",properties:{rawMap:{count:e.length}},children:e.map((function(e){return gn(e)}))}},vn=function(e){return{name:"cellXfs",properties:{rawMap:{count:e.length}},children:e.map((function(e){return gn(e)}))}},mn=function(e){return{name:"cellStyle",properties:{rawMap:{builtinId:e.builtinId,name:e.name,xfId:e.xfId}}}},bn=function(e){return{name:"cellStyles",properties:{rawMap:{count:e.length}},children:e.map((function(e){return mn(e)}))}},Cn=function(){return Cn=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Cn.apply(this,arguments)},wn=function(e,t){return-1!==e.indexOf("mixedStyle")&&t>1&&(e+="_"+t),e},xn=function(){Wt={base:0},Ht=[],jt=[{fontName:"Calibri",colorTheme:"1",family:"2",scheme:"minor"}],Vt=[{patternType:"none"},{patternType:"gray125"}],zt=[{left:void 0,right:void 0,top:void 0,bottom:void 0,diagonal:void 0}],Ut=[{borderId:0,fillId:0,fontId:0,numFmtId:0}],Yt=[{borderId:0,fillId:0,fontId:0,numFmtId:0,xfId:0}],Xt=[{builtinId:0,name:"Normal",xfId:0}]},Sn=function(e){var t,r=(t=e.pattern)?tn[t]||t:"none",n=on(e.color),o=on(e.patternColor),i=Vt.findIndex((function(e){var t=e.patternType,i=e.fgRgb,a=e.bgRgb;return t==r&&i==n&&a==o}));return-1===i&&(i=Vt.length,Vt.push({patternType:r,fgRgb:n,bgRgb:o})),i},En=function(e){var t=e.fontName,r=void 0===t?"Calibri":t,n=e.color,i=e.size,a=e.bold,s=e.italic,l=e.outline,u=e.shadow,c=e.strikeThrough,p=e.underline,d=e.family,h=e.verticalAlign,f=r?o._.utf8_encode(r):r,g=on(n),y=function(e){if(void 0!==e){var t=["Automatic","Roman","Swiss","Modern","Script","Decorative"].indexOf(e||"Automatic");return Math.max(t,0)}}(d),v=p?p.toLocaleLowerCase():void 0,m=h?h.toLocaleLowerCase():void 0,b=jt.findIndex((function(e){return e.fontName==f&&e.color==g&&e.size==i&&e.bold==a&&e.italic==s&&e.outline==l&&e.shadow==u&&e.strikeThrough==c&&e.underline==v&&e.verticalAlign==m&&e.family==y}));return-1===b&&(b=jt.length,jt.push({fontName:f,color:g,size:i,bold:a,italic:s,outline:l,shadow:u,strikeThrough:c,underline:v,verticalAlign:m,family:null!=y?y.toString():void 0})),b},On=function(e){var t=e.alignment,r=e.borders,n=e.font,i=e.interior,a=e.numberFormat,s=e.protection,l=e.id,u=0,c=0,p=0,d=0;l&&(l=wn(l,Kt),void 0==Wt[l]&&(i&&(u=Sn(i)),r&&(c=function(e){var t,r,n,o,i,a,s,l,u=e.borderBottom,c=e.borderTop,p=e.borderLeft,d=e.borderRight;p&&(n=an(p.lineStyle,p.weight),s=on(p.color)),d&&(o=an(d.lineStyle,d.weight),l=on(d.color)),u&&(t=an(u.lineStyle,u.weight),i=on(u.color)),c&&(r=an(c.lineStyle,c.weight),a=on(c.color));var h=zt.findIndex((function(e){var u=e.left,c=e.right,p=e.top,d=e.bottom;if(!u&&(n||s))return!1;if(!c&&(o||l))return!1;if(!p&&(r||a))return!1;if(!d&&(t||i))return!1;var h=u||{},f=h.style,g=h.color,y=c||{},v=y.style,m=y.color,b=p||{},C=b.style,w=b.color,x=d||{},S=x.style,E=x.color;return f==n&&g==s&&v==o&&m==l&&C==r&&w==a&&S==t&&E==i}));return-1===h&&(h=zt.length,zt.push({left:{style:n,color:s},right:{style:o,color:l},top:{style:r,color:a},bottom:{style:t,color:i},diagonal:{style:void 0,color:void 0}})),h}(r)),n&&(p=En(n)),a&&(d=function(e){if(e=o._.utf8_encode(e),or[e])return or[e];var t=Ht.findIndex((function(t){return t.formatCode===e}));return-1===t?(t=Ht.length+164,Ht.push({formatCode:e,numFmtId:t})):t=Ht[t].numFmtId,t}(a.format)),Wt[l]=Yt.length,Yt.push({alignment:t,borderId:c||0,fillId:u||0,fontId:p||0,numFmtId:d||0,protection:s,xfId:0})))},_n=function(e){var t=Kr(Ht),r=$r(jt.map((function(t){return Cn(Cn({},t),{size:null!=t.size?t.size:e})}))),n=Qr(Vt),o=pn(zt),i=yn(Ut),a=vn(Yt),s=bn(Xt);return xn(),{name:"styleSheet",properties:{rawMap:{"mc:Ignorable":"x14ac x16r2 xr",xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision"}},children:[t,r,n,o,i,a,s,{name:"tableStyles",properties:{rawMap:{count:0,defaultPivotStyle:"PivotStyleLight16",defaultTableStyle:"TableStyleMedium2"}}}]}},Pn=function(e,t){return Wt[wn(e,t)]||0},Rn=function(e,t){var r=(t+1).toString();return{name:"sheet",properties:{rawMap:{name:e,sheetId:r,"r:id":"rId"+r}}}},An=function(e){return{name:"sheets",children:e.map((function(e,t){return Rn(e,t)}))}},Tn=function(e){return{name:"workbook",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"}}],rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},children:[An(e)]}},Dn=function(e){var t=e.min,r=e.max,n=e.outlineLevel,o=e.s,i=e.width,a=e.hidden,s=e.bestFit,l=1,u="0";return i>1&&(l=function(e){return Math.ceil((e-12)/7+1)}(i),u="1"),{name:"col",properties:{rawMap:{min:t,max:r,outlineLevel:null!=n?n:void 0,width:l,style:o,hidden:a?"1":"0",bestFit:s?"1":"0",customWidth:u}}}},Mn=function(e,t,r){var n=e.ref,i=e.data,a=e.styleId,s=i.type,l=i.value,u=s;"f"===s?u="str":s.charAt(0)===s.charAt(0).toUpperCase()&&(u=function(e){var t=e.charAt(0).toLowerCase();return"s"===t?"inlineStr":t}(s));var c,p={name:"c",properties:{rawMap:{r:n,t:"empty"===u?void 0:u,s:a?Pn(a,r):void 0}}};return"empty"===u?p:(c="str"===u&&"f"===s?[{name:"f",textNode:o._.escapeString(o._.utf8_encode(l))}]:"inlineStr"===u?[{name:"is",children:[{name:"t",textNode:o._.escapeString(o._.utf8_encode(l))}]}]:[{name:"v",textNode:l}],Object.assign({},p,{children:c}))},kn=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},Nn=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(kn(arguments[t]));return e},In=function(e){return""!==e.data.value||void 0!==e.styleId},Ln=function(e,t,r){var n=e.index,o=e.collapsed,i=e.hidden,a=e.height,s=e.s,l=e.cells,u=void 0===l?[]:l;!function(e,t){for(var r=[],n=0,o=0;o<e.length;o++)(a=e[o]).mergeAcross&&(r.push({pos:o,excelPos:n}),n+=a.mergeAcross),n++;if(r.length)for(o=r.length-1;o>=0;o--){for(var i=[],a=e[r[o].pos],s=1;s<=a.mergeAcross;s++)i.push({ref:""+lr(r[o].excelPos+1+s)+(t+1),styleId:a.styleId,data:{type:"empty",value:null}});i.length&&e.splice.apply(e,Nn([r[o].pos+1,0],i))}}(u,t);var c=u.filter(In).map((function(e,t){return Mn(e,t,r)}));return{name:"row",properties:{rawMap:{r:n,collapsed:o,hidden:i?"1":"0",ht:a,customHeight:null!=a?"1":"0",s:s,customFormat:null!=s?"1":"0"}},children:c}},Fn=function(e){return{name:"mergeCell",properties:{rawMap:{ref:e}}}},Gn=function(e){if(null==e)return 1;var t=["Letter","Letter Small","Tabloid","Ledger","Legal","Statement","Executive","A3","A4","A4 Small","A5","A6","B4","B5","Folio","Envelope","Envelope DL","Envelope C5","Envelope B5","Envelope C3","Envelope C4","Envelope C6","Envelope Monarch","Japanese Postcard","Japanese Double Postcard"].indexOf(e);return-1===t?1:t+1},Bn=function(e){return e.reduce((function(e,t){var r,n,i=function(e,t){return t?(e+="&amp;&quot;",e+=t.fontName||"Calibri",t.bold!==t.italic?e+=t.bold?",Bold":",Italic":t.bold?e+=",Bold Italic":e+=",Regular",e+="&quot;",t.size&&(e+="&amp;"+t.size),t.strikeThrough&&(e+="&amp;S"),t.underline&&(e+="&amp;"+("Double"===t.underline?"E":"U")),t.color&&(e+="&amp;K"+t.color.replace("#","").toUpperCase()),e):e}(e+"&amp;"+("Center"===(r=t.position)?"C":"Right"===r?"R":"L"),t.font);return""+i+o._.escapeString((n=t.value,o._.iterateObject({"&[Page]":"&P","&[Pages]":"&N","&[Date]":"&D","&[Time]":"&T","&[Tab]":"&A","&[Path]":"&Z","&[File]":"&F"},(function(e,t){n=n.replace(e,t)})),n))}),"")},Wn=function(e){var t=[];return["all","first","even"].forEach((function(r){var n=e[r],i="all"===r?"odd":r;n&&(n.header||n.footer)&&o._.iterateObject(n,(function(e,r){var n=""+e.charAt(0).toUpperCase()+e.slice(1);r&&t.push({name:""+i+n,properties:{rawMap:{"xml:space":"preserve"}},textNode:Bn(r)})}))})),t},Hn=function(e){var t,r=e.worksheet,n=e.currentSheet,i=e.margins,a=void 0===i?{}:i,s=e.pageSetup,l=e.headerFooterConfig,u=r.table,c=u.rows,p=u.columns,d=p&&p.length?function(e,t){var r=[],n=[];e.forEach((function(e,o){var i,a=e.cells,s=0;e.index=o+1,a.forEach((function(e,a){var l=a+s+1,u=lr(l),c=o+1;if(e.mergeAcross){s+=e.mergeAcross;var p=lr(a+s+1);r.push(""+u+c+":"+p+c)}t[l-1]||(t[l-1]={});var d=e.collapsibleRanges;d&&d.forEach((function(e){n.push([l+e[0],l+e[1]])})),(i=t[l-1]).min=l,i.max=l,e.ref=""+u+c}))})),n.sort((function(e,t){return e[0]!==t[0]?e[0]-t[0]:t[1]-e[1]}));var o=new Map,i=new Map;return n.filter((function(e){var t=e.toString();return!o.get(t)&&(o.set(t,!0),!0)})).forEach((function(e){var r=t.find((function(t){return t.min==e[0]&&t.max==e[1]})),n=i.get(e[0]);t.push({min:e[0],max:e[1],outlineLevel:n||1,width:(r||{width:100}).width}),i.set(e[0],(n||0)+1)})),r}(c,p):[],h=o._.compose(function(e){return function(t){return e.length&&t.push({name:"cols",children:e.map((function(e){return Dn(e)}))}),t}}(p),function(e,t){return function(r){return e.length&&r.push({name:"sheetData",children:e.map((function(e,r){return Ln(e,r,t)}))}),r}}(c,n+1),(t=d,function(e){return t.length&&e.push({name:"mergeCells",properties:{rawMap:{count:t.length}},children:t.map((function(e){return Fn(e)}))}),e}),function(e){return function(t){var r=e.top,n=void 0===r?.75:r,o=e.right,i=void 0===o?.7:o,a=e.bottom,s=void 0===a?.75:a,l=e.left,u=void 0===l?.7:l,c=e.header,p=void 0===c?.3:c,d=e.footer,h=void 0===d?.3:d;return t.push({name:"pageMargins",properties:{rawMap:{bottom:s,footer:h,header:p,left:u,right:i,top:n}}}),t}}(a),function(e){return function(t){var r;return e&&t.push({name:"pageSetup",properties:{rawMap:{horizontalDpi:0,verticalDpi:0,orientation:(r=e.orientation,!r||"Portrait"!==r&&"Landscape"!==r?"portrait":r.toLocaleLowerCase()),paperSize:Gn(e.pageSize)}}}),t}}(s),function(e){return function(t){if(!e)return t;var r=null!=e.first?1:0,n=null!=e.even?1:0;return t.push({name:"headerFooter",properties:{rawMap:{differentFirst:r,differentOddEven:n}},children:Wn(e)}),t}}(l),function(e){return function(t){return Yn.worksheetImages.get(e)&&t.push({name:"drawing",properties:{rawMap:{"r:id":"rId1"}}}),t}}(n));return{name:"worksheet",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"}}],rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},children:h([])}},jn=function(e){return{name:"Relationship",properties:{rawMap:{Id:e.Id,Type:e.Type,Target:e.Target}}}},Vn=function(e){return{name:"Relationships",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}},children:e.map((function(e){return jn(e)}))}},zn=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},Un=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(zn(arguments[t]));return e},Yn=function(){function e(){}return e.createExcel=function(e,t,r,n,o){return this.addSheetName(t),function(e,t){1===(Kt=t)&&xn(),e.forEach(On)}(e,this.sheetNames.length),this.createWorksheet(t,r,n,o)},e.buildImageMap=function(e,t,r,n,o){var i=this.sheetNames.length,a=this.images.get(e.id);e.position&&e.position.row&&e.position.column||(e.position||(e.position={}),e.position=Object.assign({},e.position,{row:t,column:n.indexOf(r)+1}));var s=e;if(function(e,t){var r=e.position,n=r.colSpan,o=r.column;if(e.width)if(n)for(var i=t.slice(o-1,o+n-1),a=0,s=0;s<i.length;s++){var l=i[s].getActualWidth();if(e.width<a+l){e.position.colSpan=s+1,e.totalWidth=e.width,e.width=e.totalWidth-a;break}a+=l}else e.totalWidth=e.width}(s,n),function(e,t){var r,n=e.position,o=n.rowSpan,i=n.row;if(e.height)if(o)for(var a=0,s=0,l=i;l<i+o;l++){var u=(r=ar(l,t)||20,Math.round(96*r/72));if(e.height<a+u){e.position.rowSpan=s+1,e.totalHeight=e.height,e.height=e.totalHeight-a;break}a+=u,s++}else e.totalHeight=e.height}(s,o),a){var l=a.find((function(e){return e.sheetId===i}));l?l.image.push(s):a.push({sheetId:i,image:[s]})}else this.images.set(s.id,[{sheetId:i,image:[s]}]),this.workbookImageIds.set(s.id,{type:s.imageType,index:this.workbookImageIds.size});this.buildSheetImageMap(i,s)},e.buildSheetImageMap=function(e,t){var r=this.worksheetImageIds.get(e);r||(r=new Map,this.worksheetImageIds.set(e,r));var n=this.worksheetImages.get(e);n?(n.push(t),r.get(t.id)||r.set(t.id,{index:r.size,type:t.imageType})):(this.worksheetImages.set(e,[t]),r.set(t.id,{index:0,type:t.imageType}))},e.addSheetName=function(e){for(var t=o._.escapeString(e.name)||"",r="";-1!==this.sheetNames.indexOf(""+t+r);)if(""===r)r="_1";else{var n=parseInt(r.slice(1),10);r="_"+(n+1)}e.name=""+t+r,this.sheetNames.push(e.name)},e.getStringPosition=function(e){return this.sharedStrings.has(e)?this.sharedStrings.get(e):(this.sharedStrings.set(e,this.sharedStrings.size),this.sharedStrings.size-1)},e.resetFactory=function(){this.sharedStrings=new Map,this.images=new Map,this.worksheetImages=new Map,this.workbookImageIds=new Map,this.worksheetImageIds=new Map,this.sheetNames=[],this.factoryMode=o.ExcelFactoryMode.SINGLE_SHEET},e.createWorkbook=function(){return sr(Tn(this.sheetNames))},e.createStylesheet=function(e){return sr(_n(e))},e.createSharedStrings=function(){return sr(Yr(this.sharedStrings))},e.createCore=function(e){return sr(yr(e))},e.createContentTypes=function(e){return sr(Cr(e))},e.createRels=function(){var e=Vn([{Id:"rId1",Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Target:"xl/workbook.xml"},{Id:"rId2",Type:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",Target:"docProps/core.xml"}]);return sr(e)},e.createTheme=function(){return sr(zr())},e.createWorkbookRels=function(e){var t=new Array(e).fill(void 0).map((function(e,t){return{Id:"rId"+(t+1),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",Target:"worksheets/sheet"+(t+1)+".xml"}})),r=Vn(Un(t,[{Id:"rId"+(e+1),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Target:"theme/theme1.xml"},{Id:"rId"+(e+2),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Target:"styles.xml"},{Id:"rId"+(e+3),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Target:"sharedStrings.xml"}]));return sr(r)},e.createDrawing=function(e){return sr(Rr({sheetIndex:e}))},e.createDrawingRel=function(e){var t=this,r=this.worksheetImageIds.get(e),n=[];return r.forEach((function(e,r){n.push({Id:"rId"+(e.index+1),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:"../media/image"+(t.workbookImageIds.get(r).index+1)+"."+e.type})})),sr(Vn(n))},e.createWorksheetDrawingRel=function(e){var t=Vn([{Id:"rId1",Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:"../drawings/drawing"+(e+1)+".xml"}]);return sr(t)},e.createWorksheet=function(e,t,r,n){return sr(Hn({worksheet:e,currentSheet:this.sheetNames.length-1,margins:t,pageSetup:r,headerFooterConfig:n}))},e.sharedStrings=new Map,e.sheetNames=[],e.images=new Map,e.worksheetImages=new Map,e.workbookImageIds=new Map,e.worksheetImageIds=new Map,e.factoryMode=o.ExcelFactoryMode.SINGLE_SHEET,e}(),Xn=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Kn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Xn(t,e),t.prototype.createExcel=function(e){var t=this.excelStyles,r=this.config,n=r.margins,o=r.pageSetup,i=r.headerFooterConfig;return Yn.createExcel(t,e,n,o,i)},t.prototype.getDataTypeForValue=function(e){return void 0===e?"empty":o._.isNumeric(e)?"n":"s"},t.prototype.getType=function(e,t,r){if(this.isFormula(r))return"f";if(t&&t.dataType)switch(t.dataType.toLocaleLowerCase()){case"formula":return"f";case"string":return"s";case"number":return"n";case"datetime":return"d";case"error":return"e";case"boolean":return"b";default:console.warn("AG Grid: Unrecognized data type for excel export ["+t.id+".dataType="+t.dataType+"]")}return e},t.prototype.addImage=function(e,t,r){if(this.config.addImageToCell){var n=this.config.addImageToCell(e,t,r);if(n)return Yn.buildImageMap(n.image,e,t,this.columnsToExport,this.config.rowHeight),n}},t.prototype.createCell=function(e,t,r){var n=this.getStyleById(e),o=this.getType(t,n,r)||t;return{styleId:n?e:void 0,data:{type:o,value:this.getCellValue(o,r)}}},t.prototype.createMergedCell=function(e,t,r,n){var o=null==r?"":r;return{styleId:this.getStyleById(e)?e:void 0,data:{type:t,value:"s"===t?Yn.getStringPosition(o).toString():r},mergeAcross:n}},t.prototype.getCellValue=function(e,t){if(null==t)return Yn.getStringPosition("").toString();switch(e){case"s":return""===t?"":Yn.getStringPosition(t).toString();case"f":return t.slice(1);case"n":return Number(t).toString();default:return t}},t}(hr),qn=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),$n=function(){return $n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},$n.apply(this,arguments)},Zn=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Qn=function(e){var t=e.data,r=e.fontSize,n=void 0===r?11:r,o=e.author,i=void 0===o?"AG Grid":o,a=Yn.images.size>0;if(rr.addFolders(["_rels/","docProps/","xl/","xl/theme/","xl/_rels/","xl/worksheets/"]),a){rr.addFolders(["xl/worksheets/_rels","xl/drawings/","xl/drawings/_rels","xl/media/"]);var s=0;Yn.images.forEach((function(e){var t=e[0].image[0],r=t.imageType;rr.addFile("xl/media/image"+ ++s+"."+r,t.base64,!0)}))}if(!t||0===t.length)return console.warn("AG Grid: Invalid params supplied to getMultipleSheetsAsExcel() - `ExcelExportParams.data` is empty."),void Yn.resetFactory();var l=t.length,u=0;t.forEach((function(e,t){rr.addFile("xl/worksheets/sheet"+(t+1)+".xml",e),a&&Yn.worksheetImages.get(t)&&eo(t,u++)})),rr.addFile("xl/workbook.xml",Yn.createWorkbook()),rr.addFile("xl/styles.xml",Yn.createStylesheet(n)),rr.addFile("xl/sharedStrings.xml",Yn.createSharedStrings()),rr.addFile("xl/theme/theme1.xml",Yn.createTheme()),rr.addFile("xl/_rels/workbook.xml.rels",Yn.createWorkbookRels(l)),rr.addFile("docProps/core.xml",Yn.createCore(i)),rr.addFile("[Content_Types].xml",Yn.createContentTypes(l)),rr.addFile("_rels/.rels",Yn.createRels()),Yn.resetFactory();var c=e.mimeType||"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";return rr.getContent(c)},Jn=function(e){var t=e.fileName,r=void 0===t?"export.xlsx":t,n=Qn(e);n&&Mt.download(r,n)},eo=function(e,t){var r="xl/drawings/drawing"+(t+1)+".xml",n="xl/drawings/_rels/drawing"+(t+1)+".xml.rels",o="xl/worksheets/_rels/sheet"+(e+1)+".xml.rels";rr.addFile(n,Yn.createDrawingRel(e)),rr.addFile(r,Yn.createDrawing(e)),rr.addFile(o,Yn.createWorksheetDrawingRel(t))},to=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.exportMode="xlsx",t}return qn(t,e),t.prototype.postConstruct=function(){this.setBeans({gridSerializer:this.gridSerializer,gridOptionsWrapper:this.gridOptionsWrapper})},t.prototype.getMergedParams=function(e){var t=this.gridOptionsWrapper.getDefaultExportParams("excel");return Object.assign({},t,e)},t.prototype.getData=function(t){return this.setExportMode(t.exportMode||"xlsx"),e.prototype.getData.call(this,t)},t.prototype.export=function(e){if(this.isExportSuppressed())return console.warn("AG Grid: Export cancelled. Export is not allowed as per your configuration."),"";var t=this.getMergedParams(e),r=this.getData(t),n={data:[r],fontSize:t.fontSize,author:t.author,mimeType:t.mimeType},o=this.packageFile(n);return o&&Mt.download(this.getFileName(t.fileName),o),r},t.prototype.exportDataAsExcel=function(e){return this.export(e)},t.prototype.getDataAsExcel=function(e){var t=this.getMergedParams(e),r=this.getData(t);if(e&&"xml"===e.exportMode)return r;var n={data:[r],fontSize:t.fontSize,author:t.author,mimeType:t.mimeType};return this.packageFile(n)},t.prototype.setFactoryMode=function(e,t){void 0===t&&(t="xlsx"),("xlsx"===t?Yn:nr).factoryMode=e},t.prototype.getFactoryMode=function(e){return("xlsx"===e?Yn:nr).factoryMode},t.prototype.getSheetDataForExcel=function(e){var t=this.getMergedParams(e);return this.getData(t)},t.prototype.getMultipleSheetsAsExcel=function(e){return Qn(e)},t.prototype.exportMultipleSheetsAsExcel=function(e){return Jn(e)},t.prototype.getDefaultFileName=function(){return"export."+this.getExportMode()},t.prototype.getDefaultFileExtension=function(){return this.getExportMode()},t.prototype.createSerializingSession=function(e){var t=this,r=t.columnModel,n=t.valueService,i=t.gridOptionsWrapper,a="xlsx"===this.getExportMode(),s="ag-grid";null!=e.sheetName&&(s=o._.utf8_encode(e.sheetName.toString().substr(0,31)));var l=$n($n({},e),{sheetName:s,columnModel:r,valueService:n,gridOptionsWrapper:i,headerRowHeight:e.headerRowHeight||e.rowHeight,baseExcelStyles:this.gridOptions.excelStyles||[],styleLinker:this.styleLinker.bind(this)});return new(a?Kn:gr)(l)},t.prototype.styleLinker=function(e,t,r,n,o){if(e===me.HEADER)return["header"];if(e===me.HEADER_GROUPING)return["header","headerGroup"];var i=this.gridOptions.excelStyles,a=["cell"];if(!i||!i.length)return a;var s=i.map((function(e){return e.id}));return this.stylingService.processAllCellClasses(n.getColDef(),{value:r,data:o.data,node:o,colDef:n.getColDef(),rowIndex:t,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()},(function(e){s.indexOf(e)>-1&&a.push(e)})),a.sort((function(e,t){return s.indexOf(e)<s.indexOf(t)?-1:1}))},t.prototype.isExportSuppressed=function(){return this.gridOptionsWrapper.isSuppressExcelExport()},t.prototype.setExportMode=function(e){this.exportMode=e},t.prototype.getExportMode=function(){return this.exportMode},t.prototype.packageFile=function(e){if("xml"===this.getExportMode()){var t=e.mimeType||"application/vnd.ms-excel";return new Blob(["\ufeff",e.data[0]],{type:t})}return Qn(e)},Zn([o.Autowired("columnModel")],t.prototype,"columnModel",void 0),Zn([o.Autowired("valueService")],t.prototype,"valueService",void 0),Zn([o.Autowired("gridOptions")],t.prototype,"gridOptions",void 0),Zn([o.Autowired("stylingService")],t.prototype,"stylingService",void 0),Zn([o.Autowired("gridSerializer")],t.prototype,"gridSerializer",void 0),Zn([o.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Zn([o.PostConstruct],t.prototype,"postConstruct",null),t=Zn([o.Bean("excelCreator")],t)}(Tt),ro={moduleName:o.ModuleNames.ExcelExportModule,beans:[to,$t,Ft],dependantModules:[Zt,g]},no=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),oo=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a};!function(e){e[e.EXPANDED=0]="EXPANDED",e[e.COLLAPSED=1]="COLLAPSED",e[e.INDETERMINATE=2]="INDETERMINATE"}(qt||(qt={}));var io=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return no(t,e),t.prototype.preConstruct=function(){this.setTemplate('<div class="ag-filter-toolpanel-search" role="presentation">\n                <div ref="eExpand" class="ag-filter-toolpanel-expand"></div>\n                <ag-input-text-field ref="eFilterTextField" class="ag-filter-toolpanel-search-input"></ag-input-text-field>\n            </div>')},t.prototype.postConstruct=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc();this.eFilterTextField.onValueChange(this.onSearchTextChanged.bind(this)),this.eFilterTextField.setInputAriaLabel(e("ariaFilterColumnsInput","Filter Columns Input")),this.createExpandIcons(),this.setExpandState(qt.EXPANDED),this.addManagedListener(this.eExpand,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eventService,o.Events.EVENT_NEW_COLUMNS_LOADED,this.showOrHideOptions.bind(this))},t.prototype.init=function(e){this.params=e,this.columnModel.isReady()&&this.showOrHideOptions()},t.prototype.createExpandIcons=function(){this.eExpand.appendChild(this.eExpandChecked=o._.createIconNoSpan("columnSelectOpen",this.gridOptionsWrapper)),this.eExpand.appendChild(this.eExpandUnchecked=o._.createIconNoSpan("columnSelectClosed",this.gridOptionsWrapper)),this.eExpand.appendChild(this.eExpandIndeterminate=o._.createIconNoSpan("columnSelectIndeterminate",this.gridOptionsWrapper))},t.prototype.showOrHideOptions=function(){var e=!this.params.suppressFilterSearch,t=!this.params.suppressExpandAll,r=this.gridOptionsWrapper.getLocaleTextFunc();this.eFilterTextField.setInputPlaceholder(r("searchOoo","Search..."));var n=this.columnModel.getAllGridColumns().some((function(e){return e.getOriginalParent()&&e.isFilterAllowed()}));o._.setDisplayed(this.eFilterTextField.getGui(),e),o._.setDisplayed(this.eExpand,t&&n)},t.prototype.onSearchTextChanged=function(){var e=this;this.onSearchTextChangedDebounced||(this.onSearchTextChangedDebounced=o._.debounce((function(){e.dispatchEvent({type:"searchChanged",searchText:e.eFilterTextField.getValue()})}),300)),this.onSearchTextChangedDebounced()},t.prototype.onExpandClicked=function(){var e=this.currentExpandState===qt.EXPANDED?{type:"collapseAll"}:{type:"expandAll"};this.dispatchEvent(e)},t.prototype.setExpandState=function(e){this.currentExpandState=e,o._.setDisplayed(this.eExpandChecked,this.currentExpandState===qt.EXPANDED),o._.setDisplayed(this.eExpandUnchecked,this.currentExpandState===qt.COLLAPSED),o._.setDisplayed(this.eExpandIndeterminate,this.currentExpandState===qt.INDETERMINATE)},oo([o.Autowired("columnModel")],t.prototype,"columnModel",void 0),oo([o.RefSelector("eExpand")],t.prototype,"eExpand",void 0),oo([o.RefSelector("eFilterTextField")],t.prototype,"eFilterTextField",void 0),oo([o.PreConstruct],t.prototype,"preConstruct",null),oo([o.PostConstruct],t.prototype,"postConstruct",null),t}(o.Component),ao=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),so=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},lo=function(e){function t(r){void 0===r&&(r=!1);var n=e.call(this,t.TEMPLATE)||this;return n.expanded=!1,n.hideHeader=r,n}return ao(t,e),t.prototype.postConstruct=function(){this.eExpandChecked=o._.createIconNoSpan("columnSelectOpen",this.gridOptionsWrapper),this.eExpandUnchecked=o._.createIconNoSpan("columnSelectClosed",this.gridOptionsWrapper),this.eExpand.appendChild(this.eExpandChecked),this.eExpand.appendChild(this.eExpandUnchecked)},t.prototype.setColumn=function(e){var t=this;this.column=e,this.eFilterName.innerText=this.columnModel.getDisplayNameForColumn(this.column,"filterToolPanel",!1)||"",this.addManagedListener(this.eFilterToolPanelHeader,"click",this.toggleExpanded.bind(this)),this.addManagedListener(this.eFilterToolPanelHeader,"keydown",(function(e){e.key===o.KeyCode.ENTER&&t.toggleExpanded()})),this.addManagedListener(this.eventService,o.Events.EVENT_FILTER_OPENED,this.onFilterOpened.bind(this)),this.addInIcon("filter",this.eFilterIcon,this.column),this.eFilterIcon.classList.toggle("ag-hidden",!this.isFilterActive()),this.eExpandChecked.classList.add("ag-hidden"),this.hideHeader?(this.eFilterToolPanelHeader.classList.toggle("ag-hidden",!0),this.eFilterToolPanelHeader.removeAttribute("tabindex")):this.eFilterToolPanelHeader.setAttribute("tabindex","0"),this.addManagedListener(this.column,o.Column.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this))},t.prototype.getColumn=function(){return this.column},t.prototype.getColumnFilterName=function(){return this.columnModel.getDisplayNameForColumn(this.column,"filterToolPanel",!1)},t.prototype.addCssClassToTitleBar=function(e){this.eFilterToolPanelHeader.classList.add(e)},t.prototype.addInIcon=function(e,t,r){if(null!=t){var n=o._.createIconNoSpan(e,this.gridOptionsWrapper,r);t.appendChild(n)}},t.prototype.isFilterActive=function(){return this.filterManager.isFilterActive(this.column)},t.prototype.onFilterChanged=function(){this.eFilterIcon.classList.toggle("ag-hidden",!this.isFilterActive()),this.dispatchEvent({type:o.Column.EVENT_FILTER_CHANGED})},t.prototype.toggleExpanded=function(){this.expanded?this.collapse():this.expand()},t.prototype.expand=function(){var e,t=this;if(!this.expanded){this.expanded=!0,o._.setAriaExpanded(this.eFilterToolPanelHeader,!0);var r=o._.loadTemplate('<div class="ag-filter-toolpanel-instance-filter"></div>'),n=null===(e=this.filterManager.getOrCreateFilterWrapper(this.column,"TOOLBAR"))||void 0===e?void 0:e.filterPromise;n&&n.then((function(e){t.underlyingFilter=e,e&&(r.appendChild(e.getGui()),t.agFilterToolPanelBody.appendChild(r),e.afterGuiAttached&&e.afterGuiAttached({container:"toolPanel"}))})),o._.setDisplayed(this.eExpandChecked,!0),o._.setDisplayed(this.eExpandUnchecked,!1)}},t.prototype.collapse=function(){this.expanded&&(this.expanded=!1,o._.setAriaExpanded(this.eFilterToolPanelHeader,!1),this.agFilterToolPanelBody.removeChild(this.agFilterToolPanelBody.children[0]),o._.setDisplayed(this.eExpandChecked,!1),o._.setDisplayed(this.eExpandUnchecked,!0))},t.prototype.refreshFilter=function(){if(this.expanded){var e=this.underlyingFilter;e&&"function"===typeof e.refreshVirtualList&&e.refreshVirtualList()}},t.prototype.onFilterOpened=function(e){"COLUMN_MENU"===e.source&&e.column===this.column&&this.expanded&&this.collapse()},t.TEMPLATE='\n        <div class="ag-filter-toolpanel-instance">\n            <div class="ag-filter-toolpanel-header ag-filter-toolpanel-instance-header" ref="eFilterToolPanelHeader" role="button" aria-expanded="false">\n                <div ref="eExpand" class="ag-filter-toolpanel-expand"></div>\n                <span ref="eFilterName" class="ag-header-cell-text"></span>\n                <span ref="eFilterIcon" class="ag-header-icon ag-filter-icon ag-filter-toolpanel-instance-header-icon" aria-hidden="true"></span>\n            </div>\n            <div class="ag-filter-toolpanel-instance-body ag-filter" ref="agFilterToolPanelBody"></div>\n        </div>',so([o.RefSelector("eFilterToolPanelHeader")],t.prototype,"eFilterToolPanelHeader",void 0),so([o.RefSelector("eFilterName")],t.prototype,"eFilterName",void 0),so([o.RefSelector("agFilterToolPanelBody")],t.prototype,"agFilterToolPanelBody",void 0),so([o.RefSelector("eFilterIcon")],t.prototype,"eFilterIcon",void 0),so([o.RefSelector("eExpand")],t.prototype,"eExpand",void 0),so([o.Autowired("filterManager")],t.prototype,"filterManager",void 0),so([o.Autowired("columnModel")],t.prototype,"columnModel",void 0),so([o.PostConstruct],t.prototype,"postConstruct",null),t}(o.Component),uo=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),co=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},po=function(e){function t(t,r,n,o,i){var a=e.call(this)||this;return a.columnGroup=t,a.childFilterComps=r,a.depth=o,a.expandedCallback=n,a.showingColumn=i,a}return uo(t,e),t.prototype.preConstruct=function(){this.setTemplate(t.TEMPLATE,{filterGroupComp:{cssIdentifier:"filter-toolpanel",direction:"vertical"}})},t.prototype.init=function(){var e=this;this.setGroupTitle(),this.filterGroupComp.setAlignItems("stretch"),this.filterGroupComp.addCssClass("ag-filter-toolpanel-group-level-"+this.depth),this.filterGroupComp.addCssClassToTitleBar("ag-filter-toolpanel-group-level-"+this.depth+"-header"),this.childFilterComps.forEach((function(t){e.filterGroupComp.addItem(t),t.addCssClassToTitleBar("ag-filter-toolpanel-group-level-"+(e.depth+1)+"-header")})),this.refreshFilterClass(),this.addExpandCollapseListeners(),this.addFilterChangedListeners(),this.setupTooltip()},t.prototype.setupTooltip=function(){var e=this;if(this.showingColumn){var t=function(){var t=e.columnGroup.getColDef().headerTooltip;e.setTooltip(t)};t(),this.addManagedListener(this.eventService,o.Events.EVENT_NEW_COLUMNS_LOADED,t)}},t.prototype.getTooltipParams=function(){var t=e.prototype.getTooltipParams.call(this);return t.location="filterToolPanelColumnGroup",t},t.prototype.addCssClassToTitleBar=function(e){this.filterGroupComp.addCssClassToTitleBar(e)},t.prototype.refreshFilters=function(){this.childFilterComps.forEach((function(e){e instanceof t?e.refreshFilters():e.refreshFilter()}))},t.prototype.isColumnGroup=function(){return this.columnGroup instanceof o.ProvidedColumnGroup},t.prototype.isExpanded=function(){return this.filterGroupComp.isExpanded()},t.prototype.getChildren=function(){return this.childFilterComps},t.prototype.getFilterGroupName=function(){return this.filterGroupName?this.filterGroupName:""},t.prototype.getFilterGroupId=function(){return this.columnGroup.getId()},t.prototype.hideGroupItem=function(e,t){this.filterGroupComp.hideItem(e,t)},t.prototype.hideGroup=function(e){this.addOrRemoveCssClass("ag-hidden",e)},t.prototype.forEachToolPanelFilterChild=function(e){this.childFilterComps.forEach((function(t){t instanceof lo&&e(t)}))},t.prototype.addExpandCollapseListeners=function(){var e=this,t=this.isColumnGroup()?function(){return e.expandedCallback()}:function(){return e.forEachToolPanelFilterChild((function(e){return e.expand()}))},r=this.isColumnGroup()?function(){return e.expandedCallback()}:function(){return e.forEachToolPanelFilterChild((function(e){return e.collapse()}))};this.addManagedListener(this.filterGroupComp,o.AgGroupComponent.EVENT_EXPANDED,t),this.addManagedListener(this.filterGroupComp,o.AgGroupComponent.EVENT_COLLAPSED,r)},t.prototype.getColumns=function(){return this.columnGroup instanceof o.ProvidedColumnGroup?this.columnGroup.getLeafColumns():[this.columnGroup]},t.prototype.addFilterChangedListeners=function(){var e=this;this.getColumns().forEach((function(t){e.addManagedListener(t,o.Column.EVENT_FILTER_CHANGED,(function(){return e.refreshFilterClass()}))})),this.columnGroup instanceof o.ProvidedColumnGroup||this.addManagedListener(this.eventService,o.Events.EVENT_FILTER_OPENED,this.onFilterOpened.bind(this))},t.prototype.refreshFilterClass=function(){var e=this.getColumns();this.filterGroupComp.addOrRemoveCssClass("ag-has-filter",e.some((function(e){return e.isFilterActive()})))},t.prototype.onFilterOpened=function(e){"COLUMN_MENU"===e.source&&e.column===this.columnGroup&&this.isExpanded()&&this.collapse()},t.prototype.expand=function(){this.filterGroupComp.toggleGroupExpand(!0)},t.prototype.collapse=function(){this.filterGroupComp.toggleGroupExpand(!1)},t.prototype.setGroupTitle=function(){this.filterGroupName=this.columnGroup instanceof o.ProvidedColumnGroup?this.getColumnGroupName(this.columnGroup):this.getColumnName(this.columnGroup),this.filterGroupComp.setTitle(this.filterGroupName||"")},t.prototype.getColumnGroupName=function(e){return this.columnModel.getDisplayNameForProvidedColumnGroup(null,e,"filterToolPanel")},t.prototype.getColumnName=function(e){return this.columnModel.getDisplayNameForColumn(e,"filterToolPanel",!1)},t.prototype.destroyFilters=function(){this.childFilterComps=this.destroyBeans(this.childFilterComps),o._.clearElement(this.getGui())},t.prototype.destroy=function(){this.destroyFilters(),e.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-filter-toolpanel-group-wrapper">\n            <ag-group-component ref="filterGroupComp"></ag-group-component>\n        </div>',co([o.RefSelector("filterGroupComp")],t.prototype,"filterGroupComp",void 0),co([o.Autowired("columnModel")],t.prototype,"columnModel",void 0),co([o.PreConstruct],t.prototype,"preConstruct",null),co([o.PostConstruct],t.prototype,"init",null),t}(o.Component),ho=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),fo=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},go=function(e){function t(){var r=e.call(this,t.TEMPLATE)||this;return r.initialised=!1,r.filterGroupComps=[],r}return ho(t,e),t.prototype.init=function(e){var t=this;this.initialised=!0;var r={suppressExpandAll:!1,suppressFilterSearch:!1,suppressSyncLayoutWithGrid:!1,api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()};o._.mergeDeep(r,e),this.params=r,this.params.suppressSyncLayoutWithGrid||this.addManagedListener(this.eventService,o.Events.EVENT_COLUMN_MOVED,(function(){return t.onColumnsChanged()})),this.addManagedListener(this.eventService,o.Events.EVENT_NEW_COLUMNS_LOADED,(function(){return t.onColumnsChanged()})),this.addManagedListener(this.eventService,o.Events.EVENT_TOOL_PANEL_VISIBLE_CHANGED,(function(e){"filters"===e.source&&t.refreshFilters()})),this.columnModel.isReady()&&this.onColumnsChanged()},t.prototype.onColumnsChanged=function(){var e=this.columnModel.isPivotMode();!this.params.suppressSyncLayoutWithGrid&&!e?this.syncFilterLayout():this.buildTreeFromProvidedColumnDefs()},t.prototype.syncFilterLayout=function(){this.toolPanelColDefService.syncLayoutWithGrid(this.setFiltersLayout.bind(this))},t.prototype.buildTreeFromProvidedColumnDefs=function(){var e=this;this.destroyFilters();var t=this.columnModel.getPrimaryColumnTree();this.filterGroupComps=this.recursivelyAddComps(t,0);var r=this.filterGroupComps.length;r&&(this.filterGroupComps.forEach((function(t){return e.appendChild(t)})),this.setFirstAndLastVisible(0,r-1)),o._.exists(this.searchFilterText)&&this.searchFilters(this.searchFilterText),this.fireExpandedEvent()},t.prototype.setFiltersLayout=function(e){var t=this;this.destroyFilters();var r=this.toolPanelColDefService.createColumnTree(e);this.filterGroupComps=this.recursivelyAddComps(r,0);var n=this.filterGroupComps.length;n&&(this.filterGroupComps.forEach((function(e){return t.appendChild(e)})),this.setFirstAndLastVisible(0,n-1)),o._.exists(this.searchFilterText)&&this.searchFilters(this.searchFilterText),this.fireExpandedEvent()},t.prototype.recursivelyAddComps=function(e,t){var r=this;return o._.flatten(e.map((function(e){if(e instanceof o.ProvidedColumnGroup)return o._.flatten(r.recursivelyAddFilterGroupComps(e,t));var n=e;if(!r.shouldDisplayFilter(n))return[];var i=new lo(0===t);if(r.getContext().createBean(i),i.setColumn(n),t>0)return i;var a=r.createBean(new po(n,[i],r.onGroupExpanded.bind(r),t,!0));return a.addCssClassToTitleBar("ag-filter-toolpanel-header"),a.collapse(),a})))},t.prototype.recursivelyAddFilterGroupComps=function(e,t){if(this.filtersExistInChildren(e.getChildren())){var r=e.getColGroupDef();if(r&&r.suppressFiltersToolPanel)return[];var n=e.isPadding()?t:t+1,i=o._.flatten(this.recursivelyAddComps(e.getChildren(),n));if(e.isPadding())return i;var a=new po(e,i,this.onGroupExpanded.bind(this),t,!1);return this.getContext().createBean(a),a.addCssClassToTitleBar("ag-filter-toolpanel-header"),[a]}},t.prototype.filtersExistInChildren=function(e){var t=this;return e.some((function(e){return e instanceof o.ProvidedColumnGroup?t.filtersExistInChildren(e.getChildren()):t.shouldDisplayFilter(e)}))},t.prototype.shouldDisplayFilter=function(e){var t=e.getColDef()&&e.getColDef().suppressFiltersToolPanel;return e.isFilterAllowed()&&!t},t.prototype.refresh=function(){},t.prototype.setVisible=function(t){e.prototype.setDisplayed.call(this,t),t&&!this.initialised&&this.init(this.params)},t.prototype.expandFilterGroups=function(e,t){var r=[];if(this.filterGroupComps.forEach((function n(i){var a=i.getFilterGroupId();(!t||o._.includes(t,a))&&(e&&i.isColumnGroup()?i.expand():i.collapse(),r.push(a)),i.getChildren().forEach((function(e){e instanceof po&&n(e)}))})),this.onGroupExpanded(),t){var n=t.filter((function(e){return r.indexOf(e)<0}));n.length>0&&console.warn("AG Grid: unable to find groups for these supplied groupIds:",n)}},t.prototype.expandFilters=function(e,t){var r=[];if(this.filterGroupComps.forEach((function n(i){if(i instanceof po){var a=!1;return i.getChildren().forEach((function(t){n(t)&&(e?(i.expand(),a=!0):i.isColumnGroup()||i.collapse())})),a}var s=i.getColumn().getColId(),l=!t||o._.includes(t,s);return l&&(e?i.expand():i.collapse(),r.push(s)),l})),this.onGroupExpanded(),t){var n=t.filter((function(e){return r.indexOf(e)<0}));n.length>0&&console.warn("AG Grid: unable to find columns for these supplied colIds:",n)}},t.prototype.onGroupExpanded=function(){this.fireExpandedEvent()},t.prototype.fireExpandedEvent=function(){var e,t=0,r=0;this.filterGroupComps.forEach((function e(n){n.isColumnGroup()&&(n.isExpanded()?t++:r++,n.getChildren().forEach((function(t){t instanceof po&&e(t)})))})),e=t>0&&r>0?qt.INDETERMINATE:r>0?qt.COLLAPSED:qt.EXPANDED,this.dispatchEvent({type:"groupExpanded",state:e})},t.prototype.performFilterSearch=function(e){this.searchFilterText=o._.exists(e)?e.toLowerCase():null,this.searchFilters(this.searchFilterText)},t.prototype.searchFilters=function(e){var t,r,n=function(t){return!o._.exists(e)||-1!==t.toLowerCase().indexOf(e)},i=function e(t,r){if(!(t instanceof po))return n(t.getColumnFilterName()||"");var o=t.getChildren(),i=n(t.getFilterGroupName()),a=r||i;if(a){t.hideGroup(!1);for(var s=0;s<o.length;s++)e(o[s],a),t.hideGroupItem(!1,s);return!0}var l=!1;return o.forEach((function(n,o){var i=e(n,r);t.hideGroupItem(!i,o),i&&(l=!0)})),t.hideGroup(!l),l};this.filterGroupComps.forEach((function(e,n){i(e,!1),void 0===t?e.containsCssClass("ag-hidden")||(t=n,r=n):e.containsCssClass("ag-hidden")||r===n||(r=n)})),this.setFirstAndLastVisible(t,r)},t.prototype.setFirstAndLastVisible=function(e,t){this.filterGroupComps.forEach((function(r,n){r.removeCssClass("ag-first-group-visible"),r.removeCssClass("ag-last-group-visible"),n===e&&r.addCssClass("ag-first-group-visible"),n===t&&r.addCssClass("ag-last-group-visible")}))},t.prototype.refreshFilters=function(){this.filterGroupComps.forEach((function(e){return e.refreshFilters()}))},t.prototype.destroyFilters=function(){this.filterGroupComps=this.destroyBeans(this.filterGroupComps),o._.clearElement(this.getGui())},t.prototype.destroy=function(){this.destroyFilters(),e.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-filter-list-panel"></div>',fo([o.Autowired("gridApi")],t.prototype,"gridApi",void 0),fo([o.Autowired("columnApi")],t.prototype,"columnApi",void 0),fo([o.Autowired("toolPanelColDefService")],t.prototype,"toolPanelColDefService",void 0),fo([o.Autowired("columnModel")],t.prototype,"columnModel",void 0),t}(o.Component),yo=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),vo=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},mo=function(e){function t(){var r=e.call(this,t.TEMPLATE)||this;return r.initialised=!1,r.listenerDestroyFuncs=[],r}return yo(t,e),t.prototype.init=function(e){this.initialised&&(this.listenerDestroyFuncs.forEach((function(e){return e()})),this.listenerDestroyFuncs=[]),this.initialised=!0;var t={suppressExpandAll:!1,suppressFilterSearch:!1,suppressSyncLayoutWithGrid:!1,api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()};o._.mergeDeep(t,e),this.params=t,this.filtersToolPanelHeaderPanel.init(this.params),this.filtersToolPanelListPanel.init(this.params);var r=this.params.suppressExpandAll,n=this.params.suppressFilterSearch;r&&n&&this.filtersToolPanelHeaderPanel.setDisplayed(!1),this.listenerDestroyFuncs.push(this.addManagedListener(this.filtersToolPanelHeaderPanel,"expandAll",this.onExpandAll.bind(this)),this.addManagedListener(this.filtersToolPanelHeaderPanel,"collapseAll",this.onCollapseAll.bind(this)),this.addManagedListener(this.filtersToolPanelHeaderPanel,"searchChanged",this.onSearchChanged.bind(this)),this.addManagedListener(this.filtersToolPanelListPanel,"groupExpanded",this.onGroupExpanded.bind(this)))},t.prototype.setVisible=function(t){e.prototype.setDisplayed.call(this,t),t&&!this.initialised&&this.init(this.params)},t.prototype.onExpandAll=function(){this.filtersToolPanelListPanel.expandFilterGroups(!0)},t.prototype.onCollapseAll=function(){this.filtersToolPanelListPanel.expandFilterGroups(!1)},t.prototype.onSearchChanged=function(e){this.filtersToolPanelListPanel.performFilterSearch(e.searchText)},t.prototype.setFilterLayout=function(e){this.filtersToolPanelListPanel.setFiltersLayout(e)},t.prototype.onGroupExpanded=function(e){this.filtersToolPanelHeaderPanel.setExpandState(e.state)},t.prototype.expandFilterGroups=function(e){this.filtersToolPanelListPanel.expandFilterGroups(!0,e)},t.prototype.collapseFilterGroups=function(e){this.filtersToolPanelListPanel.expandFilterGroups(!1,e)},t.prototype.expandFilters=function(e){this.filtersToolPanelListPanel.expandFilters(!0,e)},t.prototype.collapseFilters=function(e){this.filtersToolPanelListPanel.expandFilters(!1,e)},t.prototype.syncLayoutWithGrid=function(){this.filtersToolPanelListPanel.syncFilterLayout()},t.prototype.refresh=function(){this.init(this.params)},t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-filter-toolpanel">\n            <ag-filters-tool-panel-header ref="filtersToolPanelHeaderPanel"></ag-filters-tool-panel-header>\n            <ag-filters-tool-panel-list ref="filtersToolPanelListPanel"></ag-filters-tool-panel-list>\n         </div>',vo([o.RefSelector("filtersToolPanelHeaderPanel")],t.prototype,"filtersToolPanelHeaderPanel",void 0),vo([o.RefSelector("filtersToolPanelListPanel")],t.prototype,"filtersToolPanelListPanel",void 0),vo([o.Autowired("gridApi")],t.prototype,"gridApi",void 0),vo([o.Autowired("columnApi")],t.prototype,"columnApi",void 0),t}(o.Component),bo={moduleName:o.ModuleNames.FiltersToolPanelModule,beans:[],agStackComponents:[{componentName:"AgFiltersToolPanelHeader",componentClass:io},{componentName:"AgFiltersToolPanelList",componentClass:go}],userComponents:[{componentName:"agFiltersToolPanel",componentClass:mo}],dependantModules:[dt,g]},Co=function(){function e(e,t,r,n){this.x=e,this.y=t,this.width=r,this.height=n}return e.prototype.isValid=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},e.prototype.dilate=function(e){this.x-=e,this.y-=e,this.width+=2*e,this.height+=2*e},e.prototype.containsPoint=function(e,t){return e>=this.x&&e<=this.x+this.width&&t>=this.y&&t<=this.y+this.height},e.prototype.render=function(t,r){void 0===r&&(r=e.noParams),t.save(),r.resetTransform&&t.setTransform(1,0,0,1,0,0),t.strokeStyle=r.strokeStyle||"cyan",t.lineWidth=r.lineWidth||1,t.strokeRect(this.x,this.y,this.width,this.height),r.label&&(t.fillStyle=r.fillStyle||"black",t.textBaseline="bottom",t.fillText(r.label,this.x,this.y)),t.restore()},e.noParams={},e}(),wo=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},xo=function(){function e(e){void 0===e&&(e=[1,0,0,1,0,0]),this.elements=e}return e.prototype.setElements=function(e){var t=this.elements;return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],this},e.prototype.setIdentityElements=function(){var e=this.elements;return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,this},Object.defineProperty(e.prototype,"identity",{get:function(){var e=this.elements;return 1===e[0]&&0===e[1]&&0===e[2]&&1===e[3]&&0===e[4]&&0===e[5]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"a",{get:function(){return this.elements[0]},set:function(e){this.elements[0]=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"b",{get:function(){return this.elements[1]},set:function(e){this.elements[1]=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"c",{get:function(){return this.elements[2]},set:function(e){this.elements[2]=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"d",{get:function(){return this.elements[3]},set:function(e){this.elements[3]=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"e",{get:function(){return this.elements[4]},set:function(e){this.elements[4]=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"f",{get:function(){return this.elements[5]},set:function(e){this.elements[5]=e},enumerable:!0,configurable:!0}),e.prototype.AxB=function(e,t,r){var n=wo(e,6),o=n[0],i=n[1],a=n[2],s=n[3],l=n[4],u=n[5],c=wo(t,6),p=c[0],d=c[1],h=c[2],f=c[3],g=c[4],y=c[5];(r=r||e)[0]=o*p+a*d,r[1]=i*p+s*d,r[2]=o*h+a*f,r[3]=i*h+s*f,r[4]=o*g+a*y+l,r[5]=i*g+s*y+u},e.prototype.multiplySelf=function(e){return this.AxB(this.elements,e.elements),this},e.prototype.multiply=function(t){var r=new Array(6);return this.AxB(this.elements,t.elements,r),new e(r)},e.prototype.preMultiplySelf=function(e){return this.AxB(e.elements,this.elements,this.elements),this},e.prototype.inverse=function(){var t=wo(this.elements,6),r=t[0],n=t[1],o=t[2],i=t[3],a=t[4],s=t[5],l=1/(r*i-n*o);return new e([i*=l,-(n*=l),-(o*=l),r*=l,o*s-i*a,n*a-r*s])},e.prototype.inverseTo=function(e){var t=wo(this.elements,6),r=t[0],n=t[1],o=t[2],i=t[3],a=t[4],s=t[5],l=1/(r*i-n*o);return r*=l,n*=l,o*=l,i*=l,e.setElements([i,-n,-o,r,o*s-i*a,n*a-r*s]),this},e.prototype.invertSelf=function(){var e=this.elements,t=wo(e,6),r=t[0],n=t[1],o=t[2],i=t[3],a=t[4],s=t[5],l=1/(r*i-n*o);return r*=l,n*=l,o*=l,i*=l,e[0]=i,e[1]=-n,e[2]=-o,e[3]=r,e[4]=o*s-i*a,e[5]=n*a-r*s,this},e.prototype.clone=function(){return new e(this.elements.slice())},e.prototype.transformPoint=function(e,t){var r=this.elements;return{x:e*r[0]+t*r[2]+r[4],y:e*r[1]+t*r[3]+r[5]}},e.prototype.transformBBox=function(e,t,r){void 0===t&&(t=0);var n,o,i=this.elements,a=i[0],s=i[1],l=i[2],u=i[3],c=.5*e.width,p=.5*e.height,d=e.x+c,h=e.y+p;if(t){c-=t,p-=t;var f=Math.sqrt(a*a+l*l),g=Math.sqrt(s*s+u*u);n=Math.abs(c*a)+Math.abs(p*l)+Math.abs(f*t),o=Math.abs(c*s)+Math.abs(p*u)+Math.abs(g*t)}else n=Math.abs(c*a)+Math.abs(p*l),o=Math.abs(c*s)+Math.abs(p*u);return r||(r=new Co(0,0,0,0)),r.x=d*a+h*l+i[4]-n,r.y=d*s+h*u+i[5]-o,r.width=n+n,r.height=o+o,r},e.prototype.toContext=function(e){if(!this.identity){var t=this.elements;e.transform(t[0],t[1],t[2],t[3],t[4],t[5])}},e.flyweight=function(t){return t?t instanceof e?e.matrix.setElements(t.elements):e.matrix.setElements(t):e.matrix.setIdentityElements(),e.matrix},e.matrix=new e,e}();function So(e){var t=e.constructor,r=t.className;if(!r)throw new Error("The "+t+" is missing the 'className' property.");return r+"-"+(t.id=(t.id||0)+1)}var Eo,Oo=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};!function(e){e[e.All=0]="All",e[e.None=1]="None"}(Eo||(Eo={}));var _o=function(){function e(){this.id=So(this),this.tag=NaN,this.isContainerNode=!1,this._children=[],this.childSet={},this.matrix=new xo,this.inverseMatrix=new xo,this._dirtyTransform=!1,this._scalingX=1,this._scalingY=1,this._scalingCenterX=null,this._scalingCenterY=null,this._rotationCenterX=null,this._rotationCenterY=null,this._rotation=0,this._translationX=0,this._translationY=0,this._dirty=!0,this._visible=!0,this.pointerEvents=Eo.All}return e.isNode=function(e){return!!e&&void 0!==e.matrix},e.prototype._setScene=function(e){this._scene=e;for(var t=this.children,r=t.length,n=0;n<r;n++)t[n]._setScene(e)},Object.defineProperty(e.prototype,"scene",{get:function(){return this._scene},enumerable:!0,configurable:!0}),e.prototype._setParent=function(e){this._parent=e},Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){return this._children},enumerable:!0,configurable:!0}),e.prototype.countChildren=function(t){if(void 0===t&&(t=e.MAX_SAFE_INTEGER),t<=0)return 0;for(var r=this.children,n=r.length,o=n,i=0;i<n;i++)o+=r[i].countChildren(t-1);return o},e.prototype.append=function(t){e.isNode(t)&&(t=[t]);for(var r=t.length,n=0;n<r;n++){var o=t[n];if(o.parent)throw new Error(o+" already belongs to another parent: "+o.parent+".");if(o.scene)throw new Error(o+" already belongs a scene: "+o.scene+".");if(this.childSet[o.id])throw new Error("Duplicate "+o.constructor.name+" node: "+o);this._children.push(o),this.childSet[o.id]=!0,o._setParent(this),o._setScene(this.scene)}this.dirty=!0},e.prototype.appendChild=function(e){if(e.parent)throw new Error(e+" already belongs to another parent: "+e.parent+".");if(e.scene)throw new Error(e+" already belongs to a scene: "+e.scene+".");if(this.childSet[e.id])throw new Error("Duplicate "+e.constructor.name+" node: "+e);return this._children.push(e),this.childSet[e.id]=!0,e._setParent(this),e._setScene(this.scene),this.dirty=!0,e},e.prototype.removeChild=function(e){if(e.parent===this){var t=this.children.indexOf(e);if(t>=0)return this._children.splice(t,1),delete this.childSet[e.id],e._setParent(),e._setScene(),this.dirty=!0,e}throw new Error("The node to be removed is not a child of this node.")},e.prototype.insertBefore=function(e,t){var r=e.parent;if(e.parent&&e.parent.removeChild(e),t&&t.parent===this){var n=this.children.indexOf(t);if(!(n>=0))throw new Error(t+" has "+r+" as the parent, but is not in its list of children.");this._children.splice(n,0,e),this.childSet[e.id]=!0,e._setParent(this),e._setScene(this.scene),this.dirty=!0}else this.append(e);return e},Object.defineProperty(e.prototype,"nextSibling",{get:function(){var e=this.parent;if(e){var t=e.children,r=t.indexOf(this);if(r>=0&&r<=t.length-1)return t[r+1]}},enumerable:!0,configurable:!0}),e.prototype.transformPoint=function(e,t){for(var r=xo.flyweight(this.matrix),n=this.parent;n;)r.preMultiplySelf(n.matrix),n=n.parent;return r.invertSelf().transformPoint(e,t)},e.prototype.inverseTransformPoint=function(e,t){for(var r=xo.flyweight(this.matrix),n=this.parent;n;)r.preMultiplySelf(n.matrix),n=n.parent;return r.transformPoint(e,t)},Object.defineProperty(e.prototype,"dirtyTransform",{get:function(){return this._dirtyTransform},set:function(e){this._dirtyTransform=e,e&&(this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scalingX",{get:function(){return this._scalingX},set:function(e){this._scalingX!==e&&(this._scalingX=e,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scalingY",{get:function(){return this._scalingY},set:function(e){this._scalingY!==e&&(this._scalingY=e,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scalingCenterX",{get:function(){return this._scalingCenterX},set:function(e){this._scalingCenterX!==e&&(this._scalingCenterX=e,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scalingCenterY",{get:function(){return this._scalingCenterY},set:function(e){this._scalingCenterY!==e&&(this._scalingCenterY=e,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotationCenterX",{get:function(){return this._rotationCenterX},set:function(e){this._rotationCenterX!==e&&(this._rotationCenterX=e,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotationCenterY",{get:function(){return this._rotationCenterY},set:function(e){this._rotationCenterY!==e&&(this._rotationCenterY=e,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this._rotation},set:function(e){this._rotation!==e&&(this._rotation=e,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotationDeg",{get:function(){return this.rotation/Math.PI*180},set:function(e){this.rotation=e/180*Math.PI},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"translationX",{get:function(){return this._translationX},set:function(e){this._translationX!==e&&(this._translationX=e,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"translationY",{get:function(){return this._translationY},set:function(e){this._translationY!==e&&(this._translationY=e,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),e.prototype.containsPoint=function(e,t){return!1},e.prototype.pickNode=function(e,t){if(this.visible&&this.pointerEvents!==Eo.None&&this.containsPoint(e,t)){var r=this.children;if(r.length)for(var n=r.length-1;n>=0;n--){var o=r[n].pickNode(e,t);if(o)return o}else if(!this.isContainerNode)return this}},e.prototype.computeBBox=function(){},e.prototype.computeBBoxCenter=function(){var e=this.computeBBox&&this.computeBBox();return e?[e.x+.5*e.width,e.y+.5*e.height]:[0,0]},e.prototype.computeTransformMatrix=function(){var e,t,r=Oo([0,0],2),n=r[0],o=r[1],i=this.scalingX,a=this.scalingY;1===i&&1===a?(e=0,t=0):(e=null===this.scalingCenterX?n:this.scalingCenterX,t=null===this.scalingCenterY?o:this.scalingCenterY);var s,l,u=this.rotation,c=Math.cos(u),p=Math.sin(u);0===u?(s=0,l=0):(s=null===this.rotationCenterX?n:this.rotationCenterX,l=null===this.rotationCenterY?o:this.rotationCenterY);var d=this.translationX,h=this.translationY,f=e*(1-i)-s,g=t*(1-a)-l;this.dirtyTransform=!1,this.matrix.setElements([c*i,p*i,-p*a,c*a,c*f-p*g+s+d,p*f+c*g+l+h]).inverseTo(this.inverseMatrix)},Object.defineProperty(e.prototype,"dirty",{get:function(){return this._dirty},set:function(e){this._dirty=e,e&&(this.parent?this.parent.dirty=!0:this.scene&&(this.scene.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visible",{get:function(){return this._visible},set:function(e){this._visible!==e&&(this._visible=e,this.dirty=!0)},enumerable:!0,configurable:!0}),e.MAX_SAFE_INTEGER=Math.pow(2,53)-1,e}(),Po=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ro=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isContainerNode=!0,t._opacity=1,t}return Po(t,e),Object.defineProperty(t.prototype,"opacity",{get:function(){return this._opacity},set:function(e){e=Math.min(1,Math.max(0,e)),this._opacity!==e&&(this._opacity=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.containsPoint=function(e,t){return!0},t.prototype.computeBBox=function(){var e=1/0,r=-1/0,n=1/0,o=-1/0;return this.dirtyTransform&&this.computeTransformMatrix(),this.children.forEach((function(i){if(i.visible){var a=i.computeBBox();if(a){if(!(i instanceof t)){i.dirtyTransform&&i.computeTransformMatrix();for(var s=xo.flyweight(i.matrix),l=i.parent;l;)s.preMultiplySelf(l.matrix),l=l.parent;s.transformBBox(a,0,a)}var u=a.x,c=a.y;u<e&&(e=u),c<n&&(n=c),u+a.width>r&&(r=u+a.width),c+a.height>o&&(o=c+a.height)}}})),new Co(e,n,r-e,o-n)},t.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var t=this.children,r=t.length;e.globalAlpha*=this.opacity;for(var n=0;n<r;n++){var o=t[n];o.visible&&(e.save(),o.render(e),e.restore())}},t.className="Group",t}(_o);function Ao(e,t){var r=Object.create(e);for(var n in t)t.hasOwnProperty(n)&&(r[n]=t[n]);return r}var To=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Do=function(e){function t(){var r=null!==e&&e.apply(this,arguments)||this;return r.lastInstanceId=0,r._fillOpacity=1,r._strokeOpacity=1,r._fill=t.defaultStyles.fill,r._stroke=t.defaultStyles.stroke,r._strokeWidth=t.defaultStyles.strokeWidth,r._lineDash=t.defaultStyles.lineDash,r._lineDashOffset=t.defaultStyles.lineDashOffset,r._lineCap=t.defaultStyles.lineCap,r._lineJoin=t.defaultStyles.lineJoin,r._opacity=t.defaultStyles.opacity,r.onShadowChange=function(){r.dirty=!0},r._fillShadow=t.defaultStyles.fillShadow,r._strokeShadow=t.defaultStyles.strokeShadow,r}return To(t,e),t.createInstance=function(e){var t=Object.create(e);return t._setParent(void 0),t.id=e.id+"-Instance-"+String(++e.lastInstanceId),t},t.prototype.restoreOwnStyles=function(){for(var e=this.constructor.defaultStyles,t=Object.getOwnPropertyNames(e),r=0,n=t.length;r<n;r++){var o=t[r];this[o]=e[o]}},t.prototype.restoreAllStyles=function(){var e=this.constructor.defaultStyles;for(var t in e)this[t]=e[t]},t.prototype.restoreOverriddenStyles=function(){var e=this.constructor.defaultStyles,t=Object.getPrototypeOf(e);for(var r in e)e.hasOwnProperty(r)&&t.hasOwnProperty(r)&&(this[r]=e[r])},Object.defineProperty(t.prototype,"fillOpacity",{get:function(){return this._fillOpacity},set:function(e){this._fillOpacity!==e&&(this._fillOpacity=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeOpacity",{get:function(){return this._strokeOpacity},set:function(e){this._strokeOpacity!==e&&(this._strokeOpacity=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fill},set:function(e){this._fill!==e&&(this._fill=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this._stroke},set:function(e){this._stroke!==e&&(this._stroke=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(e){this._strokeWidth!==e&&(this._strokeWidth=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"alignment",{get:function(){return Math.floor(this.strokeWidth)%2/2},enumerable:!0,configurable:!0}),t.prototype.align=function(e,t,r){return void 0!=r?Math.floor(r)+Math.floor(t%1+r%1):Math.floor(t)+e},Object.defineProperty(t.prototype,"lineDash",{get:function(){return this._lineDash},set:function(e){var t=this._lineDash;if(t!==e){if(t&&e&&t.length===e.length){for(var r=!0,n=e.length,o=0;o<n;o++)if(t[o]!==e[o]){r=!1;break}if(r)return}this._lineDash=e,this.dirty=!0}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineDashOffset",{get:function(){return this._lineDashOffset},set:function(e){this._lineDashOffset!==e&&(this._lineDashOffset=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineCap",{get:function(){return this._lineCap},set:function(e){this._lineCap!==e&&(this._lineCap=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(e){this._lineJoin!==e&&(this._lineJoin=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"opacity",{get:function(){return this._opacity},set:function(e){e=Math.min(1,Math.max(0,e)),this._opacity!==e&&(this._opacity=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fillShadow",{get:function(){return this._fillShadow},set:function(e){var t=this._fillShadow;t!==e&&(t&&t.removeEventListener("change",this.onShadowChange),e&&e.addEventListener("change",this.onShadowChange),this._fillShadow=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeShadow",{get:function(){return this._strokeShadow},set:function(e){var t=this._strokeShadow;t!==e&&(t&&t.removeEventListener("change",this.onShadowChange),e&&e.addEventListener("change",this.onShadowChange),this._strokeShadow=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.fillStroke=function(e){if(this.scene){var t=this.scene.canvas.pixelRatio||1,r=e.globalAlpha;if(this.fill){e.fillStyle=this.fill,e.globalAlpha=r*this.opacity*this.fillOpacity;var n=this.fillShadow;n&&n.enabled&&(e.shadowColor=n.color,e.shadowOffsetX=n.xOffset*t,e.shadowOffsetY=n.yOffset*t,e.shadowBlur=n.blur*t),e.fill()}if(e.shadowColor="rgba(0, 0, 0, 0)",this.stroke&&this.strokeWidth){e.strokeStyle=this.stroke,e.globalAlpha=r*this.opacity*this.strokeOpacity,e.lineWidth=this.strokeWidth,this.lineDash&&e.setLineDash(this.lineDash),this.lineDashOffset&&(e.lineDashOffset=this.lineDashOffset),this.lineCap&&(e.lineCap=this.lineCap),this.lineJoin&&(e.lineJoin=this.lineJoin);var o=this.strokeShadow;o&&o.enabled&&(e.shadowColor=o.color,e.shadowOffsetX=o.xOffset*t,e.shadowOffsetY=o.yOffset*t,e.shadowBlur=o.blur*t),e.stroke()}}},t.prototype.containsPoint=function(e,t){return this.isPointInPath(e,t)},t.defaultStyles=Ao({},{fill:"black",stroke:void 0,strokeWidth:0,lineDash:void 0,lineDashOffset:0,lineCap:void 0,lineJoin:void 0,opacity:1,fillShadow:void 0,strokeShadow:void 0}),t}(_o),Mo=Math.sign?Math.sign:function(e){return 0===(e=+e)||isNaN(e)?e:e>0?1:-1};function ko(e,t,r,n){if(0===e)return function(e,t,r){if(0===e)return function(e,t){var r=-t/e;return 0!==e&&r>=0&&r<=1?[r]:[]}(t,r);var n=t*t-4*e*r,o=[];if(0===n){var i=-t/(2*e);i>=0&&i<=1&&o.push(i)}else if(n>0){var a=Math.sqrt(n),s=(-t-a)/(2*e),l=(-t+a)/(2*e);s>=0&&s<=1&&o.push(s),l>=0&&l<=1&&o.push(l)}return o}(t,r,n);var o=t/e,i=r/e,a=(3*i-o*o)/9,s=(9*o*i-27*(n/e)-2*o*o*o)/54,l=a*a*a+s*s,u=1/3,c=[];if(l>=0){var p=Math.sqrt(l),d=Mo(s+p)*Math.pow(Math.abs(s+p),u),h=Mo(s-p)*Math.pow(Math.abs(s-p),u),f=Math.abs(Math.sqrt(3)*(d-h)/2),g=-u*o+(d+h);if(g>=0&&g<=1&&c.push(g),0===f){var y=-u*o-(d+h)/2;y>=0&&y<=1&&c.push(y)}}else{var v=Math.acos(s/Math.sqrt(-a*a*a)),m=u*o,b=2*Math.sqrt(-a),C=b*Math.cos(u*v)-m,w=b*Math.cos(u*(v+2*Math.PI))-m,x=b*Math.cos(u*(v+4*Math.PI))-m;C>=0&&C<=1&&c.push(C),w>=0&&w<=1&&c.push(w),x>=0&&x<=1&&c.push(x)}return c}function No(e,t,r,n,o,i,a,s){var l=(r-e)*(s-i)-(n-t)*(a-o);if(0===l)return null;var u=((a-o)*(t-i)-(e-o)*(s-i))/l,c=((r-e)*(t-i)-(n-t)*(e-o))/l;return u>=0&&u<=1&&c>=0&&c<=1?{x:e+u*(r-e),y:t+u*(n-t)}:null}function Io(e,t,r,n,o,i,a,s,l,u,c,p){for(var d=[],h=u-p,f=c-l,g=l*(p-u)-u*(c-l),y=Lo(e,r,o,a),v=Lo(t,n,i,s),m=ko(h*y[0]+f*v[0],h*y[1]+f*v[1],h*y[2]+f*v[2],h*y[3]+f*v[3]+g),b=0;b<m.length;b++){var C=m[b],w=C*C,x=C*w,S=y[0]*x+y[1]*w+y[2]*C+y[3],E=v[0]*x+v[1]*w+v[2]*C+v[3],O=void 0;(O=l!==c?(S-l)/(c-l):(E-u)/(p-u))>=0&&O<=1&&d.push({x:S,y:E})}return d}function Lo(e,t,r,n){return[3*t-e-3*r+n,3*e-6*t+3*r,-3*e+3*t,e]}var Fo=function(){function e(){this.commands=[],this.params=[],this._closedPath=!1}return e.prototype.moveTo=function(e,t){this.xy?(this.xy[0]=e,this.xy[1]=t):this.xy=[e,t],this.commands.push("M"),this.params.push(e,t)},e.prototype.lineTo=function(e,t){this.xy?(this.commands.push("L"),this.params.push(e,t),this.xy[0]=e,this.xy[1]=t):this.moveTo(e,t)},e.prototype.rect=function(e,t,r,n){this.moveTo(e,t),this.lineTo(e+r,t),this.lineTo(e+r,t+n),this.lineTo(e,t+n),this.closePath()},e.prototype.arcTo=function(e,t,r,n,o,i,a){var s=this.xy;if(s){e<0&&(e=-e),t<0&&(t=-t);var l=s[0],u=s[1],c=(l-i)/2,p=(u-a)/2,d=Math.sin(r),h=Math.cos(r),f=h*c+d*p,g=-d*c+h*p,y=f/e,v=g/t,m=y*y+v*v,b=(l+i)/2,C=(u+a)/2,w=0,x=0;m>=1?(e*=m=Math.sqrt(m),t*=m):(m=Math.sqrt(1/m-1),n===o&&(m=-m),b+=h*(w=m*e*v)-d*(x=-m*t*y),C+=d*w+h*x);var S=Math.atan2((g-x)/t,(f-w)/e),E=Math.atan2((-g-x)/t,(-f-w)/e)-S;this.cubicArc(b,C,e,t,r,S,S+E,1-o)}},e.cubicArc=function(e,t,r,n,o,i,a,s,l,u){if(u){var c=s;s=l,l=c}var p=t.length,d=.5522847498307935,h=Math.sin(s),f=Math.cos(s),g=Math.sin(a),y=Math.cos(a),v=Math.PI/2,m=y*f*o-g*h*i,b=g*f*o+y*h*i,C=-y*h*o-g*f*i,w=-g*h*o+y*f*i;for((l-=s)<0&&(l+=2*Math.PI),e.push("M"),t.push(m+r,b+n);l>=v;){l-=v,e.push("C");var x=C+r;t.push(m+C*d+r,b+w*d+n,m*d+C+r,b*d+w+n,Math.abs(x)<1e-8?0:x,w+n);c=m;m=C,C=-c,c=b,b=w,w=-c}if(l){var S=4/3*Math.tan(l/4),E=Math.sin(l),O=Math.cos(l),_=O+S*E,P=E-S*O;e.push("C");x=m*O+C*E+r;t.push(m+C*S+r,b+w*S+n,m*_+C*P+r,b*_+w*P+n,Math.abs(x)<1e-8?0:x,b*O+w*E+n)}if(u)for(var R=p,A=t.length-2;R<A;R+=2,A-=2){c=t[R];t[R]=t[A],t[A]=c,c=t[R+1],t[R+1]=t[A+1],t[A+1]=c}},e.prototype.cubicArc=function(t,r,n,o,i,a,s,l){var u=this.commands,c=this.params,p=u.length;e.cubicArc(u,c,t,r,n,o,i,a,s,l);var d=c[c.length-2],h=c[c.length-1];this.xy?(u[p]="L",this.xy[0]=d,this.xy[1]=h):this.xy=[d,h]},e.prototype.deCasteljau=function(e,t){var r=e.length;if(r<2||r%2===1)throw new Error("Fewer than two points or not an even count.");if(2===r||0===t)return e.slice(0,2);if(1===t)return e.slice(-2);for(var n=[],o=r-2,i=0;i<o;i+=2)n.push((1-t)*e[i]+t*e[i+2],(1-t)*e[i+1]+t*e[i+3]);return this.deCasteljau(n,t)},e.prototype.approximateCurve=function(e,t){var r=this.deCasteljau(e,0);this.moveTo(r[0],r[1]);for(var n=1/t,o=n;o<=1;o+=n){var i=this.deCasteljau(e,o);this.lineTo(i[0],i[1])}},e.prototype.quadraticCurveTo=function(e,t,r,n){this.xy||this.moveTo(e,t),this.cubicCurveTo((this.xy[0]+2*e)/3,(this.xy[1]+2*t)/3,(2*e+r)/3,(2*t+n)/3,r,n)},e.prototype.cubicCurveTo=function(e,t,r,n,o,i){this.xy||this.moveTo(e,t),this.commands.push("C"),this.params.push(e,t,r,n,o,i),this.xy[0]=o,this.xy[1]=i},Object.defineProperty(e.prototype,"closedPath",{get:function(){return this._closedPath},enumerable:!0,configurable:!0}),e.prototype.closePath=function(){this.xy&&(this.xy=void 0,this.commands.push("Z"),this._closedPath=!0)},e.prototype.clear=function(){this.commands.length=0,this.params.length=0,this.xy=void 0,this._closedPath=!1},e.prototype.isPointInPath=function(e,t){for(var r=this.commands,n=this.params,o=r.length,i=-1e4,a=-1e4,s=NaN,l=NaN,u=0,c=0,p=0,d=0,h=0;d<o;d++)switch(r[d]){case"M":isNaN(s)||No(s,l,u,c,i,a,e,t)&&p++,s=u=n[h++],l=c=n[h++];break;case"L":No(u,c,u=n[h++],c=n[h++],i,a,e,t)&&p++;break;case"C":p+=Io(u,c,n[h++],n[h++],n[h++],n[h++],u=n[h++],c=n[h++],i,a,e,t).length;break;case"Z":isNaN(s)||No(s,l,u,c,i,a,e,t)&&p++}return p%2===1},e.fromString=function(t){var r=new e;return r.setFromString(t),r},e.parseSvgPath=function(t){return t.trim().split(e.splitCommandsRe).map((function(t){var r=t.match(e.matchParamsRe);return{command:t.substr(0,1),params:r?r.map(parseFloat):[]}}))},e.prettifySvgPath=function(t){return e.parseSvgPath(t).map((function(e){return e.command+e.params.join(",")})).join("\n")},e.prototype.setFromString=function(t){var r,n,o,i,a,s=this;function l(){a.match(e.quadraticCommandRe)||(o=r,i=n)}function u(){a.match(e.cubicCommandRe)||(o=r,i=n)}this.clear(),e.parseSvgPath(t).forEach((function(e){var t=e.params,c=t.length,p=0;switch(e.command){case"M":for(s.moveTo(r=t[p++],n=t[p++]);p<c;)s.lineTo(r=t[p++],n=t[p++]);break;case"m":for(s.moveTo(r+=t[p++],n+=t[p++]);p<c;)s.lineTo(r+=t[p++],n+=t[p++]);break;case"L":for(;p<c;)s.lineTo(r=t[p++],n=t[p++]);break;case"l":for(;p<c;)s.lineTo(r+=t[p++],n+=t[p++]);break;case"C":for(;p<c;)s.cubicCurveTo(t[p++],t[p++],o=t[p++],i=t[p++],r=t[p++],n=t[p++]);break;case"c":for(;p<c;)s.cubicCurveTo(r+t[p++],n+t[p++],o=r+t[p++],i=n+t[p++],r+=t[p++],n+=t[p++]);break;case"S":for(u();p<c;)s.cubicCurveTo(r+r-o,n+n-i,o=t[p++],i=t[p++],r=t[p++],n=t[p++]);break;case"s":for(u();p<c;)s.cubicCurveTo(r+r-o,n+n-i,o=r+t[p++],i=n+t[p++],r+=t[p++],n+=t[p++]);break;case"Q":for(;p<c;)s.quadraticCurveTo(o=t[p++],i=t[p++],r=t[p++],n=t[p++]);break;case"q":for(;p<c;)s.quadraticCurveTo(o=r+t[p++],i=n+t[p++],r+=t[p++],n+=t[p++]);break;case"T":for(l();p<c;)s.quadraticCurveTo(o=r+r-o,i=n+n-i,r=t[p++],n=t[p++]);break;case"t":for(l();p<c;)s.quadraticCurveTo(o=r+r-o,i=n+n-i,r+=t[p++],n+=t[p++]);break;case"A":for(;p<c;)s.arcTo(t[p++],t[p++],t[p++]*Math.PI/180,t[p++],t[p++],r=t[p++],n=t[p++]);break;case"a":for(;p<c;)s.arcTo(t[p++],t[p++],t[p++]*Math.PI/180,t[p++],t[p++],r+=t[p++],n+=t[p++]);break;case"Z":case"z":s.closePath();break;case"H":for(;p<c;)s.lineTo(r=t[p++],n);break;case"h":for(;p<c;)s.lineTo(r+=t[p++],n);break;case"V":for(;p<c;)s.lineTo(r,n=t[p++]);break;case"v":for(;p<c;)s.lineTo(r,n+=t[p++])}a=e.command}))},e.prototype.toString=function(){for(var e=this.commands,t=this.params,r=e.length,n=[],o=0,i=0;o<r;o++)switch(e[o]){case"M":n.push("M"+t[i++]+","+t[i++]);break;case"L":n.push("L"+t[i++]+","+t[i++]);break;case"C":n.push("C"+t[i++]+","+t[i++]+" "+t[i++]+","+t[i++]+" "+t[i++]+","+t[i++]);break;case"Z":n.push("Z")}return n.join("")},e.prototype.toPrettyString=function(){return e.prettifySvgPath(this.toString())},e.prototype.toSvg=function(){return e.xmlDeclaration+'\n<svg width="100%" height="100%" viewBox="0 0 50 50" version="1.1" xmlns="'+e.xmlns+'">\n    <path d="'+this.toString()+'" style="fill:none;stroke:#000;stroke-width:0.5;"/>\n</svg>'},e.prototype.toDebugSvg=function(){var t=e.prettifySvgPath(this.toString());return e.xmlDeclaration+'\n<svg width="100%" height="100%" viewBox="0 0 100 100" version="1.1" xmlns="'+e.xmlns+'">\n    <path d="'+t+'" style="fill:none;stroke:#000;stroke-width:0.5;"/>\n</svg>'},e.prototype.toCubicPaths=function(){var e,t,r,n,o,i=[],a=this.params,s=0;return this.commands.forEach((function(l){switch(l){case"M":e=[t=n=a[s++],r=o=a[s++]],i.push(e);break;case"L":var u=a[s++],c=a[s++];e.push((n+n+u)/3,(o+o+c)/3,(n+u+u)/3,(o+c+c)/3,n=u,o=c);break;case"C":e.push(a[s++],a[s++],a[s++],a[s++],n=a[s++],o=a[s++]);break;case"Z":e.push((n+n+t)/3,(o+o+r)/3,(n+t+t)/3,(o+r+r)/3,n=t,o=r)}})),i},e.cubicPathToString=function(e){var t=e.length;if(!(t%2===0&&(t/2-1)/2>=1))throw new Error("Invalid path.");return"M"+e.slice(0,2).join(",")+"C"+e.slice(2).join(",")},e.splitCommandsRe=/(?=[AaCcHhLlMmQqSsTtVvZz])/g,e.matchParamsRe=/-?[0-9]*\.?\d+/g,e.quadraticCommandRe=/[QqTt]/,e.cubicCommandRe=/[CcSs]/,e.xmlDeclaration='<?xml version="1.0" encoding="UTF-8"?>',e.xmlns="http://www.w3.org/2000/svg",e}(),Go=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Bo=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.path=new Fo,t._dirtyPath=!0,t._svgPath="",t}return Go(t,e),Object.defineProperty(t.prototype,"dirtyPath",{get:function(){return this._dirtyPath},set:function(e){this._dirtyPath!==e&&(this._dirtyPath=e,e&&(this.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"svgPath",{get:function(){return this._svgPath},set:function(e){this._svgPath!==e&&(this._svgPath=e,this.path.setFromString(e),this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.isPointInPath=function(e,t){var r=this.transformPoint(e,t);return this.path.closedPath&&this.path.isPointInPath(r.x,r.y)},t.prototype.isPointInStroke=function(e,t){return!1},t.prototype.updatePath=function(){},t.prototype.render=function(e){var t=this.scene;this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e),this.dirtyPath&&(this.updatePath(),this.dirtyPath=!1),t.appendPath(this.path),this.fillStroke(e),this.dirty=!1},t.className="Path",t}(Do),Wo=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ho=function(e){function t(){var t=e.call(this)||this;return t._x1=0,t._y1=0,t._x2=0,t._y2=0,t.restoreOwnStyles(),t}return Wo(t,e),Object.defineProperty(t.prototype,"x1",{get:function(){return this._x1},set:function(e){this._x1!==e&&(this._x1=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y1",{get:function(){return this._y1},set:function(e){this._y1!==e&&(this._y1=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x2",{get:function(){return this._x2},set:function(e){this._x2!==e&&(this._x2=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y2",{get:function(){return this._y2},set:function(e){this._y2!==e&&(this._y2=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.computeBBox=function(){return new Co(this.x1,this.y1,this.x2-this.x1,this.y2-this.y1)},t.prototype.isPointInPath=function(e,t){return!1},t.prototype.isPointInStroke=function(e,t){return!1},t.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var t=this.x1,r=this.y1,n=this.x2,o=this.y2;if(t===n){var i=Math.round(t)+Math.floor(this.strokeWidth)%2/2;t=i,n=i}else if(r===o){var a=Math.round(r)+Math.floor(this.strokeWidth)%2/2;r=a,o=a}e.beginPath(),e.moveTo(t,r),e.lineTo(n,o),this.fillStroke(e),this.dirty=!1},t.className="Line",t.defaultStyles=Ao(Do.defaultStyles,{fill:void 0,strokeWidth:1}),t}(Do),jo=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},Vo=function(){function e(){this.type="band",this.index=new Map,this.ordinalRange=[],this._domain=[],this._range=[0,1],this._bandwidth=1,this._paddingInner=0,this._paddingOuter=0,this._round=!1,this._align=.5}return Object.defineProperty(e.prototype,"domain",{get:function(){return this._domain},set:function(e){var t=this._domain;t.length=0,this.index=new Map;var r=this.index;e.forEach((function(e){void 0===r.get(e)&&r.set(e,t.push(e)-1)})),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"range",{get:function(){return this._range},set:function(e){this._range[0]=e[0],this._range[1]=e[1],this.rescale()},enumerable:!0,configurable:!0}),e.prototype.ticks=function(){return this._domain},e.prototype.convert=function(e){var t=this.index.get(e);if(void 0===t)return NaN;var r=this.ordinalRange[t];return void 0===r?NaN:r},Object.defineProperty(e.prototype,"bandwidth",{get:function(){return this._bandwidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"padding",{get:function(){return this._paddingInner},set:function(e){e=Math.max(0,Math.min(1,e)),this._paddingInner=e,this._paddingOuter=e,this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paddingInner",{get:function(){return this._paddingInner},set:function(e){this._paddingInner=Math.max(0,Math.min(1,e)),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paddingOuter",{get:function(){return this._paddingOuter},set:function(e){this._paddingOuter=Math.max(0,Math.min(1,e)),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"round",{get:function(){return this._round},set:function(e){this._round=e,this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"align",{get:function(){return this._align},set:function(e){this._align=Math.max(0,Math.min(1,e)),this.rescale()},enumerable:!0,configurable:!0}),e.prototype.rescale=function(){var e,t=this._domain.length;if(t){var r=jo(this._range,2),n=r[0],o=r[1],i=o<n;i&&(n=(e=jo([o,n],2))[0],o=e[1]);var a=(o-n)/Math.max(1,t-this._paddingInner+2*this._paddingOuter);this._round&&(a=Math.floor(a)),n+=(o-n-a*(t-this._paddingInner))*this._align,this._bandwidth=a*(1-this._paddingInner),this._round&&(n=Math.round(n),this._bandwidth=Math.round(this._bandwidth));for(var s=[],l=0;l<t;l++)s.push(n+a*l);this.ordinalRange=i?s.reverse():s}},e}(),zo=function(){function e(e,t){this.next=null,this.scene=e.scene,this.parent=e,this.datum=t}return e.prototype.appendChild=function(e){if(null===this.next)return this.parent.insertBefore(e,null);if(!_o.isNode(this.next))throw new Error(this.next+" is not a Node.");return this.parent.insertBefore(e,this.next)},e.prototype.insertBefore=function(e,t){return this.parent.insertBefore(e,t)},e}(),Uo=function(){function e(e,t){this.groups=e,this.parents=t}return e.select=function(t){return new e([["function"===typeof t?t():t]],[void 0])},e.selectAll=function(t){return new e([null==t?[]:t],[void 0])},e.prototype.append=function(e){return this.select((function(t){return t.appendChild(new e)}))},e.prototype.appendFn=function(e){return this.select((function(t,r,n,o){return t.appendChild(e(t,r,n,o))}))},e.prototype.select=function(t){for(var r=this.groups,n=r.length,o=[],i=0;i<n;i++)for(var a=r[i],s=a.length,l=o[i]=new Array(s),u=0;u<s;u++){var c=a[u];if(c){var p=t(c,c.datum,u,a);p&&(p.datum=c.datum),l[u]=p}}return new e(o,this.parents)},e.prototype.selectByClass=function(e){return this.select((function(t){if(_o.isNode(t))for(var r=t.children,n=r.length,o=0;o<n;o++){var i=r[o];if(i instanceof e)return i}}))},e.prototype.selectByTag=function(e){return this.select((function(t){if(_o.isNode(t))for(var r=t.children,n=r.length,o=0;o<n;o++){var i=r[o];if(i.tag===e)return i}}))},e.prototype.selectAllByClass=function(e){return this.selectAll((function(t){var r=[];if(_o.isNode(t))for(var n=t.children,o=n.length,i=0;i<o;i++){var a=n[i];a instanceof e&&r.push(a)}return r}))},e.prototype.selectAllByTag=function(e){return this.selectAll((function(t){var r=[];if(_o.isNode(t))for(var n=t.children,o=n.length,i=0;i<o;i++){var a=n[i];a.tag===e&&r.push(a)}return r}))},e.prototype.selectNone=function(){return[]},e.prototype.selectAll=function(t){t||(t=this.selectNone);for(var r=[],n=[],o=this.groups,i=o.length,a=0;a<i;a++)for(var s=o[a],l=s.length,u=0;u<l;u++){var c=s[u];c&&(r.push(t(c,c.datum,u,s)),n.push(c))}return new e(r,n)},e.prototype.each=function(e){for(var t=this.groups,r=t.length,n=0;n<r;n++)for(var o=t[n],i=o.length,a=0;a<i;a++){var s=o[a];s&&e(s,s.datum,a,o)}return this},e.prototype.remove=function(){return this.each((function(e){if(_o.isNode(e)){var t=e.parent;t&&t.removeChild(e)}}))},e.prototype.merge=function(t){for(var r=this.groups,n=t.groups,o=r.length,i=n.length,a=Math.min(o,i),s=new Array(o),l=0;l<a;l++)for(var u=r[l],c=n[l],p=u.length,d=s[l]=new Array(p),h=0;h<p;h++){var f=u[h]||c[h];d[h]=f||void 0}for(;l<o;l++)s[l]=r[l];return new e(s,this.parents)},e.prototype.node=function(){for(var e=this.groups,t=e.length,r=0;r<t;r++)for(var n=e[r],o=n.length,i=0;i<o;i++){var a=n[i];if(a)return a}return null},e.prototype.attr=function(e,t){return this.each((function(r){r[e]=t})),this},e.prototype.attrFn=function(e,t){return this.each((function(r,n,o,i){r[e]=t(r,n,o,i)})),this},e.prototype.call=function(e){return e(this),this},Object.defineProperty(e.prototype,"size",{get:function(){var e=0;return this.each((function(){return e++})),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){var e=[];return this.each((function(t,r){return e.push(r)})),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"enter",{get:function(){return new e(this.enterGroups?this.enterGroups:[[]],this.parents)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"exit",{get:function(){return new e(this.exitGroups?this.exitGroups:[[]],this.parents)},enumerable:!0,configurable:!0}),e.prototype.setDatum=function(e){return this.each((function(t){t.datum=e}))},Object.defineProperty(e.prototype,"datum",{get:function(){var e=this.node();return e?e.datum:null},enumerable:!0,configurable:!0}),e.prototype.setData=function(t,r){if("function"!==typeof t){var n=t;t=function(){return n}}for(var o=this.groups,i=this.parents,a=o.length,s=new Array(a),l=new Array(a),u=new Array(a),c=0;c<a;c++){var p=o[c],d=i[c];if(!d)throw new Error("Group #"+c+" has no parent: "+p);var h=p.length,f=t(d,d.datum,c,i),g=f.length,y=l[c]=new Array(g),v=s[c]=new Array(g),m=u[c]=new Array(h);r?this.bindKey(d,p,y,v,m,f,r):this.bindIndex(d,p,y,v,m,f);for(var b=0,C=0;b<g;b++){var w=y[b];if(w){b>=C&&(C=b+1);for(var x=void 0;!(x=v[C])&&C<g;)C++;w.next=x||null}}}var S=new e(s,i);return S.enterGroups=l,S.exitGroups=u,S},e.prototype.bindIndex=function(e,t,r,n,o,i){for(var a=t.length,s=i.length,l=0;l<s;l++){(u=t[l])?(u.datum=i[l],n[l]=u):r[l]=new zo(e,i[l])}for(;l<a;l++){var u;(u=t[l])&&(o[l]=u)}},e.prototype.bindKey=function(t,r,n,o,i,a,s){for(var l=r.length,u=a.length,c=new Array(l),p={},d=0;d<l;d++){if(f=r[d])(h=c[d]=e.keyPrefix+s(f,f.datum,d,r))in p?i[d]=f:p[h]=f}for(d=0;d<u;d++){var h;(f=p[h=e.keyPrefix+s(t,a[d],d,a)])?(o[d]=f,f.datum=a[d],p[h]=void 0):n[d]=new zo(t,a[d])}for(d=0;d<l;d++){var f;(f=r[d])&&p[c[d]]===f&&(i[d]=f)}},e.keyPrefix="$",e}(),Yo=function(){function e(e,t,r){void 0===e&&(e=window.document),void 0===t&&(t=600),void 0===r&&(r=300),this._container=void 0,this._pixelRatio=NaN,this._width=100,this._height=100,this.document=e,this.element=e.createElement("canvas"),this.context=this.element.getContext("2d"),this.element.style.userSelect="none",this.element.style.display="block",this.setPixelRatio(),this.resize(t,r)}return Object.defineProperty(e.prototype,"container",{get:function(){return this._container},set:function(e){this._container!==e&&(this.remove(),e&&e.appendChild(this.element),this._container=e)},enumerable:!0,configurable:!0}),e.prototype.remove=function(){var e=this.element.parentNode;null!=e&&e.removeChild(this.element)},e.prototype.destroy=function(){this.element.remove(),this._canvas=void 0,Object.freeze(this)},e.prototype.toImage=function(){var e=this.document.createElement("img");return e.src=this.getDataURL(),e},e.prototype.getDataURL=function(e){return this.element.toDataURL(e)},e.prototype.download=function(e){e=((e||"").trim()||"image")+".png";var t=this.getDataURL("image/png"),r=this.document,n=r.createElement("a");n.href=t,n.download=e,n.style.display="none",r.body.appendChild(n),n.click(),r.body.removeChild(n)},Object.defineProperty(e.prototype,"pixelRatio",{get:function(){return this._pixelRatio},enumerable:!0,configurable:!0}),e.prototype.setPixelRatio=function(t){var r=t||window.devicePixelRatio;r!==this.pixelRatio&&(e.overrideScale(this.context,r),this._pixelRatio=r,this.resize(this.width,this.height))},Object.defineProperty(e.prototype,"pixelated",{get:function(){return"pixelated"===this.element.style.imageRendering},set:function(e){this.element.style.imageRendering=e?"pixelated":"auto"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),e.prototype.resize=function(e,t){if(e>0&&t>0){var r=this,n=r.element,o=r.context,i=r.pixelRatio;n.width=Math.round(e*i),n.height=Math.round(t*i),n.style.width=e+"px",n.style.height=t+"px",o.resetTransform(),this._width=e,this._height=t}},Object.defineProperty(e,"textMeasuringContext",{get:function(){if(this._textMeasuringContext)return this._textMeasuringContext;var e=document.createElement("canvas");return this._textMeasuringContext=e.getContext("2d")},enumerable:!0,configurable:!0}),Object.defineProperty(e,"svgText",{get:function(){if(this._svgText)return this._svgText;var e="http://www.w3.org/2000/svg",t=document.createElementNS(e,"svg");t.setAttribute("width","100"),t.setAttribute("height","100"),t.classList?t.classList.add("text-measuring-svg"):t.setAttribute("class","text-measuring-svg"),t.style.position="absolute",t.style.top="-1000px",t.style.visibility="hidden";var r=document.createElementNS(e,"text");return r.setAttribute("x","0"),r.setAttribute("y","30"),r.setAttribute("text","black"),t.appendChild(r),document.body.appendChild(t),this._svgText=r,r},enumerable:!0,configurable:!0}),Object.defineProperty(e,"has",{get:function(){if(this._has)return this._has;var e=navigator.userAgent.indexOf("Chrome")>-1,t=navigator.userAgent.indexOf("Firefox")>-1,r=!e&&navigator.userAgent.indexOf("Safari")>-1;return this._has=Object.freeze({textMetrics:void 0!==this.textMeasuringContext.measureText("test").actualBoundingBoxDescent&&!t&&!r,getTransform:void 0!==this.textMeasuringContext.getTransform})},enumerable:!0,configurable:!0}),e.measureText=function(e,t,r,n){var o=this.textMeasuringContext;return o.font=t,o.textBaseline=r,o.textAlign=n,o.measureText(e)},e.getTextSize=function(e,t){if(this.has.textMetrics){var r=this.textMeasuringContext;r.font=t;var n=r.measureText(e);return{width:n.width,height:n.actualBoundingBoxAscent+n.actualBoundingBoxDescent}}return this.measureSvgText(e,t)},e.measureSvgText=function(e,t){var r=this.textSizeCache,n=r[t];if(n){var o=n[e];if(o)return o}else r[t]={};var i=this.svgText;i.style.font=t,i.textContent=e;var a=i.getBBox(),s={width:a.width,height:a.height};return r[t][e]=s,s},e.overrideScale=function(e,t){var r=0,n={save:function(){this.$save(),r++},restore:function(){r>0&&(this.$restore(),r--)},setTransform:function(e,r,n,o,i,a){this.$setTransform(e*t,r*t,n*t,o*t,i*t,a*t)},resetTransform:function(){this.$setTransform(t,0,0,t,0,0),this.save(),r=0}};for(var o in n)n.hasOwnProperty(o)&&(e["$"+o]||(e["$"+o]=e[o]),e[o]=n[o])},e.textSizeCache={},e}(),Xo=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},Ko=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Xo(arguments[t]));return e},qo=function(){function e(e,t,r){var n=this;void 0===e&&(e=window.document),this.id=So(this),this._dirty=!1,this.animationFrameId=0,this._root=null,this.debug={renderFrameIndex:!1,renderBoundingBoxes:!1},this._frameIndex=0,this.render=function(){var e,t=n,r=t.ctx,o=t.root,i=t.pendingSize;n.animationFrameId=0,i&&((e=n.canvas).resize.apply(e,Ko(i)),n.pendingSize=void 0),!o||o.visible?(r.clearRect(0,0,n.width,n.height),o&&(r.save(),o.visible&&o.render(r),r.restore()),n._frameIndex++,n.debug.renderFrameIndex&&(r.fillStyle="white",r.fillRect(0,0,40,15),r.fillStyle="black",r.fillText(n.frameIndex.toString(),2,10)),n.dirty=!1):n.dirty=!1},this.canvas=new Yo(e,t,r),this.ctx=this.canvas.context}return Object.defineProperty(e.prototype,"container",{get:function(){return this.canvas.container},set:function(e){this.canvas.container=e},enumerable:!0,configurable:!0}),e.prototype.download=function(e){this.canvas.download(e)},e.prototype.getDataURL=function(e){return this.canvas.getDataURL(e)},Object.defineProperty(e.prototype,"width",{get:function(){return this.pendingSize?this.pendingSize[0]:this.canvas.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.pendingSize?this.pendingSize[1]:this.canvas.height},enumerable:!0,configurable:!0}),e.prototype.resize=function(e,t){e=Math.round(e),t=Math.round(t),e===this.width&&t===this.height||(this.pendingSize=[e,t],this.dirty=!0)},Object.defineProperty(e.prototype,"dirty",{get:function(){return this._dirty},set:function(e){e&&!this._dirty&&(this.animationFrameId=requestAnimationFrame(this.render)),this._dirty=e},enumerable:!0,configurable:!0}),e.prototype.cancelRender=function(){this.animationFrameId&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=0,this._dirty=!1)},Object.defineProperty(e.prototype,"root",{get:function(){return this._root},set:function(e){e!==this._root&&(this._root&&this._root._setScene(),this._root=e,e&&(null===e.parent&&e.scene&&e.scene!==this&&(e.scene.root=null),e._setScene(this)),this.dirty=!0)},enumerable:!0,configurable:!0}),e.prototype.appendPath=function(e){var t=this.ctx,r=e.commands,n=e.params,o=r.length,i=0;t.beginPath();for(var a=0;a<o;a++)switch(r[a]){case"M":t.moveTo(n[i++],n[i++]);break;case"L":t.lineTo(n[i++],n[i++]);break;case"C":t.bezierCurveTo(n[i++],n[i++],n[i++],n[i++],n[i++],n[i++]);break;case"Z":t.closePath()}},Object.defineProperty(e.prototype,"frameIndex",{get:function(){return this._frameIndex},enumerable:!0,configurable:!0}),e.className="Scene",e}(),$o=function(){return $o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},$o.apply(this,arguments)},Zo=function(){function e(){this.allPropertyListeners=new Map,this.allEventListeners=new Map}return e.prototype.addPropertyListener=function(e,t,r){void 0===r&&(r=this);var n=this.allPropertyListeners,o=n.get(e);if(o||(o=new Map,n.set(e,o)),!o.has(t)){var i=new Set;o.set(t,i)}var a=o.get(t);a&&a.add(r)},e.prototype.removePropertyListener=function(e,t,r){void 0===r&&(r=this);var n=this.allPropertyListeners.get(e);if(n)if(t){var o=n.get(t);o&&(o.delete(r),o.size||n.delete(t))}else n.clear()},e.prototype.notifyPropertyListeners=function(e,t,r){var n=this,o=this.allPropertyListeners.get(e);o&&o.forEach((function(o,i){o.forEach((function(o){return i.call(o,{type:e,source:n,value:r,oldValue:t})}))}))},e.prototype.addEventListener=function(e,t,r){void 0===r&&(r=this);var n=this.allEventListeners,o=n.get(e);if(o||(o=new Map,n.set(e,o)),!o.has(t)){var i=new Set;o.set(t,i)}var a=o.get(t);a&&a.add(r)},e.prototype.removeEventListener=function(e,t,r){void 0===r&&(r=this);var n=this.allEventListeners.get(e);if(n)if(t){var o=n.get(t);o&&(o.delete(r),o.size||n.delete(t))}else n.clear()},e.prototype.notifyEventListeners=function(e){var t=this,r=this.allEventListeners;e.forEach((function(e){var n=r.get(e);n&&n.forEach((function(r,n){r.forEach((function(r){return n.call(r,{type:e,source:t})}))}))}))},e.prototype.fireEvent=function(e){var t=this,r=this.allEventListeners.get(e.type);r&&r.forEach((function(r,n){r.forEach((function(r){return n.call(r,$o($o({},e),{source:t}))}))}))},e.privateKeyPrefix="_",e}();function Qo(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];e.indexOf("debugger");return function(t,r){var n=Zo.privateKeyPrefix+r,o=n+"Events";t[r]||(e&&(t[o]=e),Object.defineProperty(t,r,{set:function(e){var t=this[n];if(e!==t||"object"===typeof e&&null!==e){this[n]=e,this.notifyPropertyListeners(r,t,e);var i=this[o];i&&this.notifyEventListeners(i)}},get:function(){return this[n]},enumerable:!0,configurable:!0}))}}var Jo=function(){function e(e,t,r,n){void 0===e&&(e=0),void 0===t&&(t=e),void 0===r&&(r=e),void 0===n&&(n=t),this.top=e,this.right=t,this.bottom=r,this.left=n}return e.prototype.clear=function(){this.top=this.right=this.bottom=this.left=0},e}();function ei(e){return"number"===typeof e&&Number.isFinite(e)}function ti(e){return ei(e)||function(e){return!!e&&e.hasOwnProperty("valueOf")&&ei(e.valueOf())}(e)}function ri(e){return e instanceof Date&&!isNaN(+e)}function ni(e){return"string"===typeof e}function oi(e){return ti(e)||ri(e)}function ii(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}var ai=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},si=function(){function e(e,t,r,n){void 0===n&&(n=1),this.r=Math.min(1,Math.max(0,e||0)),this.g=Math.min(1,Math.max(0,t||0)),this.b=Math.min(1,Math.max(0,r||0)),this.a=Math.min(1,Math.max(0,n||0))}return e.fromString=function(t){if(t.indexOf("#")>=0)return e.fromHexString(t);var r=e.nameToHex[t];if(r)return e.fromHexString(r);if(t.indexOf("rgb")>=0)return e.fromRgbaString(t);throw new Error("Invalid color string: '"+t+"'")},e.parseHex=function(e){var t;switch((e=e.replace(/ /g,"").slice(1)).length){case 6:case 8:t=[];for(var r=0;r<e.length;r+=2)t.push(parseInt(""+e[r]+e[r+1],16));break;case 3:case 4:t=e.split("").map((function(e){return parseInt(e,16)})).map((function(e){return e+16*e}))}if(t.length>=3&&t.every((function(e){return e>=0})))return 3===t.length&&t.push(255),t},e.fromHexString=function(t){var r=e.parseHex(t);if(r){var n=ai(r,4);return new e(n[0]/255,n[1]/255,n[2]/255,n[3]/255)}throw new Error("Malformed hexadecimal color string: '"+t+"'")},e.stringToRgba=function(e){for(var t=ai([NaN,NaN],2),r=t[0],n=t[1],o=0;o<e.length;o++){var i=e[o];if(r||"("!==i){if(")"===i){n=o;break}}else r=o}var a=r&&n&&e.substring(r+1,n);if(a){var s=a.split(","),l=[];for(o=0;o<s.length;o++){var u=s[o],c=parseFloat(u);if(isNaN(c))return;u.indexOf("%")>=0?(c=Math.max(0,Math.min(100,c)),c/=100):3===o?c=Math.max(0,Math.min(1,c)):(c=Math.max(0,Math.min(255,c)),c/=255),l.push(c)}return l}},e.fromRgbaString=function(t){var r=e.stringToRgba(t);if(r){if(3===r.length)return new e(r[0],r[1],r[2]);if(4===r.length)return new e(r[0],r[1],r[2],r[3])}throw new Error("Malformed rgb/rgba color string: '"+t+"'")},e.fromArray=function(t){if(4===t.length)return new e(t[0],t[1],t[2],t[3]);if(3===t.length)return new e(t[0],t[1],t[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")},e.fromHSB=function(t,r,n,o){void 0===o&&(o=1);var i=e.HSBtoRGB(t,r,n);return new e(i[0],i[1],i[2],o)},e.padHex=function(e){return 1===e.length?"0"+e:e},e.prototype.toHexString=function(){var t="#"+e.padHex(Math.round(255*this.r).toString(16))+e.padHex(Math.round(255*this.g).toString(16))+e.padHex(Math.round(255*this.b).toString(16));return this.a<1&&(t+=e.padHex(Math.round(255*this.a).toString(16))),t},e.prototype.toRgbaString=function(e){void 0===e&&(e=3);var t=[Math.round(255*this.r),Math.round(255*this.g),Math.round(255*this.b)],r=Math.pow(10,e);return 1!==this.a?(t.push(Math.round(this.a*r)/r),"rgba("+t.join(", ")+")"):"rgb("+t.join(", ")+")"},e.prototype.toString=function(){return 1===this.a?this.toHexString():this.toRgbaString()},e.prototype.toHSB=function(){return e.RGBtoHSB(this.r,this.g,this.b)},e.RGBtoHSB=function(e,t,r){var n=Math.min(e,t,r),o=Math.max(e,t,r),i=NaN;if(n!==o){var a=o-n,s=(o-e)/a,l=(o-t)/a,u=(o-r)/a;i=e===o?u-l:t===o?2+s-u:4+l-s,(i/=6)<0&&(i+=1)}return[360*i,0!==o?(o-n)/o:0,o]},e.HSBtoRGB=function(e,t,r){isNaN(e)&&(e=0),e=(e%360+360)%360/360;var n=0,o=0,i=0;if(0===t)n=o=i=r;else{var a=6*(e-Math.floor(e)),s=a-Math.floor(a),l=r*(1-t),u=r*(1-t*s),c=r*(1-t*(1-s));switch(a>>0){case 0:n=r,o=c,i=l;break;case 1:n=u,o=r,i=l;break;case 2:n=l,o=r,i=c;break;case 3:n=l,o=u,i=r;break;case 4:n=c,o=l,i=r;break;case 5:n=r,o=l,i=u}}return[n,o,i]},e.prototype.derive=function(t,r,n,o){var i=e.RGBtoHSB(this.r,this.g,this.b),a=i[2];0==a&&n>1&&(a=.05);var s=((i[0]+t)%360+360)%360,l=Math.max(Math.min(i[1]*r,1),0);a=Math.max(Math.min(a*n,1),0);var u=Math.max(Math.min(this.a*o,1),0),c=e.HSBtoRGB(s,l,a);return c.push(u),e.fromArray(c)},e.prototype.brighter=function(){return this.derive(0,1,1/.7,1)},e.prototype.darker=function(){return this.derive(0,1,.7,1)},e.nameToHex=Object.freeze({aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"}),e}();function li(e,t){if("string"===typeof e)try{e=si.fromString(e)}catch(a){e=si.fromArray([0,0,0])}if("string"===typeof t)try{t=si.fromString(t)}catch(a){t=si.fromArray([0,0,0])}var r=ii(e.r,t.r),n=ii(e.g,t.g),o=ii(e.b,t.b),i=ii(e.a,t.a);return function(e){return si.fromArray([r(e),n(e),o(e),i(e)]).toRgbaString()}}function ui(e,t){var r,n=typeof t;if(null==t||"boolean"===n)return r=t,function(){return r};if("number"===n)return ii(e,t);if("string"===n)try{return li(e,t=si.fromString(t))}catch(o){}return t instanceof si?li(e,t):t instanceof Date?function(e,t){var r=new Date,n=+e,o=+t;return function(e){return r.setTime(n*(1-e)+o*e),r}}(e,t):Array.isArray(t)?function(e,t){var r,n=t?t.length:0,o=e?Math.min(n,e.length):0,i=new Array(o),a=new Array(n);for(r=0;r<o;++r)i[r]=ui(e[r],t[r]);for(;r<n;++r)a[r]=t[r];return function(e){for(r=0;r<o;++r)a[r]=i[r](e);return a}}(e,t):"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?function(e,t){var r,n={},o={};for(r in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)r in e?n[r]=ui(e[r],t[r]):o[r]=t[r];return function(e){for(r in n)o[r]=n[r](e);return o}}(e,t):ii(e,t)}var ci=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},pi=function(e){return e};function di(e){var t,r=e[0],n=e[e.length-1];return r>n&&(t=ci([n,r],2),r=t[0],n=t[1]),function(e){return Math.max(r,Math.min(n,e))}}var hi=function(){function e(){this.unknown=void 0,this._clamp=pi,this._domain=[0,1],this._range=[0,1],this.transform=pi,this.untransform=pi,this._interpolate=ui,this.rescale()}return Object.defineProperty(e.prototype,"clamp",{get:function(){return this._clamp!==pi},set:function(e){this._clamp=e?di(this.domain):pi},enumerable:!0,configurable:!0}),e.prototype.setDomain=function(e){this._domain=Array.prototype.map.call(e,(function(e){return+e})),this._clamp!==pi&&(this._clamp=di(this.domain)),this.rescale()},e.prototype.getDomain=function(){return this._domain.slice()},Object.defineProperty(e.prototype,"domain",{get:function(){return this.getDomain()},set:function(e){this.setDomain(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"range",{get:function(){return this._range.slice()},set:function(e){this._range=Array.prototype.slice.call(e),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"interpolate",{get:function(){return this._interpolate},set:function(e){this._interpolate=e,this.rescale()},enumerable:!0,configurable:!0}),e.prototype.rescale=function(){this.piecewise=this.bimap,this.output=void 0,this.input=void 0},e.prototype.normalize=function(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:(r=isNaN(t)?NaN:.5,function(){return r});var r},e.prototype.bimap=function(e,t,r){var n,o,i=e[0],a=e[1],s=t[0],l=t[1];return a<i?(n=this.normalize(a,i),o=r(l,s)):(n=this.normalize(i,a),o=r(s,l)),function(e){return o(n(e))}},e.prototype.convert=function(e){return e=+e,isNaN(e)?this.unknown:(this.output||(this.output=this.piecewise(this.domain.map(this.transform),this.range,this.interpolate)),this.output(this.transform(this._clamp(e))))},e.prototype.invert=function(e){return this.input||(this.input=this.piecewise(this.range,this.domain.map(this.transform),ii)),this._clamp(this.untransform(this.input(e)))},e}(),fi=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();function gi(e,t,r){var n=bi(e,t,r);return function(e,t,r){void 0===r&&(r=1);for(var n=Math.abs(r),o=n>0&&n<1?Math.abs(Math.floor(Math.log(n)/Math.LN10)):0,i=Math.pow(10,o),a=Math.max(0,Math.ceil((t-e)/r))||0,s=new wi(o),l=0;l<a;l++){var u=e+r*l;s[l]=Math.round(u*i)/i}return s}(e=Math.ceil(e/n)*n,t=Math.floor(t/n)*n+n/2,n)}var yi=Math.sqrt(50),vi=Math.sqrt(10),mi=Math.sqrt(2);function bi(e,t,r){var n=Math.abs(t-e)/Math.max(0,r),o=Math.pow(10,Math.floor(Math.log(n)/Math.LN10)),i=n/o;return i>=yi?o*=10:i>=vi?o*=5:i>=mi&&(o*=2),t<e?-o:o}function Ci(e,t,r){var n=(t-e)/Math.max(0,r),o=Math.floor(Math.log(n)/Math.LN10),i=n/Math.pow(10,o);return o>=0?(i>=yi?10:i>=vi?5:i>=mi?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(i>=yi?10:i>=vi?5:i>=mi?2:1)}var wi=function(e){function t(t,r){var n=e.call(this)||this;if(r)for(var o=0,i=r.length;o<i;o++)n[o]=r[o];return n.fractionDigits=t,n}return fi(t,e),t}(Array);var xi,Si,Ei,Oi,_i={"":function(e,t){var r=e.toPrecision(t);e:for(var n=r.length,o=1,i=-1,a=0;o<n;++o)switch(r[o]){case".":i=a=o;break;case"0":0===i&&(i=o),a=o;break;case"e":break e;default:i>0&&(i=0)}return i>0?r.slice(0,i)+r.slice(a+1):r},"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return String(e)},d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return ki(100*e,t)},r:ki,s:function(e,t){void 0===t&&(t=0);var r=Ni(e,t);if(!r)return String(e);var n=r[0],o=r[1];xi=3*Math.max(-8,Math.min(8,Math.floor(o/3)));var i=o-xi+1,a=n.length;if(i===a)return n;if(i>a)return n+new Array(i-a+1).join("0");if(i>0)return n.slice(0,i)+"."+n.slice(i);var s=Ni(e,Math.max(0,t+i-1));return"0."+new Array(1-i).join("0")+s[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}},Pi=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"],Ri=function e(t){t instanceof e?(this.fill=t.fill,this.align=t.align,this.sign=t.sign,this.symbol=t.symbol,this.zero=t.zero,this.width=t.width,this.comma=t.comma,this.precision=t.precision,this.trim=t.trim,this.type=t.type,this.string=t.string):(this.fill=void 0===t.fill?" ":String(t.fill),this.align=void 0===t.align?">":String(t.align),this.sign=void 0===t.sign?"-":String(t.sign),this.symbol=void 0===t.symbol?"":String(t.symbol),this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":String(t.type),this.string=t.string)},Ai=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i,Ti=/(#\{(.*?)\})/g;function Di(e){if(e instanceof Ri)return new Ri(e);var t=!1,r=e.replace(Ti,(function(){return t||(e=arguments[2],t=!0),"#{}"})),n=Ai.exec(e);if(!n)throw new Error("Invalid format: "+e);return new Ri({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10],string:t?r:void 0})}function Mi(e,t,r,n){var o,i=bi(e,t,r),a=Di(void 0==n?",f":n);switch(a.type){case"s":var s=Math.max(Math.abs(e),Math.abs(t));return null!=a.precision||isNaN(o=function(e,t){var r=Math.floor(Li(t)/3);return r=Math.min(8,r),r=Math.max(-8,r),Math.max(0,3*r-Li(Math.abs(e)))}(i,s))||(a.precision=o),Oi(a,s);case"":case"e":case"g":case"p":case"r":null!=a.precision||isNaN(o=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Li(t)-Li(e))+1}(i,Math.max(Math.abs(e),Math.abs(t))))||(a.precision=o-+("e"===a.type));break;case"f":case"%":null!=a.precision||isNaN(o=function(e){return Math.max(0,-Li(Math.abs(e)))}(i))||(a.precision=o-2*+("%"===a.type))}return Ei(a)}function ki(e,t){var r=Ni(e,t);if(!r)return String(e);var n=r[0],o=r[1];return o<0?"0."+new Array(-o).join("0")+n:n.length>o+1?n.slice(0,o+1)+"."+n.slice(o+1):n+new Array(o-n.length+2).join("0")}function Ni(e,t){var r=t?e.toExponential(t-1):e.toExponential(),n=r.indexOf("e");if(!(n<0)){var o=r.slice(0,n);return[o.length>1?o[0]+o.slice(2):o,+r.slice(n+1)]}}function Ii(e){return e}function Li(e){var t=Ni(Math.abs(e));return t?t[1]:NaN}Si=function(e){var t,r,n=void 0===e.grouping||void 0===e.thousands?Ii:(t=Array.prototype.map.call(e.grouping,Number),r=String(e.thousands),function(e,n){for(var o=[],i=e.length,a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),o.push(e.substring(i-=s,i+s)),!((l+=s+1)>n));)s=t[a=(a+1)%t.length];return o.reverse().join(r)}),o=void 0===e.currency?"":String(e.currency[0]),i=void 0===e.currency?"":String(e.currency[1]),a=void 0===e.decimal?".":String(e.decimal),s=void 0===e.numerals?Ii:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(Array.prototype.map.call(e.numerals,String)),l=void 0===e.percent?"%":String(e.percent),u=void 0===e.minus?"\u2212":String(e.minus),c=void 0===e.nan?"NaN":String(e.nan);function p(e){var t=Di(e),r=t.fill,p=t.align,d=t.sign,h=t.symbol,f=t.zero,g=t.width,y=t.comma,v=t.precision,m=t.trim,b=t.type;"n"===b?(y=!0,b="g"):_i[b]||(void 0===v&&(v=12),m=!0,b="g"),(f||"0"===r&&"="===p)&&(f=!0,r="0",p="=");var C="$"===h?o:"#"===h&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",w="$"===h?i:/[%p]/.test(b)?l:"",x=_i[b],S=/[defgprs%]/.test(b);function E(e){var o,i=C,l=w;if("c"===b)l=x(+e)+l,o="";else{var h=+e,E=e<0||1/h<0;if(o=isNaN(h)?c:x(Math.abs(h),v),m&&(o=function(e){e:for(var t=e.length,r=1,n=-1,o=0;r<t;++r)switch(e[r]){case".":n=o=r;break;case"0":0===n&&(n=r),o=r;break;default:if(!+e[r])break e;n>0&&(n=0)}return n>0?e.slice(0,n)+e.slice(o+1):e}(o)),E&&0===+o&&"+"!==d&&(E=!1),i=(E?"("===d?d:u:"-"===d||"("===d?"":d)+i,l=("s"===b?Pi[8+xi/3]:"")+l+(E&&"("===d?")":""),S)for(var O=0,_=o.length;O<_;O++){var P=o.charCodeAt(O);if(48>P||P>57){l=(46===P?a+o.slice(O+1):o.slice(O))+l,o=o.slice(0,O);break}}}y&&!f&&(o=n(o,1/0));var R=i.length+o.length+l.length,A=R<g?new Array(g-R+1).join(r):"";switch(y&&f&&(o=n(A+o,A.length?g-l.length:1/0),A=""),p){case"<":o=i+o+l+A;break;case"=":o=i+A+o+l;break;case"^":o=A.slice(0,R=A.length>>1)+i+o+l+A.slice(R);break;default:o=A+i+o+l}var T=t.string;return T?T.replace(Ti,(function(){return s(o)})):s(o)}return v=void 0===v?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v)),E}function d(e,t){var r=Di(e);r.type="f";var n=p(r),o=3*Math.max(-8,Math.min(8,Math.floor(Li(t)/3))),i=Math.pow(10,-o),a=Pi[8+o/3];return function(e){return n(i*+e)+a}}return{format:p,formatPrefix:d}}({thousands:",",grouping:[3],currency:["$",""]}),Ei=Si.format,Oi=Si.formatPrefix;var Fi=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Gi=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="linear",t}return Fi(t,e),t.prototype.ticks=function(e){void 0===e&&(e=10);var t=this._domain;return gi(t[0],t[t.length-1],e)},t.prototype.nice=function(e){void 0===e&&(e=10);var t,r=this.domain,n=0,o=r.length-1,i=r[n],a=r[o];a<i&&(t=i,i=a,a=t,t=n,n=o,o=t),(t=Ci(i,a,e))>0?t=Ci(i=Math.floor(i/t)*t,a=Math.ceil(a/t)*t,e):t<0&&(t=Ci(i=Math.ceil(i*t)/t,a=Math.floor(a*t)/t,e)),t>0?(r[n]=Math.floor(i/t)*t,r[o]=Math.ceil(a/t)*t,this.domain=r):t<0&&(r[n]=Math.ceil(i*t)/t,r[o]=Math.floor(a*t)/t,this.domain=r)},t.prototype.tickFormat=function(e,t){var r=this.domain;return Mi(r[0],r[r.length-1],void 0==e?10:e,t)},t}(hi),Bi=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Wi=new Date,Hi=new Date,ji=function(){function e(e,t){this._floor=e,this._offset=t}return e.prototype.floor=function(e){return e=new Date(+e),this._floor(e),e},e.prototype.ceil=function(e){return e=new Date(+e-1),this._floor(e),this._offset(e,1),this._floor(e),e},e.prototype.round=function(e){var t=this.floor(e),r=this.ceil(e),n=+e;return n-t.getTime()<r.getTime()-n?t:r},e.prototype.offset=function(e,t){return void 0===t&&(t=1),e=new Date(+e),this._offset(e,Math.floor(t)),e},e.prototype.range=function(e,t,r){void 0===r&&(r=1);var n,o=[];if(e=this.ceil(e),r=Math.floor(r),e>t||r<=0)return o;do{n=new Date(+e),o.push(n),this._offset(e,r),this._floor(e)}while(n<e&&e<t);return o},e.prototype.filter=function(t){var r=this;return new e((function(e){if(e instanceof Date)for(r._floor(e);!t(e);)e.setTime(e.getTime()-1),r._floor(e);return e}),(function(e,n){if(e instanceof Date)if(n<0)for(;++n<=0;)do{r._offset(e,-1)}while(!t(e));else for(;--n>=0;)do{r._offset(e,1)}while(!t(e));return e}))},e}(),Vi=function(e){function t(t,r,n,o){var i=e.call(this,t,r)||this;return i._count=n,i._field=o,i}return Bi(t,e),t.prototype.count=function(e,t){return Wi.setTime(+e),Hi.setTime(+t),this._floor(Wi),this._floor(Hi),Math.floor(this._count(Wi,Hi))},t.prototype.every=function(e){var t,r=this;if(e=Math.floor(e),isFinite(e)&&e>0)if(e>1){var n=this._field;t=n?this.filter((function(t){return n(t)%e===0})):this.filter((function(t){return r.count(0,t)%e===0}))}else t=this;return t},t}(ji);var zi=new Vi((function(e){return e}),(function(e,t){e.setTime(e.getTime()+t)}),(function(e,t){return t.getTime()-e.getTime()})),Ui=1e3,Yi=6e4,Xi=36e5,Ki=864e5,qi=6048e5,$i=2592e6,Zi=31536e6;var Qi=new Vi((function(e){e.setTime(e.getTime()-e.getMilliseconds())}),(function(e,t){e.setTime(e.getTime()+t*Ui)}),(function(e,t){return(t.getTime()-e.getTime())/Ui}));var Ji=new Vi((function(e){e.setTime(e.getTime()-e.getMilliseconds()-e.getSeconds()*Ui)}),(function(e,t){e.setTime(e.getTime()+t*Yi)}),(function(e,t){return(t.getTime()-e.getTime())/Yi}),(function(e){return e.getMinutes()}));var ea=new Vi((function(e){e.setTime(e.getTime()-e.getMilliseconds()-e.getSeconds()*Ui-e.getMinutes()*Yi)}),(function(e,t){e.setTime(e.getTime()+t*Xi)}),(function(e,t){return(t.getTime()-e.getTime())/Xi}),(function(e){return e.getHours()}));var ta=new Vi((function(e){e.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+t)}),(function(e,t){var r=t.getTimezoneOffset()-e.getTimezoneOffset();return(t.getTime()-e.getTime()-r*Yi)/Ki}),(function(e){return e.getDate()-1}));function ra(e){return new Vi((function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+7*t)}),(function(e,t){return(t.getTime()-e.getTime()-(t.getTimezoneOffset()-e.getTimezoneOffset())*Yi)/qi}))}var na=ra(0),oa=ra(1),ia=(ra(2),ra(3),ra(4));ra(5),ra(6);var aa=new Vi((function(e){e.setDate(1),e.setHours(0,0,0,0)}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())}),(function(e){return e.getMonth()}));var sa=new Vi((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e,t){return t.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()}));function la(e,t,r,n,o){void 0===n&&(n=0),void 0===o&&(o=e.length);for(var i=function(e){return function(t,r){return(n=e(t))<(o=r)?-1:n>o?1:n>=o?0:NaN;var n,o}}(r);n<o;){var a=n+o>>>1;i(e[a],t)<0?n=a+1:o=a}return n}var ua=new Vi((function(e){e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t.getTime()-e.getTime())/Ki}),(function(e){return e.getUTCDate()-1}));var ca=new Vi((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)}),(function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()}));function pa(e){return new Vi((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+7*t)}),(function(e,t){return(t.getTime()-e.getTime())/qi}))}var da=pa(0),ha=pa(1),fa=(pa(2),pa(3),pa(4));pa(5),pa(6);function ga(e){if(e.y>=0&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function ya(e){if(e.y>=0&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function va(e){for(var t={},r=0,n=e.length;r<n;r++)t[e[r].toLowerCase()]=r;return t}function ma(e){return{y:e,m:0,d:1,H:0,M:0,S:0,L:0}}var ba,Ca=/^\s*\d+/,wa=/^%/,xa=/[\\^$*+?|[\]().{}]/g,Sa=function(e){return e.replace(xa,"\\$&")},Ea=function(e){return new RegExp("^(?:"+e.map(Sa).join("|")+")","i")},Oa={"-":"",_:" ",0:"0"};function _a(e,t,r){var n=e<0?"-":"",o=String(n?-e:e),i=o.length;return n+(i<r?new Array(r-i+1).join(t)+o:o)}!function(e){ba=function(e){var t=e.dateTime,r=e.date,n=e.time,o=e.periods,i=e.days,a=e.shortDays,s=e.months,l=e.shortMonths,u=Ea(o),c=va(o),p=Ea(i),d=va(i),h=Ea(a),f=va(a),g=Ea(s),y=va(s),v=Ea(l),m=va(l),b={a:function(e){return a[e.getDay()]},A:function(e){return i[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:void 0,d:_,e:_,f:function(e,t){return O(e,t)+"000"},H:function(e,t){return _a(e.getHours(),t,2)},I:function(e,t){return _a(e.getHours()%12||12,t,2)},j:function(e,t){return _a(1+ta.count(sa.floor(e),e),t,3)},L:O,m:function(e,t){return _a(e.getMonth()+1,t,2)},M:function(e,t){return _a(e.getMinutes(),t,2)},p:function(e){return o[e.getHours()>=12?1:0]},Q:T,s:D,S:function(e,t){return _a(e.getSeconds(),t,2)},u:function(e){var t=e.getDay();return 0===t?7:t},U:function(e,t){return _a(na.count(sa.floor(e),e),t,2)},V:function(e,t){var r=e.getDay();e=r>=4||0===r?ia.floor(e):ia.ceil(e);var n=sa.floor(e);return _a(ia.count(n,e)+(4===n.getDay()?1:0),t,2)},w:function(e){return e.getDay()},W:function(e,t){return _a(oa.count(sa.floor(e),e),t,2)},x:void 0,X:void 0,y:function(e,t){return _a(e.getFullYear()%100,t,2)},Y:function(e,t){return _a(e.getFullYear()%1e4,t,4)},Z:function(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+_a(Math.floor(t/60),"0",2)+_a(t%60,"0",2)},"%":A},C={a:function(e){return a[e.getUTCDay()]},A:function(e){return i[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:void 0,d:R,e:R,f:function(e,t){return P(e,t)+"000"},H:function(e,t){return _a(e.getUTCHours(),t,2)},I:function(e,t){return _a(e.getUTCHours()%12||12,t,2)},j:function(e,t){return _a(1+ua.count(ca.floor(e),e),t,3)},L:P,m:function(e,t){return _a(e.getUTCMonth()+1,t,2)},M:function(e,t){return _a(e.getUTCMinutes(),t,2)},p:function(e){return o[e.getUTCHours()>=12?1:0]},Q:T,s:D,S:function(e,t){return _a(e.getUTCSeconds(),t,2)},u:function(e){var t=e.getUTCDay();return 0===t?7:t},U:function(e,t){return _a(da.count(ca.floor(e),e),t,2)},V:function(e,t){var r=e.getUTCDay();e=r>=4||0===r?fa.floor(e):fa.ceil(e);var n=ca.floor(e);return _a(fa.count(n,e)+(4===n.getUTCDay()?1:0),t,4)},w:function(e){return e.getUTCDay()},W:function(e,t){return _a(ha.count(ca.floor(e),e),t,2)},x:void 0,X:void 0,y:function(e,t){return _a(e.getUTCFullYear()%100,t,2)},Y:function(e,t){return _a(e.getUTCFullYear()%1e4,t,4)},Z:function(){return"+0000"},"%":A},w={a:function(e,t,r){var n=h.exec(t.slice(r));return n?(e.w=f[n[0].toLowerCase()],r+n[0].length):-1},A:function(e,t,r){var n=p.exec(t.slice(r));return n?(e.w=d[n[0].toLowerCase()],r+n[0].length):-1},b:function(e,t,r){var n=v.exec(t.slice(r));return n?(e.m=m[n[0].toLowerCase()],r+n[0].length):-1},B:function(e,t,r){var n=g.exec(t.slice(r));return n?(e.m=y[n[0].toLowerCase()],r+n[0].length):-1},c:function(e,r,n){return E(e,t,r,n)},d:k,e:k,f:function(e,t,r){var n=Ca.exec(t.slice(r,r+6));return n?(e.L=Math.floor(parseFloat(n[0])/1e3),r+n[0].length):-1},H:M,I:M,j:function(e,t,r){var n=Ca.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1},L:function(e,t,r){var n=Ca.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1},m:function(e,t,r){var n=Ca.exec(t.slice(r,r+2));return n?(e.m=parseFloat(n[0])-1,r+n[0].length):-1},M:function(e,t,r){var n=Ca.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1},p:function(e,t,r){var n=u.exec(t.slice(r));return n?(e.p=c[n[0].toLowerCase()],r+n[0].length):-1},Q:function(e,t,r){var n=Ca.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1},s:function(e,t,r){var n=Ca.exec(t.slice(r));return n?(e.Q=1e3*+n[0],r+n[0].length):-1},S:function(e,t,r){var n=Ca.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1},u:function(e,t,r){var n=Ca.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1},U:function(e,t,r){var n=Ca.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1},V:function(e,t,r){var n=Ca.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1},w:function(e,t,r){var n=Ca.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1},W:function(e,t,r){var n=Ca.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1},x:function(e,t,n){return E(e,r,t,n)},X:function(e,t,r){return E(e,n,t,r)},y:function(e,t,r){var n=Ca.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1},Y:function(e,t,r){var n=Ca.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1},Z:function(e,t,r){var n=/^(Z)|^([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1},"%":function(e,t,r){var n=wa.exec(t.slice(r,r+1));return n?r+n[0].length:-1}};function x(e,t){return function(r){var n=ma(1900);if(E(n,e,r+="",0)==r.length){if("Q"in n)return new Date(n.Q);if("p"in n&&(n.H=n.H%12+12*n.p),"V"in n){if(n.V<1||n.V>53)return;if("w"in n||(n.w=1),"Z"in n){var o=(i=ya(ma(n.y))).getUTCDay();i=o>4||0===o?ha.ceil(i):ha.floor(i),i=ua.offset(i,7*(n.V-1)),n.y=i.getUTCFullYear(),n.m=i.getUTCMonth(),n.d=i.getUTCDate()+(n.w+6)%7}else{var i;o=(i=t(ma(n.y))).getDay(),i=o>4||0===o?oa.ceil(i):oa.floor(i),i=ta.offset(i,7*(n.V-1)),n.y=i.getFullYear(),n.m=i.getMonth(),n.d=i.getDate()+(n.w+6)%7}}else("W"in n||"U"in n)&&("w"in n||(n.w="u"in n?n.u%7:"W"in n?1:0),o="Z"in n?ya(ma(n.y)).getUTCDay():t(ma(n.y)).getDay(),n.m=0,n.d="W"in n?(n.w+6)%7+7*n.W-(o+5)%7:n.w+7*n.U-(o+6)%7);return"Z"in n?(n.H+=n.Z/100|0,n.M+=n.Z%100,ya(n)):t(n)}}}function S(e,t){return function(r){var n=[],o=e.length,i=-1,a=0;for(r instanceof Date||(r=new Date(+r));++i<o;)if(37===e.charCodeAt(i)){n.push(e.slice(a,i));var s=e.charAt(++i),l=Oa[s];void 0!=l?s=e.charAt(++i):l="e"===s?" ":"0";var u=t[s];u&&(s=u(r,l)),n.push(s),a=i+1}return n.push(e.slice(a,i)),n.join("")}}function E(e,t,r,n){for(var o=0,i=t.length,a=r.length;o<i;){if(n>=a)return-1;var s=t.charCodeAt(o++);if(37===s){var l=t.charAt(o++),u=w[l in Oa?t.charAt(o++):l];if(!u||(n=u(e,r,n))<0)return-1}else if(s!=r.charCodeAt(n++))return-1}return n}function O(e,t){return _a(e.getMilliseconds(),t,3)}function _(e,t){return _a(e.getDate(),t,2)}function P(e,t){return _a(e.getUTCMilliseconds(),t,3)}function R(e,t){return _a(e.getUTCDate(),t,2)}function A(e){return"%"}function T(e){return e.getTime()}function D(e){return Math.floor(e.getTime()/1e3)}function M(e,t,r){var n=Ca.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function k(e,t,r){var n=Ca.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}return b.x=S(r,b),b.X=S(n,b),b.c=S(t,b),C.x=S(r,C),C.X=S(n,C),C.c=S(t,C),{format:function(e){var t=S(e,b);return t.toString=function(){return e},t},parse:function(e){var t=x(e,ga);return t.toString=function(){return e},t},utcFormat:function(e){var t=S(e,C);return t.toString=function(){return e},t},utcParse:function(e){var t=x(e,ya);return t.toString=function(){return e},t}}}(e)}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Pa=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ra=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},Aa=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="time",t.year=sa,t.month=aa,t.week=na,t.day=ta,t.hour=ea,t.minute=Ji,t.second=Qi,t.millisecond=zi,t.format=ba.format,t.tickIntervals=[[t.second,1,Ui],[t.second,5,5e3],[t.second,15,15e3],[t.second,30,3e4],[t.minute,1,Yi],[t.minute,5,3e5],[t.minute,15,9e5],[t.minute,30,18e5],[t.hour,1,Xi],[t.hour,3,108e5],[t.hour,6,216e5],[t.hour,12,432e5],[t.day,1,Ki],[t.day,2,1728e5],[t.week,1,qi],[t.month,1,$i],[t.month,3,7776e6],[t.year,1,Zi]],t.formatMillisecond=t.format(".%L"),t.formatSecond=t.format(":%S"),t.formatMinute=t.format("%I:%M"),t.formatHour=t.format("%I %p"),t.formatDay=t.format("%a %d"),t.formatWeek=t.format("%b %d"),t.formatMonth=t.format("%B"),t.formatYear=t.format("%Y"),t._domain=[new Date(2e3,0,1),new Date(2e3,0,2)],t}return Pa(t,e),t.prototype.defaultTickFormat=function(e){return(this.second.floor(e)<e?this.formatMillisecond:this.minute.floor(e)<e?this.formatSecond:this.hour.floor(e)<e?this.formatMinute:this.day.floor(e)<e?this.formatHour:this.month.floor(e)<e?this.week.floor(e)<e?this.formatDay:this.formatWeek:this.year.floor(e)<e?this.formatMonth:this.formatYear)(e)},t.prototype.tickInterval=function(e,t,r,n){var o;if("number"===typeof e){var i=e,a=this.tickIntervals,s=Math.abs(r-t)/i,l=la(a,s,(function(e){return e[2]}));l===a.length?(n=bi(t/Zi,r/Zi,i),e=this.year):l?(e=(o=Ra(a[s/a[l-1][2]<a[l][2]/s?l-1:l],2))[0],n=o[1]):(n=Math.max(bi(t,r,e),1),e=this.millisecond)}return void 0==n?e:e.every(n)},Object.defineProperty(t.prototype,"domain",{get:function(){return e.prototype.getDomain.call(this).map((function(e){return new Date(e)}))},set:function(t){e.prototype.setDomain.call(this,Array.prototype.map.call(t,(function(e){return e instanceof Date?+e:+new Date(+e)})))},enumerable:!0,configurable:!0}),t.prototype.invert=function(t){return new Date(e.prototype.invert.call(this,t))},t.prototype.ticks=function(t){void 0===t&&(t=10);var r=e.prototype.getDomain.call(this),n=r[0],o=r[r.length-1],i=o<n;if(i){var a=n;n=o,o=a}var s=this.tickInterval(t,n,o),l=s?s.range(n,o+1):[];return i?l.reverse():l},t.prototype.tickFormat=function(e,t){return void 0==t?this.defaultTickFormat.bind(this):this.format(t)},t.prototype.nice=function(t){void 0===t&&(t=10);var r=e.prototype.getDomain.call(this),n=this.tickInterval(t,r[0],r[r.length-1]);n&&(this.domain=this._nice(r,n))},t.prototype._nice=function(e,t){var r,n,o=0,i=(e=e.slice()).length-1,a=e[o],s=e[i];return s<a&&(o=(r=Ra([i,o],2))[0],i=r[1],a=(n=Ra([s,a],2))[0],s=n[1]),e[o]=t.floor(a),e[i]=t.ceil(s),e},t}(hi);function Ta(e){return e}function Da(e,t,r){for(var n,o,i,a=r||Ta,s=e.length,l=-1;++l<s;)if(t(n=e[l]))for(o=i=n;++l<s;)t(n=e[l])&&(o>n&&(o=n),i<n&&(i=n));return void 0===o||void 0===i?void 0:[a(o),a(i)]}var Ma=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ka=function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Na=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="category",t.stroke="rgb(204, 214, 235)",t.strokeWidth=1,t}return Ma(t,e),t}(Zo),Ia=function(e){function t(){var r=e.call(this)||this;r.id=So(r),r.seriesRect={x:0,y:0,width:0,height:0},r._context=void 0,r._container=void 0,r._data=void 0,r.padding=new Jo(3),r.xKey="x",r.yKey="y",r.dataType=void 0,r.xData=[],r.yData=[],r.min=void 0,r.max=void 0,r.yScale=new Gi,r.axis=new Na,r.highlightStyle={size:6,fill:"yellow",stroke:"silver",strokeWidth:1},r._width=100,r._height=100,r.smallestInterval=void 0,r.layoutId=0,r.defaultDateFormatter=ba.format("%m/%d/%y, %H:%M:%S"),r._onMouseMove=r.onMouseMove.bind(r),r._onMouseOut=r.onMouseOut.bind(r);var n=new Ro;r.rootGroup=n;var o=document.createElement("div");o.setAttribute("class","ag-sparkline-wrapper");var i=new qo(document);if(r.scene=i,r.canvasElement=i.canvas.element,i.root=n,i.container=o,i.resize(r.width,r.height),r.seriesRect.width=r.width,r.seriesRect.height=r.height,-1===t.tooltipDocuments.indexOf(document)){var a=document.createElement("style");a.innerHTML="\n.ag-sparkline-tooltip-wrapper {\n    position: absolute;\n    user-select: none;\n    pointer-events: none;\n}\n\n.ag-sparkline-tooltip {\n    position: relative;\n    font: 12px arial,sans-serif;\n    border-radius: 2px;\n    box-shadow: 0 1px 3px rgb(0 0 0 / 20%), 0 1px 1px rgb(0 0 0 / 14%);\n    line-height: 1.7em;\n    overflow: hidden;\n    white-space: nowrap;\n    z-index: 99999;\n    background-color: rgb(255, 255, 255);\n    color: rgba(0,0,0, 0.67);\n}\n\n.ag-sparkline-tooltip-content {\n    padding: 0 7px;\n}\n\n.ag-sparkline-tooltip-title {\n    padding-left: 7px;\n}\n\n.ag-sparkline-tooltip-wrapper-hidden {\n    top: -10000px !important;\n}\n\n.ag-sparkline-wrapper {\n    box-sizing: border-box;\n    overflow: hidden;\n}\n",document.head.insertBefore(a,document.head.querySelector("style")),t.tooltipDocuments.push(document)}return r.setupDomEventListeners(r.scene.canvas.element),r}return Ma(t,e),Object.defineProperty(t.prototype,"context",{get:function(){return this._context},set:function(e){this._context!==e&&(this._context=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"container",{get:function(){return this._container},set:function(e){if(this._container!==e){var t=this.canvasElement.parentNode;null!=t&&t.removeChild(this.canvasElement),e&&e.appendChild(this.canvasElement),this._container=e}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(e){this._data!==e&&(this._data=e,this.processData())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width!==e&&(this._width=e,this.scene.resize(e,this.height),this.scheduleLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height!==e&&(this._height=e,this.scene.resize(this.width,e),this.scheduleLayout())},enumerable:!0,configurable:!0}),t.prototype.update=function(){},t.prototype.updateYScale=function(){this.updateYScaleRange(),this.updateYScaleDomain()},t.prototype.updateYScaleDomain=function(){},t.prototype.updateYScaleRange=function(){var e=this.yScale,t=this.seriesRect;e.range=[t.height,0]},t.prototype.updateXScale=function(){var e=this.axis.type;this.xScale=this.getXScale(e),this.updateXScaleRange(),this.updateXScaleDomain()},t.prototype.updateXScaleRange=function(){this.xScale.range=[0,this.seriesRect.width]},t.prototype.updateXScaleDomain=function(){var e,t=this.xData,r=this.xScale;r instanceof Gi?e=Da(t,ei):r instanceof Aa&&(e=Da(t,oi)),this.xScale.domain=e?e.slice():t},t.prototype.getXScale=function(e){switch(void 0===e&&(e="category"),e){case"number":return new Gi;case"time":return new Aa;default:return new Vo}},t.prototype.updateAxisLine=function(){},t.prototype.updateAxes=function(){this.updateYScale(),this.updateXScale(),this.updateAxisLine()},t.prototype.updateCrosshairs=function(){this.updateXCrosshairLine(),this.updateYCrosshairLine()},t.prototype.generateNodeData=function(){return[]},t.prototype.getNodeData=function(){return[]},t.prototype.updateNodes=function(){},t.prototype.updateXCrosshairLine=function(){},t.prototype.updateYCrosshairLine=function(){},t.prototype.highlightDatum=function(e){this.updateNodes()},t.prototype.dehighlightDatum=function(){this.highlightedDatum=void 0,this.updateNodes(),this.updateCrosshairs()},t.prototype.onMouseMove=function(e){var t=this.pickClosestSeriesNodeDatum(e.offsetX,e.offsetY);if(t){var r=this.highlightedDatum;this.highlightedDatum=t,(this.highlightedDatum&&!r||this.highlightedDatum&&r&&this.highlightedDatum!==r)&&(this.highlightDatum(t),this.updateCrosshairs()),this.tooltip.enabled&&this.handleTooltip(e,t)}},t.prototype.onMouseOut=function(e){this.dehighlightDatum(),this.tooltip.toggle(!1)},t.prototype.processData=function(){var e=this,t=this,r=t.data,n=t.yData,o=t.xData;if(r&&!this.invalidData(this.data)){n.length=0,o.length=0;var i=r.length,a=this.getDataType(r);this.dataType=a;var s,l=this.axis.type,u="number"!==l&&"time"!==l?"category":l,c="number"===u||"time"===u,p=function(t,r){void 0==e.smallestInterval&&(e.smallestInterval={x:1/0,y:1/0});var n=e.smallestInterval.x,o=Math.abs(t-r);o>0&&o<n&&(e.smallestInterval.x=o)};if("number"===a)for(var d=0;d<i;d++){var h=d,f=r[d],g=this.getDatum(h,u),y=this.getDatum(f,"number");c&&p(g,s),o.push(g),n.push(y),s=g}else if("array"===a)for(d=0;d<i;d++){var v=r[d];if(Array.isArray(v)){h=v[0],f=v[1],g=this.getDatum(h,u),y=this.getDatum(f,"number");if(void 0==g)continue;c&&p(g,s),o.push(g),n.push(y),s=g}}else if("object"===a){var m=this.yKey,b=this.xKey;for(d=0;d<i;d++){if("object"===typeof(v=r[d])&&!Array.isArray(v)){h=v[b],f=v[m],g=this.getDatum(h,u),y=this.getDatum(f,"number");if(void 0==g)continue;c&&p(g,s),o.push(g),n.push(y),s=g}}}this.updateAxes(),this.update()}},t.prototype.getDataType=function(e){var t,r;try{for(var n=ka(e),o=n.next();!o.done;o=n.next()){var i=o.value;if(void 0!=i){if(ei(i))return"number";if(Array.isArray(i))return"array";if("object"===typeof i)return"object"}}}catch(a){t={error:a}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}},t.prototype.getDatum=function(e,t){if("number"===t&&ei(e)||"time"===t&&(ei(e)||ri(e)))return e;if("category"===t){if(ni(e)||ri(e)||ei(e))return{toString:function(){return String(e)}};if(function(e){return!!e&&e.hasOwnProperty("toString")&&ni(e.toString())}(e))return e}},Object.defineProperty(t.prototype,"layoutScheduled",{get:function(){return!!this.layoutId},enumerable:!0,configurable:!0}),t.prototype.scheduleLayout=function(){var e=this;this.layoutId&&cancelAnimationFrame(this.layoutId),this.layoutId=requestAnimationFrame((function(){e.setSparklineDimensions(),e.invalidData(e.data)||(e.updateXScaleRange(),e.updateYScaleRange(),e.updateAxisLine(),e.update(),e.layoutId=0)}))},t.prototype.setSparklineDimensions=function(){var e=this,t=e.width,r=e.height,n=e.padding,o=e.seriesRect,i=e.rootGroup,a=t-n.left-n.right,s=r-n.top-n.bottom;o.width=a,o.height=s,o.x=n.left,o.y=n.top,i.translationX=o.x,i.translationY=o.y},t.prototype.pickClosestSeriesNodeDatum=function(e,t){for(var r,n=1/0,o=this.rootGroup.transformPoint(e,t),i=this.getNodeData(),a=0;a<i.length;a++){var s=i[a];if(!s.point)return;var l=this.getDistance(o,s.point);if(!(l<=n))return r;n=l,r=s}return r},t.prototype.getDistance=function(e,t){return Math.abs(e.x-t.x)},t.prototype.handleTooltip=function(e,t){var r=t.seriesDatum,n=this.canvasElement,o=e.clientX,i=e.clientY;void 0==this.tooltip.container&&(this.tooltip.container=n);var a={pageX:o,pageY:i},s=r.y,l=r.x,u=this.tooltip.enabled;if(this.tooltip.renderer){var c=this.tooltip.renderer({context:this.context,datum:r,yValue:s,xValue:l});u="string"!==typeof c&&void 0!==c.enabled?c.enabled:u}var p=u&&void 0!==r.y&&this.getTooltipHtml(t);p&&this.tooltip.show(a,p)},t.prototype.formatNumericDatum=function(e){return String(Math.round(10*e)/10)},t.prototype.formatDatum=function(e){var t=this.axis.type||"category";return"number"===t&&"number"===typeof e?this.formatNumericDatum(e):"time"===t&&(e instanceof Date||ei(e))?this.defaultDateFormatter(e):String(e)},t.prototype.setupDomEventListeners=function(e){e.addEventListener("mousemove",this._onMouseMove),e.addEventListener("mouseout",this._onMouseOut)},t.prototype.cleanupDomEventListeners=function(e){e.removeEventListener("mousemove",this._onMouseMove),e.removeEventListener("mouseout",this._onMouseOut)},t.prototype.invalidData=function(e){return!e||!Array.isArray(e)||0===e.length},t.prototype.destroy=function(){this.scene.container=void 0,this.container=void 0,this.cleanupDomEventListeners(this.scene.canvas.element)},t.tooltipDocuments=[],t}(Zo),La=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();function Fa(e,t){if("string"===typeof e)return e;t=t||{};var r,n,o=e.content,i=void 0===o?t.content||"":o,a=e.title,s=void 0===a?t.title||void 0:a,l=e.color,u=void 0===l?t.color:l,c=e.backgroundColor,p=void 0===c?t.backgroundColor:c,d=e.opacity,h=void 0===d?t.opacity||1:d;if(u?(r=s?'<span class="'+Ga.class+'-title"; style="color: '+u+'">'+s+"</span>":"",n='<span class="'+Ga.class+'-content" style="color: '+u+'">'+i+"</span>"):(r=s?'<span class="'+Ga.class+'-title">'+s+"</span>":"",n='<span class="'+Ga.class+'-content">'+i+"</span>"),p){var f=si.fromString(p.toLowerCase()),g=f.r,y=f.g,v=f.b,m=(f.a,h),b=si.fromArray([g,y,v,m]).toRgbaString();return'<div class="'+Ga.class+'" style="background-color: '+b+'">\n                    '+r+"\n                    "+n+"\n                </div>"}return'<div class="'+Ga.class+'">\n                    '+r+"\n                    "+n+"\n                </div>"}var Ga=function(e){function t(){var t=e.call(this)||this;return t.element=document.createElement("div"),t.enabled=!0,t.container=void 0,t.xOffset=10,t.yOffset=0,t.renderer=void 0,document.body.appendChild(t.element),t}return La(t,e),t.prototype.isVisible=function(){var e=this.element;if(e.classList)return!e.classList.contains(t.class+"-wrapper-hidden");var r=e.getAttribute("class");return!!r&&r.split(" ").indexOf(t.class+"-wrapper-hidden")<0},t.prototype.updateClass=function(e){var r=[t.class+"-wrapper"];!0!==e&&r.push(t.class+"-wrapper-hidden"),this.element.setAttribute("class",r.join(" "))},t.prototype.show=function(e,t){this.toggle(!1);var r=this.element;if(void 0!==t)r.innerHTML=t;else if(!r.innerHTML)return;var n=e.pageX+this.xOffset,o=e.pageY+this.yOffset,i=r.getBoundingClientRect(),a=window.innerWidth-i.width;if(this.container){var s=this.container.getBoundingClientRect();a=s.left+(s.width-i.width)}n>a&&(n=e.pageX-r.clientWidth-this.xOffset),r.style.left=Math.round(n)+"px",r.style.top=Math.round(o)+"px",this.toggle(!0)},t.prototype.toggle=function(e){this.updateClass(e)},t.prototype.destroy=function(){var e=this.element.parentNode;e&&e.removeChild(this.element)},t.class="ag-sparkline-tooltip",t}(Zo),Ba=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Wa=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._x=0,t._y=0,t._size=3,t}return Ba(t,e),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._size},set:function(e){this._size!==e&&(this._size=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t}(Do),Ha=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ja=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ha(t,e),t.prototype.isPointInPath=function(e,t){return!1},t.prototype.isPointInStroke=function(e,t){return!1},t.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var t=this,r=t.x,n=t.y,o=t.size/2;e.beginPath(),e.arc(r,n,o,0,2*Math.PI,!1),this.fillStroke(e),this.dirty=!1},t.className="Circle",t}(Wa),Va=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),za=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Va(t,e),t.prototype.isPointInStroke=function(e,t){return!1},t.prototype.isPointInPath=function(e,t){return!1},t.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var t=this,r=t.x,n=t.y,o=t.size/2;e.beginPath(),e.moveTo(r,n-=o),e.lineTo(r+=o,n+=o),e.lineTo(r-=o,n+=o),e.lineTo(r-=o,n-=o),e.lineTo(r+=o,n-=o),e.closePath(),this.fillStroke(e),this.dirty=!1},t.className="Diamond",t}(Wa),Ua=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ya=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ua(t,e),t.prototype.isPointInStroke=function(e,t){return!1},t.prototype.isPointInPath=function(e,t){return!1},t.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var t=this,r=t.x,n=t.y,o=t.size,i=o/2;e.beginPath(),e.moveTo(r-=i,n-=i),e.lineTo(r+=o,n),e.lineTo(r,n+=o),e.lineTo(r-=o,n),e.lineTo(r,n-=o),e.closePath(),this.fillStroke(e),this.dirty=!1},t.className="Square",t}(Wa);function Xa(e){switch(e){case"circle":default:return ja;case"square":return Ya;case"diamond":return za}}function Ka(e,t){void 0===t&&(t="solid");var r={solid:[],dash:[4,3],dot:[1,3],dashDot:[4,3,1,3],dashDotDot:[4,3,1,3,1,3],shortDot:[1,1],shortDash:[3,1],shortDashDot:[3,1,1,1],shortDashDotDot:[3,1,1,1,1,1],longDash:[8,3],longDashDot:[8,3,1,3],longDashDotDot:[8,3,1,3,1,3]},n={solid:[],dash:[3,3],dot:[0,3],dashDot:[3,3,0,3],dashDotDot:[3,3,0,3,0,3],shortDot:[0,2],shortDash:[2,2],shortDashDot:[2,2,0,2],shortDashDotDot:[2,2,0,2,0,2],longDash:[7,3],longDashDot:[7,3,0,3],longDashDotDot:[7,3,0,3,0,3]};return"round"===e||"square"===e?void 0==n[t]?(console.warn("'"+t+"' is not a valid 'lineDash' option."),n.solid):n[t]:void 0==r[t]?(console.warn("'"+t+"' is not a valid 'lineDash' option."),r.solid):r[t]}var qa=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),$a=function(){this.enabled=!0,this.shape="circle",this.size=0,this.fill="rgb(124, 181, 236)",this.stroke="rgb(124, 181, 236)",this.strokeWidth=1,this.formatter=void 0},Za=function(){this.stroke="rgb(124, 181, 236)",this.strokeWidth=1},Qa=function(){this.xLine={enabled:!0,stroke:"rgba(0,0,0, 0.54)",strokeWidth:1,lineDash:"solid",lineCap:void 0},this.yLine={enabled:!1,stroke:"rgba(0,0,0, 0.54)",strokeWidth:1,lineDash:"solid",lineCap:void 0}},Ja=function(e){function t(){var t=e.call(this)||this;return t.fill="rgba(124, 181, 236, 0.25)",t.strokePath=new Bo,t.fillPath=new Bo,t.xCrosshairLine=new Ho,t.yCrosshairLine=new Ho,t.areaSparklineGroup=new Ro,t.fillPathData=[],t.strokePathData=[],t.xAxisLine=new Ho,t.markers=new Ro,t.markerSelection=Uo.select(t.markers).selectAll(),t.markerSelectionData=[],t.marker=new $a,t.line=new Za,t.crosshairs=new Qa,t.rootGroup.append(t.areaSparklineGroup),t.areaSparklineGroup.append([t.fillPath,t.xAxisLine,t.strokePath,t.xCrosshairLine,t.yCrosshairLine,t.markers]),t}return qa(t,e),t.prototype.getNodeData=function(){return this.markerSelectionData},t.prototype.onMarkerShapeChange=function(){this.markerSelection=this.markerSelection.setData([]),this.markerSelection.exit.remove(),this.scheduleLayout()},t.prototype.update=function(){var e=this.generateNodeData();if(e){var t=e.nodeData,r=e.fillData,n=e.strokeData;this.markerSelectionData=t,this.fillPathData=r,this.strokePathData=n,this.updateSelection(t),this.updateNodes(),this.updateStroke(n),this.updateFill(r)}},t.prototype.updateYScaleDomain=function(){var e=this.yData,t=this.yScale,r=Da(e,ei),n=0,o=1;void 0!==r&&(n=this.min=r[0],o=this.max=r[1]),n=n<0?n:0,o=o<0?0:o,t.domain=[n,o]},t.prototype.generateNodeData=function(){var e=this,t=e.data,r=e.yData,n=e.xData,o=e.xScale,i=e.yScale;if(t){for(var a,s,l,u,c=o instanceof Vo?o.bandwidth/2:0,p=r.length,d=[],h=[],f=[],g=i.convert(0),y=0;y<p;y++){var v=r[y],m=n[y],b=o.convert(m)+c,C=i.convert(v);y+1<p&&(u=o.convert(n[y+1])+c),f.push({seriesDatum:{x:m,y:v},point:{x:b,y:C}}),void 0===v&&void 0!==l?(h.push({seriesDatum:void 0,point:{x:l,y:g}}),void 0!==u&&h.push({seriesDatum:void 0,point:{x:u,y:g}})):void 0!==v&&(h.push({seriesDatum:{x:m,y:v},point:{x:b,y:C}}),d.push({seriesDatum:{x:m,y:v},point:{x:b,y:C}}),a=void 0!==a?a:b,s=b),l=b}return h.push({seriesDatum:void 0,point:{x:s,y:g}},{seriesDatum:void 0,point:{x:a,y:g}}),{nodeData:d,fillData:h,strokeData:f}}},t.prototype.updateAxisLine=function(){var e=this,t=e.xScale,r=e.yScale,n=e.axis,o=e.xAxisLine;o.x1=t.range[0],o.x2=t.range[1],o.y1=o.y2=0,o.stroke=n.stroke,o.strokeWidth=n.strokeWidth;var i=r.convert(0);o.translationY=i},t.prototype.updateSelection=function(e){var t=Xa(this.marker.shape),r=this.markerSelection.setData(e),n=r.enter.append(t);r.exit.remove(),this.markerSelection=r.merge(n)},t.prototype.updateNodes=function(){var e=this,t=this,r=t.highlightedDatum,n=t.highlightStyle,o=t.marker,i=n.size,a=n.fill,s=n.stroke,l=n.strokeWidth,u=o.formatter;this.markerSelection.each((function(t,n,c){var p=n.point,d=n.seriesDatum;if(p){var h,f=n===r,g=f&&void 0!==a?a:o.fill,y=f&&void 0!==s?s:o.stroke,v=f&&void 0!==l?l:o.strokeWidth,m=f&&void 0!==i?i:o.size;if(u){var b=0===c,C=c===e.markerSelectionData.length-1,w=d.y===e.min,x=d.y===e.max;h=u({datum:n,xValue:d.x,yValue:d.y,min:w,max:x,first:b,last:C,fill:g,stroke:y,strokeWidth:v,size:m,highlighted:f})}t.size=h&&void 0!=h.size?h.size:m,t.fill=h&&void 0!=h.fill?h.fill:g,t.stroke=h&&void 0!=h.stroke?h.stroke:y,t.strokeWidth=h&&void 0!=h.strokeWidth?h.strokeWidth:v,t.translationX=p.x,t.translationY=p.y,t.visible=h&&void 0!=h.enabled?h.enabled:o.enabled&&t.size>0}}))},t.prototype.updateStroke=function(e){var t=this,r=t.strokePath,n=t.yData,o=t.line;if(!(n.length<2)){var i=r.path,a=e.length,s=!0;i.clear();for(var l=0;l<a;l++){var u=e[l],c=u.point,p=u.seriesDatum,d=c.x,h=c.y;void 0==p.y?s=!0:s?(i.moveTo(d,h),s=!1):i.lineTo(d,h)}r.lineJoin=r.lineCap="round",r.fill=void 0,r.stroke=o.stroke,r.strokeWidth=o.strokeWidth}},t.prototype.updateFill=function(e){var t=this,r=t.fillPath,n=t.yData,o=t.fill,i=r.path,a=e.length;if(i.clear(),!(n.length<2)){for(var s=0;s<a;s++){var l=e[s].point,u=l.x,c=l.y;s>0?i.lineTo(u,c):i.moveTo(u,c)}i.closePath(),r.lineJoin="round",r.stroke=void 0,r.fill=o}},t.prototype.updateXCrosshairLine=function(){var e=this,t=e.yScale,r=e.xCrosshairLine,n=e.highlightedDatum,o=e.crosshairs.xLine;if(o.enabled&&void 0!=n){r.y1=t.range[0],r.y2=t.range[1],r.x1=r.x2=0,r.stroke=o.stroke,r.strokeWidth=o.strokeWidth||1,r.lineCap="round"===o.lineCap||"square"===o.lineCap?o.lineCap:void 0;var i=o.lineDash;r.lineDash=Array.isArray(i)?i:Ka(r.lineCap,o.lineDash),r.translationX=n.point.x}else r.strokeWidth=0},t.prototype.updateYCrosshairLine=function(){var e=this,t=e.xScale,r=e.yCrosshairLine,n=e.highlightedDatum,o=e.crosshairs.yLine;if(o.enabled&&void 0!=n){r.x1=t.range[0],r.x2=t.range[1],r.y1=r.y2=0,r.stroke=o.stroke,r.strokeWidth=o.strokeWidth||1,r.lineCap="round"===o.lineCap||"square"===o.lineCap?o.lineCap:void 0;var i=o.lineDash;r.lineDash=Array.isArray(i)?i:Ka(r.lineCap,o.lineDash),r.translationY=n.point.y}else r.strokeWidth=0},t.prototype.getTooltipHtml=function(e){var t=this.dataType,r=e.seriesDatum,n=r.y,o=r.x,i={content:this.formatNumericDatum(n),title:"array"===t||"object"===t?this.formatDatum(o):void 0};return this.tooltip.renderer?Fa(this.tooltip.renderer({context:this.context,datum:r,yValue:n,xValue:o}),i):Fa(i)},t.className="AreaSparkline",t}(Ia),es=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ts=function(){this.enabled=!0,this.shape="circle",this.size=0,this.fill="rgb(124, 181, 236)",this.stroke="rgb(124, 181, 236)",this.strokeWidth=1,this.formatter=void 0},rs=function(){this.stroke="rgb(124, 181, 236)",this.strokeWidth=1},ns=function(){this.xLine={enabled:!0,stroke:"rgba(0,0,0, 0.54)",strokeWidth:1,lineDash:"solid",lineCap:void 0},this.yLine={enabled:!1,stroke:"rgba(0,0,0, 0.54)",strokeWidth:1,lineDash:"solid",lineCap:void 0}},os=function(e){function t(){var t=e.call(this)||this;return t.linePath=new Bo,t.xCrosshairLine=new Ho,t.yCrosshairLine=new Ho,t.lineSparklineGroup=new Ro,t.markers=new Ro,t.markerSelection=Uo.select(t.markers).selectAll(),t.markerSelectionData=[],t.marker=new ts,t.line=new rs,t.crosshairs=new ns,t.rootGroup.append(t.lineSparklineGroup),t.lineSparklineGroup.append([t.linePath,t.xCrosshairLine,t.yCrosshairLine,t.markers]),t}return es(t,e),t.prototype.getNodeData=function(){return this.markerSelectionData},t.prototype.onMarkerShapeChange=function(){this.markerSelection=this.markerSelection.setData([]),this.markerSelection.exit.remove(),this.scheduleLayout()},t.prototype.update=function(){var e=this.generateNodeData();e&&(this.markerSelectionData=e,this.updateSelection(e),this.updateNodes(),this.updateLine())},t.prototype.updateYScaleDomain=function(){var e=this.yData,t=this.yScale,r=Da(e,ei),n=0,o=1;if(void 0!==r&&(n=this.min=r[0],o=this.max=r[1]),n===o){var i=Math.abs(.01*n);n-=i,o+=i}t.domain=[n,o]},t.prototype.generateNodeData=function(){var e=this,t=e.data,r=e.yData,n=e.xData,o=e.xScale,i=e.yScale;if(t){for(var a=o instanceof Vo?o.bandwidth/2:0,s=[],l=0;l<r.length;l++){var u=r[l],c=n[l];if(void 0!=u){var p=o.convert(c)+a,d=i.convert(u);s.push({seriesDatum:{x:c,y:u},point:{x:p,y:d}})}}return s}},t.prototype.updateSelection=function(e){var t=Xa(this.marker.shape),r=this.markerSelection.setData(e),n=r.enter.append(t);r.exit.remove(),this.markerSelection=r.merge(n)},t.prototype.updateNodes=function(){var e=this,t=this,r=t.highlightedDatum,n=t.highlightStyle,o=t.marker,i=n.size,a=n.fill,s=n.stroke,l=n.strokeWidth,u=o.formatter;this.markerSelection.each((function(t,n,c){var p,d=n===r,h=d&&void 0!==a?a:o.fill,f=d&&void 0!==s?s:o.stroke,g=d&&void 0!==l?l:o.strokeWidth,y=d&&void 0!==i?i:o.size,v=n.seriesDatum,m=n.point;if(u){var b=0===c,C=c===e.markerSelectionData.length-1,w=v.y===e.min,x=v.y===e.max;p=u({datum:n,xValue:v.x,yValue:v.y,min:w,max:x,first:b,last:C,fill:h,stroke:f,strokeWidth:g,size:y,highlighted:d})}t.size=p&&void 0!=p.size?p.size:y,t.fill=p&&void 0!=p.fill?p.fill:h,t.stroke=p&&void 0!=p.stroke?p.stroke:f,t.strokeWidth=p&&void 0!=p.strokeWidth?p.strokeWidth:g,t.translationX=m.x,t.translationY=m.y,t.visible=p&&void 0!=p.enabled?p.enabled:o.enabled&&t.size>0}))},t.prototype.updateLine=function(){var e=this,t=e.linePath,r=e.yData,n=e.xData,o=e.xScale,i=e.yScale,a=e.line;if(!(r.length<2)){var s=t.path,l=r.length,u=o instanceof Vo?o.bandwidth/2:0,c=!0;s.clear();for(var p=0;p<l;p++){var d=n[p],h=r[p],f=o.convert(d)+u,g=i.convert(h);void 0==h?c=!0:c?(s.moveTo(f,g),c=!1):s.lineTo(f,g)}t.fill=void 0,t.stroke=a.stroke,t.strokeWidth=a.strokeWidth}},t.prototype.updateXCrosshairLine=function(){var e=this,t=e.yScale,r=e.xCrosshairLine,n=e.highlightedDatum,o=e.crosshairs.xLine;if(o.enabled&&void 0!=n){r.y1=t.range[0],r.y2=t.range[1],r.x1=r.x2=0,r.stroke=o.stroke,r.strokeWidth=o.strokeWidth||1,r.lineCap="round"===o.lineCap||"square"===o.lineCap?o.lineCap:void 0;var i=o.lineDash;r.lineDash=Array.isArray(i)?i:Ka(r.lineCap,o.lineDash),r.translationX=n.point.x}else r.strokeWidth=0},t.prototype.updateYCrosshairLine=function(){var e=this,t=e.xScale,r=e.yCrosshairLine,n=e.highlightedDatum,o=e.crosshairs.yLine;if(o.enabled&&void 0!=n){r.x1=t.range[0],r.x2=t.range[1],r.y1=r.y2=0,r.stroke=o.stroke,r.strokeWidth=o.strokeWidth||1,r.lineCap="round"===o.lineCap||"square"===o.lineCap?o.lineCap:void 0;var i=o.lineDash;r.lineDash=Array.isArray(i)?i:Ka(r.lineCap,o.lineDash),r.translationY=n.point.y}else r.strokeWidth=0},t.prototype.getTooltipHtml=function(e){var t=this.dataType,r=e.seriesDatum,n=r.y,o=r.x,i={content:this.formatNumericDatum(n),title:"array"===t||"object"===t?this.formatDatum(o):void 0};return this.tooltip.renderer?Fa(this.tooltip.renderer({context:this.context,datum:r,yValue:n,xValue:o}),i):Fa(i)},t.className="LineSparkline",t}(Ia),is=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),as=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._x=0,t._y=0,t._width=0,t._height=0,t._crisp=!1,t}return is(t,e),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width!==e&&(this._width=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height!==e&&(this._height=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"crisp",{get:function(){return this._crisp},set:function(e){this._crisp!==e&&(this._crisp=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.isPointInStroke=function(e,t){return!1},t.prototype.isPointInPath=function(e,t){return!1},t.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var t=this,r=t.x,n=t.y,o=t.width,i=t.height,a=t.crisp;if(e.beginPath(),a){var s=this.alignment,l=this.align;e.rect(l(s,r),l(s,n),l(s,r,o),l(s,n,i))}else e.rect(r,n,o,i);this.fillStroke(e),this.dirty=!1},t.className="Column",t}(Do),ss=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();!function(e){function t(){var r=null!==e&&e.apply(this,arguments)||this;return r._x=0,r._y=0,r.lineBreakRegex=/\r?\n/g,r.lines=[],r._text="",r._dirtyFont=!0,r._fontSize=10,r._fontFamily="sans-serif",r._textAlign=t.defaultStyles.textAlign,r._textBaseline=t.defaultStyles.textBaseline,r._lineHeight=14,r}ss(t,e),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.splitText=function(){this.lines=this._text.split(this.lineBreakRegex)},Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(e){var t=String(e);this._text!==t&&(this._text=t,this.splitText(),this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"font",{get:function(){return this.dirtyFont&&(this.dirtyFont=!1,this._font=ls(this.fontSize,this.fontFamily,this.fontStyle,this.fontWeight)),this._font},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirtyFont",{get:function(){return this._dirtyFont},set:function(e){this._dirtyFont!==e&&(this._dirtyFont=e,e&&(this.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(e){this._fontStyle!==e&&(this._fontStyle=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(e){this._fontWeight!==e&&(this._fontWeight=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){isFinite(e)||(e=10),this._fontSize!==e&&(this._fontSize=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(e){this._fontFamily!==e&&(this._fontFamily=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textAlign",{get:function(){return this._textAlign},set:function(e){this._textAlign!==e&&(this._textAlign=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(e){this._textBaseline!==e&&(this._textBaseline=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(e){this._lineHeight!==e&&(this._lineHeight=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.computeBBox=function(){return Yo.has.textMetrics?this.getPreciseBBox():this.getApproximateBBox()},t.prototype.getPreciseBBox=function(){var e=Yo.measureText(this.text,this.font,this.textBaseline,this.textAlign);return new Co(this.x-e.actualBoundingBoxLeft,this.y-e.actualBoundingBoxAscent,e.width,e.actualBoundingBoxAscent+e.actualBoundingBoxDescent)},t.prototype.getApproximateBBox=function(){var e=Yo.getTextSize(this.text,this.font),t=this.x,r=this.y;switch(this.textAlign){case"end":case"right":t-=e.width;break;case"center":t-=e.width/2}switch(this.textBaseline){case"alphabetic":r-=.7*e.height;break;case"middle":r-=.45*e.height;break;case"ideographic":case"bottom":r-=e.height;break;case"hanging":r-=.2*e.height}return new Co(t,r,e.width,e.height)},t.prototype.isPointInPath=function(e,t){var r=this.transformPoint(e,t),n=this.computeBBox();return!!n&&n.containsPoint(r.x,r.y)},t.prototype.isPointInStroke=function(e,t){return!1},t.prototype.render=function(e){if(this.lines.length&&this.scene){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var t=this,r=t.fill,n=t.stroke,o=t.strokeWidth;e.font=this.font,e.textAlign=this.textAlign,e.textBaseline=this.textBaseline;var i=this.scene.canvas.pixelRatio||1,a=e.globalAlpha;if(r){e.fillStyle=r,e.globalAlpha=a*this.opacity*this.fillOpacity;var s=this,l=s.fillShadow,u=s.text,c=s.x,p=s.y;l&&l.enabled&&(e.shadowColor=l.color,e.shadowOffsetX=l.xOffset*i,e.shadowOffsetY=l.yOffset*i,e.shadowBlur=l.blur*i),e.fillText(u,c,p)}if(n&&o){e.strokeStyle=n,e.lineWidth=o,e.globalAlpha=a*this.opacity*this.strokeOpacity;var d=this,h=d.lineDash,f=d.lineDashOffset,g=d.lineCap,y=d.lineJoin,v=d.strokeShadow;u=d.text,c=d.x,p=d.y;h&&e.setLineDash(h),f&&(e.lineDashOffset=f),g&&(e.lineCap=g),y&&(e.lineJoin=y),v&&v.enabled&&(e.shadowColor=v.color,e.shadowOffsetX=v.xOffset*i,e.shadowOffsetY=v.yOffset*i,e.shadowBlur=v.blur*i),e.strokeText(u,c,p)}this.dirty=!1}},t.className="Text",t.defaultStyles=Ao(Do.defaultStyles,{textAlign:"start",fontStyle:void 0,fontWeight:void 0,fontSize:10,fontFamily:"sans-serif",textBaseline:"alphabetic"})}(Do);function ls(e,t,r,n){return[r||"",n||"",e+"px",t].join(" ").trim()}var us=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),cs=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},ps=function(e){function t(){var t=e.call(this)||this;return t.enabled=!0,t.fontSize=8,t.fontFamily="Verdana, sans-serif",t.color="rgba(70, 70, 70, 1)",t}return us(t,e),t.prototype.getFont=function(){return ls(this.fontSize,this.fontFamily,this.fontStyle,this.fontWeight)},cs([Qo("change","dataChange")],t.prototype,"enabled",void 0),cs([Qo("change")],t.prototype,"fontSize",void 0),cs([Qo("change")],t.prototype,"fontFamily",void 0),cs([Qo("change")],t.prototype,"fontStyle",void 0),cs([Qo("change")],t.prototype,"fontWeight",void 0),cs([Qo("change")],t.prototype,"color",void 0),t}(Zo),ds=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),hs=function(e){function t(){var r=null!==e&&e.apply(this,arguments)||this;return r._x=0,r._y=0,r.lineBreakRegex=/\r?\n/g,r.lines=[],r._text="",r._dirtyFont=!0,r._fontSize=10,r._fontFamily="sans-serif",r._textAlign=t.defaultStyles.textAlign,r._textBaseline=t.defaultStyles.textBaseline,r._lineHeight=14,r}return ds(t,e),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.splitText=function(){this.lines=this._text.split(this.lineBreakRegex)},Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(e){var t=String(e);this._text!==t&&(this._text=t,this.splitText(),this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"font",{get:function(){var e,t,r,n;return this.dirtyFont&&(this.dirtyFont=!1,this._font=(e=this.fontSize,t=this.fontFamily,r=this.fontStyle,n=this.fontWeight,[r||"",n||"",e+"px",t].join(" ").trim())),this._font},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirtyFont",{get:function(){return this._dirtyFont},set:function(e){this._dirtyFont!==e&&(this._dirtyFont=e,e&&(this.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(e){this._fontStyle!==e&&(this._fontStyle=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(e){this._fontWeight!==e&&(this._fontWeight=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){isFinite(e)||(e=10),this._fontSize!==e&&(this._fontSize=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(e){this._fontFamily!==e&&(this._fontFamily=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textAlign",{get:function(){return this._textAlign},set:function(e){this._textAlign!==e&&(this._textAlign=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(e){this._textBaseline!==e&&(this._textBaseline=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(e){this._lineHeight!==e&&(this._lineHeight=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.computeBBox=function(){return Yo.has.textMetrics?this.getPreciseBBox():this.getApproximateBBox()},t.prototype.getPreciseBBox=function(){var e=Yo.measureText(this.text,this.font,this.textBaseline,this.textAlign);return new Co(this.x-e.actualBoundingBoxLeft,this.y-e.actualBoundingBoxAscent,e.width,e.actualBoundingBoxAscent+e.actualBoundingBoxDescent)},t.prototype.getApproximateBBox=function(){var e=Yo.getTextSize(this.text,this.font),t=this.x,r=this.y;switch(this.textAlign){case"end":case"right":t-=e.width;break;case"center":t-=e.width/2}switch(this.textBaseline){case"alphabetic":r-=.7*e.height;break;case"middle":r-=.45*e.height;break;case"ideographic":case"bottom":r-=e.height;break;case"hanging":r-=.2*e.height}return new Co(t,r,e.width,e.height)},t.prototype.isPointInPath=function(e,t){var r=this.transformPoint(e,t),n=this.computeBBox();return!!n&&n.containsPoint(r.x,r.y)},t.prototype.isPointInStroke=function(e,t){return!1},t.prototype.render=function(e){if(this.lines.length&&this.scene){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var t=this,r=t.fill,n=t.stroke,o=t.strokeWidth;e.font=this.font,e.textAlign=this.textAlign,e.textBaseline=this.textBaseline;var i=this.scene.canvas.pixelRatio||1,a=e.globalAlpha;if(r){e.fillStyle=r,e.globalAlpha=a*this.opacity*this.fillOpacity;var s=this,l=s.fillShadow,u=s.text,c=s.x,p=s.y;l&&l.enabled&&(e.shadowColor=l.color,e.shadowOffsetX=l.xOffset*i,e.shadowOffsetY=l.yOffset*i,e.shadowBlur=l.blur*i),e.fillText(u,c,p)}if(n&&o){e.strokeStyle=n,e.lineWidth=o,e.globalAlpha=a*this.opacity*this.strokeOpacity;var d=this,h=d.lineDash,f=d.lineDashOffset,g=d.lineCap,y=d.lineJoin,v=d.strokeShadow;u=d.text,c=d.x,p=d.y;h&&e.setLineDash(h),f&&(e.lineDashOffset=f),g&&(e.lineCap=g),y&&(e.lineJoin=y),v&&v.enabled&&(e.shadowColor=v.color,e.shadowOffsetX=v.xOffset*i,e.shadowOffsetY=v.yOffset*i,e.shadowBlur=v.blur*i),e.strokeText(u,c,p)}this.dirty=!1}},t.className="Text",t.defaultStyles=Ao(Do.defaultStyles,{textAlign:"start",fontStyle:void 0,fontWeight:void 0,fontSize:10,fontFamily:"sans-serif",textBaseline:"alphabetic"}),t}(Do);var fs,gs,ys=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();!function(e){e[e.Rect=0]="Rect",e[e.Label=1]="Label"}(fs||(fs={})),function(e){e.InsideBase="insideBase",e.InsideEnd="insideEnd",e.Center="center",e.OutsideEnd="outsideEnd"}(gs||(gs={}));var vs=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.formatter=void 0,t.placement=gs.InsideEnd,t}return ys(t,e),t}(ps),ms=function(e){function t(){var t=e.call(this)||this;return t.fill="rgb(124, 181, 236)",t.stroke="silver",t.strokeWidth=0,t.paddingInner=.1,t.paddingOuter=.2,t.valueAxisDomain=void 0,t.formatter=void 0,t.axisLine=new Ho,t.bandWidth=0,t.sparklineGroup=new Ro,t.rectGroup=new Ro,t.labelGroup=new Ro,t.rectSelection=Uo.select(t.rectGroup).selectAll(),t.labelSelection=Uo.select(t.labelGroup).selectAll(),t.nodeSelectionData=[],t.label=new vs,t.rootGroup.append(t.sparklineGroup),t.sparklineGroup.append([t.rectGroup,t.axisLine,t.labelGroup]),t.axisLine.lineCap="round",t.label.enabled=!1,t}return ys(t,e),t.prototype.getNodeData=function(){return this.nodeSelectionData},t.prototype.update=function(){this.updateSelections(),this.updateNodes()},t.prototype.updateSelections=function(){var e=this.generateNodeData();e&&(this.nodeSelectionData=e,this.updateRectSelection(e),this.updateLabelSelection(e))},t.prototype.updateNodes=function(){this.updateRectNodes(),this.updateLabelNodes()},t.prototype.calculateStep=function(e){var t,r,n=this,o=n.xScale,i=n.paddingInner,a=n.paddingOuter,s=n.smallestInterval,l=(o.domain[1]-o.domain[0])/(null!==(r=null===(t=s)||void 0===t?void 0:t.x)&&void 0!==r?r:1)+1,u=Math.min(l,50),c=u-1;return e/Math.max(1,2*a+c*i+u)},t.prototype.updateYScaleDomain=function(){var e=this,t=e.yScale,r=e.yData,n=e.valueAxisDomain,o=Da(r,ei),i=0,a=1;void 0!==o&&(i=this.min=o[0],a=this.max=o[1]),i=i<0?i:0,a=a<0?0:a,n&&(n[1]<a&&(n[1]=a),n[0]>i&&(n[0]=i)),t.domain=n||[i,a]},t.prototype.updateRectSelection=function(e){var t=this.rectSelection.setData(e),r=t.enter.append(as);t.exit.remove(),this.rectSelection=t.merge(r)},t.prototype.updateRectNodes=function(){var e=this,t=this,r=t.highlightedDatum,n=t.formatter,o=t.fill,i=t.stroke,a=t.strokeWidth,s=this.highlightStyle,l=s.fill,u=s.stroke,c=s.strokeWidth;this.rectSelection.each((function(t,s,p){var d,h=s===r,f=h&&void 0!==l?l:o,g=h&&void 0!==u?u:i,y=h&&void 0!==c?c:a,v=s.x,m=s.y,b=s.width,C=s.height,w=s.seriesDatum;if(n){var x=0===p,S=p===e.nodeSelectionData.length-1,E=w.y===e.min,O=w.y===e.max;d=n({datum:s,xValue:w.x,yValue:w.y,width:b,height:C,min:E,max:O,first:x,last:S,fill:f,stroke:g,strokeWidth:y,highlighted:h})}t.fill=d&&d.fill||f,t.stroke=d&&d.stroke||g,t.strokeWidth=d&&d.strokeWidth||y,t.x=t.y=0,t.width=b,t.height=C,t.visible=t.height>0,t.translationX=v,t.translationY=m}))},t.prototype.updateLabelSelection=function(e){var t=this.labelSelection.setData(e),r=t.enter.append(hs).each((function(e){e.tag=fs.Label,e.pointerEvents=Eo.None}));t.exit.remove(),this.labelSelection=t.merge(r)},t.prototype.updateLabelNodes=function(){var e=this.label,t=e.enabled,r=e.fontStyle,n=e.fontWeight,o=e.fontSize,i=e.fontFamily,a=e.color;this.labelSelection.each((function(e,s){var l=s.label;l&&t?(e.fontStyle=r,e.fontWeight=n,e.fontSize=o,e.fontFamily=i,e.textAlign=l.textAlign,e.textBaseline=l.textBaseline,e.text=l.text,e.x=l.x,e.y=l.y,e.fill=a,e.visible=!0):e.visible=!1}))},t.prototype.getTooltipHtml=function(e){var t=this.dataType,r=e.seriesDatum,n=r.y,o=r.x,i={content:this.formatNumericDatum(n),title:"array"===t||"object"===t?this.formatDatum(o):void 0};return this.tooltip.renderer?Fa(this.tooltip.renderer({context:this.context,datum:r,yValue:n,xValue:o}),i):Fa(i)},t.prototype.formatLabelValue=function(e){return e%1!==0?e.toFixed(1):e.toFixed(0)},t}(Ia),bs=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Cs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return bs(t,e),t.prototype.updateYScaleRange=function(){var e=this.seriesRect;this.yScale.range=[0,e.width]},t.prototype.updateXScaleRange=function(){var e=this,t=e.xScale,r=e.seriesRect,n=e.paddingOuter,o=e.paddingInner;if(t instanceof Vo)t.range=[0,r.height],t.paddingInner=o,t.paddingOuter=n;else{var i=this.calculateStep(r.height),a=i*n;this.bandWidth=i*(1-o),t.range=[a,r.height-a-this.bandWidth]}},t.prototype.updateAxisLine=function(){var e=this,t=e.yScale,r=e.axis,n=e.axisLine,o=e.seriesRect,i=r.strokeWidth;n.x1=0,n.x2=0,n.y1=0,n.y2=o.height,n.stroke=r.stroke,n.strokeWidth=i+(i%2===1?1:0);var a=t.convert(0);n.translationX=a},t.prototype.generateNodeData=function(){var e=this,t=e.data,r=e.yData,n=e.xData,o=e.xScale,i=e.yScale,a=e.fill,s=e.stroke,l=e.strokeWidth,u=e.label;if(t){for(var c=u.fontStyle,p=u.fontWeight,d=u.fontSize,h=u.fontFamily,f=u.color,g=u.formatter,y=u.placement,v=[],m=i.convert(0),b=0,C=r.length;b<C;b++){var w=r[b],x=n[b],S=void 0===w;S&&(w=0);var E=o.convert(x),O=Math.min(i.convert(w),m),_=Math.max(i.convert(w),m),P=o instanceof Vo?o.bandwidth:this.bandWidth,R=_-O,A={x:m,y:E},T=void 0;T=g?g({value:w}):void 0!==w&&ei(w)?this.formatLabelValue(w):"";var D=E+P/2,M=void 0,k=void 0,N=void 0!==w&&w>=0;if(y===gs.Center)M=O+R/2,k="center";else if(y===gs.OutsideEnd)M=O+(N?R+4:-4),k=N?"start":"end";else if(y===gs.InsideEnd){M=O+(N?R-4:4),k=N?"end":"start";var I=Yo.getTextSize(T,h).width||20;(N&&M<m+I||!N&&M>m-I)&&(M=m+4*(N?1:-1),k=N?"start":"end")}else M=m+4*(N?1:-1),k=N?"start":"end";v.push({x:O,y:E,width:R,height:P,fill:a,stroke:s,strokeWidth:l,seriesDatum:{x:x,y:S?void 0:w},point:A,label:{x:M,y:D,text:T,fontStyle:c,fontWeight:p,fontSize:d,fontFamily:h,textAlign:k,textBaseline:"middle",fill:f}})}return v}},t.prototype.getDistance=function(e,t){return Math.abs(e.y-t.y)},t.className="BarSparkline",t}(ms),ws=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),xs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ws(t,e),t.prototype.updateYScaleRange=function(){var e=this.seriesRect;this.yScale.range=[e.height,0]},t.prototype.updateXScaleRange=function(){var e=this,t=e.xScale,r=e.seriesRect,n=e.paddingOuter,o=e.paddingInner;if(t instanceof Vo)t.range=[0,r.width],t.paddingInner=o,t.paddingOuter=n;else{var i=this.calculateStep(r.width),a=i*n;this.bandWidth=i*(1-o),t.range=[a,r.width-a-this.bandWidth]}},t.prototype.updateAxisLine=function(){var e=this,t=e.yScale,r=e.axis,n=e.axisLine,o=e.seriesRect,i=r.strokeWidth;n.x1=0,n.x2=o.width,n.y1=0,n.y2=0,n.stroke=r.stroke,n.strokeWidth=i+(i%2===1?1:0);var a=t.convert(0);n.translationY=a},t.prototype.generateNodeData=function(){var e=this,t=e.data,r=e.yData,n=e.xData,o=e.xScale,i=e.yScale,a=e.fill,s=e.stroke,l=e.strokeWidth,u=e.label;if(t){for(var c=u.fontStyle,p=u.fontWeight,d=u.fontSize,h=u.fontFamily,f=u.color,g=u.formatter,y=u.placement,v=[],m=i.convert(0),b=0,C=r.length;b<C;b++){var w=r[b],x=n[b],S=void 0===w;S&&(w=0);var E=Math.min(i.convert(w),m),O=o.convert(x),_=Math.max(i.convert(w),m),P=o instanceof Vo?o.bandwidth:this.bandWidth,R=_-E,A={x:O+P/2,y:m},T=void 0;T=g?g({value:w}):void 0!==w&&ei(w)?this.formatLabelValue(w):"";var D=O+P/2,M=void 0,k=void 0,N=void 0!==w&&w>=0;if(y===gs.Center)M=E+R/2,k="middle";else if(y===gs.OutsideEnd)M=E+(N?-2:R+2),k=N?"bottom":"top";else if(y===gs.InsideEnd){M=E+(N?2:R-2),k=N?"top":"bottom";var I=Yo.getTextSize(T,h).height||10;(N&&M>m-I||!N&&M<m+I)&&(M=m+2*(N?-1:1),k=N?"bottom":"top")}else M=m+2*(N?-1:1),k=N?"bottom":"top";v.push({x:O,y:E,width:P,height:R,fill:a,stroke:s,strokeWidth:l,seriesDatum:{x:x,y:S?void 0:w},point:A,label:{x:D,y:M,text:T,fontStyle:c,fontWeight:p,fontSize:d,fontFamily:h,textAlign:"center",textBaseline:k,fill:f}})}return v}},t.className="ColumnSparkline",t}(ms),Ss=function(){function e(){}return e.create=function(e,t){var r=function(e){void 0===e&&(e="line");switch(e){case"column":return new xs;case"bar":return new Cs;case"area":return new Ja;default:return new os}}((e=Object.create(e)).type);return t&&(r.tooltip=t),function(e,t){Ms(e,"context",t.context,t),Ms(e,"width",t.width,t),Ms(e,"height",t.height,t),Ms(e,"container",t.container,t),Ms(e,"xKey",t.xKey,t),Ms(e,"yKey",t.yKey,t),t.padding&&function(e,t){Ms(e,"top",t.top,t),Ms(e,"right",t.right,t),Ms(e,"bottom",t.bottom,t),Ms(e,"left",t.left,t)}(e.padding,t.padding);t.axis&&function(e,t){Ms(e,"type",t.type,t),Ms(e,"stroke",t.stroke,t),Ms(e,"strokeWidth",t.strokeWidth,t)}(e.axis,t.axis);t.highlightStyle&&function(e,t){Ms(e,"fill",t.fill,t),Ms(e,"size",t.size,t),Ms(e,"stroke",t.stroke,t),Ms(e,"strokeWidth",t.strokeWidth,t)}(e.highlightStyle,t.highlightStyle);t.tooltip&&e.tooltip&&function(e,t){Ms(e,"enabled",t.enabled,t),Ms(e,"container",t.container,t),Ms(e,"xOffset",t.xOffset,t),Ms(e,"yOffset",t.yOffset,t),Ms(e,"renderer",t.renderer,t)}(e.tooltip,t.tooltip)}(r,e),function(e,t){switch(t.type){case"bar":case"column":Es(e,t);break;case"area":!function(e,t){Ms(e,"fill",t.fill,t),t.marker&&Os(e.marker,t.marker);t.line&&_s(e.line,t.line);t.crosshairs&&Ps(e.crosshairs,t.crosshairs)}(e,t);break;default:!function(e,t){t.marker&&Os(e.marker,t.marker);t.line&&_s(e.line,t.line);t.crosshairs&&Ps(e.crosshairs,t.crosshairs)}(e,t)}}(r,e),e.data&&(r.data=e.data),r},e}();function Es(e,t){Ms(e,"valueAxisDomain",t.valueAxisDomain,t),Ms(e,"fill",t.fill,t),Ms(e,"stroke",t.stroke,t),Ms(e,"strokeWidth",t.strokeWidth,t),Ms(e,"paddingInner",t.paddingInner,t),Ms(e,"paddingOuter",t.paddingOuter,t),Ms(e,"formatter",t.formatter,t),t.label&&function(e,t){Ms(e,"enabled",t.enabled,t),Ms(e,"fontStyle",t.fontStyle,t),Ms(e,"fontWeight",t.fontWeight,t),Ms(e,"fontSize",t.fontSize,t),Ms(e,"fontFamily",t.fontFamily,t),Ms(e,"textAlign",t.textAlign,t),Ms(e,"textBaseline",t.textBaseline,t),Ms(e,"color",t.color,t),Ms(e,"formatter",t.formatter,t),Ms(e,"placement",t.placement,t)}(e.label,t.label)}function Os(e,t){Ms(e,"enabled",t.enabled,t),Ms(e,"size",t.size,t),Ms(e,"shape",t.shape,t),Ms(e,"fill",t.fill,t),Ms(e,"stroke",t.stroke,t),Ms(e,"strokeWidth",t.strokeWidth,t),Ms(e,"formatter",t.formatter,t)}function _s(e,t){Ms(e,"stroke",t.stroke,t),Ms(e,"strokeWidth",t.strokeWidth,t)}function Ps(e,t){e.xLine&&t.xLine&&Rs(e.xLine,t.xLine),e.yLine&&t.yLine&&Rs(e.yLine,t.yLine)}function Rs(e,t){Ms(e,"enabled",t.enabled,t),Ms(e,"stroke",t.stroke,t),Ms(e,"strokeWidth",t.strokeWidth,t),Ms(e,"lineDash",t.lineDash,t),Ms(e,"lineCap",t.lineCap,t)}var As={};var Ts=function(e,t,r){if(ei(t))return!0;var n,o,i="AG Charts: "+e+" must be a number, the value you provided is not a valid number. Using the default of "+r+"px.";return n=function(){return console.warn(i)},As[o=e+" not a number"]||(n(),As[o]=!0),!1},Ds={xOffset:Ts,yOffset:Ts};function Ms(e,t,r,n){if(t in n)if(t in e){var o=Ds[t];(!o||o(t,r,e[t]))&&e[t]!==r&&(e[t]=r)}else console.warn("Property "+t+" does not exist on the target object.")}var ks=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ns=function(){return Ns=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ns.apply(this,arguments)},Is=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Ls=function(e){function t(){return e.call(this,t.TEMPLATE)||this}return ks(t,e),t.prototype.init=function(e){var t=this,r=!0,n=this.resizeObserverService.observeResize(this.getGui(),(function(){var n=t.getGui(),o=n.clientWidth,i=n.clientHeight;if(0!==o&&0!==i)if(r){var a=Ns({data:e.value,width:o,height:i,context:{data:e.data}},e.sparklineOptions);t.sparkline=Ss.create(a,t.sparklineTooltipSingleton.getSparklineTooltip()),t.eSparkline.appendChild(t.sparkline.canvasElement),r=!1}else t.sparkline.width=o,t.sparkline.height=i}));this.addDestroyFunc((function(){return n()}))},t.prototype.refresh=function(e){return!!this.sparkline&&(this.sparkline.data=e.value,!0)},t.prototype.destroy=function(){this.sparkline&&this.sparkline.destroy(),e.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-sparkline-wrapper">\n            <span ref="eSparkline"></span>\n        </div>',Is([o.RefSelector("eSparkline")],t.prototype,"eSparkline",void 0),Is([o.Autowired("resizeObserverService")],t.prototype,"resizeObserverService",void 0),Is([o.Autowired("sparklineTooltipSingleton")],t.prototype,"sparklineTooltipSingleton",void 0),t}(o.Component),Fs=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Gs=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Bs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Fs(t,e),t.prototype.postConstruct=function(){this.tooltip=new Ga},t.prototype.getSparklineTooltip=function(){return this.tooltip},t.prototype.destroyTooltip=function(){this.tooltip&&this.tooltip.destroy()},Gs([o.PostConstruct],t.prototype,"postConstruct",null),Gs([o.PreDestroy],t.prototype,"destroyTooltip",null),t=Gs([o.Bean("sparklineTooltipSingleton")],t)}(o.BeanStub),Ws={moduleName:o.ModuleNames.SparklinesModule,beans:[Bs],userComponents:[{componentName:"agSparklineCellRenderer",componentClass:Ls}],dependantModules:[g]},Hs=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),js=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Vs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Hs(t,e),t.prototype.getData=function(e){if(e.crossFiltering){if(e.grouping)return console.warn("AG Grid: crossing filtering with row grouping is not supported."),{chartData:[],columnNames:{}};if(!this.gridOptionsWrapper.isRowModelDefault())return console.warn("AG Grid: crossing filtering is only supported in the client side row model."),{chartData:[],columnNames:{}}}this.gridOptionsWrapper.isRowModelServerSide()&&e.pivoting&&this.updatePivotKeysForSSRM();var t=this.extractRowsFromGridRowModel(e);return t.chartData=this.aggregateRowsByDimension(e,t.chartData),t},t.prototype.extractRowsFromGridRowModel=function(e){var r,n=this,i=[],a={},s={},l={},u={},c=[];if(e.crossFiltering)u=this.getFilteredRowNodes(),r=(c=this.getAllRowNodes()).length;else{var p=this.gridRowModel.getRowCount()-1;r=(e.endRow>=0?Math.min(e.endRow,p):p)-e.startRow+1}for(var d=function(r){var o={},p=e.crossFiltering?c[r]:h.gridRowModel.getRow(r+e.startRow);e.dimensionCols.forEach((function(i){var a=i.colId,u=n.columnModel.getGridColumn(a);if(u){var c=n.valueService.getValue(u,p);if(e.grouping){var d=c&&c.toString?String(c.toString()):"",h=t.getGroupLabels(p,d);o[a]={labels:h,toString:function(){return this.labels.filter((function(e){return!!e})).reverse().join(" - ")}},p.group&&(s[h.toString()]=r);var f=h.slice(1,h.length).toString();f&&(l[f]=s[f])}else o[a]=c}else o[Ks.DEFAULT_CATEGORY]=r+1})),e.valueCols.forEach((function(t){var r=[],i=t.getColDef().pivotKeys;i&&(r=i.slice());var s=t.getColDef().headerName;s&&r.push(s),r.length>0&&(a[t.getId()]=r);var l=t.getColId();if(e.crossFiltering){var c=l+"-filtered-out",d=null!=(h=n.valueService.getValue(t,p))&&"function"===typeof h.toNumber?h.toNumber():h;u[p.id]?(o[l]=d,o[c]=e.aggFunc||e.isScatter?void 0:0):(o[l]=e.aggFunc||e.isScatter?void 0:0,o[c]=d)}else{var h=n.valueService.getValue(t,p);o[l]=null!=h&&"function"===typeof h.toNumber?h.toNumber():h}})),p.footer&&(o.footer=!0),i.push(o)},h=this,f=0;f<r;f++)d(f);if(e.grouping){var g=o._.values(l);i=i.filter((function(e,t){return!e.footer&&!o._.includes(g,t)}))}return{chartData:i,columnNames:a}},t.prototype.aggregateRowsByDimension=function(e,t){var r=this,n=e.dimensionCols;if(!e.aggFunc||0===n.length)return t;var i=o._.last(n),a=i&&i.colId,s={},l=[];return t.forEach((function(e){var t=s;n.forEach((function(r){var o=r.colId,i=e[o];if(o===a){var s=t[i];s||(s={__children:[]},n.forEach((function(t){var r=t.colId;s[r]=e[r]})),t[i]=s,l.push(s)),s.__children.push(e)}else t[i]||(t[i]={}),t=t[i]}))})),o.ModuleRegistry.assertRegistered(o.ModuleNames.RowGroupingModule,"Charting Aggregation")&&l.forEach((function(t){return e.valueCols.forEach((function(n){if(e.crossFiltering)e.valueCols.forEach((function(n){var o=n.getColId(),i=t.__children.filter((function(e){return"undefined"!==typeof e[o]})).map((function(e){return e[o]})),a=r.aggregationStage.aggregateValues(i,e.aggFunc);t[n.getId()]=a&&"undefined"!==typeof a.value?a.value:a;var s=o+"-filtered-out",l=t.__children.filter((function(e){return"undefined"!==typeof e[s]})).map((function(e){return e[s]})),u=r.aggregationStage.aggregateValues(l,e.aggFunc);t[s]=u&&"undefined"!==typeof u.value?u.value:u}));else{var i=t.__children.map((function(e){return e[n.getId()]})),a=0;o.ModuleRegistry.assertRegistered(o.ModuleNames.RowGroupingModule,"Charting Aggregation")&&(a=r.aggregationStage.aggregateValues(i,e.aggFunc)),t[n.getId()]=a&&"undefined"!==typeof a.value?a.value:a}}))})),l},t.prototype.updatePivotKeysForSSRM=function(){var e=this.columnModel.getSecondaryColumns();if(e){var t=this.extractPivotKeySeparator(e);e.forEach((function(e){var r=e.getColId().split(t);e.getColDef().pivotKeys=r.slice(0,r.length-1)}))}},t.prototype.extractPivotKeySeparator=function(e){if(0===e.length)return"";var t=e[0];return function e(t,r){var n=t.getGroupId();return t.getParent()?e(t.getParent(),n):r.split(n)[1][0]}(t.getParent(),t.getColId())},t.getGroupLabels=function(e,t){for(var r=[t];e&&0!==e.level;)(e=e.parent)&&r.push(e.key);return r},t.prototype.getFilteredRowNodes=function(){var e={};return this.gridRowModel.forEachNodeAfterFilterAndSort((function(t){e[t.id]=t})),e},t.prototype.getAllRowNodes=function(){var e=[];return this.gridRowModel.forEachNode((function(t){e.push(t)})),this.sortRowNodes(e)},t.prototype.sortRowNodes=function(e){var t=this.sortController.getSortOptions();return!t||0==t.length?e:this.rowNodeSorter.doFullSort(e,t)},js([o.Autowired("rowModel")],t.prototype,"gridRowModel",void 0),js([o.Autowired("valueService")],t.prototype,"valueService",void 0),js([o.Autowired("columnModel")],t.prototype,"columnModel",void 0),js([o.Autowired("rowNodeSorter")],t.prototype,"rowNodeSorter",void 0),js([o.Autowired("sortController")],t.prototype,"sortController",void 0),js([o.Optional("aggregationStage")],t.prototype,"aggregationStage",void 0),t}(o.BeanStub),zs=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Us=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Ys=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},Xs=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Ys(arguments[t]));return e},Ks=function(e){function t(t){var r=e.call(this)||this;return r.unlinked=!1,r.chartData=[],r.valueColState=[],r.dimensionColState=[],r.columnNames={},r.grouping=!1,r.crossFiltering=!1,r.suppressComboChartWarnings=!1,r.chartId=t.chartId,r.chartType=t.chartType,r.pivotChart=t.pivotChart,r.chartThemeName=t.chartThemeName,r.aggFunc=t.aggFunc,r.referenceCellRange=t.cellRange,r.suppliedCellRange=t.cellRange,r.suppressChartRanges=t.suppressChartRanges,r.unlinked=!!t.unlinkChart,r.crossFiltering=!!t.crossFiltering,r.seriesChartTypes=t.seriesChartTypes||[],r.initComboCharts(t),r}return zs(t,e),t.prototype.initComboCharts=function(e){var t=this.seriesChartTypes&&this.seriesChartTypes.length>0;("customCombo"===e.chartType||t)&&(this.chartType="customCombo",this.savedCustomSeriesChartTypes=this.seriesChartTypes||[])},t.prototype.init=function(){this.datasource=this.createManagedBean(new Vs),this.updateCellRanges()},t.prototype.updateCellRanges=function(e){this.valueCellRange&&(this.referenceCellRange=this.valueCellRange);var t=this.getAllChartColumns(),r=t.dimensionCols,n=t.valueCols,o=this.getAllColumnsFromRanges();e&&this.updateColumnState(e),this.setDimensionCellRange(r,o,e),this.setValueCellRange(n,o,e),e||(this.resetColumnState(),this.syncDimensionCellRange()),this.updateSeriesChartTypes(),this.updateData()},t.prototype.updateSeriesChartTypes=function(){this.isComboChart()&&(this.seriesChartTypes=this.seriesChartTypes.map((function(e){var t=["groupedColumn","stackedColumn","stackedArea"].includes(e.chartType);return e.secondaryAxis=!t&&e.secondaryAxis,e})),"customCombo"!==this.chartType?this.updateChartSeriesTypesForBuiltInCombos():this.updateSeriesChartTypesForCustomCombo())},t.prototype.updateSeriesChartTypesForCustomCombo=function(){var e=this;this.seriesChartTypes&&this.seriesChartTypes.length>0||this.suppressComboChartWarnings||console.warn("AG Grid: 'seriesChartTypes' are required when the 'customCombo' chart type is specified."),this.seriesChartTypes=this.seriesChartTypes.map((function(e){return t.SUPPORTED_COMBO_CHART_TYPES.includes(e.chartType)||(console.warn("AG Grid: invalid chartType '"+e.chartType+"' supplied in 'seriesChartTypes', converting to 'line' instead."),e.chartType="line"),e}));var r=this.valueColState.map((function(t){e.savedCustomSeriesChartTypes&&0!==e.savedCustomSeriesChartTypes.length||(e.savedCustomSeriesChartTypes=e.seriesChartTypes);var r=e.savedCustomSeriesChartTypes.find((function(e){return e.colId===t.colId}));return r||(t.selected&&!e.suppressComboChartWarnings&&console.warn("AG Grid: no 'seriesChartType' found for colId = '"+t.colId+"', defaulting to 'line'."),{colId:t.colId,chartType:"line",secondaryAxis:!1})}));this.seriesChartTypes=r,this.savedCustomSeriesChartTypes=r,this.suppressComboChartWarnings=!0},t.prototype.updateChartSeriesTypesForBuiltInCombos=function(){var e="columnLineCombo"===this.chartType?"groupedColumn":"stackedArea",t="columnLineCombo"===this.chartType?"line":"groupedColumn",r=this.valueColState.filter((function(e){return e.selected})),n=Math.ceil(r.length/2);this.seriesChartTypes=r.map((function(r,o){var i=o>=n?t:e;return{colId:r.colId,chartType:i,secondaryAxis:!1}}))},t.prototype.updateData=function(){var e=this.getRowIndexes(),t=e.startRow,r=e.endRow;this.pivotChart&&this.resetColumnState(),this.grouping=this.isGrouping();var n={aggFunc:this.aggFunc,dimensionCols:[this.getSelectedDimension()],grouping:this.grouping,pivoting:this.isPivotActive(),crossFiltering:this.crossFiltering,valueCols:this.getSelectedValueCols(),startRow:t,endRow:r,isScatter:o._.includes(["scatter","bubble"],this.chartType)},i=this.datasource.getData(n),a=i.chartData,s=i.columnNames;this.chartData=a,this.columnNames=s},t.prototype.isGrouping=function(){var e=this.gridOptionsWrapper.isTreeData(),t=e?null:this.columnModel.getRowGroupColumns(),r=e||t&&t.length>0,n=this.getSelectedDimension().colId,o=this.columnModel.getGroupDisplayColumns().map((function(e){return e.getColId()})).some((function(e){return e===n}));return!!r&&o},t.prototype.getSelectedValueCols=function(){return this.valueColState.filter((function(e){return e.selected})).map((function(e){return e.column}))},t.prototype.getSelectedDimension=function(){return this.dimensionColState.filter((function(e){return e.selected}))[0]},t.prototype.getColDisplayName=function(e){return this.columnModel.getDisplayNameForColumn(e,"chart")},t.prototype.isPivotMode=function(){return this.columnModel.isPivotMode()},t.prototype.isPivotActive=function(){return this.columnModel.isPivotActive()},t.prototype.createCellRange=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return{id:this.chartId,startRow:this.referenceCellRange.startRow,endRow:this.referenceCellRange.endRow,columns:t,startColumn:e===o.CellRangeType.DIMENSION?t[0]:this.referenceCellRange.startColumn,type:e}},t.prototype.getAllColumnsFromRanges=function(){if(this.pivotChart)return o._.convertToSet(this.columnModel.getAllDisplayedColumns());var e=this.dimensionCellRange||this.valueCellRange?[]:this.referenceCellRange.columns;return this.dimensionCellRange&&e.push.apply(e,Xs(this.dimensionCellRange.columns)),this.valueCellRange&&e.push.apply(e,Xs(this.valueCellRange.columns)),o._.convertToSet(e)},t.prototype.getRowIndexes=function(){var e=0,t=0,r=this.rangeService,n=this.valueCellRange;if(r&&n){e=r.getRangeStartRow(n).rowIndex;var i=r.getRangeEndRow(n);t=i.rowPinned===o.Constants.PINNED_BOTTOM?-1:i.rowIndex}return{startRow:e,endRow:t}},t.prototype.getAllChartColumns=function(){var e=this,t=this.columnModel.getAllDisplayedColumns(),r=new Set,n=new Set;return t.forEach((function(t){var o=t.getColDef(),i=o.chartDataType;if(i)switch(i){case"category":case"time":return void r.add(t);case"series":return void n.add(t);case"excluded":return;default:console.warn("AG Grid: unexpected chartDataType value '"+i+"' supplied, instead use 'category', 'series' or 'excluded'")}"ag-Grid-AutoColumn"!==o.colId?t.isPrimary()?(e.isNumberCol(t)?n:r).add(t):n.add(t):r.add(t)})),{dimensionCols:r,valueCols:n}},t.prototype.isNumberCol=function(e){if("ag-Grid-AutoColumn"===e.getColId())return!1;var t=this.rowRenderer.getRowNode({rowIndex:0,rowPinned:null});if(!t)return!1;var r=this.valueService.getValue(e,t);return null==r&&(r=this.extractLeafData(t,e)),null!=r&&"function"===typeof r.toNumber&&(r=r.toNumber()),"number"===typeof r},t.prototype.extractLeafData=function(e,t){if(!e.allLeafChildren)return null;for(var r=0;r<e.allLeafChildren.length;r++){var n=e.allLeafChildren[r],o=this.valueService.getValue(t,n);if(null!=o)return o}return null},t.prototype.resetColumnState=function(){var e=this,r=this.getAllChartColumns(),n=r.dimensionCols,i=r.valueCols,a=this.getAllColumnsFromRanges(),s=this.valueColState.length<1;this.dimensionColState=[],this.valueColState=[];var l=!1,u=1,c=this.suppliedCellRange.columns[0];n.forEach((function(t){var r="ag-Grid-AutoColumn"===t.getColId(),n=!1;e.crossFiltering&&e.aggFunc?c.getColId()===t.getColId()&&(n=!0):n=!!r||!l&&a.has(t),e.dimensionColState.push({column:t,colId:t.getColId(),displayName:e.getColDisplayName(t),selected:n,order:u++}),n&&(l=!0)}));var p={colId:t.DEFAULT_CATEGORY,displayName:this.chartTranslationService.translate("defaultCategory"),selected:!l,order:0};this.dimensionColState.unshift(p);var d=this.referenceCellRange.columns.filter((function(e){return i.has(e)}));i.forEach((function(t){s&&o._.includes(e.referenceCellRange.columns,t)&&(t=d.shift()),e.valueColState.push({column:t,colId:t.getColId(),displayName:e.getColDisplayName(t),selected:a.has(t),order:u++})}))},t.prototype.updateColumnState=function(e){var t=function(t){return t.colId===e.colId},r=this.dimensionColState,n=this.valueColState;r.filter(t).length>0?r.forEach((function(e){return e.selected=t(e)})):n.filter(t).forEach((function(t){return t.selected=e.selected}));var o=Xs(r,n),i=[];o.forEach((function(t,r){r===e.order&&i.push(e.colId),t.colId!==e.colId&&i.push(t.colId)})),o.forEach((function(e){var t=i.indexOf(e.colId);e.order=t>=0?i.indexOf(e.colId):o.length-1})),this.reorderColState()},t.prototype.reorderColState=function(){var e=function(e,t){return e.order-t.order};this.dimensionColState.sort(e),this.valueColState.sort(e)},t.prototype.setDimensionCellRange=function(e,r,n){var i=this;if(this.dimensionCellRange=void 0,n||this.dimensionColState.length){var a=n;if(this.crossFiltering&&this.aggFunc){var s=this.suppliedCellRange.columns[0];a=this.dimensionColState.filter((function(e){return e.colId===s.getColId()}))[0]}else a&&e.has(a.column)||(a=this.dimensionColState.filter((function(e){return e.selected}))[0]);a&&a.colId!==t.DEFAULT_CATEGORY&&(this.dimensionCellRange=this.createCellRange(o.CellRangeType.DIMENSION,a.column))}else e.forEach((function(e){!i.dimensionCellRange&&r.has(e)&&(i.dimensionCellRange=i.createCellRange(o.CellRangeType.DIMENSION,e))}))},t.prototype.setValueCellRange=function(e,t,r){this.valueCellRange=void 0;var n=[];if(e.forEach((function(e){r&&r.colId===e.getColId()?r.selected&&n.push(r.column):t.has(e)&&n.push(e)})),n.length>0){var i=[];this.valueColState.length>0?i=this.valueColState.map((function(e){return e.colId})):t.forEach((function(e){return i.push(e.getColId())})),n.sort((function(e,t){return i.indexOf(e.getColId())-i.indexOf(t.getColId())})),this.valueCellRange=this.createCellRange.apply(this,Xs([o.CellRangeType.VALUE],n))}},t.prototype.syncDimensionCellRange=function(){var e=this.getSelectedDimension();e&&e.column&&(this.dimensionCellRange=this.createCellRange(o.CellRangeType.DIMENSION,e.column))},t.prototype.isComboChart=function(){return["columnLineCombo","areaColumnCombo","customCombo"].includes(this.chartType)},t.DEFAULT_CATEGORY="AG-GRID-DEFAULT-CATEGORY",t.SUPPORTED_COMBO_CHART_TYPES=["line","groupedColumn","stackedColumn","area","stackedArea"],Us([o.Autowired("columnModel")],t.prototype,"columnModel",void 0),Us([o.Autowired("valueService")],t.prototype,"valueService",void 0),Us([o.Autowired("rangeService")],t.prototype,"rangeService",void 0),Us([o.Autowired("rowRenderer")],t.prototype,"rowRenderer",void 0),Us([o.Autowired("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Us([o.PostConstruct],t.prototype,"init",null),t}(o.BeanStub),qs=function(){return qs=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},qs.apply(this,arguments)},$s=function(){function e(){this.allPropertyListeners=new Map,this.allEventListeners=new Map}return e.prototype.addPropertyListener=function(e,t,r){void 0===r&&(r=this);var n=this.allPropertyListeners,o=n.get(e);if(o||(o=new Map,n.set(e,o)),!o.has(t)){var i=new Set;o.set(t,i)}var a=o.get(t);a&&a.add(r)},e.prototype.removePropertyListener=function(e,t,r){void 0===r&&(r=this);var n=this.allPropertyListeners.get(e);if(n)if(t){var o=n.get(t);o&&(o.delete(r),o.size||n.delete(t))}else n.clear()},e.prototype.notifyPropertyListeners=function(e,t,r){var n=this,o=this.allPropertyListeners.get(e);o&&o.forEach((function(o,i){o.forEach((function(o){return i.call(o,{type:e,source:n,value:r,oldValue:t})}))}))},e.prototype.addEventListener=function(e,t,r){void 0===r&&(r=this);var n=this.allEventListeners,o=n.get(e);if(o||(o=new Map,n.set(e,o)),!o.has(t)){var i=new Set;o.set(t,i)}var a=o.get(t);a&&a.add(r)},e.prototype.removeEventListener=function(e,t,r){void 0===r&&(r=this);var n=this.allEventListeners.get(e);if(n)if(t){var o=n.get(t);o&&(o.delete(r),o.size||n.delete(t))}else n.clear()},e.prototype.notifyEventListeners=function(e){var t=this,r=this.allEventListeners;e.forEach((function(e){var n=r.get(e);n&&n.forEach((function(r,n){r.forEach((function(r){return n.call(r,{type:e,source:t})}))}))}))},e.prototype.fireEvent=function(e){var t=this,r=this.allEventListeners.get(e.type);r&&r.forEach((function(r,n){r.forEach((function(r){return n.call(r,qs(qs({},e),{source:t}))}))}))},e.privateKeyPrefix="_",e}();function Zs(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];e.indexOf("debugger");return function(t,r){var n=$s.privateKeyPrefix+r,o=n+"Events";t[r]||(e&&(t[o]=e),Object.defineProperty(t,r,{set:function(e){var t=this[n];if(e!==t||"object"===typeof e&&null!==e){this[n]=e,this.notifyPropertyListeners(r,t,e);var i=this[o];i&&this.notifyEventListeners(i)}},get:function(){return this[n]},enumerable:!0,configurable:!0}))}}var Qs=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Js=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},el=function(e){function t(t,r,n,o){void 0===t&&(t=0),void 0===r&&(r=t),void 0===n&&(n=t),void 0===o&&(o=r);var i=e.call(this)||this;return i.top=t,i.right=r,i.bottom=n,i.left=o,i}return Qs(t,e),t.prototype.clear=function(){this.top=this.right=this.bottom=this.left=0},Js([Zs("layoutChange")],t.prototype,"top",void 0),Js([Zs("layoutChange")],t.prototype,"right",void 0),Js([Zs("layoutChange")],t.prototype,"bottom",void 0),Js([Zs("layoutChange")],t.prototype,"left",void 0),t}($s),tl=function(){function e(e,t,r,n){this.x=e,this.y=t,this.width=r,this.height=n}return e.prototype.isValid=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},e.prototype.dilate=function(e){this.x-=e,this.y-=e,this.width+=2*e,this.height+=2*e},e.prototype.containsPoint=function(e,t){return e>=this.x&&e<=this.x+this.width&&t>=this.y&&t<=this.y+this.height},e.prototype.render=function(t,r){void 0===r&&(r=e.noParams),t.save(),r.resetTransform&&t.setTransform(1,0,0,1,0,0),t.strokeStyle=r.strokeStyle||"cyan",t.lineWidth=r.lineWidth||1,t.strokeRect(this.x,this.y,this.width,this.height),r.label&&(t.fillStyle=r.fillStyle||"black",t.textBaseline="bottom",t.fillText(r.label,this.x,this.y)),t.restore()},e.noParams={},e}(),rl=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},nl=function(){function e(e){void 0===e&&(e=[1,0,0,1,0,0]),this.elements=e}return e.prototype.setElements=function(e){var t=this.elements;return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],this},e.prototype.setIdentityElements=function(){var e=this.elements;return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,this},Object.defineProperty(e.prototype,"identity",{get:function(){var e=this.elements;return 1===e[0]&&0===e[1]&&0===e[2]&&1===e[3]&&0===e[4]&&0===e[5]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"a",{get:function(){return this.elements[0]},set:function(e){this.elements[0]=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"b",{get:function(){return this.elements[1]},set:function(e){this.elements[1]=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"c",{get:function(){return this.elements[2]},set:function(e){this.elements[2]=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"d",{get:function(){return this.elements[3]},set:function(e){this.elements[3]=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"e",{get:function(){return this.elements[4]},set:function(e){this.elements[4]=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"f",{get:function(){return this.elements[5]},set:function(e){this.elements[5]=e},enumerable:!0,configurable:!0}),e.prototype.AxB=function(e,t,r){var n=rl(e,6),o=n[0],i=n[1],a=n[2],s=n[3],l=n[4],u=n[5],c=rl(t,6),p=c[0],d=c[1],h=c[2],f=c[3],g=c[4],y=c[5];(r=r||e)[0]=o*p+a*d,r[1]=i*p+s*d,r[2]=o*h+a*f,r[3]=i*h+s*f,r[4]=o*g+a*y+l,r[5]=i*g+s*y+u},e.prototype.multiplySelf=function(e){return this.AxB(this.elements,e.elements),this},e.prototype.multiply=function(t){var r=new Array(6);return this.AxB(this.elements,t.elements,r),new e(r)},e.prototype.preMultiplySelf=function(e){return this.AxB(e.elements,this.elements,this.elements),this},e.prototype.inverse=function(){var t=rl(this.elements,6),r=t[0],n=t[1],o=t[2],i=t[3],a=t[4],s=t[5],l=1/(r*i-n*o);return new e([i*=l,-(n*=l),-(o*=l),r*=l,o*s-i*a,n*a-r*s])},e.prototype.inverseTo=function(e){var t=rl(this.elements,6),r=t[0],n=t[1],o=t[2],i=t[3],a=t[4],s=t[5],l=1/(r*i-n*o);return r*=l,n*=l,o*=l,i*=l,e.setElements([i,-n,-o,r,o*s-i*a,n*a-r*s]),this},e.prototype.invertSelf=function(){var e=this.elements,t=rl(e,6),r=t[0],n=t[1],o=t[2],i=t[3],a=t[4],s=t[5],l=1/(r*i-n*o);return r*=l,n*=l,o*=l,i*=l,e[0]=i,e[1]=-n,e[2]=-o,e[3]=r,e[4]=o*s-i*a,e[5]=n*a-r*s,this},e.prototype.clone=function(){return new e(this.elements.slice())},e.prototype.transformPoint=function(e,t){var r=this.elements;return{x:e*r[0]+t*r[2]+r[4],y:e*r[1]+t*r[3]+r[5]}},e.prototype.transformBBox=function(e,t,r){void 0===t&&(t=0);var n,o,i=this.elements,a=i[0],s=i[1],l=i[2],u=i[3],c=.5*e.width,p=.5*e.height,d=e.x+c,h=e.y+p;if(t){c-=t,p-=t;var f=Math.sqrt(a*a+l*l),g=Math.sqrt(s*s+u*u);n=Math.abs(c*a)+Math.abs(p*l)+Math.abs(f*t),o=Math.abs(c*s)+Math.abs(p*u)+Math.abs(g*t)}else n=Math.abs(c*a)+Math.abs(p*l),o=Math.abs(c*s)+Math.abs(p*u);return r||(r=new tl(0,0,0,0)),r.x=d*a+h*l+i[4]-n,r.y=d*s+h*u+i[5]-o,r.width=n+n,r.height=o+o,r},e.prototype.toContext=function(e){if(!this.identity){var t=this.elements;e.transform(t[0],t[1],t[2],t[3],t[4],t[5])}},e.flyweight=function(t){return t?t instanceof e?e.matrix.setElements(t.elements):e.matrix.setElements(t):e.matrix.setIdentityElements(),e.matrix},e.matrix=new e,e}();function ol(e){var t=e.constructor,r=t.className;if(!r)throw new Error("The "+t+" is missing the 'className' property.");return r+"-"+(t.id=(t.id||0)+1)}var il,al=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};!function(e){e[e.All=0]="All",e[e.None=1]="None"}(il||(il={}));var sl=function(){function e(){this.id=ol(this),this.tag=NaN,this.isContainerNode=!1,this._children=[],this.childSet={},this.matrix=new nl,this.inverseMatrix=new nl,this._dirtyTransform=!1,this._scalingX=1,this._scalingY=1,this._scalingCenterX=null,this._scalingCenterY=null,this._rotationCenterX=null,this._rotationCenterY=null,this._rotation=0,this._translationX=0,this._translationY=0,this._dirty=!0,this._visible=!0,this.dirtyZIndex=!1,this._zIndex=0,this.pointerEvents=il.All}return e.isNode=function(e){return!!e&&void 0!==e.matrix},e.prototype._setScene=function(e){this._scene=e;for(var t=this.children,r=t.length,n=0;n<r;n++)t[n]._setScene(e)},Object.defineProperty(e.prototype,"scene",{get:function(){return this._scene},enumerable:!0,configurable:!0}),e.prototype._setParent=function(e){this._parent=e},Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){return this._children},enumerable:!0,configurable:!0}),e.prototype.countChildren=function(t){if(void 0===t&&(t=e.MAX_SAFE_INTEGER),t<=0)return 0;for(var r=this.children,n=r.length,o=n,i=0;i<n;i++)o+=r[i].countChildren(t-1);return o},e.prototype.append=function(t){e.isNode(t)&&(t=[t]);for(var r=t.length,n=0;n<r;n++){var o=t[n];if(o.parent)throw new Error(o+" already belongs to another parent: "+o.parent+".");if(o.scene)throw new Error(o+" already belongs a scene: "+o.scene+".");if(this.childSet[o.id])throw new Error("Duplicate "+o.constructor.name+" node: "+o);this._children.push(o),this.childSet[o.id]=!0,o._setParent(this),o._setScene(this.scene)}this.dirty=!0},e.prototype.appendChild=function(e){if(e.parent)throw new Error(e+" already belongs to another parent: "+e.parent+".");if(e.scene)throw new Error(e+" already belongs to a scene: "+e.scene+".");if(this.childSet[e.id])throw new Error("Duplicate "+e.constructor.name+" node: "+e);return this._children.push(e),this.childSet[e.id]=!0,e._setParent(this),e._setScene(this.scene),this.dirty=!0,e},e.prototype.removeChild=function(e){if(e.parent===this){var t=this.children.indexOf(e);if(t>=0)return this._children.splice(t,1),delete this.childSet[e.id],e._setParent(),e._setScene(),this.dirty=!0,e}throw new Error("The node to be removed is not a child of this node.")},e.prototype.insertBefore=function(e,t){var r=e.parent;if(e.parent&&e.parent.removeChild(e),t&&t.parent===this){var n=this.children.indexOf(t);if(!(n>=0))throw new Error(t+" has "+r+" as the parent, but is not in its list of children.");this._children.splice(n,0,e),this.childSet[e.id]=!0,e._setParent(this),e._setScene(this.scene),this.dirty=!0}else this.append(e);return e},Object.defineProperty(e.prototype,"nextSibling",{get:function(){var e=this.parent;if(e){var t=e.children,r=t.indexOf(this);if(r>=0&&r<=t.length-1)return t[r+1]}},enumerable:!0,configurable:!0}),e.prototype.transformPoint=function(e,t){for(var r=nl.flyweight(this.matrix),n=this.parent;n;)r.preMultiplySelf(n.matrix),n=n.parent;return r.invertSelf().transformPoint(e,t)},e.prototype.inverseTransformPoint=function(e,t){for(var r=nl.flyweight(this.matrix),n=this.parent;n;)r.preMultiplySelf(n.matrix),n=n.parent;return r.transformPoint(e,t)},Object.defineProperty(e.prototype,"dirtyTransform",{get:function(){return this._dirtyTransform},set:function(e){this._dirtyTransform=e,e&&(this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scalingX",{get:function(){return this._scalingX},set:function(e){this._scalingX!==e&&(this._scalingX=e,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scalingY",{get:function(){return this._scalingY},set:function(e){this._scalingY!==e&&(this._scalingY=e,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scalingCenterX",{get:function(){return this._scalingCenterX},set:function(e){this._scalingCenterX!==e&&(this._scalingCenterX=e,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scalingCenterY",{get:function(){return this._scalingCenterY},set:function(e){this._scalingCenterY!==e&&(this._scalingCenterY=e,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotationCenterX",{get:function(){return this._rotationCenterX},set:function(e){this._rotationCenterX!==e&&(this._rotationCenterX=e,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotationCenterY",{get:function(){return this._rotationCenterY},set:function(e){this._rotationCenterY!==e&&(this._rotationCenterY=e,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this._rotation},set:function(e){this._rotation!==e&&(this._rotation=e,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotationDeg",{get:function(){return this.rotation/Math.PI*180},set:function(e){this.rotation=e/180*Math.PI},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"translationX",{get:function(){return this._translationX},set:function(e){this._translationX!==e&&(this._translationX=e,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"translationY",{get:function(){return this._translationY},set:function(e){this._translationY!==e&&(this._translationY=e,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),e.prototype.containsPoint=function(e,t){return!1},e.prototype.pickNode=function(e,t){if(this.visible&&this.pointerEvents!==il.None&&this.containsPoint(e,t)){var r=this.children;if(r.length)for(var n=r.length-1;n>=0;n--){var o=r[n].pickNode(e,t);if(o)return o}else if(!this.isContainerNode)return this}},e.prototype.computeBBox=function(){},e.prototype.computeBBoxCenter=function(){var e=this.computeBBox&&this.computeBBox();return e?[e.x+.5*e.width,e.y+.5*e.height]:[0,0]},e.prototype.computeTransformMatrix=function(){var e,t,r=al([0,0],2),n=r[0],o=r[1],i=this.scalingX,a=this.scalingY;1===i&&1===a?(e=0,t=0):(e=null===this.scalingCenterX?n:this.scalingCenterX,t=null===this.scalingCenterY?o:this.scalingCenterY);var s,l,u=this.rotation,c=Math.cos(u),p=Math.sin(u);0===u?(s=0,l=0):(s=null===this.rotationCenterX?n:this.rotationCenterX,l=null===this.rotationCenterY?o:this.rotationCenterY);var d=this.translationX,h=this.translationY,f=e*(1-i)-s,g=t*(1-a)-l;this.dirtyTransform=!1,this.matrix.setElements([c*i,p*i,-p*a,c*a,c*f-p*g+s+d,p*f+c*g+l+h]).inverseTo(this.inverseMatrix)},Object.defineProperty(e.prototype,"dirty",{get:function(){return this._dirty},set:function(e){this._dirty=e,e&&(this.parent?this.parent.dirty=!0:this.scene&&(this.scene.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visible",{get:function(){return this._visible},set:function(e){this._visible!==e&&(this._visible=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"zIndex",{get:function(){return this._zIndex},set:function(e){this._zIndex!==e&&(this._zIndex=e,this.parent&&(this.parent.dirtyZIndex=!0),this.dirty=!0)},enumerable:!0,configurable:!0}),e.MAX_SAFE_INTEGER=Math.pow(2,53)-1,e}();function ll(e,t){var r=Object.create(e);for(var n in t)t.hasOwnProperty(n)&&(r[n]=t[n]);return r}function ul(e,t){return!1!==t.clone&&t.isMergeableObject(e)?gl(function(e){return Array.isArray(e)?[]:{}}(e),e,t):e}function cl(e,t,r){return e.concat(t).map((function(e){return ul(e,r)}))}function pl(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}(e))}function dl(e,t){try{return t in e}catch(r){return!1}}function hl(e,t,r){var n={};return r.isMergeableObject(e)&&pl(e).forEach((function(t){n[t]=ul(e[t],r)})),pl(t).forEach((function(o){(function(e,t){return dl(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,o)||(dl(e,o)&&r.isMergeableObject(t[o])?n[o]=function(e,t){if(!t.customMerge)return gl;var r=t.customMerge(e);return"function"===typeof r?r:gl}(o,r)(e[o],t[o],r):n[o]=ul(t[o],r))})),n}function fl(e){return function(e){return!!e&&"object"===typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t}(e)}function gl(e,t,r){(r=r||{}).arrayMerge=r.arrayMerge||cl,r.isMergeableObject=r.isMergeableObject||fl,r.cloneUnlessOtherwiseSpecified=ul;var n=Array.isArray(t);return n===Array.isArray(e)?n?r.arrayMerge(e,t,r):hl(e,t,r):ul(t,r)}var yl=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),vl=function(e){function t(){var r=null!==e&&e.apply(this,arguments)||this;return r.lastInstanceId=0,r._fillOpacity=1,r._strokeOpacity=1,r._fill=t.defaultStyles.fill,r._stroke=t.defaultStyles.stroke,r._strokeWidth=t.defaultStyles.strokeWidth,r._lineDash=t.defaultStyles.lineDash,r._lineDashOffset=t.defaultStyles.lineDashOffset,r._lineCap=t.defaultStyles.lineCap,r._lineJoin=t.defaultStyles.lineJoin,r._opacity=t.defaultStyles.opacity,r.onShadowChange=function(){r.dirty=!0},r._fillShadow=t.defaultStyles.fillShadow,r._strokeShadow=t.defaultStyles.strokeShadow,r}return yl(t,e),t.createInstance=function(e){var t=Object.create(e);return t._setParent(void 0),t.id=e.id+"-Instance-"+String(++e.lastInstanceId),t},t.prototype.restoreOwnStyles=function(){for(var e=this.constructor.defaultStyles,t=Object.getOwnPropertyNames(e),r=0,n=t.length;r<n;r++){var o=t[r];this[o]=e[o]}},t.prototype.restoreAllStyles=function(){var e=this.constructor.defaultStyles;for(var t in e)this[t]=e[t]},t.prototype.restoreOverriddenStyles=function(){var e=this.constructor.defaultStyles,t=Object.getPrototypeOf(e);for(var r in e)e.hasOwnProperty(r)&&t.hasOwnProperty(r)&&(this[r]=e[r])},Object.defineProperty(t.prototype,"fillOpacity",{get:function(){return this._fillOpacity},set:function(e){this._fillOpacity!==e&&(this._fillOpacity=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeOpacity",{get:function(){return this._strokeOpacity},set:function(e){this._strokeOpacity!==e&&(this._strokeOpacity=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fill},set:function(e){this._fill!==e&&(this._fill=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this._stroke},set:function(e){this._stroke!==e&&(this._stroke=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(e){this._strokeWidth!==e&&(this._strokeWidth=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"alignment",{get:function(){return Math.floor(this.strokeWidth)%2/2},enumerable:!0,configurable:!0}),t.prototype.align=function(e,t,r){return void 0!=r?Math.floor(r)+Math.floor(t%1+r%1):Math.floor(t)+e},Object.defineProperty(t.prototype,"lineDash",{get:function(){return this._lineDash},set:function(e){var t=this._lineDash;if(t!==e){if(t&&e&&t.length===e.length){for(var r=!0,n=e.length,o=0;o<n;o++)if(t[o]!==e[o]){r=!1;break}if(r)return}this._lineDash=e,this.dirty=!0}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineDashOffset",{get:function(){return this._lineDashOffset},set:function(e){this._lineDashOffset!==e&&(this._lineDashOffset=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineCap",{get:function(){return this._lineCap},set:function(e){this._lineCap!==e&&(this._lineCap=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(e){this._lineJoin!==e&&(this._lineJoin=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"opacity",{get:function(){return this._opacity},set:function(e){e=Math.min(1,Math.max(0,e)),this._opacity!==e&&(this._opacity=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fillShadow",{get:function(){return this._fillShadow},set:function(e){var t=this._fillShadow;t!==e&&(t&&t.removeEventListener("change",this.onShadowChange),e&&e.addEventListener("change",this.onShadowChange),this._fillShadow=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeShadow",{get:function(){return this._strokeShadow},set:function(e){var t=this._strokeShadow;t!==e&&(t&&t.removeEventListener("change",this.onShadowChange),e&&e.addEventListener("change",this.onShadowChange),this._strokeShadow=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.fillStroke=function(e){if(this.scene){var t=this.scene.canvas.pixelRatio||1,r=e.globalAlpha;if(this.fill){e.fillStyle=this.fill,e.globalAlpha=r*this.opacity*this.fillOpacity;var n=this.fillShadow;n&&n.enabled&&(e.shadowColor=n.color,e.shadowOffsetX=n.xOffset*t,e.shadowOffsetY=n.yOffset*t,e.shadowBlur=n.blur*t),e.fill()}if(e.shadowColor="rgba(0, 0, 0, 0)",this.stroke&&this.strokeWidth){e.strokeStyle=this.stroke,e.globalAlpha=r*this.opacity*this.strokeOpacity,e.lineWidth=this.strokeWidth,this.lineDash&&e.setLineDash(this.lineDash),this.lineDashOffset&&(e.lineDashOffset=this.lineDashOffset),this.lineCap&&(e.lineCap=this.lineCap),this.lineJoin&&(e.lineJoin=this.lineJoin);var o=this.strokeShadow;o&&o.enabled&&(e.shadowColor=o.color,e.shadowOffsetX=o.xOffset*t,e.shadowOffsetY=o.yOffset*t,e.shadowBlur=o.blur*t),e.stroke()}}},t.prototype.containsPoint=function(e,t){return this.isPointInPath(e,t)},t.defaultStyles=ll({},{fill:"black",stroke:void 0,strokeWidth:0,lineDash:void 0,lineDashOffset:0,lineCap:void 0,lineJoin:void 0,opacity:1,fillShadow:void 0,strokeShadow:void 0}),t}(sl),ml=function(){function e(e,t,r){void 0===e&&(e=window.document),void 0===t&&(t=600),void 0===r&&(r=300),this._container=void 0,this._pixelRatio=NaN,this._width=0,this._height=0,this.document=e,this.element=e.createElement("canvas"),this.context=this.element.getContext("2d"),this.element.style.userSelect="none",this.element.style.display="block",this.setPixelRatio(),this.resize(t,r)}return Object.defineProperty(e.prototype,"container",{get:function(){return this._container},set:function(e){this._container!==e&&(this.remove(),e&&e.appendChild(this.element),this._container=e)},enumerable:!0,configurable:!0}),e.prototype.remove=function(){var e=this.element.parentNode;null!=e&&e.removeChild(this.element)},e.prototype.destroy=function(){this.element.remove(),this._canvas=void 0,Object.freeze(this)},e.prototype.toImage=function(){var e=this.document.createElement("img");return e.src=this.getDataURL(),e},e.prototype.getDataURL=function(e){return this.element.toDataURL(e)},e.prototype.download=function(e){e=((e||"").trim()||"image")+".png";var t=this.getDataURL("image/png"),r=this.document,n=r.createElement("a");n.href=t,n.download=e,n.style.display="none",r.body.appendChild(n),n.click(),r.body.removeChild(n)},Object.defineProperty(e.prototype,"pixelRatio",{get:function(){return this._pixelRatio},enumerable:!0,configurable:!0}),e.prototype.setPixelRatio=function(t){var r=t||window.devicePixelRatio;r!==this.pixelRatio&&(e.overrideScale(this.context,r),this._pixelRatio=r,this.resize(this.width,this.height))},Object.defineProperty(e.prototype,"pixelated",{get:function(){return"pixelated"===this.element.style.imageRendering},set:function(e){this.element.style.imageRendering=e?"pixelated":"auto"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),e.prototype.resize=function(e,t){if(e>0&&t>0){var r=this,n=r.element,o=r.context,i=r.pixelRatio;n.width=Math.round(e*i),n.height=Math.round(t*i),n.style.width=e+"px",n.style.height=t+"px",o.resetTransform(),this._width=e,this._height=t}},Object.defineProperty(e,"textMeasuringContext",{get:function(){if(this._textMeasuringContext)return this._textMeasuringContext;var e=document.createElement("canvas");return this._textMeasuringContext=e.getContext("2d")},enumerable:!0,configurable:!0}),Object.defineProperty(e,"svgText",{get:function(){if(this._svgText)return this._svgText;var e="http://www.w3.org/2000/svg",t=document.createElementNS(e,"svg");t.setAttribute("width","100"),t.setAttribute("height","100"),t.classList?t.classList.add("text-measuring-svg"):t.setAttribute("class","text-measuring-svg"),t.style.position="absolute",t.style.top="-1000px",t.style.visibility="hidden";var r=document.createElementNS(e,"text");return r.setAttribute("x","0"),r.setAttribute("y","30"),r.setAttribute("text","black"),t.appendChild(r),document.body.appendChild(t),this._svgText=r,r},enumerable:!0,configurable:!0}),Object.defineProperty(e,"has",{get:function(){if(this._has)return this._has;var e=navigator.userAgent.indexOf("Chrome")>-1,t=navigator.userAgent.indexOf("Firefox")>-1,r=!e&&navigator.userAgent.indexOf("Safari")>-1;return this._has=Object.freeze({textMetrics:void 0!==this.textMeasuringContext.measureText("test").actualBoundingBoxDescent&&!t&&!r,getTransform:void 0!==this.textMeasuringContext.getTransform})},enumerable:!0,configurable:!0}),e.measureText=function(e,t,r,n){var o=this.textMeasuringContext;return o.font=t,o.textBaseline=r,o.textAlign=n,o.measureText(e)},e.getTextSize=function(e,t){if(this.has.textMetrics){var r=this.textMeasuringContext;r.font=t;var n=r.measureText(e);return{width:n.width,height:n.actualBoundingBoxAscent+n.actualBoundingBoxDescent}}return this.measureSvgText(e,t)},e.measureSvgText=function(e,t){var r=this.textSizeCache,n=r[t];if(n){var o=n[e];if(o)return o}else r[t]={};var i=this.svgText;i.style.font=t,i.textContent=e;var a=i.getBBox(),s={width:a.width,height:a.height};return r[t][e]=s,s},e.overrideScale=function(e,t){var r=0,n={save:function(){this.$save(),r++},restore:function(){r>0&&(this.$restore(),r--)},setTransform:function(e,r,n,o,i,a){this.$setTransform(e*t,r*t,n*t,o*t,i*t,a*t)},resetTransform:function(){this.$setTransform(t,0,0,t,0,0),this.save(),r=0}};for(var o in n)n.hasOwnProperty(o)&&(e["$"+o]||(e["$"+o]=e[o]),e[o]=n[o])},e.textSizeCache={},e}(),bl=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Cl=function(e){function t(){var r=null!==e&&e.apply(this,arguments)||this;return r._x=0,r._y=0,r.lineBreakRegex=/\r?\n/g,r.lines=[],r._text="",r._dirtyFont=!0,r._fontSize=10,r._fontFamily="sans-serif",r._textAlign=t.defaultStyles.textAlign,r._textBaseline=t.defaultStyles.textBaseline,r._lineHeight=14,r}return bl(t,e),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.splitText=function(){this.lines=this._text.split(this.lineBreakRegex)},Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(e){var t=String(e);this._text!==t&&(this._text=t,this.splitText(),this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"font",{get:function(){return this.dirtyFont&&(this.dirtyFont=!1,this._font=wl(this.fontSize,this.fontFamily,this.fontStyle,this.fontWeight)),this._font},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirtyFont",{get:function(){return this._dirtyFont},set:function(e){this._dirtyFont!==e&&(this._dirtyFont=e,e&&(this.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(e){this._fontStyle!==e&&(this._fontStyle=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(e){this._fontWeight!==e&&(this._fontWeight=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){isFinite(e)||(e=10),this._fontSize!==e&&(this._fontSize=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(e){this._fontFamily!==e&&(this._fontFamily=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textAlign",{get:function(){return this._textAlign},set:function(e){this._textAlign!==e&&(this._textAlign=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(e){this._textBaseline!==e&&(this._textBaseline=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(e){this._lineHeight!==e&&(this._lineHeight=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.computeBBox=function(){return ml.has.textMetrics?this.getPreciseBBox():this.getApproximateBBox()},t.prototype.getPreciseBBox=function(){var e=ml.measureText(this.text,this.font,this.textBaseline,this.textAlign);return new tl(this.x-e.actualBoundingBoxLeft,this.y-e.actualBoundingBoxAscent,e.width,e.actualBoundingBoxAscent+e.actualBoundingBoxDescent)},t.prototype.getApproximateBBox=function(){var e=ml.getTextSize(this.text,this.font),t=this.x,r=this.y;switch(this.textAlign){case"end":case"right":t-=e.width;break;case"center":t-=e.width/2}switch(this.textBaseline){case"alphabetic":r-=.7*e.height;break;case"middle":r-=.45*e.height;break;case"ideographic":case"bottom":r-=e.height;break;case"hanging":r-=.2*e.height}return new tl(t,r,e.width,e.height)},t.prototype.isPointInPath=function(e,t){var r=this.transformPoint(e,t),n=this.computeBBox();return!!n&&n.containsPoint(r.x,r.y)},t.prototype.isPointInStroke=function(e,t){return!1},t.prototype.render=function(e){if(this.lines.length&&this.scene){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var t=this,r=t.fill,n=t.stroke,o=t.strokeWidth;e.font=this.font,e.textAlign=this.textAlign,e.textBaseline=this.textBaseline;var i=this.scene.canvas.pixelRatio||1,a=e.globalAlpha;if(r){e.fillStyle=r,e.globalAlpha=a*this.opacity*this.fillOpacity;var s=this,l=s.fillShadow,u=s.text,c=s.x,p=s.y;l&&l.enabled&&(e.shadowColor=l.color,e.shadowOffsetX=l.xOffset*i,e.shadowOffsetY=l.yOffset*i,e.shadowBlur=l.blur*i),e.fillText(u,c,p)}if(n&&o){e.strokeStyle=n,e.lineWidth=o,e.globalAlpha=a*this.opacity*this.strokeOpacity;var d=this,h=d.lineDash,f=d.lineDashOffset,g=d.lineCap,y=d.lineJoin,v=d.strokeShadow;u=d.text,c=d.x,p=d.y;h&&e.setLineDash(h),f&&(e.lineDashOffset=f),g&&(e.lineCap=g),y&&(e.lineJoin=y),v&&v.enabled&&(e.shadowColor=v.color,e.shadowOffsetX=v.xOffset*i,e.shadowOffsetY=v.yOffset*i,e.shadowBlur=v.blur*i),e.strokeText(u,c,p)}this.dirty=!1}},t.className="Text",t.defaultStyles=ll(vl.defaultStyles,{textAlign:"start",fontStyle:void 0,fontWeight:void 0,fontSize:10,fontFamily:"sans-serif",textBaseline:"alphabetic"}),t}(vl);function wl(e,t,r,n){return[r||"",n||"",e+"px",t].join(" ").trim()}var xl=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Sl=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},El=function(e){function t(){var t=e.call(this)||this;t.node=new Cl,t.enabled=!1,t.padding=new el(10);var r=t.node;return r.textAlign="center",r.textBaseline="top",r.pointerEvents=il.None,t}return xl(t,e),Object.defineProperty(t.prototype,"text",{get:function(){return this.node.text},set:function(e){this.node.text!==e&&(this.node.text=e,this.fireEvent({type:"change"}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this.node.fontStyle},set:function(e){this.node.fontStyle!==e&&(this.node.fontStyle=e,this.fireEvent({type:"change"}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this.node.fontWeight},set:function(e){this.node.fontWeight!==e&&(this.node.fontWeight=e,this.fireEvent({type:"change"}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this.node.fontSize},set:function(e){this.node.fontSize!==e&&(this.node.fontSize=e,this.fireEvent({type:"change"}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this.node.fontFamily},set:function(e){this.node.fontFamily!==e&&(this.node.fontFamily=e,this.fireEvent({type:"change"}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){return this.node.fill},set:function(e){this.node.fill!==e&&(this.node.fill=e,this.fireEvent({type:"change"}))},enumerable:!0,configurable:!0}),Sl([Zs("change")],t.prototype,"enabled",void 0),Sl([Zs("change")],t.prototype,"padding",void 0),t}($s),Ol=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();function _l(e,t,r){var n=Tl(e,t,r);return function(e,t,r){void 0===r&&(r=1);for(var n=Math.abs(r),o=n>0&&n<1?Math.abs(Math.floor(Math.log(n)/Math.LN10)):0,i=Math.pow(10,o),a=Math.max(0,Math.ceil((t-e)/r))||0,s=new Ml(o),l=0;l<a;l++){var u=e+r*l;s[l]=Math.round(u*i)/i}return s}(e=Math.ceil(e/n)*n,t=Math.floor(t/n)*n+n/2,n)}var Pl=Math.sqrt(50),Rl=Math.sqrt(10),Al=Math.sqrt(2);function Tl(e,t,r){var n=Math.abs(t-e)/Math.max(0,r),o=Math.pow(10,Math.floor(Math.log(n)/Math.LN10)),i=n/o;return i>=Pl?o*=10:i>=Rl?o*=5:i>=Al&&(o*=2),t<e?-o:o}function Dl(e,t,r){var n=(t-e)/Math.max(0,r),o=Math.floor(Math.log(n)/Math.LN10),i=n/Math.pow(10,o);return o>=0?(i>=Pl?10:i>=Rl?5:i>=Al?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(i>=Pl?10:i>=Rl?5:i>=Al?2:1)}var Ml=function(e){function t(t,r){var n=e.call(this)||this;if(r)for(var o=0,i=r.length;o<i;o++)n[o]=r[o];return n.fractionDigits=t,n}return Ol(t,e),t}(Array);function kl(e,t){var r=Math.floor(e[0]),n=e[1];r=function(e,t,r){var n=Math.abs(t-e)/(r-1),o=Math.floor(Math.log10(n)),i=Math.pow(10,o);return Math.floor(e/i)*i}(r,n,t);var o=function(e,t,r){return function(e){var t=Math.floor(Math.log10(e)),r=Math.pow(10,t),n=e/r*10;if(n>0&&n<=1)return r/10;if(n>1&&n<=2)return 2*r/10;if(n>1&&n<=5)return 5*r/10;if(n>5&&n<=10)return 10*r/10;if(n>10&&n<=20)return 20*r/10;if(n>20&&n<=40)return 40*r/10;if(n>40&&n<=50)return 50*r/10;if(n>50&&n<=100)return 100*r/10;return n}((t-e)/(r-1))}(r,n,t),i=[r,n=r+(t-1)*o],a=function(e,t,r){for(var n=Math.floor(Math.log10(t)),o=t>0&&t<1?Math.abs(n):0,i=Math.pow(10,o),a=new Ml(o),s=0;s<r;s++){var l=e+t*s;a[s]=Math.round(l*i)/i}return a}(r,o,t);return[i,a]}function Nl(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}var Il=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},Ll=function(){function e(e,t,r,n){void 0===n&&(n=1),this.r=Math.min(1,Math.max(0,e||0)),this.g=Math.min(1,Math.max(0,t||0)),this.b=Math.min(1,Math.max(0,r||0)),this.a=Math.min(1,Math.max(0,n||0))}return e.fromString=function(t){if(t.indexOf("#")>=0)return e.fromHexString(t);var r=e.nameToHex[t];if(r)return e.fromHexString(r);if(t.indexOf("rgb")>=0)return e.fromRgbaString(t);throw new Error("Invalid color string: '"+t+"'")},e.parseHex=function(e){var t;switch((e=e.replace(/ /g,"").slice(1)).length){case 6:case 8:t=[];for(var r=0;r<e.length;r+=2)t.push(parseInt(""+e[r]+e[r+1],16));break;case 3:case 4:t=e.split("").map((function(e){return parseInt(e,16)})).map((function(e){return e+16*e}))}if(t.length>=3&&t.every((function(e){return e>=0})))return 3===t.length&&t.push(255),t},e.fromHexString=function(t){var r=e.parseHex(t);if(r){var n=Il(r,4);return new e(n[0]/255,n[1]/255,n[2]/255,n[3]/255)}throw new Error("Malformed hexadecimal color string: '"+t+"'")},e.stringToRgba=function(e){for(var t=Il([NaN,NaN],2),r=t[0],n=t[1],o=0;o<e.length;o++){var i=e[o];if(r||"("!==i){if(")"===i){n=o;break}}else r=o}var a=r&&n&&e.substring(r+1,n);if(a){var s=a.split(","),l=[];for(o=0;o<s.length;o++){var u=s[o],c=parseFloat(u);if(isNaN(c))return;u.indexOf("%")>=0?(c=Math.max(0,Math.min(100,c)),c/=100):3===o?c=Math.max(0,Math.min(1,c)):(c=Math.max(0,Math.min(255,c)),c/=255),l.push(c)}return l}},e.fromRgbaString=function(t){var r=e.stringToRgba(t);if(r){if(3===r.length)return new e(r[0],r[1],r[2]);if(4===r.length)return new e(r[0],r[1],r[2],r[3])}throw new Error("Malformed rgb/rgba color string: '"+t+"'")},e.fromArray=function(t){if(4===t.length)return new e(t[0],t[1],t[2],t[3]);if(3===t.length)return new e(t[0],t[1],t[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")},e.fromHSB=function(t,r,n,o){void 0===o&&(o=1);var i=e.HSBtoRGB(t,r,n);return new e(i[0],i[1],i[2],o)},e.padHex=function(e){return 1===e.length?"0"+e:e},e.prototype.toHexString=function(){var t="#"+e.padHex(Math.round(255*this.r).toString(16))+e.padHex(Math.round(255*this.g).toString(16))+e.padHex(Math.round(255*this.b).toString(16));return this.a<1&&(t+=e.padHex(Math.round(255*this.a).toString(16))),t},e.prototype.toRgbaString=function(e){void 0===e&&(e=3);var t=[Math.round(255*this.r),Math.round(255*this.g),Math.round(255*this.b)],r=Math.pow(10,e);return 1!==this.a?(t.push(Math.round(this.a*r)/r),"rgba("+t.join(", ")+")"):"rgb("+t.join(", ")+")"},e.prototype.toString=function(){return 1===this.a?this.toHexString():this.toRgbaString()},e.prototype.toHSB=function(){return e.RGBtoHSB(this.r,this.g,this.b)},e.RGBtoHSB=function(e,t,r){var n=Math.min(e,t,r),o=Math.max(e,t,r),i=NaN;if(n!==o){var a=o-n,s=(o-e)/a,l=(o-t)/a,u=(o-r)/a;i=e===o?u-l:t===o?2+s-u:4+l-s,(i/=6)<0&&(i+=1)}return[360*i,0!==o?(o-n)/o:0,o]},e.HSBtoRGB=function(e,t,r){isNaN(e)&&(e=0),e=(e%360+360)%360/360;var n=0,o=0,i=0;if(0===t)n=o=i=r;else{var a=6*(e-Math.floor(e)),s=a-Math.floor(a),l=r*(1-t),u=r*(1-t*s),c=r*(1-t*(1-s));switch(a>>0){case 0:n=r,o=c,i=l;break;case 1:n=u,o=r,i=l;break;case 2:n=l,o=r,i=c;break;case 3:n=l,o=u,i=r;break;case 4:n=c,o=l,i=r;break;case 5:n=r,o=l,i=u}}return[n,o,i]},e.prototype.derive=function(t,r,n,o){var i=e.RGBtoHSB(this.r,this.g,this.b),a=i[2];0==a&&n>1&&(a=.05);var s=((i[0]+t)%360+360)%360,l=Math.max(Math.min(i[1]*r,1),0);a=Math.max(Math.min(a*n,1),0);var u=Math.max(Math.min(this.a*o,1),0),c=e.HSBtoRGB(s,l,a);return c.push(u),e.fromArray(c)},e.prototype.brighter=function(){return this.derive(0,1,1/.7,1)},e.prototype.darker=function(){return this.derive(0,1,.7,1)},e.nameToHex=Object.freeze({aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"}),e}();function Fl(e,t){if("string"===typeof e)try{e=Ll.fromString(e)}catch(a){e=Ll.fromArray([0,0,0])}if("string"===typeof t)try{t=Ll.fromString(t)}catch(a){t=Ll.fromArray([0,0,0])}var r=Nl(e.r,t.r),n=Nl(e.g,t.g),o=Nl(e.b,t.b),i=Nl(e.a,t.a);return function(e){return Ll.fromArray([r(e),n(e),o(e),i(e)]).toRgbaString()}}function Gl(e,t){var r,n=typeof t;if(null==t||"boolean"===n)return r=t,function(){return r};if("number"===n)return Nl(e,t);if("string"===n)try{return Fl(e,t=Ll.fromString(t))}catch(o){}return t instanceof Ll?Fl(e,t):t instanceof Date?function(e,t){var r=new Date,n=+e,o=+t;return function(e){return r.setTime(n*(1-e)+o*e),r}}(e,t):Array.isArray(t)?function(e,t){var r,n=t?t.length:0,o=e?Math.min(n,e.length):0,i=new Array(o),a=new Array(n);for(r=0;r<o;++r)i[r]=Gl(e[r],t[r]);for(;r<n;++r)a[r]=t[r];return function(e){for(r=0;r<o;++r)a[r]=i[r](e);return a}}(e,t):"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?function(e,t){var r,n={},o={};for(r in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)r in e?n[r]=Gl(e[r],t[r]):o[r]=t[r];return function(e){for(r in n)o[r]=n[r](e);return o}}(e,t):Nl(e,t)}function Bl(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Wl(e,t,r,n,o){void 0===n&&(n=0),void 0===o&&(o=e.length);for(var i=function(e){return function(t,r){return Bl(e(t),r)}}(r);n<o;){var a=n+o>>>1;i(e[a],t)<0?n=a+1:o=a}return n}var Hl=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},jl=function(e){return e};function Vl(e){var t,r=e[0],n=e[e.length-1];return r>n&&(t=Hl([n,r],2),r=t[0],n=t[1]),function(e){return Math.max(r,Math.min(n,e))}}var zl=function(){function e(){this.unknown=void 0,this.clamper=Vl,this._clamp=jl,this._domain=[0,1],this._range=[0,1],this.transform=jl,this.untransform=jl,this._interpolate=Gl,this.rescale()}return Object.defineProperty(e.prototype,"clamp",{get:function(){return this._clamp!==jl},set:function(e){this._clamp=e?this.clamper(this.domain):jl},enumerable:!0,configurable:!0}),e.prototype.setDomain=function(e){this._domain=Array.prototype.map.call(e,(function(e){return+e})),this._clamp!==jl&&(this._clamp=this.clamper(this.domain)),this.rescale()},e.prototype.getDomain=function(){return this._domain.slice()},Object.defineProperty(e.prototype,"domain",{get:function(){return this.getDomain()},set:function(e){this.setDomain(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"range",{get:function(){return this._range.slice()},set:function(e){this._range=Array.prototype.slice.call(e),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"interpolate",{get:function(){return this._interpolate},set:function(e){this._interpolate=e,this.rescale()},enumerable:!0,configurable:!0}),e.prototype.rescale=function(){Math.min(this.domain.length,this.range.length)>2?this.piecewise=this.polymap:this.piecewise=this.bimap,this.output=void 0,this.input=void 0},e.prototype.normalize=function(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:(r=isNaN(t)?NaN:.5,function(){return r});var r},e.prototype.bimap=function(e,t,r){var n,o,i=e[0],a=e[1],s=t[0],l=t[1];return a<i?(n=this.normalize(a,i),o=r(l,s)):(n=this.normalize(i,a),o=r(s,l)),function(e){return o(n(e))}},e.prototype.polymap=function(e,t,r){var n=this,o=Math.min(e.length,t.length)-1;e[o]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());var i=Array.from({length:o},(function(t,r){return n.normalize(e[r],e[r+1])})),a=Array.from({length:o},(function(e,n){return r(t[n],t[n+1])}));return function(t){var r=function(e,t,r,n,o){for(void 0===n&&(n=0),void 0===o&&(o=e.length);n<o;){var i=n+o>>>1;r(e[i],t)>0?o=i:n=i+1}return n}(e,t,Bl,1,o)-1;return a[r](i[r](t))}},e.prototype.convert=function(e,t){if(e=+e,isNaN(e))return this.unknown;this.output||(this.output=this.piecewise(this.domain.map(this.transform),this.range,this.interpolate));var r=t?t(this.domain):this._clamp;return this.output(this.transform(r(e)))},e.prototype.invert=function(e){return this.input||(this.input=this.piecewise(this.range,this.domain.map(this.transform),Nl)),this._clamp(this.untransform(this.input(e)))},e}();var Ul,Yl,Xl,Kl,ql={"":function(e,t){var r=e.toPrecision(t);e:for(var n=r.length,o=1,i=-1,a=0;o<n;++o)switch(r[o]){case".":i=a=o;break;case"0":0===i&&(i=o),a=o;break;case"e":break e;default:i>0&&(i=0)}return i>0?r.slice(0,i)+r.slice(a+1):r},"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return String(e)},d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return ru(100*e,t)},r:ru,s:function(e,t){void 0===t&&(t=0);var r=nu(e,t);if(!r)return String(e);var n=r[0],o=r[1];Ul=3*Math.max(-8,Math.min(8,Math.floor(o/3)));var i=o-Ul+1,a=n.length;if(i===a)return n;if(i>a)return n+new Array(i-a+1).join("0");if(i>0)return n.slice(0,i)+"."+n.slice(i);var s=nu(e,Math.max(0,t+i-1));return"0."+new Array(1-i).join("0")+s[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}},$l=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"],Zl=function e(t){t instanceof e?(this.fill=t.fill,this.align=t.align,this.sign=t.sign,this.symbol=t.symbol,this.zero=t.zero,this.width=t.width,this.comma=t.comma,this.precision=t.precision,this.trim=t.trim,this.type=t.type,this.string=t.string):(this.fill=void 0===t.fill?" ":String(t.fill),this.align=void 0===t.align?">":String(t.align),this.sign=void 0===t.sign?"-":String(t.sign),this.symbol=void 0===t.symbol?"":String(t.symbol),this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":String(t.type),this.string=t.string)},Ql=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i,Jl=/(#\{(.*?)\})/g;function eu(e){if(e instanceof Zl)return new Zl(e);var t=!1,r=e.replace(Jl,(function(){return t||(e=arguments[2],t=!0),"#{}"})),n=Ql.exec(e);if(!n)throw new Error("Invalid format: "+e);return new Zl({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10],string:t?r:void 0})}function tu(e,t,r,n){var o,i=Tl(e,t,r),a=eu(void 0==n?",f":n);switch(a.type){case"s":var s=Math.max(Math.abs(e),Math.abs(t));return null!=a.precision||isNaN(o=function(e,t){var r=Math.floor(iu(t)/3);return r=Math.min(8,r),r=Math.max(-8,r),Math.max(0,3*r-iu(Math.abs(e)))}(i,s))||(a.precision=o),Kl(a,s);case"":case"e":case"g":case"p":case"r":null!=a.precision||isNaN(o=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,iu(t)-iu(e))+1}(i,Math.max(Math.abs(e),Math.abs(t))))||(a.precision=o-+("e"===a.type));break;case"f":case"%":null!=a.precision||isNaN(o=function(e){return Math.max(0,-iu(Math.abs(e)))}(i))||(a.precision=o-2*+("%"===a.type))}return Xl(a)}function ru(e,t){var r=nu(e,t);if(!r)return String(e);var n=r[0],o=r[1];return o<0?"0."+new Array(-o).join("0")+n:n.length>o+1?n.slice(0,o+1)+"."+n.slice(o+1):n+new Array(o-n.length+2).join("0")}function nu(e,t){var r=t?e.toExponential(t-1):e.toExponential(),n=r.indexOf("e");if(!(n<0)){var o=r.slice(0,n);return[o.length>1?o[0]+o.slice(2):o,+r.slice(n+1)]}}function ou(e){return e}function iu(e){var t=nu(Math.abs(e));return t?t[1]:NaN}!function(e){Yl=function(e){var t=void 0===e.grouping||void 0===e.thousands?ou:(u=Array.prototype.map.call(e.grouping,Number),c=String(e.thousands),function(e,t){for(var r=[],n=e.length,o=0,i=u[0],a=0;n>0&&i>0&&(a+i+1>t&&(i=Math.max(1,t-a)),r.push(e.substring(n-=i,n+i)),!((a+=i+1)>t));)i=u[o=(o+1)%u.length];return r.reverse().join(c)}),r=void 0===e.currency?"":String(e.currency[0]),n=void 0===e.currency?"":String(e.currency[1]),o=void 0===e.decimal?".":String(e.decimal),i=void 0===e.numerals?ou:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(Array.prototype.map.call(e.numerals,String)),a=void 0===e.percent?"%":String(e.percent),s=void 0===e.minus?"\u2212":String(e.minus),l=void 0===e.nan?"NaN":String(e.nan);var u,c;function p(e){var u=eu(e),c=u.fill,p=u.align,d=u.sign,h=u.symbol,f=u.zero,g=u.width,y=u.comma,v=u.precision,m=u.trim,b=u.type;"n"===b?(y=!0,b="g"):ql[b]||(void 0===v&&(v=12),m=!0,b="g"),(f||"0"===c&&"="===p)&&(f=!0,c="0",p="=");var C="$"===h?r:"#"===h&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",w="$"===h?n:/[%p]/.test(b)?a:"",x=ql[b],S=/[defgprs%]/.test(b);function E(e){var r,n=C,a=w;if("c"===b)a=x(+e)+a,r="";else{var h=+e,E=e<0||1/h<0;if(r=isNaN(h)?l:x(Math.abs(h),v),m&&(r=function(e){e:for(var t=e.length,r=1,n=-1,o=0;r<t;++r)switch(e[r]){case".":n=o=r;break;case"0":0===n&&(n=r),o=r;break;default:if(!+e[r])break e;n>0&&(n=0)}return n>0?e.slice(0,n)+e.slice(o+1):e}(r)),E&&0===+r&&"+"!==d&&(E=!1),n=(E?"("===d?d:s:"-"===d||"("===d?"":d)+n,a=("s"===b?$l[8+Ul/3]:"")+a+(E&&"("===d?")":""),S)for(var O=0,_=r.length;O<_;O++){var P=r.charCodeAt(O);if(48>P||P>57){a=(46===P?o+r.slice(O+1):r.slice(O))+a,r=r.slice(0,O);break}}}y&&!f&&(r=t(r,1/0));var R=n.length+r.length+a.length,A=R<g?new Array(g-R+1).join(c):"";switch(y&&f&&(r=t(A+r,A.length?g-a.length:1/0),A=""),p){case"<":r=n+r+a+A;break;case"=":r=n+A+r+a;break;case"^":r=A.slice(0,R=A.length>>1)+n+r+a+A.slice(R);break;default:r=A+n+r+a}var T=u.string;return T?T.replace(Jl,(function(){return i(r)})):i(r)}return v=void 0===v?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v)),E}function d(e,t){var r=eu(e);r.type="f";var n=p(r),o=3*Math.max(-8,Math.min(8,Math.floor(iu(t)/3))),i=Math.pow(10,-o),a=$l[8+o/3];return function(e){return n(i*+e)+a}}return{format:p,formatPrefix:d}}(e),Xl=Yl.format,Kl=Yl.formatPrefix}({thousands:",",grouping:[3],currency:["$",""]});var au=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),su=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="linear",t}return au(t,e),t.prototype.ticks=function(e){void 0===e&&(e=10);var t=this._domain;return _l(t[0],t[t.length-1],e)},t.prototype.nice=function(e){void 0===e&&(e=10);var t,r=this.domain,n=0,o=r.length-1,i=r[n],a=r[o];a<i&&(t=i,i=a,a=t,t=n,n=o,o=t),(t=Dl(i,a,e))>0?t=Dl(i=Math.floor(i/t)*t,a=Math.ceil(a/t)*t,e):t<0&&(t=Dl(i=Math.ceil(i*t)/t,a=Math.floor(a*t)/t,e)),t>0?(r[n]=Math.floor(i/t)*t,r[o]=Math.ceil(a/t)*t,this.domain=r):t<0&&(r[n]=Math.ceil(i*t)/t,r[o]=Math.floor(a*t)/t,this.domain=r)},t.prototype.tickFormat=function(e,t){var r=this.domain;return tu(r[0],r[r.length-1],void 0==e?10:e,t)},t}(zl),lu=function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function uu(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(t(n,r,e))return n}}function cu(e){return e}function pu(e,t,r){for(var n,o,i,a=r||cu,s=e.length,l=-1;++l<s;)if(t(n=e[l]))for(o=i=n;++l<s;)t(n=e[l])&&(o>n&&(o=n),i<n&&(i=n));return void 0===o||void 0===i?void 0:[a(o),a(i)]}function du(e){return"number"===typeof e&&Number.isFinite(e)}function hu(e){return du(e)||function(e){return!!e&&e.hasOwnProperty("valueOf")&&du(e.valueOf())}(e)}function fu(e){return"string"===typeof e}function gu(e){return fu(e)||function(e){return!!e&&e.hasOwnProperty("toString")&&fu(e.toString())}(e)}function yu(e){return hu(e)||function(e){return e instanceof Date&&!isNaN(+e)}(e)}var vu=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),mu=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isContainerNode=!0,t._opacity=1,t}return vu(t,e),Object.defineProperty(t.prototype,"opacity",{get:function(){return this._opacity},set:function(e){e=Math.min(1,Math.max(0,e)),this._opacity!==e&&(this._opacity=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.containsPoint=function(e,t){return!0},t.prototype.computeBBox=function(){var e=1/0,r=-1/0,n=1/0,o=-1/0;return this.dirtyTransform&&this.computeTransformMatrix(),this.children.forEach((function(i){if(i.visible){var a=i.computeBBox();if(a){if(!(i instanceof t)){i.dirtyTransform&&i.computeTransformMatrix();for(var s=nl.flyweight(i.matrix),l=i.parent;l;)s.preMultiplySelf(l.matrix),l=l.parent;s.transformBBox(a,0,a)}var u=a.x,c=a.y;u<e&&(e=u),c<n&&(n=c),u+a.width>r&&(r=u+a.width),c+a.height>o&&(o=c+a.height)}}})),new tl(e,n,r-e,o-n)},t.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var t=this.children,r=t.length;e.globalAlpha*=this.opacity,this.dirtyZIndex&&(this.dirtyZIndex=!1,t.sort((function(e,t){return e.zIndex-t.zIndex})));for(var n=0;n<r;n++){var o=t[n];o.visible&&(e.save(),o.render(e),e.restore())}},t.className="Group",t}(sl),bu=function(){function e(e,t){this.next=null,this.scene=e.scene,this.parent=e,this.datum=t}return e.prototype.appendChild=function(e){if(null===this.next)return this.parent.insertBefore(e,null);if(!sl.isNode(this.next))throw new Error(this.next+" is not a Node.");return this.parent.insertBefore(e,this.next)},e.prototype.insertBefore=function(e,t){return this.parent.insertBefore(e,t)},e}(),Cu=function(){function e(e,t){this.groups=e,this.parents=t}return e.select=function(t){return new e([["function"===typeof t?t():t]],[void 0])},e.selectAll=function(t){return new e([null==t?[]:t],[void 0])},e.prototype.append=function(e){return this.select((function(t){return t.appendChild(new e)}))},e.prototype.appendFn=function(e){return this.select((function(t,r,n,o){return t.appendChild(e(t,r,n,o))}))},e.prototype.select=function(t){for(var r=this.groups,n=r.length,o=[],i=0;i<n;i++)for(var a=r[i],s=a.length,l=o[i]=new Array(s),u=0;u<s;u++){var c=a[u];if(c){var p=t(c,c.datum,u,a);p&&(p.datum=c.datum),l[u]=p}}return new e(o,this.parents)},e.prototype.selectByClass=function(e){return this.select((function(t){if(sl.isNode(t))for(var r=t.children,n=r.length,o=0;o<n;o++){var i=r[o];if(i instanceof e)return i}}))},e.prototype.selectByTag=function(e){return this.select((function(t){if(sl.isNode(t))for(var r=t.children,n=r.length,o=0;o<n;o++){var i=r[o];if(i.tag===e)return i}}))},e.prototype.selectAllByClass=function(e){return this.selectAll((function(t){var r=[];if(sl.isNode(t))for(var n=t.children,o=n.length,i=0;i<o;i++){var a=n[i];a instanceof e&&r.push(a)}return r}))},e.prototype.selectAllByTag=function(e){return this.selectAll((function(t){var r=[];if(sl.isNode(t))for(var n=t.children,o=n.length,i=0;i<o;i++){var a=n[i];a.tag===e&&r.push(a)}return r}))},e.prototype.selectNone=function(){return[]},e.prototype.selectAll=function(t){t||(t=this.selectNone);for(var r=[],n=[],o=this.groups,i=o.length,a=0;a<i;a++)for(var s=o[a],l=s.length,u=0;u<l;u++){var c=s[u];c&&(r.push(t(c,c.datum,u,s)),n.push(c))}return new e(r,n)},e.prototype.each=function(e){for(var t=this.groups,r=t.length,n=0;n<r;n++)for(var o=t[n],i=o.length,a=0;a<i;a++){var s=o[a];s&&e(s,s.datum,a,o)}return this},e.prototype.remove=function(){return this.each((function(e){if(sl.isNode(e)){var t=e.parent;t&&t.removeChild(e)}}))},e.prototype.merge=function(t){for(var r=this.groups,n=t.groups,o=r.length,i=n.length,a=Math.min(o,i),s=new Array(o),l=0;l<a;l++)for(var u=r[l],c=n[l],p=u.length,d=s[l]=new Array(p),h=0;h<p;h++){var f=u[h]||c[h];d[h]=f||void 0}for(;l<o;l++)s[l]=r[l];return new e(s,this.parents)},e.prototype.node=function(){for(var e=this.groups,t=e.length,r=0;r<t;r++)for(var n=e[r],o=n.length,i=0;i<o;i++){var a=n[i];if(a)return a}return null},e.prototype.attr=function(e,t){return this.each((function(r){r[e]=t})),this},e.prototype.attrFn=function(e,t){return this.each((function(r,n,o,i){r[e]=t(r,n,o,i)})),this},e.prototype.call=function(e){return e(this),this},Object.defineProperty(e.prototype,"size",{get:function(){var e=0;return this.each((function(){return e++})),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){var e=[];return this.each((function(t,r){return e.push(r)})),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"enter",{get:function(){return new e(this.enterGroups?this.enterGroups:[[]],this.parents)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"exit",{get:function(){return new e(this.exitGroups?this.exitGroups:[[]],this.parents)},enumerable:!0,configurable:!0}),e.prototype.setDatum=function(e){return this.each((function(t){t.datum=e}))},Object.defineProperty(e.prototype,"datum",{get:function(){var e=this.node();return e?e.datum:null},enumerable:!0,configurable:!0}),e.prototype.setData=function(t,r){if("function"!==typeof t){var n=t;t=function(){return n}}for(var o=this.groups,i=this.parents,a=o.length,s=new Array(a),l=new Array(a),u=new Array(a),c=0;c<a;c++){var p=o[c],d=i[c];if(!d)throw new Error("Group #"+c+" has no parent: "+p);var h=p.length,f=t(d,d.datum,c,i),g=f.length,y=l[c]=new Array(g),v=s[c]=new Array(g),m=u[c]=new Array(h);r?this.bindKey(d,p,y,v,m,f,r):this.bindIndex(d,p,y,v,m,f);for(var b=0,C=0;b<g;b++){var w=y[b];if(w){b>=C&&(C=b+1);for(var x=void 0;!(x=v[C])&&C<g;)C++;w.next=x||null}}}var S=new e(s,i);return S.enterGroups=l,S.exitGroups=u,S},e.prototype.bindIndex=function(e,t,r,n,o,i){for(var a=t.length,s=i.length,l=0;l<s;l++){(u=t[l])?(u.datum=i[l],n[l]=u):r[l]=new bu(e,i[l])}for(;l<a;l++){var u;(u=t[l])&&(o[l]=u)}},e.prototype.bindKey=function(t,r,n,o,i,a,s){for(var l=r.length,u=a.length,c=new Array(l),p={},d=0;d<l;d++){if(f=r[d])(h=c[d]=e.keyPrefix+s(f,f.datum,d,r))in p?i[d]=f:p[h]=f}for(d=0;d<u;d++){var h;(f=p[h=e.keyPrefix+s(t,a[d],d,a)])?(o[d]=f,f.datum=a[d],p[h]=void 0):n[d]=new bu(t,a[d])}for(d=0;d<l;d++){var f;(f=r[d])&&p[c[d]]===f&&(i[d]=f)}},e.keyPrefix="$",e}(),wu=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),xu=function(e){function t(){var t=e.call(this)||this;return t._x1=0,t._y1=0,t._x2=0,t._y2=0,t.restoreOwnStyles(),t}return wu(t,e),Object.defineProperty(t.prototype,"x1",{get:function(){return this._x1},set:function(e){this._x1!==e&&(this._x1=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y1",{get:function(){return this._y1},set:function(e){this._y1!==e&&(this._y1=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x2",{get:function(){return this._x2},set:function(e){this._x2!==e&&(this._x2=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y2",{get:function(){return this._y2},set:function(e){this._y2!==e&&(this._y2=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.computeBBox=function(){return new tl(this.x1,this.y1,this.x2-this.x1,this.y2-this.y1)},t.prototype.isPointInPath=function(e,t){return!1},t.prototype.isPointInStroke=function(e,t){return!1},t.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var t=this.x1,r=this.y1,n=this.x2,o=this.y2;if(t===n){var i=Math.round(t)+Math.floor(this.strokeWidth)%2/2;t=i,n=i}else if(r===o){var a=Math.round(r)+Math.floor(this.strokeWidth)%2/2;r=a,o=a}e.beginPath(),e.moveTo(t,r),e.lineTo(n,o),this.fillStroke(e),this.dirty=!1},t.className="Line",t.defaultStyles=ll(vl.defaultStyles,{fill:void 0,strokeWidth:1}),t}(vl),Su=Math.sign?Math.sign:function(e){return 0===(e=+e)||isNaN(e)?e:e>0?1:-1};function Eu(e,t,r,n){if(0===e)return function(e,t,r){if(0===e)return function(e,t){var r=-t/e;return 0!==e&&r>=0&&r<=1?[r]:[]}(t,r);var n=t*t-4*e*r,o=[];if(0===n){var i=-t/(2*e);i>=0&&i<=1&&o.push(i)}else if(n>0){var a=Math.sqrt(n),s=(-t-a)/(2*e),l=(-t+a)/(2*e);s>=0&&s<=1&&o.push(s),l>=0&&l<=1&&o.push(l)}return o}(t,r,n);var o=t/e,i=r/e,a=(3*i-o*o)/9,s=(9*o*i-27*(n/e)-2*o*o*o)/54,l=a*a*a+s*s,u=1/3,c=[];if(l>=0){var p=Math.sqrt(l),d=Su(s+p)*Math.pow(Math.abs(s+p),u),h=Su(s-p)*Math.pow(Math.abs(s-p),u),f=Math.abs(Math.sqrt(3)*(d-h)/2),g=-u*o+(d+h);if(g>=0&&g<=1&&c.push(g),0===f){var y=-u*o-(d+h)/2;y>=0&&y<=1&&c.push(y)}}else{var v=Math.acos(s/Math.sqrt(-a*a*a)),m=u*o,b=2*Math.sqrt(-a),C=b*Math.cos(u*v)-m,w=b*Math.cos(u*(v+2*Math.PI))-m,x=b*Math.cos(u*(v+4*Math.PI))-m;C>=0&&C<=1&&c.push(C),w>=0&&w<=1&&c.push(w),x>=0&&x<=1&&c.push(x)}return c}function Ou(e,t,r,n,o,i,a,s){var l=(r-e)*(s-i)-(n-t)*(a-o);if(0===l)return null;var u=((a-o)*(t-i)-(e-o)*(s-i))/l,c=((r-e)*(t-i)-(n-t)*(e-o))/l;return u>=0&&u<=1&&c>=0&&c<=1?{x:e+u*(r-e),y:t+u*(n-t)}:null}function _u(e,t,r,n,o,i,a,s,l,u,c,p){for(var d=[],h=u-p,f=c-l,g=l*(p-u)-u*(c-l),y=Pu(e,r,o,a),v=Pu(t,n,i,s),m=Eu(h*y[0]+f*v[0],h*y[1]+f*v[1],h*y[2]+f*v[2],h*y[3]+f*v[3]+g),b=0;b<m.length;b++){var C=m[b],w=C*C,x=C*w,S=y[0]*x+y[1]*w+y[2]*C+y[3],E=v[0]*x+v[1]*w+v[2]*C+v[3],O=void 0;(O=l!==c?(S-l)/(c-l):(E-u)/(p-u))>=0&&O<=1&&d.push({x:S,y:E})}return d}function Pu(e,t,r,n){return[3*t-e-3*r+n,3*e-6*t+3*r,-3*e+3*t,e]}var Ru=function(){function e(){this.commands=[],this.params=[],this._closedPath=!1}return e.prototype.draw=function(e){var t=this.commands,r=this.params,n=t.length,o=0;e.beginPath();for(var i=0;i<n;i++)switch(t[i]){case"M":e.moveTo(r[o++],r[o++]);break;case"L":e.lineTo(r[o++],r[o++]);break;case"C":e.bezierCurveTo(r[o++],r[o++],r[o++],r[o++],r[o++],r[o++]);break;case"Z":e.closePath()}},e.prototype.moveTo=function(e,t){this.xy?(this.xy[0]=e,this.xy[1]=t):this.xy=[e,t],this.commands.push("M"),this.params.push(e,t)},e.prototype.lineTo=function(e,t){this.xy?(this.commands.push("L"),this.params.push(e,t),this.xy[0]=e,this.xy[1]=t):this.moveTo(e,t)},e.prototype.rect=function(e,t,r,n){this.moveTo(e,t),this.lineTo(e+r,t),this.lineTo(e+r,t+n),this.lineTo(e,t+n),this.closePath()},e.prototype.arcTo=function(e,t,r,n,o,i,a){var s=this.xy;if(s){e<0&&(e=-e),t<0&&(t=-t);var l=s[0],u=s[1],c=(l-i)/2,p=(u-a)/2,d=Math.sin(r),h=Math.cos(r),f=h*c+d*p,g=-d*c+h*p,y=f/e,v=g/t,m=y*y+v*v,b=(l+i)/2,C=(u+a)/2,w=0,x=0;m>=1?(e*=m=Math.sqrt(m),t*=m):(m=Math.sqrt(1/m-1),n===o&&(m=-m),b+=h*(w=m*e*v)-d*(x=-m*t*y),C+=d*w+h*x);var S=Math.atan2((g-x)/t,(f-w)/e),E=Math.atan2((-g-x)/t,(-f-w)/e)-S;this.cubicArc(b,C,e,t,r,S,S+E,1-o)}},e.cubicArc=function(e,t,r,n,o,i,a,s,l,u){if(u){var c=s;s=l,l=c}var p=t.length,d=.5522847498307935,h=Math.sin(s),f=Math.cos(s),g=Math.sin(a),y=Math.cos(a),v=Math.PI/2,m=y*f*o-g*h*i,b=g*f*o+y*h*i,C=-y*h*o-g*f*i,w=-g*h*o+y*f*i;for((l-=s)<0&&(l+=2*Math.PI),e.push("M"),t.push(m+r,b+n);l>=v;){l-=v,e.push("C");var x=C+r;t.push(m+C*d+r,b+w*d+n,m*d+C+r,b*d+w+n,Math.abs(x)<1e-8?0:x,w+n);c=m;m=C,C=-c,c=b,b=w,w=-c}if(l){var S=4/3*Math.tan(l/4),E=Math.sin(l),O=Math.cos(l),_=O+S*E,P=E-S*O;e.push("C");x=m*O+C*E+r;t.push(m+C*S+r,b+w*S+n,m*_+C*P+r,b*_+w*P+n,Math.abs(x)<1e-8?0:x,b*O+w*E+n)}if(u)for(var R=p,A=t.length-2;R<A;R+=2,A-=2){c=t[R];t[R]=t[A],t[A]=c,c=t[R+1],t[R+1]=t[A+1],t[A+1]=c}},e.prototype.cubicArc=function(t,r,n,o,i,a,s,l){var u=this.commands,c=this.params,p=u.length;e.cubicArc(u,c,t,r,n,o,i,a,s,l);var d=c[c.length-2],h=c[c.length-1];this.xy?(u[p]="L",this.xy[0]=d,this.xy[1]=h):this.xy=[d,h]},e.prototype.deCasteljau=function(e,t){var r=e.length;if(r<2||r%2===1)throw new Error("Fewer than two points or not an even count.");if(2===r||0===t)return e.slice(0,2);if(1===t)return e.slice(-2);for(var n=[],o=r-2,i=0;i<o;i+=2)n.push((1-t)*e[i]+t*e[i+2],(1-t)*e[i+1]+t*e[i+3]);return this.deCasteljau(n,t)},e.prototype.approximateCurve=function(e,t){var r=this.deCasteljau(e,0);this.moveTo(r[0],r[1]);for(var n=1/t,o=n;o<=1;o+=n){var i=this.deCasteljau(e,o);this.lineTo(i[0],i[1])}},e.prototype.quadraticCurveTo=function(e,t,r,n){this.xy||this.moveTo(e,t),this.cubicCurveTo((this.xy[0]+2*e)/3,(this.xy[1]+2*t)/3,(2*e+r)/3,(2*t+n)/3,r,n)},e.prototype.cubicCurveTo=function(e,t,r,n,o,i){this.xy||this.moveTo(e,t),this.commands.push("C"),this.params.push(e,t,r,n,o,i),this.xy[0]=o,this.xy[1]=i},Object.defineProperty(e.prototype,"closedPath",{get:function(){return this._closedPath},enumerable:!0,configurable:!0}),e.prototype.closePath=function(){this.xy&&(this.xy=void 0,this.commands.push("Z"),this._closedPath=!0)},e.prototype.clear=function(){this.commands.length=0,this.params.length=0,this.xy=void 0,this._closedPath=!1},e.prototype.isPointInPath=function(e,t){for(var r=this.commands,n=this.params,o=r.length,i=-1e4,a=-1e4,s=NaN,l=NaN,u=0,c=0,p=0,d=0,h=0;d<o;d++)switch(r[d]){case"M":isNaN(s)||Ou(s,l,u,c,i,a,e,t)&&p++,s=u=n[h++],l=c=n[h++];break;case"L":Ou(u,c,u=n[h++],c=n[h++],i,a,e,t)&&p++;break;case"C":p+=_u(u,c,n[h++],n[h++],n[h++],n[h++],u=n[h++],c=n[h++],i,a,e,t).length;break;case"Z":isNaN(s)||Ou(s,l,u,c,i,a,e,t)&&p++}return p%2===1},e.fromString=function(t){var r=new e;return r.setFromString(t),r},e.parseSvgPath=function(t){return t.trim().split(e.splitCommandsRe).map((function(t){var r=t.match(e.matchParamsRe);return{command:t.substr(0,1),params:r?r.map(parseFloat):[]}}))},e.prettifySvgPath=function(t){return e.parseSvgPath(t).map((function(e){return e.command+e.params.join(",")})).join("\n")},e.prototype.setFromString=function(t){var r,n,o,i,a,s=this;function l(){a.match(e.quadraticCommandRe)||(o=r,i=n)}function u(){a.match(e.cubicCommandRe)||(o=r,i=n)}this.clear(),e.parseSvgPath(t).forEach((function(e){var t=e.params,c=t.length,p=0;switch(e.command){case"M":for(s.moveTo(r=t[p++],n=t[p++]);p<c;)s.lineTo(r=t[p++],n=t[p++]);break;case"m":for(s.moveTo(r+=t[p++],n+=t[p++]);p<c;)s.lineTo(r+=t[p++],n+=t[p++]);break;case"L":for(;p<c;)s.lineTo(r=t[p++],n=t[p++]);break;case"l":for(;p<c;)s.lineTo(r+=t[p++],n+=t[p++]);break;case"C":for(;p<c;)s.cubicCurveTo(t[p++],t[p++],o=t[p++],i=t[p++],r=t[p++],n=t[p++]);break;case"c":for(;p<c;)s.cubicCurveTo(r+t[p++],n+t[p++],o=r+t[p++],i=n+t[p++],r+=t[p++],n+=t[p++]);break;case"S":for(u();p<c;)s.cubicCurveTo(r+r-o,n+n-i,o=t[p++],i=t[p++],r=t[p++],n=t[p++]);break;case"s":for(u();p<c;)s.cubicCurveTo(r+r-o,n+n-i,o=r+t[p++],i=n+t[p++],r+=t[p++],n+=t[p++]);break;case"Q":for(;p<c;)s.quadraticCurveTo(o=t[p++],i=t[p++],r=t[p++],n=t[p++]);break;case"q":for(;p<c;)s.quadraticCurveTo(o=r+t[p++],i=n+t[p++],r+=t[p++],n+=t[p++]);break;case"T":for(l();p<c;)s.quadraticCurveTo(o=r+r-o,i=n+n-i,r=t[p++],n=t[p++]);break;case"t":for(l();p<c;)s.quadraticCurveTo(o=r+r-o,i=n+n-i,r+=t[p++],n+=t[p++]);break;case"A":for(;p<c;)s.arcTo(t[p++],t[p++],t[p++]*Math.PI/180,t[p++],t[p++],r=t[p++],n=t[p++]);break;case"a":for(;p<c;)s.arcTo(t[p++],t[p++],t[p++]*Math.PI/180,t[p++],t[p++],r+=t[p++],n+=t[p++]);break;case"Z":case"z":s.closePath();break;case"H":for(;p<c;)s.lineTo(r=t[p++],n);break;case"h":for(;p<c;)s.lineTo(r+=t[p++],n);break;case"V":for(;p<c;)s.lineTo(r,n=t[p++]);break;case"v":for(;p<c;)s.lineTo(r,n+=t[p++])}a=e.command}))},e.prototype.toString=function(){for(var e=this.commands,t=this.params,r=e.length,n=[],o=0,i=0;o<r;o++)switch(e[o]){case"M":n.push("M"+t[i++]+","+t[i++]);break;case"L":n.push("L"+t[i++]+","+t[i++]);break;case"C":n.push("C"+t[i++]+","+t[i++]+" "+t[i++]+","+t[i++]+" "+t[i++]+","+t[i++]);break;case"Z":n.push("Z")}return n.join("")},e.prototype.toPrettyString=function(){return e.prettifySvgPath(this.toString())},e.prototype.toSvg=function(){return e.xmlDeclaration+'\n<svg width="100%" height="100%" viewBox="0 0 50 50" version="1.1" xmlns="'+e.xmlns+'">\n    <path d="'+this.toString()+'" style="fill:none;stroke:#000;stroke-width:0.5;"/>\n</svg>'},e.prototype.toDebugSvg=function(){var t=e.prettifySvgPath(this.toString());return e.xmlDeclaration+'\n<svg width="100%" height="100%" viewBox="0 0 100 100" version="1.1" xmlns="'+e.xmlns+'">\n    <path d="'+t+'" style="fill:none;stroke:#000;stroke-width:0.5;"/>\n</svg>'},e.prototype.toCubicPaths=function(){var e,t,r,n,o,i=[],a=this.params,s=0;return this.commands.forEach((function(l){switch(l){case"M":e=[t=n=a[s++],r=o=a[s++]],i.push(e);break;case"L":var u=a[s++],c=a[s++];e.push((n+n+u)/3,(o+o+c)/3,(n+u+u)/3,(o+c+c)/3,n=u,o=c);break;case"C":e.push(a[s++],a[s++],a[s++],a[s++],n=a[s++],o=a[s++]);break;case"Z":e.push((n+n+t)/3,(o+o+r)/3,(n+t+t)/3,(o+r+r)/3,n=t,o=r)}})),i},e.cubicPathToString=function(e){var t=e.length;if(!(t%2===0&&(t/2-1)/2>=1))throw new Error("Invalid path.");return"M"+e.slice(0,2).join(",")+"C"+e.slice(2).join(",")},e.splitCommandsRe=/(?=[AaCcHhLlMmQqSsTtVvZz])/g,e.matchParamsRe=/-?[0-9]*\.?\d+/g,e.quadraticCommandRe=/[QqTt]/,e.cubicCommandRe=/[CcSs]/,e.xmlDeclaration='<?xml version="1.0" encoding="UTF-8"?>',e.xmlns="http://www.w3.org/2000/svg",e}(),Au=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Tu=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.path=new Ru,t._dirtyPath=!0,t._svgPath="",t}return Au(t,e),Object.defineProperty(t.prototype,"dirtyPath",{get:function(){return this._dirtyPath},set:function(e){this._dirtyPath!==e&&(this._dirtyPath=e,e&&(this.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"svgPath",{get:function(){return this._svgPath},set:function(e){this._svgPath!==e&&(this._svgPath=e,this.path.setFromString(e),this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.isPointInPath=function(e,t){var r=this.transformPoint(e,t);return this.path.closedPath&&this.path.isPointInPath(r.x,r.y)},t.prototype.isPointInStroke=function(e,t){return!1},t.prototype.updatePath=function(){},t.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e),this.dirtyPath&&(this.updatePath(),this.dirtyPath=!1),this.path.draw(e),this.fillStroke(e),this.dirty=!1},t.className="Path",t}(vl),Du=2*Math.PI;function Mu(e){return e%=Du,e+=Du,e%=Du}function ku(e){return e/180*Math.PI}function Nu(e,t,r){return void 0===r&&(r=1e-10),Math.abs(e-t)<r}function Iu(e,t){void 0===t&&(t=2);var r=Math.floor(Math.log(Math.abs(e))/Math.LN10);return r>=0||!isFinite(r)?e.toFixed(t):e.toFixed(Math.abs(r)-1+t)}var Lu,Fu=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();!function(e){e[e.Open=0]="Open",e[e.Chord=1]="Chord",e[e.Round=2]="Round"}(Lu||(Lu={}));var Gu=function(e){function t(){var t=e.call(this)||this;return t._centerX=0,t._centerY=0,t._radiusX=10,t._radiusY=10,t._startAngle=0,t._endAngle=2*Math.PI,t._counterClockwise=!1,t._type=Lu.Open,t.restoreOwnStyles(),t}return Fu(t,e),Object.defineProperty(t.prototype,"centerX",{get:function(){return this._centerX},set:function(e){this._centerX!==e&&(this._centerX=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"centerY",{get:function(){return this._centerY},set:function(e){this._centerY!==e&&(this._centerY=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radiusX",{get:function(){return this._radiusX},set:function(e){this._radiusX!==e&&(this._radiusX=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radiusY",{get:function(){return this._radiusY},set:function(e){this._radiusY!==e&&(this._radiusY=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startAngle",{get:function(){return this._startAngle},set:function(e){this._startAngle!==e&&(this._startAngle=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endAngle",{get:function(){return this._endAngle},set:function(e){this._endAngle!==e&&(this._endAngle=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fullPie",{get:function(){return Nu(Mu(this.startAngle),Mu(this.endAngle))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"counterClockwise",{get:function(){return this._counterClockwise},set:function(e){this._counterClockwise!==e&&(this._counterClockwise=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this._type},set:function(e){this._type!==e&&(this._type=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),t.prototype.updatePath=function(){var e=this.path;e.clear(),e.cubicArc(this.centerX,this.centerY,this.radiusX,this.radiusY,0,this.startAngle,this.endAngle,this.counterClockwise?1:0),this.type===Lu.Chord?e.closePath():this.type!==Lu.Round||this.fullPie||(e.lineTo(this.centerX,this.centerY),e.closePath())},t.prototype.computeBBox=function(){return new tl(this.centerX-this.radiusX,this.centerY-this.radiusY,2*this.radiusX,2*this.radiusY)},t.prototype.isPointInPath=function(e,t){var r=this.transformPoint(e,t),n=this.computeBBox();return this.type!==Lu.Open&&n.containsPoint(r.x,r.y)&&this.path.isPointInPath(r.x,r.y)},t.className="Arc",t.defaultStyles=ll(vl.defaultStyles,{lineWidth:1,fillStyle:null}),t}(Tu),Bu={};function Wu(e,t){Bu[t]||(e(),Bu[t]=!0)}var Hu,ju=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},Vu=function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};!function(e){e[e.Tick=0]="Tick",e[e.GridLine=1]="GridLine"}(Hu||(Hu={}));var zu,Uu,Yu=function(){this.width=1,this.size=6,this.color="rgba(195, 195, 195, 1)",this.count=void 0},Xu=function(){function e(){this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif",this.padding=5,this.color="rgba(87, 87, 87, 1)",this.rotation=void 0,this.autoRotate=void 0,this.autoRotateAngle=335,this.mirrored=!1,this.parallel=!1,this.formatter=void 0,this.onFormatChange=void 0}return Object.defineProperty(e.prototype,"format",{get:function(){return this._format},set:function(e){this._format!==e&&(this._format=e,this.onFormatChange&&this.onFormatChange(e))},enumerable:!0,configurable:!0}),e}(),Ku=function(){function e(e){this.id=ol(this),this.lineNode=new xu,this.group=new mu,this.line={width:1,color:"rgba(195, 195, 195, 1)"},this.tick=new Yu,this.label=new Xu,this.translation={x:0,y:0},this.rotation=0,this._labelAutoRotated=!1,this._calculatedTickCount=void 0,this.requestedRange=[0,1],this._visibleRange=[0,1],this._title=void 0,this._gridLength=0,this.gridStyle=[{stroke:"rgba(219, 219, 219, 1)",lineDash:[4,2]}],this._radialGrid=!1,this.fractionDigits=0,this.thickness=0,this.scale=e,this.groupSelection=Cu.select(this.group).selectAll(),this.label.onFormatChange=this.onLabelFormatChange.bind(this),this.group.append(this.lineNode)}return Object.defineProperty(e.prototype,"scale",{get:function(){return this._scale},set:function(e){this._scale=e,this.requestedRange=e.range.slice(),this.onLabelFormatChange()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ticks",{get:function(){return this._ticks},set:function(e){this._ticks=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"labelAutoRotated",{get:function(){return this._labelAutoRotated},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"calculatedTickCount",{get:function(){var e;return null!==(e=this._calculatedTickCount)&&void 0!==e?e:this.tick.count},enumerable:!0,configurable:!0}),e.prototype.calculateTickCount=function(e){},e.prototype.getMeta=function(){},e.prototype.updateRange=function(){var e=this,t=e.requestedRange,r=e.visibleRange,n=e.scale,o=(t[1]-t[0])/(r[1]-r[0]),i=o*r[0],a=t[0]-i;n.range=[a,a+o]},e.prototype.inRange=function(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=0),0===this.inRangeEx(e,t,r)},e.prototype.inRangeEx=function(e,t,r){void 0===t&&(t=0),void 0===r&&(r=0);var n=this.range,o=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return e+t<o-r?-1:e>i+r?1:0},Object.defineProperty(e.prototype,"range",{get:function(){return this.requestedRange.slice()},set:function(e){this.requestedRange=e.slice(),this.updateRange()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visibleRange",{get:function(){return this._visibleRange.slice()},set:function(e){if(e&&2===e.length){var t=ju(e,2),r=t[0],n=t[1];r=Math.max(0,r),n=Math.min(1,n),r=Math.min(r,n),n=Math.max(r,n),this._visibleRange=[r,n],this.updateRange()}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"domain",{get:function(){return this.scale.domain.slice()},set:function(e){this.scale.domain=e.slice(),this.onLabelFormatChange(this.label.format)},enumerable:!0,configurable:!0}),e.prototype.onLabelFormatChange=function(e){if(e&&this.scale&&this.scale.tickFormat)try{this.labelFormatter=this.scale.tickFormat(this.calculatedTickCount,e)}catch(t){this.labelFormatter=void 0,Wu((function(){return console.warn("AG Charts - the axis label format string "+e+" is invalid. No formatting will be applied")}),"invalid axis label format string "+e)}else this.labelFormatter=void 0},Object.defineProperty(e.prototype,"title",{get:function(){return this._title},set:function(e){var t=this._title;t!==e&&(t&&this.group.removeChild(t.node),e&&(e.node.rotation=-Math.PI/2,this.group.appendChild(e.node)),this._title=e,this.positionTitle())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gridLength",{get:function(){return this._gridLength},set:function(e){(this._gridLength&&!e||!this._gridLength&&e)&&(this.groupSelection=this.groupSelection.remove().setData([])),this._gridLength=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"radialGrid",{get:function(){return this._radialGrid},set:function(e){this._radialGrid!==e&&(this._radialGrid=e,this.groupSelection=this.groupSelection.remove().setData([]))},enumerable:!0,configurable:!0}),e.prototype.update=function(){var e=this,t=this,r=t.group,n=t.scale,o=t.tick,i=t.label,a=t.gridStyle,s=t.requestedRange,l=Math.min(s[0],s[1]),u=Math.max(s[0],s[1]),c=ku(this.rotation),p=i.rotation?Mu(ku(i.rotation)):0,d=i.parallel,h=0;r.translationX=this.translation.x,r.translationY=this.translation.y,r.rotation=c;var f=(n.bandwidth||0)/2,g=i.mirrored?1:-1,y=Mu(c),v=!p&&y>=0&&y<=Math.PI?-1:1,m=Mu(c-Math.PI/2),b=!p&&m>=0&&m<=Math.PI?-1:1,C=this.ticks||n.ticks(this.calculatedTickCount),w=this.groupSelection.setData(C);w.exit.remove();var x=w.enter.append(mu);x.append(xu).each((function(e){return e.tag=Hu.Tick})),this.gridLength&&(this.radialGrid?x.append(Gu).each((function(e){return e.tag=Hu.GridLine})):x.append(xu).each((function(e){return e.tag=Hu.GridLine}))),x.append(Cl);var S=w.merge(x),E=!1;if(S.attrFn("translationY",(function(e,t){return Math.round(n.convert(t)+f)})).attrFn("visible",(function(e){var t=Math.floor(l),r=Math.ceil(u),n=t!==r&&e.translationY>=t&&e.translationY<=r;return E=n||E,n})),this.group.visible=E,E){this.fractionDigits=C.fractionDigits>=0?C.fractionDigits:0;var O=new Map,_=0,P=!1,R=!1,A=u-l,T=S.selectByClass(Cl).each((function(t,r,o){t.fontStyle=i.fontStyle,t.fontWeight=i.fontWeight,t.fontSize=i.fontSize,t.fontFamily=i.fontFamily,t.fill=i.color,t.text=e.formatTickDatum(r,o),t.visible=t.parent.visible,!0===t.visible&&(O.set(o,t.computeBBox()),""!==t.text&&void 0!=t.text&&(_++,0===o&&t.translationY===n.range[0]?P=!0:o===C.length-1&&t.translationY===n.range[1]&&(R=!0)))})),D=g*(o.size+i.padding),M=A/_,k=function(e,t){var r,n,o=0,i=!1,a=e.size-1;try{for(var s=Vu(e.entries()),l=s.next();!l.done;l=s.next()){var u=ju(l.value,2),c=u[0],p=u[1],d=0===c&&P||c===a&&R?2:1,h=t?p.width/d:p.height/d,f=h<=0?0:h+12;o+=f,f>M&&(i=!0)}}catch(g){r={error:g}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return{totalLength:o,rotate:i}},N=d,I=k(O,N),L=I.totalLength,F=I.rotate;this._labelAutoRotated=!1,void 0===i.rotation&&!0===i.autoRotate&&F&&(h=Mu(ku(i.autoRotateAngle)),this._labelAutoRotated=!0),(p||h)&&(N=d?p===Math.PI||h===Math.PI:p===Math.PI/2||p===Math.PI+Math.PI/2||h===Math.PI/2||h===Math.PI+Math.PI/2,L=k(O,N).totalLength);var G,B=d?v*Math.PI/2:-1===b?Math.PI:0,W=d&&!p?g*v===-1?"hanging":"bottom":"middle",H=p>0&&p<=Math.PI||h>0&&h<=Math.PI?-1:1,j=d?p||h?g*H===-1?"end":"start":"center":g*b===-1?"end":"start";if(T.each((function(e){""!==e.text&&void 0!=e.text?(e.textBaseline=W,e.textAlign=j,e.x=D,e.rotationCenterX=D,e.rotation=B+p+h):e.visible=!1})),L>A){var V=n instanceof zl,z=L/_,U=Math.floor(A/z),Y=U>2?Math.ceil(_/U):_,X=0;T.each((function(t,r,n){if(!0===t.visible){var o=!(!V||void 0!==e.tick.count)&&(0===n||n===_-1);t.visible=!(!o&&X%Y!==0),X++,t.visible||O.delete(n)}}))}if(S.selectByTag(Hu.Tick).each((function(e,t,r){e.strokeWidth=o.width,e.stroke=o.color,e.visible=O.has(r)})).attr("x1",g*o.size).attr("x2",0).attr("y1",0).attr("y2",0),this.gridLength&&a.length){var K=a.length,q=void 0;if(this.radialGrid){var $=(G=ku(this.gridLength),G%=Du,(G+=Du)!==Du&&(G%=Du),G);q=S.selectByTag(Hu.GridLine).each((function(e,t,r){var o=Math.round(n.convert(t)+f);e.centerX=0,e.centerY=n.range[0]-o,e.endAngle=$,e.radiusX=o,e.radiusY=o,e.visible=O.has(r)}))}else q=S.selectByTag(Hu.GridLine).each((function(t,r,o){t.x1=0,t.x2=-g*e.gridLength,t.y1=0,t.y2=0,t.visible=Math.abs(t.parent.translationY-n.range[0])>1&&O.has(o)}));q.each((function(e,t,r){var n=a[r%K];e.stroke=n.stroke,e.strokeWidth=o.width,e.lineDash=n.lineDash,e.fill=void 0}))}this.groupSelection=S;var Z=this.lineNode;Z.x1=0,Z.x2=0,Z.y1=s[0],Z.y2=s[1],Z.strokeWidth=this.line.width,Z.stroke=this.line.color,Z.visible=C.length>0,this.positionTitle()}else this.groupSelection=S},e.prototype.positionTitle=function(){var e=this.title,t=this.lineNode;if(e){var r=!1;if(e.enabled&&t.visible){r=!0;var n=this,o=n.label,i=n.rotation,a=n.requestedRange,s=o.mirrored?1:-1,l=Mu(i),u=e.padding.bottom,c=e.node,p=this.computeBBox({excludeTitle:!0}),d=-1===s&&l>Math.PI&&l<2*Math.PI?-1:1;c.rotation=d*s*Math.PI/2,c.x=d*s*(a[0]+a[1])/2,c.y=-1===s?d*(-u-p.width+Math.max(p.x+p.width,0)):-u-p.width-Math.min(p.x,0),c.textBaseline=1===d?"bottom":"top"}e.node.visible=r}},e.prototype.formatTickDatum=function(e,t){var r=this,n=r.label,o=r.labelFormatter,i=r.fractionDigits,a=this.getMeta();return n.formatter?n.formatter({value:i>=0?e:String(e),index:t,fractionDigits:i,formatter:o,axis:a}):o?o(e):"number"===typeof e&&i>=0?e.toFixed(i):String(e)},e.prototype.formatDatum=function(e){return String(e)},e.prototype.computeBBox=function(e){var t=this.title,r=this.lineNode,n=this.groupSelection.selectByClass(Cl),o=1/0,i=-1/0,a=1/0,s=-1/0;if(n.each((function(e){e.computeTransformMatrix();var t=nl.flyweight(e.matrix),r=e.parent;r.computeTransformMatrix(),t.preMultiplySelf(r.matrix);var n=e.computeBBox();if(n){var l=t.transformBBox(n);o=Math.min(o,l.x),i=Math.max(i,l.x+l.width),a=Math.min(a,l.y),s=Math.max(s,l.y+l.height)}})),t&&t.enabled&&r.visible&&(!e||!e.excludeTitle)){var l=t.node;l.computeTransformMatrix();var u=nl.flyweight(l.matrix),c=l.computeBBox();if(c){var p=u.transformBBox(c);o=Math.min(o,p.x),i=Math.max(i,p.x+p.width),a=Math.min(a,p.y),s=Math.max(s,p.y+p.height)}}return o=Math.min(o,0),i=Math.max(i,0),a=Math.min(a,r.y1,r.y2),s=Math.max(s,r.y1,r.y2),new tl(o,a,i-o,s-a)},e}(),qu=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();function $u(e){return e===zu.X?zu.Y:zu.X}!function(e){e.X="x",e.Y="y"}(zu||(zu={})),function(e){e.Top="top",e.Right="right",e.Bottom="bottom",e.Left="left",e.Angle="angle",e.Radius="radius"}(Uu||(Uu={}));var Zu=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.keys=[],t.direction=zu.Y,t.boundSeries=[],t._position=Uu.Left,t}return qu(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return this.constructor.type||""},enumerable:!0,configurable:!0}),t.prototype.getMeta=function(){return{id:this.id,direction:this.direction,boundSeries:this.boundSeries}},t.prototype.useCalculatedTickCount=function(){return this.scale instanceof su},t.prototype.calculateTickCount=function(e){if(this.useCalculatedTickCount()){var t=70*Math.pow(Math.log(e)/Math.log(600),2);this._calculatedTickCount=this.tick.count||Math.max(2,Math.floor(e/t))}},Object.defineProperty(t.prototype,"position",{get:function(){return this._position},set:function(e){if(this._position!==e)switch(this._position=e,e){case Uu.Top:this.direction=zu.X,this.rotation=-90,this.label.mirrored=!0,this.label.parallel=!0;break;case Uu.Right:this.direction=zu.Y,this.rotation=0,this.label.mirrored=!0,this.label.parallel=!1;break;case Uu.Bottom:this.direction=zu.X,this.rotation=-90,this.label.mirrored=!1,this.label.parallel=!0;break;case Uu.Left:this.direction=zu.Y,this.rotation=0,this.label.mirrored=!1,this.label.parallel=!1}},enumerable:!0,configurable:!0}),t}(Ku),Qu=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ju=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};function ec(e){var t,r=e[0],n=e[e.length-1];return r>n&&(t=Ju([n,r],2),r=t[0],n=t[1]),function(e){return e>=r&&e<=n?e:NaN}}var tc=function(e){function t(){var t=e.call(this,new su)||this;return t._nice=!0,t._min=NaN,t._max=NaN,t.scale.clamper=ec,t}return Qu(t,e),Object.defineProperty(t.prototype,"nice",{get:function(){return this._nice},set:function(e){this._nice!==e&&(this._nice=e,e&&this.scale.nice&&this.scale.nice("number"===typeof this.calculatedTickCount?this.calculatedTickCount:void 0))},enumerable:!0,configurable:!0}),t.prototype.setDomain=function(e,t){var r=this,n=r.scale,o=r.min,i=r.max;if(e.length>2&&(e=pu(e,yu,Number)||[0,1]),e=[isNaN(o)?e[0]:o,isNaN(i)?e[1]:i],t){var a=Ju(kl(e,t),2),s=a[0],l=a[1];return n.domain=s,void(this.ticks=l)}n.domain=e,this.onLabelFormatChange(this.label.format),this.scale.clamp=!0,this.nice&&this.scale.nice&&this.scale.nice("number"===typeof this.calculatedTickCount?this.calculatedTickCount:void 0)},Object.defineProperty(t.prototype,"domain",{get:function(){return this.scale.domain},set:function(e){this.setDomain(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this._min},set:function(e){this._min!==e&&(this._min=e,isNaN(e)||(this.scale.domain=[e,this.scale.domain[1]]))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this._max},set:function(e){this._max!==e&&(this._max=e,isNaN(e)||(this.scale.domain=[this.scale.domain[0],e]))},enumerable:!0,configurable:!0}),t.prototype.formatDatum=function(e){return"number"===typeof e?e.toFixed(2):(Wu((function(){return console.warn("AG Charts - Data contains Date objects which are being plotted against a number axis, please only use a number axis for numbers.")}),"number axis config used with Date objects"),String(e))},t.className="NumberAxis",t.type="number",t}(Zu),rc=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},nc=function(){function e(){this.type="band",this.index=new Map,this.ordinalRange=[],this._domain=[],this._range=[0,1],this._bandwidth=1,this._paddingInner=0,this._paddingOuter=0,this._round=!1,this._align=.5}return Object.defineProperty(e.prototype,"domain",{get:function(){return this._domain},set:function(e){var t=this._domain;t.length=0,this.index=new Map;var r=this.index;e.forEach((function(e){void 0===r.get(e)&&r.set(e,t.push(e)-1)})),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"range",{get:function(){return this._range},set:function(e){this._range[0]=e[0],this._range[1]=e[1],this.rescale()},enumerable:!0,configurable:!0}),e.prototype.ticks=function(){return this._domain},e.prototype.convert=function(e){var t=this.index.get(e);if(void 0===t)return NaN;var r=this.ordinalRange[t];return void 0===r?NaN:r},Object.defineProperty(e.prototype,"bandwidth",{get:function(){return this._bandwidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"padding",{get:function(){return this._paddingInner},set:function(e){e=Math.max(0,Math.min(1,e)),this._paddingInner=e,this._paddingOuter=e,this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paddingInner",{get:function(){return this._paddingInner},set:function(e){this._paddingInner=Math.max(0,Math.min(1,e)),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paddingOuter",{get:function(){return this._paddingOuter},set:function(e){this._paddingOuter=Math.max(0,Math.min(1,e)),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"round",{get:function(){return this._round},set:function(e){this._round=e,this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"align",{get:function(){return this._align},set:function(e){this._align=Math.max(0,Math.min(1,e)),this.rescale()},enumerable:!0,configurable:!0}),e.prototype.rescale=function(){var e,t=this._domain.length;if(t){var r=rc(this._range,2),n=r[0],o=r[1],i=o<n;i&&(n=(e=rc([o,n],2))[0],o=e[1]);var a=(o-n)/Math.max(1,t-this._paddingInner+2*this._paddingOuter);this._round&&(a=Math.floor(a)),n+=(o-n-a*(t-this._paddingInner))*this._align,this._bandwidth=a*(1-this._paddingInner),this._round&&(n=Math.round(n),this._bandwidth=Math.round(this._bandwidth));for(var s=[],l=0;l<t;l++)s.push(n+a*l);this.ordinalRange=i?s.reverse():s}},e}(),oc=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ic=function(e){function t(){var t=e.call(this,new nc)||this;return t.scale.paddingInner=.2,t.scale.paddingOuter=.3,t}return oc(t,e),Object.defineProperty(t.prototype,"paddingInner",{get:function(){return this.scale.paddingInner},set:function(e){this.scale.paddingInner=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paddingOuter",{get:function(){return this.scale.paddingOuter},set:function(e){this.scale.paddingOuter=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"domain",{get:function(){return this.scale.domain.slice()},set:function(e){this.scale.domain=e.filter((function(e,t,r){return r.indexOf(e)===t}))},enumerable:!0,configurable:!0}),t.className="CategoryAxis",t.type="category",t}(Zu),ac=function(){function e(e,t,r){void 0===e&&(e=""),void 0===r&&(r=0),this.x=0,this.y=0,this.subtreeLeft=NaN,this.subtreeRight=NaN,this.screenX=0,this.screenY=0,this.children=[],this.leafCount=0,this.prelim=0,this.mod=0,this.ancestor=this,this.change=0,this.shift=0,this.label=e,this.parent=t,this.depth=t?t.depth+1:0,this.number=r}return e.prototype.getLeftSibling=function(){return this.number>0&&this.parent?this.parent.children[this.number-1]:void 0},e.prototype.getLeftmostSibling=function(){return this.number>0&&this.parent?this.parent.children[0]:void 0},e.prototype.nextLeft=function(){return this.children?this.children[0]:this.thread},e.prototype.nextRight=function(){return this.children?this.children[this.children.length-1]:this.thread},e.prototype.getSiblings=function(){var e=this;return this.parent?this.parent.children.filter((function(t,r){return r!==e.number})):[]},e}();function sc(e,t){void 0===t&&(t=!0);var r=new ac,n=0;return t&&e.forEach((function(e){return n=Math.max(n,e.labels.length)})),e.forEach((function(e){if(t)for(;e.labels.length<n;)e.labels.unshift("");!function(e,t){var r=t.labels.slice().reverse(),n=r.length-1;r.forEach((function(t,r){var o=e.children,i=uu(o,(function(e){return e.label===t})),a=r!==n;if(i&&a)e=i;else{var s=new ac(t,e);s.number=o.length,o.push(s),a&&(e=s)}}))}(r,e)})),r}function lc(e,t,r){var n=r/(t.number-e.number);t.change-=n,t.shift+=r,e.change+=n,t.prelim+=r,t.mod+=r}function uc(e,t,r){return t.getSiblings().indexOf(e.ancestor)>=0?e.ancestor:r}function cc(e,t){var r=e.children;if(r.length){var n=r[0];r.forEach((function(e){cc(e,t),n=function(e,t,r){var n=e.getLeftSibling();if(n){for(var o=e,i=e,a=n,s=i.getLeftmostSibling(),l=i.mod,u=o.mod,c=a.mod,p=s.mod;a.nextRight()&&i.nextLeft();){a=a.nextRight(),i=i.nextLeft(),s=s.nextLeft(),(o=o.nextRight()).ancestor=e;var d=a.prelim+c-(i.prelim+l)+r;d>0&&(lc(uc(a,e,t),e,d),l+=d,u+=d),c+=a.mod,l+=i.mod,p+=s.mod,u+=o.mod}a.nextRight()&&!o.nextRight()?(o.thread=a.nextRight(),o.mod+=c-u):(i.nextLeft()&&!s.nextLeft()&&(s.thread=i.nextLeft(),s.mod+=l-p),t=e)}return t}(e,n,t)})),function(e){var t=e.children;if(t)for(var r=0,n=0,o=t.length-1;o>=0;o--){var i=t[o];i.prelim+=r,i.mod+=r,n+=i.change,r+=i.shift+n}}(e);var o=(r[0].prelim+r[r.length-1].prelim)/2;(i=e.getLeftSibling())?(e.prelim=i.prelim+t,e.mod=e.prelim-o):e.prelim=o}else{var i=e.getLeftSibling();e.prelim=i?i.prelim+t:0}}var pc=function(){function e(){this.top=1/0,this.right=-1/0,this.bottom=-1/0,this.left=1/0}return e.prototype.update=function(e,t){var r=t(e),n=r.x,o=r.y;n>this.right&&(this.right=n),n<this.left&&(this.left=n),o>this.bottom&&(this.bottom=o),o<this.top&&(this.top=o)},e}();function dc(e,t,r){e.x=e.prelim+t,e.y=e.depth,r.update(e),e.children.forEach((function(n){return dc(n,t+e.mod,r)}))}function hc(e){var t=e.children,r=0;t.forEach((function(e){hc(e),e.children.length?r+=e.leafCount:r++})),e.leafCount=r,t.length?(e.subtreeLeft=t[0].subtreeLeft,e.subtreeRight=t[e.children.length-1].subtreeRight,e.x=(e.subtreeLeft+e.subtreeRight)/2):(e.subtreeLeft=e.x,e.subtreeRight=e.x)}function fc(e){var t=new gc;return cc(e,1),dc(e,-e.prelim,t),hc(e),t}var gc=function(){function e(){this.dimensions=new pc,this.leafCount=0,this.nodes=[],this.leafNodes=[],this.nonLeafNodes=[],this.depth=0}return e.prototype.update=function(e){this.dimensions.update(e,(function(e){return{x:e.x,y:e.y}})),e.children.length?this.nonLeafNodes.push(e):(this.leafCount++,this.leafNodes.push(e)),e.depth>this.depth&&(this.depth=e.depth),this.nodes.push(e)},e.prototype.resize=function(e,t,r,n,o){void 0===r&&(r=0),void 0===n&&(n=0),void 0===o&&(o=!1);var i=this.leafCount-1,a=this.depth,s=this.dimensions,l=1,u=1;if(e>0&&i){var c=(s.right-s.left)/i;l=e/i/c,o&&(l=-l)}if(t>0&&a){var p=(s.bottom-s.top)/a;u=t/a/p}var d=new pc;this.nodes.forEach((function(e){e.screenX=e.x*l,e.screenY=e.y*u,d.update(e,(function(e){return{x:e.screenX,y:e.screenY}}))}));var h=-d.left,f=-d.top;this.nodes.forEach((function(e){e.screenX+=h+r,e.screenY+=f+n}))},e}(),yc=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),vc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.grid=!1,t}return yc(t,e),t}(Xu),mc=function(e){function t(){var t=e.call(this,new nc)||this;t.tickScale=new nc,t.longestSeparatorLength=0,t.translation={x:0,y:0},t.rotation=0,t.line={width:1,color:"rgba(195, 195, 195, 1)"},t.label=new vc,t.labelColor="rgba(87, 87, 87, 1)";var r=t,n=r.group,o=r.tickScale,i=r.scale;return i.paddingOuter=.1,i.paddingInner=2*i.paddingOuter,t.requestedRange=i.range.slice(),t.scale=i,o.paddingInner=1,o.paddingOuter=0,t.gridLineSelection=Cu.select(n).selectAll(),t.axisLineSelection=Cu.select(n).selectAll(),t.separatorSelection=Cu.select(n).selectAll(),t.labelSelection=Cu.select(n).selectAll(),t}return yc(t,e),Object.defineProperty(t.prototype,"domain",{get:function(){return this.scale.domain},set:function(e){var t=e.filter((function(e,t,r){return r.indexOf(e)===t}));this.scale.domain=t;var r=sc(t);this.tickTreeLayout=fc(r);var n=t.slice();n.push(""),this.tickScale.domain=n,this.resizeTickTree()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"range",{get:function(){return this.requestedRange.slice()},set:function(e){this.requestedRange=e.slice(),this.updateRange()},enumerable:!0,configurable:!0}),t.prototype.updateRange=function(){var e=this,t=e.requestedRange,r=e.visibleRange,n=e.scale,o=(t[1]-t[0])/(r[1]-r[0]),i=o*r[0],a=t[0]-i;this.tickScale.range=n.range=[a,a+o],this.resizeTickTree()},t.prototype.resizeTickTree=function(){var e=this.scale,t=e.domain.length?[e.convert(e.domain[0]),e.convert(e.domain[e.domain.length-1])]:e.range,r=this.tickTreeLayout,n=this.lineHeight;r&&r.resize(Math.abs(t[1]-t[0]),r.depth*n,(Math.min(t[0],t[1])||0)+(e.bandwidth||0)/2,-r.depth*n,t[1]-t[0]<0)},Object.defineProperty(t.prototype,"lineHeight",{get:function(){return 1.5*this.label.fontSize},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gridLength",{get:function(){return this._gridLength},set:function(e){(this._gridLength&&!e||!this._gridLength&&e)&&(this.gridLineSelection=this.gridLineSelection.remove().setData([]),this.labelSelection=this.labelSelection.remove().setData([])),this._gridLength=e},enumerable:!0,configurable:!0}),t.prototype.update=function(){var e=this,t=this,r=t.group,n=t.scale,o=t.label,i=t.tickScale,a=t.requestedRange,s=n.range[0],l=n.range[1],u=Math.abs(l-s)/n.domain.length||0,c=o.parallel,p=ku(this.rotation),d=Math.abs(Math.cos(p))<1e-8,h=this.label.rotation?Mu(ku(this.label.rotation)):0;r.translationX=this.translation.x,r.translationY=this.translation.y,r.rotation=p;var f=this.title;f&&(f.node.visible=!1);var g=this.lineHeight,y=this.tickTreeLayout,v=n.ticks(),m=y?y.nodes:[],b=!!y&&y.depth>1,C=i.ticks(),w=o.mirrored?1:-1,x=Mu(p),S=!h&&x>=0&&x<=Math.PI?-1:1,E=Mu(p-Math.PI/2),O=!h&&E>=0&&E<=Math.PI?-1:1,_=this.gridLineSelection.setData(this.gridLength?C:[]);_.exit.remove();var P=_.enter.append(xu),R=_.merge(P),A=this.labelSelection.setData(m);A.exit.remove();var T=A.enter.append(Cl),D=A.merge(T),M=o.formatter,k=new Map,N=0;D.each((function(e,t,r){e.fontStyle=o.fontStyle,e.fontWeight=o.fontWeight,e.fontSize=o.fontSize,e.fontFamily=o.fontFamily,e.fill=o.color,e.textBaseline=-1===S?"bottom":"hanging",e.textAlign="center",e.translationX=t.screenY-.25*o.fontSize,e.translationY=t.screenX,0===r?f&&f.enabled&&v.length>0?(e.visible=!0,e.text=f.text,e.fontSize=f.fontSize,e.fontStyle=f.fontStyle,e.fontWeight=f.fontWeight,e.fontFamily=f.fontFamily,e.textBaseline="hanging"):e.visible=!1:(e.text=M?M({value:String(t.label),index:r}):String(t.label),e.visible=t.screenX>=a[0]&&t.screenX<=a[1]);var n=e.computeBBox();k.set(e.id,n),n.width>N&&(N=n.width)}));var I=w*o.padding,L=c?S*Math.PI/2:-1===O?Math.PI:0,F=this.label.grid,G=[];D.each((function(t,r,n){if(t.x=I,t.rotationCenterX=I,r.children.length){t.translationX-=N-g+e.label.padding;var o=r.leafCount*u;(i=k.get(t.id))&&i.width>o?t.visible=!1:t.rotation=d?L:-Math.PI/2}else{var i;t.rotation=h,t.textAlign="end",t.textBaseline="middle",(i=k.get(t.id))&&i.height>u&&(t.visible=!1)}if(r.parent&&b){var a=r.children.length?r.screenX-r.leafCount*u/2:r.screenX-u/2;if(r.children.length){var s=-N-2*e.label.padding+r.screenY;G.push({y:a,x1:s+g,x2:s,toString:function(){return String(n)}})}else(r.number!==r.children.length-1||F)&&G.push({y:a,x1:0,x2:-N-2*e.label.padding,toString:function(){return String(n)}})}}));var B=0;G.forEach((function(e){return B=Math.min(B,e.x2)})),this.longestSeparatorLength=Math.abs(B),G.push({y:Math.max(s,l),x1:0,x2:B,toString:function(){return String(G.length)}});var W=this.separatorSelection.setData(G);W.exit.remove();var H=W.enter.append(xu),j=W.merge(H);this.separatorSelection=j;j.each((function(t,r,n){t.x1=r.x1,t.x2=r.x2,t.y1=r.y,t.y2=r.y,t.visible=r.y>=a[0]-1e-7&&r.y<=a[1]+1e-7,t.stroke=e.tick.color,t.fill=void 0,t.strokeWidth=1})),this.gridLineSelection=R,this.labelSelection=D;for(var V=y?y.depth+1:1,z=[],U=0;U<V;U++)z.push(U);var Y=this.axisLineSelection.setData(z);Y.exit.remove();var X=Y.enter.append(xu),K=Y.merge(X);if(this.axisLineSelection=K,K.each((function(t,r,n){var o=n>0?-N-2*e.label.padding-(n-1)*g:0;t.x1=o,t.x2=o,t.y1=a[0],t.y2=a[1],t.strokeWidth=e.line.width,t.stroke=e.line.color,t.visible=v.length>0&&(0===n||F&&b)})),this.gridLength){var q=this.gridStyle,$=q.length;R.each((function(t,r,n){var o=Math.round(i.convert(r));t.x1=0,t.x2=-w*e.gridLength,t.y1=o,t.y2=o,t.visible=o>=a[0]&&o<=a[1]&&Math.abs(t.parent.translationY-s)>1;var l=q[n%$];t.stroke=l.stroke,t.strokeWidth=e.tick.width,t.lineDash=l.lineDash,t.fill=void 0}))}},t.prototype.computeBBox=function(e){var t=!e||!e.excludeTitle,r=1/0,n=-1/0,o=1/0,i=-1/0;return this.labelSelection.each((function(e,a,s){if(s>0||t){e.computeTransformMatrix();var l=nl.flyweight(e.matrix),u=e.computeBBox();if(u){var c=l.transformBBox(u);r=Math.min(r,c.x),n=Math.max(n,c.x+c.width),o=Math.min(o,c.y),i=Math.max(i,c.y+c.height)}}})),new tl(r,o,Math.max(n-r,this.longestSeparatorLength),i-o)},t.className="GroupedCategoryAxis",t.type="groupedCategory",t}(Zu),bc=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Cc=new Date,wc=new Date,xc=function(){function e(e,t){this._floor=e,this._offset=t}return e.prototype.floor=function(e){return e=new Date(+e),this._floor(e),e},e.prototype.ceil=function(e){return e=new Date(+e-1),this._floor(e),this._offset(e,1),this._floor(e),e},e.prototype.round=function(e){var t=this.floor(e),r=this.ceil(e),n=+e;return n-t.getTime()<r.getTime()-n?t:r},e.prototype.offset=function(e,t){return void 0===t&&(t=1),e=new Date(+e),this._offset(e,Math.floor(t)),e},e.prototype.range=function(e,t,r){void 0===r&&(r=1);var n,o=[];if(e=this.ceil(e),r=Math.floor(r),e>t||r<=0)return o;do{n=new Date(+e),o.push(n),this._offset(e,r),this._floor(e)}while(n<e&&e<t);return o},e.prototype.filter=function(t){var r=this;return new e((function(e){if(e>=e)for(;r._floor(e),!t(e);)e.setTime(e.getTime()-1);return e}),(function(e,n){if(e>=e)if(n<0)for(;++n<=0;)do{r._offset(e,-1)}while(!t(e));else for(;--n>=0;)do{r._offset(e,1)}while(!t(e));return e}))},e}(),Sc=function(e){function t(t,r,n,o){var i=e.call(this,t,r)||this;return i._count=n,i._field=o,i}return bc(t,e),t.prototype.count=function(e,t){return Cc.setTime(+e),wc.setTime(+t),this._floor(Cc),this._floor(wc),Math.floor(this._count(Cc,wc))},t.prototype.every=function(e){var t,r=this;if(e=Math.floor(e),isFinite(e)&&e>0)if(e>1){var n=this._field;t=n?this.filter((function(t){return n(t)%e===0})):this.filter((function(t){return r.count(0,t)%e===0}))}else t=this;return t},t}(xc);var Ec=new Sc((function(e){return e}),(function(e,t){e.setTime(e.getTime()+t)}),(function(e,t){return t.getTime()-e.getTime()})),Oc=1e3,_c=6e4,Pc=36e5,Rc=864e5,Ac=6048e5,Tc=2592e6,Dc=31536e6;var Mc=new Sc((function(e){e.setTime(e.getTime()-e.getMilliseconds())}),(function(e,t){e.setTime(e.getTime()+t*Oc)}),(function(e,t){return(t.getTime()-e.getTime())/Oc}));var kc=new Sc((function(e){e.setTime(e.getTime()-e.getMilliseconds()-e.getSeconds()*Oc)}),(function(e,t){e.setTime(e.getTime()+t*_c)}),(function(e,t){return(t.getTime()-e.getTime())/_c}),(function(e){return e.getMinutes()}));var Nc=new Sc((function(e){e.setTime(e.getTime()-e.getMilliseconds()-e.getSeconds()*Oc-e.getMinutes()*_c)}),(function(e,t){e.setTime(e.getTime()+t*Pc)}),(function(e,t){return(t.getTime()-e.getTime())/Pc}),(function(e){return e.getHours()}));var Ic=new Sc((function(e){e.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+t)}),(function(e,t){var r=t.getTimezoneOffset()-e.getTimezoneOffset();return(t.getTime()-e.getTime()-r*_c)/Rc}),(function(e){return e.getDate()-1}));function Lc(e){return new Sc((function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+7*t)}),(function(e,t){return(t.getTime()-e.getTime()-(t.getTimezoneOffset()-e.getTimezoneOffset())*_c)/Ac}))}var Fc=Lc(0),Gc=Lc(1),Bc=(Lc(2),Lc(3),Lc(4));Lc(5),Lc(6);var Wc=new Sc((function(e){e.setDate(1),e.setHours(0,0,0,0)}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())}),(function(e){return e.getMonth()}));var Hc=new Sc((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e,t){return t.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()}));var jc=new Sc((function(e){e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t.getTime()-e.getTime())/Rc}),(function(e){return e.getUTCDate()-1}));var Vc=new Sc((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)}),(function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()}));function zc(e){return new Sc((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+7*t)}),(function(e,t){return(t.getTime()-e.getTime())/Ac}))}var Uc=zc(0),Yc=zc(1),Xc=(zc(2),zc(3),zc(4));zc(5),zc(6);function Kc(e){if(e.y>=0&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function qc(e){if(e.y>=0&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function $c(e){for(var t={},r=0,n=e.length;r<n;r++)t[e[r].toLowerCase()]=r;return t}function Zc(e){return{y:e,m:0,d:1,H:0,M:0,S:0,L:0}}var Qc,Jc=/^\s*\d+/,ep=/^%/,tp=/[\\^$*+?|[\]().{}]/g,rp=function(e){return e.replace(tp,"\\$&")},np=function(e){return new RegExp("^(?:"+e.map(rp).join("|")+")","i")},op={"-":"",_:" ",0:"0"};function ip(e,t,r){var n=e<0?"-":"",o=String(n?-e:e),i=o.length;return n+(i<r?new Array(r-i+1).join(t)+o:o)}!function(e){Qc=function(e){var t=e.dateTime,r=e.date,n=e.time,o=e.periods,i=e.days,a=e.shortDays,s=e.months,l=e.shortMonths,u=np(o),c=$c(o),p=np(i),d=$c(i),h=np(a),f=$c(a),g=np(s),y=$c(s),v=np(l),m=$c(l),b={a:function(e){return a[e.getDay()]},A:function(e){return i[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:void 0,d:_,e:_,f:function(e,t){return O(e,t)+"000"},H:function(e,t){return ip(e.getHours(),t,2)},I:function(e,t){return ip(e.getHours()%12||12,t,2)},j:function(e,t){return ip(1+Ic.count(Hc.floor(e),e),t,3)},L:O,m:function(e,t){return ip(e.getMonth()+1,t,2)},M:function(e,t){return ip(e.getMinutes(),t,2)},p:function(e){return o[e.getHours()>=12?1:0]},Q:T,s:D,S:function(e,t){return ip(e.getSeconds(),t,2)},u:function(e){var t=e.getDay();return 0===t?7:t},U:function(e,t){return ip(Fc.count(Hc.floor(e),e),t,2)},V:function(e,t){var r=e.getDay();e=r>=4||0===r?Bc.floor(e):Bc.ceil(e);var n=Hc.floor(e);return ip(Bc.count(n,e)+(4===n.getDay()?1:0),t,2)},w:function(e){return e.getDay()},W:function(e,t){return ip(Gc.count(Hc.floor(e),e),t,2)},x:void 0,X:void 0,y:function(e,t){return ip(e.getFullYear()%100,t,2)},Y:function(e,t){return ip(e.getFullYear()%1e4,t,4)},Z:function(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ip(Math.floor(t/60),"0",2)+ip(t%60,"0",2)},"%":A},C={a:function(e){return a[e.getUTCDay()]},A:function(e){return i[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:void 0,d:R,e:R,f:function(e,t){return P(e,t)+"000"},H:function(e,t){return ip(e.getUTCHours(),t,2)},I:function(e,t){return ip(e.getUTCHours()%12||12,t,2)},j:function(e,t){return ip(1+jc.count(Vc.floor(e),e),t,3)},L:P,m:function(e,t){return ip(e.getUTCMonth()+1,t,2)},M:function(e,t){return ip(e.getUTCMinutes(),t,2)},p:function(e){return o[e.getUTCHours()>=12?1:0]},Q:T,s:D,S:function(e,t){return ip(e.getUTCSeconds(),t,2)},u:function(e){var t=e.getUTCDay();return 0===t?7:t},U:function(e,t){return ip(Uc.count(Vc.floor(e),e),t,2)},V:function(e,t){var r=e.getUTCDay();e=r>=4||0===r?Xc.floor(e):Xc.ceil(e);var n=Vc.floor(e);return ip(Xc.count(n,e)+(4===n.getUTCDay()?1:0),t,4)},w:function(e){return e.getUTCDay()},W:function(e,t){return ip(Yc.count(Vc.floor(e),e),t,2)},x:void 0,X:void 0,y:function(e,t){return ip(e.getUTCFullYear()%100,t,2)},Y:function(e,t){return ip(e.getUTCFullYear()%1e4,t,4)},Z:function(){return"+0000"},"%":A},w={a:function(e,t,r){var n=h.exec(t.slice(r));return n?(e.w=f[n[0].toLowerCase()],r+n[0].length):-1},A:function(e,t,r){var n=p.exec(t.slice(r));return n?(e.w=d[n[0].toLowerCase()],r+n[0].length):-1},b:function(e,t,r){var n=v.exec(t.slice(r));return n?(e.m=m[n[0].toLowerCase()],r+n[0].length):-1},B:function(e,t,r){var n=g.exec(t.slice(r));return n?(e.m=y[n[0].toLowerCase()],r+n[0].length):-1},c:function(e,r,n){return E(e,t,r,n)},d:k,e:k,f:function(e,t,r){var n=Jc.exec(t.slice(r,r+6));return n?(e.L=Math.floor(parseFloat(n[0])/1e3),r+n[0].length):-1},H:M,I:M,j:function(e,t,r){var n=Jc.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1},L:function(e,t,r){var n=Jc.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1},m:function(e,t,r){var n=Jc.exec(t.slice(r,r+2));return n?(e.m=parseFloat(n[0])-1,r+n[0].length):-1},M:function(e,t,r){var n=Jc.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1},p:function(e,t,r){var n=u.exec(t.slice(r));return n?(e.p=c[n[0].toLowerCase()],r+n[0].length):-1},Q:function(e,t,r){var n=Jc.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1},s:function(e,t,r){var n=Jc.exec(t.slice(r));return n?(e.Q=1e3*+n[0],r+n[0].length):-1},S:function(e,t,r){var n=Jc.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1},u:function(e,t,r){var n=Jc.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1},U:function(e,t,r){var n=Jc.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1},V:function(e,t,r){var n=Jc.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1},w:function(e,t,r){var n=Jc.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1},W:function(e,t,r){var n=Jc.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1},x:function(e,t,n){return E(e,r,t,n)},X:function(e,t,r){return E(e,n,t,r)},y:function(e,t,r){var n=Jc.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1},Y:function(e,t,r){var n=Jc.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1},Z:function(e,t,r){var n=/^(Z)|^([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1},"%":function(e,t,r){var n=ep.exec(t.slice(r,r+1));return n?r+n[0].length:-1}};function x(e,t){return function(r){var n=Zc(1900);if(E(n,e,r+="",0)==r.length){if("Q"in n)return new Date(n.Q);if("p"in n&&(n.H=n.H%12+12*n.p),"V"in n){if(n.V<1||n.V>53)return;if("w"in n||(n.w=1),"Z"in n){var o=(i=qc(Zc(n.y))).getUTCDay();i=o>4||0===o?Yc.ceil(i):Yc.floor(i),i=jc.offset(i,7*(n.V-1)),n.y=i.getUTCFullYear(),n.m=i.getUTCMonth(),n.d=i.getUTCDate()+(n.w+6)%7}else{var i;o=(i=t(Zc(n.y))).getDay(),i=o>4||0===o?Gc.ceil(i):Gc.floor(i),i=Ic.offset(i,7*(n.V-1)),n.y=i.getFullYear(),n.m=i.getMonth(),n.d=i.getDate()+(n.w+6)%7}}else("W"in n||"U"in n)&&("w"in n||(n.w="u"in n?n.u%7:"W"in n?1:0),o="Z"in n?qc(Zc(n.y)).getUTCDay():t(Zc(n.y)).getDay(),n.m=0,n.d="W"in n?(n.w+6)%7+7*n.W-(o+5)%7:n.w+7*n.U-(o+6)%7);return"Z"in n?(n.H+=n.Z/100|0,n.M+=n.Z%100,qc(n)):t(n)}}}function S(e,t){return function(r){var n=[],o=e.length,i=-1,a=0;for(r instanceof Date||(r=new Date(+r));++i<o;)if(37===e.charCodeAt(i)){n.push(e.slice(a,i));var s=e.charAt(++i),l=op[s];void 0!=l?s=e.charAt(++i):l="e"===s?" ":"0";var u=t[s];u&&(s=u(r,l)),n.push(s),a=i+1}return n.push(e.slice(a,i)),n.join("")}}function E(e,t,r,n){for(var o=0,i=t.length,a=r.length;o<i;){if(n>=a)return-1;var s=t.charCodeAt(o++);if(37===s){var l=t.charAt(o++),u=w[l in op?t.charAt(o++):l];if(!u||(n=u(e,r,n))<0)return-1}else if(s!=r.charCodeAt(n++))return-1}return n}function O(e,t){return ip(e.getMilliseconds(),t,3)}function _(e,t){return ip(e.getDate(),t,2)}function P(e,t){return ip(e.getUTCMilliseconds(),t,3)}function R(e,t){return ip(e.getUTCDate(),t,2)}function A(e){return"%"}function T(e){return e.getTime()}function D(e){return Math.floor(e.getTime()/1e3)}function M(e,t,r){var n=Jc.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function k(e,t,r){var n=Jc.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}return b.x=S(r,b),b.X=S(n,b),b.c=S(t,b),C.x=S(r,C),C.X=S(n,C),C.c=S(t,C),{format:function(e){var t=S(e,b);return t.toString=function(){return e},t},parse:function(e){var t=x(e,Kc);return t.toString=function(){return e},t},utcFormat:function(e){var t=S(e,C);return t.toString=function(){return e},t},utcParse:function(e){var t=x(e,qc);return t.toString=function(){return e},t}}}(e)}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var ap,sp=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),lp=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},up=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="time",t.year=Hc,t.month=Wc,t.week=Fc,t.day=Ic,t.hour=Nc,t.minute=kc,t.second=Mc,t.millisecond=Ec,t.format=Qc.format,t.tickIntervals=[[t.second,1,Oc],[t.second,5,5e3],[t.second,15,15e3],[t.second,30,3e4],[t.minute,1,_c],[t.minute,5,3e5],[t.minute,15,9e5],[t.minute,30,18e5],[t.hour,1,Pc],[t.hour,3,108e5],[t.hour,6,216e5],[t.hour,12,432e5],[t.day,1,Rc],[t.day,2,1728e5],[t.week,1,Ac],[t.month,1,Tc],[t.month,3,7776e6],[t.year,1,Dc]],t.formatMillisecond=t.format(".%L"),t.formatSecond=t.format(":%S"),t.formatMinute=t.format("%I:%M"),t.formatHour=t.format("%I %p"),t.formatDay=t.format("%a %d"),t.formatWeek=t.format("%b %d"),t.formatMonth=t.format("%B"),t.formatYear=t.format("%Y"),t._domain=[new Date(2e3,0,1),new Date(2e3,0,2)],t}return sp(t,e),t.prototype.defaultTickFormat=function(e){return(this.second.floor(e)<e?this.formatMillisecond:this.minute.floor(e)<e?this.formatSecond:this.hour.floor(e)<e?this.formatMinute:this.day.floor(e)<e?this.formatHour:this.month.floor(e)<e?this.week.floor(e)<e?this.formatDay:this.formatWeek:this.year.floor(e)<e?this.formatMonth:this.formatYear)(e)},t.prototype.tickInterval=function(e,t,r,n){var o;if("number"===typeof e){var i=e,a=this.tickIntervals,s=Math.abs(r-t)/i,l=Wl(a,s,(function(e){return e[2]}));l===a.length?(n=Tl(t/Dc,r/Dc,i),e=this.year):l?(e=(o=lp(a[s/a[l-1][2]<a[l][2]/s?l-1:l],2))[0],n=o[1]):(n=Math.max(Tl(t,r,e),1),e=this.millisecond)}return void 0==n?e:e.every(n)},Object.defineProperty(t.prototype,"domain",{get:function(){return e.prototype.getDomain.call(this).map((function(e){return new Date(e)}))},set:function(t){e.prototype.setDomain.call(this,Array.prototype.map.call(t,(function(e){return e instanceof Date?+e:+new Date(+e)})))},enumerable:!0,configurable:!0}),t.prototype.invert=function(t){return new Date(e.prototype.invert.call(this,t))},t.prototype.ticks=function(t){void 0===t&&(t=10);var r=e.prototype.getDomain.call(this),n=r[0],o=r[r.length-1],i=o<n;if(i){var a=n;n=o,o=a}var s=this.tickInterval(t,n,o),l=s?s.range(n,o+1):[];return i?l.reverse():l},t.prototype.tickFormat=function(e,t){return void 0==t?this.defaultTickFormat.bind(this):this.format(t)},t.prototype.nice=function(t){void 0===t&&(t=10);var r=e.prototype.getDomain.call(this),n=this.tickInterval(t,r[0],r[r.length-1]);n&&(this.domain=this._nice(r,n))},t.prototype._nice=function(e,t){var r,n,o=0,i=(e=e.slice()).length-1,a=e[o],s=e[i];return s<a&&(o=(r=lp([i,o],2))[0],i=r[1],a=(n=lp([s,a],2))[0],s=n[1]),e[o]=t.floor(a),e[i]=t.ceil(s),e},t}(zl),cp=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),pp=function(e){function t(){var t=e.call(this,new up)||this;t.datumFormat="%m/%d/%y, %H:%M:%S",t._nice=!0;var r=t.scale;return r.clamp=!0,t.scale=r,t.datumFormatter=r.tickFormat(t.calculatedTickCount,t.datumFormat),t}return cp(t,e),Object.defineProperty(t.prototype,"nice",{get:function(){return this._nice},set:function(e){this._nice!==e&&(this._nice=e,e&&this.scale.nice&&this.scale.nice(10))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"domain",{get:function(){return this.scale.domain},set:function(e){e.length>2&&(e=(pu(e,yu,Number)||[0,1e3]).map((function(e){return new Date(e)}))),this.scale.domain=e,this.nice&&this.scale.nice&&this.scale.nice(10)},enumerable:!0,configurable:!0}),t.prototype.onLabelFormatChange=function(t){t?e.prototype.onLabelFormatChange.call(this,t):this.labelFormatter=this.scale.tickFormat(this.calculatedTickCount,void 0)},t.prototype.formatDatum=function(e){return this.datumFormatter(e)},t.className="TimeAxis",t.type="time",t}(Zu),dp=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},hp=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(dp(arguments[t]));return e},fp=function(){function e(e,t,r){var n=this;void 0===e&&(e=window.document),this.id=ol(this),this._dirty=!1,this.animationFrameId=0,this._root=null,this.debug={renderFrameIndex:!1,renderBoundingBoxes:!1},this._frameIndex=0,this.render=function(){var e,t=n,r=t.ctx,o=t.root,i=t.pendingSize;n.animationFrameId=0,i&&((e=n.canvas).resize.apply(e,hp(i)),n.pendingSize=void 0),!o||o.visible?(r.clearRect(0,0,n.width,n.height),o&&(r.save(),o.visible&&o.render(r),r.restore()),n._frameIndex++,n.debug.renderFrameIndex&&(r.fillStyle="white",r.fillRect(0,0,40,15),r.fillStyle="black",r.fillText(n.frameIndex.toString(),2,10)),n.dirty=!1):n.dirty=!1},this.canvas=new ml(e,t,r),this.ctx=this.canvas.context}return Object.defineProperty(e.prototype,"container",{get:function(){return this.canvas.container},set:function(e){this.canvas.container=e},enumerable:!0,configurable:!0}),e.prototype.download=function(e){this.canvas.download(e)},e.prototype.getDataURL=function(e){return this.canvas.getDataURL(e)},Object.defineProperty(e.prototype,"width",{get:function(){return this.pendingSize?this.pendingSize[0]:this.canvas.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.pendingSize?this.pendingSize[1]:this.canvas.height},enumerable:!0,configurable:!0}),e.prototype.resize=function(e,t){e=Math.round(e),t=Math.round(t),e===this.width&&t===this.height||(this.pendingSize=[e,t],this.dirty=!0)},Object.defineProperty(e.prototype,"dirty",{get:function(){return this._dirty},set:function(e){e?this._dirty||(this.animationFrameId=requestAnimationFrame(this.render)):this.animationFrameId&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=0),this._dirty=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this._root},set:function(e){e!==this._root&&(this._root&&this._root._setScene(),this._root=e,e&&(null===e.parent&&e.scene&&e.scene!==this&&(e.scene.root=null),e._setScene(this)),this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"frameIndex",{get:function(){return this._frameIndex},enumerable:!0,configurable:!0}),e.className="Scene",e}(),gp=function(){this.stops=[]},yp=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),vp=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.angle=0,t}return yp(t,e),t.prototype.createGradient=function(e,t){var r=this.stops,n=this.angle%360*Math.PI/180,o=Math.cos(n),i=Math.sin(n),a=t.width,s=t.height,l=t.x+.5*a,u=t.y+.5*s;if(a>0&&s>0){var c=Math.sqrt(s*s+a*a)*Math.abs(Math.cos(n-Math.atan(s/a)))/2,p=e.createLinearGradient(l+o*c,u+i*c,l-o*c,u-i*c);return r.forEach((function(e){p.addColorStop(e.offset,e.color)})),p}return"black"},t}(gp),mp=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();!function(e){e[e.Content=0]="Content",e[e.Border=1]="Border"}(ap||(ap={}));var bp=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._x=0,t._y=0,t._width=10,t._height=10,t._radius=0,t._crisp=!1,t._gradient=!1,t.effectiveStrokeWidth=vl.defaultStyles.strokeWidth,t._sizing=ap.Content,t}return mp(t,e),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width!==e&&(this._width=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height!==e&&(this._height=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this._radius},set:function(e){this._radius!==e&&(this._radius=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"crisp",{get:function(){return this._crisp},set:function(e){this._crisp!==e&&(this._crisp=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gradient",{get:function(){return this._gradient},set:function(e){this._gradient!==e&&(this._gradient=e,this.updateGradientInstance(),this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.updateGradientInstance=function(){if(this.gradient){var e=this.fill;if(e){var t=new vp;t.angle=270,t.stops=[{offset:0,color:Ll.fromString(e).brighter().toString()},{offset:1,color:Ll.fromString(e).darker().toString()}],this.gradientInstance=t}}else this.gradientInstance=void 0},Object.defineProperty(t.prototype,"fill",{get:function(){return this._fill},set:function(e){this._fill!==e&&(this._fill=e,this.updateGradientInstance(),this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(e){this._strokeWidth!==e&&(this._strokeWidth=e,this.crisp||this.sizing===ap.Border?this.dirtyPath=!0:(this.effectiveStrokeWidth=e,this.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sizing",{get:function(){return this._sizing},set:function(e){this._sizing!==e&&(this._sizing=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),t.prototype.updatePath=function(){var e=this.sizing===ap.Border,t=this.path;t.clear();var r,n=this.x,o=this.y,i=this.width,a=this.height;if(e){var s=i/2,l=a/2;r=Math.min(this.strokeWidth,s,l),n=Math.min(n+r/2,n+s),o=Math.min(o+r/2,o+l),i=Math.max(i-r,0),a=Math.max(a-r,0)}else r=this.strokeWidth;if(this.effectiveStrokeWidth=r,this.crisp&&!e){var u=this.alignment,c=this.align;t.rect(c(u,n),c(u,o),c(u,n,i),c(u,o,a))}else t.rect(n,o,i,a)},t.prototype.computeBBox=function(){var e=this,t=e.x,r=e.y,n=e.width,o=e.height;return new tl(t,r,n,o)},t.prototype.isPointInPath=function(e,t){var r=this.transformPoint(e,t);return this.computeBBox().containsPoint(r.x,r.y)},t.prototype.isPointInStroke=function(e,t){return!1},t.prototype.fillStroke=function(e){if(this.scene){var t=this.scene.canvas.pixelRatio||1;if(this.fill){this.gradientInstance?e.fillStyle=this.gradientInstance.createGradient(e,this.computeBBox()):e.fillStyle=this.fill,e.globalAlpha=this.opacity*this.fillOpacity;var r=this.fillShadow;r&&r.enabled&&(e.shadowColor=r.color,e.shadowOffsetX=r.xOffset*t,e.shadowOffsetY=r.yOffset*t,e.shadowBlur=r.blur*t),e.fill()}if(e.shadowColor="rgba(0, 0, 0, 0)",this.stroke&&this.effectiveStrokeWidth){e.strokeStyle=this.stroke,e.globalAlpha=this.opacity*this.strokeOpacity,e.lineWidth=this.effectiveStrokeWidth,this.lineDash&&e.setLineDash(this.lineDash),this.lineDashOffset&&(e.lineDashOffset=this.lineDashOffset),this.lineCap&&(e.lineCap=this.lineCap),this.lineJoin&&(e.lineJoin=this.lineJoin);var n=this.strokeShadow;n&&n.enabled&&(e.shadowColor=n.color,e.shadowOffsetX=n.xOffset*t,e.shadowOffsetY=n.yOffset*t,e.shadowBlur=n.blur*t),e.stroke()}}},t.className="Rect",t}(Tu),Cp=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),wp=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._x=0,t._y=0,t._size=12,t}return Cp(t,e),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._size},set:function(e){this._size!==e&&(this._size=Math.abs(e),this.dirtyPath=!0)},enumerable:!0,configurable:!0}),t.prototype.computeBBox=function(){var e=this,t=e.x,r=e.y,n=e.size,o=n/2;return new tl(t-o,r-o,n,n)},t}(Tu),xp=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Sp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xp(t,e),t.prototype.updatePath=function(){var e=this,t=e.path,r=e.x,n=e.y,o=this.size/2,i=this.alignment,a=this.align;t.clear(),t.moveTo(a(i,r-o),a(i,n-o)),t.lineTo(a(i,r+o),a(i,n-o)),t.lineTo(a(i,r+o),a(i,n+o)),t.lineTo(a(i,r-o),a(i,n+o)),t.closePath()},t.className="Square",t}(wp),Ep=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Op=function(e){function t(){var t=e.call(this)||this;t.label=new Cl,t._marker=new Sp,t._markerSize=15,t._spacing=8;var r=t.label;return r.textBaseline="middle",r.fontSize=12,r.fontFamily="Verdana, sans-serif",r.fill="black",r.y=ml.has.textMetrics?1:0,t.append([t.marker,r]),t.update(),t}return Ep(t,e),Object.defineProperty(t.prototype,"text",{get:function(){return this.label.text},set:function(e){this.label.text=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this.label.fontStyle},set:function(e){this.label.fontStyle=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this.label.fontWeight},set:function(e){this.label.fontWeight=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this.label.fontSize},set:function(e){this.label.fontSize=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this.label.fontFamily},set:function(e){this.label.fontFamily=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){return this.label.fill},set:function(e){this.label.fill=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"marker",{get:function(){return this._marker},set:function(e){this._marker!==e&&(this.removeChild(this._marker),this._marker=e,this.appendChild(e),this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markerSize",{get:function(){return this._markerSize},set:function(e){this._markerSize!==e&&(this._markerSize=e,this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markerFill",{get:function(){return this.marker.fill},set:function(e){this.marker.fill=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markerStroke",{get:function(){return this.marker.stroke},set:function(e){this.marker.stroke=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markerStrokeWidth",{get:function(){return this.marker.strokeWidth},set:function(e){this.marker.strokeWidth=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markerFillOpacity",{get:function(){return this.marker.fillOpacity},set:function(e){this.marker.fillOpacity=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markerStrokeOpacity",{get:function(){return this.marker.strokeOpacity},set:function(e){this.marker.strokeOpacity=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"opacity",{get:function(){return this.marker.opacity},set:function(e){this.marker.opacity=e,this.label.opacity=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"spacing",{get:function(){return this._spacing},set:function(e){this._spacing!==e&&(this._spacing=e,this.update())},enumerable:!0,configurable:!0}),t.prototype.update=function(){var e=this.marker,t=this.markerSize;e.size=t,this.label.x=t/2+this.spacing},t.className="MarkerLabel",t}(mu),_p=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Pp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return _p(t,e),t.prototype.updatePath=function(){var e=this,t=e.x,r=e.y,n=e.path,o=e.size/2;n.clear(),n.cubicArc(t,r,o,o,0,0,2*Math.PI,0),n.closePath()},t.className="Circle",t}(wp),Rp=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ap=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Rp(t,e),t.prototype.updatePath=function(){var e=this.x,t=this.y,r=this.path,n=this.size/4.2;r.clear(),r.moveTo(e-=n,t),r.lineTo(e-=n,t-=n),r.lineTo(e+=n,t-=n),r.lineTo(e+=n,t+=n),r.lineTo(e+=n,t-=n),r.lineTo(e+=n,t+=n),r.lineTo(e-=n,t+=n),r.lineTo(e+=n,t+=n),r.lineTo(e-=n,t+=n),r.lineTo(e-=n,t-=n),r.lineTo(e-=n,t+=n),r.lineTo(e-=n,t-=n),r.closePath()},t.className="Cross",t}(wp),Tp=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Dp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Tp(t,e),t.prototype.updatePath=function(){var e=this.x,t=this.y,r=this.path,n=this.size/2;r.clear(),r.moveTo(e,t-=n),r.lineTo(e+=n,t+=n),r.lineTo(e-=n,t+=n),r.lineTo(e-=n,t-=n),r.lineTo(e+=n,t-=n),r.closePath()},t.className="Diamond",t}(wp),Mp=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),kp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Mp(t,e),t.prototype.rad=function(e){return e/180*Math.PI},t.prototype.updatePath=function(){var e=this,t=e.x,r=e.path,n=e.size,o=e.rad,i=n/4,a=this.y+i/2;r.clear(),r.cubicArc(t-i,a-i,i,i,0,o(130),o(330),0),r.cubicArc(t+i,a-i,i,i,0,o(220),o(50),0),r.lineTo(t,a+i),r.closePath()},t.className="Heart",t}(wp),Np=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ip=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Np(t,e),t.prototype.updatePath=function(){var e=this.x,t=this.y,r=this.path,n=this.size/3,o=n/2;r.clear(),r.moveTo(e-=o,t-=o),r.lineTo(e,t-=n),r.lineTo(e+=n,t),r.lineTo(e,t+=n),r.lineTo(e+=n,t),r.lineTo(e,t+=n),r.lineTo(e-=n,t),r.lineTo(e,t+=n),r.lineTo(e-=n,t),r.lineTo(e,t-=n),r.lineTo(e-=n,t),r.lineTo(e,t-=n),r.closePath()},t.className="Plus",t}(wp),Lp=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Fp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Lp(t,e),t.prototype.updatePath=function(){var e=this.x,t=this.y,r=this.path,n=1.1*this.size;r.clear(),r.moveTo(e,t-=.48*n),r.lineTo(e+=.5*n,t+=.87*n),r.lineTo(e-=n,t),r.closePath()},t.className="Triangle",t}(wp);function Gp(e){if(void 0===e&&(e=Sp),"string"===typeof e)switch(e){case"circle":return Pp;case"cross":return Ap;case"diamond":return Dp;case"heart":return kp;case"plus":return Ip;case"triangle":return Fp;default:return Sp}return"function"===typeof e?e:Sp}var Bp,Wp,Hp=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),jp=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a};!function(e){e[e.Vertical=0]="Vertical",e[e.Horizontal=1]="Horizontal"}(Bp||(Bp={})),function(e){e.Top="top",e.Right="right",e.Bottom="bottom",e.Left="left"}(Wp||(Wp={}));var Vp=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.color="black",t.fontSize=12,t.fontFamily="Verdana, sans-serif",t}return Hp(t,e),jp([Zs("change")],t.prototype,"color",void 0),jp([Zs("layoutChange")],t.prototype,"fontStyle",void 0),jp([Zs("layoutChange")],t.prototype,"fontWeight",void 0),jp([Zs("layoutChange")],t.prototype,"fontSize",void 0),jp([Zs("layoutChange")],t.prototype,"fontFamily",void 0),jp([Zs()],t.prototype,"formatter",void 0),t}($s),zp=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.size=15,t.padding=8,t.strokeWidth=1,t}return Hp(t,e),jp([Zs("layoutChange")],t.prototype,"size",void 0),jp([Zs("layoutChange")],t.prototype,"shape",void 0),jp([Zs("layoutChange")],t.prototype,"padding",void 0),jp([Zs("change")],t.prototype,"strokeWidth",void 0),t}($s),Up=function(e){function t(){var t=e.call(this)||this;t.marker=new zp,t.label=new Vp,t.paddingX=16,t.paddingY=8;var r=function(){return t.fireEvent({type:"change"})};t.marker.addEventListener("change",r),t.label.addEventListener("change",r);var n=function(){return t.fireEvent({type:"layoutChange"})};return t.marker.addEventListener("layoutChange",n),t.label.addEventListener("layoutChange",n),t}return Hp(t,e),jp([Zs("layoutChange")],t.prototype,"paddingX",void 0),jp([Zs("layoutChange")],t.prototype,"paddingY",void 0),t}($s),Yp=function(e){function t(){var t=e.call(this)||this;return t.id=ol(t),t.group=new mu,t.itemSelection=Cu.select(t.group).selectAll(),t.oldSize=[0,0],t.item=new Up,t.data=[],t.enabled=!0,t.orientation=Bp.Vertical,t.position=Wp.Right,t.spacing=20,t._size=[0,0],t.addPropertyListener("data",t.onDataChange),t.addPropertyListener("enabled",t.onEnabledChange),t.addPropertyListener("position",t.onPositionChange),t.item.marker.addPropertyListener("shape",t.onMarkerShapeChange,t),t.addEventListener("change",t.update),t.item.addEventListener("change",(function(){return t.fireEvent({type:"change"})})),t.item.addEventListener("layoutChange",(function(){return t.fireEvent({type:"layoutChange"})})),t}return Hp(t,e),Object.defineProperty(t.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),t.prototype.onDataChange=function(e){this.group.visible=e.value.length>0&&this.enabled},t.prototype.onEnabledChange=function(e){this.group.visible=e.value&&this.data.length>0},t.prototype.onPositionChange=function(e){switch(e.value){case"right":case"left":this.orientation=Bp.Vertical;break;case"bottom":case"top":this.orientation=Bp.Horizontal}},t.prototype.onMarkerShapeChange=function(){this.itemSelection=this.itemSelection.setData([]),this.itemSelection.exit.remove(),this.group.scene&&(this.group.scene.dirty=!1)},t.prototype.performLayout=function(e,t){var r=this.item,n=r.marker,o=r.paddingX,i=r.paddingY,a=this.itemSelection.setData(this.data,(function(e,t){var r=Gp(n.shape||t.marker.shape);return t.id+"-"+t.itemId+"-"+r.name}));a.exit.remove();var s=a.enter.append(Op).each((function(e,t){var r=Gp(n.shape||t.marker.shape);e.marker=new r})),l=this.itemSelection=a.merge(s),u=l.size,c=[],p=this.item.marker,d=this.item.label;l.each((function(e,t){e.markerSize=p.size,e.spacing=p.padding,e.fontStyle=d.fontStyle,e.fontWeight=d.fontWeight,e.fontSize=d.fontSize,e.fontFamily=d.fontFamily;var r=t.label.text;r.length>25&&(r=r.substring(0,25-"...".length)+"..."),e.text=r,c.push(e.computeBBox())}));var h=c.length&&c[0].height,f=0,g=0,y=0,v=0;switch(e=Math.max(1,e),t=Math.max(1,t),this.orientation){case Bp.Horizontal:if(!(isFinite(e)&&e>0))return!1;f=0;var m=0;do{var b=0;m=0,g=0,f++;for(var C=0;C<u;){(S=c[C]).width>g&&(g=S.width),++C%f===0&&(b+=g,g=0,m++)}C%f!==0&&(b+=g,m++),y=b+(m-1)*o}while(y>e&&m>1);v=h*f+(f-1)*i;break;case Bp.Vertical:if(!(isFinite(t)&&t>0))return!1;f=2*u;do{f=(f>>1)+f%2,g=0;b=0;var w=0,x=0;for(C=0;C<u;){var S=c[C];x||(w+=S.height),S.width>g&&(g=S.width),++C%f===0&&(b+=g,g=0,x++)}C%f!==0&&(b+=g,x++),y=b+(x-1)*o,v=w+(f-1)*i}while(v>t&&f>1)}var E=(e-y)/2,O=(t-v)/2,_=0,P=0;g=0,l.each((function(e,t,r){e.translationX=Math.floor(E+_),e.translationY=Math.floor(O+P);var n=c[r];n.width>g&&(g=n.width),(r+1)%f===0?(_+=g+o,P=0,g=0):P+=n.height+i})),this.update();var R=this._size,A=this.oldSize;R[0]=y,R[1]=v,R[0]===A[0]&&R[1]===A[1]||(A[0]=R[0],A[1]=R[1])},t.prototype.update=function(){var e=this;this.itemSelection.each((function(t,r){var n=r.marker;t.markerFill=n.fill,t.markerStroke=n.stroke,t.markerStrokeWidth=e.item.marker.strokeWidth,t.markerFillOpacity=n.fillOpacity,t.markerStrokeOpacity=n.strokeOpacity,t.opacity=r.enabled?1:.5,t.color=e.item.label.color}))},t.prototype.getDatumForPoint=function(e,t){var r=this.group.pickNode(e,t);if(r&&r.parent)return r.parent.datum},t.className="Legend",jp([Zs("layoutChange")],t.prototype,"data",void 0),jp([Zs("layoutChange")],t.prototype,"enabled",void 0),jp([Zs("layoutChange")],t.prototype,"orientation",void 0),jp([Zs("layoutChange")],t.prototype,"position",void 0),jp([Zs("layoutChange")],t.prototype,"spacing",void 0),t}($s),Xp=function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Kp=function(){function e(){}return e.init=function(){var e=this,t=window.ResizeObserver;if(t)this.resizeObserver=new t((function(t){var r,n;try{for(var o=Xp(t),i=o.next();!i.done;i=o.next()){var a=i.value,s=a.contentRect,l=s.width,u=s.height;e.checkSize(e.elements.get(a.target),a.target,l,u)}}catch(c){r={error:c}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}}));else{window.setInterval((function(){e.elements.forEach((function(t,r){e.checkClientSize(r,t)}))}),100)}this.ready=!0},e.checkSize=function(e,t,r,n){e&&(e.size&&r===e.size.width&&n===e.size.height||(e.size={width:r,height:n},e.cb(e.size,t)))},e.observe=function(e,t){this.ready||this.init(),this.unobserve(e),this.resizeObserver&&this.resizeObserver.observe(e),this.elements.set(e,{cb:t}),this.checkClientSize(e,{cb:t})},e.unobserve=function(e){this.resizeObserver&&this.resizeObserver.unobserve(e),this.elements.delete(e)},e.checkClientSize=function(e,t){var r=e.clientWidth?e.clientWidth:0,n=e.clientHeight?e.clientHeight:0;this.checkSize(t,e,r,n)},e.elements=new Map,e.ready=!1,e}();function qp(e,t,r,n,o,i,a){var s=e-(e<n?n:e>n+i?n+i:e),l=t-(t<o?o:t>o+a?o+a:t);return Math.sqrt(s*s+l*l)<=r}var $p=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Zp=function(){return Zp=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Zp.apply(this,arguments)},Qp=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Jp=function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function ed(e,t){if("string"===typeof e)return e;t=t||{};var r=e.content,n=void 0===r?t.content||"":r,o=e.title,i=void 0===o?t.title||void 0:o,a=e.color,s=void 0===a?t.color||"white":a,l=e.backgroundColor,u=void 0===l?t.backgroundColor||"#888":l;return(i?'<div class="'+rd.defaultTooltipClass+'-title"\n        style="color: '+s+"; background-color: "+u+'">'+i+"</div>":"")+'<div class="'+rd.defaultTooltipClass+'-content">'+n+"</div>"}var td=function(e){function t(t,r){var n=e.call(this)||this;n.enabled=!0,n.class=rd.defaultTooltipClass,n.delay=0,n.tracking=!0,n.showTimeout=0,n.constrained=!1,n.chart=t,n.class="";var o=r.body,i=r.createElement("div");if(n.element=o.appendChild(i),window.IntersectionObserver){var a=n.chart.scene.canvas.element,s=new IntersectionObserver((function(e){var t,r;try{for(var o=Jp(e),i=o.next();!i.done;i=o.next()){var s=i.value;s.target===a&&0===s.intersectionRatio&&n.toggle(!1)}}catch(l){t={error:l}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}}),{root:o});s.observe(a),n.observer=s}return n}return $p(t,e),t.prototype.destroy=function(){var e=this.element.parentNode;e&&e.removeChild(this.element),this.observer&&this.observer.unobserve(this.chart.scene.canvas.element)},t.prototype.isVisible=function(){var e=this.element;if(e.classList)return!e.classList.contains(rd.defaultTooltipClass+"-hidden");var t=e.getAttribute("class");return!!t&&t.split(" ").indexOf(rd.defaultTooltipClass+"-hidden")<0},t.prototype.updateClass=function(e,t){var r=[rd.defaultTooltipClass,this.class];!0!==e&&r.push(rd.defaultTooltipClass+"-hidden"),!0!==t&&r.push(rd.defaultTooltipClass+"-arrow"),this.element.setAttribute("class",r.join(" "))},t.prototype.show=function(e,t,r){var n=this;void 0===r&&(r=!1);var o=this.element;if(void 0!==t)o.innerHTML=t;else if(!o.innerHTML)return;var i=e.pageX-o.clientWidth/2,a=e.pageY-o.clientHeight-8;if(this.constrained=!1,this.chart.container){var s=o.getBoundingClientRect(),l=window.innerWidth-s.width-1;i<0?(i=0,this.updateClass(!0,this.constrained=!0)):i>l&&(i=l,this.updateClass(!0,this.constrained=!0)),a<window.pageYOffset&&(a=e.pageY+20,this.updateClass(!0,this.constrained=!0))}if(o.style.left=Math.round(i)+"px",o.style.top=Math.round(a)+"px",this.delay>0&&!r)return this.toggle(!1),void(this.showTimeout=window.setTimeout((function(){n.toggle(!0)}),this.delay));this.toggle(!0)},t.prototype.toggle=function(e){e||(window.clearTimeout(this.showTimeout),this.chart.lastPick&&!this.delay&&(this.chart.dehighlightDatum(),this.chart.lastPick=void 0)),this.updateClass(e,this.constrained)},Qp([Zs()],t.prototype,"enabled",void 0),Qp([Zs()],t.prototype,"class",void 0),Qp([Zs()],t.prototype,"delay",void 0),Qp([Zs()],t.prototype,"tracking",void 0),t}($s),rd=function(e){function t(r){void 0===r&&(r=window.document);var n=e.call(this)||this;n.id=ol(n),n.background=new bp,n.legend=new Yp,n.legendAutoPadding=new el,n.captionAutoPadding=0,n._container=void 0,n._data=[],n._autoSize=!1,n.padding=new el(20),n._axes=[],n._series=[],n._axesChanged=!1,n._seriesChanged=!1,n.layoutCallbackId=0,n._performLayout=function(){n.layoutCallbackId=0,n.background.width=n.width,n.background.height=n.height,n.performLayout(),n.layoutPending||n.fireEvent({type:"layoutDone"})},n.dataCallbackId=0,n.nodeData=new Map,n.updateCallbackId=0,n.legendBBox=new tl(0,0,0,0),n._onMouseDown=n.onMouseDown.bind(n),n._onMouseMove=n.onMouseMove.bind(n),n._onMouseUp=n.onMouseUp.bind(n),n._onMouseOut=n.onMouseOut.bind(n),n._onClick=n.onClick.bind(n),n.pointerInsideLegend=!1,n.pointerOverLegendDatum=!1;var o=new mu,i=n.background;i.fill="white",o.appendChild(i);var a=n._element=r.createElement("div");a.setAttribute("class","ag-chart-wrapper");var s=new fp(r);n.scene=s,n.autoSize=!0,s.root=o,s.container=a,n.padding.addEventListener("layoutChange",n.scheduleLayout,n);var l=n.legend;if(l.addEventListener("layoutChange",n.scheduleLayout,n),l.item.label.addPropertyListener("formatter",n.updateLegend,n),l.addPropertyListener("position",n.onLegendPositionChange,n),n.tooltip=new td(n,r),n.tooltip.addPropertyListener("class",(function(){return n.tooltip.toggle()})),t.tooltipDocuments.indexOf(r)<0){var u=r.createElement("style");u.innerHTML='\n.ag-chart-tooltip {\n    display: table;\n    position: absolute;\n    user-select: none;\n    pointer-events: none;\n    white-space: nowrap;\n    z-index: 99999;\n    font: 12px Verdana, sans-serif;\n    color: black;\n    background: rgb(244, 244, 244);\n    border-radius: 5px;\n    box-shadow: 0 0 1px rgba(3, 3, 3, 0.7), 0.5vh 0.5vh 1vh rgba(3, 3, 3, 0.25);\n}\n\n.ag-chart-tooltip-hidden {\n    top: -10000px !important;\n}\n\n.ag-chart-tooltip-title {\n    font-weight: bold;\n    padding: 7px;\n    border-top-left-radius: 5px;\n    border-top-right-radius: 5px;\n    color: white;\n    background-color: #888888;\n    border-top-left-radius: 5px;\n    border-top-right-radius: 5px;\n}\n\n.ag-chart-tooltip-content {\n    padding: 7px;\n    line-height: 1.7em;\n    border-bottom-left-radius: 5px;\n    border-bottom-right-radius: 5px;\n    overflow: hidden;\n}\n\n.ag-chart-tooltip-content:empty {\n    padding: 0;\n    height: 7px;\n}\n\n.ag-chart-tooltip-arrow::before {\n    content: "";\n\n    position: absolute;\n    top: 100%;\n    left: 50%;\n    transform: translateX(-50%);\n\n    border: 6px solid #989898;\n\n    border-left-color: transparent;\n    border-right-color: transparent;\n    border-top-color: #989898;\n    border-bottom-color: transparent;\n\n    width: 0;\n    height: 0;\n\n    margin: 0 auto;\n}\n\n.ag-chart-tooltip-arrow::after {\n    content: "";\n\n    position: absolute;\n    top: 100%;\n    left: 50%;\n    transform: translateX(-50%);\n\n    border: 5px solid black;\n\n    border-left-color: transparent;\n    border-right-color: transparent;\n    border-top-color: rgb(244, 244, 244);\n    border-bottom-color: transparent;\n\n    width: 0;\n    height: 0;\n\n    margin: 0 auto;\n}\n\n.ag-chart-wrapper {\n    box-sizing: border-box;\n    overflow: hidden;\n}\n',r.head.insertBefore(u,r.head.querySelector("style")),t.tooltipDocuments.push(r)}return n.setupDomListeners(s.canvas.element),n.addPropertyListener("title",n.onCaptionChange),n.addPropertyListener("subtitle",n.onCaptionChange),n.addEventListener("layoutChange",n.scheduleLayout),n}return $p(t,e),Object.defineProperty(t.prototype,"container",{get:function(){return this._container},set:function(e){if(this._container!==e){var t=this.element.parentNode;null!=t&&t.removeChild(this.element),e&&e.appendChild(this.element),this._container=e}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(e){this._data=e,this.series.forEach((function(t){return t.data=e}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.scene.width},set:function(e){this.autoSize=!1,this.width!==e&&(this.scene.resize(e,this.height),this.fireEvent({type:"layoutChange"}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.scene.height},set:function(e){this.autoSize=!1,this.height!==e&&(this.scene.resize(this.width,e),this.fireEvent({type:"layoutChange"}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoSize",{get:function(){return this._autoSize},set:function(e){if(this._autoSize!==e){this._autoSize=e;var t=this.element.style;if(e){var r=this;Kp.observe(this.element,(function(e){e.width===r.width&&e.height===r.height||(r.scene.resize(e.width,e.height),r.fireEvent({type:"layoutChange"}))})),t.display="block",t.width="100%",t.height="100%"}else Kp.unobserve(this.element),t.display="inline-block",t.width="auto",t.height="auto"}},enumerable:!0,configurable:!0}),t.prototype.download=function(e){this.scene.download(e)},t.prototype.destroy=function(){this.tooltip.destroy(),Kp.unobserve(this.element),this.container=void 0,this.cleanupDomListeners(this.scene.canvas.element),this.scene.container=void 0},t.prototype.onLegendPositionChange=function(){this.legendAutoPadding.clear(),this.layoutPending=!0},t.prototype.onCaptionChange=function(e){var t=e.value,r=e.oldValue;r&&(r.removeEventListener("change",this.scheduleLayout,this),this.scene.root.removeChild(r.node)),t&&(t.addEventListener("change",this.scheduleLayout,this),this.scene.root.appendChild(t.node))},Object.defineProperty(t.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"axes",{get:function(){return this._axes},set:function(e){var t=this;this._axes.forEach((function(e){return t.detachAxis(e)})),this._axes=e.filter((function(e){return!e.linkedTo})).concat(e.filter((function(e){return e.linkedTo}))),this._axes.forEach((function(e){return t.attachAxis(e)})),this.axesChanged=!0},enumerable:!0,configurable:!0}),t.prototype.attachAxis=function(e){this.scene.root.insertBefore(e.group,this.seriesRoot)},t.prototype.detachAxis=function(e){this.scene.root.removeChild(e.group)},Object.defineProperty(t.prototype,"series",{get:function(){return this._series},set:function(e){var t=this;this.removeAllSeries(),e.forEach((function(e){return t.addSeries(e)}))},enumerable:!0,configurable:!0}),t.prototype.scheduleLayout=function(){this.layoutPending=!0},t.prototype.scheduleData=function(){this.dehighlightDatum(),this.dataPending=!0},t.prototype.addSeries=function(e,t){var r=this.series,n=this.seriesRoot;if(r.indexOf(e)<0){var o=t?r.indexOf(t):-1;return o>=0?(r.splice(o,0,e),n.insertBefore(e.group,t.group)):(r.push(e),n.append(e.group)),this.initSeries(e),this.seriesChanged=!0,this.axesChanged=!0,!0}return!1},t.prototype.initSeries=function(e){e.chart=this,e.data||(e.data=this.data),e.addEventListener("layoutChange",this.scheduleLayout,this),e.addEventListener("dataChange",this.scheduleData,this),e.addEventListener("legendChange",this.updateLegend,this),e.addEventListener("nodeClick",this.onSeriesNodeClick,this)},t.prototype.freeSeries=function(e){e.chart=void 0,e.removeEventListener("layoutChange",this.scheduleLayout,this),e.removeEventListener("dataChange",this.scheduleData,this),e.removeEventListener("legendChange",this.updateLegend,this),e.removeEventListener("nodeClick",this.onSeriesNodeClick,this)},t.prototype.addSeriesAfter=function(e,t){var r=this.series,n=this.seriesRoot;if(r.indexOf(e)<0){var o=t?this.series.indexOf(t):-1;o>=0?(o+1<r.length?n.insertBefore(e.group,r[o+1].group):n.append(e.group),this.initSeries(e),r.splice(o+1,0,e)):(r.length>0?n.insertBefore(e.group,r[0].group):n.append(e.group),this.initSeries(e),r.unshift(e)),this.seriesChanged=!0,this.axesChanged=!0}return!1},t.prototype.removeSeries=function(e){var t=this.series.indexOf(e);return t>=0&&(this.series.splice(t,1),this.freeSeries(e),this.seriesRoot.removeChild(e.group),this.seriesChanged=!0,!0)},t.prototype.removeAllSeries=function(){var e=this;this.series.forEach((function(t){e.freeSeries(t),e.seriesRoot.removeChild(t.group)})),this._series=[],this.seriesChanged=!0},t.prototype.assignSeriesToAxes=function(){var e=this;this.axes.forEach((function(t){var r=t.direction+"Axis",n=[];e.series.forEach((function(e){e[r]===t&&n.push(e)})),t.boundSeries=n})),this.seriesChanged=!1},t.prototype.assignAxesToSeries=function(e){var t=this;void 0===e&&(e=!1);var r={};this.axes.forEach((function(e){var t=e.direction;(r[t]||(r[t]=[])).push(e)})),this.series.forEach((function(n){n.directions.forEach((function(o){var i=o+"Axis";if(!n[i]||e){var a=r[o];if(a){var s=t.findMatchingAxis(a,n.getKeys(o));s&&(n[i]=s)}}}))})),this.axesChanged=!1},t.prototype.findMatchingAxis=function(e,t){for(var r=0;r<e.length;r++){var n=e[r],o=n.keys;if(!o.length)return n;if(t)for(var i=0;i<t.length;i++)if(o.indexOf(t[i])>=0)return n}},Object.defineProperty(t.prototype,"axesChanged",{get:function(){return this._axesChanged},set:function(e){this._axesChanged=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"seriesChanged",{get:function(){return this._seriesChanged},set:function(e){this._seriesChanged=e,e&&(this.dataPending=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"layoutPending",{get:function(){return!!this.layoutCallbackId},set:function(e){e?this.layoutCallbackId||this.dataPending||(this.layoutCallbackId=requestAnimationFrame(this._performLayout),this.series.forEach((function(e){return e.nodeDataPending=!0}))):this.layoutCallbackId&&(cancelAnimationFrame(this.layoutCallbackId),this.layoutCallbackId=0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataPending",{get:function(){return!!this.dataCallbackId},set:function(e){var t=this;this.dataCallbackId&&(clearTimeout(this.dataCallbackId),this.dataCallbackId=0),e&&(this.dataCallbackId=window.setTimeout((function(){t.dataPending=!1,t.processData()}),0))},enumerable:!0,configurable:!0}),t.prototype.processData=function(){this.layoutPending=!1,this.axesChanged&&(this.assignAxesToSeries(!0),this.assignSeriesToAxes()),this.seriesChanged&&this.assignSeriesToAxes(),this.series.forEach((function(e){return e.processData()})),this.updateLegend(),this.layoutPending=!0},t.prototype.createNodeData=function(){var e=this;this.nodeData.clear(),this.series.forEach((function(t){var r=t.visible?t.createNodeData():[];e.nodeData.set(t,r)}))},t.prototype.placeLabels=function(){var e=[],t=[];this.nodeData.forEach((function(r,n){n.visible&&n.label.enabled&&(e.push(n),t.push(n.getLabelData()))}));var r=this.seriesRect,n=r?function(e,t,r){void 0===r&&(r=5);var n=[];e=e.map((function(e){return e.slice().sort((function(e,t){return t.size-e.size}))}));for(var o=0;o<e.length;o++){var i=n[o]=[],a=e[o];if(a&&a.length&&a[0].label)for(var s=function(o,s){var l,u,c,p,d,h,f=a[o],g=f.label,y=.5*f.size,v=f.point.x-.5*g.width,m=f.point.y-y-g.height-r,b=g.width,C=g.height;if(t&&(l=t.x,u=t.y,c=t.width,p=t.height,h=m,!((d=v)+b<l+c&&d>l&&h>u&&h+C<u+p)))return"continue";var w=e.some((function(e){return e.some((function(e){return qp(e.point.x,e.point.y,.5*e.size,v,m,b,C)}))}));if(w)return"continue";var x=n.some((function(e){return e.some((function(e){return t=e.x,r=e.y,n=e.width,o=e.height,a=m,t+n>(i=v)&&t<i+b&&r+o>a&&r<a+C;var t,r,n,o,i,a}))}));if(x)return"continue";i.push({index:o,text:g.text,x:v,y:m,width:b,height:C})},l=0,u=a.length;l<u;l++)s(l)}return n}(t,{x:0,y:0,width:r.width,height:r.height}):[];return new Map(n.map((function(t,r){return[e[r],t]})))},t.prototype.updateLegend=function(){var e=[];this.series.filter((function(e){return e.showInLegend})).forEach((function(t){return t.listSeriesItems(e)}));var t=this.legend.item.label.formatter;t&&e.forEach((function(e){return e.label.text=t({id:e.id,itemId:e.itemId,value:e.label.text})})),this.legend.data=e},Object.defineProperty(t.prototype,"updatePending",{get:function(){return!!this.updateCallbackId},set:function(e){var t=this;this.updateCallbackId&&(clearTimeout(this.updateCallbackId),this.updateCallbackId=0),e&&!this.layoutPending&&(this.updateCallbackId=window.setTimeout((function(){t.update()}),0))},enumerable:!0,configurable:!0}),t.prototype.update=function(){this.updatePending=!1,this.series.forEach((function(e){e.updatePending&&e.update()}))},t.prototype.positionCaptions=function(){var e=this.title,t=this.subtitle,r=!1,n=!1,o=10;if(e&&e.enabled){e.node.x=this.width/2,e.node.y=o,r=!0;var i=e.node.computeBBox();if(i&&(o=i.y+i.height),t&&t.enabled){t.node.x=this.width/2,t.node.y=o+10,n=!0;var a=t.node.computeBBox();a&&(o=a.y+a.height)}}e&&(e.node.visible=r),t&&(t.node.visible=n),this.captionAutoPadding=Math.floor(o)},t.prototype.positionLegend=function(){if(this.legend.enabled&&this.legend.data.length){var e,t=this,r=t.legend,n=t.captionAutoPadding,o=t.legendAutoPadding,i=this.width,a=this.height-n,s=r.group,l=r.spacing,u=0,c=0;switch(r.position){case"bottom":r.performLayout(i-2*l,0),e=s.computeBBox(),s.visible=e.height<Math.floor(.5*a),s.visible?(u=(i-e.width)/2-e.x,c=n+a-e.height-e.y-l,o.bottom=e.height):o.bottom=0;break;case"top":r.performLayout(i-2*l,0),e=s.computeBBox(),s.visible=e.height<Math.floor(.5*a),s.visible?(u=(i-e.width)/2-e.x,c=n+l-e.y,o.top=e.height):o.top=0;break;case"left":r.performLayout(0,a-2*l),e=s.computeBBox(),s.visible=e.width<Math.floor(.5*i),s.visible?(u=l-e.x,c=n+(a-e.height)/2-e.y,o.left=e.width):o.left=0;break;default:r.performLayout(0,a-2*l),e=s.computeBBox(),s.visible=e.width<Math.floor(.5*i),s.visible?(u=i-e.width-e.x-l,c=n+(a-e.height)/2-e.y,o.right=e.width):o.right=0}s.visible&&(s.translationX=Math.floor(u+s.translationX),s.translationY=Math.floor(c+s.translationY),this.legendBBox=s.computeBBox())}},t.prototype.setupDomListeners=function(e){e.addEventListener("mousedown",this._onMouseDown),e.addEventListener("mousemove",this._onMouseMove),e.addEventListener("mouseup",this._onMouseUp),e.addEventListener("mouseout",this._onMouseOut),e.addEventListener("click",this._onClick)},t.prototype.cleanupDomListeners=function(e){e.removeEventListener("mousedown",this._onMouseDown),e.removeEventListener("mousemove",this._onMouseMove),e.removeEventListener("mouseup",this._onMouseUp),e.removeEventListener("mouseout",this._onMouseOut),e.removeEventListener("click",this._onClick)},t.prototype.getSeriesRect=function(){return this.seriesRect},t.prototype.pickSeriesNode=function(e,t){if(this.seriesRect&&this.seriesRect.containsPoint(e,t))for(var r=this.series,n=void 0,o=r.length-1;o>=0;o--){var i=r[o];if(i.visible&&i.group.visible&&(n=i.pickGroup.pickNode(e,t)))return{series:i,node:n}}},t.prototype.pickClosestSeriesNodeDatum=function(e,t){if(this.seriesRect&&this.seriesRect.containsPoint(e,t)){for(var r,n=this.series,o=1/0,i=function(i){var a=n[i];if(!a.visible||!a.group.visible)return"continue";var s=a.group.transformPoint(e,t);a.getNodeData().forEach((function(e){var t,n;if(e.point){var i=a.xAxis,l=a.yAxis;if((null===(t=i)||void 0===t?void 0:t.inRange(e.point.x))&&(null===(n=l)||void 0===n?void 0:n.inRange(e.point.y))){var u,c,p=(u=s,c=e.point,Math.sqrt(Math.pow(u.x-c.x,2)+Math.pow(u.y-c.y,2)));p<o&&(o=p,r=e)}}}))},a=n.length-1;a>=0;a--)i(a);return r}},t.prototype.onMouseMove=function(e){this.handleLegendMouseMove(e),this.tooltip.enabled&&(this.tooltip.delay>0&&this.tooltip.toggle(!1),this.handleTooltip(e))},t.prototype.handleTooltip=function(e){var t,r=this.lastPick,n=this.tooltip.tracking,o=e.offsetX,i=e.offsetY,a=this.pickSeriesNode(o,i);if(a&&a.node instanceof vl){var s=a.node;if(t=s.datum,r&&r.datum===t&&(r.node=s,r.event=e),!s.datum.point||!n)return void(r&&r.node===s?a.series.tooltip.enabled&&this.tooltip.show(e):this.onSeriesDatumPick(e,s.datum,s,e))}var l=!1;if(n){var u=this.pickClosestSeriesNodeDatum(o,i);if(u&&u.point){var c=u.point,p=c.x,d=c.y,h=this.scene.canvas,f=u.series.group.inverseTransformPoint(p,d),g=h.element.getBoundingClientRect();this.onSeriesDatumPick({pageX:Math.round(g.left+window.pageXOffset+f.x),pageY:Math.round(g.top+window.pageYOffset+f.y)},u,t===u&&a?a.node:void 0,e)}else l=!0}!r||!l&&n||(this.dehighlightDatum(),this.tooltip.toggle(!1),this.lastPick=void 0)},t.prototype.onMouseDown=function(e){},t.prototype.onMouseUp=function(e){},t.prototype.onMouseOut=function(e){this.tooltip.toggle(!1)},t.prototype.onClick=function(e){this.checkSeriesNodeClick()||this.checkLegendClick(e)||this.fireEvent({type:"click",event:e})},t.prototype.checkSeriesNodeClick=function(){var e=this.lastPick;if(e&&e.event&&e.node){var t=e.event,r=e.datum;return r.series.fireNodeClickEvent(t,r),!0}return!1},t.prototype.onSeriesNodeClick=function(e){this.fireEvent(Zp(Zp({},e),{type:"seriesNodeClick"}))},t.prototype.checkLegendClick=function(e){var t=this.legend.getDatumForPoint(e.offsetX,e.offsetY);if(t){var r=t.id,n=t.itemId,o=t.enabled,i=uu(this.series,(function(e){return e.id===r}));if(i)return i.toggleSeriesItem(n,!o),o&&this.tooltip.toggle(!1),this.legend.fireEvent({type:"click",event:e,itemId:n,enabled:!o}),!0}return!1},t.prototype.handleLegendMouseMove=function(e){if(this.legend.enabled){var t=e.offsetX,r=e.offsetY,n=this.legend.getDatumForPoint(t,r),o=this.legendBBox.containsPoint(t,r),i=o&&void 0!==n;if(!o&&this.pointerInsideLegend)return this.pointerInsideLegend=!1,this.element.style.cursor="default",void this.dehighlightDatum();i&&!this.pointerOverLegendDatum&&(this.element.style.cursor="pointer"),!i&&this.pointerOverLegendDatum&&(this.element.style.cursor="default"),this.pointerInsideLegend=o,this.pointerOverLegendDatum=i;var a=this.highlightedDatum;if(n){var s=n.id,l=n.itemId;if(n.enabled){var u=uu(this.series,(function(e){return e.id===s}));u&&(this.highlightedDatum={series:u,itemId:l,datum:void 0})}}(this.highlightedDatum&&!a||this.highlightedDatum&&a&&(this.highlightedDatum.series!==a.series||this.highlightedDatum.itemId!==a.itemId))&&this.series.forEach((function(e){return e.updatePending=!0}))}},t.prototype.onSeriesDatumPick=function(e,t,r,n){var o=this.lastPick;if(o){if(o.datum===t)return;this.dehighlightDatum()}this.lastPick={datum:t,node:r,event:n},this.highlightDatum(t);var i=t.series.tooltip.enabled&&t.series.getTooltipHtml(t);i&&this.tooltip.show(e,i)},t.prototype.highlightDatum=function(e){this.element.style.cursor=e.series.cursor,this.highlightedDatum=e,this.series.forEach((function(e){return e.updatePending=!0}))},t.prototype.dehighlightDatum=function(){this.highlightedDatum&&(this.highlightedDatum=void 0,this.series.forEach((function(e){return e.updatePending=!0})))},t.defaultTooltipClass="ag-chart-tooltip",t.tooltipDocuments=[],Qp([Zs("layoutChange")],t.prototype,"title",void 0),Qp([Zs("layoutChange")],t.prototype,"subtitle",void 0),t}($s),nd=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),od=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isContainerNode=!0,t.path=new Ru,t._enabled=!0,t._dirtyPath=!0,t._x=0,t._y=0,t._width=10,t._height=10,t}return nd(t,e),t.prototype.containsPoint=function(e,t){var r=this.transformPoint(e,t);return r.x>=this.x&&r.x<=this.x+this.width&&r.y>=this.y&&r.y<=this.y+this.height},Object.defineProperty(t.prototype,"enabled",{get:function(){return this._enabled},set:function(e){this._enabled!==e&&(this._enabled=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirtyPath",{get:function(){return this._dirtyPath},set:function(e){this._dirtyPath!==e&&(this._dirtyPath=e,e&&(this.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width!==e&&(this._width=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height!==e&&(this._height=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),t.prototype.updatePath=function(){var e=this.path;e.clear(),e.rect(this.x,this.y,this.width,this.height),this.dirtyPath=!1},t.prototype.computeBBox=function(){var e=this,t=e.x,r=e.y,n=e.width,o=e.height;return new tl(t,r,n,o)},t.prototype.render=function(e){this.enabled&&(this.dirtyPath&&this.updatePath(),this.path.draw(e),e.clip());for(var t=this.children,r=t.length,n=0;n<r;n++){e.save();var o=t[n];o.visible&&o.render(e),e.restore()}},t.className="ClipRect",t}(sl),id=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ad=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._fill="#f2f2f2",t._stroke="#999999",t._strokeWidth=1,t._lineCap="square",t._centerX=0,t._centerY=0,t._width=8,t._gripLineGap=2,t._gripLineLength=8,t._height=16,t}return id(t,e),Object.defineProperty(t.prototype,"centerX",{get:function(){return this._centerX},set:function(e){this._centerX!==e&&(this._centerX=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"centerY",{get:function(){return this._centerY},set:function(e){this._centerY!==e&&(this._centerY=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width!==e&&(this._width=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gripLineGap",{get:function(){return this._gripLineGap},set:function(e){this._gripLineGap!==e&&(this._gripLineGap=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gripLineLength",{get:function(){return this._gripLineLength},set:function(e){this._gripLineLength!==e&&(this._gripLineLength=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height!==e&&(this._height=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),t.prototype.computeBBox=function(){var e=this,t=e.centerX,r=e.centerY,n=e.width,o=e.height;return new tl(t-n/2,r-o/2,n,o)},t.prototype.isPointInPath=function(e,t){var r=this.transformPoint(e,t);return this.computeBBox().containsPoint(r.x,r.y)},t.prototype.updatePath=function(){var e=this,t=e.path,r=e.centerX,n=e.centerY,o=e.width,i=e.height,a=this.alignment,s=this.align;t.clear();var l=r-o/2,u=n-i/2,c=s(a,l),p=s(a,u),d=c+s(a,l,o),h=p+s(a,u,i);t.moveTo(c,p),t.lineTo(d,p),t.lineTo(d,h),t.lineTo(c,h),t.lineTo(c,p);var f=this.gripLineGap/2,g=this.gripLineLength/2;t.moveTo(s(a,r-f),s(a,n-g)),t.lineTo(s(a,r-f),s(a,n+g)),t.moveTo(s(a,r+f),s(a,n-g)),t.lineTo(s(a,r+f),s(a,n+g))},t.className="RangeHandle",t}(Tu),sd=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ld=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._stroke="#999999",t._strokeWidth=1,t._fill="#999999",t._fillOpacity=.2,t._lineCap="square",t._x=0,t._y=0,t._width=200,t._height=30,t.minRange=.05,t._min=0,t._max=1,t}return sd(t,e),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width!==e&&(this._width=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height!==e&&(this._height=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this._min},set:function(e){e=Math.min(Math.max(e,0),this.max-this.minRange),isNaN(e)||this._min!==e&&(this._min=e,this.dirtyPath=!0,this.onRangeChange&&this.onRangeChange(e,this.max))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this._max},set:function(e){e=Math.max(Math.min(e,1),this.min+this.minRange),isNaN(e)||this._max!==e&&(this._max=e,this.dirtyPath=!0,this.onRangeChange&&this.onRangeChange(this.min,e))},enumerable:!0,configurable:!0}),t.prototype.computeBBox=function(){var e=this,t=e.x,r=e.y,n=e.width,o=e.height;return new tl(t,r,n,o)},t.prototype.computeVisibleRangeBBox=function(){var e=this,t=e.x,r=e.y,n=e.width,o=e.height,i=e.min,a=e.max,s=t+n*i;return new tl(s,r,t+n*a-s,o)},t.prototype.updatePath=function(){var e=this,t=e.path,r=e.x,n=e.y,o=e.width,i=e.height,a=e.min,s=e.max,l=this.alignment,u=this.align;t.clear();var c=u(l,r),p=u(l,n),d=c+u(l,r,o),h=p+u(l,n,i);t.moveTo(c,p),t.lineTo(d,p),t.lineTo(d,h),t.lineTo(c,h),t.lineTo(c,p);var f=u(l,r+o*a),g=u(l,r+o*s);t.moveTo(f,p),t.lineTo(f,h),t.lineTo(g,h),t.lineTo(g,p),t.lineTo(f,p)},t.className="RangeMask",t}(Tu),ud=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),cd=function(e){function t(){var r=null!==e&&e.apply(this,arguments)||this;return r.isContainerNode=!0,r.minHandle=new ad,r.maxHandle=new ad,r.mask=function(){var e=t.defaults,n=e.x,o=e.y,i=e.width,a=e.height,s=e.min,l=e.max,u=new ld;u.x=n,u.y=o,u.width=i,u.height=a,u.min=s,u.max=l;var c=r,p=c.minHandle,d=c.maxHandle;return p.centerX=n,d.centerX=n+i,p.centerY=d.centerY=o+a/2,r.append([u,p,d]),u.onRangeChange=function(e,t){r.updateHandles(),r.onRangeChange&&r.onRangeChange(e,t)},u}(),r._x=t.defaults.x,r._y=t.defaults.y,r._width=t.defaults.width,r._height=t.defaults.height,r._min=t.defaults.min,r._max=t.defaults.max,r}return ud(t,e),Object.defineProperty(t.prototype,"x",{get:function(){return this.mask.x},set:function(e){this.mask.x=e,this.updateHandles()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.mask.y},set:function(e){this.mask.y=e,this.updateHandles()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.mask.width},set:function(e){this.mask.width=e,this.updateHandles()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.mask.height},set:function(e){this.mask.height=e,this.updateHandles()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this.mask.min},set:function(e){this.mask.min=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this.mask.max},set:function(e){this.mask.max=e},enumerable:!0,configurable:!0}),t.prototype.updateHandles=function(){var e=this,t=e.minHandle,r=e.maxHandle,n=e.x,o=e.y,i=e.width,a=e.height,s=e.mask;t.centerX=n+i*s.min,r.centerX=n+i*s.max,t.centerY=r.centerY=o+a/2},t.prototype.computeBBox=function(){return this.mask.computeBBox()},t.prototype.computeVisibleRangeBBox=function(){return this.mask.computeVisibleRangeBBox()},t.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var t=this;[t.mask,t.minHandle,t.maxHandle].forEach((function(t){e.save(),t.visible&&t.render(e),e.restore()}))},t.className="Range",t.defaults={x:0,y:0,width:200,height:30,min:0,max:1},t}(mu),pd=function(){function e(e){this.rm=e}return Object.defineProperty(e.prototype,"fill",{get:function(){return this.rm.fill},set:function(e){this.rm.fill=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stroke",{get:function(){return this.rm.stroke},set:function(e){this.rm.stroke=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strokeWidth",{get:function(){return this.rm.strokeWidth},set:function(e){this.rm.strokeWidth=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fillOpacity",{get:function(){return this.rm.fillOpacity},set:function(e){this.rm.fillOpacity=e},enumerable:!0,configurable:!0}),e}(),dd=function(){function e(e){this.rh=e}return Object.defineProperty(e.prototype,"fill",{get:function(){return this.rh.fill},set:function(e){this.rh.fill=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stroke",{get:function(){return this.rh.stroke},set:function(e){this.rh.stroke=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strokeWidth",{get:function(){return this.rh.strokeWidth},set:function(e){this.rh.strokeWidth=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.rh.width},set:function(e){this.rh.width=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.rh.height},set:function(e){this.rh.height=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gripLineGap",{get:function(){return this.rh.gripLineGap},set:function(e){this.rh.gripLineGap=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gripLineLength",{get:function(){return this.rh.gripLineLength},set:function(e){this.rh.gripLineLength=e},enumerable:!0,configurable:!0}),e}(),hd=function(){function e(e){var t=this;this.rs=new cd,this.mask=new pd(this.rs.mask),this.minHandle=new dd(this.rs.minHandle),this.maxHandle=new dd(this.rs.maxHandle),this.minHandleDragging=!1,this.maxHandleDragging=!1,this.panHandleOffset=NaN,this.changedCursor=!1,this._margin=10,this.chart=e,e.scene.root.append(this.rs),this.rs.onRangeChange=function(e,r){return t.updateAxes(e,r)}}return Object.defineProperty(e.prototype,"enabled",{get:function(){return this.rs.visible},set:function(e){this.rs.visible=e,this.chart.layoutPending=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"x",{get:function(){return this.rs.x},set:function(e){this.rs.x=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.rs.y},set:function(e){this.rs.y=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.rs.width},set:function(e){this.rs.width=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.rs.height},set:function(e){this.rs.height=e,this.chart.layoutPending=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"margin",{get:function(){return this._margin},set:function(e){this._margin=e,this.chart.layoutPending=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"min",{get:function(){return this.rs.min},set:function(e){this.rs.min=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return this.rs.max},set:function(e){this.rs.max=e},enumerable:!0,configurable:!0}),e.prototype.updateAxes=function(e,t){var r=this,n=this.chart,o=!1;n.axes.forEach((function(n){if(n.direction===zu.X){!o&&(e>0||t<1)&&(o=!0),n.visibleRange=[e,t];var i=n.labelAutoRotated;n.update(),n.labelAutoRotated!==i&&(r.chart.layoutPending=!0)}})),n.seriesRoot.enabled=o,n.series.forEach((function(e){return e.nodeDataPending=!0}))},e.prototype.onDragStart=function(e){if(this.enabled){var t=e.offsetX,r=e.offsetY,n=this.rs,o=n.minHandle,i=n.maxHandle,a=n.x,s=n.width,l=n.min,u=n.computeVisibleRangeBBox();this.minHandleDragging||this.maxHandleDragging||(o.containsPoint(t,r)?this.minHandleDragging=!0:i.containsPoint(t,r)?this.maxHandleDragging=!0:u.containsPoint(t,r)&&(this.panHandleOffset=(t-a)/s-l))}},e.prototype.onDrag=function(e){if(this.enabled){var t=this.rs,r=this.panHandleOffset,n=t.x,o=t.y,i=t.width,a=t.height,s=t.minHandle,l=t.maxHandle,u=this.chart.element.style,c=e.offsetX,p=e.offsetY,d=n+i*t.min,h=n+i*t.max,f=new tl(d,o,h-d,a);if(s.containsPoint(c,p)||l.containsPoint(c,p)?(this.changedCursor=!0,u.cursor="ew-resize"):f.containsPoint(c,p)?(this.changedCursor=!0,u.cursor="grab"):this.changedCursor&&(this.changedCursor=!1,u.cursor="default"),this.minHandleDragging)t.min=v();else if(this.maxHandleDragging)t.max=v();else if(!isNaN(r)){var g=t.max-t.min,y=Math.min(v()-r,1-g);y<=t.min?(t.min=y,t.max=t.min+g):(t.max=y+g,t.min=t.max-g)}}function v(){return Math.min(Math.max((c-n)/i,0),1)}},e.prototype.onDragStop=function(){this.stopHandleDragging()},e.prototype.stopHandleDragging=function(){this.minHandleDragging=this.maxHandleDragging=!1,this.panHandleOffset=NaN},e}(),fd=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),gd=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},yd=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(gd(arguments[t]));return e},vd=function(e){function t(t){void 0===t&&(t=window.document);var r=e.call(this,t)||this;r._seriesRoot=new od,r.navigator=new hd(r),r.scene.root.visible=!1;var n=r.scene.root;return n.append(r.seriesRoot),n.append(r.legend.group),r.navigator.enabled=!1,r}return fd(t,e),Object.defineProperty(t.prototype,"seriesRoot",{get:function(){return this._seriesRoot},enumerable:!0,configurable:!0}),t.prototype.performLayout=function(){if(!this.dataPending){this.scene.root.visible=!0;var e=this,t=e.width,r=e.height,n=e.axes,o=e.legend,i=e.navigator,a=new tl(0,0,t,r);if(this.positionCaptions(),this.positionLegend(),o.enabled&&o.data.length){var s=this.legendAutoPadding,l=this.legend.spacing;switch(a.x+=s.left,a.y+=s.top,a.width-=s.left+s.right,a.height-=s.top+s.bottom,this.legend.position){case"right":a.width-=l;break;case"bottom":a.height-=l;break;case"left":a.x+=l,a.width-=l;break;case"top":a.y+=l,a.height-=l}}var u=this.captionAutoPadding,c=this.padding;a.x+=c.left,a.width-=c.left+c.right,a.y+=c.top+u,a.height-=c.top+u+c.bottom,i.enabled&&(a.height-=i.height+i.margin),n.forEach((function(e){var t=0;switch(e.position){case Uu.Top:case Uu.Bottom:t=a.width;break;case Uu.Left:case Uu.Right:t=a.height}e.calculateTickCount(t)})),this.updateAxes();var p=0,d={top:!1,right:!1,bottom:!1,left:!1,angle:!1,radius:!1};n.forEach((function(e){e.group.visible=!0;var t=Math.floor(e.thickness||e.computeBBox().width),r=e.title&&e.title.padding.top||15;switch(d[e.position]&&(t+=r),e.position){case Uu.Top:d[Uu.Top]=!0,a.y+=t,a.height-=t,e.translation.y=Math.floor(a.y+1),e.label.mirrored=!0;break;case Uu.Right:d[Uu.Right]=!0,a.width-=t,e.translation.x=Math.max(Math.floor(a.x),Math.floor(a.x+a.width)),e.label.mirrored=!0;break;case Uu.Bottom:d[Uu.Bottom]=!0,a.height-=t,p+=t,e.translation.y=Math.max(Math.floor(a.y),Math.floor(a.y+a.height+1));break;case Uu.Left:d[Uu.Left]=!0,a.x+=t,a.width-=t,e.translation.x=Math.floor(a.x)}})),a.width=Math.max(0,a.width),a.height=Math.max(0,a.height),n.forEach((function(e){switch(e.position){case Uu.Top:case Uu.Bottom:e.translation.x=Math.floor(a.x),e.range=[0,a.width],e.gridLength=a.height;break;case Uu.Left:case Uu.Right:e.translation.y=Math.floor(a.y),e.range=e instanceof ic||e instanceof mc?[0,a.height]:[a.height,0],e.gridLength=a.width}})),this.createNodeData(),this.seriesRect=a,this.series.forEach((function(e){e.group.translationX=Math.floor(a.x),e.group.translationY=Math.floor(a.y),e.update()}));var h=this.seriesRoot;h.x=a.x,h.y=a.y,h.width=a.width,h.height=a.height,i.enabled&&(i.x=a.x,i.y=a.y+a.height+p+i.margin,i.width=a.width),this.axes.forEach((function(e){return e.update()}))}},t.prototype.initSeries=function(t){e.prototype.initSeries.call(this,t)},t.prototype.freeSeries=function(t){e.prototype.freeSeries.call(this,t)},t.prototype.setupDomListeners=function(t){e.prototype.setupDomListeners.call(this,t),this._onTouchStart=this.onTouchStart.bind(this),this._onTouchMove=this.onTouchMove.bind(this),this._onTouchEnd=this.onTouchEnd.bind(this),this._onTouchCancel=this.onTouchCancel.bind(this),t.addEventListener("touchstart",this._onTouchStart,{passive:!0}),t.addEventListener("touchmove",this._onTouchMove,{passive:!0}),t.addEventListener("touchend",this._onTouchEnd,{passive:!0}),t.addEventListener("touchcancel",this._onTouchCancel,{passive:!0})},t.prototype.cleanupDomListeners=function(t){e.prototype.cleanupDomListeners.call(this,t),t.removeEventListener("touchstart",this._onTouchStart),t.removeEventListener("touchmove",this._onTouchMove),t.removeEventListener("touchend",this._onTouchEnd),t.removeEventListener("touchcancel",this._onTouchCancel)},t.prototype.getTouchOffset=function(e){var t=this.scene.canvas.element.getBoundingClientRect(),r=e.touches[0];return r?{offsetX:r.clientX-t.left,offsetY:r.clientY-t.top}:void 0},t.prototype.onTouchStart=function(e){var t=this.getTouchOffset(e);t&&this.navigator.onDragStart(t)},t.prototype.onTouchMove=function(e){var t=this.getTouchOffset(e);t&&this.navigator.onDrag(t)},t.prototype.onTouchEnd=function(e){this.navigator.onDragStop()},t.prototype.onTouchCancel=function(e){this.navigator.onDragStop()},t.prototype.onMouseDown=function(t){e.prototype.onMouseDown.call(this,t),this.navigator.onDragStart(t)},t.prototype.onMouseMove=function(t){e.prototype.onMouseMove.call(this,t),this.navigator.onDrag(t)},t.prototype.onMouseUp=function(t){e.prototype.onMouseUp.call(this,t),this.navigator.onDragStop()},t.prototype.onMouseOut=function(t){e.prototype.onMouseOut.call(this,t),this.navigator.onDragStop()},t.prototype.assignAxesToSeries=function(t){void 0===t&&(t=!1),e.prototype.assignAxesToSeries.call(this,t),this.series.forEach((function(e){e.xAxis||console.warn("Could not find a matching xAxis for the "+e.id+" series."),e.yAxis||console.warn("Could not find a matching yAxis for the "+e.id+" series.")}))},t.prototype.updateAxes=function(){var e,t=this,r=this.navigator,n=!1;this.axes.forEach((function(o){var i,a=o.direction,s=o.boundSeries;if(0===s.length&&t._series.length>0&&console.warn("AG Charts - chart series not initialised; check series and axes configuration."),o.linkedTo)o.domain=o.linkedTo.domain;else{var l=[];s.filter((function(e){return e.visible})).forEach((function(e){l.push(e.getDomain(a))}));var u=(i=new Array).concat.apply(i,yd(l)),c="y"===o.direction;o instanceof tc&&c?(o.setDomain(u,e),e=e||o.scale.ticks(o.calculatedTickCount).length):o.domain=u}o.direction===zu.X&&(o.visibleRange=[r.min,r.max]),!n&&(o.visibleRange[0]>0||o.visibleRange[1]<1)&&(n=!0),o.update()})),this.seriesRoot.enabled=n},t.className="CartesianChart",t.type="cartesian",t}(rd),md=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),bd=function(e){function t(t){void 0===t&&(t=window.document);var r=e.call(this,t)||this;r._data={},r._seriesRoot=new od,r.scene.root.visible=!1;var n=r.scene.root;return n.append(r.seriesRoot),n.append(r.legend.group),r}return md(t,e),Object.defineProperty(t.prototype,"seriesRoot",{get:function(){return this._seriesRoot},enumerable:!0,configurable:!0}),t.prototype.performLayout=function(){if(!this.dataPending){this.scene.root.visible=!0;var e=this,t=e.width,r=e.height,n=e.legend,o=new tl(0,0,t,r);if(this.positionCaptions(),this.positionLegend(),n.enabled&&n.data.length){var i=this.legendAutoPadding,a=this.legend.spacing;switch(o.x+=i.left,o.y+=i.top,o.width-=i.left+i.right,o.height-=i.top+i.bottom,this.legend.position){case"right":o.width-=a;break;case"bottom":o.height-=a;break;case"left":o.x+=a,o.width-=a;break;case"top":o.y+=a,o.height-=a}}var s=this.captionAutoPadding,l=this.padding;o.x+=l.left,o.width-=l.left+l.right,o.y+=l.top+s,o.height-=l.top+s+l.bottom,this.seriesRect=o,this.series.forEach((function(e){e.group.translationX=Math.floor(o.x),e.group.translationY=Math.floor(o.y),e.update()}));var u=this.seriesRoot;u.x=o.x,u.y=o.y,u.width=o.width,u.height=o.height}},t.className="HierarchyChart",t.type="hierarchy",t}(rd),Cd=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),wd=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},xd=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(wd(arguments[t]));return e},Sd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Cd(t,e),t.prototype.updateAxes=function(){this.axes.forEach((function(e){var t,r=e.direction,n=e.boundSeries,o=[],i=void 0;n.filter((function(e){return e.visible})).forEach((function(e){if(r===zu.X)if(void 0===i){var t=e.getDomain(r);o.push(t),i="number"===typeof t[0]}else i&&o.push(e.getDomain(r));else o.push(e.getDomain(r))}));var a=(t=new Array).concat.apply(t,xd(o));e.domain=pu(a,yu)||a,e.update()}))},t.className="GroupedCategoryChart",t.type="groupedCategory",t}(vd),Ed=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Od=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},_d=function(e){function t(){var t=e.call(this)||this;return t.enabled=!0,t.fontSize=12,t.fontFamily="Verdana, sans-serif",t.color="rgba(70, 70, 70, 1)",t}return Ed(t,e),t.prototype.getFont=function(){return wl(this.fontSize,this.fontFamily,this.fontStyle,this.fontWeight)},Od([Zs("change","dataChange")],t.prototype,"enabled",void 0),Od([Zs("change")],t.prototype,"fontSize",void 0),Od([Zs("change")],t.prototype,"fontFamily",void 0),Od([Zs("change")],t.prototype,"fontStyle",void 0),Od([Zs("change")],t.prototype,"fontWeight",void 0),Od([Zs("change")],t.prototype,"color",void 0),t}($s),Pd=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Rd=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Ad=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},Td=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Ad(arguments[t]));return e},Dd=function(){this.fill="yellow",this.stroke=void 0,this.strokeWidth=void 0},Md=function(){this.strokeWidth=void 0,this.dimOpacity=void 0},kd=function(){this.fill=void 0,this.stroke=void 0,this.strokeWidth=void 0,this.item=new Dd,this.series=new Md},Nd=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.enabled=!0,t}return Pd(t,e),Rd([Zs("change")],t.prototype,"enabled",void 0),t}($s),Id=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.id=ol(t),t.group=new mu,t.pickGroup=t.group.appendChild(new mu),t.directions=[zu.X,zu.Y],t.directionKeys={},t.label=new _d,t.data=void 0,t.visible=!0,t.showInLegend=!0,t.cursor="default",t._nodeDataPending=!0,t._updatePending=!1,t.highlightStyle=new kd,t.scheduleLayout=function(){t.fireEvent({type:"layoutChange"})},t.scheduleData=function(){t.fireEvent({type:"dataChange"})},t}return Pd(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return this.constructor.type||""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"grouped",{set:function(e){if(!0===e)throw new Error("AG Charts - grouped: true is unsupported for series of type: "+this.type)},enumerable:!0,configurable:!0}),t.prototype.setColors=function(e,t){},t.prototype.getKeys=function(e){var t=this,r=this.directionKeys,n=r&&r[e],o=[];return n&&n.forEach((function(e){var r=t[e];r&&(Array.isArray(r)?o.push.apply(o,Td(r)):o.push(r))})),o},t.prototype.createNodeData=function(){return[]},t.prototype.getNodeData=function(){return[]},t.prototype.getLabelData=function(){return[]},Object.defineProperty(t.prototype,"nodeDataPending",{get:function(){return this._nodeDataPending},set:function(e){this._nodeDataPending!==e&&(this._nodeDataPending=e,this.updatePending=!0,e&&this.chart&&(this.chart.updatePending=e))},enumerable:!0,configurable:!0}),t.prototype.scheduleNodeDate=function(){this.nodeDataPending=!0},Object.defineProperty(t.prototype,"updatePending",{get:function(){return this._updatePending},set:function(e){this._updatePending!==e&&(this._updatePending=e,e&&this.chart&&(this.chart.updatePending=e))},enumerable:!0,configurable:!0}),t.prototype.scheduleUpdate=function(){this.updatePending=!0},t.prototype.getOpacity=function(e){var t=this.chart,r=this.highlightStyle.series.dimOpacity,n=void 0===r?1:r;return t&&t.highlightedDatum&&(t.highlightedDatum.series!==this||e&&t.highlightedDatum.itemId!==e.itemId)?n:1},t.prototype.getStrokeWidth=function(e,t){var r=this.chart,n=this.highlightStyle.series.strokeWidth;return!r||!r.highlightedDatum||r.highlightedDatum.series!==this||t&&r.highlightedDatum.itemId!==t.itemId||void 0===n?e:n},t.prototype.fireNodeClickEvent=function(e,t){},t.prototype.toggleSeriesItem=function(e,t){this.visible=t},t.prototype.onHighlightChange=function(){},t.prototype.fixNumericExtent=function(e,t,r){if(!e)return[0,1];var n=Ad(e,2),o=n[0],i=n[1];if(i=+i,0===(o=+o)&&0===i)return[0,1];if(o===i)if(r instanceof pp)o-=1,i+=1;else{var a=Math.abs(.01*o);o-=a,i+=a}return du(o)&&du(i)?[o,i]:[0,1]},t.highlightedZIndex=1e12,Rd([Zs("dataChange")],t.prototype,"data",void 0),Rd([Zs("dataChange")],t.prototype,"visible",void 0),Rd([Zs("layoutChange")],t.prototype,"showInLegend",void 0),t}($s),Ld=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Fd=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Gd=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.enabled=!0,t.shape=Pp,t.size=6,t.maxSize=30,t.strokeWidth=1,t}return Ld(t,e),Fd([Zs("change")],t.prototype,"enabled",void 0),Fd([Zs("change")],t.prototype,"shape",void 0),Fd([Zs("change")],t.prototype,"size",void 0),Fd([Zs("change")],t.prototype,"maxSize",void 0),Fd([Zs("change")],t.prototype,"domain",void 0),Fd([Zs("change")],t.prototype,"fill",void 0),Fd([Zs("change")],t.prototype,"stroke",void 0),Fd([Zs("change")],t.prototype,"strokeWidth",void 0),Fd([Zs("change")],t.prototype,"fillOpacity",void 0),Fd([Zs("change")],t.prototype,"strokeOpacity",void 0),t}($s),Bd=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Wd=function(e){function t(){var t,r=null!==e&&e.apply(this,arguments)||this;return r.directionKeys=((t={})[zu.X]=["angleKey"],t[zu.Y]=["radiusKey"],t),r.centerX=0,r.centerY=0,r.radius=0,r}return Bd(t,e),t}(Id),Hd=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Bd(t,e)}(Gd),function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}()),jd=function(e){function t(t){void 0===t&&(t=window.document);var r=e.call(this,t)||this;return r.padding=new el(40),r.scene.root.append(r.legend.group),r.padding.addEventListener("layoutChange",r.scheduleLayout,r),r}return Hd(t,e),Object.defineProperty(t.prototype,"seriesRoot",{get:function(){return this.scene.root},enumerable:!0,configurable:!0}),t.prototype.performLayout=function(){var e=new tl(0,0,this.width,this.height);this.positionCaptions(),this.positionLegend();var t=this.captionAutoPadding;if(e.y+=t,e.height-=t,this.legend.enabled&&this.legend.data.length){var r=this.legendAutoPadding;e.x+=r.left,e.y+=r.top,e.width-=r.left+r.right,e.height-=r.top+r.bottom;var n=this.legend.spacing;switch(this.legend.position){case"right":e.width-=n;break;case"bottom":e.height-=n;break;case"left":e.x+=n,e.width-=n;break;case"top":e.y+=n,e.height-=n}}var o=this.padding;e.x+=o.left,e.y+=o.top,e.width-=o.left+o.right,e.height-=o.top+o.bottom,this.seriesRect=e;var i=e.x+e.width/2,a=e.y+e.height/2,s=Math.max(0,Math.min(e.width,e.height)/2);this.series.forEach((function(e){e instanceof Wd&&(e.centerX=i,e.centerY=a,e.radius=s,e.update())}))},t.className="PolarChart",t.type="polar",t}(rd),Vd=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),zd=function(e){function t(){var t,r=null!==e&&e.apply(this,arguments)||this;return r.directionKeys=((t={})[zu.X]=["xKey"],t[zu.Y]=["yKey"],t),r}return Vd(t,e),t.prototype.checkDomainXY=function(e,t,r,n){return(r&&yu(e)||!r&&gu(e))&&(n&&yu(t)||!n&&gu(t))?[e,t]:void 0},t.prototype.checkDatum=function(e,t){return t&&yu(e)?e:t?void 0:gu(e)?e:String(e)},t.prototype.checkRangeXY=function(e,t,r,n){return!isNaN(e)&&!isNaN(t)&&r.inRange(e)&&n.inRange(t)},t}(Id),Ud=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.formatter=void 0,t}return Vd(t,e),t}(Gd);function Yd(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){if(e.constructor!==t.constructor)return!1;var r,n=void 0;if(Array.isArray(e)){if((r=e.length)!=t.length)return!1;for(n=r;0!==n--;)if(!Yd(e[n],t[n]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();var o=Object.keys(e);if((r=o.length)!==Object.keys(t).length)return!1;for(n=r;0!==n--;)if(!Object.prototype.hasOwnProperty.call(t,o[n]))return!1;for(n=r;0!==n--;){var i=o[n];if(!Yd(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}var Xd=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},Kd=/(#\{(.*?)\})/g;function qd(e,t,r){return e.replace(Kd,(function(){var e=arguments[2],n=Xd(e.split(":"),2),o=n[0],i=n[1],a=t[o];if("number"===typeof a){if(c=i&&r&&r[i]){var s=c,l=s.locales,u=s.options;return a.toLocaleString(l,u)}return String(a)}if(a instanceof Date){var c;if("string"===typeof(c=i&&r&&r[i])){var p=Qc.format(c);return p(a)}return a.toDateString()}return"string"===typeof a||a&&a.toString?String(a):""}))}var $d=null;function Zd(e){return $d=$d||document.createElement("div"),e?($d.innerText=e,$d.innerHTML):""}var Qd,Jd,eh=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),th=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},rh=function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},nh=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},oh=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(nh(arguments[t]));return e},ih=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return eh(t,e),th([Zs("change")],t.prototype,"formatter",void 0),t}(_d),ah=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return eh(t,e),th([Zs("change")],t.prototype,"renderer",void 0),th([Zs("change")],t.prototype,"format",void 0),t}(Nd),sh=function(e){function t(){var t=e.call(this)||this;t.tooltip=new ah,t.areaGroup=t.group.insertBefore(new mu,t.pickGroup),t.strokeGroup=t.group.insertBefore(new mu,t.pickGroup),t.markerGroup=t.pickGroup.appendChild(new mu),t.labelGroup=t.group.appendChild(new mu),t.fillSelection=Cu.select(t.areaGroup).selectAll(),t.strokeSelection=Cu.select(t.strokeGroup).selectAll(),t.markerSelection=Cu.select(t.markerGroup).selectAll(),t.labelSelection=Cu.select(t.labelGroup).selectAll(),t.seriesItemEnabled=new Map,t.xData=[],t.yData=[],t.fillSelectionData=[],t.strokeSelectionData=[],t.markerSelectionData=[],t.labelSelectionData=[],t.yDomain=[],t.xDomain=[],t.directionKeys={x:["xKey"],y:["yKeys"]},t.marker=new Ud,t.label=new ih,t.fills=["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],t.strokes=["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"],t.fillOpacity=1,t.strokeOpacity=1,t.lineDash=[0],t.lineDashOffset=0,t._xKey="",t.xName="",t._yKeys=[],t.yNames=[],t.strokeWidth=2,t.addEventListener("update",t.scheduleUpdate);var r=t,n=r.marker,o=r.label;return n.enabled=!1,n.addPropertyListener("shape",t.onMarkerShapeChange,t),n.addEventListener("change",t.scheduleUpdate,t),o.enabled=!1,o.addEventListener("change",t.scheduleUpdate,t),t}return eh(t,e),t.prototype.onMarkerShapeChange=function(){this.markerSelection=this.markerSelection.setData([]),this.markerSelection.exit.remove(),this.fireEvent({type:"legendChange"})},Object.defineProperty(t.prototype,"xKey",{get:function(){return this._xKey},set:function(e){this._xKey!==e&&(this._xKey=e,this.xData=[],this.scheduleData())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yKeys",{get:function(){return this._yKeys},set:function(e){if(!Yd(this._yKeys,e)){this._yKeys=e,this.yData=[];var t=this.seriesItemEnabled;t.clear(),e.forEach((function(e){return t.set(e,!0)})),this.scheduleData()}},enumerable:!0,configurable:!0}),t.prototype.setColors=function(e,t){this.fills=e,this.strokes=t},Object.defineProperty(t.prototype,"normalizedTo",{get:function(){return this._normalizedTo},set:function(e){var t=e?Math.abs(e):void 0;this._normalizedTo!==t&&(this._normalizedTo=t,this.scheduleData())},enumerable:!0,configurable:!0}),t.prototype.processData=function(){var e,t,r,n,o,i,a=this,s=this,l=s.xKey,u=s.yKeys,c=s.seriesItemEnabled,p=s.xAxis,d=s.yAxis,h=s.normalizedTo,f=l&&u.length&&this.data?this.data:[];if(!p||!d)return!1;var g=p.scale instanceof zl,y=d.scale instanceof zl,v=h&&isFinite(h),m=[],b=[],C=[],w=function(e){if(!(l in e))return Wu((function(){return console.warn("The key '"+l+"' was not found in the data: ",e)}),l+" not found in data"),"continue";var t=x.checkDatum(e[l],g);if(g&&void 0===t)return"continue";C.push(t),b.push({xDatum:t,seriesDatum:e}),u.forEach((function(t,r){if(t in e){var n=e[t],o=m[r]||(m[r]=[]);if(c.get(t)){var i=a.checkDatum(n,y);o.push(i)}else o.push(0)}else Wu((function(){return console.warn("The key '"+t+"' was not found in the data: ",e)}),t+" not found in data")}))},x=this;try{for(var S=rh(f),E=S.next();!E.done;E=S.next()){w(E.value)}}catch(F){e={error:F}}finally{try{E&&!E.done&&(t=S.return)&&t.call(S)}finally{if(e)throw e.error}}this.yData=m,this.xData=b,this.xDomain=g?this.fixNumericExtent(pu(C,yu),"x",p):C;for(var O=0,_=0,P=0;P<b.length;P++){var R={sum:0,absSum:0};try{for(var A=(r=void 0,rh(m)),T=A.next();!T.done;T=A.next()){if(void 0!==(I=T.value)[P]){var D=+I[P];R.absSum+=Math.abs(D),R.sum+=D,R.sum>_?_=R.sum:R.sum<O&&(O=R.sum)}}}catch(G){r={error:G}}finally{try{T&&!T.done&&(n=A.return)&&n.call(A)}finally{if(r)throw r.error}}if(v&&h){var M=0;try{for(var k=(o=void 0,rh(m)),N=k.next();!N.done;N=k.next()){var I,L=+(I=N.value)[P]/R.absSum*h;I[P]=L,(M+=L)>_?_=M:M<O&&(O=M)}}catch(B){o={error:B}}finally{try{N&&!N.done&&(i=k.return)&&i.call(k)}finally{if(o)throw o.error}}}}if(v&&h){O=O<.5*-h?-h:O,_=_>.5*h?h:_}return this.yDomain=this.fixNumericExtent([O,_],"y",d),this.fireEvent({type:"dataProcessed"}),!0},t.prototype.findLargestMinMax=function(e){var t,r,n=0,o=0;try{for(var i=rh(e),a=i.next();!a.done;a=i.next()){var s=a.value;s.min<n&&(n=s.min),s.max>o&&(o=s.max)}}catch(l){t={error:l}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return{min:n,max:o}},t.prototype.getDomain=function(e){return e===zu.X?this.xDomain:this.yDomain},t.prototype.update=function(){this.updatePending=!1,this.updateSelections(),this.updateNodes()},t.prototype.updateSelections=function(){this.nodeDataPending&&(this.nodeDataPending=!1,this.createSelectionData(),this.updateFillSelection(),this.updateStrokeSelection(),this.updateMarkerSelection(),this.updateLabelSelection())},t.prototype.updateNodes=function(){this.group.visible=this.visible&&this.xData.length>0&&this.yData.length>0,this.updateFillNodes(),this.updateStrokeNodes(),this.updateMarkerNodes(),this.updateLabelNodes()},t.prototype.createSelectionData=function(){var e=this,t=this,r=t.data,n=t.xAxis,o=t.yAxis,i=t.xData,a=t.yData,s=t.labelSelectionData,l=t.markerSelectionData,u=t.strokeSelectionData,c=t.fillSelectionData;t.xKey;if(r&&n&&o&&i.length&&a.length){var p=this,d=p.yKeys,h=p.marker,f=p.label,g=p.fills,y=p.strokes,v=n.scale,m=o.scale,b=m instanceof zl,C=(v.bandwidth||0)/2;l.length=0,s.length=0,u.length=0,c.length=0;var w=new Array(i.length).fill(null).map((function(){return{left:0,right:0}})),x=new Array(i.length).fill(0),S=function(e,t,r,n){var o=v.convert(e)+C,i=w[r][n],a=w[r][n]+t,s=m.convert(i,b?Vl:void 0),l=m.convert(a,b?Vl:void 0);return w[r][n]=a,[{x:o,y:l},{x:o,y:s}]};a.forEach((function(t,r){var n=d[r],o=(c[r]||(c[r]={itemId:n,points:[]})).points,a=[],p=u[r]||(u[r]={itemId:n,points:[],yValues:[]}),w=p.points,E=p.yValues;t.forEach((function(u,c){var p,d,O=i[c],_=O.xDatum,P=O.seriesDatum,R=null===(p=i[c+1])||void 0===p?void 0:p.xDatum,A=t[c+1],T=function(t,r,n,o){var i,a=e.normalizedTo&&isFinite(e.normalizedTo),s=a&&b&&yu(o);return(!a&&!isNaN(r)||s)&&(i=x[n]+=r),{x:v.convert(t)+C,y:m.convert(i,b?Vl:void 0)}}(_,+u,c,P[n]);h&&l.push({index:c,series:e,itemId:n,datum:P,yValue:u,yKey:n,point:T,fill:g[r%g.length],stroke:y[r%y.length]}),d=f.formatter?f.formatter({value:u}):du(u)?Number(u).toFixed(2):String(u),f&&s.push({index:c,itemId:n,point:T,label:e.seriesItemEnabled.get(n)&&d?{text:d,fontStyle:f.fontStyle,fontWeight:f.fontWeight,fontSize:f.fontSize,fontFamily:f.fontFamily,textAlign:"center",textBaseline:"bottom",fill:f.color}:void 0});var D=[_,R],M=[u,A];if(!D.some((function(e){return void 0==e}))){M.some((function(e){return void 0==e}))&&(M[0]=0,M[1]=0);var k=S(D[0],+M[0],c,"right");o.push(k[0]),a.push(k[1]);var N=S(D[1],+M[1],c,"left");o.push(N[0]),a.push(N[1]),w.push({x:NaN,y:NaN}),E.push(void 0),w.push(k[0]),E.push(u),void 0!==A&&(w.push(N[0]),E.push(u))}})),o.push.apply(o,oh(a.slice().reverse()))}))}},t.prototype.updateFillSelection=function(){var e=this.fillSelection.setData(this.fillSelectionData);e.exit.remove();var t=e.enter.append(Tu).each((function(e){e.lineJoin="round",e.stroke=void 0,e.pointerEvents=il.None}));this.fillSelection=e.merge(t)},t.prototype.updateFillNodes=function(){var e=this,t=this,r=t.fills,n=t.fillOpacity,o=t.strokeOpacity,i=t.strokeWidth,a=t.shadow,s=t.seriesItemEnabled;this.fillSelection.each((function(t,l,u){t.fill=r[u%r.length],t.fillOpacity=n,t.strokeOpacity=o,t.strokeWidth=i,t.lineDash=e.lineDash,t.lineDashOffset=e.lineDashOffset,t.fillShadow=a,t.visible=!!s.get(l.itemId),t.opacity=e.getOpacity(l);var c=l.points,p=t.path;p.clear(),c.forEach((function(e,t){var r=e.x,n=e.y;t>0?p.lineTo(r,n):p.moveTo(r,n)})),p.closePath()}))},t.prototype.updateStrokeSelection=function(){var e=this.strokeSelection.setData(this.strokeSelectionData);e.exit.remove();var t=e.enter.append(Tu).each((function(e){e.fill=void 0,e.lineJoin=e.lineCap="round",e.pointerEvents=il.None}));this.strokeSelection=e.merge(t)},t.prototype.updateStrokeNodes=function(){var e=this;if(this.data){var t=this,r=t.strokes,n=t.strokeOpacity,o=t.seriesItemEnabled,i=!0;this.strokeSelection.each((function(t,a,s){t.visible=!!o.get(a.itemId),t.opacity=e.getOpacity(a),t.stroke=r[s%r.length],t.strokeWidth=e.getStrokeWidth(e.strokeWidth,a),t.strokeOpacity=n,t.lineDash=e.lineDash,t.lineDashOffset=e.lineDashOffset;var l=a.points,u=a.yValues,c=t.path;c.clear();for(var p=0;p<l.length;p++){var d=l[p],h=d.x,f=d.y;void 0===u[p]?i=!0:i?(c.moveTo(h,f),i=!1):c.lineTo(h,f)}}))}},t.prototype.updateMarkerSelection=function(){var e=Gp(this.marker.shape),t=e?this.markerSelectionData:[],r=this.markerSelection.setData(t);r.exit.remove();var n=r.enter.append(e);this.markerSelection=r.merge(n)},t.prototype.updateMarkerNodes=function(){var e=this;if(this.chart){var t=this,r=t.xKey,n=t.marker,o=t.seriesItemEnabled,i=t.yKeys,a=t.fills,s=t.strokes,l=t.chart.highlightedDatum,u=t.highlightStyle,c=u.fill,p=u.stroke,d=u.strokeWidth,h=u.item,f=h.fill,g=void 0===f?c:f,y=h.stroke,v=void 0===y?p:y,m=h.strokeWidth,b=void 0===m?d:m,C=n.size,w=n.formatter,x=void 0!==n.strokeWidth?n.strokeWidth:this.strokeWidth;this.markerSelection.each((function(t,u){var c=i.indexOf(u.yKey),p=u===l,d=p&&void 0!==g?g:n.fill||a[c%a.length],h=p&&void 0!==v?v:n.stroke||s[c%a.length],f=p&&void 0!==b?b:x,y=void 0;w&&(y=w({datum:u.datum,xKey:r,yKey:u.yKey,fill:d,stroke:h,strokeWidth:f,size:C,highlighted:p})),t.fill=y&&y.fill||d,t.stroke=y&&y.stroke||h,t.strokeWidth=y&&void 0!==y.strokeWidth?y.strokeWidth:f,t.size=y&&void 0!==y.size?y.size:C,t.translationX=u.point.x,t.translationY=u.point.y,t.visible=n.enabled&&t.size>0&&!!o.get(u.yKey)&&!isNaN(u.point.x)&&!isNaN(u.point.y),t.opacity=e.getOpacity(u)}))}},t.prototype.updateLabelSelection=function(){var e=this.labelSelection.setData(this.labelSelectionData);e.exit.remove();var t=e.enter.append(Cl);this.labelSelection=e.merge(t)},t.prototype.updateLabelNodes=function(){var e=this;if(this.chart){var t=this.label,r=t.enabled,n=t.fontStyle,o=t.fontWeight,i=t.fontSize,a=t.fontFamily,s=t.color;this.labelSelection.each((function(t,l){var u=l.point,c=l.label;c&&r?(t.fontStyle=n,t.fontWeight=o,t.fontSize=i,t.fontFamily=a,t.textAlign=c.textAlign,t.textBaseline=c.textBaseline,t.text=c.text,t.x=u.x,t.y=u.y-10,t.fill=s,t.visible=!0,t.opacity=e.getOpacity(l)):t.visible=!1}))}},t.prototype.getNodeData=function(){return this.markerSelectionData},t.prototype.fireNodeClickEvent=function(e,t){this.fireEvent({type:"nodeClick",event:e,series:this,datum:t.datum,xKey:this.xKey,yKey:t.yKey})},t.prototype.getTooltipHtml=function(e){var t=this.xKey,r=e.yKey;if(!t||!r||!this.seriesItemEnabled.get(r))return"";var n=e.datum,o=n[t],i=n[r],a=this.xAxis,s=this.yAxis;if(!(a&&s&&du(i)))return"";var l=this,u=l.xName,c=l.yKeys,p=l.yNames,d=l.yData,h=l.fills,f=l.strokes,g=l.tooltip,y=l.marker,v=y.size,m=y.formatter,b=y.strokeWidth,C=y.fill,w=y.stroke,x=a.formatDatum(o),S=s.formatDatum(i),E=c.indexOf(r),O=d[E][e.index],_=p[E],P=Zd(_),R=Zd(x+": "+S),A=void 0!==b?b:this.strokeWidth,T=C||h[E%h.length],D=w||f[E%h.length],M=void 0;m&&(M=m({datum:n,xKey:t,yKey:r,fill:T,stroke:D,strokeWidth:A,size:v,highlighted:!1}));var k=M&&M.fill||T,N={title:P,backgroundColor:k,content:R},I=g.renderer,L=g.format;if(L||I){var F={datum:n,xKey:t,xName:u,xValue:o,yKey:r,yValue:i,processedYValue:O,yName:_,color:k};if(L)return ed({content:qd(L,F)},N);if(I)return ed(I(F),N)}return ed(N)},t.prototype.listSeriesItems=function(e){var t=this,r=t.data,n=t.id,o=t.xKey,i=t.yKeys,a=t.yNames,s=t.seriesItemEnabled,l=t.marker,u=t.fills,c=t.strokes,p=t.fillOpacity,d=t.strokeOpacity;r&&r.length&&o&&i.length&&i.forEach((function(t,r){e.push({id:n,itemId:t,enabled:s.get(t)||!1,label:{text:a[r]||i[r]},marker:{shape:l.shape,fill:l.fill||u[r%u.length],stroke:l.stroke||c[r%c.length],fillOpacity:p,strokeOpacity:d}})}))},t.prototype.toggleSeriesItem=function(e,t){this.seriesItemEnabled.set(e,t),this.scheduleData()},t.className="AreaSeries",t.type="area",th([Zs("dataChange")],t.prototype,"fills",void 0),th([Zs("dataChange")],t.prototype,"strokes",void 0),th([Zs("update")],t.prototype,"fillOpacity",void 0),th([Zs("update")],t.prototype,"strokeOpacity",void 0),th([Zs("update")],t.prototype,"lineDash",void 0),th([Zs("update")],t.prototype,"lineDashOffset",void 0),th([Zs("update")],t.prototype,"xName",void 0),th([Zs("update")],t.prototype,"yNames",void 0),th([Zs("update")],t.prototype,"strokeWidth",void 0),th([Zs("update")],t.prototype,"shadow",void 0),t}(zd),lh=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),uh=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},ch=function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};!function(e){e[e.Bar=0]="Bar",e[e.Label=1]="Label"}(Qd||(Qd={})),function(e){e.Inside="inside",e.Outside="outside"}(Jd||(Jd={}));var ph=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.placement=Jd.Inside,t}return lh(t,e),uh([Zs("change")],t.prototype,"formatter",void 0),uh([Zs("change")],t.prototype,"placement",void 0),t}(_d),dh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return lh(t,e),uh([Zs("change")],t.prototype,"renderer",void 0),t}(Nd);function hh(e,t){return void 0===t&&(t=[]),e.forEach((function(e){Array.isArray(e)?hh(e,t):t.push(e)})),t}var fh,gh=function(e){function t(){var t,r=e.call(this)||this;return r.rectGroup=r.pickGroup.appendChild(new mu),r.labelGroup=r.group.appendChild(new mu),r.rectSelection=Cu.select(r.rectGroup).selectAll(),r.labelSelection=Cu.select(r.labelGroup).selectAll(),r.nodeData=[],r.xData=[],r.yData=[],r.yDomain=[],r.label=new ph,r.seriesItemEnabled=new Map,r.tooltip=new dh,r.flipXY=!1,r.fills=["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],r.strokes=["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"],r.fillOpacity=1,r.strokeOpacity=1,r.lineDash=[0],r.lineDashOffset=0,r.groupScale=new nc,r.directionKeys=((t={})[zu.X]=["xKey"],t[zu.Y]=["yKeys"],t),r._xKey="",r._xName="",r.cumYKeyCount=[],r.flatYKeys=void 0,r.hideInLegend=[],r._yKeys=[],r._grouped=!1,r._yNames={},r._strokeWidth=1,r.addEventListener("update",r.scheduleUpdate),r.label.enabled=!1,r.label.addEventListener("change",r.scheduleUpdate,r),r}return lh(t,e),t.prototype.getKeys=function(e){var t=this,r=this.directionKeys,n=r&&r[this.flipXY?$u(e):e],o=[];return n&&n.forEach((function(e){var r=t[e];r&&(Array.isArray(r)?o=o.concat(hh(r)):o.push(r))})),o},Object.defineProperty(t.prototype,"xKey",{get:function(){return this._xKey},set:function(e){this._xKey!==e&&(this._xKey=e,this.xData=[],this.scheduleData())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"xName",{get:function(){return this._xName},set:function(e){this._xName!==e&&(this._xName=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yKeys",{get:function(){return this._yKeys},set:function(e){var t=this,r=void 0;if(function(e){return e.length>0&&Array.isArray(e[0])}(e)||(r=e,e=this.grouped?r.map((function(e){return[e]})):[r]),!Yd(this._yKeys,e)){this.flatYKeys=r||void 0,this._yKeys=e;var n=0;this.cumYKeyCount=[];var o=[];e.forEach((function(e,r){e.length>0&&o.push(String(r)),t.cumYKeyCount.push(n),n+=e.length})),this.yData=[];var i=this.seriesItemEnabled;i.clear(),e.forEach((function(e){e.forEach((function(e){return i.set(e,!0)}))}));var a=this.groupScale;a.domain=o,a.padding=.1,a.round=!0,this.scheduleData()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"grouped",{get:function(){return this._grouped},set:function(e){this._grouped!==e&&(this._grouped=e,this.flatYKeys&&(this.yKeys=this.flatYKeys))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yNames",{get:function(){return this._yNames},set:function(e){if(Array.isArray(e)&&this.flatYKeys){var t={};this.flatYKeys.forEach((function(r,n){t[r]=e[n]})),e=t}this._yNames=e,this.scheduleData()},enumerable:!0,configurable:!0}),t.prototype.setColors=function(e,t){this.fills=e,this.strokes=t},Object.defineProperty(t.prototype,"normalizedTo",{get:function(){return this._normalizedTo},set:function(e){var t=e?Math.abs(e):void 0;this._normalizedTo!==t&&(this._normalizedTo=t,this.scheduleData())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(e){this._strokeWidth!==e&&(this._strokeWidth=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shadow",{get:function(){return this._shadow},set:function(e){this._shadow!==e&&(this._shadow=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),t.prototype.onHighlightChange=function(){this.updateRectNodes()},t.prototype.processData=function(){var e=this,t=this,r=t.xKey,n=t.yKeys,o=t.seriesItemEnabled,i=t.xAxis,a=r&&n.length&&this.data?this.data:[];if(!i)return!1;var s=!0;this.xData=a.map((function(t){return s&&!(r in t)&&(s=!1,console.warn("The key '"+r+"' was not found in the data: ",t)),e.checkDatum(t[r],!1)})),this.yData=a.map((function(t){return n.map((function(r){return r.map((function(r){s&&!(r in t)&&(s=!1,console.warn("The key '"+r+"' was not found in the data: ",t));var n=e.checkDatum(t[r],!0);return o.get(r)&&void 0!==n?n:0}))}))}));var l,u,c=this.yData.map((function(e){return e.map((function(e){return function(e){var t,r,n=0,o=0;try{for(var i=lu(e),a=i.next();!a.done;a=i.next()){var s=a.value;s<0?n+=s:o+=s}}catch(l){t={error:l}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return{min:n,max:o}}(e)}))})),p=this.yData,d=this.normalizedTo,h=this.yData.map((function(e){return e.map((function(e){return e.reduce((function(e,t){return e+=Math.abs(t)}),0)}))})),f=this.findLargestMinMax(c);return d&&isFinite(d)?(l=f.min<0?-d:0,u=f.max>0?d:0,p.forEach((function(e,t){e.forEach((function(e,r){e.forEach((function(n,o){e[o]=n/h[t][r]*d}))}))}))):(l=f.min,u=f.max),this.yDomain=this.fixNumericExtent([l,u],"y",this.yAxis),this.fireEvent({type:"dataProcessed"}),!0},t.prototype.findLargestMinMax=function(e){var t,r,n,o,i=0,a=0;try{for(var s=ch(e),l=s.next();!l.done;l=s.next()){var u=l.value;try{for(var c=(n=void 0,ch(u)),p=c.next();!p.done;p=c.next()){var d=p.value;d.min<i&&(i=d.min),d.max>a&&(a=d.max)}}catch(h){n={error:h}}finally{try{p&&!p.done&&(o=c.return)&&o.call(c)}finally{if(n)throw n.error}}}}catch(f){t={error:f}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}return{min:i,max:a}},t.prototype.getDomain=function(e){return this.flipXY&&(e=$u(e)),e===zu.X?this.xData:this.yDomain},t.prototype.fireNodeClickEvent=function(e,t){this.fireEvent({type:"nodeClick",event:e,series:this,datum:t.datum,xKey:this.xKey,yKey:t.yKey})},t.prototype.getCategoryAxis=function(){return this.flipXY?this.yAxis:this.xAxis},t.prototype.getValueAxis=function(){return this.flipXY?this.xAxis:this.yAxis},t.prototype.createNodeData=function(){var e=this,t=this,r=t.chart,n=t.data,o=t.visible,i=this.getCategoryAxis(),a=this.getValueAxis();if(!(r&&n&&o&&i&&a)||r.layoutPending||r.dataPending)return[];var s=this.flipXY,l=i.scale,u=a.scale,c=this,p=c.groupScale,d=c.yKeys,h=c.cumYKeyCount,f=c.fills,g=c.strokes,y=c.strokeWidth,v=c.seriesItemEnabled,m=c.xData,b=c.yData,C=c.label,w=C.fontStyle,x=C.fontWeight,S=C.fontSize,E=C.fontFamily,O=C.color,_=C.formatter,P=C.placement;p.range=[0,l.bandwidth];var R=p.bandwidth,A=[];return m.forEach((function(t,r){for(var o=n[r],a=l.convert(t),c=b[r],m=0;m<c.length;m++)for(var C=c[m],T=0,D=0,M=0;M<C.length;M++){var k=+C[M],N=d[m][M],I=a+p.convert(String(m));if(i.inRange(I,R)){var L=k<0?T:D,F=u instanceof zl,G=u.convert(L+k,F?Vl:void 0),B=u.convert(L,F?Vl:void 0),W=o[N],H=void 0;H=_?_({value:du(W)?W:void 0}):du(W)?W.toFixed(2):"";var j=void 0,V=void 0;s?(V=I+R/2,j=P===Jd.Inside?G+(W>=0?-1:1)*Math.abs(B-G)/2:G+4*(W>=0?1:-1)):(j=I+R/2,V=P===Jd.Inside?G+(W>=0?1:-1)*Math.abs(B-G)/2:G+(W>=0?-3:4));var z=void 0,U=void 0;P===Jd.Inside?(z="center",U="middle"):(z=s?W>=0?"start":"end":"center",U=s?"middle":W>=0?"bottom":"top");var Y=h[m]+M;A.push({index:r,series:e,itemId:N,datum:o,yValue:W,yKey:N,x:s?Math.min(G,B):I,y:s?I:Math.min(G,B),width:s?Math.abs(B-G):R,height:s?R:Math.abs(B-G),fill:f[Y%f.length],stroke:g[Y%g.length],strokeWidth:y,label:v.get(N)&&H?{text:H,fontStyle:w,fontWeight:x,fontSize:S,fontFamily:E,textAlign:z,textBaseline:U,fill:O,x:j,y:V}:void 0}),k<0?T+=k:D+=k}}})),this.nodeData=A},t.prototype.update=function(){this.updatePending=!1,this.updateSelections(),this.updateNodes()},t.prototype.updateSelections=function(){this.nodeDataPending&&(this.nodeDataPending=!1,this.createNodeData(),this.updateRectSelection(),this.updateLabelSelection())},t.prototype.updateNodes=function(){this.group.visible=this.visible,this.updateRectNodes(),this.updateLabelNodes()},t.prototype.updateRectSelection=function(){var e=this.rectSelection.setData(this.nodeData);e.exit.remove();var t=e.enter.append(bp).each((function(e){e.tag=Qd.Bar,e.crisp=!0}));this.rectSelection=e.merge(t)},t.prototype.updateRectNodes=function(){var e=this;if(this.chart){var t=this,r=t.fills,n=t.strokes,o=t.fillOpacity,i=t.strokeOpacity,a=t.shadow,s=t.formatter,l=t.xKey,u=t.flipXY,c=t.yKeys,p=t.chart.highlightedDatum,d=t.highlightStyle,h=d.fill,f=d.stroke,g=d.strokeWidth,y=d.item,v=y.fill,m=void 0===v?h:v,b=y.stroke,C=void 0===b?f:b,w=y.strokeWidth,x=void 0===w?g:w;this.rectSelection.each((function(t,d,h){for(var f=0,g=0,y=0;y<c.length;y++){var v=c[y];if((g=v.indexOf(d.yKey))>=0){f+=g;break}f+=v.length}var b=d===p,w=b&&void 0!==m?m:r[f%r.length],S=b&&void 0!==C?C:n[f%r.length],E=b&&void 0!==x?x:e.getStrokeWidth(e.strokeWidth,d),O=void 0;s&&(O=s({datum:d.datum,fill:w,stroke:S,strokeWidth:E,highlighted:b,xKey:l,yKey:d.yKey})),t.x=d.x,t.y=d.y,t.width=d.width,t.height=d.height,t.fill=O&&O.fill||w,t.stroke=O&&O.stroke||S,t.strokeWidth=O&&void 0!==O.strokeWidth?O.strokeWidth:E,t.fillOpacity=o,t.strokeOpacity=i,t.lineDash=e.lineDash,t.lineDashOffset=e.lineDashOffset,t.fillShadow=a,t.visible=u?d.width>0:d.height>0,t.zIndex=b?Id.highlightedZIndex:h,t.opacity=e.getOpacity(d)}))}},t.prototype.updateLabelSelection=function(){var e=this.labelSelection.setData(this.nodeData);e.exit.remove();var t=e.enter.append(Cl).each((function(e){e.tag=Qd.Label,e.pointerEvents=il.None}));this.labelSelection=e.merge(t)},t.prototype.updateLabelNodes=function(){var e=this;if(this.chart){this.chart.highlightedDatum;var t=this.label,r=t.enabled,n=t.fontStyle,o=t.fontWeight,i=t.fontSize,a=t.fontFamily,s=t.color;this.labelSelection.each((function(t,l,u){var c=l.label;c&&r?(t.fontStyle=n,t.fontWeight=o,t.fontSize=i,t.fontFamily=a,t.textAlign=c.textAlign,t.textBaseline=c.textBaseline,t.text=c.text,t.x=c.x,t.y=c.y,t.fill=s,t.visible=!0,t.opacity=e.getOpacity(l)):t.visible=!1}))}},t.prototype.getTooltipHtml=function(e){var t=this,r=t.xKey,n=t.yKeys,o=t.yData,i=this.getCategoryAxis(),a=this.getValueAxis(),s=e.yKey;if(!o.length||!r||!s||!i||!a)return"";for(var l=o[e.index],u=0,c=0,p=0;p<n.length;p++){var d=n[p];if((c=d.indexOf(s))>=0){u+=c;break}u+=d.length}var h=this,f=h.xName,g=h.yNames,y=h.fills,v=h.strokes,m=h.tooltip,b=h.formatter,C=m.renderer,w=e.datum,x=g[s],S=y[u%y.length],E=v[u%y.length],O=this.getStrokeWidth(this.strokeWidth,w),_=w[r],P=w[s],R=l[p][c],A=Zd(i.formatDatum(_)),T=Zd(a.formatDatum(P)),D=Zd(x),M=A+": "+T,k=void 0;b&&(k=b({datum:w,fill:S,stroke:E,strokeWidth:O,highlighted:!1,xKey:r,yKey:s}));var N=k&&k.fill||S,I={title:D,backgroundColor:N,content:M};return C?ed(C({datum:w,xKey:r,xValue:_,xName:f,yKey:s,yValue:P,processedYValue:R,yName:x,color:N}),I):ed(I)},t.prototype.listSeriesItems=function(e){var t=this,r=t.id,n=t.data,o=t.xKey,i=t.yKeys,a=t.yNames,s=t.cumYKeyCount,l=t.seriesItemEnabled,u=t.hideInLegend,c=t.fills,p=t.strokes,d=t.fillOpacity,h=t.strokeOpacity;n&&n.length&&o&&i.length&&this.yKeys.forEach((function(t,n){t.forEach((function(t,o){if(u.indexOf(t)<0){var i=s[n]+o;e.push({id:r,itemId:t,enabled:l.get(t)||!1,label:{text:a[t]||t},marker:{fill:c[i%c.length],stroke:p[i%p.length],fillOpacity:d,strokeOpacity:h}})}}))}))},t.prototype.toggleSeriesItem=function(e,t){var r=this.seriesItemEnabled;r.set(e,t);var n=this.yKeys.map((function(e){return e.slice()}));r.forEach((function(e,t){e||n.forEach((function(e){var r=e.indexOf(t);r>=0&&e.splice(r,1)}))}));var o=[];n.forEach((function(e,t){e.length>0&&o.push(String(t))})),this.groupScale.domain=o,this.scheduleData()},t.className="BarSeries",t.type="bar",uh([Zs("dataChange")],t.prototype,"flipXY",void 0),uh([Zs("dataChange")],t.prototype,"fills",void 0),uh([Zs("dataChange")],t.prototype,"strokes",void 0),uh([Zs("update")],t.prototype,"fillOpacity",void 0),uh([Zs("update")],t.prototype,"strokeOpacity",void 0),uh([Zs("update")],t.prototype,"lineDash",void 0),uh([Zs("update")],t.prototype,"lineDashOffset",void 0),uh([Zs("update")],t.prototype,"formatter",void 0),uh([Zs("layoutChange")],t.prototype,"hideInLegend",void 0),t}(zd),yh=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),vh=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},mh=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},bh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return yh(t,e),vh([Zs("change")],t.prototype,"formatter",void 0),t}(_d),Ch=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return yh(t,e),vh([Zs("change")],t.prototype,"renderer",void 0),vh([Zs("change")],t.prototype,"format",void 0),t}(Nd),wh=function(e){function t(){var t=e.call(this)||this;t.xDomain=[],t.yDomain=[],t.xData=[],t.yData=[],t.lineNode=new Tu,t.nodeSelection=Cu.select(t.pickGroup).selectAll(),t.nodeData=[],t.marker=new Ud,t.label=new bh,t.stroke="#874349",t.lineDash=[0],t.lineDashOffset=0,t.strokeWidth=2,t.strokeOpacity=1,t.tooltip=new Ch,t._xKey="",t.xName="",t._yKey="",t.yName="";var r=t.lineNode;r.fill=void 0,r.lineJoin="round",r.pointerEvents=il.None,t.group.insertBefore(r,t.pickGroup),t.addEventListener("update",t.scheduleUpdate);var n=t,o=n.marker,i=n.label;return o.fill="#c16068",o.stroke="#874349",o.addPropertyListener("shape",t.onMarkerShapeChange,t),o.addEventListener("change",t.scheduleUpdate,t),i.enabled=!1,i.addEventListener("change",t.scheduleUpdate,t),t}return yh(t,e),t.prototype.onMarkerShapeChange=function(){this.nodeSelection=this.nodeSelection.setData([]),this.nodeSelection.exit.remove(),this.fireEvent({type:"legendChange"})},t.prototype.setColors=function(e,t){this.stroke=e[0],this.marker.stroke=t[0],this.marker.fill=e[0]},Object.defineProperty(t.prototype,"xKey",{get:function(){return this._xKey},set:function(e){this._xKey!==e&&(this._xKey=e,this.xData=[],this.scheduleData())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yKey",{get:function(){return this._yKey},set:function(e){this._yKey!==e&&(this._yKey=e,this.yData=[],this.scheduleData())},enumerable:!0,configurable:!0}),t.prototype.processData=function(){var e=this,t=e.xAxis,r=e.yAxis,n=e.xKey,o=e.yKey,i=e.xData,a=e.yData,s=n&&o&&this.data?this.data:[];if(!t||!r)return!1;var l=t.scale instanceof zl,u=r.scale instanceof zl;i.length=0,a.length=0;for(var c=0,p=s.length;c<p;c++){var d=s[c],h=d[n],f=d[o],g=this.checkDatum(h,l);if(!l||void 0!==g){i.push(g);var y=this.checkDatum(f,u);a.push(y)}}return this.xDomain=l?this.fixNumericExtent(pu(i,yu),"x",t):i,this.yDomain=u?this.fixNumericExtent(pu(a,yu),"y",r):a,!0},t.prototype.getDomain=function(e){return e===zu.X?this.xDomain:this.yDomain},t.prototype.onHighlightChange=function(){this.updateNodes()},t.prototype.resetHighlight=function(){this.lineNode.strokeWidth=this.strokeWidth},t.prototype.update=function(){this.updatePending=!1,this.updateSelections(),this.updateNodes()},t.prototype.updateSelections=function(){this.nodeDataPending&&(this.nodeDataPending=!1,this.updateLinePath(),this.updateNodeSelection())},t.prototype.updateLinePath=function(){var e,t=this,r=t.data,n=t.xAxis,o=t.yAxis;if(r&&n&&o){var i=this,a=i.xData,s=i.yData,l=i.lineNode,u=i.label,c=i.xKey,p=i.yKey,d=n.scale,h=o.scale,f=(d.bandwidth||0)/2,g=(h.bandwidth||0)/2,y=l.path,v=[];y.clear();for(var m=!0,b=void 0,C=void 0,w=0;w<a.length;w++){var x=C||[a[w],s[w]];if(void 0===x[1])b=void 0,m=!0;else{var S=mh(x,2),E=S[0],O=S[1],_=d.convert(E)+f;if(isNaN(_)){b=void 0,m=!0;continue}var P=(d.bandwidth||.5*this.marker.size+(this.marker.strokeWidth||0))+1;C=void 0===s[w+1]?void 0:[a[w+1],s[w+1]];var R=n.inRangeEx(_,0,P),A=C&&n.inRangeEx(d.convert(C[0])+f,0,P);if(-1===R&&-1===A){m=!0;continue}if(1===R&&1===b){m=!0;continue}b=R;var T=h.convert(O)+g;m?(y.moveTo(_,T),m=!1):y.lineTo(_,T);var D=void 0;D=u.formatter?u.formatter({value:O}):"number"===typeof O&&isFinite(O)?O.toFixed(2):O?String(O):"";var M=((e={})[c]=E,e[p]=O,e);v.push({series:this,datum:M,point:{x:_,y:T},label:D?{text:D,fontStyle:u.fontStyle,fontWeight:u.fontWeight,fontSize:u.fontSize,fontFamily:u.fontFamily,textAlign:"center",textBaseline:"bottom",fill:u.color}:void 0})}}this.nodeData=v}},t.prototype.updateNodeSelection=function(){var e=this.marker,t=e.shape?this.nodeData:[],r=Gp(e.shape),n=this.nodeSelection.setData(t);n.exit.remove();var o=n.enter.append(mu);o.append(r),o.append(Cl),this.nodeSelection=n.merge(o)},t.prototype.updateNodes=function(){this.group.visible=this.visible,this.updateLineNode(),this.updateMarkerNodes(),this.updateTextNodes()},t.prototype.updateLineNode=function(){var e=this.lineNode;e.stroke=this.stroke,e.strokeWidth=this.getStrokeWidth(this.strokeWidth),e.strokeOpacity=this.strokeOpacity,e.lineDash=this.lineDash,e.lineDashOffset=this.lineDashOffset,e.opacity=this.getOpacity()},t.prototype.updateMarkerNodes=function(){var e=this;if(this.chart){var t=this,r=t.marker,n=t.xKey,o=t.yKey,i=t.stroke,a=t.chart.highlightedDatum,s=t.highlightStyle,l=s.fill,u=s.stroke,c=s.strokeWidth,p=s.item,d=p.fill,h=void 0===d?l:d,f=p.stroke,g=void 0===f?u:f,y=p.strokeWidth,v=void 0===y?c:y,m=r.size,b=r.formatter,C=void 0!==r.strokeWidth?r.strokeWidth:this.strokeWidth,w=Gp(r.shape);this.nodeSelection.selectByClass(w).each((function(t,s){var l=s===a,u=l&&void 0!==h?h:r.fill,c=l&&void 0!==g?g:r.stroke||i,p=l&&void 0!==v?v:C,d=void 0;b&&(d=b({datum:s.datum,xKey:n,yKey:o,fill:u,stroke:c,strokeWidth:p,size:m,highlighted:l})),t.fill=d&&d.fill||u,t.stroke=d&&d.stroke||c,t.strokeWidth=d&&void 0!==d.strokeWidth?d.strokeWidth:p,t.size=d&&void 0!==d.size?d.size:m,t.translationX=s.point.x,t.translationY=s.point.y,t.opacity=e.getOpacity(s),t.visible=r.enabled&&t.size>0}))}},t.prototype.updateTextNodes=function(){var e=this;this.nodeSelection.selectByClass(Cl).each((function(t,r){var n=r.point,o=r.label,i=e.label,a=i.enabled,s=i.fontStyle,l=i.fontWeight,u=i.fontSize,c=i.fontFamily,p=i.color;o&&a?(t.fontStyle=s,t.fontWeight=l,t.fontSize=u,t.fontFamily=c,t.textAlign=o.textAlign,t.textBaseline=o.textBaseline,t.text=o.text,t.x=n.x,t.y=n.y-10,t.fill=p,t.visible=!0):t.visible=!1}))},t.prototype.getNodeData=function(){return this.nodeData},t.prototype.fireNodeClickEvent=function(e,t){this.fireEvent({type:"nodeClick",event:e,series:this,datum:t.datum,xKey:this.xKey,yKey:this.yKey})},t.prototype.getTooltipHtml=function(e){var t=this,r=t.xKey,n=t.yKey,o=t.xAxis,i=t.yAxis;if(!r||!n||!o||!i)return"";var a=this,s=a.xName,l=a.yName,u=a.tooltip,c=a.marker,p=u.renderer,d=u.format,h=e.datum,f=h[r],g=h[n],y=o.formatDatum(f),v=i.formatDatum(g),m=Zd(this.title||l),b=Zd(y+": "+v),C=c.formatter,w=c.fill,x=c.stroke,S=c.strokeWidth,E=c.size,O=void 0!==S?S:this.strokeWidth,_=void 0;C&&(_=C({datum:h,xKey:r,yKey:n,fill:w,stroke:x,strokeWidth:O,size:E,highlighted:!1}));var P=_&&_.fill||w,R={title:m,backgroundColor:P,content:b};if(d||p){var A={datum:h,xKey:r,xValue:f,xName:s,yKey:n,yValue:g,yName:l,title:m,color:P};if(d)return ed({content:qd(d,A)},R);if(p)return ed(p(A),R)}return ed(R)},t.prototype.listSeriesItems=function(e){var t=this,r=t.id,n=t.data,o=t.xKey,i=t.yKey,a=t.yName,s=t.visible,l=t.title,u=t.marker,c=t.stroke,p=t.strokeOpacity;n&&n.length&&o&&i&&e.push({id:r,itemId:void 0,enabled:s,label:{text:l||a||i},marker:{shape:u.shape,fill:u.fill||"rgba(0, 0, 0, 0)",stroke:u.stroke||c||"rgba(0, 0, 0, 0)",fillOpacity:1,strokeOpacity:p}})},t.className="LineSeries",t.type="line",vh([Zs("layoutChange")],t.prototype,"title",void 0),vh([Zs("update")],t.prototype,"stroke",void 0),vh([Zs("update")],t.prototype,"lineDash",void 0),vh([Zs("update")],t.prototype,"lineDashOffset",void 0),vh([Zs("update")],t.prototype,"strokeWidth",void 0),vh([Zs("update")],t.prototype,"strokeOpacity",void 0),vh([Zs("update")],t.prototype,"xName",void 0),vh([Zs("update")],t.prototype,"yName",void 0),t}(zd),xh=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Sh=function(){return Sh=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Sh.apply(this,arguments)},Eh=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Oh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xh(t,e),Eh([Zs("change")],t.prototype,"renderer",void 0),t}(Nd),_h=function(e){function t(){var t=e.call(this)||this;t.xDomain=[],t.yDomain=[],t.xData=[],t.yData=[],t.validData=[],t.sizeData=[],t.sizeScale=new su,t.nodeData=[],t.markerSelection=Cu.select(t.pickGroup).selectAll(),t.labelSelection=Cu.select(t.group).selectAll(),t.marker=new Ud,t.label=new _d,t._fill="#c16068",t._stroke="#874349",t._strokeWidth=2,t._fillOpacity=1,t._strokeOpacity=1,t.xKey="",t.yKey="",t.xName="",t.yName="",t.sizeName="Size",t.labelName="Label",t.tooltip=new Oh;var r=t,n=r.marker,o=r.label;return n.addPropertyListener("shape",t.onMarkerShapeChange,t),n.addEventListener("change",t.scheduleUpdate,t),t.addPropertyListener("xKey",(function(){return t.xData=[]})),t.addPropertyListener("yKey",(function(){return t.yData=[]})),t.addPropertyListener("sizeKey",(function(){return t.sizeData=[]})),o.enabled=!1,o.addEventListener("change",t.scheduleUpdate,t),o.addEventListener("dataChange",t.scheduleData,t),t}return xh(t,e),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fill},set:function(e){this._fill!==e&&(this._fill=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this._stroke},set:function(e){this._stroke!==e&&(this._stroke=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(e){this._strokeWidth!==e&&(this._strokeWidth=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fillOpacity",{get:function(){return this._fillOpacity},set:function(e){this._fillOpacity!==e&&(this._fillOpacity=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeOpacity",{get:function(){return this._strokeOpacity},set:function(e){this._strokeOpacity!==e&&(this._strokeOpacity=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),t.prototype.onHighlightChange=function(){this.updateMarkerNodes()},t.prototype.onMarkerShapeChange=function(){this.markerSelection=this.markerSelection.setData([]),this.markerSelection.exit.remove(),this.fireEvent({type:"legendChange"})},t.prototype.setColors=function(e,t){this.fill=e[0],this.stroke=t[0],this.marker.fill=e[0],this.marker.stroke=t[0]},t.prototype.processData=function(){var e=this,t=this,r=t.xKey,n=t.yKey,o=t.sizeKey,i=(t.labelKey,t.xAxis),a=t.yAxis,s=t.marker;t.label;if(!i||!a)return!1;var l=r&&n&&this.data?this.data:[],u=i.scale,c=a.scale,p=u instanceof zl,d=c instanceof zl;return this.validData=l.filter((function(t){return void 0!==e.checkDatum(t[r],p)&&void 0!==e.checkDatum(t[n],d)})),this.xData=this.validData.map((function(e){return e[r]})),this.yData=this.validData.map((function(e){return e[n]})),this.sizeData=o?this.validData.map((function(e){return e[o]})):[],this.sizeScale.domain=s.domain?s.domain:pu(this.sizeData,yu)||[1,1],i.scale instanceof zl?this.xDomain=this.fixNumericExtent(pu(this.xData,yu),"x",i):this.xDomain=this.xData,a.scale instanceof zl?this.yDomain=this.fixNumericExtent(pu(this.yData,yu),"y",a):this.yDomain=this.yData,!0},t.prototype.getDomain=function(e){return e===zu.X?this.xDomain:this.yDomain},t.prototype.getNodeData=function(){return this.nodeData},t.prototype.getLabelData=function(){return this.nodeData},t.prototype.fireNodeClickEvent=function(e,t){this.fireEvent({type:"nodeClick",event:e,series:this,datum:t.datum,xKey:this.xKey,yKey:this.yKey,sizeKey:this.sizeKey})},t.prototype.createNodeData=function(){var e=this,t=e.chart,r=e.data,n=e.visible,o=e.xAxis,i=e.yAxis,a=e.label,s=e.labelKey;if(!(t&&r&&n&&o&&i)||t.layoutPending||t.dataPending)return[];var l=o.scale,u=i.scale,c=l instanceof zl,p=u instanceof zl,d=(l.bandwidth||0)/2,h=(u.bandwidth||0)/2,f=this,g=f.xData,y=f.yData,v=f.validData,m=f.sizeData,b=f.sizeScale,C=f.marker,w=[];b.range=[C.size,C.maxSize];for(var x=a.getFont(),S=0;S<g.length;S++){var E=this.checkDomainXY(g[S],y[S],c,p);if(E){var O=l.convert(E[0])+d,_=u.convert(E[1])+h;if(this.checkRangeXY(O,_,o,i)){var P=s?String(v[S][s]):"",R=ml.getTextSize(P,x);w.push({series:this,datum:v[S],point:{x:O,y:_},size:m.length?b.convert(m[S]):C.size,label:Sh({text:P},R)})}}}return this.nodeData=w},t.prototype.update=function(){this.updatePending=!1,this.updateSelections(),this.updateNodes()},t.prototype.updateSelections=function(){this.nodeDataPending&&(this.nodeDataPending=!1,this.createNodeData(),this.updateMarkerSelection(),this.updateLabelSelection())},t.prototype.updateNodes=function(){this.group.visible=this.visible,this.updateMarkerNodes(),this.updateLabelNodes()},t.prototype.updateLabelSelection=function(){var e=this.chart&&this.chart.placeLabels().get(this)||[],t=this.labelSelection.setData(e);t.exit.remove();var r=t.enter.append(Cl);this.labelSelection=t.merge(r)},t.prototype.updateMarkerSelection=function(){var e=Gp(this.marker.shape),t=this.markerSelection.setData(this.nodeData);t.exit.remove();var r=t.enter.append(e);this.markerSelection=t.merge(r)},t.prototype.updateLabelNodes=function(){var e=this.label;this.labelSelection.each((function(t,r){t.text=r.text,t.fill=e.color,t.x=r.x,t.y=r.y,t.fontStyle=e.fontStyle,t.fontWeight=e.fontWeight,t.fontSize=e.fontSize,t.fontFamily=e.fontFamily,t.textAlign="left",t.textBaseline="top"}))},t.prototype.updateMarkerNodes=function(){var e=this;if(this.chart){var t=this,r=t.marker,n=t.xKey,o=t.yKey,i=t.strokeWidth,a=t.fillOpacity,s=t.strokeOpacity,l=t.fill,u=t.stroke,c=t.chart.highlightedDatum,p=t.sizeScale,d=t.sizeData,h=t.highlightStyle,f=h.fill,g=h.stroke,y=h.strokeWidth,v=h.item,m=v.fill,b=void 0===m?f:m,C=v.stroke,w=void 0===C?g:C,x=v.strokeWidth,S=void 0===x?y:x,E=void 0!==r.strokeWidth?r.strokeWidth:i,O=r.formatter;p.range=[r.size,r.maxSize],this.markerSelection.each((function(t,i,h){var f=i===c,g=f&&void 0!==b?b:r.fill||l,y=f&&void 0!==w?w:r.stroke||u,v=f&&void 0!==S?S:e.getStrokeWidth(E,i),m=d.length?p.convert(d[h]):r.size,C=void 0;O&&(C=O({datum:i.datum,xKey:n,yKey:o,fill:g,stroke:y,strokeWidth:v,size:m,highlighted:f})),t.fill=C&&C.fill||g,t.stroke=C&&C.stroke||y,t.strokeWidth=C&&void 0!==C.strokeWidth?C.strokeWidth:v,t.size=C&&void 0!==C.size?C.size:m,t.fillOpacity=void 0!==r.fillOpacity?r.fillOpacity:a,t.strokeOpacity=void 0!==r.strokeOpacity?r.strokeOpacity:s,t.translationX=i.point.x,t.translationY=i.point.y,t.opacity=e.getOpacity(i),t.zIndex=f?Id.highlightedZIndex:h,t.visible=r.enabled&&t.size>0}))}},t.prototype.getTooltipHtml=function(e){var t=this,r=t.xKey,n=t.yKey,o=t.xAxis,i=t.yAxis;if(!r||!n||!o||!i)return"";var a=this,s=a.fill,l=a.stroke,u=a.marker,c=a.tooltip,p=a.xName,d=a.yName,h=a.sizeKey,f=a.sizeName,g=a.labelKey,y=a.labelName,v=u.fill||s,m=u.stroke||l,b=this.getStrokeWidth(u.strokeWidth||this.strokeWidth,e),C=this.marker.formatter,w=void 0;C&&(w=C({datum:e,xKey:r,yKey:n,fill:v,stroke:m,strokeWidth:b,size:e.size,highlighted:!1}));var x=w&&w.fill||v||"gray",S=this.title||d,E=e.datum,O=E[r],_=E[n],P=Zd(o.formatDatum(O)),R=Zd(i.formatDatum(_)),A="<b>"+Zd(p||r)+"</b>: "+P+"<br><b>"+Zd(d||n)+"</b>: "+R;h&&(A+="<br><b>"+Zd(f||h)+"</b>: "+Zd(E[h])),g&&(A="<b>"+Zd(y||g)+"</b>: "+Zd(E[g])+"<br>"+A);var T={title:S,backgroundColor:x,content:A},D=c.renderer;return D?ed(D({datum:E,xKey:r,xValue:O,xName:p,yKey:n,yValue:_,yName:d,sizeKey:h,sizeName:f,labelKey:g,labelName:y,title:S,color:x}),T):ed(T)},t.prototype.listSeriesItems=function(e){var t=this,r=t.id,n=t.data,o=t.xKey,i=t.yKey,a=t.yName,s=t.title,l=t.visible,u=t.marker,c=t.fill,p=t.stroke,d=t.fillOpacity,h=t.strokeOpacity;n&&n.length&&o&&i&&e.push({id:r,itemId:void 0,enabled:l,label:{text:s||a||i},marker:{shape:u.shape,fill:u.fill||c||"rgba(0, 0, 0, 0)",stroke:u.stroke||p||"rgba(0, 0, 0, 0)",fillOpacity:void 0!==u.fillOpacity?u.fillOpacity:d,strokeOpacity:void 0!==u.strokeOpacity?u.strokeOpacity:h}})},t.className="ScatterSeries",t.type="scatter",Eh([Zs("layoutChange")],t.prototype,"title",void 0),Eh([Zs("dataChange")],t.prototype,"xKey",void 0),Eh([Zs("dataChange")],t.prototype,"yKey",void 0),Eh([Zs("dataChange")],t.prototype,"sizeKey",void 0),Eh([Zs("dataChange")],t.prototype,"labelKey",void 0),t}(zd),Ph=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Rh=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Ah=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},Th=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Ah(arguments[t]));return e};!function(e){e[e.Bin=0]="Bin",e[e.Label=1]="Label"}(fh||(fh={}));var Dh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ph(t,e),Rh([Zs("change")],t.prototype,"formatter",void 0),t}(_d),Mh={count:function(e){return e.data.length},sum:function(e,t){return e.data.reduce((function(e,r){return e+r[t]}),0)},mean:function(e,t){return Mh.sum(e,t)/Mh.count(e,t)}},kh=function(){function e(e){var t=Ah(e,2),r=t[0],n=t[1];this.data=[],this.aggregatedValue=0,this.frequency=0,this.domain=[r,n]}return e.prototype.addDatum=function(e){this.data.push(e),this.frequency++},Object.defineProperty(e.prototype,"domainWidth",{get:function(){var e=Ah(this.domain,2),t=e[0];return e[1]-t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relativeHeight",{get:function(){return this.aggregatedValue/this.domainWidth},enumerable:!0,configurable:!0}),e.prototype.calculateAggregatedValue=function(e,t){t||(e="count");var r=Mh[e];this.aggregatedValue=r(this,t)},e.prototype.getY=function(e){return e?this.relativeHeight:this.aggregatedValue},e}(),Nh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ph(t,e),Rh([Zs("change")],t.prototype,"renderer",void 0),t}(Nd),Ih=function(e){function t(){var t,r=e.call(this)||this;return r.rectGroup=r.pickGroup.appendChild(new mu),r.textGroup=r.group.appendChild(new mu),r.rectSelection=Cu.select(r.rectGroup).selectAll(),r.textSelection=Cu.select(r.textGroup).selectAll(),r.binnedData=[],r.xDomain=[],r.yDomain=[],r.label=new Dh,r.seriesItemEnabled=!0,r.tooltip=new Nh,r.fill=void 0,r.stroke=void 0,r.fillOpacity=1,r.strokeOpacity=1,r.lineDash=[0],r.lineDashOffset=0,r.directionKeys=((t={})[zu.X]=["xKey"],t[zu.Y]=["yKey"],t),r._xKey="",r._areaPlot=!1,r._bins=void 0,r._aggregation="count",r._binCount=void 0,r._xName="",r._yKey="",r._yName="",r._strokeWidth=1,r.label.enabled=!1,r.label.addEventListener("change",r.scheduleUpdate,r),r}return Ph(t,e),t.prototype.getKeys=function(e){var t=this,r=this.directionKeys,n=r&&r[e],o=[];return n&&n.forEach((function(e){var r=t[e];r&&(Array.isArray(r)?o.push.apply(o,Th(r)):o.push(r))})),o},Object.defineProperty(t.prototype,"xKey",{get:function(){return this._xKey},set:function(e){this._xKey!==e&&(this._xKey=e,this.scheduleData())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"areaPlot",{get:function(){return this._areaPlot},set:function(e){this._areaPlot=e,this.scheduleData()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bins",{get:function(){return this._bins},set:function(e){this._bins=e,this.scheduleData()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"aggregation",{get:function(){return this._aggregation},set:function(e){this._aggregation=e,this.scheduleData()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"binCount",{get:function(){return this._binCount},set:function(e){this._binCount=e,this.scheduleData()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"xName",{get:function(){return this._xName},set:function(e){this._xName!==e&&(this._xName=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yKey",{get:function(){return this._yKey},set:function(e){this._yKey=e,this.seriesItemEnabled=!0,this.scheduleData()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yName",{get:function(){return this._yName},set:function(e){this._yName=e,this.scheduleData()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(e){this._strokeWidth!==e&&(this._strokeWidth=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shadow",{get:function(){return this._shadow},set:function(e){this._shadow!==e&&(this._shadow=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),t.prototype.onHighlightChange=function(){this.updateRectNodes()},t.prototype.setColors=function(e,t){this.fill=e[0],this.stroke=t[0]},t.prototype.deriveBins=function(){var e=this,t=this.bins;this.binCount;if(!this.data)return[];if(t)return t;var r=this.data.map((function(t){return t[e.xKey]})),n=this.fixNumericExtent(pu(r,yu),"x"),o=_l(n[0],n[1],this.binCount||10),i=Tl(n[0],n[1],this.binCount||10),a=o[0];return Th([[a-i,a]],o.map((function(e){return[e,e+i]})))},t.prototype.placeDataInBins=function(e){var t=this,r=this.xKey,n=this.deriveBins(),o=e.slice().sort((function(e,t){return e[r]<t[r]?-1:e[r]>t[r]?1:0})),i=0,a=[new kh(n[0])];e:for(var s=0,l=o.length;s<l;s++){for(var u=o[s];u[r]>n[i][1];){var c=n[++i];if(!c)break e;a.push(new kh(c))}a[i].addDatum(u)}return a.forEach((function(e){return e.calculateAggregatedValue(t._aggregation,t.yKey)})),a},Object.defineProperty(t.prototype,"xMax",{get:function(){var e=this;return this.data&&this.data.reduce((function(t,r){return Math.max(t,r[e.xKey])}),Number.NEGATIVE_INFINITY)},enumerable:!0,configurable:!0}),t.prototype.processData=function(){var e=this,t=this.xKey,r=this.data;this.binnedData=this.placeDataInBins(t&&r?r:[]);var n=pu(this.binnedData.map((function(t){return t.getY(e.areaPlot)})),yu);this.yDomain=this.fixNumericExtent([0,n?n[1]:1],"y");var o=this.binnedData[0],i=this.binnedData[this.binnedData.length-1],a=o.domain[0],s=i.domain[1];return this.xDomain=[a,s],this.fireEvent({type:"dataProcessed"}),!0},t.prototype.getDomain=function(e){return e===zu.X?this.xDomain:this.yDomain},t.prototype.fireNodeClickEvent=function(e,t){this.fireEvent({type:"nodeClick",event:e,series:this,datum:t.datum,xKey:this.xKey})},t.prototype.update=function(){this.updatePending=!1,this.updateSelections(),this.updateNodes()},t.prototype.updateSelections=function(){if(this.nodeDataPending){this.nodeDataPending=!1;var e=this.createNodeData();this.updateRectSelection(e),this.updateTextSelection(e)}},t.prototype.updateNodes=function(){this.group.visible=this.visible,this.updateRectNodes(),this.updateTextNodes()},t.prototype.createNodeData=function(){var e=this,t=this.xAxis,r=this.yAxis;if(!this.seriesItemEnabled||!t||!r)return[];var n=t.scale,o=r.scale,i=this,a=i.fill,s=i.stroke,l=i.strokeWidth,u=[],c=this.label,p=c.formatter,d=void 0===p?function(e){return String(e.value)}:p,h=c.fontStyle,f=c.fontWeight,g=c.fontSize,y=c.fontFamily,v=c.color;return this.binnedData.forEach((function(t){var r=t.aggregatedValue,i=t.frequency,c=Ah(t.domain,2),p=c[0],m=c[1],b=t.relativeHeight,C=n.convert(p),w=n.convert(m),x=e.areaPlot?b:e.yKey?r:i,S=o.convert(0),E=o.convert(x),O=w-C,_=Math.abs(E-S),P=0!==x?{text:d({value:t.aggregatedValue}),fontStyle:h,fontWeight:f,fontSize:g,fontFamily:y,fill:v,x:C+O/2,y:E+_/2}:void 0;u.push({series:e,datum:t,x:C,y:E,width:O,height:_,fill:a,stroke:s,strokeWidth:l,label:P})})),u},t.prototype.updateRectSelection=function(e){var t=this.rectSelection.setData(e);t.exit.remove();var r=t.enter.append(bp).each((function(e){e.tag=fh.Bin,e.crisp=!0}));this.rectSelection=t.merge(r)},t.prototype.updateRectNodes=function(){var e=this;if(this.chart){var t=this,r=t.fillOpacity,n=t.strokeOpacity,o=t.shadow,i=t.chart.highlightedDatum,a=t.highlightStyle,s=a.fill,l=a.stroke,u=a.strokeWidth,c=a.item,p=c.fill,d=void 0===p?s:p,h=c.stroke,f=void 0===h?l:h,g=c.strokeWidth,y=void 0===g?u:g;this.rectSelection.each((function(t,a,s){var l=a===i,u=l&&void 0!==y?y:e.getStrokeWidth(a.strokeWidth,a);t.x=a.x,t.y=a.y,t.width=a.width,t.height=a.height,t.fill=l&&void 0!==d?d:a.fill,t.stroke=l&&void 0!==f?f:a.stroke,t.fillOpacity=r,t.strokeOpacity=n,t.strokeWidth=u,t.lineDash=e.lineDash,t.lineDashOffset=e.lineDashOffset,t.fillShadow=o,t.zIndex=l?Id.highlightedZIndex:s,t.visible=a.height>0,t.opacity=e.getOpacity(a)}))}},t.prototype.updateTextSelection=function(e){var t=this.textSelection.setData(e);t.exit.remove();var r=t.enter.append(Cl).each((function(e){e.tag=fh.Label,e.pointerEvents=il.None,e.textAlign="center",e.textBaseline="middle"}));this.textSelection=t.merge(r)},t.prototype.updateTextNodes=function(){var e=this.label.enabled;this.textSelection.each((function(t,r){var n=r.label;n&&e?(t.text=n.text,t.x=n.x,t.y=n.y,t.fontStyle=n.fontStyle,t.fontWeight=n.fontWeight,t.fontSize=n.fontSize,t.fontFamily=n.fontFamily,t.fill=n.fill,t.visible=!0):t.visible=!1}))},t.prototype.getTooltipHtml=function(e){var t=this,r=t.xKey,n=t.yKey,o=t.xAxis,i=t.yAxis;if(!r||!o||!i)return"";var a=this,s=a.xName,l=a.yName,u=a.fill,c=a.tooltip,p=a.aggregation,d=c.renderer,h=e.datum,f=h.aggregatedValue,g=h.frequency,y=Ah(h.domain,2),v=y[0],m=y[1],b=Zd(s||r)+": "+o.formatDatum(v)+" - "+o.formatDatum(m),C=n?"<b>"+Zd(l||n)+" ("+p+")</b>: "+i.formatDatum(f)+"<br>":"",w={title:b,backgroundColor:u,content:C+="<b>Frequency</b>: "+g};return d?ed(d({datum:h,xKey:r,xValue:h.domain,xName:s,yKey:n,yValue:h.aggregatedValue,yName:l,color:u}),w):ed(w)},t.prototype.listSeriesItems=function(e){var t=this,r=t.id,n=t.data,o=t.yKey,i=t.yName,a=t.seriesItemEnabled,s=t.fill,l=t.stroke,u=t.fillOpacity,c=t.strokeOpacity;n&&n.length&&e.push({id:r,itemId:o,enabled:a,label:{text:i||o||"Frequency"},marker:{fill:s||"rgba(0, 0, 0, 0)",stroke:l||"rgba(0, 0, 0, 0)",fillOpacity:u,strokeOpacity:c}})},t.prototype.toggleSeriesItem=function(e,t){e===this.yKey&&(this.seriesItemEnabled=t),this.scheduleData()},t.className="HistogramSeries",t.type="histogram",Rh([Zs("dataChange")],t.prototype,"fill",void 0),Rh([Zs("dataChange")],t.prototype,"stroke",void 0),Rh([Zs("layoutChange")],t.prototype,"fillOpacity",void 0),Rh([Zs("layoutChange")],t.prototype,"strokeOpacity",void 0),Rh([Zs("update")],t.prototype,"lineDash",void 0),Rh([Zs("update")],t.prototype,"lineDashOffset",void 0),t}(zd),Lh=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Fh=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Gh=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.data=void 0,t}return Lh(t,e),Fh([Zs("dataChange")],t.prototype,"data",void 0),t}(Id),Bh=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Wh=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Hh=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.enabled=!0,t.color="rgba(0, 0, 0, 0.5)",t.xOffset=0,t.yOffset=0,t.blur=5,t}return Bh(t,e),Wh([Zs("change")],t.prototype,"enabled",void 0),Wh([Zs("change")],t.prototype,"color",void 0),Wh([Zs("change")],t.prototype,"xOffset",void 0),Wh([Zs("change")],t.prototype,"yOffset",void 0),Wh([Zs("change")],t.prototype,"blur",void 0),t}($s);function jh(e,t,r,n,o){var i=e.children,a=e.value&&(o-r)/e.value;i.forEach((function(e){e.x0=t,e.x1=n,e.y0=r,e.y1=r+=e.value*a}))}function Vh(e,t,r,n,o){var i=e.children,a=e.value&&(n-t)/e.value;i.forEach((function(e){e.x0=t,e.x1=t+=e.value*a,e.y0=r,e.y1=o}))}function zh(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}var Uh=function e(t){function r(e,r,n,o,i){!function(e,t,r,n,o,i){for(var a,s,l,u,c,p,d,h,f,g,y=[],v=t.children,m=v.length,b=t.value,C=0,w=0;C<m;){a=o-r,s=i-n;do{u=v[w++].value}while(!u&&w<m);for(c=p=u,g=u*u*(f=Math.max(s/a,a/s)/(b*e)),h=Math.max(p/g,g/c);w<m;++w){if((l=v[w].value)<c&&(c=l),l>p&&(p=l),g=(u+=l)*u*f,(d=Math.max(p/g,g/c))>h){u-=l;break}h=d}var x={value:u,dice:a<s,children:v.slice(C,w)};y.push(x),x.dice?Vh(x,r,n,o,b?n+=s*u/b:i):jh(x,r,n,b?r+=a*u/b:o,i),b-=u,C=w}}(t,e,r,n,o,i)}return r.ratio=function(t){return e((t=+t)>1?t:1)},r}((1+Math.sqrt(5))/2),Yh=function(){function e(){this.paddingStack=[0],this.dx=1,this.dy=1,this.round=!0,this.tile=Uh,this.paddingInner=function(e){return 0},this.paddingTop=function(e){return 0},this.paddingRight=function(e){return 0},this.paddingBottom=function(e){return 0},this.paddingLeft=function(e){return 0}}return Object.defineProperty(e.prototype,"size",{get:function(){return[this.dx,this.dy]},set:function(e){this.dx=e[0],this.dy=e[1]},enumerable:!0,configurable:!0}),e.prototype.processData=function(e){return e.x0=0,e.y0=0,e.x1=this.dx,e.y1=this.dy,e.eachBefore(this.positionNode.bind(this)),this.paddingStack=[0],this.round&&e.eachBefore(zh),e},e.prototype.positionNode=function(e){var t=this.paddingStack[e.depth],r=e.x0+t,n=e.y0+t,o=e.x1-t,i=e.y1-t;o<r&&(r=o=(r+o)/2),i<n&&(n=i=(n+i)/2),e.x0=r,e.y0=n,e.x1=o,e.y1=i,e.children&&(t=this.paddingStack[e.depth+1]=this.paddingInner(e)/2,r+=this.paddingLeft(e)-t,n+=this.paddingTop(e)-t,(o-=this.paddingRight(e)-t)<r&&(r=o=(r+o)/2),(i-=this.paddingBottom(e)-t)<n&&(n=i=(n+i)/2),this.tile(e,r,n,o,i))},e}(),Xh=function(){function e(e){this.value=0,this.depth=0,this.height=0,this.parent=void 0,this.children=void 0,this.datum=e}return e.prototype.countFn=function(e){var t=0,r=e.children;if(r&&r.length)for(var n=r.length;--n>=0;)t+=r[n].value;else t=1;e.value=t},e.prototype.count=function(){return this.eachAfter(this.countFn)},e.prototype.each=function(e,t){var r=this,n=-1;return this.iterator((function(o){e.call(t,o,++n,r)})),this},e.prototype.eachAfter=function(e,t){for(var r=this,n=[r],o=[];r=n.pop();){o.push(r);var i=r.children;if(i)for(var a=0,s=i.length;a<s;++a)n.push(i[a])}for(var l=-1;r=o.pop();)e.call(t,r,++l,this);return this},e.prototype.eachBefore=function(e,t){for(var r=this,n=[r],o=-1;r=n.pop();){e.call(t,r,++o,this);var i=r.children;if(i)for(var a=i.length-1;a>=0;--a){var s=i[a];n.push(s)}}return this},e.prototype.find=function(e,t){var r,n=this,o=-1;return this.iterator((function(i){if(e.call(t,i,++o,n))return r=i,!1})),r},e.prototype.sum=function(e){return this.eachAfter((function(t){var r=+e(t.datum)||0,n=t.children;if(n)for(var o=n.length;--o>=0;)r+=n[o].value;t.value=r}))},e.prototype.sort=function(e){return this.eachBefore((function(t){t.children&&t.children.sort(e)}))},e.prototype.path=function(e){for(var t=this,r=function(e,t){if(!e||!t)return;if(e===t)return e;var r=e.ancestors(),n=t.ancestors(),o=void 0;e=r.pop(),t=n.pop();for(;e===t;)o=e,e=r.pop(),t=n.pop();return o}(t,e),n=[t];t!==r;)t=t.parent,n.push(t);for(var o=n.length;e!==r;)n.splice(o,0,e),e=e.parent;return n},e.prototype.ancestors=function(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t},e.prototype.descendants=function(){var e=[];return this.iterator((function(t){return e.push(t)})),e},e.prototype.leaves=function(){var e=[];return this.eachBefore((function(t){t.children||e.push(t)})),e},e.prototype.links=function(){var e=this,t=[];return e.each((function(r){r!==e&&t.push({source:r.parent,target:r})})),t},e.prototype.copy=function(){},e.prototype.iterator=function(e){var t,r=this,n=[r];e:do{for(t=n.reverse(),n=[];r=t.pop();){if(!1===e(r))break e;var o=r.children;if(o)for(var i=0,a=o.length;i<a;++i)n.push(o[i])}}while(n.length)},e}();function Kh(e,t){e instanceof Map?(e=[void 0,e],void 0===t&&(t=$h)):void 0===t&&(t=Zh);for(var r,n,o,i,a,s=new Xh(e),l=[s];r=l.pop();)if((o=t(r.datum))&&(a=(o=Array.from(o)).length))for(r.children=o,i=a-1;i>=0;--i)l.push(n=o[i]=new Xh(o[i])),n.parent=r,n.depth=r.depth+1;return s.eachBefore(qh)}function qh(e){var t=0;do{e.height=t}while((e=e.parent)&&e.height<++t)}function $h(e){return Array.isArray(e)?e[1]:void 0}function Zh(e){return e.children}var Qh,Jh=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ef=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},tf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Jh(t,e),ef([Zs("change")],t.prototype,"renderer",void 0),t}(Nd),rf=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.padding=10,t}return Jh(t,e),ef([Zs("change")],t.prototype,"padding",void 0),t}(_d);!function(e){e[e.Name=0]="Name",e[e.Value=1]="Value"}(Qh||(Qh={}));var nf,of=function(e){function t(){var t=e.call(this)||this;return t.groupSelection=Cu.select(t.pickGroup).selectAll(),t.labelMap=new Map,t.layout=new Yh,t.title=function(){var e=new rf;return e.color="white",e.fontWeight="bold",e.fontSize=12,e.fontFamily="Verdana, sans-serif",e.padding=15,e}(),t.subtitle=function(){var e=new rf;return e.color="white",e.fontSize=9,e.fontFamily="Verdana, sans-serif",e.padding=13,e}(),t.labels={large:function(){var e=new _d;return e.color="white",e.fontWeight="bold",e.fontSize=18,e}(),medium:function(){var e=new _d;return e.color="white",e.fontWeight="bold",e.fontSize=14,e}(),small:function(){var e=new _d;return e.color="white",e.fontWeight="bold",e.fontSize=10,e}(),color:function(){var e=new _d;return e.color="white",e}()},t._nodePadding=2,t.labelKey="label",t.sizeKey="size",t.colorKey="color",t.colorDomain=[-5,5],t.colorRange=["#cb4b3f","#6acb64"],t.colorParents=!1,t.gradient=!0,t.colorName="Change",t.rootName="Root",t._shadow=function(){var e=new Hh;return e.color="rgba(0, 0, 0, 0.4)",e.xOffset=1.5,e.yOffset=1.5,e}(),t.tooltip=new tf,t.shadow.addEventListener("change",t.scheduleUpdate,t),t.title.addEventListener("change",t.scheduleUpdate,t),t.subtitle.addEventListener("change",t.scheduleUpdate,t),t.labels.small.addEventListener("change",t.scheduleUpdate,t),t.labels.medium.addEventListener("change",t.scheduleUpdate,t),t.labels.large.addEventListener("change",t.scheduleUpdate,t),t.labels.color.addEventListener("change",t.scheduleUpdate,t),t}return Jh(t,e),Object.defineProperty(t.prototype,"nodePadding",{get:function(){return this._nodePadding},set:function(e){this._nodePadding!==e&&(this._nodePadding=e,this.updateLayoutPadding(),this.scheduleUpdate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shadow",{get:function(){return this._shadow},set:function(e){this._shadow!==e&&(this._shadow=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),t.prototype.onHighlightChange=function(){this.updateNodes()},t.prototype.updateLayoutPadding=function(){var e=this,t=e.title,r=e.subtitle,n=e.nodePadding,o=e.labelKey;this.layout.paddingRight=function(e){return n},this.layout.paddingBottom=function(e){return n},this.layout.paddingLeft=function(e){return n},this.layout.paddingTop=function(e){var i=e.datum[o]||"";e.children&&(i=i.toUpperCase());var a=e.depth>1?r:t,s=ml.getTextSize(i,[a.fontWeight,a.fontSize+"px",a.fontFamily].join(" ").trim()),l=e.x1-e.x0-2*n,u=e.depth>0&&e.children&&s.width<=l;return e.hasTitle=!!u,u?s.height+2*n:n}},t.prototype.processData=function(){if(!this.data)return!1;var e,t=this,r=t.data,n=t.sizeKey,o=t.labelKey,i=t.colorKey,a=t.colorDomain,s=t.colorRange,l=t.colorParents;e=n?Kh(r).sum((function(e){return e.children?1:e[n]})):Kh(r).sum((function(e){return e.children?0:1})),this.dataRoot=e;var u=new su;u.domain=a,u.range=s;var c=this;return function e(t,r){void 0===r&&(r=0);var n=t.children,a=t.datum,s=a[o],p=i?a[i]:r;t.series=c,t.fill=!n||l?u.convert(p):"#272931",t.colorValue=p,t.label=s?n?s.toUpperCase():s:"",n&&n.forEach((function(t){return e(t,r+1)}))}(this.dataRoot),!0},t.prototype.getLabelCenterX=function(e){return(e.x0+e.x1)/2},t.prototype.getLabelCenterY=function(e){return(e.y0+e.y1)/2+2},t.prototype.update=function(){this.updatePending=!1,this.updateSelections(),this.updateNodes()},t.prototype.updateSelections=function(){if(this.nodeDataPending){this.nodeDataPending=!1;var e=this.chart,t=this.dataRoot;if(e&&t){var r=e.getSeriesRect();if(r){this.layout.size=[r.width,r.height],this.updateLayoutPadding();var n=this.layout.processData(t).descendants(),o=this.groupSelection.setData(n);o.exit.remove();var i=o.enter.append(mu);i.append(bp),i.append(Cl).each((function(e){return e.tag=Qh.Name})),i.append(Cl).each((function(e){return e.tag=Qh.Value})),this.groupSelection=o.merge(i)}}}},t.prototype.updateNodes=function(){var e=this;if(this.chart){var t=this,r=t.colorKey,n=t.labelMap,o=t.nodePadding,i=t.title,a=t.subtitle,s=t.labels,l=t.shadow,u=t.gradient,c=t.chart.highlightedDatum,p=t.highlightStyle,d=p.fill,h=p.stroke,f=p.strokeWidth,g=p.item,y=g.fill,v=void 0===y?d:y,m=g.stroke,b=void 0===m?h:m,C=g.strokeWidth,w=void 0===C?f:C;this.groupSelection.selectByClass(bp).each((function(t,r){var n=r===c,o=n&&void 0!==v?v:r.fill,i=n&&void 0!==b?b:r.depth<2?void 0:"black",a=n&&void 0!==w?w:e.getStrokeWidth(1,r);t.fill=o,t.stroke=i,t.strokeWidth=a,t.crisp=!0,t.gradient=u,t.x=r.x0,t.y=r.y0,t.width=r.x1-r.x0,t.height=r.y1-r.y0})),this.groupSelection.selectByTag(Qh.Name).each((function(t,r,u){var p,d=!r.children,h=r.x1-r.x0-2*o,f=r.y1-r.y0-2*o,g=r.hasTitle,y=r===c;p=d?h>40&&f>40?s.large:h>20&&f>20?s.medium:s.small:r.depth>1?a:i,t.fontWeight=p.fontWeight,t.fontSize=p.fontSize,t.fontFamily=p.fontFamily,t.textBaseline=d?"bottom":g?"top":"middle",t.textAlign=g?"left":"center",t.text=r.label;var v=t.computeBBox(),m=d&&!!v&&v.width<=h&&2*v.height+8<=f;n.set(u,t),t.fill=y?"black":p.color,t.fillShadow=m&&!y?l:void 0,t.visible=g||m,g?(t.x=r.x0+o,t.y=r.y0+o):(t.x=e.getLabelCenterX(r),t.y=e.getLabelCenterY(r))})),this.groupSelection.selectByTag(Qh.Value).each((function(t,i,a){var u=!i.children,p=i.x1-i.x0-2*o,d=i===c,h=i.colorValue,f=s.color;t.fontSize=f.fontSize,t.fontFamily=f.fontFamily,t.fontStyle=f.fontStyle,t.fontWeight=f.fontWeight,t.textBaseline="top",t.textAlign="center",t.text="number"===typeof h&&isFinite(h)?String(Iu(i.colorValue))+"%":"";var g=t.computeBBox(),y=n.get(a),v=!!y&&y.visible,m=u&&!!r&&v&&!!g&&g.width<p;t.fill=d?"black":f.color,t.fillShadow=d?void 0:l,t.visible=m,m?(t.x=e.getLabelCenterX(i),t.y=e.getLabelCenterY(i)):!y||i.children&&i.children.length||(y.textBaseline="middle",y.y=e.getLabelCenterY(i))}))}},t.prototype.getDomain=function(e){return[0,1]},t.prototype.fireNodeClickEvent=function(e,t){this.fireEvent({type:"nodeClick",event:e,series:this,datum:t.datum,labelKey:this.labelKey,sizeKey:this.sizeKey,colorKey:this.colorKey})},t.prototype.getTooltipHtml=function(e){var t=this,r=t.tooltip,n=t.sizeKey,o=t.labelKey,i=t.colorKey,a=t.colorName,s=t.rootName,l=e.datum,u=r.renderer,c=e.depth?l[o]:s||l[o],p=void 0,d=e.fill||"gray";if(i&&a){var h=l[i];"number"===typeof h&&isFinite(h)&&(p="<b>"+a+"</b>: "+Iu(l[i]))}var f={title:c,backgroundColor:d,content:p};return u?ed(u({datum:e,sizeKey:n,labelKey:o,colorKey:i,title:c,color:d}),f):ed(f)},t.prototype.listSeriesItems=function(e){},t.className="TreemapSeries",t.type="treemap",ef([Zs("dataChange")],t.prototype,"labelKey",void 0),ef([Zs("dataChange")],t.prototype,"sizeKey",void 0),ef([Zs("dataChange")],t.prototype,"colorKey",void 0),ef([Zs("dataChange")],t.prototype,"colorDomain",void 0),ef([Zs("dataChange")],t.prototype,"colorRange",void 0),ef([Zs("dataChange")],t.prototype,"colorParents",void 0),ef([Zs("update")],t.prototype,"gradient",void 0),t}(Gh),af=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),sf=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._centerX=0,t._centerY=0,t._centerOffset=0,t._innerRadius=10,t._outerRadius=20,t._startAngle=0,t._endAngle=2*Math.PI,t._angleOffset=0,t}return af(t,e),Object.defineProperty(t.prototype,"centerX",{get:function(){return this._centerX},set:function(e){this._centerX!==e&&(this._centerX=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"centerY",{get:function(){return this._centerY},set:function(e){this._centerY!==e&&(this._centerY=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"centerOffset",{get:function(){return this._centerOffset},set:function(e){this._centerOffset!==e&&(this._centerOffset=Math.max(0,e),this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerRadius",{get:function(){return this._innerRadius},set:function(e){this._innerRadius!==e&&(this._innerRadius=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outerRadius",{get:function(){return this._outerRadius},set:function(e){this._outerRadius!==e&&(this._outerRadius=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startAngle",{get:function(){return this._startAngle},set:function(e){this._startAngle!==e&&(this._startAngle=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endAngle",{get:function(){return this._endAngle},set:function(e){this._endAngle!==e&&(this._endAngle=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"angleOffset",{get:function(){return this._angleOffset},set:function(e){this._angleOffset!==e&&(this._angleOffset=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),t.prototype.computeBBox=function(){var e=this.outerRadius;return new tl(this.centerX-e,this.centerY-e,2*e,2*e)},t.prototype.isFullPie=function(){return Nu(Mu(this.startAngle),Mu(this.endAngle))},t.prototype.updatePath=function(){var e=this.path,t=this.angleOffset,r=Math.min(this.startAngle,this.endAngle)+t,n=Math.max(this.startAngle,this.endAngle)+t,o=.5*(r+n),i=Math.min(this.innerRadius,this.outerRadius),a=Math.max(this.innerRadius,this.outerRadius),s=this.centerOffset,l=this.isFullPie(),u=this.centerX,c=this.centerY;if(e.clear(),s&&(u+=s*Math.cos(o),c+=s*Math.sin(o)),l||(e.moveTo(u+i*Math.cos(r),c+i*Math.sin(r)),e.lineTo(u+a*Math.cos(r),c+a*Math.sin(r))),e.cubicArc(u,c,a,a,0,r,n,0),l)e.moveTo(u+i*Math.cos(n),c+i*Math.sin(n));else{var p=u+i*Math.cos(n);e.lineTo(Math.abs(p)<1e-8?0:p,c+i*Math.sin(n))}e.cubicArc(u,c,i,i,0,n,r,1),e.closePath(),this.dirtyPath=!1},t.className="Sector",t}(Tu),lf=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),uf=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},cf=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},pf=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(cf(arguments[t]));return e},df=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return lf(t,e),t}(kd);!function(e){e[e.Sector=0]="Sector",e[e.Callout=1]="Callout",e[e.Label=2]="Label"}(nf||(nf={}));var hf=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.offset=3,t.minAngle=20,t}return lf(t,e),uf([Zs("change")],t.prototype,"offset",void 0),uf([Zs("dataChange")],t.prototype,"minAngle",void 0),uf([Zs("dataChange")],t.prototype,"formatter",void 0),t}(_d),ff=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.colors=["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"],t.length=10,t.strokeWidth=1,t}return lf(t,e),uf([Zs("change")],t.prototype,"colors",void 0),uf([Zs("change")],t.prototype,"length",void 0),uf([Zs("change")],t.prototype,"strokeWidth",void 0),t}($s),gf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return lf(t,e),uf([Zs("change")],t.prototype,"renderer",void 0),t}(Nd),yf=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.showInLegend=!1,t}return lf(t,e),uf([Zs()],t.prototype,"showInLegend",void 0),t}(El),vf=function(e){function t(){var t=e.call(this)||this;return t.radiusScale=new su,t.groupSelection=Cu.select(t.pickGroup).selectAll(),t.groupSelectionData=[],t.angleScale=function(){var e=new su;return e.domain=[0,1],e.range=[-Math.PI,Math.PI].map((function(e){return e+Math.PI/2})),e}(),t.seriesItemEnabled=[],t.label=new hf,t.callout=new ff,t.tooltip=new gf,t.angleKey="",t.angleName="",t._fills=["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],t._strokes=["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"],t.fillOpacity=1,t.strokeOpacity=1,t.lineDash=[0],t.lineDashOffset=0,t.rotation=0,t.outerRadiusOffset=0,t.innerRadiusOffset=0,t.strokeWidth=1,t.highlightStyle=new df,t.addEventListener("update",t.scheduleUpdate,t),t.label.addEventListener("change",t.scheduleUpdate,t),t.label.addEventListener("dataChange",t.scheduleData,t),t.callout.addEventListener("change",t.scheduleLayout,t),t.addPropertyListener("data",(function(e){e.value&&(e.source.seriesItemEnabled=e.value.map((function(){return!0})))})),t}return lf(t,e),Object.defineProperty(t.prototype,"title",{get:function(){return this._title},set:function(e){var t=this._title;function r(){this.fireEvent({type:"legendChange"})}t!==e&&(t&&(t.removeEventListener("change",this.scheduleUpdate,this),t.removePropertyListener("showInLegend",r,this),this.group.removeChild(t.node)),e&&(e.node.textBaseline="bottom",e.addEventListener("change",this.scheduleUpdate,this),e.addPropertyListener("showInLegend",r,this),this.group.appendChild(e.node)),this._title=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fills",{get:function(){return this._fills},set:function(e){this._fills=e,this.scheduleUpdate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokes",{get:function(){return this._strokes},set:function(e){this._strokes=e,this.scheduleUpdate()},enumerable:!0,configurable:!0}),t.prototype.onHighlightChange=function(){this.updateNodes()},t.prototype.setColors=function(e,t){this.fills=e,this.strokes=t,this.callout.colors=t},t.prototype.getDomain=function(e){return e===zu.X?this.angleScale.domain:this.radiusScale.domain},t.prototype.processData=function(){var e=this,t=this,r=t.angleKey,n=t.radiusKey,o=t.seriesItemEnabled,i=t.angleScale,a=t.groupSelectionData,s=t.label,l=r&&this.data?this.data:[],u=l.map((function(e,t){return o[t]&&Math.abs(+e[r])||0})),c=u.reduce((function(e,t){return e+t}),0),p=function(){var e=0;return u.map((function(t){return e+=t/c}))}(),d=s.formatter,h=s.enabled&&this.labelKey,f=[],g=[];if(h&&(f=d?l.map((function(e){return d({value:e[h]})})):l.map((function(e){return String(e[h])}))),n){var y=this.radiusMin,v=this.radiusMax,m=l.map((function(e){return Math.abs(e[n])})),b=void 0!==y?y:Math.min.apply(Math,pf(m)),C=(void 0!==v?v:Math.max.apply(Math,pf(m)))-b;g=m.map((function(e){return C?(e-b)/C:1}))}a.length=0;var w=ku(this.rotation),x=Math.PI/2,S=0,E=[{textAlign:"center",textBaseline:"bottom"},{textAlign:"left",textBaseline:"middle"},{textAlign:"center",textBaseline:"hanging"},{textAlign:"right",textBaseline:"middle"}],O=0;return p.forEach((function(t){if(!isNaN(t)){var r,o=n?g[S]:1,u=i.convert(t)+w,c=i.convert(O)+w,p=(u+c)/2,d=Math.abs(c-u),y=Math.cos(p),v=Math.sin(p),m=ku(s.minAngle),b=h&&d>m,C=(r=p,(r%=Du)<-Math.PI?r+=Du:r>=Math.PI&&(r-=Du),r)- -3*Math.PI/4,_=function(e,t){var r=e%t;return r>=0?r:r+t}(Math.floor(C/x),E.length),P=E[_],R=P.textAlign,A=P.textBaseline;a.push({series:e,datum:l[S],itemId:S,index:S,radius:o,startAngle:u,endAngle:c,midAngle:p,midCos:y,midSin:v,label:b?{text:f[S],textAlign:R,textBaseline:A}:void 0}),S++,O=t}})),!0},t.prototype.update=function(){this.updatePending=!1;var e=this,t=e.radius,r=e.innerRadiusOffset,n=e.outerRadiusOffset,o=e.title;(this.radiusScale.range=[r?t+r:0,t+(n||0)],this.group.translationX=this.centerX,this.group.translationY=this.centerY,o)&&(0===Math.max(0,this.radiusScale.range[1])?o.node.visible=!1:(o.node.translationY=-t-n-2,o.node.visible=o.enabled));this.updateSelections(),this.updateNodes()},t.prototype.updateSelections=function(){this.nodeDataPending&&(this.nodeDataPending=!1,this.updateGroupSelection())},t.prototype.updateGroupSelection=function(){var e=this.groupSelection.setData(this.groupSelectionData);e.exit.remove();var t=e.enter.append(mu);t.append(sf).each((function(e){return e.tag=nf.Sector})),t.append(xu).each((function(e){e.tag=nf.Callout,e.pointerEvents=il.None})),t.append(Cl).each((function(e){e.tag=nf.Label,e.pointerEvents=il.None})),this.groupSelection=e.merge(t)},t.prototype.updateNodes=function(){var e=this;if(this.chart){this.group.visible=this.visible&&this.seriesItemEnabled.indexOf(!0)>=0;var t=this,r=t.fills,n=t.strokes,o=t.fillOpacity,i=t.strokeOpacity,a=t.radiusScale,s=t.callout,l=t.shadow,u=t.chart.highlightedDatum,c=t.highlightStyle,p=c.fill,d=c.stroke,h=c.strokeWidth,f=c.item,g=f.fill,y=void 0===g?p:g,v=f.stroke,m=void 0===v?d:v,b=f.strokeWidth,C=void 0===b?h:b,w=t.angleKey,x=t.radiusKey,S=t.formatter,E=[],O=a.convert(0);this.groupSelection.selectByTag(nf.Sector).each((function(t,s,c){var p=a.convert(s.radius),d=!!u&&u.series===e&&s.itemId===u.itemId,h=d&&void 0!==y?y:r[c%r.length],f=d&&void 0!==m?m:n[c%n.length],g=d&&void 0!==C?C:e.getStrokeWidth(e.strokeWidth),v=void 0;S&&(v=S({datum:s.datum,angleKey:w,radiusKey:x,fill:h,stroke:f,strokeWidth:g,highlighted:d}));var b=t.parent&&t.parent.parent;d&&b&&(b.removeChild(t.parent),b.appendChild(t.parent)),t.innerRadius=Math.max(0,O),t.outerRadius=Math.max(0,p),t.startAngle=s.startAngle,t.endAngle=s.endAngle,t.fill=v&&v.fill||h,t.stroke=v&&v.stroke||f,t.strokeWidth=v&&void 0!==v.strokeWidth?v.strokeWidth:g,t.fillOpacity=o,t.strokeOpacity=i,t.lineDash=e.lineDash,t.lineDashOffset=e.lineDashOffset,t.fillShadow=l,t.lineJoin="round",t.opacity=e.getOpacity(),E.push(t.centerOffset)}));var _=s.colors,P=s.length,R=s.strokeWidth;this.groupSelection.selectByTag(nf.Callout).each((function(e,t,r){var n=a.convert(t.radius),o=Math.max(0,n);t.label&&0!==o?(e.strokeWidth=R,e.stroke=_[r%_.length],e.x1=t.midCos*o,e.y1=t.midSin*o,e.x2=t.midCos*(o+P),e.y2=t.midSin*(o+P)):e.stroke=void 0}));var A=this.label,T=A.offset,D=A.fontStyle,M=A.fontWeight,k=A.fontSize,N=A.fontFamily,I=A.color;this.groupSelection.selectByTag(nf.Label).each((function(e,t,r){var n=t.label,o=a.convert(t.radius),i=Math.max(0,o);if(n&&0!==i){var s=E[r]+i+P+T;e.fontStyle=D,e.fontWeight=M,e.fontSize=k,e.fontFamily=N,e.text=n.text,e.x=t.midCos*s,e.y=t.midSin*s,e.fill=I,e.textAlign=n.textAlign,e.textBaseline=n.textBaseline}else e.fill=void 0}))}},t.prototype.fireNodeClickEvent=function(e,t){this.fireEvent({type:"nodeClick",event:e,series:this,datum:t.datum,angleKey:this.angleKey,labelKey:this.labelKey,radiusKey:this.radiusKey})},t.prototype.getTooltipHtml=function(e){var t=this.angleKey;if(!t)return"";var r=this,n=r.fills,o=r.tooltip,i=r.angleName,a=r.radiusKey,s=r.radiusName,l=r.labelKey,u=r.labelName,c=o.renderer,p=n[e.index%n.length],d=e.datum,h=l?d[l]+": ":"",f=d[t],g="number"===typeof f?Iu(f):f.toString(),y=this.title?this.title.text:void 0,v={title:y,backgroundColor:p,content:h+g};return c?ed(c({datum:d,angleKey:t,angleValue:f,angleName:i,radiusKey:a,radiusValue:a?d[a]:void 0,radiusName:s,labelKey:l,labelName:u,title:y,color:p}),v):ed(v)},t.prototype.listSeriesItems=function(e){var t=this,r=this.labelKey,n=this.data;if(n&&n.length&&r){var o=this,i=o.fills,a=o.strokes,s=o.id,l=this.title&&this.title.showInLegend&&this.title.text;n.forEach((function(n,o){var u=[];l&&u.push(l),u.push(String(n[r])),e.push({id:s,itemId:o,enabled:t.seriesItemEnabled[o],label:{text:u.join(" - ")},marker:{fill:i[o%i.length],stroke:a[o%a.length],fillOpacity:t.fillOpacity,strokeOpacity:t.strokeOpacity}})}))}},t.prototype.toggleSeriesItem=function(e,t){this.seriesItemEnabled[e]=t,this.scheduleData()},t.className="PieSeries",t.type="pie",uf([Zs("dataChange")],t.prototype,"angleKey",void 0),uf([Zs("update")],t.prototype,"angleName",void 0),uf([Zs("dataChange")],t.prototype,"radiusKey",void 0),uf([Zs("update")],t.prototype,"radiusName",void 0),uf([Zs("dataChange")],t.prototype,"radiusMin",void 0),uf([Zs("dataChange")],t.prototype,"radiusMax",void 0),uf([Zs("dataChange")],t.prototype,"labelKey",void 0),uf([Zs("update")],t.prototype,"labelName",void 0),uf([Zs("layoutChange")],t.prototype,"fillOpacity",void 0),uf([Zs("layoutChange")],t.prototype,"strokeOpacity",void 0),uf([Zs("update")],t.prototype,"lineDash",void 0),uf([Zs("update")],t.prototype,"lineDashOffset",void 0),uf([Zs("update")],t.prototype,"formatter",void 0),uf([Zs("dataChange")],t.prototype,"rotation",void 0),uf([Zs("layoutChange")],t.prototype,"outerRadiusOffset",void 0),uf([Zs("dataChange")],t.prototype,"innerRadiusOffset",void 0),uf([Zs("layoutChange")],t.prototype,"strokeWidth",void 0),uf([Zs("layoutChange")],t.prototype,"shadow",void 0),t}(Wd);new Sc((function(e){e.setUTCSeconds(0,0)}),(function(e,t){e.setTime(e.getTime()+t*_c)}),(function(e,t){return(t.getTime()-e.getTime())/_c}),(function(e){return e.getUTCMinutes()}));new Sc((function(e){e.setUTCMinutes(0,0,0)}),(function(e,t){e.setTime(e.getTime()+t*Pc)}),(function(e,t){return(t.getTime()-e.getTime())/Pc}),(function(e){return e.getUTCHours()}));new Sc((function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCMonth(e.getUTCMonth()+t)}),(function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())}),(function(e){return e.getUTCMonth()}));var mf=function(){return mf=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},mf.apply(this,arguments)},bf=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},Cf={fills:["#f3622d","#fba71b","#57b757","#41a9c9","#4258c9","#9a42c8","#c84164","#888888"],strokes:["#aa4520","#b07513","#3d803d","#2d768d","#2e3e8d","#6c2e8c","#8c2d46","#5f5f5f"]};var wf={arrayMerge:function(e,t,r){return t},isMergeableObject:function(e){return fl(e)&&!(e instanceof xc)}},xf="bold",Sf=function(){function e(t){var r=(t=gl({},t||{},wf)).overrides,n=void 0===r?null:r,o=t.palette,i=void 0===o?null:o,a=this.createChartConfigPerSeries(this.getDefaults());if(n){var s=n.common,l=n.cartesian,u=n.polar,c=n.hierarchy,p=function(e,t,r){r&&(a[e]=gl(a[e],r,wf),t.forEach((function(e){a[e]=gl(a[e],r,wf)})))};p("common",Object.keys(a),s),p("cartesian",e.cartesianSeriesTypes,l),p("polar",e.polarSeriesTypes,u),p("hierarchy",e.hierarchySeriesTypes,c);var d={};e.seriesTypes.forEach((function(e){var t=n[e];t&&(t.series&&(d[e]=t.series,t.series=d),a[e]=gl(a[e],t,wf))}))}this.palette=null!==i&&void 0!==i?i:this.getPalette(),this.config=Object.freeze(a)}return e.prototype.getPalette=function(){return Cf},e.getAxisDefaults=function(){return{top:{},right:{},bottom:{},left:{},thickness:0,title:{enabled:!1,padding:{top:10,right:10,bottom:10,left:10},text:"Axis Title",fontStyle:void 0,fontWeight:xf,fontSize:12,fontFamily:this.fontFamily,color:"rgb(70, 70, 70)"},label:{fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,padding:5,rotation:void 0,color:"rgb(87, 87, 87)",formatter:void 0,autoRotate:!1},line:{width:1,color:"rgb(195, 195, 195)"},tick:{width:1,size:6,color:"rgb(195, 195, 195)"},gridStyle:[{stroke:"rgb(219, 219, 219)",lineDash:[4,2]}]}},e.getSeriesDefaults=function(){return{tooltip:{enabled:!0,renderer:void 0},visible:!0,showInLegend:!0,cursor:"default",highlightStyle:{item:{fill:"yellow"},series:{dimOpacity:1}}}},e.getBarSeriesDefaults=function(){return mf(mf({},this.getSeriesDefaults()),{flipXY:!1,fillOpacity:1,strokeOpacity:1,xKey:"",xName:"",yKeys:[],yNames:[],grouped:!1,normalizedTo:void 0,strokeWidth:1,lineDash:[0],lineDashOffset:0,label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,color:"rgb(70, 70, 70)",formatter:void 0,placement:"inside"},shadow:{enabled:!1,color:"rgba(0, 0, 0, 0.5)",xOffset:3,yOffset:3,blur:5}})},e.getLineSeriesDefaults=function(){var e=this.getSeriesDefaults();return mf(mf({},e),{tooltip:mf(mf({},e.tooltip),{format:void 0})})},e.getCartesianSeriesMarkerDefaults=function(){return{enabled:!0,shape:"circle",size:6,maxSize:30,strokeWidth:1,formatter:void 0}},e.getChartDefaults=function(){return{background:{visible:!0,fill:"white"},padding:{top:20,right:20,bottom:20,left:20},title:{enabled:!1,padding:{top:10,right:10,bottom:10,left:10},text:"Title",fontStyle:void 0,fontWeight:xf,fontSize:16,fontFamily:this.fontFamily,color:"rgb(70, 70, 70)"},subtitle:{enabled:!1,padding:{top:10,right:10,bottom:10,left:10},text:"Subtitle",fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,color:"rgb(140, 140, 140)"},legend:{enabled:!0,position:"right",spacing:20,item:{paddingX:16,paddingY:8,marker:{shape:void 0,size:15,strokeWidth:1,padding:8},label:{color:"black",fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,formatter:void 0}}},tooltip:{enabled:!0,tracking:!0,delay:0,class:rd.defaultTooltipClass}}},e.prototype.createChartConfigPerSeries=function(t){var r={cartesian:e.cartesianSeriesTypes,polar:e.polarSeriesTypes,hierarchy:e.hierarchySeriesTypes,groupedCategory:[]};return Object.entries(r).forEach((function(e){var r=bf(e,2),n=r[0];r[1].forEach((function(e){t[e]||(t[e]=gl({},t[n],wf))}))})),t},e.prototype.getConfig=function(e,t){var r=function(e,t,r){var n=Array.isArray(t)?t:t.split("."),o=e;try{n.forEach((function(e){o=o[e]}))}catch(i){if(3!==arguments.length)throw i;o=r}return o}(this.config,e,t);return Array.isArray(r)?gl([],r,wf):function(e){return"object"===typeof e&&!Array.isArray(e)}(r)?gl({},r,wf):r},e.prototype.getDefaults=function(){return gl({},e.defaults,wf)},e.prototype.mergeWithParentDefaults=function(e,t){return gl(e,t,wf)},e.fontFamily="Verdana, sans-serif",e.cartesianDefaults=mf(mf({},e.getChartDefaults()),{axes:{number:mf({},e.getAxisDefaults()),log:mf(mf({},e.getAxisDefaults()),{base:10}),category:mf(mf({},e.getAxisDefaults()),{label:mf(mf({},e.getAxisDefaults().label),{autoRotate:!0})}),groupedCategory:mf({},e.getAxisDefaults()),time:mf({},e.getAxisDefaults())},series:{column:mf(mf({},e.getBarSeriesDefaults()),{flipXY:!1}),bar:mf(mf({},e.getBarSeriesDefaults()),{flipXY:!0}),line:mf(mf({},e.getLineSeriesDefaults()),{title:void 0,xKey:"",xName:"",yKey:"",yName:"",strokeWidth:2,strokeOpacity:1,lineDash:[0],lineDashOffset:0,marker:mf({},e.getCartesianSeriesMarkerDefaults()),label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:e.fontFamily,color:"rgb(70, 70, 70)",formatter:void 0}}),scatter:mf(mf({},e.getSeriesDefaults()),{title:void 0,xKey:"",yKey:"",sizeKey:void 0,labelKey:void 0,xName:"",yName:"",sizeName:"Size",labelName:"Label",strokeWidth:2,fillOpacity:1,strokeOpacity:1,marker:mf({},e.getCartesianSeriesMarkerDefaults()),label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:e.fontFamily,color:"rgb(70, 70, 70)"}}),area:mf(mf({},e.getSeriesDefaults()),{xKey:"",xName:"",yKeys:[],yNames:[],normalizedTo:void 0,fillOpacity:.8,strokeOpacity:1,strokeWidth:2,lineDash:[0],lineDashOffset:0,shadow:{enabled:!1,color:"rgba(0, 0, 0, 0.5)",xOffset:3,yOffset:3,blur:5},marker:mf(mf({},e.getCartesianSeriesMarkerDefaults()),{enabled:!1}),label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:e.fontFamily,color:"rgb(70, 70, 70)",formatter:void 0}}),histogram:mf(mf({},e.getSeriesDefaults()),{xKey:"",yKey:"",xName:"",yName:"",strokeWidth:1,fillOpacity:1,strokeOpacity:1,lineDash:[0],lineDashOffset:0,areaPlot:!1,binCount:10,bins:void 0,aggregation:"sum",label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:e.fontFamily,color:"rgb(70, 70, 70)",formatter:void 0},shadow:{enabled:!0,color:"rgba(0, 0, 0, 0.5)",xOffset:0,yOffset:0,blur:5}})},navigator:{enabled:!1,height:30,mask:{fill:"#999999",stroke:"#999999",strokeWidth:1,fillOpacity:.2},minHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:8,height:16,gripLineGap:2,gripLineLength:8},maxHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:8,height:16,gripLineGap:2,gripLineLength:8}}}),e.polarDefaults=mf(mf({},e.getChartDefaults()),{series:{pie:mf(mf({},e.getSeriesDefaults()),{title:{enabled:!0,padding:{top:10,right:10,bottom:10,left:10},text:"",fontStyle:void 0,fontWeight:"bold",fontSize:14,fontFamily:e.fontFamily,color:"rgb(70, 70, 70)"},angleKey:"",angleName:"",radiusKey:void 0,radiusName:void 0,labelKey:void 0,labelName:void 0,label:{enabled:!0,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:e.fontFamily,color:"rgb(70, 70, 70)",offset:3,minAngle:20},callout:{length:10,strokeWidth:2},fillOpacity:1,strokeOpacity:1,strokeWidth:1,lineDash:[0],lineDashOffset:0,rotation:0,outerRadiusOffset:0,innerRadiusOffset:0,shadow:{enabled:!1,color:"rgba(0, 0, 0, 0.5)",xOffset:3,yOffset:3,blur:5}})}}),e.hierarchyDefaults=mf(mf({},e.getChartDefaults()),{series:{treemap:mf(mf({},e.getSeriesDefaults()),{showInLegend:!1,labelKey:"label",sizeKey:"size",colorKey:"color",colorDomain:[-5,5],colorRange:["#cb4b3f","#6acb64"],colorParents:!1,gradient:!0,nodePadding:2,title:{enabled:!0,color:"white",fontStyle:void 0,fontWeight:"bold",fontSize:12,fontFamily:"Verdana, sans-serif",padding:15},subtitle:{enabled:!0,color:"white",fontStyle:void 0,fontWeight:void 0,fontSize:9,fontFamily:"Verdana, sans-serif",padding:13},labels:{large:{enabled:!0,fontStyle:void 0,fontWeight:"bold",fontSize:18,fontFamily:"Verdana, sans-serif",color:"white"},medium:{enabled:!0,fontStyle:void 0,fontWeight:"bold",fontSize:14,fontFamily:"Verdana, sans-serif",color:"white"},small:{enabled:!0,fontStyle:void 0,fontWeight:"bold",fontSize:10,fontFamily:"Verdana, sans-serif",color:"white"},color:{enabled:!0,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:"Verdana, sans-serif",color:"white"}}})}}),e.defaults={cartesian:e.cartesianDefaults,groupedCategory:e.cartesianDefaults,polar:e.polarDefaults,hierarchy:e.hierarchyDefaults},e.cartesianSeriesTypes=["line","area","bar","column","scatter","histogram"],e.polarSeriesTypes=["pie"],e.hierarchySeriesTypes=["treemap"],e.seriesTypes=e.cartesianSeriesTypes.concat(e.polarSeriesTypes).concat(e.hierarchySeriesTypes),e}(),Ef=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Of=function(){return Of=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Of.apply(this,arguments)},_f=function(e){function t(t){return e.call(this,t)||this}return Ef(t,e),t.prototype.getDefaults=function(){var t="rgb(200, 200, 200)",r="rgb(150, 150, 150)",n={title:{color:t},label:{color:t},gridStyle:[{stroke:"rgb(88, 88, 88)",lineDash:[4,2]}]},o={label:{color:t}},i={axes:{number:Of({},n),category:Of({},n),time:Of({},n)}},a={background:{fill:"rgb(34, 38, 41)"},title:{color:t},subtitle:{color:r},legend:{item:{label:{color:t}}}};return this.mergeWithParentDefaults(e.prototype.getDefaults.call(this),{cartesian:Of(Of(Of({},a),i),{series:{bar:Of({},o),column:Of({},o),histogram:Of({},o)}}),groupedCategory:Of(Of(Of({},a),i),{series:{bar:Of({},o),column:Of({},o),histogram:Of({},o)}}),polar:Of(Of({},a),{series:{pie:Of(Of({},o),{title:{color:t}})}}),hierarchy:Of(Of({},a),{series:{treemap:{title:{color:t},subtitle:{color:r},labels:{large:{color:t},medium:{color:t},small:{color:t},color:{color:t}}}}})})},t}(Sf),Pf=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Rf={fills:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722"],strokes:["#ab2f26","#a31545","#6d1b7b","#482980","#2c397f","#1769aa","#0276ab","#008494","#00695f","#357a38","#618834","#909a28","#b3a429","#b38705","#b36a00","#b33d18"]},Af=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Pf(t,e),t.prototype.getPalette=function(){return Rf},t}(Sf),Tf=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Df={fills:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722"],strokes:["#ab2f26","#a31545","#6d1b7b","#482980","#2c397f","#1769aa","#0276ab","#008494","#00695f","#357a38","#618834","#909a28","#b3a429","#b38705","#b36a00","#b33d18"]},Mf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Tf(t,e),t.prototype.getPalette=function(){return Df},t}(_f),kf=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Nf={fills:["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],strokes:["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"]},If=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return kf(t,e),t.prototype.getPalette=function(){return Nf},t}(Sf),Lf=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ff={fills:["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],strokes:["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"]},Gf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Lf(t,e),t.prototype.getPalette=function(){return Ff},t}(_f),Bf=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Wf={fills:["#febe76","#ff7979","#badc58","#f9ca23","#f0932b","#eb4c4b","#6ab04c","#7ed6df","#e056fd","#686de0"],strokes:["#b28553","#b35555","#829a3e","#ae8d19","#a8671e","#a43535","#4a7b35","#58969c","#9d3cb1","#494c9d"]},Hf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Bf(t,e),t.prototype.getPalette=function(){return Wf},t}(Sf),jf=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Vf={fills:["#febe76","#ff7979","#badc58","#f9ca23","#f0932b","#eb4c4b","#6ab04c","#7ed6df","#e056fd","#686de0"],strokes:["#b28553","#b35555","#829a3e","#ae8d19","#a8671e","#a43535","#4a7b35","#58969c","#9d3cb1","#494c9d"]},zf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return jf(t,e),t.prototype.getPalette=function(){return Vf},t}(_f),Uf=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Yf={fills:["#5BC0EB","#FDE74C","#9BC53D","#E55934","#FA7921","#fa3081"],strokes:["#4086a4","#b1a235","#6c8a2b","#a03e24","#af5517","#af225a"]},Xf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Uf(t,e),t.prototype.getPalette=function(){return Yf},t}(Sf),Kf=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),qf={fills:["#5BC0EB","#FDE74C","#9BC53D","#E55934","#FA7921","#fa3081"],strokes:["#4086a4","#b1a235","#6c8a2b","#a03e24","#af5517","#af225a"]},$f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Kf(t,e),t.prototype.getPalette=function(){return qf},t}(_f),Zf=function(){return Zf=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Zf.apply(this,arguments)},Qf=new Sf,Jf=new _f,eg={undefined:Qf,null:Qf,"ag-default":Qf,"ag-material":new Af,"ag-pastel":new If,"ag-solar":new Hf,"ag-vivid":new Xf},tg={undefined:Jf,null:Jf,"ag-default-dark":Jf,"ag-material-dark":new Mf,"ag-pastel-dark":new Gf,"ag-solar-dark":new zf,"ag-vivid-dark":new $f},rg=Zf(Zf({},tg),eg);function ng(e){if(e instanceof Sf)return e;var t=rg[e];return t||(e.baseTheme||e.overrides||e.palette?new(ng(e.baseTheme).constructor)(e):Qf)}var og=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ig=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},ag=function(e){return e},sg=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="log",t._domain=[1,10],t.baseLog=ag,t.basePow=ag,t._base=10,t}return og(t,e),t.prototype.setDomain=function(t){var r=t[0],n=t[t.length-1];(0===r||0===n||r<0&&n>0||r>0&&n<0)&&(console.warn("Log scale domain should not start at, end at or cross zero."),0===r&&n>0?r=Number.EPSILON:0===n&&r<0?n=-Number.EPSILON:r<0&&n>0?Math.abs(n)>=Math.abs(r)?r=Number.EPSILON:n=-Number.EPSILON:r>0&&n<0&&(Math.abs(n)>=Math.abs(r)?r=-Number.EPSILON:n=Number.EPSILON),(t=t.slice())[0]=r,t[t.length-1]=n),e.prototype.setDomain.call(this,t)},t.prototype.getDomain=function(){return e.prototype.getDomain.call(this)},Object.defineProperty(t.prototype,"base",{get:function(){return this._base},set:function(e){this._base!==e&&(this._base=e,this.rescale())},enumerable:!0,configurable:!0}),t.prototype.rescale=function(){var r=this.base,n=t.makeLogFn(r),o=t.makePowFn(r);this.domain[0]<0?(n=this.reflect(n),o=this.reflect(o),this.transform=function(e){return-Math.log(-e)},this.untransform=function(e){return-Math.exp(-e)}):(this.transform=function(e){return Math.log(e)},this.untransform=function(e){return Math.exp(e)}),this.baseLog=n,this.basePow=o,e.prototype.rescale.call(this)},t.prototype.reflect=function(e){return function(t){return-e(-t)}},t.prototype.nice=function(){var e,t,r=this.domain,n=0,o=r.length-1,i=r[n],a=r[o];a<i&&(n=(e=ig([o,n],2))[0],o=e[1],i=(t=ig([a,i],2))[0],a=t[1]),r[n]=this.basePow(Math.floor(this.baseLog(i))),r[o]=this.basePow(Math.ceil(this.baseLog(a))),this.domain=r},t.pow10=function(e){return isFinite(e)?+("1e"+e):e<0?0:e},t.makePowFn=function(e){return 10===e?t.pow10:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}},t.makeLogFn=function(e){if(e===Math.E)return Math.log;if(10===e)return Math.log10;if(2===e)return Math.log2;var t=Math.log(e);return function(e){return Math.log(e)/t}},t.prototype.ticks=function(e){var t;void 0===e&&(e=10);var r=null==e?10:+e,n=this.base,o=this.domain,i=o[0],a=o[o.length-1],s=a<i;s&&(i=(t=ig([a,i],2))[0],a=t[1]);var l=this.baseLog(i),u=this.baseLog(a),c=[];if(!(n%1)&&u-l<r){if(l=Math.round(l)-1,u=Math.round(u)+1,i>0)for(;l<u;++l)for(var p=1,d=this.basePow(l);p<n;++p){if(!((h=d*p)<i)){if(h>a)break;c.push(h)}}else for(;l<u;++l)for(p=n-1,d=this.basePow(l);p>=1;--p){var h;if(!((h=d*p)<i)){if(h>a)break;c.push(h)}}2*c.length<r&&(c=_l(i,a,r))}else c=_l(l,u,Math.min(u-l,r)).map(this.basePow);return s?c.reverse():c},t.prototype.tickFormat=function(e,t){var r=this,n=this.base;if(null==t&&(t=10===n?".0e":","),"function"!==typeof t&&(t=Xl(t)),e===1/0)return t;null==e&&(e=10);var o=Math.max(1,n*e/this.ticks().length);return function(e){var i=e/r.basePow(Math.round(r.baseLog(e)));return i*n<n-.5&&(i*=n),i<=o?t(e):""}},t}(zl),lg=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ug=function(e){function t(){var t=e.call(this)||this;return t.scale=new sg,t.scale.clamper=ec,t}return lg(t,e),Object.defineProperty(t.prototype,"base",{get:function(){return this.scale.base},set:function(e){this.scale.base=e},enumerable:!0,configurable:!0}),t.className="LogAxis",t.type="log",t}(tc),cg=function(){return cg=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},cg.apply(this,arguments)},pg=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},dg=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(pg(arguments[t]));return e},hg=function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function fg(e,t,r){var n,o,i=(r||{}).stringify,a=void 0===i?[]:i,s=Cg(e);if("array"===Cg(t))return"array"!==s||e.length!==t.length||t.some((function(t,r){var n;return null!=fg(null===(n=e)||void 0===n?void 0:n[r],t)}))?dg(t):null;var l=e||{},u=t||{},c=new Set(dg(Object.keys(l),Object.keys(u))),p=0,d={},h=function(e){if(l[e]===u[e])return"continue";var t=function(t){d[e]=t,p++};if(a.includes(e))return JSON.stringify(l[e]!==JSON.stringify(u[e]))&&t(u[e]),"continue";var r=Cg(l[e]),n=Cg(u[e]);if(r!==n)return t(u[e]),"continue";if("primitive"===n||null===n)return t(u[e]),"continue";if("array"===n&&l[e].length!==u[e].length)return t(u[e]),"continue";if("class-instance"===n)return t(u[e]),"continue";if("function"===n&&l[e]!==u[e])return t(u[e]),"continue";var o=fg(l[e],u[e],{stringify:a});null!==o&&t(o)};try{for(var f=hg(c),g=f.next();!g.done;g=f.next()){h(g.value)}}catch(y){n={error:y}}finally{try{g&&!g.done&&(o=f.return)&&o.call(f)}finally{if(n)throw n.error}}return 0===p?null:d}var gg=Symbol("<delete-property>"),yg=Symbol("<unspecified-property>");function vg(){for(var e,t,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var o=r.map((function(e){return Cg(e)}));if(o.some((function(e){return"array"===e}))){var i=r[r.length-1];return i instanceof Array?i.map((function(e){var t=Cg(e);return"array"===t?vg([],e):"object"===t?vg({},e):e})):i}var a={},s=new Set(r.map((function(e){return null!=e?Object.keys(e):[]})).reduce((function(e,t){return e.concat(t)}),[])),l=function(e){var t=r.map((function(t){return null!=t&&e in t?t[e]:yg})).filter((function(e){return e!==yg}));if(0===t.length)return"continue";var n=t[t.length-1];if(n===gg)return"continue";var o=t.map((function(e){return Cg(e)})),i=o[0];if(o.some((function(e){return e!==i&&null!==e})))return a[e]=n,"continue";a[e]="array"===i||"object"===i?vg.apply(void 0,dg(t)):n};try{for(var u=hg(s),c=u.next();!c.done;c=u.next()){var p=c.value;l(p)}}catch(d){e={error:d}}finally{try{c&&!c.done&&(t=u.return)&&t.call(u)}finally{if(e)throw e.error}}return a}function mg(e,t,r){var n,o,i;void 0===r&&(r={});var a=r.path,s=void 0===a?void 0:a,l=r.matcherPath,u=void 0===l?s?s.replace(/(\[[0-9+]{1,}\])/i,"[]"):void 0:l,c=r.skip,p=void 0===c?[]:c,d=r.constructors,h=void 0===d?{}:d,f=r.allowedTypes,g=void 0===f?{}:f;if(null==e)throw new Error("AG Charts - target is uninitialised: "+(s||"<root>"));if(null==t)return e;var y=Cg(e);for(var v in t)if(!(p.indexOf(v)>=0)){var m=t[v],b=(s?s+".":"")+v,C=(u?u+".":"")+v,w=e,x=w.constructor,S=w[v],E=h[v];try{var O=Cg(S),_=Cg(m);if("class-instance"===y&&!(v in e)&&!w.hasOwnProperty(v)){console.warn("AG Charts - unable to set ["+b+"] in "+(null===(n=x)||void 0===n?void 0:n.name)+" - property is unknown");continue}var P=g[C]||[O];if("class-instance"===O&&"object"===_);else if(null!=O&&null!=_&&!P.includes(_)){console.warn("AG Charts - unable to set ["+b+"] in "+(null===(o=x)||void 0===o?void 0:o.name)+" - can't apply type of ["+_+"], allowed types are: ["+P+"]");continue}"array"===_||"class-instance"===_?w[v]=m:"object"===_?null!=S?mg(S,m,cg(cg({},r),{path:b,matcherPath:C})):w[v]=null!=E?mg(new E,m,cg(cg({},r),{path:b,matcherPath:C})):m:w[v]=m}catch(R){console.warn("AG Charts - unable to set ["+b+"] in ["+(null===(i=x)||void 0===i?void 0:i.name)+"]; nested error is: "+R.message);continue}}return e}function bg(e,t,r){for(var n,o=[],i=3;i<arguments.length;i++)o[i-3]=arguments[i];var a=Cg(e),s=r.skip||[];if("array"!==a){if("object"===a){t.apply(void 0,dg([a,e],o));var l=function(i){if(s.indexOf(i)>=0)return"continue";var a=e[i],l=null===(n=o)||void 0===n?void 0:n.map((function(e){var t;return null===(t=e)||void 0===t?void 0:t[i]})),u=Cg(a);"object"!==u&&"array"!==u||bg.apply(void 0,dg([a,t,r],l))};for(var u in e)l(u)}}else e.forEach((function(e,n){var i;bg.apply(void 0,dg([e,t,r],null===(i=o)||void 0===i?void 0:i.map((function(e){var t;return null===(t=e)||void 0===t?void 0:t[n]}))))}))}function Cg(e){return null==e?null:e instanceof HTMLElement?"primitive":e instanceof Array?"array":e instanceof Date?"primitive":"object"===typeof e&&e.constructor===Object?"object":"function"===typeof e?"function":"object"===typeof e&&null!=e.constructor?"class-instance":"primitive"}var wg={type:"cartesian",axes:[{type:tc.type,position:Uu.Left},{type:ic.type,position:Uu.Bottom}]},xg={axes:[{type:"number",position:Uu.Bottom},{type:"category",position:Uu.Left}]},Sg={axes:[{type:"number",position:Uu.Bottom},{type:"number",position:Uu.Left}]},Eg=function(){return Eg=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Eg.apply(this,arguments)};function Og(e){return null!=e&&e instanceof Array&&e[0]instanceof Array}function _g(e,t){if(null==e)return{};if(!(e instanceof Array))return e;var r=t.yKeys;if(null==r||Og(r))throw new Error("AG Charts - yNames and yKeys mismatching configuration.");var n={};return r.forEach((function(t,r){n[t]=e[r]})),n}function Pg(e,t){return null==e?[[]]:Og(e)?e:t.grouped?e.map((function(e){return[e]})):[e]}function Rg(e){if(null!=e){var t=e.placement;return Eg(Eg({},e),{placement:"inside"===t?Jd.Inside:"outside"===t?Jd.Outside:void 0})}}function Ag(e){var t=Eg(Eg({},e),{yKeys:e.yKeys||[e.yKey]});return delete t.yKey,function(e,t){var r={};for(var n in e){var o=t[n]||function(e){return e};r[n]=o(e[n],e)}return r}(t,{yNames:_g,yKeys:Pg,label:Rg})}function Tg(e){return e}var Dg={area:Tg,bar:Ag,column:Ag,histogram:Tg,line:Tg,pie:Tg,scatter:Tg,treemap:Tg};function Mg(e){var t=e.type;return(0,Dg[t||"line"])(e)}var kg=function(){return kg=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},kg.apply(this,arguments)},Ng=function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Ig=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},Lg=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Ig(arguments[t]));return e};function Fg(e,t){var r,n,o={},i=["yKeys","fills","strokes","yNames","hideInChart","hideInLegend"],a=["yKey","fill","stroke","yName"];try{for(var s=Ng(e),l=s.next();!l.done;l=s.next()){var u=l.value;for(var c in u){var p=i.indexOf(c)>-1,d=a.indexOf(c)>-1;p&&u[c].length>0?o[c]=Lg(o[c]||[],u[c]):d?o[c+"s"]=Lg(o[c+"s"]||[],[u[c]]):t&&"showInLegend"===c?!1===u[c]&&(o.hideInLegend=Lg(o.hideInLegend||[],u.yKey?[u.yKey]:u.yKeys)):t&&"grouped"===c?!0===u[c]&&(o[c]=u[c]):o[c]=u[c]}}}catch(h){r={error:h}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o}function Gg(e){var t,r,n=[],o=e.map((function(e){return"bar"!==e.type&&"column"!==e.type||null==e.yKey||e.stacked?e:kg(kg({},e),{grouped:null==e.grouped||e.grouped})}));try{for(var i=Ng(function(e){var t,r,n={},o=[];try{for(var i=Ng(e),a=i.next();!a.done;a=i.next()){var s=a.value;if("column"===s.type||"bar"===s.type||"area"===s.type&&!0===s.stacked){var l=s.type||"line",u=s.stacked?"stacked":s.grouped?"grouped":s.yKeys?"stacked":"grouped",c=l+"-"+s.xKey+"-"+u;null==n[c]&&(n[c]=[],o.push(n[c])),n[c].push(s)}else o.push([s])}}catch(p){t={error:p}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return o}(o)),a=i.next();!a.done;a=i.next()){var s=a.value;switch(s[0].type){case"column":case"bar":n.push(Fg(s,!0));break;case"area":n.push(Fg(s,!1));break;default:s.length>1&&console.warn("AG Charts - unexpected grouping of series type: "+s[0].type),n.push(s[0])}}}catch(l){t={error:l}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return n}var Bg=function(){return Bg=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Bg.apply(this,arguments)},Wg=function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Hg=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},jg=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Hg(arguments[t]));return e};function Vg(e){var t,r;return e.type||(null===(r=null===(t=e.series)||void 0===t?void 0:t[0])||void 0===r?void 0:r.type)||"cartesian"}function zg(e){var t=Vg(e);if(null==t)return!0;switch(t){case"cartesian":case"area":case"bar":case"column":case"groupedCategory":case"histogram":case"line":case"scatter":return!0;default:return!1}}function Ug(e){if(null==Vg(e))return!1;switch(e.type){case"hierarchy":case"treemap":return!0;default:return!1}}function Yg(e){if(null==Vg(e))return!1;switch(e.type){case"polar":case"pie":return!0;default:return!1}}function Xg(e){var t,r,n=0;try{for(var o=Wg(e),i=o.next();!i.done;i=o.next()){var a=i.value;a instanceof Array&&(n+=Xg(a)),null!=a&&n++}}catch(s){t={error:s}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return n}function Kg(e,t,r){for(var n=[],o=0;o<r;o++)n.push(t[(o+e.colourIndex)%t.length]);return n}function qg(e,t){var r=null==t?e:vg(t,e);!function(e){var t,r;(null===(t=e.series)||void 0===t?void 0:t.some((function(e){return null!=e.yKeys&&null!=e.yKey})))&&console.warn("AG Charts - series options yKeys and yKey are mutually exclusive, please only use yKey for future compatibility.");(null===(r=e.series)||void 0===r?void 0:r.some((function(e){return null!=e.yNames&&null!=e.yName})))&&console.warn("AG Charts - series options yNames and yName are mutually exclusive, please only use yName for future compatibility.")}(r);var n=r.type,o=Vg(r),i=zg(r=Bg(Bg({},r),{type:o}))?"line":Ug(r)?"treemap":Yg(r)?"pie":"line",a=function(e,t){var r=function(e){var t=ng(e.theme),r=t.getConfig(Vg(e)||"cartesian");return{theme:t,axesThemes:r.axes||{},seriesThemes:r.series||{},cleanedTheme:vg(r,{axes:gg,series:gg})}}(t),n=r.theme,o=r.cleanedTheme,i=r.axesThemes,a=r.seriesThemes,s={colourIndex:0,palette:n.palette},l=vg(e,o,t);return{context:s,mergedOptions:l,axesThemes:i,seriesThemes:a}}("bar"===o?xg:"scatter"===o||"histogram"===o?Sg:zg(r)?wg:{},r),s=a.context,l=a.mergedOptions,u=a.axesThemes,c=a.seriesThemes;return l.series=Gg(l.series||[]).map((function(e){var t,r=e.type?e.type:null!=(t=n)&&["line","bar","column","histogram","scatter","area","pie","treemap"].indexOf(t)>=0?n:i,o=Bg(Bg({},e),{type:r});return function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var o=$g(e,t),i={stacked:gg};return Mg(vg.apply(void 0,jg(r,[o,t,i])))}(s,o,c[r]||{})})),zg(l)&&(l.axes||[]).forEach((function(e,t){var r=e.type||"number",n=Bg(Bg({},e),{type:r}),o=vg(u[r],u[r][e.position||"unknown"]||{});l.axes[t]=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n={top:gg,bottom:gg,left:gg,right:gg};return vg.apply(void 0,jg(t,[e,n]))}(n,o)})),function(e,t){bg(e,(function(e,t,r){r&&"enabled"in r&&null==t.enabled&&(r.enabled=!0)}),{skip:["data"]},t)}(r,l),l}function $g(e,t){var r={},n=e.palette,o=n.fills,i=n.strokes,a=Xg(t.yKeys||[])||1;switch(t.type){case"pie":a=Math.max(o.length,i.length);case"area":case"bar":case"column":r.fills=Kg(e,o,a),r.strokes=Kg(e,i,a);break;case"histogram":r.fill=Kg(e,o,1)[0],r.stroke=Kg(e,i,1)[0];break;case"scatter":r.fill=Kg(e,o,1)[0];case"line":r.stroke=Kg(e,o,1)[0],r.marker={stroke:Kg(e,i,1)[0],fill:Kg(e,o,1)[0]};break;case"treemap":break;default:throw new Error("AG Charts - unknown series type: "+t.type)}return e.colourIndex+=a,r}var Zg=function(){return Zg=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Zg.apply(this,arguments)},Qg=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},Jg=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Qg(arguments[t]));return e},ey=function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function ty(e){if(zg(e))return"cartesian";if(Yg(e))return"polar";if(Ug(e))return"hierarchy";throw new Error("AG Chart - unknown type of chart for options with type: "+e.type)}var ry=function(){function e(){}return e.createComponent=function(e,t){return t.indexOf(".series")>=0?iy([Zg(Zg({},e),{type:e.type||t.split(".")[0]})])[0]:null},e.create=function(e,t,r){return ny.create(e)},e.update=function(e,t,r,n){return ny.update(e,t)},e}(),ny=function(){function e(){}return e.create=function(t){oy("user options",t);var r=qg(t),n=zg(r)?"groupedCategory"===r.type?new Sd(document):new vd(document):Ug(r)?new bd(document):Yg(r)?new jd(document):void 0;if(!n)throw new Error("AG Charts - couldn't apply configuration, check type of options: "+r.type);return e.updateDelta(n,r,t),n},e.update=function(t,r){oy("user options",r);var n=qg(r,t.userOptions);if(ty(n)!==ty(t.options))return t.destroy(),void console.warn("AG Charts - options supplied require a different type of chart, please recreate the chart.");var o=fg(t.options,n,{stringify:["data"]});null!=o&&e.updateDelta(t,o,r)},e.updateDelta=function(e,t,r){null==t.type&&(t=Zg(Zg({},t),{type:e.options.type||Vg(t)})),oy("delta update",t),function(e,t,r){if(zg(t))ly(e,t,{skip:["type","data","series","axes","autoSize","listeners","theme"]});else if(Yg(t))ly(e,t,{skip:["type","data","series","autoSize","listeners","theme"]});else{if(!Ug(t))throw new Error("AG Charts - couldn't apply configuration, check type of options and chart: "+t.type);ly(e,t,{skip:["type","data","series","autoSize","listeners","theme"]})}var n=!1;t.series&&t.series.length>0&&function(e,t){var r=t.series;if(!r)return;if(e.series.length===r.length&&e.series.every((function(e,t){var n;return e.type===(null===(n=r[t])||void 0===n?void 0:n.type)})))return void e.series.forEach((function(t,n){var o,i,a=fg((null===(i=null===(o=e.options)||void 0===o?void 0:o.series)||void 0===i?void 0:i[n])||{},r[n]||{});oy("applying series diff idx "+n,a),mg(t,a)}));e.series=iy(r)}(e,t);zg(t)&&t.axes&&(n=function(e,t){var r=t.axes;if(!r)return!1;if(e.axes.length===r.length&&e.axes.every((function(e,t){return e.type===r[t].type}))){var n=e.options;if(zg(n))return e.axes.forEach((function(e,t){var o,i=fg((null===(o=n.axes)||void 0===o?void 0:o[t])||{},r[t]);oy("applying axis diff idx "+t,i),mg(e,i)})),!0}return e.axes=function(e){var t,r,n=[],o=0;try{for(var i=ey(e||[]),a=i.next();!a.done;a=i.next()){var s=a.value,l="axis["+o+++"]";switch(s.type){case"number":n.push(cy(new tc,s,{path:l}));break;case ug.type:n.push(cy(new ug,s,{path:l}));break;case ic.type:n.push(cy(new ic,s,{path:l}));break;case mc.type:n.push(cy(new mc,s,{path:l}));break;case pp.type:n.push(cy(new pp,s,{path:l}));break;default:throw new Error("AG Charts - unknown axis type: "+s.type)}}}catch(u){t={error:u}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return n}(r),!0}(e,t));t.data&&(e.data=t.data,n=!0);null!=t.autoSize&&(e.autoSize=t.autoSize);t.listeners&&ay(e,t.listeners);e.layoutPending=!0,n&&e.processData();e.performLayout(),e.options=vg(e.options||{},t),e.userOptions=vg(e.userOptions||{},r)}(e,t,r)},e.DEBUG=!1,e}();function oy(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];ny.DEBUG&&console.log.apply(console,Jg([e],t))}function iy(e){var t,r,n=[],o=["listeners"],i=0;try{for(var a=ey(e||[]),s=a.next();!s.done;s=a.next()){var l=s.value,u="series["+i+++"]";switch(l.type){case"area":n.push(uy(new sh,l,{path:u,skip:o}));break;case"bar":case"column":n.push(uy(new gh,l,{path:u,skip:o}));break;case"histogram":n.push(uy(new Ih,l,{path:u,skip:o}));break;case"line":n.push(uy(new wh,l,{path:u,skip:o}));break;case"scatter":n.push(uy(new _h,l,{path:u,skip:o}));break;case"pie":n.push(uy(new vf,l,{path:u,skip:o}));break;case"treemap":n.push(uy(new of,l,{path:u,skip:o}));break;default:throw new Error("AG Charts - unknown series type: "+l.type)}}}catch(c){t={error:c}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return n.forEach((function(t,r){var n,o,i=null===(o=null===(n=e)||void 0===n?void 0:n[r])||void 0===o?void 0:o.listeners;null!=i&&ay(t,i)})),n}function ay(e,t){for(var r in t)e.addEventListener(r,t[r])}var sy={constructors:{title:El,subtitle:El,shadow:Hh},allowedTypes:{"series[].marker.shape":["primitive","function"],"axis[].tick.count":["primitive","class-instance"]}};function ly(e,t,r){var n=void 0===r?{}:r,o=n.skip,i=n.path;return mg(e,t,Zg(Zg(Zg({},sy),{skip:Jg(["type"],o||[])}),i?{path:i}:{}))}function uy(e,t,r){var n,o=void 0===r?{}:r,i=o.skip,a=o.path,s=(null===(n=sy)||void 0===n?void 0:n.constructors)||{},l={constructors:Zg(Zg({},s),{title:"pie"===e.type?yf:s.title})};return mg(e,t,Zg(Zg(Zg(Zg({},sy),l),{skip:Jg(["type"],i||[])}),a?{path:a}:{}))}function cy(e,t,r){var n=void 0===r?{}:r,o=n.skip,i=n.path;return mg(e,t,Zg(Zg(Zg({},sy),{skip:Jg(["type"],o||[])}),i?{path:i}:{}))}function py(e){switch(e){case"bar":case"groupedBar":case"stackedBar":case"normalizedBar":return"bar";case"column":case"groupedColumn":case"stackedColumn":case"normalizedColumn":return"column";case"line":return"line";case"area":case"stackedArea":case"normalizedArea":return"area";case"scatter":case"bubble":return"scatter";case"histogram":return"histogram";case"pie":case"doughnut":return"pie";default:return"cartesian"}}var dy=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),hy=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},fy=function(e){function t(t){var r=e.call(this)||this;return r.model=t,r}return dy(t,e),t.prototype.init=function(){var e=this;this.setChartRange(),this.addManagedListener(this.eventService,o.Events.EVENT_RANGE_SELECTION_CHANGED,(function(t){t.id&&t.id===e.model.chartId&&e.updateForRangeChange()})),this.model.unlinked&&this.rangeService&&this.rangeService.setCellRanges([]),this.addManagedListener(this.eventService,o.Events.EVENT_COLUMN_MOVED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,o.Events.EVENT_COLUMN_PINNED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,o.Events.EVENT_COLUMN_VISIBLE,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,o.Events.EVENT_COLUMN_ROW_GROUP_CHANGED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,o.Events.EVENT_MODEL_UPDATED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,o.Events.EVENT_CELL_VALUE_CHANGED,this.updateForDataChange.bind(this))},t.prototype.updateForGridChange=function(){this.model.unlinked||(this.model.updateCellRanges(),this.setChartRange())},t.prototype.updateForDataChange=function(){this.model.unlinked||(this.model.updateData(),this.raiseChartUpdatedEvent())},t.prototype.updateForRangeChange=function(){this.updateForGridChange(),this.raiseChartRangeSelectionChangedEvent()},t.prototype.updateForPanelChange=function(e){this.model.updateCellRanges(e),this.setChartRange(),this.raiseChartRangeSelectionChangedEvent()},t.prototype.getChartModel=function(){var e=this.model.pivotChart?"pivot":"range",t=this.isComboChart()?this.model.seriesChartTypes:void 0;return{modelType:e,chartId:this.model.chartId,chartType:this.model.chartType,chartThemeName:this.model.chartThemeName,chartOptions:this.chartProxy.getChartOptions(),chartPalette:this.chartProxy.getChartPalette(),cellRange:this.getCellRangeParams(),suppressChartRanges:this.model.suppressChartRanges,aggFunc:this.model.aggFunc,unlinkChart:this.model.unlinked,seriesChartTypes:t}},t.prototype.getChartId=function(){return this.model.chartId},t.prototype.getChartData=function(){return this.model.chartData},t.prototype.getChartType=function(){return this.model.chartType},t.prototype.setChartType=function(e){this.model.chartType=e,this.model.updateSeriesChartTypes(),this.raiseChartUpdatedEvent(),this.raiseChartOptionsChangedEvent()},t.prototype.setChartThemeName=function(e){this.model.chartThemeName=e,this.raiseChartUpdatedEvent(),this.raiseChartOptionsChangedEvent()},t.prototype.getChartThemeName=function(){return this.model.chartThemeName},t.prototype.isPivotChart=function(){return this.model.pivotChart},t.prototype.isPivotMode=function(){return this.model.isPivotMode()},t.prototype.isGrouping=function(){return this.model.isGrouping()},t.prototype.getThemes=function(){return this.gridOptionsWrapper.getChartThemes()},t.prototype.getPalettes=function(){var e=this;return this.gridOptionsWrapper.getChartThemes().map((function(t){return ng(e.chartProxy.isStockTheme(t)?t:e.chartProxy.lookupCustomChartTheme(t)).palette}))},t.prototype.getValueColState=function(){return this.model.valueColState.map(this.displayNameMapper.bind(this))},t.prototype.getSelectedValueColState=function(){return this.getValueColState().filter((function(e){return e.selected}))},t.prototype.getDimensionColState=function(){return this.model.dimensionColState},t.prototype.getSelectedDimension=function(){return this.model.getSelectedDimension()},t.prototype.displayNameMapper=function(e){var t=this.model.columnNames[e.colId];return e.displayName=t?t.join(" - "):this.model.getColDisplayName(e.column),e},t.prototype.getColStateForMenu=function(){return{dimensionCols:this.model.dimensionColState,valueCols:this.getValueColState()}},t.prototype.isDefaultCategorySelected=function(){return this.model.getSelectedDimension().colId===Ks.DEFAULT_CATEGORY},t.prototype.setChartRange=function(e){void 0===e&&(e=!1),!this.rangeService||this.model.suppressChartRanges||this.model.unlinked||this.rangeService.setCellRanges(this.getCellRanges()),e||this.raiseChartUpdatedEvent()},t.prototype.detachChartRange=function(){this.model.unlinked=!this.model.unlinked,this.model.unlinked?this.rangeService&&this.rangeService.setCellRanges([]):this.updateForGridChange()},t.prototype.setChartProxy=function(e){this.chartProxy=e},t.prototype.getChartProxy=function(){return this.chartProxy},t.prototype.isActiveXYChart=function(){return o._.includes(["scatter","bubble"],this.getChartType())},t.prototype.isChartLinked=function(){return!this.model.unlinked},t.prototype.customComboExists=function(){return this.model.savedCustomSeriesChartTypes&&this.model.savedCustomSeriesChartTypes.length>0},t.prototype.getSeriesChartTypes=function(){return this.model.seriesChartTypes},t.prototype.isComboChart=function(){return this.model.isComboChart()},t.prototype.updateSeriesChartType=function(e,r,n){var o=this.model.seriesChartTypes.find((function(t){return t.colId===e}));if(o){var i="customCombo"!==this.model.chartType;i&&(this.model.chartType="customCombo");var a=o.chartType;null!=r&&(o.chartType=r),null!=n&&(o.secondaryAxis=n),this.model.savedCustomSeriesChartTypes=this.model.seriesChartTypes,this.model.updateSeriesChartTypes(),this.updateForDataChange(),i&&this.dispatchEvent(Object.freeze({type:t.EVENT_CHART_TYPE_CHANGED})),a!==r&&this.dispatchEvent(Object.freeze({type:t.EVENT_CHART_SERIES_CHART_TYPE_CHANGED}))}},t.prototype.getActiveSeriesChartTypes=function(){var e=this.getSelectedValueColState().map((function(e){return e.colId}));return this.getSeriesChartTypes().filter((function(t){return e.includes(t.colId)}))},t.prototype.getChartSeriesTypes=function(){return this.isComboChart()?["line","column","area"]:[py(this.getChartType())]},t.prototype.getCellRanges=function(){return[this.model.dimensionCellRange,this.model.valueCellRange].filter((function(e){return e}))},t.prototype.getCellRangeParams=function(){var e=this.getCellRanges(),t=e[0],r=t&&t.startRow||null,n=t&&t.endRow||null;return{rowStartIndex:r&&r.rowIndex,rowStartPinned:r&&r.rowPinned,rowEndIndex:n&&n.rowIndex,rowEndPinned:n&&n.rowPinned,columns:e.reduce((function(e,t){return e.concat(t.columns.map((function(e){return e.getId()})))}),[])}},t.prototype.raiseChartUpdatedEvent=function(){var e=Object.freeze({type:t.EVENT_CHART_UPDATED});this.dispatchEvent(e)},t.prototype.raiseChartOptionsChangedEvent=function(){var e=this.getChartModel(),t=e.chartId,r=e.chartType,n=Object.freeze({type:o.Events.EVENT_CHART_OPTIONS_CHANGED,chartId:t,chartType:r,chartThemeName:this.model.chartThemeName,chartOptions:this.chartProxy.getChartOptions(),api:this.gridApi,columnApi:this.columnApi});this.eventService.dispatchEvent(n)},t.prototype.raiseChartRangeSelectionChangedEvent=function(){var e=Object.freeze({type:o.Events.EVENT_CHART_RANGE_SELECTION_CHANGED,id:this.model.chartId,chartId:this.model.chartId,cellRange:this.getCellRangeParams(),api:this.gridApi,columnApi:this.columnApi});this.eventService.dispatchEvent(e)},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.rangeService&&this.rangeService.setCellRanges([])},t.EVENT_CHART_UPDATED="chartUpdated",t.EVENT_CHART_TYPE_CHANGED="chartTypeChanged",t.EVENT_CHART_SERIES_CHART_TYPE_CHANGED="chartSeriesChartTypeChanged",hy([o.Autowired("rangeService")],t.prototype,"rangeService",void 0),hy([o.Autowired("gridApi")],t.prototype,"gridApi",void 0),hy([o.Autowired("columnApi")],t.prototype,"columnApi",void 0),hy([o.PostConstruct],t.prototype,"init",null),t}(o.BeanStub),gy=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),yy=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},vy=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},my=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(vy(arguments[t]));return e},by=function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Cy=function(e){function t(r,n){var o=e.call(this,t.TEMPLATE)||this;return o.chartController=r,o.chartOptionsService=n,o.columnComps=new Map,o}return gy(t,e),t.prototype.init=function(){this.updatePanels(),this.addManagedListener(this.chartController,fy.EVENT_CHART_UPDATED,this.updatePanels.bind(this)),this.createAutoScrollService()},t.prototype.destroy=function(){this.clearComponents(),e.prototype.destroy.call(this)},t.prototype.updatePanels=function(){var e=this,t=this.chartType,r=this.chartController.getColStateForMenu(),n=r.dimensionCols,i=r.valueCols,a=n.map((function(e){return e.colId})).concat(i.map((function(e){return e.colId})));this.chartType=this.chartController.getChartType();var s=this.getGroupExpandedState();if(o._.areEqual(o._.keys(this.columnComps),a)&&this.chartType===t){if(my(n,i).forEach((function(t){e.columnComps.get(t.colId).setValue(t.selected,!0)})),this.chartController.isActiveXYChart()){var l=this.generateGetSeriesLabel();i.forEach((function(t){e.columnComps.get(t.colId).setLabel(l(t))}))}o._.removeFromParent(this.getGui().querySelector("#seriesChartTypeGroup")),this.seriesChartTypeGroupComp=this.destroyBean(this.seriesChartTypeGroupComp),this.createSeriesChartTypeGroup(i)}else this.clearComponents(),this.createCategoriesGroup(n),this.createSeriesGroup(i),this.createSeriesChartTypeGroup(i);this.restoreGroupExpandedState(s)},t.prototype.getGroupExpandedState=function(){return[this.categoriesGroupComp,this.seriesGroupComp,this.seriesChartTypeGroupComp].map((function(e){return!e||e.isExpanded()}))},t.prototype.restoreGroupExpandedState=function(e){[this.categoriesGroupComp,this.seriesGroupComp,this.seriesChartTypeGroupComp].forEach((function(t,r){t&&t.toggleGroupExpand(e[r])}))},t.prototype.createAutoScrollService=function(){var e=this.getGui();this.autoScrollService=new o.AutoScrollService({scrollContainer:e,scrollAxis:"y",getVerticalPosition:function(){return e.scrollTop},setVerticalPosition:function(t){return e.scrollTop=t}})},t.prototype.addComponent=function(e,t,r){var n=document.createElement("div");n.id=r,n.className="ag-chart-data-section",n.appendChild(t.getGui()),e.appendChild(n)},t.prototype.addChangeListener=function(e,t){var r=this;this.addManagedListener(e,o.AgAbstractField.EVENT_CHANGED,(function(){t.selected=e.getValue(),r.chartController.updateForPanelChange(t)}))},t.prototype.createCategoriesGroup=function(e){var t=this;this.categoriesGroupComp=this.createBean(new o.AgGroupComponent({title:this.getCategoryGroupTitle(),enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!1,cssIdentifier:"charts-data"}));var r="chartDimension"+this.getCompId();e.forEach((function(e){var n=t.categoriesGroupComp.createManagedBean(new o.AgRadioButton);n.setLabel(o._.escapeString(e.displayName)),n.setValue(e.selected),n.setInputName(r),t.addChangeListener(n,e),t.categoriesGroupComp.addItem(n),t.columnComps.set(e.colId,n)})),this.addComponent(this.getGui(),this.categoriesGroupComp,"categoriesGroup")},t.prototype.createSeriesGroup=function(e){var t=this;if(this.seriesGroupComp=this.createManagedBean(new o.AgGroupComponent({title:this.getSeriesGroupTitle(),enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!1,cssIdentifier:"charts-data"})),this.chartController.isActiveXYChart()){var r=this.seriesGroupComp.createManagedBean(new o.AgToggleButton);r.setLabel(this.chartTranslationService.translate("paired")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth(45).setValue(this.chartOptionsService.getPairedMode()).onValueChange((function(e){t.chartOptionsService.setPairedMode(!!e),t.chartController.updateForGridChange()})),this.seriesGroupComp.addItem(r)}var n=this.generateGetSeriesLabel();e.forEach((function(e){var r=t.seriesGroupComp.createManagedBean(new o.AgCheckbox);r.addCssClass("ag-data-select-checkbox");var i=n(e);r.setLabel(i),r.setValue(e.selected),t.addChangeListener(r,e),t.seriesGroupComp.addItem(r),t.columnComps.set(e.colId,r),t.addDragHandle(r,e)})),this.addComponent(this.getGui(),this.seriesGroupComp,"seriesGroup");var i={getIconName:function(){return o.DragAndDropService.ICON_MOVE},getContainer:function(){return t.seriesGroupComp.getGui()},onDragging:function(e){return t.onDragging(e)},onDragLeave:function(){return t.onDragLeave()},isInterestedIn:this.isInterestedIn.bind(this),targetContainsSource:!0};this.dragAndDropService.addDropTarget(i)},t.prototype.createSeriesChartTypeGroup=function(e){var t=this;if(this.chartController.isComboChart()){this.seriesChartTypeGroupComp=this.createManagedBean(new o.AgGroupComponent({title:this.chartTranslationService.translate("seriesChartType"),enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!1,cssIdentifier:"charts-data"}));var r=this.chartController.getSeriesChartTypes();e.forEach((function(e){if(e.selected){var n=r.filter((function(t){return t.colId===e.colId}))[0];if(n){var i=t.seriesChartTypeGroupComp.createManagedBean(new o.AgGroupComponent({title:e.displayName,enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!0,cssIdentifier:"charts-format-sub-level"})),a=t.seriesChartTypeGroupComp.createManagedBean(new o.AgCheckbox).setLabel(t.chartTranslationService.translate("secondaryAxis")).setLabelWidth("flex").setDisabled(["groupedColumn","stackedColumn","stackedArea"].includes(n.chartType)).setValue(!!n.secondaryAxis).onValueChange((function(r){return t.chartController.updateSeriesChartType(e.colId,void 0,r)}));i.addItem(a);var s=function(e,r){return t.chartTranslationService.translate(e,r)},l=[{value:"line",text:s("line","Line")},{value:"area",text:s("area","Area")},{value:"stackedArea",text:s("stackedArea","StackedArea")},{value:"groupedColumn",text:s("groupedColumn","Grouped Column")},{value:"stackedColumn",text:s("stackedColumn","Stacked Column")}],u=i.createManagedBean(new o.AgSelect);u.setLabelAlignment("left").setLabelWidth("flex").addOptions(l).setValue(n.chartType).onValueChange((function(r){return t.chartController.updateSeriesChartType(e.colId,r)})),i.addItem(u),t.seriesChartTypeGroupComp.addItem(i)}}})),this.addComponent(this.getGui(),this.seriesChartTypeGroupComp,"seriesChartTypeGroup")}},t.prototype.addDragHandle=function(e,t){var r=this,n=o._.createIconNoSpan("columnDrag",this.gridOptionsWrapper);n.classList.add("ag-drag-handle","ag-chart-data-column-drag-handle"),e.getGui().insertAdjacentElement("beforeend",n);var i={type:o.DragSourceType.ChartPanel,eElement:n,dragItemName:t.displayName,getDragItem:function(){return{columns:[t.column]}},onDragStopped:function(){return r.onDragStop()}};this.dragAndDropService.addDragSource(i,!0),this.addDestroyFunc((function(){return r.dragAndDropService.removeDragSource(i)}))},t.prototype.generateGetSeriesLabel=function(){if(!this.chartController.isActiveXYChart())return function(e){return o._.escapeString(e.displayName)};var e="bubble"===this.chartType,t=this.isInPairedMode(),r=0,n=new Map;return n.set(0,"X"),n.set(1,"Y"),n.set(2,"size"),function(i){var a,s=o._.escapeString(i.displayName);return i.selected?(a=t?n.get(r%(e?3:2)):0===r?"X":e&&r%2===0?"size":"Y",r++,s+" ("+a+")"):s}},t.prototype.getCategoryGroupTitle=function(){return this.chartTranslationService.translate(this.chartController.isActiveXYChart()?"labels":"categories")},t.prototype.getSeriesGroupTitle=function(){return this.chartTranslationService.translate(this.chartController.isActiveXYChart()?"xyValues":"series")},t.prototype.isInPairedMode=function(){return this.chartController.isActiveXYChart()&&this.chartOptionsService.getSeriesOption("paired","scatter")},t.prototype.clearComponents=function(){o._.clearElement(this.getGui()),this.categoriesGroupComp=this.destroyBean(this.categoriesGroupComp),this.seriesGroupComp=this.destroyBean(this.seriesGroupComp),this.seriesChartTypeGroupComp=this.destroyBean(this.seriesChartTypeGroupComp),this.columnComps.clear()},t.prototype.onDragging=function(e){var t=this.checkHoveredItem(e);if(t){this.lastDraggedColumn=e.dragItem.columns[0];var r=t.comp,n=t.position,o=this.lastHoveredItem||{},i=o.comp,a=o.position;if(r!==i||n!==a)this.autoScrollService.check(e.event),this.clearHoveredItems(),this.lastHoveredItem={comp:r,position:n},r.getGui().classList.add("ag-list-item-hovered","ag-item-highlight-"+n)}},t.prototype.checkHoveredItem=function(e){var t,r;if(o._.missing(e.vDirection))return null;var n=e.event;try{for(var i=by(this.columnComps.values()),a=i.next();!a.done;a=i.next()){var s=a.value,l=s.getGui();if(l.querySelector(".ag-chart-data-column-drag-handle")){var u=l.getBoundingClientRect();if(n.clientY>=u.top&&n.clientY<=u.bottom){var c=l.clientHeight;return{comp:s,position:n.clientY>u.top+c/2?"bottom":"top"}}}}}catch(p){t={error:p}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return null},t.prototype.onDragLeave=function(){this.clearHoveredItems()},t.prototype.onDragStop=function(){var e=this;if(this.lastHoveredItem){var t=this.chartController.getColStateForMenu(),r=t.dimensionCols,n=t.valueCols,o=my(r,n).find((function(t){return t.column===e.lastDraggedColumn}));if(o){var i=Array.from(this.columnComps.values()).indexOf(this.lastHoveredItem.comp);"bottom"===this.lastHoveredItem.position&&i++,o.order=i,this.chartController.updateForPanelChange(o)}}this.clearHoveredItems(),this.lastDraggedColumn=void 0,this.autoScrollService.ensureCleared()},t.prototype.clearHoveredItems=function(){this.columnComps.forEach((function(e){e.getGui().classList.remove("ag-list-item-hovered","ag-item-highlight-top","ag-item-highlight-bottom")})),this.lastHoveredItem=void 0},t.prototype.isInterestedIn=function(e){return e===o.DragSourceType.ChartPanel},t.TEMPLATE='<div class="ag-chart-data-wrapper ag-scrollable-container"></div>',yy([o.Autowired("dragAndDropService")],t.prototype,"dragAndDropService",void 0),yy([o.Autowired("chartTranslationService")],t.prototype,"chartTranslationService",void 0),yy([o.PostConstruct],t.prototype,"init",null),t}(o.Component),wy=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),xy=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Sy=function(e){function t(t){var r=e.call(this)||this;return r.activeComps=[],r.params=t,r}return wy(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{fontGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.initGroup(),this.initFontFamilySelect(),this.initFontWeightStyleSelect(),this.initFontSizeSelect(),this.initFontColorPicker()},t.prototype.addCompToPanel=function(e){this.fontGroup.addItem(e),this.activeComps.push(e)},t.prototype.setEnabled=function(e){this.fontGroup.setEnabled(e)},t.prototype.initGroup=function(){var e=this;this.fontGroup.setTitle(this.params.name||this.chartTranslationService.translate("font")).setEnabled(this.params.enabled).hideEnabledCheckbox(!!this.params.suppressEnabledCheckbox).hideOpenCloseIcons(!0).onEnableChange((function(t){e.params.setEnabled&&e.params.setEnabled(t)}))},t.prototype.initFontFamilySelect=function(){var e=this,t=["Arial, sans-serif","Aria Black, sans-serif","Book Antiqua,  serif","Charcoal, sans-serif","Comic Sans MS, cursive","Courier, monospace","Courier New, monospace","Gadget, sans-serif","Geneva, sans-serif","Helvetica, sans-serif","Impact, sans-serif","Lucida Console, monospace","Lucida Grande, sans-serif","Lucida Sans Unicode,  sans-serif","Monaco, monospace","Palatino Linotype, serif","Palatino, serif","Times New Roman, serif","Times, serif","Verdana, sans-serif"],r=this.params.initialFont.family,n=t[0];if(r){var i=t.map((function(e){return e.toLowerCase()})).indexOf(r.toLowerCase());if(i>=0)n=t[i];else{var a=o._.capitalise(r);t.push(a),n=a}}var s=t.sort().map((function(e){return{value:e,text:e}}));this.familySelect.addOptions(s).setInputWidth("flex").setValue(""+n).onValueChange((function(t){return e.params.setFont({family:t})}))},t.prototype.initFontSizeSelect=function(){var e=this,t=[8,10,12,14,16,18,20,22,24,26,28,30,32,34,36],r=this.params.initialFont.size;o._.includes(t,r)||t.push(r);var n=t.sort((function(e,t){return e-t})).map((function(e){return{value:""+e,text:""+e}}));this.sizeSelect.addOptions(n).setInputWidth("flex").setValue(""+r).onValueChange((function(t){return e.params.setFont({size:parseInt(t,10)})})),this.sizeSelect.setLabel(this.chartTranslationService.translate("size"))},t.prototype.initFontWeightStyleSelect=function(){var e=this,t=this.params.initialFont,r=t.weight,n=void 0===r?"normal":r,o=t.style,i=void 0===o?"normal":o,a=[{name:"normal",weight:"normal",style:"normal"},{name:"bold",weight:"bold",style:"normal"},{name:"italic",weight:"normal",style:"italic"},{name:"boldItalic",weight:"bold",style:"italic"}],s=a.find((function(e){return e.weight===n&&e.style===i}));s||(s={name:"predefined",weight:n,style:i},a.unshift(s));var l=a.map((function(t){return{value:t.name,text:e.chartTranslationService.translate(t.name)}}));this.weightStyleSelect.addOptions(l).setInputWidth("flex").setValue(s.name).onValueChange((function(t){var r=a.find((function(e){return e.name===t}));e.params.setFont({weight:r.weight,style:r.style})}))},t.prototype.initFontColorPicker=function(){var e=this;this.colorPicker.setLabel(this.chartTranslationService.translate("color")).setInputWidth(45).setValue(""+this.params.initialFont.color).onValueChange((function(t){return e.params.setFont({color:t})}))},t.prototype.destroyActiveComps=function(){var e=this;this.activeComps.forEach((function(t){o._.removeFromParent(t.getGui()),e.destroyBean(t)}))},t.prototype.destroy=function(){this.destroyActiveComps(),e.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-font-panel">\n            <ag-group-component ref="fontGroup">\n                <ag-select ref="familySelect"></ag-select>\n                <ag-select ref="weightStyleSelect"></ag-select>\n                <div class="ag-charts-font-size-color">\n                    <ag-select ref="sizeSelect"></ag-select>\n                    <ag-color-picker ref="colorPicker"></ag-color-picker>\n                </div>\n            </ag-group-component>\n        </div>',xy([o.RefSelector("fontGroup")],t.prototype,"fontGroup",void 0),xy([o.RefSelector("familySelect")],t.prototype,"familySelect",void 0),xy([o.RefSelector("weightStyleSelect")],t.prototype,"weightStyleSelect",void 0),xy([o.RefSelector("sizeSelect")],t.prototype,"sizeSelect",void 0),xy([o.RefSelector("colorPicker")],t.prototype,"colorPicker",void 0),xy([o.Autowired("chartTranslationService")],t.prototype,"chartTranslationService",void 0),xy([o.PostConstruct],t.prototype,"init",null),t}(o.Component),Ey=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Oy=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},_y=function(e){function t(t){var r=e.call(this)||this;return r.chartOptionsService=t,r.activePanels=[],r}return Ey(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{legendGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initLegendGroup(),this.initLegendPosition(),this.initLegendPadding(),this.initLegendItems(),this.initLabelPanel()},t.prototype.initLegendGroup=function(){var e=this;this.legendGroup.setTitle(this.chartTranslationService.translate("legend")).hideEnabledCheckbox(!1).setEnabled(this.chartOptionsService.getChartOption("legend.enabled")||!1).toggleGroupExpand(!1).onEnableChange((function(t){e.chartOptionsService.setChartOption("legend.enabled",t),e.legendGroup.toggleGroupExpand(!0)}))},t.prototype.initLegendPosition=function(){var e=this,t=[Wp.Top,Wp.Right,Wp.Bottom,Wp.Left];this.legendPositionSelect.setLabel(this.chartTranslationService.translate("position")).setLabelWidth("flex").setInputWidth(80).addOptions(t.map((function(t){return{value:t,text:e.chartTranslationService.translate(t)}}))).setValue(this.chartOptionsService.getChartOption("legend.position")).onValueChange((function(t){return e.chartOptionsService.setChartOption("legend.position",t)}))},t.prototype.initLegendPadding=function(){var e=this,t=this.chartOptionsService.getChartOption("legend.spacing");this.legendPaddingSlider.setLabel(this.chartTranslationService.translate("spacing")).setMaxValue(lv(t,200)).setValue(""+t).setTextFieldWidth(45).onValueChange((function(t){return e.chartOptionsService.setChartOption("legend.spacing",t)}))},t.prototype.initLegendItems=function(){var e=this,t=function(t,r,n,o){var i=e.chartOptionsService.getChartOption("legend."+t);n.setLabel(e.chartTranslationService.translate(r)).setMaxValue(lv(i,o)).setValue(""+i).setTextFieldWidth(45).onValueChange((function(r){e.chartOptionsService.setChartOption("legend."+t,r)}))};t("item.marker.size","markerSize",this.markerSizeSlider,40),t("item.marker.strokeWidth","markerStroke",this.markerStrokeSlider,10),t("item.marker.padding","itemSpacing",this.markerPaddingSlider,20),t("item.paddingX","layoutHorizontalSpacing",this.itemPaddingXSlider,50),t("item.paddingY","layoutVerticalSpacing",this.itemPaddingYSlider,50)},t.prototype.initLabelPanel=function(){var e=this,t=this.chartOptionsService,r={enabled:!0,suppressEnabledCheckbox:!0,initialFont:{family:t.getChartOption("legend.item.label.fontFamily"),style:t.getChartOption("legend.item.label.fontStyle"),weight:t.getChartOption("legend.item.label.fontWeight"),size:t.getChartOption("legend.item.label.fontSize"),color:t.getChartOption("legend.item.label.color")},setFont:function(t){var r=e.chartOptionsService;t.family&&r.setChartOption("legend.item.label.fontFamily",t.family),t.weight&&r.setChartOption("legend.item.label.fontWeight",t.weight),t.style&&r.setChartOption("legend.item.label.fontStyle",t.style),t.size&&r.setChartOption("legend.item.label.fontSize",t.size),t.color&&r.setChartOption("legend.item.label.color",t.color)}},n=this.createBean(new Sy(r));this.legendGroup.addItem(n),this.activePanels.push(n)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach((function(t){o._.removeFromParent(t.getGui()),e.destroyBean(t)}))},t.prototype.destroy=function(){this.destroyActivePanels(),e.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="legendGroup">\n                <ag-select ref="legendPositionSelect"></ag-select>\n                <ag-slider ref="legendPaddingSlider"></ag-slider>\n                <ag-slider ref="markerSizeSlider"></ag-slider>\n                <ag-slider ref="markerStrokeSlider"></ag-slider>\n                <ag-slider ref="markerPaddingSlider"></ag-slider>\n                <ag-slider ref="itemPaddingXSlider"></ag-slider>\n                <ag-slider ref="itemPaddingYSlider"></ag-slider>\n            </ag-group-component>\n        </div>',Oy([o.RefSelector("legendGroup")],t.prototype,"legendGroup",void 0),Oy([o.RefSelector("legendPositionSelect")],t.prototype,"legendPositionSelect",void 0),Oy([o.RefSelector("legendPaddingSlider")],t.prototype,"legendPaddingSlider",void 0),Oy([o.RefSelector("markerSizeSlider")],t.prototype,"markerSizeSlider",void 0),Oy([o.RefSelector("markerStrokeSlider")],t.prototype,"markerStrokeSlider",void 0),Oy([o.RefSelector("markerPaddingSlider")],t.prototype,"markerPaddingSlider",void 0),Oy([o.RefSelector("itemPaddingXSlider")],t.prototype,"itemPaddingXSlider",void 0),Oy([o.RefSelector("itemPaddingYSlider")],t.prototype,"itemPaddingYSlider",void 0),Oy([o.Autowired("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Oy([o.PostConstruct],t.prototype,"init",null),t}(o.Component),Py=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ry=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Ay=function(e){function t(t){var r=e.call(this)||this;return r.chartOptionsService=t,r}return Py(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{axisTicksGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.initAxisTicks()},t.prototype.initAxisTicks=function(){var e=this;this.axisTicksGroup.setTitle(this.chartTranslationService.translate("ticks")).hideOpenCloseIcons(!0).hideEnabledCheckbox(!0),this.axisTicksColorPicker.setLabel(this.chartTranslationService.translate("color")).setLabelWidth("flex").setInputWidth(45).setValue(this.chartOptionsService.getAxisProperty("tick.color")).onValueChange((function(t){return e.chartOptionsService.setAxisProperty("tick.color",t)}));var t=function(t,r,n,o){var i=e.chartOptionsService.getAxisProperty(t);r.setLabel(n).setMaxValue(lv(i,o)).setValue(""+i).setTextFieldWidth(45).onValueChange((function(r){return e.chartOptionsService.setAxisProperty(t,r)}))};t("tick.width",this.axisTicksWidthSlider,this.chartTranslationService.translate("width"),10),t("tick.size",this.axisTicksSizeSlider,this.chartTranslationService.translate("length"),30)},t.TEMPLATE='<div>\n            <ag-group-component ref="axisTicksGroup">\n                <ag-color-picker ref="axisTicksColorPicker"></ag-color-picker>\n                <ag-slider ref="axisTicksWidthSlider"></ag-slider>\n                <ag-slider ref="axisTicksSizeSlider"></ag-slider>\n            </ag-group-component>\n        </div>',Ry([o.RefSelector("axisTicksGroup")],t.prototype,"axisTicksGroup",void 0),Ry([o.RefSelector("axisTicksColorPicker")],t.prototype,"axisTicksColorPicker",void 0),Ry([o.RefSelector("axisTicksWidthSlider")],t.prototype,"axisTicksWidthSlider",void 0),Ry([o.RefSelector("axisTicksSizeSlider")],t.prototype,"axisTicksSizeSlider",void 0),Ry([o.Autowired("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Ry([o.PostConstruct],t.prototype,"init",null),t}(o.Component),Ty=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Dy=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},My=function(e){function t(t,r){var n=e.call(this)||this;return n.chartController=t,n.chartOptionsService=r,n.activePanels=[],n.axisLabelUpdateFuncs=[],n}return Ty(t,e),t.prototype.init=function(){var e=this;this.setTemplate(t.TEMPLATE,{axisGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initAxis(),this.initAxisTicks(),this.initAxisLabels();this.addManagedListener(this.chartController,fy.EVENT_CHART_UPDATED,(function(){return e.axisLabelUpdateFuncs.forEach((function(e){return e()}))}))},t.prototype.initAxis=function(){var e=this,t=this.chartTranslationService;this.axisGroup.setTitle(t.translate("axis")).toggleGroupExpand(!1).hideEnabledCheckbox(!0),this.axisColorInput.setLabel(t.translate("color")).setLabelWidth("flex").setInputWidth(45).setValue(this.chartOptionsService.getAxisProperty("line.color")).onValueChange((function(t){return e.chartOptionsService.setAxisProperty("line.color",t)}));var r=this.chartOptionsService.getAxisProperty("line.width");if(this.axisLineWidthSlider.setMaxValue(lv(r,10)).setLabel(t.translate("thickness")).setTextFieldWidth(45).setValue(""+r).onValueChange((function(t){return e.chartOptionsService.setAxisProperty("line.width",t)})),o._.includes(["line","scatter","bubble"],this.chartController.getChartType())&&!this.chartController.isGrouping()){var n=[{value:"",text:t.translate("automatic")}];["category","time","number"].forEach((function(e){n.push({value:e,text:t.translate(e)})})),this.xAxisTypeSelect.setLabel(t.translate("xType")).setLabelWidth("flex").addOptions(n).setValue(this.chartOptionsService.getChartOption("xAxis.type")||"").onValueChange((function(t){e.chartOptionsService.setChartOption("xAxis.type","string"===typeof t&&t.length&&t),e.chartController.updateForDataChange()}))}else this.xAxisTypeSelect.setDisplayed(!1)},t.prototype.initAxisTicks=function(){var e=this.createBean(new Ay(this.chartOptionsService));this.axisGroup.addItem(e),this.activePanels.push(e)},t.prototype.initAxisLabels=function(){var e=this,t={enabled:!0,suppressEnabledCheckbox:!0,initialFont:{family:this.chartOptionsService.getAxisProperty("label.fontFamily"),style:this.chartOptionsService.getAxisProperty("label.fontStyle"),weight:this.chartOptionsService.getAxisProperty("label.fontWeight"),size:this.chartOptionsService.getAxisProperty("label.fontSize"),color:this.chartOptionsService.getAxisProperty("label.color")},setFont:function(t){t.family&&e.chartOptionsService.setAxisProperty("label.fontFamily",t.family),t.weight&&e.chartOptionsService.setAxisProperty("label.fontWeight",t.weight),t.style&&e.chartOptionsService.setAxisProperty("label.fontStyle",t.style),t.size&&e.chartOptionsService.setAxisProperty("label.fontSize",t.size),t.color&&e.chartOptionsService.setAxisProperty("label.color",t.color),e.chartController.getChartProxy().getChart().layoutPending=!0}},r=this.createBean(new Sy(t));this.axisGroup.addItem(r),this.activePanels.push(r),this.addAdditionalLabelComps(r)},t.prototype.addAdditionalLabelComps=function(e){var t=this,r=function(r,n){var i=t.chartOptionsService.getLabelRotation(n),a=(new o.AgAngleSelect).setLabel(r).setLabelWidth("flex").setValue(i||0).onValueChange((function(e){return t.chartOptionsService.setLabelRotation(n,e)}));t.axisLabelUpdateFuncs.push((function(){var e=t.chartOptionsService.getLabelRotation(n);a.setValue(e)}));var s=t.createBean(a);e.addCompToPanel(s)},n=String.fromCharCode(176),i=this.chartTranslationService.translate("xRotation")+" "+n,a=this.chartTranslationService.translate("yRotation")+" "+n;r(i,"xAxis"),r(a,"yAxis");var s=this.createBean(new o.AgSlider),l=this.chartOptionsService.getAxisProperty("label.padding");s.setLabel(this.chartTranslationService.translate("padding")).setMaxValue(lv(l,30)).setValue(""+l).setTextFieldWidth(45).onValueChange((function(e){return t.chartOptionsService.setAxisProperty("label.padding",e)})),e.addCompToPanel(s)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach((function(t){o._.removeFromParent(t.getGui()),e.destroyBean(t)}))},t.prototype.destroy=function(){this.destroyActivePanels(),e.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="axisGroup">\n                <ag-color-picker ref="axisColorInput"></ag-color-picker>\n                <ag-slider ref="axisLineWidthSlider"></ag-slider>\n                <ag-select ref="xAxisTypeSelect"></ag-select>\n            </ag-group-component>\n        </div>',Dy([o.RefSelector("axisGroup")],t.prototype,"axisGroup",void 0),Dy([o.RefSelector("axisColorInput")],t.prototype,"axisColorInput",void 0),Dy([o.RefSelector("axisLineWidthSlider")],t.prototype,"axisLineWidthSlider",void 0),Dy([o.RefSelector("xAxisTypeSelect")],t.prototype,"xAxisTypeSelect",void 0),Dy([o.Autowired("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Dy([o.PostConstruct],t.prototype,"init",null),t}(o.Component),ky=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ny=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Iy=function(e){function t(t){var r=e.call(this)||this;return r.chartOptionsService=t,r}return ky(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{navigatorGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initNavigator()},t.prototype.initNavigator=function(){var e=this,t=this.chartTranslationService;this.navigatorGroup.setTitle(t.translate("navigator")).toggleGroupExpand(!1).hideEnabledCheckbox(!1).setEnabled(this.chartOptionsService.getChartOption("navigator.enabled")||!1).onEnableChange((function(t){e.chartOptionsService.setChartOption("navigator.enabled",t),e.navigatorGroup.toggleGroupExpand(!0)}));var r=this.chartOptionsService.getChartOption("navigator.height");this.navigatorHeightSlider.setLabel(t.translate("height")).setMinValue(10).setMaxValue(lv(r,60)).setTextFieldWidth(45).setValue(""+(r||30)).onValueChange((function(t){return e.chartOptionsService.setChartOption("navigator.height",t)}))},t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="navigatorGroup">\n                <ag-slider ref="navigatorHeightSlider"></ag-slider>\n            </ag-group-component>\n        </div>',Ny([o.RefSelector("navigatorGroup")],t.prototype,"navigatorGroup",void 0),Ny([o.RefSelector("navigatorHeightSlider")],t.prototype,"navigatorHeightSlider",void 0),Ny([o.Autowired("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Ny([o.PostConstruct],t.prototype,"init",null),t}(o.Component),Ly=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Fy=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Gy=function(e){function t(t){var r=e.call(this)||this;return r.chartOptionsService=t,r}return Ly(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{chartPaddingGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.initGroup(),this.initChartPaddingItems()},t.prototype.initGroup=function(){this.chartPaddingGroup.setTitle(this.chartTranslationService.translate("padding")).hideOpenCloseIcons(!0).hideEnabledCheckbox(!0)},t.prototype.initChartPaddingItems=function(){var e=this,t=function(t,r){var n=e.chartOptionsService.getChartOption("padding."+t);r.setLabel(e.chartTranslationService.translate(t)).setMaxValue(lv(n,200)).setValue(""+n).setTextFieldWidth(45).onValueChange((function(r){return e.chartOptionsService.setChartOption("padding."+t,r)}))};t("top",this.paddingTopSlider),t("right",this.paddingRightSlider),t("bottom",this.paddingBottomSlider),t("left",this.paddingLeftSlider)},t.TEMPLATE='<div>\n            <ag-group-component ref="chartPaddingGroup">\n                <ag-slider ref="paddingTopSlider"></ag-slider>\n                <ag-slider ref="paddingRightSlider"></ag-slider>\n                <ag-slider ref="paddingBottomSlider"></ag-slider>\n                <ag-slider ref="paddingLeftSlider"></ag-slider>\n            </ag-group-component>\n        <div>',Fy([o.RefSelector("chartPaddingGroup")],t.prototype,"chartPaddingGroup",void 0),Fy([o.RefSelector("paddingTopSlider")],t.prototype,"paddingTopSlider",void 0),Fy([o.RefSelector("paddingRightSlider")],t.prototype,"paddingRightSlider",void 0),Fy([o.RefSelector("paddingBottomSlider")],t.prototype,"paddingBottomSlider",void 0),Fy([o.RefSelector("paddingLeftSlider")],t.prototype,"paddingLeftSlider",void 0),Fy([o.Autowired("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Fy([o.PostConstruct],t.prototype,"init",null),t}(o.Component),By=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Wy=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Hy=function(e){function t(t){var r=e.call(this)||this;return r.chartOptionsService=t,r}return By(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{chartBackgroundGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.initGroup(),this.initColorPicker()},t.prototype.initGroup=function(){var e=this;this.group.setTitle(this.chartTranslationService.translate("background")).setEnabled(this.chartOptionsService.getChartOption("background.visible")).hideOpenCloseIcons(!0).hideEnabledCheckbox(!1).onEnableChange((function(t){return e.chartOptionsService.setChartOption("background.visible",t)}))},t.prototype.initColorPicker=function(){var e=this;this.colorPicker.setLabel(this.chartTranslationService.translate("color")).setLabelWidth("flex").setInputWidth(45).setValue(this.chartOptionsService.getChartOption("background.fill")).onValueChange((function(t){return e.chartOptionsService.setChartOption("background.fill",t)}))},t.TEMPLATE='<div>\n            <ag-group-component ref="chartBackgroundGroup">\n                <ag-color-picker ref="colorPicker"></ag-color-picker>\n            </ag-group-component>\n        <div>',Wy([o.RefSelector("chartBackgroundGroup")],t.prototype,"group",void 0),Wy([o.RefSelector("colorPicker")],t.prototype,"colorPicker",void 0),Wy([o.Autowired("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Wy([o.PostConstruct],t.prototype,"init",null),t}(o.Component),jy=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Vy=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},zy=function(e){function t(r){var n=e.call(this,t.TEMPLATE)||this;return n.chartOptionsService=r,n.activePanels=[],n}return jy(t,e),t.prototype.init=function(){this.initFontPanel(),this.titlePlaceholder=this.chartTranslationService.translate("titlePlaceholder")},t.prototype.hasTitle=function(){var e=this.getOption("title");return e&&e.enabled&&e.text&&e.text.length>0},t.prototype.initFontPanel=function(){var e=this,t=this.hasTitle,r=function(t){t.family&&e.setOption("title.fontFamily",t.family),t.weight&&e.setOption("title.fontWeight",t.weight),t.style&&e.setOption("title.fontStyle",t.style),t.size&&e.setOption("title.fontSize",t.size),t.color&&e.setOption("title.color",t.color)},n={family:this.getOption("title.fontFamily"),style:this.getOption("title.fontStyle"),weight:this.getOption("title.fontWeight"),size:this.getOption("title.fontSize"),color:this.getOption("title.color")};t||r(n);var o={name:this.chartTranslationService.translate("title"),enabled:this.hasTitle(),suppressEnabledCheckbox:!1,initialFont:n,setFont:r,setEnabled:function(t){e.setOption("title.enabled",t);var r=e.getOption("title.text");t&&"Title"===r&&e.setOption("title.text",e.titlePlaceholder)}},i=this.createBean(new Sy(o));this.getGui().appendChild(i.getGui()),this.activePanels.push(i),this.addManagedListener(this.eventService,"chartTitleEdit",(function(){i.setEnabled(e.hasTitle())}))},t.prototype.getOption=function(e){return this.chartOptionsService.getChartOption(e)},t.prototype.setOption=function(e,t){this.chartOptionsService.setChartOption(e,t)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach((function(t){o._.removeFromParent(t.getGui()),e.destroyBean(t)}))},t.prototype.destroy=function(){this.destroyActivePanels(),e.prototype.destroy.call(this)},t.TEMPLATE="<div></div>",Vy([o.Autowired("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Vy([o.PostConstruct],t.prototype,"init",null),t}(o.Component),Uy=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Yy=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Xy=function(e){function t(t){var r=e.call(this)||this;return r.chartOptionsService=t,r.activePanels=[],r}return Uy(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{chartGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initGroup(),this.initTitles(),this.initPaddingPanel(),this.initBackgroundPanel()},t.prototype.initGroup=function(){this.chartGroup.setTitle(this.chartTranslationService.translate("chart")).toggleGroupExpand(!1).hideEnabledCheckbox(!0)},t.prototype.initTitles=function(){var e=this.createBean(new zy(this.chartOptionsService));this.chartGroup.addItem(e),this.activePanels.push(e)},t.prototype.initPaddingPanel=function(){var e=this.createBean(new Gy(this.chartOptionsService));this.chartGroup.addItem(e),this.activePanels.push(e)},t.prototype.initBackgroundPanel=function(){var e=this.createBean(new Hy(this.chartOptionsService));this.chartGroup.addItem(e),this.activePanels.push(e)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach((function(t){o._.removeFromParent(t.getGui()),e.destroyBean(t)}))},t.prototype.destroy=function(){this.destroyActivePanels(),e.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="chartGroup"></ag-group-component>\n        </div>',Yy([o.RefSelector("chartGroup")],t.prototype,"chartGroup",void 0),Yy([o.Autowired("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Yy([o.PostConstruct],t.prototype,"init",null),t}(o.Component),Ky=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),qy=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},$y=function(e){function t(t,r){var n=e.call(this)||this;return n.chartOptionsService=t,n.getSelectedSeries=r,n}return Ky(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{shadowGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.shadowBlurSlider.setTextFieldWidth(45),this.shadowXOffsetSlider.setTextFieldWidth(45),this.shadowYOffsetSlider.setTextFieldWidth(45),this.initSeriesShadow()},t.prototype.initSeriesShadow=function(){var e=this;this.shadowGroup.setTitle(this.chartTranslationService.translate("shadow")).setEnabled(this.chartOptionsService.getSeriesOption("shadow.enabled",this.getSelectedSeries())).hideOpenCloseIcons(!0).hideEnabledCheckbox(!1).onEnableChange((function(t){return e.chartOptionsService.setSeriesOption("shadow.enabled",t,e.getSelectedSeries())})),this.shadowColorPicker.setLabel(this.chartTranslationService.translate("color")).setLabelWidth("flex").setInputWidth(45).setValue(this.chartOptionsService.getSeriesOption("shadow.color",this.getSelectedSeries())).onValueChange((function(t){return e.chartOptionsService.setSeriesOption("shadow.color",t,e.getSelectedSeries())}));var t=function(t,r,n,o){var i=e.chartOptionsService.getSeriesOption("shadow."+r,e.getSelectedSeries());t.setLabel(e.chartTranslationService.translate(r)).setMinValue(n).setMaxValue(lv(i,o)).setValue(""+i).onValueChange((function(t){return e.chartOptionsService.setSeriesOption("shadow."+r,t,e.getSelectedSeries())}))};t(this.shadowBlurSlider,"blur",0,20),t(this.shadowXOffsetSlider,"xOffset",-10,10),t(this.shadowYOffsetSlider,"yOffset",-10,10)},t.TEMPLATE='<div>\n            <ag-group-component ref="shadowGroup">\n                <ag-color-picker ref="shadowColorPicker"></ag-color-picker>\n                <ag-slider ref="shadowBlurSlider"></ag-slider>\n                <ag-slider ref="shadowXOffsetSlider"></ag-slider>\n                <ag-slider ref="shadowYOffsetSlider"></ag-slider>\n            </ag-group-component>\n        </div>',qy([o.RefSelector("shadowGroup")],t.prototype,"shadowGroup",void 0),qy([o.RefSelector("shadowColorPicker")],t.prototype,"shadowColorPicker",void 0),qy([o.RefSelector("shadowBlurSlider")],t.prototype,"shadowBlurSlider",void 0),qy([o.RefSelector("shadowXOffsetSlider")],t.prototype,"shadowXOffsetSlider",void 0),qy([o.RefSelector("shadowYOffsetSlider")],t.prototype,"shadowYOffsetSlider",void 0),qy([o.Autowired("chartTranslationService")],t.prototype,"chartTranslationService",void 0),qy([o.PostConstruct],t.prototype,"init",null),t}(o.Component);var Zy=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Qy=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Jy=function(e){function t(t,r){var n=e.call(this)||this;return n.chartOptionsService=t,n.getSelectedSeries=r,n}return Zy(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{seriesMarkersGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical"}}),this.initMarkers()},t.prototype.initMarkers=function(){var e=this;this.seriesMarkerShapeSelect.addOptions([{value:"square",text:"Square"},{value:"circle",text:"Circle"},{value:"cross",text:"Cross"},{value:"diamond",text:"Diamond"},{value:"plus",text:"Plus"},{value:"triangle",text:"Triangle"},{value:"heart",text:"Heart"}]).setLabel(this.chartTranslationService.translate("shape")).setValue(this.getSeriesOption("marker.shape")).onValueChange((function(t){return e.setSeriesOption("marker.shape",t)}));var t=this.chartOptionsService.getChartType(),r=o._.includes(["scatter","bubble"],t);this.seriesMarkersGroup.setTitle(this.chartTranslationService.translate("markers")).hideEnabledCheckbox(r).setEnabled(this.getSeriesOption("marker.enabled")||!1).hideOpenCloseIcons(!0).onEnableChange((function(t){return e.setSeriesOption("marker.enabled",t)}));var n=function(t,r,n,o){var i=e.getSeriesOption(t);r.setLabel(e.chartTranslationService.translate(n)).setMaxValue(lv(i,o)).setValue(""+i).setTextFieldWidth(45).onValueChange((function(r){return e.setSeriesOption(t,r)}))};"bubble"===t?(n("marker.maxSize",this.seriesMarkerMinSizeSlider,"maxSize",60),n("marker.size",this.seriesMarkerSizeSlider,"minSize",60)):(this.seriesMarkerMinSizeSlider.setDisplayed(!1),n("marker.size",this.seriesMarkerSizeSlider,"size",60)),n("marker.strokeWidth",this.seriesMarkerStrokeWidthSlider,"strokeWidth",10)},t.prototype.getSeriesOption=function(e){return this.chartOptionsService.getSeriesOption(e,this.getSelectedSeries())},t.prototype.setSeriesOption=function(e,t){this.chartOptionsService.setSeriesOption(e,t,this.getSelectedSeries())},t.TEMPLATE='<div>\n            <ag-group-component ref="seriesMarkersGroup">\n                <ag-select ref="seriesMarkerShapeSelect"></ag-select>\n                <ag-slider ref="seriesMarkerMinSizeSlider"></ag-slider>\n                <ag-slider ref="seriesMarkerSizeSlider"></ag-slider>\n                <ag-slider ref="seriesMarkerStrokeWidthSlider"></ag-slider>\n            </ag-group-component>\n        </div>',Qy([o.RefSelector("seriesMarkersGroup")],t.prototype,"seriesMarkersGroup",void 0),Qy([o.RefSelector("seriesMarkerShapeSelect")],t.prototype,"seriesMarkerShapeSelect",void 0),Qy([o.RefSelector("seriesMarkerSizeSlider")],t.prototype,"seriesMarkerSizeSlider",void 0),Qy([o.RefSelector("seriesMarkerMinSizeSlider")],t.prototype,"seriesMarkerMinSizeSlider",void 0),Qy([o.RefSelector("seriesMarkerStrokeWidthSlider")],t.prototype,"seriesMarkerStrokeWidthSlider",void 0),Qy([o.Autowired("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Qy([o.PostConstruct],t.prototype,"init",null),t}(o.Component),ev=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),tv=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},rv=function(e){function t(t,r){var n=e.call(this)||this;return n.chartOptionsService=t,n.getSelectedSeries=r,n}return ev(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{calloutGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical"}}),this.initCalloutOptions()},t.prototype.initCalloutOptions=function(){var e=this;this.calloutGroup.setTitle(this.chartTranslationService.translate("callout")).setEnabled(!0).hideOpenCloseIcons(!0).hideEnabledCheckbox(!0);var t=function(t,r,n,o){var i=e.chartOptionsService.getSeriesOption(t,e.getSelectedSeries());r.setLabel(e.chartTranslationService.translate(n)).setMaxValue(lv(i,o)).setValue(""+i).setTextFieldWidth(45).onValueChange((function(r){return e.chartOptionsService.setSeriesOption(t,r,e.getSelectedSeries())}))};t("callout.length",this.calloutLengthSlider,"length",40),t("callout.strokeWidth",this.calloutStrokeWidthSlider,"strokeWidth",10),t("label.offset",this.labelOffsetSlider,"offset",30)},t.TEMPLATE='<div>\n            <ag-group-component ref="calloutGroup">\n                <ag-slider ref="calloutLengthSlider"></ag-slider>\n                <ag-slider ref="calloutStrokeWidthSlider"></ag-slider>\n                <ag-slider ref="labelOffsetSlider"></ag-slider>\n            </ag-group-component>\n        </div>',tv([o.RefSelector("calloutGroup")],t.prototype,"calloutGroup",void 0),tv([o.RefSelector("calloutLengthSlider")],t.prototype,"calloutLengthSlider",void 0),tv([o.RefSelector("calloutStrokeWidthSlider")],t.prototype,"calloutStrokeWidthSlider",void 0),tv([o.RefSelector("labelOffsetSlider")],t.prototype,"labelOffsetSlider",void 0),tv([o.Autowired("chartTranslationService")],t.prototype,"chartTranslationService",void 0),tv([o.PostConstruct],t.prototype,"init",null),t}(o.Component),nv=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ov=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},iv=function(e){function t(t,r,n){var o=e.call(this)||this;return o.chartController=t,o.chartOptionsService=r,o.activePanels=[],o.widgetFuncs={lineWidth:function(){return o.initLineWidth()},strokeWidth:function(){return o.initStrokeWidth()},lineDash:function(){return o.initLineDash()},lineOpacity:function(){return o.initLineOpacity()},fillOpacity:function(){return o.initFillOpacity()},markers:function(){return o.initMarkers()},labels:function(){return o.initLabels()},shadow:function(){return o.initShadow()},tooltips:function(){return o.initTooltips()},bins:function(){return o.initBins()}},o.seriesWidgetMappings={area:["tooltips","lineWidth","lineDash","lineOpacity","fillOpacity","markers","labels","shadow"],bar:["tooltips","strokeWidth","lineDash","lineOpacity","fillOpacity","labels","shadow"],column:["tooltips","strokeWidth","lineDash","lineOpacity","fillOpacity","labels","shadow"],line:["tooltips","lineWidth","lineDash","lineOpacity","markers","labels"],histogram:["tooltips","bins","strokeWidth","lineDash","lineOpacity","fillOpacity","labels","shadow"],scatter:["tooltips","markers","labels"],pie:["tooltips","strokeWidth","lineOpacity","fillOpacity","labels","shadow"]},o.seriesType=n||o.getChartSeriesType(),o}return nv(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{seriesGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.seriesGroup.setTitle(this.translate("series")).toggleGroupExpand(!1).hideEnabledCheckbox(!0),this.addManagedListener(this.chartController,fy.EVENT_CHART_SERIES_CHART_TYPE_CHANGED,this.refreshWidgets.bind(this)),this.refreshWidgets()},t.prototype.refreshWidgets=function(){var e=this;this.destroyActivePanels(),this.chartController.isComboChart()&&(this.updateSeriesType(),this.initSeriesSelect()),this.seriesWidgetMappings[this.seriesType].forEach((function(t){return e.widgetFuncs[t]()}))},t.prototype.initSeriesSelect=function(){var e=this,t=this.seriesGroup.createManagedBean(new o.AgSelect);t.setLabel(this.translate("seriesType")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth(100).addOptions(this.getSeriesSelectOptions()).setValue(""+this.seriesType).onValueChange((function(t){e.seriesType=t,e.refreshWidgets()})),this.seriesGroup.addItem(t),this.activePanels.push(t)},t.prototype.initTooltips=function(){var e=this,t=this.createBean(new o.AgToggleButton);t.setLabel(this.translate("tooltips")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth(45).setValue(this.getSeriesOption("tooltip.enabled")||!1).onValueChange((function(t){return e.setSeriesOption("tooltip.enabled",t)})),this.addWidget(t)},t.prototype.initStrokeWidth=function(){var e=this,t=this.getSeriesOption("strokeWidth"),r=this.createBean(new o.AgSlider);r.setLabel(this.translate("strokeWidth")).setMaxValue(lv(t,10)).setTextFieldWidth(45).setValue(""+t).onValueChange((function(t){return e.setSeriesOption("strokeWidth",t)})),this.addWidget(r)},t.prototype.initLineWidth=function(){var e=this,t=this.getSeriesOption("strokeWidth"),r=this.createBean(new o.AgSlider);r.setLabel(this.translate("lineWidth")).setMaxValue(lv(t,10)).setTextFieldWidth(45).setValue(""+t).onValueChange((function(t){return e.setSeriesOption("strokeWidth",t)})),this.addWidget(r)},t.prototype.initLineDash=function(){var e=this,t=this.getSeriesOption("lineDash"),r=t?t[0]:0,n=this.createBean(new o.AgSlider);n.setLabel(this.translate("lineDash")).setMaxValue(lv(r,30)).setTextFieldWidth(45).setValue(""+r).onValueChange((function(t){return e.setSeriesOption("lineDash",[t])})),this.addWidget(n)},t.prototype.initLineOpacity=function(){var e=this,t=this.getSeriesOption("strokeOpacity"),r=this.createBean(new o.AgSlider);r.setLabel(this.translate("strokeOpacity")).setStep(.05).setMaxValue(lv(t,1)).setTextFieldWidth(45).setValue(""+t).onValueChange((function(t){return e.setSeriesOption("strokeOpacity",t)})),this.addWidget(r)},t.prototype.initFillOpacity=function(){var e=this,t=this.getSeriesOption("fillOpacity"),r=this.createBean(new o.AgSlider);r.setLabel(this.translate("fillOpacity")).setStep(.05).setMaxValue(lv(t,1)).setTextFieldWidth(45).setValue(""+t).onValueChange((function(t){return e.setSeriesOption("fillOpacity",t)})),this.addWidget(r)},t.prototype.initLabels=function(){var e=this,t=function(e,t,r){var n={family:t.getSeriesOption("label.fontFamily",r()),style:t.getSeriesOption("label.fontStyle",r()),weight:t.getSeriesOption("label.fontWeight",r()),size:t.getSeriesOption("label.fontSize",r()),color:t.getSeriesOption("label.color",r())},o={name:e.translate("labels"),enabled:t.getSeriesOption("label.enabled",r())||!1,setEnabled:function(e){return t.setSeriesOption("label.enabled",e,r())},suppressEnabledCheckbox:!1,initialFont:n,setFont:function(e){e.family&&t.setSeriesOption("label.fontFamily",e.family,r()),e.weight&&t.setSeriesOption("label.fontWeight",e.weight,r()),e.style&&t.setSeriesOption("label.fontStyle",e.style,r()),e.size&&t.setSeriesOption("label.fontSize",e.size,r()),e.color&&t.setSeriesOption("label.color",e.color,r())}};return o}(this.chartTranslationService,this.chartOptionsService,(function(){return e.seriesType})),r=this.createBean(new Sy(t));if("pie"===this.seriesType){var n=this.createBean(new rv(this.chartOptionsService,(function(){return e.seriesType})));r.addCompToPanel(n),this.activePanels.push(n)}this.addWidget(r)},t.prototype.initShadow=function(){var e=this,t=this.createBean(new $y(this.chartOptionsService,(function(){return e.seriesType})));this.addWidget(t)},t.prototype.initMarkers=function(){var e=this,t=this.createBean(new Jy(this.chartOptionsService,(function(){return e.seriesType})));this.addWidget(t)},t.prototype.initBins=function(){var e=this,t=this.getSeriesOption("binCount"),r=this.createBean(new o.AgSlider);r.setLabel(this.translate("histogramBinCount")).setMinValue(4).setMaxValue(lv(t,100)).setTextFieldWidth(45).setValue(""+t).onValueChange((function(t){return e.setSeriesOption("binCount",t)})),this.addWidget(r)},t.prototype.addWidget=function(e){this.seriesGroup.addItem(e),this.activePanels.push(e)},t.prototype.getSeriesOption=function(e){return this.chartOptionsService.getSeriesOption(e,this.seriesType)},t.prototype.setSeriesOption=function(e,t){this.chartOptionsService.setSeriesOption(e,t,this.seriesType)},t.prototype.getChartSeriesType=function(){var e=this.chartController.getSeriesChartTypes()[0].chartType;return"columnLineCombo"===e?"column":"areaColumnCombo"===e?"area":py(e)},t.prototype.getSeriesSelectOptions=function(){var e=this;this.seriesSelectOptions||(this.seriesSelectOptions=new Map([["area",{value:"area",text:this.translate("area","Area")}],["bar",{value:"bar",text:this.translate("bar","Bar")}],["column",{value:"column",text:this.translate("column","Column")}],["line",{value:"line",text:this.translate("line","Line")}],["scatter",{value:"scatter",text:this.translate("scatter","Scatter")}],["histogram",{value:"histogram",text:this.translate("histogram","Histogram")}],["pie",{value:"pie",text:this.translate("pie","Pie")}]]));var t=new Set;return this.chartController.getActiveSeriesChartTypes().forEach((function(r){var n=py(r.chartType);t.add(e.seriesSelectOptions.get(n))})),Array.from(t)},t.prototype.updateSeriesType=function(){var e=this.chartController.getActiveSeriesChartTypes().map((function(e){return py(e.chartType)}));!e.includes(this.seriesType)&&e.length>0&&(this.seriesType=e[0])},t.prototype.translate=function(e,t){return this.chartTranslationService.translate(e,t)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach((function(t){o._.removeFromParent(t.getGui()),e.destroyBean(t)}))},t.prototype.destroy=function(){this.destroyActivePanels(),e.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="seriesGroup">                \n            </ag-group-component>\n        </div>',ov([o.RefSelector("seriesGroup")],t.prototype,"seriesGroup",void 0),ov([o.Autowired("chartTranslationService")],t.prototype,"chartTranslationService",void 0),ov([o.PostConstruct],t.prototype,"init",null),t}(o.Component),av=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),sv=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a};function lv(e,t){return Math.max(e,t)}var uv=function(e){function t(r,n){var o=e.call(this,t.TEMPLATE)||this;return o.chartController=r,o.chartOptionsService=n,o.panels=[],o}return av(t,e),t.prototype.init=function(){this.createPanels(),this.addManagedListener(this.chartController,fy.EVENT_CHART_UPDATED,this.createPanels.bind(this))},t.prototype.createPanels=function(){var e=this.chartController.getChartType(),t=this.chartController.isGrouping();if(e!==this.chartType||t!==this.isGrouping){switch(this.destroyPanels(),this.addComponent(new Xy(this.chartOptionsService)),this.addComponent(new _y(this.chartOptionsService)),e){case"groupedColumn":case"stackedColumn":case"normalizedColumn":this.addComponent(new My(this.chartController,this.chartOptionsService)),this.addComponent(new iv(this.chartController,this.chartOptionsService,"column")),this.addComponent(new Iy(this.chartOptionsService));break;case"groupedBar":case"stackedBar":case"normalizedBar":this.addComponent(new My(this.chartController,this.chartOptionsService)),this.addComponent(new iv(this.chartController,this.chartOptionsService,"bar")),this.addComponent(new Iy(this.chartOptionsService));break;case"pie":case"doughnut":this.addComponent(new iv(this.chartController,this.chartOptionsService,"pie"));break;case"line":this.addComponent(new My(this.chartController,this.chartOptionsService)),this.addComponent(new iv(this.chartController,this.chartOptionsService,"line")),this.addComponent(new Iy(this.chartOptionsService));break;case"scatter":case"bubble":this.addComponent(new My(this.chartController,this.chartOptionsService)),this.addComponent(new iv(this.chartController,this.chartOptionsService,"scatter")),this.addComponent(new Iy(this.chartOptionsService));break;case"area":case"stackedArea":case"normalizedArea":this.addComponent(new My(this.chartController,this.chartOptionsService)),this.addComponent(new iv(this.chartController,this.chartOptionsService,"area")),this.addComponent(new Iy(this.chartOptionsService));break;case"histogram":this.addComponent(new My(this.chartController,this.chartOptionsService)),this.addComponent(new iv(this.chartController,this.chartOptionsService,"histogram")),this.addComponent(new Iy(this.chartOptionsService));break;case"columnLineCombo":case"areaColumnCombo":case"customCombo":this.addComponent(new My(this.chartController,this.chartOptionsService)),this.addComponent(new iv(this.chartController,this.chartOptionsService)),this.addComponent(new Iy(this.chartOptionsService));break;default:console.warn("AG Grid: ChartFormattingPanel - unexpected chart type index: "+e+" supplied")}this.chartType=e,this.isGrouping=t}},t.prototype.addComponent=function(e){this.createBean(e),this.panels.push(e),e.addCssClass("ag-chart-format-section"),this.getGui().appendChild(e.getGui())},t.prototype.destroyPanels=function(){var e=this;this.panels.forEach((function(t){o._.removeFromParent(t.getGui()),e.destroyBean(t)}))},t.prototype.destroy=function(){this.destroyPanels(),e.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-chart-format-wrapper"></div>',sv([o.PostConstruct],t.prototype,"init",null),t}(o.Component),cv=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),pv=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},dv=function(e){function t(t,r){var n=e.call(this)||this;n.size=58,n.padding=5,n.root=new mu;var o=new fp(window.document,n.size,n.size);return o.canvas.element.classList.add("ag-chart-mini-thumbnail-canvas"),o.root=n.root,o.container=t,n.scene=o,n.tooltipName=r,n}return cv(t,e),t.prototype.init=function(){this.scene.canvas.element.title=this.chartTranslationService.translate(this.tooltipName)},pv([o.Autowired("chartTranslationService")],t.prototype,"chartTranslationService",void 0),pv([o.PostConstruct],t.prototype,"init",null),t}(o.Component),hv=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),fv=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},gv=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.stroke="gray",n.axisOvershoot=3,n}return hv(t,e),t.prototype.addAxes=function(){var e=this.size,t=this.padding,r=new xu;r.x1=t,r.y1=t,r.x2=t,r.y2=e-t+this.axisOvershoot,r.stroke=this.stroke;var n=new xu;n.x1=t-this.axisOvershoot+1,n.y1=e-t,n.x2=e-t+1,n.y2=e-t,n.stroke=this.stroke;var o=this.root;o.append(r),o.append(n)},fv([o.PostConstruct],t.prototype,"addAxes",null),t}(dv);function yv(e){var t=e.stacked,r=e.size,n=e.padding,o=e.xScalePadding,i=e.xScaleDomain,a=e.yScaleDomain,s=new nc;s.domain=i,s.range=[n,r-n],s.paddingInner=o,s.paddingOuter=o;var l=new su;l.domain=a,l.range=[r-n,n];var u=function(e,t,r){return e.map((function(e,n){var o=r.convert(e),i=new bp;return i.x=t.convert(n),i.y=o,i.width=t.bandwidth,i.height=r.convert(0)-o,i.strokeWidth=1,i.crisp=!0,i}))};return t?e.data.map((function(e){return u(e,s,l)})):u(e.data,s,l)}function vv(e,t,r,n){var o=new su;o.domain=[0,4],o.range=[n,r-n];var i=new su;i.domain=[0,10],i.range=[r-n,n];var a=t.map((function(e){var t=new Tu;return t.strokeWidth=3,t.lineCap="round",t.fill=void 0,e.forEach((function(e,r){t.path[r>0?"lineTo":"moveTo"](o.convert(r),i.convert(e))})),t})),s=new od;return s.x=s.y=n,s.width=s.height=r-2*n,s.append(a),e.append(s),a}var mv=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),bv=function(e){function t(t,r,n){var o=e.call(this,t,"groupedColumnTooltip")||this;o.columnData=[2,3,4];var i=o,a=i.root,s=i.columnData,l=i.size,u=i.padding;return o.columns=yv({stacked:!1,root:a,data:s,size:l,padding:u,xScaleDomain:[0,1,2],yScaleDomain:[0,4],xScalePadding:.3}),a.append(o.columns),o.updateColors(r,n),o}return mv(t,e),t.prototype.updateColors=function(e,t){this.columns.forEach((function(r,n){r.fill=e[n],r.stroke=t[n]}))},t.chartType="groupedColumn",t}(gv),Cv=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),wv=function(e){function t(r,n,o,i,a,s){void 0===i&&(i=t.data),void 0===a&&(a=[0,16]),void 0===s&&(s="stackedColumnTooltip");var l=e.call(this,r,s)||this,u=l,c=u.root,p=u.size,d=u.padding;return l.stackedColumns=yv({stacked:!0,root:c,data:i,size:p,padding:d,xScaleDomain:[0,1,2],yScaleDomain:a,xScalePadding:.3}),c.append([].concat.apply([],l.stackedColumns)),l.updateColors(n,o),l}return Cv(t,e),t.prototype.updateColors=function(e,t){this.stackedColumns.forEach((function(r,n){return r.forEach((function(r){r.fill=e[n],r.stroke=t[n]}))}))},t.chartType="stackedColumn",t.data=[[8,12,16],[6,9,12],[2,3,4]],t}(gv),xv=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Sv=function(e){function t(r,n,o){return e.call(this,r,n,o,t.data,[0,10],"normalizedColumnTooltip")||this}return xv(t,e),t.chartType="normalizedColumn",t.data=[[10,10,10],[6,7,8],[2,4,6]],t}(wv),Ev=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ov=function(e){function t(t,r,n){var o=e.call(this,t,"groupedBarTooltip")||this,i=o.padding,a=o.size,s=new nc;s.domain=[0,1,2],s.range=[i,a-i],s.paddingInner=.3,s.paddingOuter=.3;var l=new su;l.domain=[0,4],l.range=[a-i,i];var u=l.convert(0),c=s.bandwidth;return o.bars=[2,3,4].map((function(e,t){var r=new bp;return r.x=i,r.y=s.convert(t),r.width=u-l.convert(e),r.height=c,r.strokeWidth=1,r.crisp=!0,r})),o.updateColors(r,n),o.root.append(o.bars),o}return Ev(t,e),t.prototype.updateColors=function(e,t){this.bars.forEach((function(r,n){r.fill=e[n],r.stroke=t[n]}))},t.chartType="groupedBar",t}(gv),_v=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Pv=function(e){function t(r,n,o,i,a,s){void 0===i&&(i=t.data),void 0===a&&(a=[0,16]),void 0===s&&(s="stackedBarTooltip");var l=e.call(this,r,s)||this,u=l.size,c=l.padding,p=new nc;p.domain=[0,1,2],p.range=[c,u-c],p.paddingInner=.3,p.paddingOuter=.3;var d=new su;d.domain=a,d.range=[u-c,c];var h=d.convert(0),f=p.bandwidth;return l.bars=i.map((function(e){return e.map((function(e,t){var r=new bp;return r.x=c,r.y=p.convert(t),r.width=h-d.convert(e),r.height=f,r.strokeWidth=1,r.crisp=!0,r}))})),l.updateColors(n,o),l.root.append([].concat.apply([],l.bars)),l}return _v(t,e),t.prototype.updateColors=function(e,t){this.bars.forEach((function(r,n){return r.forEach((function(r){r.fill=e[n],r.stroke=t[n]}))}))},t.chartType="stackedBar",t.data=[[8,12,16],[6,9,12],[2,3,4]],t}(gv),Rv=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Av=function(e){function t(r,n,o){return e.call(this,r,n,o,t.data,[0,10],"normalizedBarTooltip")||this}return Rv(t,e),t.chartType="normalizedBar",t.data=[[10,10,10],[6,7,8],[2,4,6]],t}(Pv),Tv=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Dv=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},Mv=function(e){function t(t,r,n,o,i){void 0===o&&(o=.6),void 0===i&&(i="doughnutTooltip");var a=e.call(this,t,i)||this,s=(a.size-2*a.padding)/2,l=s+a.padding,u=[[ku(-90),ku(30)],[ku(30),ku(120)],[ku(120),ku(180)],[ku(180),ku(210)],[ku(210),ku(240)],[ku(240),ku(270)]];return a.sectors=u.map((function(e){var t=Dv(e,2),r=t[0],n=t[1],i=new sf;return i.centerX=l,i.centerY=l,i.innerRadius=s*o,i.outerRadius=s,i.startAngle=r,i.endAngle=n,i.stroke=void 0,i.strokeWidth=1,i})),a.updateColors(r,n),a.root.append(a.sectors),a}return Tv(t,e),t.prototype.updateColors=function(e,t){this.sectors.forEach((function(r,n){r.fill=e[n%e.length],r.stroke=t[n%t.length]}))},t.chartType="doughnut",t}(dv),kv=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Nv=function(e){function t(t,r,n){return e.call(this,t,r,n,0,"pieTooltip")||this}return kv(t,e),t.chartType="pie",t}(Mv),Iv=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Lv=function(e){function t(t,r,n){var o=e.call(this,t,"lineTooltip")||this;return o.data=[[9,7,8,5,6],[5,6,3,4,1],[1,3,4,8,7]],o.lines=vv(o.root,o.data,o.size,o.padding),o.updateColors(r,n),o}return Iv(t,e),t.prototype.updateColors=function(e,t){this.lines.forEach((function(t,r){t.stroke=e[r]}))},t.chartType="line",t}(gv),Fv=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Gv=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},Bv=function(e){function t(t,r,n){var o=e.call(this,t,"scatterTooltip")||this,i=o.size,a=o.padding,s=new su;s.domain=[-.5,4],s.range=[2*a,i-a];var l=new su;l.domain=[-.5,3.5],l.range=[i-a,a];var u=[];[[[.3,3],[1.1,.9],[2,.4],[3.4,2.4]],[[0,.3],[1,2],[2.4,1.4],[3,0]]].forEach((function(e){e.forEach((function(e){var t=Gv(e,2),r=t[0],n=t[1],o=new Gu;o.strokeWidth=1,o.centerX=s.convert(r),o.centerY=l.convert(n),o.radiusX=o.radiusY=2.5,u.push(o)}))})),o.points=u,o.updateColors(r,n);var c=new od;return c.x=c.y=a,c.width=c.height=i-2*a,c.append(o.points),o.root.append(c),o}return Fv(t,e),t.prototype.updateColors=function(e,t){this.points.forEach((function(r,n){r.stroke=t[n%t.length],r.fill=e[n%e.length]}))},t.chartType="scatter",t}(gv),Wv=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Hv=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},jv=function(e){function t(t,r,n){var o=e.call(this,t,"bubbleTooltip")||this,i=o.size,a=o.padding,s=new su;s.domain=[0,1],s.range=[2*a,i-a];var l=new su;l.domain=[0,1],l.range=[i-a,a];var u=[];[[[.1,.3,5],[.5,.4,7],[.2,.8,7]],[[.8,.7,5],[.7,.3,9]]].forEach((function(e){e.forEach((function(e){var t=Hv(e,3),r=t[0],n=t[1],o=t[2],i=new Gu;i.strokeWidth=1,i.centerX=s.convert(r),i.centerY=l.convert(n),i.radiusX=i.radiusY=o,i.fillOpacity=.7,u.push(i)}))})),o.points=u,o.updateColors(r,n);var c=new od;return c.x=a,c.y=a,c.width=i-2*a,c.height=i-2*a,c.append(o.points),o.root.append(c),o}return Wv(t,e),t.prototype.updateColors=function(e,t){this.points.forEach((function(r,n){r.stroke=t[n%t.length],r.fill=e[n%e.length]}))},t.chartType="bubble",t}(gv),Vv=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),zv=function(e){function t(r,n,o,i){void 0===i&&(i=t.data);var a=e.call(this,r,"groupedAreaTooltip")||this,s=a.size,l=a.padding,u=new nc;u.domain=[0,1,2],u.paddingInner=1,u.paddingOuter=0,u.range=[l+.5,s-l-.5];var c=new su;c.domain=[0,6],c.range=[s-l+.5,l];var p=2*i.length-1,d=[],h=c.convert(0);return i.forEach((function(e,t){var r=u.convert(t);e.forEach((function(e,n){var o=c.convert(e),i=d[n]||(d[n]=[]);i[t]={x:r,y:o},i[p-t]={x:r,y:h}}))})),a.areas=d.reverse().map((function(e){var t=new Tu;t.strokeWidth=1,t.fillOpacity=.7;var r=t.path;return r.clear(),e.forEach((function(e,t){return r[t>0?"lineTo":"moveTo"](e.x,e.y)})),r.closePath(),t})),a.updateColors(n,o),a.root.append(a.areas),a}return Vv(t,e),t.prototype.updateColors=function(e,t){this.areas.forEach((function(r,n){r.fill=e[n],r.stroke=t[n]}))},t.chartType="area",t.data=[[1,3,5],[2,6,4],[5,3,1]],t}(gv),Uv=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Yv=function(e){function t(r,n,o,i,a){void 0===i&&(i=t.data),void 0===a&&(a="stackedAreaTooltip");var s=e.call(this,r,a)||this,l=s.size,u=s.padding,c=new nc;c.domain=[0,1,2],c.paddingInner=1,c.paddingOuter=0,c.range=[u+.5,l-u-.5];var p=new su;p.domain=[0,16],p.range=[l-u+.5,u+.5];var d=2*i.length-1,h=[];return i.forEach((function(e,t){var r=c.convert(t),n=0;e.forEach((function(e,o){var i=p.convert(n+e),a=h[o]||(h[o]=[]);a[t]={x:r,y:i},a[d-t]={x:r,y:p.convert(n)},n+=e}))})),s.areas=h.map((function(e){var t=new Tu;t.strokeWidth=1;var r=t.path;return r.clear(),e.forEach((function(e,t){return r[t>0?"lineTo":"moveTo"](e.x,e.y)})),r.closePath(),t})),s.updateColors(n,o),s.root.append(s.areas),s}return Uv(t,e),t.prototype.updateColors=function(e,t){this.areas.forEach((function(r,n){r.fill=e[n],r.stroke=t[n]}))},t.chartType="stackedArea",t.data=[[2,3,2],[3,6,5],[6,2,2]],t}(gv),Xv=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Kv=function(e){function t(r,n,o,i){return void 0===i&&(i=t.data),e.call(this,r,n,o,i,"normalizedAreaTooltip")||this}return Xv(t,e),t.chartType="normalizedArea",t.data=Yv.data.map((function(e){var t=e.reduce((function(e,t){return e+t}),0);return e.map((function(e){return e/t*16}))})),t}(Yv),qv=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),$v=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},Zv=function(e){function t(t,r,n){var o=e.call(this,t,"histogramTooltip")||this,i=o.padding,a=o.size,s=[2,5,11,13,10,6,1],l=new su;l.domain=[0,s.length],l.range=[i,a-i];var u=new su;u.domain=[0,s.reduce((function(e,t){return Math.max(e,t)}),0)],u.range=[a-i,i];var c=u.convert(0);return o.bars=s.map((function(e,t){var r=u.convert(e),n=l.convert(t),o=l.convert(t+1),i=new bp;return i.x=n,i.y=r,i.width=o-n,i.height=c-r,i.strokeWidth=1,i.crisp=!0,i})),o.updateColors(r,n),o.root.append(o.bars),o}return qv(t,e),t.prototype.updateColors=function(e,t){var r=$v(e,1)[0],n=$v(t,1)[0];this.bars.forEach((function(e){e.fill=r,e.stroke=n}))},t.chartType="histogram",t}(gv),Qv=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Jv=function(e){function t(t,r,n){var o=e.call(this,t,"columnLineComboTooltip")||this;o.columnData=[3,4],o.lineData=[[5,4,6,5,4]];var i=o,a=i.root,s=i.columnData,l=i.lineData,u=i.size,c=i.padding;return o.columns=yv({stacked:!1,root:a,data:s,size:u,padding:c,xScaleDomain:[0,1],yScaleDomain:[0,4],xScalePadding:.5}),a.append(o.columns),o.lines=vv(a,l,u,c),o.updateColors(r,n),o}return Qv(t,e),t.prototype.updateColors=function(e,t){this.columns.forEach((function(r,n){r.fill=e[n],r.stroke=t[n]})),this.lines.forEach((function(t,r){t.stroke=e[r+2]}))},t.chartType="columnLineCombo",t}(gv),em=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),tm=function(e){function t(t,r,n){var o=e.call(this,t,"areaColumnComboTooltip")||this;o.columnData=[3,4.5],o.areaData=[[5,4,6,5,4]];var i=o,a=i.root,s=i.columnData,l=i.areaData,u=i.size,c=i.padding;o.columns=yv({stacked:!1,root:a,data:s,size:u,padding:c,xScaleDomain:[0,1],yScaleDomain:[0,6],xScalePadding:.5});var p=new nc;p.range=[c,u-c],p.domain=[0,1,2,3,4],p.paddingInner=1,p.paddingOuter=0;var d=new su;d.range=[u-c,c],d.domain=[0,6];var h=[],f=d.convert(0),g=p.convert(0);return l.forEach((function(e,t){var r=h[t]||(h[t]=[]);e.forEach((function(e,t){var n=e,o=t,i=p.convert(o),a=d.convert(n);r[t]={x:i,y:a}}));var n=p.convert(e.length-1);h[t].push({x:n,y:f},{x:g,y:f})})),o.areas=h.map((function(e){var t=new Tu;t.strokeWidth=1,t.fillOpacity=.8;var r=t.path;return e.forEach((function(e,t){return r[t>0?"lineTo":"moveTo"](e.x,e.y)})),t})),a.append(o.areas),a.append([].concat.apply([],o.columns)),o.updateColors(r,n),o}return em(t,e),t.prototype.updateColors=function(e,t){this.areas.forEach((function(r,n){r.fill=e[n],r.stroke=t[n]})),this.columns.forEach((function(r,n){r.fill=e[n+1],r.stroke=t[n+1]}))},t.chartType="areaColumnCombo",t}(gv),rm=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),nm=function(e){function t(t,r,n){var o=e.call(this,t,"customComboTooltip")||this;o.columnData=[3,4],o.lineData=[[5,4,6,5,4]];var i=o,a=i.root,s=i.columnData,l=i.lineData,u=i.size,c=i.padding;o.columns=yv({stacked:!1,root:a,data:s,size:u,padding:c,xScaleDomain:[0,1],yScaleDomain:[0,4],xScalePadding:.5}),a.append(o.columns),o.lines=vv(a,l,u,c);var p="grey",d=new xu;d.x1=c,d.y1=c,d.x2=c,d.y2=u-c+3,d.stroke=p;var h=new xu;h.x1=c-3+1,h.y1=u-c,h.x2=u-c+1,h.y2=u-c,h.stroke=p;var f=new Tu;return f.svgPath="M25.76,43.46l5.51,5.07M49.86,22a3.26,3.26,0,0,0-3-.59,6.78,6.78,0,0,0-3.35,2.14l-18,20.25-.08.09-2.42,8-.18.57,8.19-3.6,18-20.34a6.83,6.83,0,0,0,1.73-3.59A3.29,3.29,0,0,0,49.86,22Zm-8.1,3.5,5.58,5m-6.6-3.85,5.51,5.06",f.fill="whitesmoke",f.stroke="darkslategrey",f.strokeWidth=1,a.append([h,d,f]),o.updateColors(r,n),o}return rm(t,e),t.prototype.updateColors=function(e,t){this.columns.forEach((function(r,n){r.fill=e[n],r.stroke=t[n]})),this.lines.forEach((function(t,r){t.stroke=e[r+2]}))},t.chartType="customCombo",t}(dv),om=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),im=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},am=function(e){function t(r,n,o){var i=e.call(this,t.TEMPLATE)||this;return i.wrappers={},i.chartGroups={columnGroup:[bv,wv,Sv],barGroup:[Ov,Pv,Av],pieGroup:[Nv,Mv],lineGroup:[Lv],scatterGroup:[Bv,jv],areaGroup:[zv,Yv,Kv],histogramGroup:[Zv],combinationGroup:[Jv,tm,nm]},i.chartController=r,i.fills=n,i.strokes=o,i}return om(t,e),t.prototype.init=function(){var e=this;this.chartController.customComboExists()||(this.chartGroups.combinationGroup=this.chartGroups.combinationGroup.filter((function(e){return e!==nm})));var t=this.getGui();Object.keys(this.chartGroups).forEach((function(r){var n=e.chartGroups[r],i=e.createBean(new o.AgGroupComponent({title:e.chartTranslationService.translate(r),suppressEnabledCheckbox:!0,enabled:!0,suppressOpenCloseIcons:!0,cssIdentifier:"charts-settings",direction:"horizontal"}));n.forEach((function(t){var r=document.createElement("div");r.classList.add("ag-chart-mini-thumbnail"),e.addManagedListener(r,"click",(function(){e.chartController.setChartType(t.chartType),e.updateSelectedMiniChart()})),e.wrappers[t.chartType]=r,e.createBean(new t(r,e.fills,e.strokes)),i.addItem(r)})),t.appendChild(i.getGui())})),this.updateSelectedMiniChart()},t.prototype.updateSelectedMiniChart=function(){var e=this.chartController.getChartType();for(var t in this.wrappers){var r=t===e;this.wrappers[t].classList.toggle("ag-selected",r)}},t.TEMPLATE='<div class="ag-chart-settings-mini-wrapper"></div>',im([o.Autowired("chartTranslationService")],t.prototype,"chartTranslationService",void 0),im([o.PostConstruct],t.prototype,"init",null),t}(o.Component),sm=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),lm=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},um=function(e){function t(r){var n=e.call(this,t.TEMPLATE)||this;return n.miniCharts=[],n.cardItems=[],n.activePaletteIndex=0,n.palettes=[],n.themes=[],n.chartController=r,n}return sm(t,e),t.prototype.postConstruct=function(){var e=this;this.resetPalettes(),this.ePrevBtn.insertAdjacentElement("afterbegin",o._.createIconNoSpan("previous",this.gridOptionsWrapper)),this.eNextBtn.insertAdjacentElement("afterbegin",o._.createIconNoSpan("next",this.gridOptionsWrapper)),this.addManagedListener(this.ePrevBtn,"click",(function(){return e.setActivePalette(e.getPrev(),"left")})),this.addManagedListener(this.eNextBtn,"click",(function(){return e.setActivePalette(e.getNext(),"right")})),this.addManagedListener(this.chartController,fy.EVENT_CHART_TYPE_CHANGED,(function(){return e.resetPalettes(!0)})),this.scrollSelectedIntoView()},t.prototype.scrollSelectedIntoView=function(){var e=this;setTimeout((function(){var t=e.miniCharts.find((function(e){return!e.getGui().classList.contains("ag-hidden")})).getGui().querySelector(".ag-selected");t&&t.scrollIntoView({block:"nearest"})}),250)},t.prototype.resetPalettes=function(e){var t=this,r=this.chartController.getPalettes();o._.shallowCompare(r,this.palettes)&&!e||this.isAnimating||(this.palettes=r,this.themes=this.chartController.getThemes(),this.activePaletteIndex=this.themes.findIndex((function(e){return e===t.chartController.getChartThemeName()})),this.cardItems=[],o._.clearElement(this.eCardSelector),this.destroyMiniCharts(),this.palettes.forEach((function(e,r){var n=t.activePaletteIndex===r,o=e.fills,i=e.strokes,a=t.createBean(new am(t.chartController,o,i));t.miniCharts.push(a),t.eMiniChartsContainer.appendChild(a.getGui()),t.addCardLink(r),n?a.updateSelectedMiniChart():a.addCssClass("ag-hidden")})),this.eNavBar.classList.toggle("ag-hidden",this.palettes.length<=1),o._.radioCssClass(this.cardItems[this.activePaletteIndex],"ag-selected","ag-not-selected"))},t.prototype.addCardLink=function(e){var t=this,r=document.createElement("div");r.classList.add("ag-chart-settings-card-item"),this.addManagedListener(r,"click",(function(){t.setActivePalette(e,e<t.activePaletteIndex?"left":"right")})),this.eCardSelector.appendChild(r),this.cardItems.push(r)},t.prototype.getPrev=function(){var e=this.activePaletteIndex-1;return e<0&&(e=this.palettes.length-1),e},t.prototype.getNext=function(){var e=this.activePaletteIndex+1;return e>=this.palettes.length&&(e=0),e},t.prototype.setActivePalette=function(e,t){var r=this;if(!this.isAnimating&&this.activePaletteIndex!==e){o._.radioCssClass(this.cardItems[e],"ag-selected","ag-not-selected");var n=this.miniCharts[this.activePaletteIndex],i=n.getGui(),a=this.miniCharts[e],s=a.getGui();n.updateSelectedMiniChart(),a.updateSelectedMiniChart();var l="left"===t?-1:1,u=s.style.left=o._.getAbsoluteWidth(this.getGui())*l+"px";this.activePaletteIndex=e,this.isAnimating=!0;var c="ag-animating";a.removeCssClass("ag-hidden"),n.addCssClass(c),a.addCssClass(c),this.chartController.setChartThemeName(this.themes[e]),window.setTimeout((function(){i.style.left=-parseFloat(u)+"px",s.style.left="0px"}),0),window.setTimeout((function(){r.isAnimating=!1,n.removeCssClass(c),a.removeCssClass(c),n.addCssClass("ag-hidden")}),300)}},t.prototype.destroyMiniCharts=function(){o._.clearElement(this.eMiniChartsContainer),this.miniCharts=this.destroyBeans(this.miniCharts)},t.prototype.destroy=function(){this.destroyMiniCharts(),e.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-chart-settings-wrapper">\n            <div ref="eMiniChartsContainer" class="ag-chart-settings-mini-charts-container ag-scrollable-container"></div>\n            <div ref="eNavBar" class="ag-chart-settings-nav-bar">\n                <div ref="ePrevBtn" class="ag-chart-settings-prev">\n                    <button type="button" class="ag-chart-settings-prev-button"></button>\n                </div>\n                <div ref="eCardSelector" class="ag-chart-settings-card-selector"></div>\n                <div ref="eNextBtn" class="ag-chart-settings-next">\n                    <button type="button" class="ag-chart-settings-next-button"></button>\n                </div>\n            </div>\n        </div>',lm([o.Autowired("resizeObserverService")],t.prototype,"resizeObserverService",void 0),lm([o.RefSelector("eMiniChartsContainer")],t.prototype,"eMiniChartsContainer",void 0),lm([o.RefSelector("eNavBar")],t.prototype,"eNavBar",void 0),lm([o.RefSelector("eCardSelector")],t.prototype,"eCardSelector",void 0),lm([o.RefSelector("ePrevBtn")],t.prototype,"ePrevBtn",void 0),lm([o.RefSelector("eNextBtn")],t.prototype,"eNextBtn",void 0),lm([o.PostConstruct],t.prototype,"postConstruct",null),t}(o.Component),cm=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),pm=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},dm=function(e){function t(t){var r=e.call(this)||this;r.tabs=[];var n=t.controller,o=t.panels,i=t.chartOptionsService;return r.chartController=n,r.chartOptionsService=i,r.panels=o,r}return cm(t,e),t.prototype.init=function(){var e=this;this.panels.forEach((function(t){var r=t.replace("chart","").toLowerCase(),n=e.createTab(t,r,e.getPanelClass(r)),o=n.comp,i=n.tab;e.tabs.push(i),e.addDestroyFunc((function(){return e.destroyBean(o)}))})),this.tabbedLayout=new o.TabbedLayout({items:this.tabs,cssClass:"ag-chart-tabbed-menu",keepScrollPosition:!0}),this.getContext().createBean(this.tabbedLayout)},t.prototype.createTab=function(e,t,r){var n=document.createElement("div");n.classList.add("ag-chart-tab","ag-chart-"+t);var i=new r(this.chartController,this.chartOptionsService);this.getContext().createBean(i),n.appendChild(i.getGui());var a=document.createElement("div"),s=this.chartTranslationService.translate(t);return a.innerText=s,{comp:i,tab:{title:a,titleLabel:s,bodyPromise:o.AgPromise.resolve(n),getScrollableContainer:function(){return n.querySelector(".ag-scrollable-container")||n},name:e}}},t.prototype.showTab=function(e){var t=this.tabs[e];this.tabbedLayout.showItem(t)},t.prototype.getGui=function(){return this.tabbedLayout&&this.tabbedLayout.getGui()},t.prototype.destroy=function(){this.parentComponent&&this.parentComponent.isAlive()&&this.destroyBean(this.parentComponent),e.prototype.destroy.call(this)},t.prototype.getPanelClass=function(e){switch(e){case t.TAB_DATA:return Cy;case t.TAB_FORMAT:return uv;default:return um}},t.TAB_DATA="data",t.TAB_FORMAT="format",pm([o.Autowired("chartTranslationService")],t.prototype,"chartTranslationService",void 0),pm([o.PostConstruct],t.prototype,"init",null),t}(o.Component),hm=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),fm=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},gm=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},ym=function(e){function t(r,n,o,i){var a=e.call(this,t.TEMPLATE)||this;return a.eChartContainer=r,a.eMenuPanelContainer=n,a.chartController=o,a.chartOptionsService=i,a.buttons={chartSettings:["menu",function(){return a.showMenu("chartSettings")}],chartData:["menu",function(){return a.showMenu("chartData")}],chartFormat:["menu",function(){return a.showMenu("chartFormat")}],chartLink:["linked",function(e){return a.toggleDetached(e)}],chartUnlink:["unlinked",function(e){return a.toggleDetached(e)}],chartDownload:["save",function(){return a.saveChart()}]},a.tabs=[],a.menuVisible=!1,a}return hm(t,e),t.prototype.postConstruct=function(){this.createButtons(),this.refreshMenuClasses()},t.prototype.isVisible=function(){return this.menuVisible},t.prototype.getToolbarOptions=function(){var e=this,t=["chartSettings","chartData","chartFormat",this.chartController.isChartLinked()?"chartLink":"chartUnlink","chartDownload"],r=this.gridOptionsWrapper.getChartToolbarItemsFunc();r&&(t=r({defaultItems:t}).filter((function(t){return!!e.buttons[t]||(console.warn("AG Grid: '"+t+" is not a valid Chart Toolbar Option"),!1)})));this.chartController.isPivotChart()&&(t=t.filter((function(e){return"chartData"!==e})));var n=["chartUnlink","chartLink","chartDownload"];return this.tabs=t.filter((function(e){return-1===n.indexOf(e)})),t.filter((function(t){return-1!==n.indexOf(t)||e.tabs.length&&t===e.tabs[0]}))},t.prototype.toggleDetached=function(e){var t=e.target,r=t.classList.contains("ag-icon-linked");t.classList.toggle("ag-icon-linked",!r),t.classList.toggle("ag-icon-unlinked",r);var n=r?"chartUnlinkToolbarTooltip":"chartLinkToolbarTooltip",o=this.chartTranslationService.translate(n);o&&(t.title=o),this.chartController.detachChartRange()},t.prototype.createButtons=function(){var e=this,t=this.getToolbarOptions(),r=this.getGui();t.forEach((function(t){var n=e.buttons[t],i=gm(n,2),a=i[0],s=i[1],l=o._.createIconNoSpan(a,e.gridOptionsWrapper,void 0,!0);l.classList.add("ag-chart-menu-icon");var u=e.chartTranslationService.translate(t+"ToolbarTooltip");u&&(l.title=u),e.addManagedListener(l,"click",s),r.appendChild(l)}))},t.prototype.saveChart=function(){var e={type:t.EVENT_DOWNLOAD_CHART};this.dispatchEvent(e)},t.prototype.createMenuPanel=function(e){var t=this,r=this.gridOptionsWrapper.chartMenuPanelWidth(),n=this.menuPanel=this.createBean(new o.AgPanel({minWidth:r,width:r,height:"100%",closable:!0,hideTitleBar:!0,cssIdentifier:"chart-menu"}));return n.setParentComponent(this),this.eMenuPanelContainer.appendChild(n.getGui()),this.tabbedMenu=this.createBean(new dm({controller:this.chartController,type:this.chartController.getChartType(),panels:this.tabs,chartOptionsService:this.chartOptionsService})),this.addManagedListener(n,o.Component.EVENT_DESTROYED,(function(){return t.destroyBean(t.tabbedMenu)})),new o.AgPromise((function(r){window.setTimeout((function(){n.setBodyComponent(t.tabbedMenu),t.tabbedMenu.showTab(e),t.addManagedListener(t.eChartContainer,"click",(function(e){t.getGui().contains(e.target)||t.menuVisible&&t.hideMenu()})),r(n)}),100)}))},t.prototype.showContainer=function(){this.menuPanel&&(this.menuVisible=!0,this.showParent(this.menuPanel.getWidth()),this.refreshMenuClasses())},t.prototype.showMenu=function(e){var t=this.tabs.indexOf(e);this.menuPanel?this.showContainer():this.createMenuPanel(t).then(this.showContainer.bind(this))},t.prototype.hideMenu=function(){var e=this;this.hideParent(),window.setTimeout((function(){e.menuVisible=!1,e.refreshMenuClasses()}),500)},t.prototype.refreshMenuClasses=function(){this.eChartContainer.classList.toggle("ag-chart-menu-visible",this.menuVisible),this.eChartContainer.classList.toggle("ag-chart-menu-hidden",!this.menuVisible)},t.prototype.showParent=function(e){this.eMenuPanelContainer.style.minWidth=e+"px"},t.prototype.hideParent=function(){this.eMenuPanelContainer.style.minWidth="0"},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.menuPanel&&this.menuPanel.isAlive()&&this.destroyBean(this.menuPanel)},t.EVENT_DOWNLOAD_CHART="downloadChart",t.TEMPLATE='<div class="ag-chart-menu"></div>',fm([o.Autowired("chartTranslationService")],t.prototype,"chartTranslationService",void 0),fm([o.PostConstruct],t.prototype,"postConstruct",null),t}(o.Component),vm=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),mm=function(){return mm=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},mm.apply(this,arguments)},bm=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Cm=function(e){function t(r){var n=e.call(this,t.TEMPLATE)||this;return n.chartMenu=r,n}return vm(t,e),t.prototype.init=function(){var e=this;this.addManagedListener(this.getGui(),"keypress",(function(t){"Enter"===t.key&&e.endEditing()})),this.addManagedListener(this.getGui(),"blur",this.endEditing.bind(this))},t.prototype.refreshTitle=function(e,t){var r=this;this.chartController=e,this.chartOptionsService=t;var n=this.chartController.getChartProxy();if(n){for(var o=0;o++;o<this.destroyableChartListeners.length)this.destroyableChartListeners[o]();this.destroyableChartListeners=[]}var i=n.getChart(),a=i.scene.canvas.element,s=this.addManagedListener(a,"dblclick",(function(e){var t=i.title;if(t&&t.node.containsPoint(e.offsetX,e.offsetY)){var n=t.node.computeBBox(),o=t.node.inverseTransformPoint(n.x,n.y);r.startEditing(mm(mm({},n),o))}})),l=!1,u=this.addManagedListener(a,"mousemove",(function(e){var t=i.title,r=!!(t&&t.enabled&&t.node.containsPoint(e.offsetX,e.offsetY));l!==r&&(a.style.cursor=r?"pointer":""),l=r}));this.destroyableChartListeners=[s,u]},t.prototype.startEditing=function(e){if(!this.chartMenu||!this.chartMenu.isVisible()){var t=this.chartController.getChartProxy().getChart().width,r=Math.max(Math.min(e.width+20,t),300),n=this.getGui();n.classList.add("currently-editing");var o=n.style;o.fontFamily=this.chartOptionsService.getChartOption("title.fontFamily"),o.fontWeight=this.chartOptionsService.getChartOption("title.fontWeight"),o.fontStyle=this.chartOptionsService.getChartOption("title.fontStyle"),o.fontSize=this.chartOptionsService.getChartOption("title.fontSize")+"px",o.color=this.chartOptionsService.getChartOption("title.color");var i=this.chartOptionsService.getChartOption("title.text"),a=i===this.chartTranslationService.translate("titlePlaceholder")?"":i;n.value=a;var s=n.getBoundingClientRect();o.left=Math.round(e.x+e.width/2-r/2)+"px",o.top=Math.round(e.y+e.height/2-s.height/2)+"px",o.width=Math.round(r)+"px",n.focus()}},t.prototype.endEditing=function(){var e=this.getGui().value;this.chartOptionsService.setChartOption("title.text",e),this.eventService.dispatchEvent({type:"chartTitleEdit"}),this.removeCssClass("currently-editing")},t.TEMPLATE='<input\n            class="ag-chart-title-edit"\n            style="padding:0; border:none; border-radius: 0; min-height: 0; text-align: center;" />\n        ',bm([o.Autowired("chartTranslationService")],t.prototype,"chartTranslationService",void 0),bm([o.PostConstruct],t.prototype,"init",null),t}(o.Component);function wm(e,t){return!1!==t.clone&&t.isMergeableObject(e)?Pm(function(e){return Array.isArray(e)?[]:{}}(e),e,t):e}function xm(e,t,r){return e.concat(t).map((function(e){return wm(e,r)}))}function Sm(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}(e))}function Em(e,t){try{return t in e}catch(r){return!1}}function Om(e,t,r){var n={};return r.isMergeableObject(e)&&Sm(e).forEach((function(t){n[t]=wm(e[t],r)})),Sm(t).forEach((function(o){(function(e,t){return Em(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,o)||(Em(e,o)&&r.isMergeableObject(t[o])?n[o]=function(e,t){if(!t.customMerge)return Pm;var r=t.customMerge(e);return"function"===typeof r?r:Pm}(o,r)(e[o],t[o],r):n[o]=wm(t[o],r))})),n}function _m(e){return function(e){return!!e&&"object"===typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t}(e)}function Pm(e,t,r){(r=r||{}).arrayMerge=r.arrayMerge||xm,r.isMergeableObject=r.isMergeableObject||_m,r.cloneUnlessOtherwiseSpecified=wm;var n=Array.isArray(t);return n===Array.isArray(e)?n?r.arrayMerge(e,t,r):Om(e,t,r):wm(t,r)}var Rm=function(){return Rm=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Rm.apply(this,arguments)},Am=function(){function e(e){if(this.chartProxyParams=e,this.chartType=e.chartType,this.crossFiltering=e.crossFiltering,this.crossFilterCallback=e.crossFilterCallback,this.standaloneChartType=py(this.chartType),this.chartProxyParams.chartOptionsToRestore){this.chartOptions=this.chartProxyParams.chartOptionsToRestore,this.chartPalette=this.chartProxyParams.chartPaletteToRestore;var t={overrides:this.chartOptions,palette:this.chartPalette};this.chartTheme=ng(Rm({baseTheme:this.getSelectedTheme()},t))}else this.chartTheme=this.createChartTheme(),this.chartOptions=this.convertConfigToOverrides(this.chartTheme.config),this.chartPalette=this.chartTheme.palette}return e.prototype.recreateChart=function(){var e=this;if(this.chart&&this.destroyChart(),this.chart=this.createChart(),this.crossFiltering){this.chart.addEventListener("click",(function(t){return e.crossFilterCallback(t,true)}))}},e.prototype.getChart=function(){return this.chart},e.prototype.createChartTheme=function(){var t=this,r=this.getSelectedTheme(),n=this.isStockTheme(r),o=this.chartProxyParams.getGridOptionsChartThemeOverrides(),i=this.chartProxyParams.apiChartThemeOverrides;if(o||i){var a={overrides:e.mergeThemeOverrides(o,i)};return ng(n?Rm({baseTheme:r},a):Pm(t.lookupCustomChartTheme(r),a))}return ng(n?r:this.lookupCustomChartTheme(r))},e.prototype.isStockTheme=function(e){return o._.includes(Object.keys(rg),e)},e.prototype.getSelectedTheme=function(){var e=this.chartProxyParams.getChartThemeName(),t=this.chartProxyParams.getChartThemes();return o._.includes(t,e)||(e=t[0]),e},e.prototype.lookupCustomChartTheme=function(e){var t=this.chartProxyParams.customChartThemes,r=t&&t[e];return r||console.warn("AG Grid: no stock theme exists with the name '"+e+"' and no custom chart theme with that name was supplied to 'customChartThemes'"),r},e.mergeThemeOverrides=function(e,t){return e?t?Pm(e,t):e:t},e.prototype.downloadChart=function(){var e=this.chart,t=e.title?e.title.text:"chart";e.scene.download(t)},e.prototype.getChartImageDataURL=function(e){return this.chart.scene.getDataURL(e)},e.prototype.getChartOptions=function(){return this.chartOptions},e.prototype.getChartPalette=function(){return this.chartPalette},e.prototype.transformData=function(e,t){return this.chartProxyParams.grouping||this.chart.axes.filter((function(e){return e instanceof ic})).length<1?e:e.map((function(e,r){var n=e[t],o=n&&n.toString?n.toString():"",i=Rm({},e);return i[t]={id:r,value:n,toString:function(){return o}},i}))},e.prototype.convertConfigToOverrides=function(e){var t=["columnLineCombo","areaColumnCombo","customCombo"].includes(this.chartType)?["line","area","column","cartesian"]:[this.standaloneChartType],r={};return t.forEach((function(t){var n=Pm({},e[t]);n.series=n.series[t],"scatter"===t&&(n.paired=!0),r[t]=n})),r},e.prototype.destroy=function(){this.destroyChart()},e.prototype.destroyChart=function(){this.chart&&(this.chart.destroy(),this.chart=void 0)},e}(),Tm=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Dm=function(e){function t(t){var r=e.call(this,t)||this;return r.axisTypeToClassMap={number:tc,category:ic,groupedCategory:mc,time:pp},r}return Tm(t,e),t.prototype.updateAxes=function(e){if(e.grouping)this.axisTypeToClassMap[this.xAxisType]!==mc&&(this.xAxisType="groupedCategory",this.recreateChart());else{var r=t.isTimeAxis(e)?"time":"category";r!==this.xAxisType&&(this.xAxisType=r,this.recreateChart())}},t.prototype.getAxesOptions=function(e){return void 0===e&&(e=this.standaloneChartType),this.chartOptions[e].axes},t.prototype.processDataForCrossFiltering=function(e,t,r){var n=t,o=!1;this.crossFiltering&&(e.forEach((function(e){e[t+"-total"]=e[t]+e[t+"-filtered-out"],e[t+"-filtered-out"]>0&&(o=!0)})),r.getCrossFilteringContext().lastSelectedChartId===r.chartId&&(n=t+"-total"));return{yKey:n,atLeastOneSelectedPoint:o}},t.prototype.updateSeriesForCrossFiltering=function(e,t,r,n,o){if(this.crossFiltering){e.marker.enabled=!0,e.marker.formatter=function(e){return{fill:e.highlighted?"yellow":e.fill,size:e.highlighted?12:e.datum[t]>0?8:0}},r.tooltip.delay=500;var i=n.getCrossFilteringContext().lastSelectedChartId===n.chartId&&o;e instanceof sh&&(e.fillOpacity=i?.3:1),e instanceof wh&&(e.strokeOpacity=i?.3:1),e.addEventListener("nodeClick",this.crossFilterCallback)}},t.isTimeAxis=function(e){if(e.category&&e.category.chartDataType)return"time"===e.category.chartDataType;var t=e.data[0];return(t&&t[e.category.id])instanceof Date},t}(Am);function Mm(e,t){var r=parseInt(e.slice(1,3),16),n=parseInt(e.slice(3,5),16),o=parseInt(e.slice(5,7),16);return t?"rgba("+r+", "+n+", "+o+", "+t+")":"rgba("+r+", "+n+", "+o+")"}function km(e,t){return e.map((function(e){var r=o.Color.fromString(e);return new o.Color(r.r,r.g,r.b,t).toHexString()}))}var Nm=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Im=function(){return Im=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Im.apply(this,arguments)},Lm=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},Fm=function(e){function t(t){var r=e.call(this,t)||this;return r.xAxisType=t.grouping?"groupedCategory":"category",r.yAxisType="number",r.recreateChart(),r}return Nm(t,e),t.prototype.createChart=function(){var e=Lm(["bar"===this.standaloneChartType,this.isNormalised()],2),t=e[0],r=e[1];return ry.create({container:this.chartProxyParams.parentElement,theme:this.chartTheme,axes:this.getAxes(t,r),series:this.getSeries(r)})},t.prototype.update=function(e){this.updateAxes(e);var t=this.chart.series[0];this.crossFiltering?this.updateCrossFilteringSeries(t,e):(t.fills=this.chartTheme.palette.fills,t.strokes=this.chartTheme.palette.strokes),t.data=this.transformData(e.data,e.category.id),t.xKey=e.category.id,t.xName=e.category.name,t.yKeys=e.fields.map((function(e){return e.colId})),t.yNames=e.fields.map((function(e){return e.displayName}))},t.prototype.updateCrossFilteringSeries=function(e,t){var r=t.fields;r.forEach((function(e){var t=Im({},e);t.colId=e.colId+"-filtered-out",r.push(t)}));var n=this.chartTheme.palette,o=[];n.fills.forEach((function(e){o.push(e),o.push(Mm(e,"0.3"))})),e.fills=o;n.strokes.forEach((function(e){o.push(e),o.push(Mm(e,"0.3"))})),e.strokes=[],e.highlightStyle.fill=void 0;var i=t.fields.map((function(e){return e.colId}));e.hideInLegend=i.filter((function(e){return-1!==e.indexOf("-filtered-out")})),this.chart.legend.addEventListener("click",(function(t){e.toggleSeriesItem(t.itemId+"-filtered-out",t.enabled)})),this.chart.tooltip.delay=500,e.addEventListener("nodeClick",this.crossFilterCallback)},t.prototype.getAxes=function(e,t){var r=this.getAxesOptions(),n=[Im(Im({},Pm(r[this.xAxisType],r[this.xAxisType].bottom)),{type:this.xAxisType,position:e?Uu.Left:Uu.Bottom}),Im(Im({},Pm(r[this.yAxisType],r[this.yAxisType].left)),{type:this.yAxisType,position:e?Uu.Bottom:Uu.Left})];if(t){var o=n[1];o.label=Im(Im({},o.label),{formatter:function(e){return Math.round(e.value)+"%"}})}return n},t.prototype.getSeries=function(e){var t=!this.crossFiltering&&o._.includes(["groupedColumn","groupedBar"],this.chartType);return[Im(Im({},this.chartOptions[this.standaloneChartType].series),{type:this.standaloneChartType,grouped:t,normalizedTo:e?100:void 0})]},t.prototype.isNormalised=function(){return!this.crossFiltering&&o._.includes(["normalizedColumn","normalizedBar"],this.chartType)},t}(Dm),Gm=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Bm=function(){return Bm=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Bm.apply(this,arguments)},Wm=function(e){function t(t){var r=e.call(this,t)||this;return r.xAxisType=t.grouping?"groupedCategory":"category",r.yAxisType="number",r.recreateChart(),r}return Gm(t,e),t.prototype.createChart=function(){return ry.create({type:"area",container:this.chartProxyParams.parentElement,theme:this.chartTheme,axes:this.getAxes()})},t.prototype.update=function(e){if(this.updateAxes(e),"area"===this.chartType)this.updateAreaChart(e);else{var t=this.chart.series[0];if(!t){var r=Bm(Bm({},this.chartOptions[this.standaloneChartType].series),{type:"area",normalizedTo:"normalizedArea"===this.chartType?100:void 0});if(!(t=ry.createComponent(Bm({},r),"area.series")))return;this.chart.addSeries(t)}t.data=this.transformData(e.data,e.category.id),t.xKey=e.category.id,t.xName=e.category.name,t.yKeys=e.fields.map((function(e){return e.colId})),t.yNames=e.fields.map((function(e){return e.displayName})),t.fills=this.chartTheme.palette.fills,t.strokes=this.chartTheme.palette.strokes}},t.prototype.updateAreaChart=function(e){var t=this,r=this.chart;if(0!==e.fields.length){var n,o=e.fields.map((function(e){return e.colId})),i=r.series.reduceRight((function(e,t,n){var i=t.yKeys[0];return o.indexOf(i)===n?e.set(i,t):r.removeSeries(t),e}),new Map),a=this.transformData(e.data,e.category.id),s=this.chartTheme.palette,l=s.fills,u=s.strokes;e.fields.forEach((function(o,s){var c=t.processDataForCrossFiltering(a,o.colId,e),p=c.yKey,d=c.atLeastOneSelectedPoint,h=i.get(o.colId),f=l[s%l.length],g=u[s%u.length];if(h)h.data=a,h.xKey=e.category.id,h.xName=e.category.name,h.yKeys=[p],h.yNames=[o.displayName],h.fills=[f],h.strokes=[g];else{var y=t.chartOptions[t.standaloneChartType].series,v=Bm(Bm({},y),{type:"area",normalizedTo:"normalizedArea"===t.chartType?100:void 0}),m=Bm(Bm({},v),{data:a,xKey:e.category.id,xName:e.category.name,yKeys:[p],yNames:[o.displayName],fills:[f],strokes:[g],marker:Bm(Bm({},v.marker),{fill:f,stroke:g})});h=ry.createComponent(m,"area.series"),r.addSeriesAfter(h,n)}t.updateSeriesForCrossFiltering(h,o.colId,r,e,d),n=h}))}else r.removeAllSeries()},t.prototype.getAxes=function(){var e=this.getAxesOptions(),t=[Bm(Bm({},Pm(e[this.xAxisType],e[this.xAxisType].bottom)),{type:this.xAxisType,position:Uu.Bottom,paddingInner:1,paddingOuter:0}),Bm(Bm({},Pm(e[this.yAxisType],e[this.yAxisType].left)),{type:this.yAxisType,position:Uu.Left})];return"time"===this.xAxisType&&(delete t[0].paddingInner,delete t[0].paddingOuter),t},t}(Dm),Hm=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),jm=function(){return jm=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},jm.apply(this,arguments)},Vm=function(e){function t(t){var r=e.call(this,t)||this;return r.xAxisType=t.grouping?"groupedCategory":"category",r.yAxisType="number",r.recreateChart(),r}return Hm(t,e),t.prototype.createChart=function(){return ry.create({type:"line",container:this.chartProxyParams.parentElement,theme:this.chartTheme,axes:this.getAxes()})},t.prototype.update=function(e){var t=this;if(0!==e.fields.length){this.updateAxes(e);var r,n=this.chart,o=e.fields,i=o.map((function(e){return e.colId})),a=this.transformData(e.data,e.category.id),s=n.series.reduceRight((function(e,t,r){var o=t.yKey;return i.indexOf(o)===r?e.set(o,t):n.removeSeries(t),e}),new Map),l=this.chartTheme.palette,u=l.fills,c=l.strokes;o.forEach((function(o,i){var l=t.processDataForCrossFiltering(a,o.colId,e),p=l.yKey,d=l.atLeastOneSelectedPoint,h=s.get(o.colId),f=u[i%u.length],g=c[i%c.length];if(h)h.title=o.displayName,h.data=a,h.xKey=e.category.id,h.xName=e.category.name,h.yKey=p,h.yName=o.displayName,h.marker.fill=f,h.marker.stroke=g,h.stroke=f;else{var y=t.chartOptions[t.standaloneChartType].series,v=jm(jm({},y),{type:"line",title:o.displayName,data:a,xKey:e.category.id,xName:e.category.name,yKey:p,yName:o.displayName,stroke:f,marker:jm(jm({},y.marker),{fill:f,stroke:g})});h=ry.createComponent(v,"line.series"),n.addSeriesAfter(h,r)}t.updateSeriesForCrossFiltering(h,o.colId,n,e,d),r=h}))}else this.chart.removeAllSeries()},t.prototype.getAxes=function(){var e=this.getAxesOptions();return[jm(jm({},Pm(e[this.xAxisType],e[this.xAxisType].bottom)),{type:this.xAxisType,position:Uu.Bottom}),jm(jm({},Pm(e[this.yAxisType],e[this.yAxisType].left)),{type:this.yAxisType,position:Uu.Left})]},t}(Dm),zm=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Um=function(e){function t(t){return e.call(this,t)||this}return zm(t,e),t.prototype.addCrossFilteringTooltipRenderer=function(e){e.tooltip.renderer=function(e){var t=e.datum[e.labelKey],r=e.datum[e.radiusKey];return{content:t+": "+e.angleValue*r}}},t}(Am),Ym=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Xm=function(){return Xm=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Xm.apply(this,arguments)},Km=function(e){function t(t){var r=e.call(this,t)||this;return r.recreateChart(),r}return Ym(t,e),t.prototype.createChart=function(){return ry.create({type:"pie",container:this.chartProxyParams.parentElement,theme:this.chartTheme})},t.prototype.update=function(e){var t=this.chart;if(0!==e.fields.length){var r=e.fields[0],n=r;if(this.crossFiltering){var o=e.fields;o.forEach((function(e){var t=Xm({},e);t.colId=e.colId+"-filtered-out",o.push(t)}));var i=o[1];e.data.forEach((function(e){e[r.colId+"-total"]=e[r.colId]+e[i.colId],e[r.colId]=e[r.colId]/e[r.colId+"-total"],e[i.colId]=1}));var a=t.series[1],s=i;a=this.updateSeries(t,a,n,s,e,void 0),s=n;var l=t.series[0];this.updateSeries(t,l,n,s,e,a)}else{var u=t.series[0];this.updateSeries(t,u,n,n,e,void 0)}}else t.removeAllSeries()},t.prototype.updateSeries=function(e,t,r,n,o,i){var a=t&&t.angleKey,s=this.chartOptions[this.standaloneChartType].series,l=t;if(a!==n.colId){e.removeSeries(t);var u=Xm(Xm({},s),{type:"pie",angleKey:this.crossFiltering?r.colId+"-total":r.colId,radiusKey:this.crossFiltering?n.colId:void 0});(l=ry.createComponent(u,"pie.series")).fills=this.chartTheme.palette.fills,l.strokes=this.chartTheme.palette.strokes,l.callout.colors=this.chartTheme.palette.strokes,this.crossFiltering&&l&&!l.tooltip.renderer&&this.addCrossFilteringTooltipRenderer(l)}(l.angleName=n.displayName,l.labelKey=o.category.id,l.labelName=o.category.name,l.data=o.data,this.crossFiltering)&&(l.radiusMin=0,l.radiusMax=1,!i?(l.fills=km(l.fills,.3),l.strokes=km(l.strokes,.3),l.callout.colors=km(l.strokes,.3),l.showInLegend=!1):e.legend.addEventListener("click",(function(e){i&&i.toggleSeriesItem(e.itemId,e.enabled)})),e.tooltip.delay=500,l.highlightStyle.fill=void 0,l.addEventListener("nodeClick",this.crossFilterCallback));return e.addSeries(l),l},t}(Um),qm=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),$m=function(){return $m=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},$m.apply(this,arguments)},Zm=function(e){function t(t){var r=e.call(this,t)||this;return r.recreateChart(),r}return qm(t,e),t.prototype.createChart=function(){return ry.create({type:"pie",container:this.chartProxyParams.parentElement,theme:this.chartTheme})},t.prototype.update=function(e){var t=this;if(0!==e.fields.length){var r=this.chart,n=e.fields.map((function(e){return e.colId})),i={};r.series.forEach((function(e){var t=e,r=t.angleKey;o._.includes(n,r)&&(i[r]=t)}));var a=this.chartTheme.palette.fills,s=this.chartTheme.palette.strokes,l=this.chartOptions[this.standaloneChartType].series,u=e.fields.length,c=0;this.crossFiltering?e.fields.forEach((function(n,o){var p=$m({},n);p.colId=n.colId+"-filtered-out",e.data.forEach((function(e){e[n.colId+"-total"]=e[n.colId]+e[p.colId],e[n.colId]=e[n.colId]/e[n.colId+"-total"],e[p.colId]=1}));var d=t.updateSeries({seriesMap:i,angleField:n,field:p,seriesDefaults:l,index:o,params:e,fills:a,strokes:s,doughnutChart:r,offset:c,numFields:u,opaqueSeries:void 0}),h=d.updatedOffset,f=d.pieSeries;t.updateSeries({seriesMap:i,angleField:n,field:n,seriesDefaults:l,index:o,params:e,fills:a,strokes:s,doughnutChart:r,offset:c,numFields:u,opaqueSeries:f}),c=h})):e.fields.forEach((function(n,o){var p=t.updateSeries({seriesMap:i,angleField:n,field:n,seriesDefaults:l,index:o,params:e,fills:a,strokes:s,doughnutChart:r,offset:c,numFields:u,opaqueSeries:void 0}).updatedOffset;c=p})),r.series=o._.values(i)}else this.chart.removeAllSeries()},t.prototype.updateSeries=function(e){var t=e.seriesMap[e.field.colId],r=$m($m({},e.seriesDefaults),{type:"pie",angleKey:this.crossFiltering?e.angleField.colId+"-total":e.angleField.colId,radiusKey:this.crossFiltering?e.field.colId:void 0,title:$m($m({},e.seriesDefaults.title),{text:e.seriesDefaults.title.text||e.field.displayName})}),n=t||ry.createComponent(r,"pie.series");(n.title&&(n.title.showInLegend=e.numFields>1),t||this.crossFiltering&&!n.tooltip.renderer&&this.addCrossFilteringTooltipRenderer(n),n.angleName=e.field.displayName,n.labelKey=e.params.category.id,n.labelName=e.params.category.name,n.data=e.params.data,this.crossFiltering)?(n.radiusMin=0,n.radiusMax=1,!e.opaqueSeries?(n.fills=e.fills.map((function(e){return Mm(e,"0.3")})),n.strokes=e.strokes.map((function(e){return Mm(e,"0.3")})),n.showInLegend=!1):(e.doughnutChart.legend.addEventListener("click",(function(t){e.opaqueSeries&&e.opaqueSeries.toggleSeriesItem(t.itemId,t.enabled)})),n.fills=e.fills,n.strokes=e.strokes,n.callout.colors=e.strokes),n.highlightStyle.fill=void 0,n.addEventListener("nodeClick",this.crossFilterCallback),e.doughnutChart.tooltip.delay=500):(n.fills=e.fills,n.strokes=e.strokes,n.callout.colors=e.strokes);var o=e.numFields>1?20:40;return n.outerRadiusOffset=e.offset,e.offset-=o,n.innerRadiusOffset=e.offset,e.offset-=o,t||(e.seriesMap[e.field.colId]=n),{updatedOffset:e.offset,pieSeries:n}},t}(Um),Qm=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Jm=function(){return Jm=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Jm.apply(this,arguments)},eb=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},tb=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(eb(arguments[t]));return e},rb=function(e){function t(t){var r=e.call(this,t)||this;return r.xAxisType="number",r.yAxisType="number",r.recreateChart(),r}return Qm(t,e),t.prototype.createChart=function(){return ry.create({type:"scatter",container:this.chartProxyParams.parentElement,theme:this.chartTheme,axes:this.getAxes()})},t.prototype.update=function(e){var t=this;if(e.fields.length<2)this.chart.removeAllSeries();else{var r=e.fields;this.crossFiltering&&r.forEach((function(e){var t=Jm({},e);t.colId=e.colId+"-filtered-out",r.push(t)}));var n,o=this.chartOptions[this.standaloneChartType].paired,i=this.getSeriesDefinitions(r,o);this.crossFiltering&&(n=this.getCrossFilteringDataDomain(i,e));var a=this.chart,s=a.series.reduceRight((function(e,t,r){return i.findIndex((function(e){return e.xField.colId===t.xKey&&e.yField.colId===t.yKey&&(!e.sizeField&&!t.sizeKey||e.sizeField&&e.sizeField.colId===t.sizeKey)}))===r?e.set(t.yKey,t):a.removeSeries(t),e}),new Map),l=this.chartTheme.palette,u=l.fills,c=l.strokes;if(this.crossFiltering){var p=[];u.forEach((function(e){p.push(e),p.push(Mm(e,"0.3"))})),u=p;var d=[];c.forEach((function(e){d.push(e),d.push(Mm(e,"0.3"))})),c=d}var h,f=e.category.id===Ks.DEFAULT_CATEGORY?void 0:e.category,g=this.chartOptions[this.standaloneChartType].series;i.forEach((function(r,o){var i=s.get(r.yField.colId),l=i||ry.createComponent(Jm(Jm({},g),{type:"scatter"}),"scatter.series");if(l){var p=r,d=p.xField,y=p.yField,v=p.sizeField;l.title=y.displayName+" vs "+d.displayName,l.xKey=d.colId,l.xName=d.displayName,l.yKey=y.colId,l.yName=y.displayName,l.data=e.data,l.fill=u[o%u.length],l.stroke=c[o%c.length],v?(l.sizeKey=v.colId,l.sizeName=v.displayName):l.sizeKey=void 0,f?(l.labelKey=f.id,l.labelName=f.name):l.labelKey=l.yKey;var m=y.colId.indexOf("-filtered-out")>-1;t.crossFiltering&&(m||a.legend.addEventListener("click",(function(e){l.toggleSeriesItem(e.itemId+"-filtered-out",e.enabled)})),n&&(l.marker.domain=n),a.tooltip.delay=500,m&&(l.showInLegend=!1),l.addEventListener("nodeClick",t.crossFilterCallback)),i||a.addSeriesAfter(l,h),h=l}}))}},t.prototype.getSeriesDefinitions=function(e,t){if(e.length<2)return[];var r="bubble"===this.chartType;if(t)return r?e.map((function(t,r){return r%3===0?{xField:t,yField:e[r+1],sizeField:e[r+2]}:null})).filter((function(e){return e&&e.yField&&e.sizeField})):e.map((function(t,r){return r%2===0?{xField:t,yField:e[r+1]}:null})).filter((function(e){return e&&e.yField}));var n=e[0];return r?e.map((function(t,r){return r%2===1?{xField:n,yField:t,sizeField:e[r+1]}:null})).filter((function(e){return e&&e.sizeField})):e.filter((function(e,t){return t>0})).map((function(e){return{xField:n,yField:e}}))},t.prototype.getCrossFilteringDataDomain=function(e,t){var r;if(e[0]&&e[0].sizeField){var n=e[0].sizeField.colId,o=[];t.data.forEach((function(e){"undefined"!==typeof e[n]&&o.push(e[n]),"undefined"!==typeof e[n+"-filtered-out"]&&o.push(e[n+"-filtered-out"])})),o.length>0&&(r=[Math.min.apply(Math,tb(o)),Math.max.apply(Math,tb(o))])}return r},t.prototype.getAxes=function(){var e=this.getAxesOptions();return[Jm(Jm({},Pm(e[this.xAxisType],e[this.xAxisType].bottom)),{type:this.xAxisType,position:Uu.Bottom}),Jm(Jm({},Pm(e[this.yAxisType],e[this.yAxisType].left)),{type:this.yAxisType,position:Uu.Left})]},t}(Dm),nb=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ob=function(){return ob=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ob.apply(this,arguments)},ib=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},ab=function(e){function t(t){var r=e.call(this,t)||this;return r.xAxisType="number",r.yAxisType="number",r.recreateChart(),r}return nb(t,e),t.prototype.createChart=function(){return ry.create({container:this.chartProxyParams.parentElement,theme:this.chartTheme,axes:this.getAxes(),series:[ob(ob({},this.chartOptions[this.standaloneChartType].series),{type:"histogram"})]})},t.prototype.update=function(e){var t=ib(e.fields,1)[0],r=this.chart.series[0];r.data=e.data,r.xKey=t.colId,r.xName=t.displayName,r.areaPlot=!1,r.fill=this.chartTheme.palette.fills[0],r.stroke=this.chartTheme.palette.strokes[0]},t.prototype.getAxes=function(){var e=this.getAxesOptions();return[ob(ob({},Pm(e[this.xAxisType],e[this.xAxisType].bottom)),{type:this.xAxisType,position:Uu.Bottom}),ob(ob({},Pm(e[this.yAxisType],e[this.yAxisType].left)),{type:this.yAxisType,position:Uu.Left})]},t}(Dm),sb=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),lb=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},ub=function(e){function t(t){var r=e.call(this)||this;return r.chartController=t,r}return sb(t,e),t.prototype.getChartType=function(){return this.chartController.getChartType()},t.prototype.getChartOption=function(e){return o._.get(this.getChart(),e,void 0)},t.prototype.setChartOption=function(e,t){var r=this;this.chartController.getChartSeriesTypes().forEach((function(n){var i=o._.get(r.getChartOptions(),""+n,void 0);o._.set(i,e,t)})),o._.set(this.getChart(),e,t),this.raiseChartOptionsChangedEvent()},t.prototype.getAxisProperty=function(e){return o._.get(this.getChart().axes[0],e,void 0)},t.prototype.setAxisProperty=function(e,t){var r=this,n=this.getChart();n.axes.forEach((function(n){r.updateAxisOptions(n,e,t),o._.set(n,e,t)})),n.layoutPending=!0,this.raiseChartOptionsChangedEvent()},t.prototype.getLabelRotation=function(e){var t=this.getAxis(e);return o._.get(t,"label.rotation",void 0)},t.prototype.setLabelRotation=function(e,t){var r="label.rotation",n=this.getAxis(e);o._.set(n,r,t),this.getChart().layoutPending=!0,n&&!this.chartController.isDefaultCategorySelected()&&(this.updateAxisOptions(n,r,t),this.raiseChartOptionsChangedEvent())},t.prototype.getSeriesOption=function(e,r){var n=this.getChart().series.find((function(e){return t.isMatchingSeries(r,e)}));return o._.get(n,e,void 0)},t.prototype.setSeriesOption=function(e,r,n){var i=this.getChartOptions();i[n]||(i[n]={}),o._.set(i[n].series,e,r),this.getChart().series.forEach((function(i){t.isMatchingSeries(n,i)&&o._.set(i,e,r)})),this.raiseChartOptionsChangedEvent()},t.prototype.getPairedMode=function(){var e=py(this.getChartType());return o._.get(this.getChartOptions(),e+".paired",void 0)},t.prototype.setPairedMode=function(e){var t=py(this.getChartType()),r=o._.get(this.getChartOptions(),""+t,void 0);o._.set(r,"paired",e)},t.prototype.getChart=function(){return this.chartController.getChartProxy().getChart()},t.prototype.getChartOptions=function(){return this.chartController.getChartProxy().getChartOptions()},t.prototype.getAxis=function(e){var t=this.getChart();if(t.axes&&!(t.axes.length<1))return"xAxis"===e?t.axes&&"x"===t.axes[0].direction?t.axes[0]:t.axes[1]:t.axes&&"y"===t.axes[1].direction?t.axes[1]:t.axes[0]},t.prototype.updateAxisOptions=function(e,t,r){var n=py(this.getChartType()),i=this.getChartOptions()[n].axes;e instanceof tc?o._.set(i.number,t,r):e instanceof ic?o._.set(i.category,t,r):e instanceof pp?o._.set(i.time,t,r):e instanceof mc&&o._.set(i.groupedCategory,t,r)},t.prototype.raiseChartOptionsChangedEvent=function(){var e=this.chartController.getChartModel(),t=Object.freeze({type:o.Events.EVENT_CHART_OPTIONS_CHANGED,chartId:e.chartId,chartType:e.chartType,chartThemeName:e.chartThemeName,chartOptions:e.chartOptions,api:this.gridApi,columnApi:this.columnApi});this.eventService.dispatchEvent(t)},t.isMatchingSeries=function(e,t){return"area"===e&&t instanceof sh||("bar"===e&&t instanceof gh||("column"===e&&t instanceof gh||("histogram"===e&&t instanceof Ih||("line"===e&&t instanceof wh||("pie"===e&&t instanceof vf||"scatter"===e&&t instanceof _h)))))},t.prototype.destroy=function(){e.prototype.destroy.call(this)},lb([o.Autowired("gridApi")],t.prototype,"gridApi",void 0),lb([o.Autowired("columnApi")],t.prototype,"columnApi",void 0),t}(o.BeanStub),cb=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),pb=function(){return pb=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},pb.apply(this,arguments)},db=function(e){function t(t){var r=e.call(this,t)||this;return r.xAxisType=t.grouping?"groupedCategory":"category",r.yAxisType="number",r.recreateChart(),r}return cb(t,e),t.prototype.createChart=function(){return ry.create({container:this.chartProxyParams.parentElement,theme:this.chartTheme})},t.prototype.update=function(e){var t=e.category,r=e.data,n={data:this.transformData(r,t.id)};this.seriesChanged(e)&&(n.series=this.getSeriesOptions(e),n.axes=this.getAxes(e)),ry.update(this.chart,n)},t.prototype.seriesChanged=function(e){var t=e.seriesChartTypes,r=!o._.areEqual(this.prevSeriesChartTypes,t,(function(e,t){return e.colId===t.colId&&e.chartType===t.chartType&&e.secondaryAxis===t.secondaryAxis}));this.prevSeriesChartTypes=t.map((function(e){return pb({},e)}));var n=e.fields.map((function(e){return e.colId})).join(),i=this.prevFields!==n;this.prevFields=n;var a=e.category.id,s=this.prevCategoryId!==a;return this.prevCategoryId=a,r||i||s},t.prototype.getSeriesOptions=function(e){var t=this,r=e.fields,n=e.category,o=e.seriesChartTypes;return r.map((function(e){var r=o.find((function(t){return t.colId===e.colId}));if(r){var i=r.chartType;return pb(pb({},t.extractSeriesOverrides(r)),{type:py(i),xKey:n.id,yKey:e.colId,yName:e.displayName,grouped:["groupedColumn","groupedBar","groupedArea"].includes(i),stacked:["stackedArea","stackedColumn"].includes(i)})}}))},t.prototype.getAxes=function(e){var t=this;this.xAxisType=e.grouping?"groupedCategory":"category";var r=e?e.fields:[],n=new Map(r.map((function(e){return[e.colId,e]}))),o=this.getYKeys(r,e.seriesChartTypes),i=o.primaryYKeys,a=o.secondaryYKeys,s=this.getAxisOptions(),l=s.bottomOptions,u=s.leftOptions,c=s.rightOptions,p=[pb(pb({},l),{type:this.xAxisType,position:Uu.Bottom,gridStyle:[{strokeWidth:0}]})];return i.length>0&&p.push(pb(pb({},u),{type:this.yAxisType,keys:i,position:Uu.Left,title:pb({},Pm(u.title,{enabled:!0,text:i.map((function(e){var t=n.get(e);return t?t.displayName:e})).join(" / ")}))})),a.length>0&&a.forEach((function(e,r){var o=n.get(e);if(o&&o.colId===e){var s=pb(pb({},c),{type:t.yAxisType,keys:[e],position:Uu.Right,title:pb({},Pm(c.title,{enabled:!0,text:o?o.displayName:e}))}),l=i.some((function(e){return!!n.get(e)})),u=r===a.length-1;!l&&u||(s.gridStyle=[{strokeWidth:0}]),p.push(s)}})),p},t.prototype.getAxisOptions=function(){var e=this.getAxesOptions("cartesian");return{bottomOptions:Pm(e[this.xAxisType],e[this.xAxisType].bottom),leftOptions:Pm(e[this.yAxisType],e[this.yAxisType].left),rightOptions:Pm(e[this.yAxisType],e[this.yAxisType].right)}},t.prototype.getYKeys=function(e,t){var r=[],n=[];return e.forEach((function(e){var o=e.colId,i=t.find((function(e){return e.colId===o}));i&&(i.secondaryAxis?n.push(o):r.push(o))})),{primaryYKeys:r,secondaryYKeys:n}},t.prototype.extractSeriesOverrides=function(e){var t=this.chartOptions[py(e.chartType)].series;return delete t.yKeys,delete t.yNames,t},t}(Dm),hb=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),fb=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},gb=function(e){function t(r){var n=e.call(this,t.TEMPLATE)||this;return n.params=r,n}return hb(t,e),t.prototype.init=function(){var e=this.gridOptionsWrapper.getChartThemes();if(e.length<1)throw new Error("Cannot create chart: no chart themes are available to be used.");var t=this.params.chartThemeName;o._.includes(e,t)||(t=e[0]);var r={chartId:this.params.chartId,pivotChart:this.params.pivotChart,chartType:this.params.chartType,chartThemeName:t,aggFunc:this.params.aggFunc,cellRange:this.params.cellRange,suppressChartRanges:this.params.suppressChartRanges,unlinkChart:this.params.unlinkChart,crossFiltering:this.params.crossFiltering,seriesChartTypes:this.params.seriesChartTypes},n=this.gridOptionsWrapper.isEnableRtl();this.addCssClass(n?"ag-rtl":"ag-ltr");var i=this.createBean(new Ks(r));this.chartController=this.createManagedBean(new fy(i)),this.validateCustomThemes(),this.createChart(),this.params.insideDialog&&this.addDialog(),this.addMenu(),this.addTitleEditComp(),this.addManagedListener(this.getGui(),"focusin",this.setActiveChartCellRange.bind(this)),this.addManagedListener(this.chartController,fy.EVENT_CHART_UPDATED,this.refresh.bind(this)),this.chartMenu&&this.addManagedListener(this.chartMenu,ym.EVENT_DOWNLOAD_CHART,this.downloadChart.bind(this)),this.refresh(),this.raiseChartCreatedEvent()},t.prototype.validateCustomThemes=function(){var e=this.gridOptionsWrapper.getChartThemes(),t=this.gridOptionsWrapper.getCustomChartThemes();t&&o._.getAllKeysInObjects([t]).forEach((function(t){o._.includes(e,t)||console.warn("AG Grid: a custom chart theme with the name '"+t+"' has been supplied but not added to the 'chartThemes' list")}))},t.prototype.createChart=function(){var e=this;this.chartProxy&&this.chartProxy.destroy();var r=this.chartController.getChartType(),n={chartType:r,getChartThemeName:this.getChartThemeName.bind(this),getChartThemes:this.getChartThemes.bind(this),customChartThemes:this.gridOptionsWrapper.getCustomChartThemes(),getGridOptionsChartThemeOverrides:this.getGridOptionsChartThemeOverrides.bind(this),apiChartThemeOverrides:this.params.chartThemeOverrides,crossFiltering:this.params.crossFiltering,crossFilterCallback:function(t,r){e.params.crossFilteringContext.lastSelectedChartId=r?"":e.chartController.getChartId(),e.crossFilterService.filter(t,r)},parentElement:this.eChart,grouping:this.chartController.isGrouping(),chartOptionsToRestore:this.params.chartOptionsToRestore,chartPaletteToRestore:this.params.chartPaletteToRestore,seriesChartTypes:this.chartController.getSeriesChartTypes()};if(this.params.chartOptionsToRestore=void 0,this.chartType=r,this.chartThemeName=this.chartController.getChartThemeName(),this.chartProxy=t.createChartProxy(n),this.chartProxy){var o=this.eChart.querySelector("canvas");o&&o.classList.add("ag-charts-canvas"),this.chartController.setChartProxy(this.chartProxy),this.chartOptionsService=this.createBean(new ub(this.chartController)),this.titleEdit&&this.titleEdit.refreshTitle(this.chartController,this.chartOptionsService)}else console.warn("AG Grid: invalid chart type supplied: ",n.chartType)},t.prototype.getChartThemeName=function(){return this.chartController.getChartThemeName()},t.prototype.getChartThemes=function(){return this.chartController.getThemes()},t.prototype.getGridOptionsChartThemeOverrides=function(){return this.gridOptionsWrapper.getChartThemeOverrides()},t.createChartProxy=function(e){switch(e.chartType){case"column":case"bar":case"groupedColumn":case"stackedColumn":case"normalizedColumn":case"groupedBar":case"stackedBar":case"normalizedBar":return new Fm(e);case"pie":return new Km(e);case"doughnut":return new Zm(e);case"area":case"stackedArea":case"normalizedArea":return new Wm(e);case"line":return new Vm(e);case"scatter":case"bubble":return new rb(e);case"histogram":return new ab(e);case"columnLineCombo":case"areaColumnCombo":case"customCombo":return new db(e);default:throw"AG Grid: Unable to create chart as an invalid chartType = '"+e.chartType+"' was supplied."}},t.prototype.addDialog=function(){var e=this,t=this.chartTranslationService.translate(this.params.pivotChart?"pivotChartTitle":"rangeChartTitle"),r=this.getBestDialogSize(),n=r.width,i=r.height;this.chartDialog=new o.AgDialog({resizable:!0,movable:!0,maximizable:!0,title:t,width:n,height:i,component:this,centered:!0,closable:!0}),this.getContext().createBean(this.chartDialog),this.chartDialog.addEventListener(o.AgDialog.EVENT_DESTROYED,(function(){return e.destroy()}))},t.prototype.getBestDialogSize=function(){var e=this.popupService.getPopupParent(),t=.75*o._.getAbsoluteWidth(e),r=.75*o._.getAbsoluteHeight(e),n=this.chartProxy.getChart(),i=this.params.insideDialog?850:n.width,a=this.params.insideDialog?470:n.height;return(i>t||a>r)&&(i=Math.min(i,t),(a=Math.round(.553*i))>r&&(a=r,i=Math.min(i,Math.round(a/.553)))),{width:i,height:a}},t.prototype.addMenu=function(){this.params.crossFiltering||(this.chartMenu=this.createBean(new ym(this.eChartContainer,this.eMenuContainer,this.chartController,this.chartOptionsService)),this.eChartContainer.appendChild(this.chartMenu.getGui()))},t.prototype.addTitleEditComp=function(){this.titleEdit=this.createBean(new Cm(this.chartMenu)),this.eTitleEditContainer.appendChild(this.titleEdit.getGui()),this.chartProxy&&this.titleEdit.refreshTitle(this.chartController,this.chartOptionsService)},t.prototype.refresh=function(){this.shouldRecreateChart()&&this.createChart(),this.updateChart()},t.prototype.shouldRecreateChart=function(){return this.chartType!==this.chartController.getChartType()||this.chartThemeName!==this.chartController.getChartThemeName()},t.prototype.getCurrentChartType=function(){return this.chartType},t.prototype.getChartModel=function(){return this.chartController.getChartModel()},t.prototype.getChartImageDataURL=function(e){return this.chartProxy.getChartImageDataURL(e)},t.prototype.updateChart=function(){var e=this,t=this.chartProxy,r=this.chartController.getSelectedValueColState().map((function(e){return{colId:e.colId,displayName:e.displayName}})),n=this.chartController.getChartData();if(!this.handleEmptyChart(n,r)){var o=this.chartController.getSelectedDimension(),i={data:n,grouping:this.chartController.isGrouping(),category:{id:o.colId,name:o.displayName,chartDataType:this.getChartDataType(o.colId)},fields:r,chartId:this.chartController.getChartId(),getCrossFilteringContext:function(){return e.params.crossFilteringContext},seriesChartTypes:this.chartController.getSeriesChartTypes()};t.update(i),this.titleEdit.refreshTitle(this.chartController,this.chartOptionsService)}},t.prototype.getChartDataType=function(e){var t=this.columnModel.getPrimaryColumn(e);return t?t.getColDef().chartDataType:void 0},t.prototype.handleEmptyChart=function(e,t){var r=this.chartProxy.getChart().container,n=this.chartController.isPivotChart()&&!this.chartController.isPivotMode(),i=1;this.chartController.isActiveXYChart()&&(i="bubble"===this.chartController.getChartType()?3:2);var a=t.length<i||0===e.length;if(r){var s=n||a;o._.setDisplayed(this.eChart,!s),o._.setDisplayed(this.eEmpty,s)}return n?(this.eEmpty.innerText=this.chartTranslationService.translate("pivotChartRequiresPivotMode"),!0):!!a&&(this.eEmpty.innerText=this.chartTranslationService.translate("noDataToChart"),!0)},t.prototype.downloadChart=function(){this.chartProxy.downloadChart()},t.prototype.getChartId=function(){return this.chartController.getChartId()},t.prototype.getUnderlyingChart=function(){return this.chartProxy.getChart()},t.prototype.refreshCanvasSize=function(){if(this.params.insideDialog){var e=this.eChart;if(this.chartMenu.isVisible()){var t=this.chartProxy.getChart();t.height=o._.getInnerHeight(e),t.width=o._.getInnerWidth(e)}}},t.prototype.setActiveChartCellRange=function(e){this.getGui().contains(e.relatedTarget)||(this.chartController.setChartRange(!0),this.gridApi.focusService.clearFocusedCell())},t.prototype.raiseChartCreatedEvent=function(){var e=Object.freeze({type:o.Events.EVENT_CHART_CREATED,chartId:this.chartController.getChartId(),api:this.gridApi,columnApi:this.columnApi});this.eventService.dispatchEvent(e)},t.prototype.raiseChartDestroyedEvent=function(){var e=Object.freeze({type:o.Events.EVENT_CHART_DESTROYED,chartId:this.chartController.getChartId(),api:this.gridApi,columnApi:this.columnApi});this.eventService.dispatchEvent(e)},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.chartProxy&&this.chartProxy.destroy(),this.destroyBean(this.chartMenu),this.chartDialog&&this.chartDialog.isAlive()&&this.destroyBean(this.chartDialog);var t=this.getGui();o._.clearElement(t),o._.removeFromParent(t),this.raiseChartDestroyedEvent()},t.TEMPLATE='<div class="ag-chart" tabindex="-1">\n            <div ref="eChartContainer" tabindex="-1" class="ag-chart-components-wrapper">\n                <div ref="eChart" class="ag-chart-canvas-wrapper"></div>\n                <div ref="eEmpty" class="ag-chart-empty-text ag-unselectable"></div>\n            </div>\n            <div ref="eTitleEditContainer"></div>\n            <div ref="eMenuContainer" class="ag-chart-docked-container"></div>\n        </div>',fb([o.RefSelector("eChart")],t.prototype,"eChart",void 0),fb([o.RefSelector("eChartContainer")],t.prototype,"eChartContainer",void 0),fb([o.RefSelector("eMenuContainer")],t.prototype,"eMenuContainer",void 0),fb([o.RefSelector("eEmpty")],t.prototype,"eEmpty",void 0),fb([o.RefSelector("eTitleEditContainer")],t.prototype,"eTitleEditContainer",void 0),fb([o.Autowired("environment")],t.prototype,"environment",void 0),fb([o.Autowired("columnModel")],t.prototype,"columnModel",void 0),fb([o.Autowired("chartCrossFilterService")],t.prototype,"crossFilterService",void 0),fb([o.Autowired("chartTranslationService")],t.prototype,"chartTranslationService",void 0),fb([o.Autowired("gridApi")],t.prototype,"gridApi",void 0),fb([o.Autowired("columnApi")],t.prototype,"columnApi",void 0),fb([o.Autowired("popupService")],t.prototype,"popupService",void 0),fb([o.PostConstruct],t.prototype,"init",null),t}(o.Component),yb="27.3.0";function vb(e){null==e.version&&(e.version="27.1.0");!function(e){var t="string"===typeof e?e.split(".").map((function(e){return Number(e)})):[];if(3!==t.length||t.some((function(e){return isNaN(e)})))throw new Error("AG Grid - Illegal version string: "+e);t[0],t[1],t[2]}(e.version);return e}var mb,bb=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Cb=function(){return Cb=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Cb.apply(this,arguments)},wb=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},xb=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.activeCharts=new Set,t.activeChartComps=new Set,t.crossFilteringContext={lastSelectedChartId:""},t}return bb(t,e),t.prototype.getChartModels=function(){var e=[];return this.activeChartComps.forEach((function(t){return e.push(function(e){return Cb(Cb({},e),{version:yb})}(t.getChartModel()))})),e},t.prototype.getChartRef=function(e){var t;return this.activeCharts.forEach((function(r){r.chartId===e&&(t=r)})),t},t.prototype.getChartImageDataURL=function(e){var t;return this.activeChartComps.forEach((function(r){r.getChartId()===e.chartId&&(t=r.getChartImageDataURL(e.fileFormat))})),t},t.prototype.createChartFromCurrentRange=function(e){void 0===e&&(e="groupedColumn");var t=this.getSelectedRange();return this.createChart(t,e)},t.prototype.restoreChart=function(e,t){var r=this;if(e){e.version!==yb&&(e=vb(e));var n={cellRange:e.cellRange,chartType:e.chartType,chartThemeName:e.chartThemeName,chartContainer:t,suppressChartRanges:e.suppressChartRanges,aggFunc:e.aggFunc,unlinkChart:e.unlinkChart,seriesChartTypes:e.seriesChartTypes},o=function(e){return r.rangeService?r.rangeService.createCellRangeFromCellRangeParams(e):void 0};if("pivot"===e.modelType){this.columnModel.isPivotMode()||this.columnModel.setPivotMode(!0,"pivotChart");var i=o({rowStartIndex:null,rowEndIndex:null,columns:this.columnModel.getAllDisplayedColumns().map((function(e){return e.getColId()}))});return i?this.createChart(i,n.chartType,n.chartThemeName,!0,!0,n.chartContainer,void 0,void 0,n.unlinkChart,!1,e.chartOptions):void console.warn("AG Grid - unable to create chart as there are no columns in the grid.")}var a=o(n.cellRange);if(a)return this.createChart(a,n.chartType,n.chartThemeName,!1,n.suppressChartRanges,n.chartContainer,n.aggFunc,void 0,n.unlinkChart,!1,e.chartOptions,e.chartPalette,n.seriesChartTypes);console.warn("AG Grid - unable to create chart as no range is selected")}else console.warn("AG Grid - unable to restore chart as no chart model is provided")},t.prototype.createRangeChart=function(e){var t=this.rangeService?this.rangeService.createCellRangeFromCellRangeParams(e.cellRange):void 0;if(t)return this.createChart(t,e.chartType,e.chartThemeName,!1,e.suppressChartRanges,e.chartContainer,e.aggFunc,e.chartThemeOverrides,e.unlinkChart,void 0,void 0,void 0,e.seriesChartTypes);console.warn("AG Grid - unable to create chart as no range is selected")},t.prototype.createPivotChart=function(e){this.columnModel.isPivotMode()||this.columnModel.setPivotMode(!0,"pivotChart");var t={rowStartIndex:null,rowEndIndex:null,columns:this.columnModel.getAllDisplayedColumns().map((function(e){return e.getColId()}))},r=this.rangeService?this.rangeService.createCellRangeFromCellRangeParams(t):void 0;if(r)return this.createChart(r,e.chartType,e.chartThemeName,!0,!0,e.chartContainer,void 0,e.chartThemeOverrides,e.unlinkChart);console.warn("AG Grid - unable to create chart as there are no columns in the grid.")},t.prototype.createCrossFilterChart=function(e){var t=this.rangeService?this.rangeService.createCellRangeFromCellRangeParams(e.cellRange):void 0;if(t){var r=!("undefined"!==typeof e.suppressChartRanges&&null!==e.suppressChartRanges)||e.suppressChartRanges;return this.createChart(t,e.chartType,e.chartThemeName,!1,r,e.chartContainer,e.aggFunc,e.chartThemeOverrides,e.unlinkChart,!0)}console.warn("AG Grid - unable to create chart as no range is selected")},t.prototype.createChart=function(e,t,r,n,o,i,a,s,l,u,c,p,d){var h=this;void 0===n&&(n=!1),void 0===o&&(o=!1),void 0===l&&(l=!1),void 0===u&&(u=!1);var f=this.gridOptionsWrapper.getCreateChartContainerFunc(),g={chartId:this.generateId(),pivotChart:n,cellRange:e,chartType:t,chartThemeName:r,insideDialog:!(i||f),suppressChartRanges:o,aggFunc:a,chartThemeOverrides:s,unlinkChart:l,crossFiltering:u,crossFilteringContext:this.crossFilteringContext,chartOptionsToRestore:c,chartPaletteToRestore:p,seriesChartTypes:d},y=new gb(g);this.context.createBean(y);var v=this.createChartRef(y);if(i){i.appendChild(y.getGui());var m=this.environment.getTheme();m.el&&!m.el.contains(i)&&i.classList.add(m.theme)}else f?f(v):y.addEventListener(gb.EVENT_DESTROYED,(function(){h.activeChartComps.delete(y),h.activeCharts.delete(v)}));return v},t.prototype.createChartRef=function(e){var t=this,r={destroyChart:function(){t.activeCharts.has(r)&&(t.context.destroyBean(e),t.activeChartComps.delete(e),t.activeCharts.delete(r))},chartElement:e.getGui(),chart:e.getUnderlyingChart(),chartId:e.getChartModel().chartId};return this.activeCharts.add(r),this.activeChartComps.add(e),r},t.prototype.getSelectedRange=function(){var e=this.rangeService.getCellRanges();return e.length>0?e[0]:{}},t.prototype.generateId=function(){return"id-"+Math.random().toString(36).substr(2,16)},t.prototype.destroyAllActiveCharts=function(){this.activeCharts.forEach((function(e){return e.destroyChart()}))},wb([o.Optional("rangeService")],t.prototype,"rangeService",void 0),wb([o.Autowired("columnModel")],t.prototype,"columnModel",void 0),wb([o.Autowired("environment")],t.prototype,"environment",void 0),wb([o.PreDestroy],t.prototype,"destroyAllActiveCharts",null),t=wb([o.Bean("chartService")],t)}(o.BeanStub),Sb=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Eb=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Ob=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var r;return Sb(t,e),r=t,t.prototype.translate=function(e,t){return this.gridOptionsWrapper.getLocaleTextFunc()(e,r.DEFAULT_TRANSLATIONS[e]||t)},t.DEFAULT_TRANSLATIONS={pivotChartTitle:"Pivot Chart",rangeChartTitle:"Range Chart",settings:"Settings",data:"Data",format:"Format",categories:"Categories",defaultCategory:"(None)",series:"Series",xyValues:"X Y Values",paired:"Paired Mode",axis:"Axis",navigator:"Navigator",color:"Color",thickness:"Thickness",xType:"X Type",automatic:"Automatic",category:"Category",number:"Number",time:"Time",xRotation:"X Rotation",yRotation:"Y Rotation",ticks:"Ticks",width:"Width",height:"Height",length:"Length",padding:"Padding",spacing:"Spacing",chart:"Chart",title:"Title",titlePlaceholder:"Chart title - double click to edit",background:"Background",font:"Font",top:"Top",right:"Right",bottom:"Bottom",left:"Left",labels:"Labels",size:"Size",shape:"Shape",minSize:"Minimum Size",maxSize:"Maximum Size",legend:"Legend",position:"Position",markerSize:"Marker Size",markerStroke:"Marker Stroke",markerPadding:"Marker Padding",itemSpacing:"Item Spacing",itemPaddingX:"Item Padding X",itemPaddingY:"Item Padding Y",layoutHorizontalSpacing:"Horizontal Spacing",layoutVerticalSpacing:"Vertical Spacing",strokeWidth:"Stroke Width",offset:"Offset",offsets:"Offsets",tooltips:"Tooltips",callout:"Callout",markers:"Markers",shadow:"Shadow",blur:"Blur",xOffset:"X Offset",yOffset:"Y Offset",lineWidth:"Line Width",lineDash:"Line Dash",normal:"Normal",bold:"Bold",italic:"Italic",boldItalic:"Bold Italic",predefined:"Predefined",fillOpacity:"Fill Opacity",strokeOpacity:"Line Opacity",histogramBinCount:"Bin count",columnGroup:"Column",barGroup:"Bar",pieGroup:"Pie",lineGroup:"Line",scatterGroup:"X Y (Scatter)",areaGroup:"Area",histogramGroup:"Histogram",combinationGroup:"Combination",groupedColumnTooltip:"Grouped",stackedColumnTooltip:"Stacked",normalizedColumnTooltip:"100% Stacked",groupedBarTooltip:"Grouped",stackedBarTooltip:"Stacked",normalizedBarTooltip:"100% Stacked",pieTooltip:"Pie",doughnutTooltip:"Doughnut",lineTooltip:"Line",groupedAreaTooltip:"Area",stackedAreaTooltip:"Stacked",normalizedAreaTooltip:"100% Stacked",scatterTooltip:"Scatter",bubbleTooltip:"Bubble",histogramTooltip:"Histogram",columnLineComboTooltip:"Column & Line",areaColumnComboTooltip:"Area & Column",customComboTooltip:"Custom Combination",noDataToChart:"No data available to be charted.",pivotChartRequiresPivotMode:"Pivot Chart requires Pivot Mode enabled.",chartSettingsToolbarTooltip:"Menu",chartLinkToolbarTooltip:"Linked to Grid",chartUnlinkToolbarTooltip:"Unlinked from Grid",chartDownloadToolbarTooltip:"Download Chart",seriesChartType:"Series Chart Type",seriesType:"Series Type",secondaryAxis:"Secondary Axis"},t=r=Eb([o.Bean("chartTranslationService")],t)}(o.BeanStub),_b=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Pb=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Rb=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var r;return _b(t,e),r=t,t.prototype.filter=function(e,t){void 0===t&&(t=!1);var n=this.gridApi.getFilterModel();if(t)this.resetFilters(n);else{var o=r.extractFilterColId(e);this.isValidColumnFilter(o)?this.updateFilters(n,e,o):console.warn("AG Grid: cross filtering requires a 'agSetColumnFilter' or 'agMultiColumnFilter' to be defined on the column with id: '"+o+"'")}},t.prototype.resetFilters=function(e){Object.keys(e).length>0&&(this.gridApi.setFilterModel(null),this.gridApi.onFilterChanged())},t.prototype.updateFilters=function(e,t,n){var i,a=r.extractFilterColId(t),s=t.datum[a];if(void 0!==s){var l=s.toString();if(t.event.metaKey||t.event.ctrlKey){var u=this.getCurrentGridValuesForCategory(n),c=void 0;o._.includes(u,l)?c=u.filter((function(e){return e!==l})):(c=u).push(l),e[n]=this.getUpdatedFilterModel(n,c)}else{c=[l];(i={})[n]=this.getUpdatedFilterModel(n,c),e=i}this.gridApi.setFilterModel(e)}},t.prototype.getUpdatedFilterModel=function(e,t){return"agMultiColumnFilter"===this.getColumnFilterType(e)?{filterType:"multi",filterModels:[null,{filterType:"set",values:t}]}:{filterType:"set",values:t}},t.prototype.getCurrentGridValuesForCategory=function(e){var t=this,r=[],n=this.getColumnById(e);return this.gridApi.forEachNodeAfterFilter((function(e){if(n&&!e.group){var o=t.valueService.getValue(n,e)+"";r.includes(o)||r.push(o)}})),r},t.extractFilterColId=function(e){return e.xKey?e.xKey:e.labelKey},t.prototype.isValidColumnFilter=function(e){e.indexOf("-filtered-out")&&(e=e.replace("-filtered-out",""));var t=this.getColumnFilterType(e);return"boolean"===typeof t?t:o._.includes(["agSetColumnFilter","agMultiColumnFilter"],t)},t.prototype.getColumnFilterType=function(e){var t=this.getColumnById(e);if(t){var r=t.getColDef();return null!=r.filter?r.filter:r.filterFramework}},t.prototype.getColumnById=function(e){return this.columnModel.getGridColumn(e)},Pb([o.Autowired("gridApi")],t.prototype,"gridApi",void 0),Pb([o.Autowired("columnModel")],t.prototype,"columnModel",void 0),Pb([o.Autowired("valueService")],t.prototype,"valueService",void 0),t=r=Pb([o.Bean("chartCrossFilterService")],t)}(o.BeanStub),Ab=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Tb=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Db=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},Mb=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Db(arguments[t]));return e},kb=function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Nb=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cellRanges=[],t.bodyScrollListener=t.onBodyScroll.bind(t),t.dragging=!1,t}return Ab(t,e),t.prototype.init=function(){var e=this;this.addManagedListener(this.eventService,o.Events.EVENT_NEW_COLUMNS_LOADED,(function(){return e.onColumnsChanged()})),this.addManagedListener(this.eventService,o.Events.EVENT_COLUMN_VISIBLE,this.onColumnsChanged.bind(this)),this.addManagedListener(this.eventService,o.Events.EVENT_COLUMN_VALUE_CHANGED,this.onColumnsChanged.bind(this)),this.addManagedListener(this.eventService,o.Events.EVENT_COLUMN_PIVOT_MODE_CHANGED,(function(){return e.removeAllCellRanges()})),this.addManagedListener(this.eventService,o.Events.EVENT_COLUMN_ROW_GROUP_CHANGED,(function(){return e.removeAllCellRanges()})),this.addManagedListener(this.eventService,o.Events.EVENT_COLUMN_PIVOT_CHANGED,(function(){return e.removeAllCellRanges()})),this.addManagedListener(this.eventService,o.Events.EVENT_COLUMN_GROUP_OPENED,this.refreshLastRangeStart.bind(this)),this.addManagedListener(this.eventService,o.Events.EVENT_COLUMN_MOVED,this.refreshLastRangeStart.bind(this)),this.addManagedListener(this.eventService,o.Events.EVENT_COLUMN_PINNED,this.refreshLastRangeStart.bind(this)),this.ctrlsService.whenReady((function(){var t=e.ctrlsService.getGridBodyCtrl();e.autoScrollService=new o.AutoScrollService({scrollContainer:t.getBodyViewportElement(),scrollAxis:"xy",getVerticalPosition:function(){return t.getScrollFeature().getVScrollPosition().top},setVerticalPosition:function(e){return t.getScrollFeature().setVerticalScrollPosition(e)},getHorizontalPosition:function(){return t.getScrollFeature().getHScrollPosition().left},setHorizontalPosition:function(e){return t.getScrollFeature().setHorizontalScrollPosition(e)},shouldSkipVerticalScroll:function(){return e.gridOptionsWrapper.getDomLayout()!==o.Constants.DOM_LAYOUT_NORMAL},shouldSkipHorizontalScroll:function(){return t.getScrollFeature().isHorizontalScrollShowing()}})}))},t.prototype.onColumnsChanged=function(){var e=this;this.refreshLastRangeStart();var t=this.columnModel.getAllDisplayedColumns();this.cellRanges.forEach((function(r){var n=r.columns;r.columns=r.columns.filter((function(e){return e.isVisible()&&-1!==t.indexOf(e)})),!o._.areEqual(n,r.columns)&&e.dispatchChangedEvent(!1,!0,r.id)}));var r=this.cellRanges.length;this.cellRanges=this.cellRanges.filter((function(e){return e.columns.length>0})),r>this.cellRanges.length&&this.dispatchChangedEvent(!1,!0)},t.prototype.refreshLastRangeStart=function(){var e=o._.last(this.cellRanges);e&&this.refreshRangeStart(e)},t.prototype.isContiguousRange=function(e){var t=e.columns;if(!t.length)return!1;var r=this.columnModel.getAllDisplayedColumns(),n=t.map((function(e){return r.indexOf(e)})).sort((function(e,t){return e-t}));return o._.last(n)-n[0]+1===t.length},t.prototype.getRangeStartRow=function(e){return e.startRow&&e.endRow?this.rowPositionUtils.before(e.startRow,e.endRow)?e.startRow:e.endRow:{rowIndex:0,rowPinned:this.pinnedRowModel.getPinnedTopRowCount()>0?o.Constants.PINNED_TOP:null}},t.prototype.getRangeEndRow=function(e){if(e.startRow&&e.endRow)return this.rowPositionUtils.before(e.startRow,e.endRow)?e.endRow:e.startRow;var t=this.pinnedRowModel.getPinnedBottomRowCount();return t>0?{rowIndex:t-1,rowPinned:o.Constants.PINNED_BOTTOM}:{rowIndex:this.rowModel.getRowCount()-1,rowPinned:null}},t.prototype.setRangeToCell=function(e,t){if(void 0===t&&(t=!1),this.gridOptionsWrapper.isEnableRangeSelection()){var r=this.calculateColumnsBetween(e.column,e.column);if(r){(this.gridOptionsWrapper.isSuppressMultiRangeSelection()||!t||o._.missing(this.cellRanges))&&this.removeAllCellRanges(!0);for(var n,i={rowIndex:e.rowIndex,rowPinned:e.rowPinned},a=0;a<this.cellRanges.length;a++){var s=this.cellRanges[a];if(s.columns&&1===s.columns.length&&s.columns[0]===e.column&&this.rowPositionUtils.sameRow(i,s.startRow)&&this.rowPositionUtils.sameRow(i,s.endRow)){n=s;break}}n?o._.last(this.cellRanges)!==n&&(o._.removeFromArray(this.cellRanges,n),this.cellRanges.push(n)):(n={startRow:i,endRow:i,columns:r,startColumn:e.column},this.cellRanges.push(n)),this.setNewestRangeStartCell(e),this.onDragStop(),this.dispatchChangedEvent(!0,!0,n.id)}}},t.prototype.extendLatestRangeToCell=function(e){if(!this.isEmpty()&&this.newestRangeStartCell){var t=o._.last(this.cellRanges);this.updateRangeEnd(t,e)}},t.prototype.updateRangeEnd=function(e,t,r){void 0===r&&(r=!1);var n=t.column,o=this.calculateColumnsBetween(e.startColumn,n);o&&!this.isLastCellOfRange(e,t)&&(e.columns=o,e.endRow={rowIndex:t.rowIndex,rowPinned:t.rowPinned},r||this.dispatchChangedEvent(!0,!0,e.id))},t.prototype.refreshRangeStart=function(e){var t=e.startColumn,r=e.columns,n=function(t,r){var n=e.columns.filter((function(e){return e!==t}));t?(e.startColumn=t,e.columns=r?Mb([t],n):Mb(n,[t])):e.columns=n},i=this.getRangeEdgeColumns(e),a=i.left,s=i.right;t===r[0]&&t!==a?n(a,!0):t===o._.last(r)&&t===s&&n(s,!1)},t.prototype.getRangeEdgeColumns=function(e){var t=this.columnModel.getAllDisplayedColumns(),r=e.columns.map((function(e){return t.indexOf(e)})).filter((function(e){return e>-1})).sort((function(e,t){return e-t}));return{left:t[r[0]],right:t[o._.last(r)]}},t.prototype.extendLatestRangeInDirection=function(e){if(!this.isEmpty()&&this.newestRangeStartCell){var t=e.key,r=e.ctrlKey||e.metaKey,n=o._.last(this.cellRanges),i=this.newestRangeStartCell,a=n.columns[0],s=o._.last(n.columns),l=n.endRow.rowIndex,u=n.endRow.rowPinned,c={column:i.column===a?s:a,rowIndex:l,rowPinned:u},p=this.cellNavigationService.getNextCellToFocus(t,c,r);if(p)return this.setCellRange({rowStartIndex:i.rowIndex,rowStartPinned:i.rowPinned,rowEndIndex:p.rowIndex,rowEndPinned:p.rowPinned,columnStart:i.column,columnEnd:p.column}),p}},t.prototype.setCellRange=function(e){this.gridOptionsWrapper.isEnableRangeSelection()&&(this.removeAllCellRanges(!0),this.addCellRange(e))},t.prototype.setCellRanges=function(e){var t=this;o._.shallowCompare(this.cellRanges,e)||(this.removeAllCellRanges(!0),e.forEach((function(e){e.columns&&e.startRow&&t.setNewestRangeStartCell({rowIndex:e.startRow.rowIndex,rowPinned:e.startRow.rowPinned,column:e.columns[0]}),t.cellRanges.push(e)})),this.dispatchChangedEvent(!1,!0))},t.prototype.setNewestRangeStartCell=function(e){this.newestRangeStartCell=e},t.prototype.createCellRangeFromCellRangeParams=function(e){var t,r=this,n=!1;if(e.columns)t=e.columns.map((function(e){return r.columnModel.getColumnWithValidation(e)})).filter((function(e){return e}));else{var i=this.columnModel.getColumnWithValidation(e.columnStart),a=this.columnModel.getColumnWithValidation(e.columnEnd);if(!i||!a)return;(t=this.calculateColumnsBetween(i,a))&&t.length&&(n=t[0]!==i)}if(t)return{startRow:null!=e.rowStartIndex?{rowIndex:e.rowStartIndex,rowPinned:e.rowStartPinned||null}:void 0,endRow:null!=e.rowEndIndex?{rowIndex:e.rowEndIndex,rowPinned:e.rowEndPinned||null}:void 0,columns:t,startColumn:n?o._.last(t):t[0]}},t.prototype.addCellRange=function(e){if(this.gridOptionsWrapper.isEnableRangeSelection()){var t=this.createCellRangeFromCellRangeParams(e);t&&(t.startRow&&this.setNewestRangeStartCell({rowIndex:t.startRow.rowIndex,rowPinned:t.startRow.rowPinned,column:t.startColumn}),this.cellRanges.push(t),this.dispatchChangedEvent(!1,!0,t.id))}},t.prototype.getCellRanges=function(){return this.cellRanges},t.prototype.isEmpty=function(){return 0===this.cellRanges.length},t.prototype.isMoreThanOneCell=function(){var e=this.cellRanges.length;if(0===e)return!1;if(e>1)return!0;var t=this.cellRanges[0],r=this.getRangeStartRow(t),n=this.getRangeEndRow(t);return r.rowPinned!==n.rowPinned||r.rowIndex!==n.rowIndex||1!==t.columns.length},t.prototype.areAllRangesAbleToMerge=function(){var e,t,r,n=this,o=new Map;if(this.cellRanges.length<=1)return!0;this.cellRanges.forEach((function(e){for(var t=n.getRangeStartRow(e),r=n.getRangeEndRow(e),i=t,a=function(){var t=(i.rowPinned||"normal")+"_"+i.rowIndex,a=o.get(t),s=e.columns.map((function(e){return e.getId()}));if(a){var l=s.filter((function(e){return-1===a.indexOf(e)}));a.push.apply(a,Mb(l))}else o.set(t,s);if(n.rowPositionUtils.sameRow(i,r))return"break";i=n.cellNavigationService.getRowBelow(i)};i;){if("break"===a())break}}));try{for(var i=kb(o.values()),a=i.next();!a.done;a=i.next()){var s=a.value.sort().join();if(void 0!==r){if(r!==s)return!1}else r=s}}catch(l){e={error:l}}finally{try{a&&!a.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return!0},t.prototype.removeAllCellRanges=function(e){this.isEmpty()||(this.onDragStop(),this.cellRanges.length=0,e||this.dispatchChangedEvent(!1,!0))},t.prototype.onBodyScroll=function(){this.dragging&&this.lastMouseEvent&&this.onDragging(this.lastMouseEvent)},t.prototype.isCellInAnyRange=function(e){return this.getCellRangeCount(e)>0},t.prototype.isCellInSpecificRange=function(e,t){var r=null!==t.columns&&o._.includes(t.columns,e.column),n=this.isRowInRange(e.rowIndex,e.rowPinned,t);return r&&n},t.prototype.isLastCellOfRange=function(e,t){var r=e.startRow,n=e.endRow,i=this.rowPositionUtils.before(r,n)?n:r,a=t.rowIndex===i.rowIndex&&t.rowPinned===i.rowPinned,s=e.columns[0],l=o._.last(e.columns),u=e.startColumn===s?l:s;return t.column===u&&a},t.prototype.isBottomRightCell=function(e,t){var r=this.columnModel.getAllDisplayedColumns(),n=e.columns.map((function(e){return r.indexOf(e)})).sort((function(e,t){return e-t})),i=e.startRow,a=e.endRow,s=this.rowPositionUtils.before(i,a)?a:i,l=r.indexOf(t.column)===o._.last(n),u=t.rowIndex===s.rowIndex&&o._.makeNull(t.rowPinned)===o._.makeNull(s.rowPinned);return l&&u},t.prototype.getCellRangeCount=function(e){var t=this;return this.isEmpty()?0:this.cellRanges.filter((function(r){return t.isCellInSpecificRange(e,r)})).length},t.prototype.isRowInRange=function(e,t,r){var n=this.getRangeStartRow(r),o=this.getRangeEndRow(r),i={rowIndex:e,rowPinned:t||null},a=i.rowIndex===n.rowIndex&&i.rowPinned==n.rowPinned,s=i.rowIndex===o.rowIndex&&i.rowPinned==o.rowPinned;if(a||s)return!0;var l=!this.rowPositionUtils.before(i,n),u=this.rowPositionUtils.before(i,o);return l&&u},t.prototype.getDraggingRange=function(){return this.draggingRange},t.prototype.onDragStart=function(e){if(this.gridOptionsWrapper.isEnableRangeSelection()){var t=e.ctrlKey,r=e.metaKey,n=e.shiftKey,i=t||r,a=!!!this.gridOptionsWrapper.isSuppressMultiRangeSelection()&&i,s=n&&o._.existsAndNotEmpty(this.cellRanges);if(a||s&&!o._.exists(o._.last(this.cellRanges).type)||this.removeAllCellRanges(!0),this.cellHoverListener=this.addManagedListener(this.ctrlsService.getGridCtrl().getGui(),"mousemove",this.updateValuesOnMove.bind(this)),this.updateValuesOnMove(e),this.lastCellHovered){if(this.dragging=!0,this.lastMouseEvent=e,s||this.setNewestRangeStartCell(this.lastCellHovered),this.cellRanges.length>0)this.draggingRange=o._.last(this.cellRanges);else{var l={rowIndex:this.lastCellHovered.rowIndex,rowPinned:this.lastCellHovered.rowPinned};this.draggingRange={startRow:l,endRow:l,columns:[this.lastCellHovered.column],startColumn:this.newestRangeStartCell.column},this.cellRanges.push(this.draggingRange)}this.ctrlsService.getGridBodyCtrl().addScrollEventListener(this.bodyScrollListener),this.dispatchChangedEvent(!0,!1,this.draggingRange.id)}}},t.prototype.updateValuesOnMove=function(e){var t=this.mouseEventService.getCellPositionForEvent(e);this.cellHasChanged=!1,!t||this.lastCellHovered&&this.cellPositionUtils.equals(t,this.lastCellHovered)||(this.lastCellHovered&&(this.cellHasChanged=!0),this.lastCellHovered=t)},t.prototype.onDragging=function(e){var t=this;if(this.dragging&&e){this.lastMouseEvent=e;var r=this.lastCellHovered,n=function(e){return r&&r.rowPinned===e&&t.newestRangeStartCell.rowPinned===e},o=n("top")||n("bottom");if(this.autoScrollService.check(e,o),this.cellHasChanged){var i=this.calculateColumnsBetween(this.newestRangeStartCell.column,r.column);i&&(this.draggingRange.endRow={rowIndex:r.rowIndex,rowPinned:r.rowPinned},this.draggingRange.columns=i,this.dispatchChangedEvent(!1,!1,this.draggingRange.id))}}},t.prototype.onDragStop=function(){if(this.cellHoverListener&&(this.cellHoverListener(),this.cellHoverListener=void 0),this.dragging){var e=this.draggingRange.id;this.autoScrollService.ensureCleared(),this.ctrlsService.getGridBodyCtrl().removeScrollEventListener(this.bodyScrollListener),this.lastMouseEvent=null,this.dragging=!1,this.draggingRange=void 0,this.lastCellHovered=void 0,this.dispatchChangedEvent(!1,!0,e)}},t.prototype.dispatchChangedEvent=function(e,t,r){var n=Object.freeze({type:o.Events.EVENT_RANGE_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi,started:e,finished:t,id:r});this.eventService.dispatchEvent(n)},t.prototype.calculateColumnsBetween=function(e,t){var r=this.columnModel.getAllDisplayedColumns(),n=e===t,o=r.indexOf(e);if(o<0)console.warn("AG Grid: column "+e.getId()+" is not visible");else{var i=n?o:r.indexOf(t);if(!(i<0)){if(n)return[e];for(var a=Math.min(o,i),s=a===o?i:o,l=[],u=a;u<=s;u++)l.push(r[u]);return l}console.warn("AG Grid: column "+t.getId()+" is not visible")}},Tb([o.Autowired("rowModel")],t.prototype,"rowModel",void 0),Tb([o.Autowired("columnModel")],t.prototype,"columnModel",void 0),Tb([o.Autowired("mouseEventService")],t.prototype,"mouseEventService",void 0),Tb([o.Autowired("columnApi")],t.prototype,"columnApi",void 0),Tb([o.Autowired("gridApi")],t.prototype,"gridApi",void 0),Tb([o.Autowired("cellNavigationService")],t.prototype,"cellNavigationService",void 0),Tb([o.Autowired("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Tb([o.Autowired("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),Tb([o.Autowired("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),Tb([o.Autowired("ctrlsService")],t.prototype,"ctrlsService",void 0),Tb([o.PostConstruct],t.prototype,"init",null),t=Tb([o.Bean("rangeService")],t)}(o.BeanStub),Ib=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Lb=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Fb=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.changedCalculatedValues=!1,t.dragging=!1,t.shouldDestroyOnEndDragging=!1,t}return Ib(t,e),t.prototype.init=function(){var e=this;this.dragService.addDragSource({dragStartPixels:0,eElement:this.getGui(),onDragStart:this.onDragStart.bind(this),onDragging:function(t){e.dragging=!0,e.rangeService.autoScrollService.check(t),e.changedCalculatedValues&&(e.onDrag(t),e.changedCalculatedValues=!1)},onDragStop:function(t){e.dragging=!1,e.onDragEnd(t),e.clearValues(),e.rangeService.autoScrollService.ensureCleared(),document.body.classList.remove(e.getDraggingCssClass()),e.shouldDestroyOnEndDragging&&e.destroy()}}),this.addManagedListener(this.getGui(),"mousedown",this.preventRangeExtension.bind(this))},t.prototype.isDragging=function(){return this.dragging},t.prototype.getCellCtrl=function(){return this.cellCtrl},t.prototype.setCellCtrl=function(e){this.cellCtrl=e},t.prototype.getCellRange=function(){return this.cellRange},t.prototype.setCellRange=function(e){this.cellRange=e},t.prototype.getRangeStartRow=function(){return this.rangeStartRow},t.prototype.setRangeStartRow=function(e){this.rangeStartRow=e},t.prototype.getRangeEndRow=function(){return this.rangeEndRow},t.prototype.setRangeEndRow=function(e){this.rangeEndRow=e},t.prototype.getLastCellHovered=function(){return this.lastCellHovered},t.prototype.preventRangeExtension=function(e){e.preventDefault(),e.stopPropagation()},t.prototype.onDragStart=function(e){this.cellHoverListener=this.addManagedListener(this.ctrlsService.getGridCtrl().getGui(),"mousemove",this.updateValuesOnMove.bind(this)),document.body.classList.add(this.getDraggingCssClass())},t.prototype.getDraggingCssClass=function(){return"ag-dragging-"+(this.type===o.SelectionHandleType.FILL?"fill":"range")+"-handle"},t.prototype.updateValuesOnMove=function(e){var t=this.mouseEventService.getCellPositionForEvent(e);!t||this.lastCellHovered&&this.cellPositionUtils.equals(t,this.lastCellHovered)||(this.lastCellHovered=t,this.changedCalculatedValues=!0)},t.prototype.getType=function(){return this.type},t.prototype.refresh=function(e){var t=this.getCellCtrl(),r=this.getGui(),n=o._.last(this.rangeService.getCellRanges()),i=n.startRow,a=n.endRow;i&&a&&(this.rowPositionUtils.before(a,i)?(this.setRangeStartRow(a),this.setRangeEndRow(i)):(this.setRangeStartRow(i),this.setRangeEndRow(a)));if(t!==e||!o._.isVisible(r)){this.setCellCtrl(e);var s=e.getComp().getParentOfValue();s&&s.appendChild(r)}this.setCellRange(n)},t.prototype.clearValues=function(){this.lastCellHovered=void 0,this.removeListeners()},t.prototype.removeListeners=function(){this.cellHoverListener&&(this.cellHoverListener(),this.cellHoverListener=void 0)},t.prototype.destroy=function(){if(!this.shouldDestroyOnEndDragging&&this.isDragging())return o._.setDisplayed(this.getGui(),!1),void(this.shouldDestroyOnEndDragging=!0);this.shouldDestroyOnEndDragging=!1,e.prototype.destroy.call(this),this.removeListeners();var t=this.getGui();t.parentElement&&t.parentElement.removeChild(t)},Lb([o.Autowired("rowRenderer")],t.prototype,"rowRenderer",void 0),Lb([o.Autowired("dragService")],t.prototype,"dragService",void 0),Lb([o.Autowired("rangeService")],t.prototype,"rangeService",void 0),Lb([o.Autowired("mouseEventService")],t.prototype,"mouseEventService",void 0),Lb([o.Autowired("columnModel")],t.prototype,"columnModel",void 0),Lb([o.Autowired("cellNavigationService")],t.prototype,"cellNavigationService",void 0),Lb([o.Autowired("navigationService")],t.prototype,"navigationService",void 0),Lb([o.Autowired("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),Lb([o.Autowired("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),Lb([o.Autowired("ctrlsService")],t.prototype,"ctrlsService",void 0),Lb([o.PostConstruct],t.prototype,"init",null),t}(o.Component),Gb=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Bb=function(){return Bb=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Bb.apply(this,arguments)},Wb=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Hb=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},jb=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Hb(arguments[t]));return e},Vb=function(e){function t(){var r=e.call(this,t.TEMPLATE)||this;return r.markedCells=[],r.cellValues=[],r.isUp=!1,r.isLeft=!1,r.isReduce=!1,r.type=o.SelectionHandleType.FILL,r}return Gb(t,e),t.prototype.updateValuesOnMove=function(t){e.prototype.updateValuesOnMove.call(this,t),this.initialXY||(this.initialXY=this.mouseEventService.getNormalisedPosition(t));var r,n=this.initialXY,o=n.x,i=n.y,a=this.mouseEventService.getNormalisedPosition(t),s=a.x,l=a.y,u=Math.abs(o-s),c=Math.abs(i-l),p=this.gridOptionsWrapper.getFillHandleDirection();(r="xy"===p?u>c?"x":"y":p)!==this.dragAxis&&(this.dragAxis=r,this.changedCalculatedValues=!0)},t.prototype.onDrag=function(e){if(!this.initialPosition){var t=this.getCellCtrl();if(!t)return;this.initialPosition=t.getCellPosition()}var r=this.getLastCellHovered();r&&this.markPathFrom(this.initialPosition,r)},t.prototype.onDragEnd=function(e){if(this.initialXY=null,this.markedCells.length){var t,r="x"===this.dragAxis,n=this.getCellRange(),o=n.columns.length,i=this.getRangeStartRow(),a=this.getRangeEndRow();if(this.isUp||this.isLeft){var s=r?i:this.lastCellMarked;t=this.rangeService.createCellRangeFromCellRangeParams({rowStartIndex:s.rowIndex,rowStartPinned:s.rowPinned,columnStart:r?this.lastCellMarked.column:n.columns[0],rowEndIndex:a.rowIndex,rowEndPinned:a.rowPinned,columnEnd:n.columns[o-1]})}else t=this.rangeService.createCellRangeFromCellRangeParams({rowStartIndex:i.rowIndex,rowStartPinned:i.rowPinned,columnStart:n.columns[0],rowEndIndex:r?a.rowIndex:this.lastCellMarked.rowIndex,rowEndPinned:r?a.rowPinned:this.lastCellMarked.rowPinned,columnEnd:r?this.lastCellMarked.column:n.columns[o-1]});t&&(this.raiseFillStartEvent(),this.handleValueChanged(n,t,e),this.rangeService.setCellRanges([t]),this.raiseFillEndEvent(n,t))}},t.prototype.raiseFillStartEvent=function(){var e={type:o.Events.EVENT_FILL_START,columnApi:this.gridOptionsWrapper.getColumnApi(),api:this.gridOptionsWrapper.getApi()};this.eventService.dispatchEvent(e)},t.prototype.raiseFillEndEvent=function(e,t){var r={type:o.Events.EVENT_FILL_END,columnApi:this.gridOptionsWrapper.getColumnApi(),api:this.gridOptionsWrapper.getApi(),initialRange:e,finalRange:t};this.eventService.dispatchEvent(r)},t.prototype.handleValueChanged=function(e,t,r){var n=this,i=this.rangeService.getRangeEndRow(e),a=this.rangeService.getRangeStartRow(e),s=this.rangeService.getRangeEndRow(t),l=this.rangeService.getRangeStartRow(t),u="y"===this.dragAxis;if(!this.isReduce||this.gridOptionsWrapper.isSuppressClearOnFillReduction()){var c=!0,p=[],d=[],h=0,f=function(){p.length=0,d.length=0,h=0},g=function(t,r){var d=n.isUp?i:a,h=!1;u&&(c=!0,f());for(var g=function(){var g=n.rowPositionUtils.getRowNode(d);if(!g)return"break";u&&t?y(p,t,g,(function(){return!n.rowPositionUtils.sameRow(d,n.isUp?a:i)})):r&&(c=!0,f(),r.forEach((function(t){return y(p,t,g,(function(){return t!==(n.isLeft?e.columns[0]:o._.last(e.columns))}))}))),h=n.rowPositionUtils.sameRow(d,n.isUp?l:s),d=n.isUp?n.cellNavigationService.getRowAbove(d):n.cellNavigationService.getRowBelow(d)};!h&&d;){if("break"===g())break}},y=function(e,t,o,i){var a,s=!1;if(c)a=n.valueService.getValue(t,o),d.push(a),c=i();else{var l=n.processValues(r,e,d,t,o,h++),u=l.value,p=l.fromUserFunction;if(a=u,t.isCellEditable(o)){var f=n.valueService.getValue(t,o);p&&f===a?s=!0:o.setDataValue(t,a)}}s||e.push(a)};if(u)e.columns.forEach((function(e){g(e)}));else{v=this.isLeft?jb(t.columns).reverse():t.columns;g(void 0,v)}}else{var v=u?e.columns:e.columns.filter((function(e){return t.columns.indexOf(e)<0})),m=u?this.cellNavigationService.getRowBelow(s):l;m&&this.clearCellsInRange(m,i,v)}},t.prototype.clearCellsInRange=function(e,t,r){for(var n=e,o=!1,i=function(){var e=a.rowPositionUtils.getRowNode(n);if(!e)return"break";r.forEach((function(t){t.isCellEditable(e)&&e.setDataValue(t,null)})),o=a.rowPositionUtils.sameRow(n,t),n=a.cellNavigationService.getRowBelow(n)},a=this;!o&&n;){if("break"===i())break}},t.prototype.processValues=function(e,t,r,n,i,a){var s,l=this.gridOptionsWrapper.getFillOperation();if(s="y"===this.dragAxis?this.isUp?"up":"down":this.isLeft?"left":"right",l){var u=l({event:e,values:t,initialValues:r,currentIndex:a,currentCellValue:this.valueService.getValue(n,i),direction:s,column:n,rowNode:i});if(!1!==u)return{value:u,fromUserFunction:!0}}var c=!t.some((function(e){var t=parseFloat(e);return isNaN(t)||t.toString()!==e.toString()}));if(e.altKey||!c){if(c&&1===r.length){var p=this.isUp||this.isLeft?-1:1;return{value:parseFloat(o._.last(t))+1*p,fromUserFunction:!1}}return{value:t[a%t.length],fromUserFunction:!1}}return{value:o._.last(o._.findLineByLeastSquares(t.map(Number))),fromUserFunction:!1}},t.prototype.clearValues=function(){this.clearMarkedPath(),this.clearCellValues(),this.lastCellMarked=void 0,e.prototype.clearValues.call(this)},t.prototype.clearMarkedPath=function(){this.markedCells.forEach((function(e){var t=e.getComp();t.addOrRemoveCssClass("ag-selection-fill-top",!1),t.addOrRemoveCssClass("ag-selection-fill-right",!1),t.addOrRemoveCssClass("ag-selection-fill-bottom",!1),t.addOrRemoveCssClass("ag-selection-fill-left",!1)})),this.markedCells.length=0,this.isUp=!1,this.isLeft=!1,this.isReduce=!1},t.prototype.clearCellValues=function(){this.cellValues.length=0},t.prototype.markPathFrom=function(e,t){if(this.clearMarkedPath(),this.clearCellValues(),"y"===this.dragAxis){if(this.rowPositionUtils.sameRow(t,e))return;var r=this.rowPositionUtils.before(t,e),n=this.getRangeStartRow(),o=this.getRangeEndRow();r&&(t.rowPinned==n.rowPinned&&t.rowIndex>=n.rowIndex||n.rowPinned!=o.rowPinned&&t.rowPinned==o.rowPinned&&t.rowIndex<=o.rowIndex)?(this.reduceVertical(e,t),this.isReduce=!0):(this.extendVertical(e,t,r),this.isReduce=!1)}else{var i=e.column,a=t.column;if(i===a)return;var s=this.columnModel.getAllDisplayedColumns(),l=s.indexOf(i),u=s.indexOf(a);u<=l&&u>=s.indexOf(this.getCellRange().columns[0])?(this.reduceHorizontal(e,t),this.isReduce=!0):(this.extendHorizontal(e,t,u<l),this.isReduce=!1)}this.lastCellMarked=t},t.prototype.extendVertical=function(e,t,r){var n=this.navigationService,o=this.rangeService,i=e;do{for(var a=this.getCellRange(),s=a.columns.length,l=0;l<s;l++){var u=a.columns[l],c={rowIndex:i.rowIndex,rowPinned:i.rowPinned},p=Bb(Bb({},c),{column:u}),d=o.isCellInSpecificRange(p,a),h=this.rowPositionUtils.sameRow(i,e);if(r&&(this.isUp=!0),!h){var f=n.getCellByPosition(p);if(f){this.markedCells.push(f);var g=f.getComp();d||(g.addOrRemoveCssClass("ag-selection-fill-left",0===l),g.addOrRemoveCssClass("ag-selection-fill-right",l===s-1)),g.addOrRemoveCssClass(r?"ag-selection-fill-top":"ag-selection-fill-bottom",this.rowPositionUtils.sameRow(i,t))}}}if(this.rowPositionUtils.sameRow(i,t))break}while(i=r?this.cellNavigationService.getRowAbove(i):this.cellNavigationService.getRowBelow(i))},t.prototype.reduceVertical=function(e,t){var r=e;do{for(var n=this.getCellRange(),o=n.columns.length,i=this.rowPositionUtils.sameRow(r,t),a=0;a<o;a++){var s={rowIndex:r.rowIndex,rowPinned:r.rowPinned},l=Bb(Bb({},s),{column:n.columns[a]}),u=this.navigationService.getCellByPosition(l);if(u)this.markedCells.push(u),u.getComp().addOrRemoveCssClass("ag-selection-fill-bottom",this.rowPositionUtils.sameRow(r,t))}if(i)break}while(r=this.cellNavigationService.getRowAbove(r))},t.prototype.extendHorizontal=function(e,t,r){var n=this,i=this.columnModel.getAllDisplayedColumns(),a=i.indexOf(r?t.column:e.column),s=i.indexOf(r?this.getCellRange().columns[0]:t.column),l=r?0:1,u=i.slice(a+l,s+l),c=this.getRangeStartRow(),p=this.getRangeEndRow();u.forEach((function(e){var t=c,i=!1;do{i=n.rowPositionUtils.sameRow(t,p);var a=n.navigationService.getCellByPosition({rowIndex:t.rowIndex,rowPinned:t.rowPinned,column:e});if(a){n.markedCells.push(a);var s=a.getComp();s.addOrRemoveCssClass("ag-selection-fill-top",n.rowPositionUtils.sameRow(t,c)),s.addOrRemoveCssClass("ag-selection-fill-bottom",n.rowPositionUtils.sameRow(t,p)),r?(n.isLeft=!0,s.addOrRemoveCssClass("ag-selection-fill-left",e===u[0])):s.addOrRemoveCssClass("ag-selection-fill-right",e===o._.last(u))}t=n.cellNavigationService.getRowBelow(t)}while(!i)}))},t.prototype.reduceHorizontal=function(e,t){var r=this,n=this.columnModel.getAllDisplayedColumns(),o=n.indexOf(t.column),i=n.indexOf(e.column),a=n.slice(o,i),s=this.getRangeStartRow(),l=this.getRangeEndRow();a.forEach((function(e){var t=s,n=!1;do{n=r.rowPositionUtils.sameRow(t,l);var o=r.navigationService.getCellByPosition({rowIndex:t.rowIndex,rowPinned:t.rowPinned,column:e});if(o)r.markedCells.push(o),o.getComp().addOrRemoveCssClass("ag-selection-fill-right",e===a[0]);t=r.cellNavigationService.getRowBelow(t)}while(!n)}))},t.prototype.refresh=function(t){var r=this.rangeService.getCellRanges()[0];r.startRow&&r.endRow?e.prototype.refresh.call(this,t):this.destroy()},t.TEMPLATE='<div class="ag-fill-handle"></div>',Wb([o.Autowired("valueService")],t.prototype,"valueService",void 0),t}(Fb),zb=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ub=function(){return Ub=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ub.apply(this,arguments)},Yb=function(e){function t(){var r=e.call(this,t.TEMPLATE)||this;return r.type=o.SelectionHandleType.RANGE,r.rangeFixed=!1,r}return zb(t,e),t.prototype.onDrag=function(e){var t=this.getLastCellHovered();if(t){var r=this.rangeService.getCellRanges(),n=o._.last(r);if(this.rangeFixed||(this.fixRangeStartEnd(n),this.rangeFixed=!0),this.endPosition={rowIndex:t.rowIndex,rowPinned:t.rowPinned,column:t.column},2===r.length&&r[0].type===o.CellRangeType.DIMENSION&&n.type===o.CellRangeType.VALUE)!this.rowPositionUtils.sameRow(this.endPosition,this.rangeService.getRangeEndRow(n))&&this.rangeService.updateRangeEnd(r[0],Ub(Ub({},this.endPosition),{column:r[0].columns[0]}),!0);this.rangeService.extendLatestRangeToCell(this.endPosition)}},t.prototype.onDragEnd=function(e){var t=o._.last(this.rangeService.getCellRanges());this.fixRangeStartEnd(t),this.rangeFixed=!1},t.prototype.fixRangeStartEnd=function(e){var t=this.rangeService.getRangeStartRow(e),r=this.rangeService.getRangeEndRow(e),n=e.columns[0];e.startRow=t,e.endRow=r,e.startColumn=n},t.TEMPLATE='<div class="ag-range-handle"></div>',t}(Fb),Xb=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Kb=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},qb=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Xb(t,e),t.prototype.createSelectionHandle=function(e){return this.createBean(e===o.SelectionHandleType.RANGE?new Yb:new Vb)},t=Kb([o.Bean("selectionHandleFactory")],t)}(o.BeanStub),$b={moduleName:o.ModuleNames.RangeSelectionModule,beans:[Nb,qb],agStackComponents:[{componentName:"AgFillHandle",componentClass:Vb},{componentName:"AgRangeHandle",componentClass:Yb}],dependantModules:[g]},Zb={moduleName:o.ModuleNames.GridChartsModule,beans:[xb,Ob,Rb],dependantModules:[$b,g]},Qb=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Jb=function(){return Jb=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Jb.apply(this,arguments)},eC=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},tC=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.loadRowDataVersion=0,t.needRefresh=!1,t}return Qb(t,e),t.prototype.init=function(e,t){var r=this;this.params=t,this.comp=e,null!=t.pinned||(this.setAutoHeightClasses(),this.setupRefreshStrategy(),this.addThemeToDetailGrid(),this.createDetailGrid(),this.loadRowData(),this.addManagedListener(t.node.parent,o.RowNode.EVENT_DATA_CHANGED,(function(){r.needRefresh=!0})),this.addManagedListener(this.eventService,o.Events.EVENT_FULL_WIDTH_ROW_FOCUSED,this.onFullWidthRowFocused.bind(this)))},t.prototype.onFullWidthRowFocused=function(e){var t=this.params,r={rowIndex:t.node.rowIndex,rowPinned:t.node.rowPinned},n={rowIndex:e.rowIndex,rowPinned:e.rowPinned};this.rowPositionUtils.sameRow(r,n)&&this.focusService.focusInto(this.comp.getGui(),e.fromBelow)},t.prototype.setAutoHeightClasses=function(){var e=this.gridOptionsWrapper.isDetailRowAutoHeight(),t=e?"ag-details-row-auto-height":"ag-details-row-fixed-height",r=e?"ag-details-grid-auto-height":"ag-details-grid-fixed-height";this.comp.addOrRemoveCssClass(t,!0),this.comp.addOrRemoveDetailGridCssClass(r,!0)},t.prototype.setupRefreshStrategy=function(){if(this.params.suppressRefresh)return console.warn("AG Grid: as of v23.2.0, cellRendererParams.suppressRefresh for Detail Cell Renderer is no longer used. Please set cellRendererParams.refreshStrategy = 'nothing' instead."),void(this.refreshStrategy="nothing");var e=this.params.refreshStrategy;"everything"==e||"nothing"==e||"rows"==e?this.refreshStrategy=e:(null!=e&&console.warn("AG Grid: invalid cellRendererParams.refreshStrategy = '"+e+"' supplied, defaulting to refreshStrategy = 'rows'."),this.refreshStrategy="rows")},t.prototype.addThemeToDetailGrid=function(){var e=this.environment.getTheme().theme;e&&this.comp.addOrRemoveDetailGridCssClass(e,!0)},t.prototype.createDetailGrid=function(){if(o._.missing(this.params.detailGridOptions))console.warn("AG Grid: could not find detail grid options for master detail, please set gridOptions.detailCellRendererParams.detailGridOptions");else{var e=this.gridOptionsWrapper.isDetailRowAutoHeight(),t=Jb({},this.params.detailGridOptions);e&&(t.domLayout="autoHeight"),this.comp.setDetailGrid(t)}},t.prototype.registerDetailWithMaster=function(e,t){var r=this.params.node.id,n=this.params.api,o={id:r,api:e,columnApi:t},i=this.params.node;n.addDetailGridInfo(r,o),i.detailGridInfo=o,this.addDestroyFunc((function(){i.detailGridInfo===o&&(n.removeDetailGridInfo(r),i.detailGridInfo=null)}))},t.prototype.loadRowData=function(){var e=this;this.loadRowDataVersion++;var t=this.loadRowDataVersion,r=this.params.getDetailRowData;if(r){r({node:this.params.node,data:this.params.node.data,successCallback:function(r){e.loadRowDataVersion===t&&e.comp.setRowData(r)},context:this.gridOptionsWrapper.getContext()})}else console.warn("AG Grid: could not find getDetailRowData for master / detail, please set gridOptions.detailCellRendererParams.getDetailRowData")},t.prototype.refresh=function(){return!this.needRefresh||"nothing"===this.refreshStrategy||(this.needRefresh=!1,"everything"!==this.refreshStrategy&&(this.loadRowData(),true))},eC([o.Autowired("environment")],t.prototype,"environment",void 0),eC([o.Autowired("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),eC([o.Autowired("focusService")],t.prototype,"focusService",void 0),t}(o.BeanStub),rC=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),nC=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},oC=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return rC(t,e),t.prototype.init=function(e){var t=this;this.params=e,this.selectAndSetTemplate();var r={addOrRemoveCssClass:function(e,r){return t.addOrRemoveCssClass(e,r)},addOrRemoveDetailGridCssClass:function(e,r){return t.eDetailGrid.classList.toggle(e,r)},setDetailGrid:function(e){return t.setDetailGrid(e)},setRowData:function(e){return t.setRowData(e)},getGui:function(){return t.eDetailGrid}};this.ctrl=this.createManagedBean(new tC),this.ctrl.init(r,e)},t.prototype.refresh=function(){return this.ctrl&&this.ctrl.refresh()},t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.prototype.selectAndSetTemplate=function(){var e=this;if(this.params.pinned)this.setTemplate('<div class="ag-details-row"></div>');else{var r=function(){e.setTemplate(t.TEMPLATE)};if(o._.missing(this.params.template))r();else if("string"===typeof this.params.template)this.setTemplate(this.params.template);else if("function"===typeof this.params.template){var n=(0,this.params.template)(this.params);this.setTemplate(n)}else console.warn("AG Grid: detailCellRendererParams.template should be function or string"),r();null==this.eDetailGrid&&console.warn('AG Grid: reference to eDetailGrid was missing from the details template. Please add ref="eDetailGrid" to the template.')}},t.prototype.setDetailGrid=function(e){if(this.eDetailGrid){var t=this.context.getBean("agGridReact"),r=t?o._.cloneObject(t):void 0,n=this.context.getBean("frameworkComponentWrapper"),i=this.getFrameworkOverrides();new o.Grid(this.eDetailGrid,e,{frameworkOverrides:i,providedBeanInstances:{agGridReact:r,frameworkComponentWrapper:n}}),this.detailApi=e.api,this.ctrl.registerDetailWithMaster(e.api,e.columnApi),this.addDestroyFunc((function(){e.api&&e.api.destroy()}))}},t.prototype.setRowData=function(e){this.detailApi&&this.detailApi.setRowData(e)},t.TEMPLATE='<div class="ag-details-row">\n            <div ref="eDetailGrid" class="ag-details-grid"></div>\n        </div>',nC([o.RefSelector("eDetailGrid")],t.prototype,"eDetailGrid",void 0),t}(o.Component),iC={moduleName:o.ModuleNames.MasterDetailModule,beans:[],userComponents:[{componentName:"agDetailCellRenderer",componentClass:oC}],controllers:[{controllerName:"detailCellRenderer",controllerClass:tC}],dependantModules:[g]},aC=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),sC=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},lC=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return aC(t,e),t.prototype.hideActiveMenu=function(){this.destroyBean(this.activeMenu)},t.prototype.showMenuAfterMouseEvent=function(e,t,r){var n=this;this.showMenu(e,(function(o){var i=o.getGui();n.popupService.positionPopupUnderMouseEvent({type:"columnMenu",column:e,mouseEvent:t,ePopup:i}),r&&o.showTab(r)}),"columnMenu",r,void 0,t.target)},t.prototype.showMenuAfterButtonClick=function(e,t,r,n,o){var i=this,a=-1,s="left";this.gridOptionsWrapper.isEnableRtl()&&(a=1,s="right"),this.showMenu(e,(function(o){var l=o.getGui();i.popupService.positionPopupUnderComponent({type:r,column:e,eventSource:t,ePopup:l,alignSide:s,nudgeX:9*a,nudgeY:-23,keepWithinBounds:!0}),n&&o.showTab(n)}),r,n,o,t)},t.prototype.showMenu=function(e,t,r,n,i,a){var s=this,l=this.createBean(new uC(e,this.lastSelectedTab,i)),u=l.getGui(),c=a||this.ctrlsService.getGridBodyCtrl().getGui(),p=[];p.push((function(t){if(s.destroyBean(l),e.setMenuVisible(!1,"contextMenu"),t instanceof KeyboardEvent&&a&&o._.isVisible(a)){var r=s.focusService.findTabbableParent(a);r&&r.focus()}}));var d=this.gridOptionsWrapper.getLocaleTextFunc(),h=this.popupService.addPopup({modal:!0,eChild:u,closeOnEsc:!0,closedCallback:function(e){p.forEach((function(t){return t(e)}))},afterGuiAttached:function(e){return l.afterGuiAttached(Object.assign({},{container:r},e))},positionCallback:function(){return t(l)},anchorToElement:c,ariaLabel:d("ariaLabelColumnMenu","Column Menu")});if(h){var f=h.stopAnchoringPromise;f&&f.then((function(t){e.addEventListener(o.Column.EVENT_LEFT_CHANGED,t),e.addEventListener(o.Column.EVENT_VISIBLE_CHANGED,t),p.push((function(){e.removeEventListener(o.Column.EVENT_LEFT_CHANGED,t),e.removeEventListener(o.Column.EVENT_VISIBLE_CHANGED,t)}))}))}n||(l.showTabBasedOnPreviousSelection(),t(l)),l.addEventListener(uC.EVENT_TAB_SELECTED,(function(e){s.lastSelectedTab=e.key})),e.setMenuVisible(!0,"contextMenu"),this.activeMenu=l,l.addEventListener(o.BeanStub.EVENT_DESTROYED,(function(){s.activeMenu===l&&(s.activeMenu=null)}))},t.prototype.isMenuEnabled=function(e){return e.getMenuTabs(uC.TABS_DEFAULT).length>0},sC([o.Autowired("popupService")],t.prototype,"popupService",void 0),sC([o.Autowired("focusService")],t.prototype,"focusService",void 0),sC([o.Autowired("ctrlsService")],t.prototype,"ctrlsService",void 0),t=sC([o.Bean("menuFactory")],t)}(o.BeanStub),uC=function(e){function t(r,n,o){var i=e.call(this)||this;return i.tabFactories={},i.includeChecks={},i.column=r,i.initialSelection=n,i.tabFactories[t.TAB_GENERAL]=i.createMainPanel.bind(i),i.tabFactories[t.TAB_FILTER]=i.createFilterPanel.bind(i),i.tabFactories[t.TAB_COLUMNS]=i.createColumnsPanel.bind(i),i.includeChecks[t.TAB_GENERAL]=function(){return!0},i.includeChecks[t.TAB_FILTER]=function(){return r.isFilterAllowed()},i.includeChecks[t.TAB_COLUMNS]=function(){return!0},i.restrictTo=o,i}return aC(t,e),t.prototype.init=function(){var e=this,t=this.getTabsToCreate().map((function(t){return e.createTab(t)}));this.tabbedLayout=new o.TabbedLayout({items:t,cssClass:"ag-menu",onActiveItemClicked:this.onHidePopup.bind(this),onItemClicked:this.onTabItemClicked.bind(this)}),this.createBean(this.tabbedLayout),this.mainMenuList&&this.mainMenuList.setParentComponent(this.tabbedLayout)},t.prototype.getTabsToCreate=function(){var e=this;return this.restrictTo?this.restrictTo:this.column.getMenuTabs(t.TABS_DEFAULT).filter((function(t){return e.isValidMenuTabItem(t)})).filter((function(t){return e.isNotSuppressed(t)})).filter((function(t){return e.isModuleLoaded(t)}))},t.prototype.isModuleLoaded=function(e){return e!==t.TAB_COLUMNS||o.ModuleRegistry.isRegistered(o.ModuleNames.ColumnToolPanelModule)},t.prototype.isValidMenuTabItem=function(e){var r=!0,n=t.TABS_DEFAULT;return null!=this.restrictTo&&(r=this.restrictTo.indexOf(e)>-1,n=this.restrictTo),(r=r&&t.TABS_DEFAULT.indexOf(e)>-1)||console.warn("AG Grid: Trying to render an invalid menu item '"+e+"'. Check that your 'menuTabs' contains one of ["+n+"]"),r},t.prototype.isNotSuppressed=function(e){return this.includeChecks[e]()},t.prototype.createTab=function(e){return this.tabFactories[e]()},t.prototype.showTabBasedOnPreviousSelection=function(){this.showTab(this.initialSelection)},t.prototype.showTab=function(e){this.tabItemColumns&&e===t.TAB_COLUMNS?this.tabbedLayout.showItem(this.tabItemColumns):this.tabItemFilter&&e===t.TAB_FILTER?this.tabbedLayout.showItem(this.tabItemFilter):this.tabItemGeneral&&e===t.TAB_GENERAL?this.tabbedLayout.showItem(this.tabItemGeneral):this.tabbedLayout.showFirstItem()},t.prototype.onTabItemClicked=function(e){var r=null;switch(e.item){case this.tabItemColumns:r=t.TAB_COLUMNS;break;case this.tabItemFilter:r=t.TAB_FILTER;break;case this.tabItemGeneral:r=t.TAB_GENERAL}r&&this.activateTab(r)},t.prototype.activateTab=function(e){var r={type:t.EVENT_TAB_SELECTED,key:e};this.dispatchEvent(r)},t.prototype.getMenuItems=function(){var e,r=this.getDefaultMenuOptions(),n=this.gridOptionsWrapper.getMainMenuItemsFunc();return e=n?n({column:this.column,defaultItems:r}):r,o._.removeRepeatsFromArray(e,t.MENU_ITEM_SEPARATOR),e},t.prototype.getDefaultMenuOptions=function(){var e=[],r=!this.column.getColDef().lockPinned,n=this.columnModel.getRowGroupColumns().length,i=n>0,a=this.columnModel.getRowGroupColumns().indexOf(this.column)>=0,s=this.column.isAllowValue(),l=this.column.isAllowRowGroup(),u=this.column.isPrimary(),c=this.columnModel.isPivotMode(),p=this.rowModel.getType()===o.Constants.ROW_MODEL_TYPE_CLIENT_SIDE,d=this.gridOptionsWrapper.isTreeData(),h=u&&i&&s||!u;return r&&e.push("pinSubMenu"),h&&e.push("valueAggSubMenu"),(r||h)&&e.push(t.MENU_ITEM_SEPARATOR),e.push("autoSizeThis"),e.push("autoSizeAll"),e.push(t.MENU_ITEM_SEPARATOR),l&&this.column.isPrimary()&&(a?e.push("rowUnGroup"):e.push("rowGroup")),e.push(t.MENU_ITEM_SEPARATOR),e.push("resetColumns"),p&&(d||n>(c?1:0))&&(e.push("expandAll"),e.push("contractAll")),e},t.prototype.createMainPanel=function(){this.mainMenuList=this.createManagedBean(new o.AgMenuList);var e=this.getMenuItems(),r=this.menuItemMapper.mapWithStockItems(e,this.column);return this.mainMenuList.addMenuItems(r),this.mainMenuList.addEventListener(o.AgMenuItemComponent.EVENT_MENU_ITEM_SELECTED,this.onHidePopup.bind(this)),this.tabItemGeneral={title:o._.createIconNoSpan("menu",this.gridOptionsWrapper,this.column),titleLabel:t.TAB_GENERAL.replace("MenuTab",""),bodyPromise:o.AgPromise.resolve(this.mainMenuList.getGui()),name:t.TAB_GENERAL},this.tabItemGeneral},t.prototype.onHidePopup=function(e){var t;e&&e.event&&e.event instanceof KeyboardEvent&&(t=e.event),this.hidePopupFunc(t&&{keyboardEvent:t});var r=this.focusService.getFocusedCell(),n=this.gridOptionsWrapper.getDocument();if(n.activeElement===n.body&&r){var o=r.rowIndex,i=r.rowPinned,a=r.column;this.focusService.setFocusedCell(o,a,i,!0)}},t.prototype.createFilterPanel=function(){var e,r=this.filterManager.getOrCreateFilterWrapper(this.column,"COLUMN_MENU");if(!r)throw new Error("AG Grid - Unable to instantiate filter");return this.tabItemFilter={title:o._.createIconNoSpan("filter",this.gridOptionsWrapper,this.column),titleLabel:t.TAB_FILTER.replace("MenuTab",""),bodyPromise:null===(e=r)||void 0===e?void 0:e.guiPromise,afterAttachedCallback:function(e){var t;(null===(t=r)||void 0===t?void 0:t.filterPromise)&&r.filterPromise.then((function(t){t&&t.afterGuiAttached&&t.afterGuiAttached(e)}))},name:t.TAB_FILTER},this.tabItemFilter},t.prototype.createColumnsPanel=function(){var e=document.createElement("div");e.classList.add("ag-menu-column-select-wrapper"),this.columnSelectPanel=this.createManagedBean(new ze);var r=this.column.getColDef().columnsMenuParams;r||(r={}),this.columnSelectPanel.init(!1,{suppressColumnMove:!1,suppressValues:!1,suppressPivots:!1,suppressRowGroups:!1,suppressPivotMode:!1,contractColumnSelection:!!r.contractColumnSelection,suppressColumnExpandAll:!!r.suppressColumnExpandAll,suppressColumnFilter:!!r.suppressColumnFilter,suppressColumnSelectAll:!!r.suppressColumnSelectAll,suppressSyncLayoutWithGrid:!!r.suppressSyncLayoutWithGrid,api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()},"columnMenu");var n=this.columnSelectPanel.getGui();return n.classList.add("ag-menu-column-select"),e.appendChild(n),this.tabItemColumns={title:o._.createIconNoSpan("columns",this.gridOptionsWrapper,this.column),titleLabel:t.TAB_COLUMNS.replace("MenuTab",""),bodyPromise:o.AgPromise.resolve(e),name:t.TAB_COLUMNS},this.tabItemColumns},t.prototype.afterGuiAttached=function(e){var t=e.container,r=e.hidePopup;this.tabbedLayout.setAfterAttachedParams({container:t,hidePopup:r}),r&&(this.hidePopupFunc=r,this.addDestroyFunc(r))},t.prototype.getGui=function(){return this.tabbedLayout.getGui()},t.EVENT_TAB_SELECTED="tabSelected",t.TAB_FILTER="filterMenuTab",t.TAB_GENERAL="generalMenuTab",t.TAB_COLUMNS="columnsMenuTab",t.TABS_DEFAULT=[t.TAB_GENERAL,t.TAB_FILTER,t.TAB_COLUMNS],t.MENU_ITEM_SEPARATOR="separator",sC([o.Autowired("columnModel")],t.prototype,"columnModel",void 0),sC([o.Autowired("filterManager")],t.prototype,"filterManager",void 0),sC([o.Autowired("gridApi")],t.prototype,"gridApi",void 0),sC([o.Autowired("columnApi")],t.prototype,"columnApi",void 0),sC([o.Autowired("menuItemMapper")],t.prototype,"menuItemMapper",void 0),sC([o.Autowired("rowModel")],t.prototype,"rowModel",void 0),sC([o.Autowired("focusService")],t.prototype,"focusService",void 0),sC([o.PostConstruct],t.prototype,"init",null),t}(o.BeanStub),cC=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),pC=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},dC="ag-context-menu-open",hC=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return cC(t,e),t.prototype.hideActiveMenu=function(){this.destroyBean(this.activeMenu)},t.prototype.getMenuItems=function(e,t,r){var n=[];if(o._.exists(e)&&o.ModuleRegistry.isRegistered(o.ModuleNames.ClipboardModule)&&t&&n.push("copy","copyWithHeaders","copyWithGroupHeaders","paste","separator"),this.gridOptionsWrapper.isEnableCharts()&&o.ModuleRegistry.isRegistered(o.ModuleNames.RangeSelectionModule)&&o.ModuleRegistry.isRegistered(o.ModuleNames.GridChartsModule)&&(this.columnModel.isPivotMode()&&n.push("pivotChart"),this.rangeService&&!this.rangeService.isEmpty()&&n.push("chartRange")),o._.exists(e)){var i=!o.ModuleRegistry.isRegistered(o.ModuleNames.CsvExportModule),a=!o.ModuleRegistry.isRegistered(o.ModuleNames.ExcelExportModule),s=this.gridOptionsWrapper.isSuppressExcelExport()||a,l=this.gridOptionsWrapper.isSuppressCsvExport()||i;!o._.isIOSUserAgent()&&(!s||!l)&&n.push("export")}if(this.gridOptionsWrapper.getContextMenuItemsFunc()){var u=this.gridOptionsWrapper.getContextMenuItemsFunc(),c={node:e,column:t,value:r,defaultItems:n.length?n:void 0};return u?u(c):void 0}return n},t.prototype.onContextMenu=function(e,t,r,n,o,i){if((this.gridOptionsWrapper.isAllowContextMenuWithControlKey()||!e||!e.ctrlKey&&!e.metaKey)&&(e&&this.blockMiddleClickScrollsIfNeeded(e),!this.gridOptionsWrapper.isSuppressContextMenu())){var a=e||t.touches[0];if(this.showMenu(r,n,o,a,i))(e||t).preventDefault()}},t.prototype.blockMiddleClickScrollsIfNeeded=function(e){var t=this.gridOptionsWrapper,r=e.which;t.isSuppressMiddleClickScrolls()&&2===r&&e.preventDefault()},t.prototype.showMenu=function(e,t,r,n,i){var a=this,s=this.getMenuItems(e,t,r),l=this.ctrlsService.getGridBodyCtrl().getGui();if(void 0===s||o._.missingOrEmpty(s))return!1;var u=new fC(s);this.createBean(u);var c=u.getGui(),p={column:t,rowNode:e,type:"contextMenu",mouseEvent:n,ePopup:c,nudgeY:1},d=this.gridOptionsWrapper.getLocaleTextFunc(),h=this.popupService.addPopup({modal:!0,eChild:c,closeOnEsc:!0,closedCallback:function(){l.classList.remove(dC),a.destroyBean(u)},click:n,positionCallback:function(){a.popupService.positionPopupUnderMouseEvent(Object.assign({},{nudgeX:a.gridOptionsWrapper.isEnableRtl()?-1*(c.offsetWidth+1):1},p))},anchorToElement:i,ariaLabel:d("ariaLabelContextMenu","Context Menu")});return h&&(l.classList.add(dC),u.afterGuiAttached({container:"contextMenu",hidePopup:h.hideFunc})),this.activeMenu&&this.hideActiveMenu(),this.activeMenu=u,u.addEventListener(o.BeanStub.EVENT_DESTROYED,(function(){a.activeMenu===u&&(a.activeMenu=null)})),h&&u.addEventListener(o.AgMenuItemComponent.EVENT_MENU_ITEM_SELECTED,h.hideFunc),!0},pC([o.Autowired("popupService")],t.prototype,"popupService",void 0),pC([o.Optional("rangeService")],t.prototype,"rangeService",void 0),pC([o.Autowired("ctrlsService")],t.prototype,"ctrlsService",void 0),pC([o.Autowired("columnModel")],t.prototype,"columnModel",void 0),t=pC([o.Bean("contextMenuFactory")],t)}(o.BeanStub),fC=function(e){function t(t){var r=e.call(this,'<div class="ag-menu" role="presentation"></div>')||this;return r.menuList=null,r.focusedCell=null,r.menuItems=t,r}return cC(t,e),t.prototype.addMenuItems=function(){var e=this,t=this.createBean(new o.AgMenuList),r=this.menuItemMapper.mapWithStockItems(this.menuItems,null);t.addMenuItems(r),this.appendChild(t),this.menuList=t,t.addEventListener(o.AgMenuItemComponent.EVENT_MENU_ITEM_SELECTED,(function(t){return e.dispatchEvent(t)}))},t.prototype.afterGuiAttached=function(e){e.hidePopup&&this.addDestroyFunc(e.hidePopup),this.focusedCell=this.focusService.getFocusedCell(),this.menuList&&this.focusService.focusInto(this.menuList.getGui())},t.prototype.restoreFocusedCell=function(){var e=this.focusService.getFocusedCell();if(e&&this.focusedCell&&this.cellPositionUtils.equals(e,this.focusedCell)){var t=this.focusedCell,r=t.rowIndex,n=t.rowPinned,o=t.column,i=this.gridOptionsWrapper.getDocument();i.activeElement===i.body&&this.focusService.setFocusedCell(r,o,n,!0)}},t.prototype.destroy=function(){this.restoreFocusedCell(),e.prototype.destroy.call(this)},pC([o.Autowired("menuItemMapper")],t.prototype,"menuItemMapper",void 0),pC([o.Autowired("focusService")],t.prototype,"focusService",void 0),pC([o.Autowired("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),pC([o.PostConstruct],t.prototype,"addMenuItems",null),t}(o.Component),gC=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),yC=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},vC=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gC(t,e),t.prototype.mapWithStockItems=function(e,t){var r=this;if(!e)return[];var n=[];return e.forEach((function(e){var o;if(o="string"===typeof e?r.getStockMenuItem(e,t):e){var i=o,a=i.subMenu;a&&a instanceof Array&&(i.subMenu=r.mapWithStockItems(i.subMenu,t)),null!=o&&n.push(o)}})),n},t.prototype.getStockMenuItem=function(e,t){var r=this,n=this.gridOptionsWrapper.getLocaleTextFunc(),i=this.gridOptionsWrapper.isSkipHeaderOnAutoSize();switch(e){case"pinSubMenu":return{name:n("pinColumn","Pin Column"),icon:o._.createIconNoSpan("menuPin",this.gridOptionsWrapper,null),subMenu:["pinLeft","pinRight","clearPinned"]};case"pinLeft":return{name:n("pinLeft","Pin Left"),action:function(){return r.columnModel.setColumnPinned(t,o.Constants.PINNED_LEFT,"contextMenu")},checked:!!t&&t.isPinnedLeft()};case"pinRight":return{name:n("pinRight","Pin Right"),action:function(){return r.columnModel.setColumnPinned(t,o.Constants.PINNED_RIGHT,"contextMenu")},checked:!!t&&t.isPinnedRight()};case"clearPinned":return{name:n("noPin","No Pin"),action:function(){return r.columnModel.setColumnPinned(t,null,"contextMenu")},checked:!!t&&!t.isPinned()};case"valueAggSubMenu":return o.ModuleRegistry.assertRegistered(o.ModuleNames.RowGroupingModule,"Aggregation from Menu")?{name:n("valueAggregation","Value Aggregation"),icon:o._.createIconNoSpan("menuValue",this.gridOptionsWrapper,null),subMenu:this.createAggregationSubMenu(t)}:null;case"autoSizeThis":return{name:n("autosizeThiscolumn","Autosize This Column"),action:function(){return r.columnModel.autoSizeColumn(t,i,"contextMenu")}};case"autoSizeAll":return{name:n("autosizeAllColumns","Autosize All Columns"),action:function(){return r.columnModel.autoSizeAllColumns(i,"contextMenu")}};case"rowGroup":return{name:n("groupBy","Group by")+" "+o._.escapeString(this.columnModel.getDisplayNameForColumn(t,"header")),action:function(){return r.columnModel.addRowGroupColumn(t,"contextMenu")},icon:o._.createIconNoSpan("menuAddRowGroup",this.gridOptionsWrapper,null)};case"rowUnGroup":return{name:n("ungroupBy","Un-Group by")+" "+o._.escapeString(this.columnModel.getDisplayNameForColumn(t,"header")),action:function(){return r.columnModel.removeRowGroupColumn(t,"contextMenu")},icon:o._.createIconNoSpan("menuRemoveRowGroup",this.gridOptionsWrapper,null)};case"resetColumns":return{name:n("resetColumns","Reset Columns"),action:function(){return r.columnModel.resetColumnState("contextMenu")}};case"expandAll":return{name:n("expandAll","Expand All"),action:function(){return r.gridApi.expandAll()}};case"contractAll":return{name:n("collapseAll","Collapse All"),action:function(){return r.gridApi.collapseAll()}};case"copy":return o.ModuleRegistry.assertRegistered(o.ModuleNames.ClipboardModule,"Copy from Menu")?{name:n("copy","Copy"),shortcut:n("ctrlC","Ctrl+C"),icon:o._.createIconNoSpan("clipboardCopy",this.gridOptionsWrapper,null),action:function(){return r.clipboardService.copyToClipboard()}}:null;case"copyWithHeaders":return o.ModuleRegistry.assertRegistered(o.ModuleNames.ClipboardModule,"Copy with Headers from Menu")?{name:n("copyWithHeaders","Copy with Headers"),icon:o._.createIconNoSpan("clipboardCopy",this.gridOptionsWrapper,null),action:function(){return r.clipboardService.copyToClipboard({includeHeaders:!0})}}:null;case"copyWithGroupHeaders":return o.ModuleRegistry.assertRegistered(o.ModuleNames.ClipboardModule,"Copy with Group Headers from Menu")?{name:n("copyWithGroupHeaders","Copy with Group Headers"),icon:o._.createIconNoSpan("clipboardCopy",this.gridOptionsWrapper,null),action:function(){return r.clipboardService.copyToClipboard({includeHeaders:!0,includeGroupHeaders:!0})}}:null;case"paste":return o.ModuleRegistry.assertRegistered(o.ModuleNames.ClipboardModule,"Paste from Clipboard")?{name:n("paste","Paste"),shortcut:n("ctrlV","Ctrl+V"),disabled:!0,icon:o._.createIconNoSpan("clipboardPaste",this.gridOptionsWrapper,null),action:function(){return r.clipboardService.pasteFromClipboard()}}:null;case"export":var a=[],s=o.ModuleRegistry.isRegistered(o.ModuleNames.CsvExportModule),l=o.ModuleRegistry.isRegistered(o.ModuleNames.ExcelExportModule);return!this.gridOptionsWrapper.isSuppressCsvExport()&&s&&a.push("csvExport"),!this.gridOptionsWrapper.isSuppressExcelExport()&&l&&a.push("excelExport"),{name:n("export","Export"),subMenu:a,icon:o._.createIconNoSpan("save",this.gridOptionsWrapper,null)};case"csvExport":return{name:n("csvExport","CSV Export"),icon:o._.createIconNoSpan("csvExport",this.gridOptionsWrapper,null),action:function(){return r.gridApi.exportDataAsCsv({})}};case"excelExport":return{name:n("excelExport","Excel Export"),icon:o._.createIconNoSpan("excelExport",this.gridOptionsWrapper,null),action:function(){return r.gridApi.exportDataAsExcel()}};case"separator":return"separator";default:var u=this.getChartItems(e);return u||(console.warn("AG Grid: unknown menu item type "+e),null)}},t.prototype.getChartItems=function(e){var t=this,r=this.gridOptionsWrapper.getLocaleTextFunc(),n=function(e,n,o){return{name:r(e,n),action:function(){return t.chartService.createPivotChart({chartType:o})}}},i=function(e,n,o){return{name:r(e,n),action:function(){return t.chartService.createChartFromCurrentRange(o)}}};switch(e){case"pivotChart":return{name:r("pivotChart","Pivot Chart"),subMenu:["pivotColumnChart","pivotBarChart","pivotPieChart","pivotLineChart","pivotXYChart","pivotAreaChart"],icon:o._.createIconNoSpan("chart",this.gridOptionsWrapper,null)};case"chartRange":return{name:r("chartRange","Chart Range"),subMenu:["rangeColumnChart","rangeBarChart","rangePieChart","rangeLineChart","rangeXYChart","rangeAreaChart","rangeHistogramChart","rangeCombinationChart"],icon:o._.createIconNoSpan("chart",this.gridOptionsWrapper,null)};case"pivotColumnChart":return{name:r("columnChart","Column"),subMenu:["pivotGroupedColumn","pivotStackedColumn","pivotNormalizedColumn"]};case"pivotGroupedColumn":return n("groupedColumn","Grouped&lrm;","groupedColumn");case"pivotStackedColumn":return n("stackedColumn","Stacked&lrm;","stackedColumn");case"pivotNormalizedColumn":return n("normalizedColumn","100% Stacked&lrm;","normalizedColumn");case"rangeColumnChart":return{name:r("columnChart","Column"),subMenu:["rangeGroupedColumn","rangeStackedColumn","rangeNormalizedColumn"]};case"rangeGroupedColumn":return i("groupedColumn","Grouped&lrm;","groupedColumn");case"rangeStackedColumn":return i("stackedColumn","Stacked&lrm;","stackedColumn");case"rangeNormalizedColumn":return i("normalizedColumn","100% Stacked&lrm;","normalizedColumn");case"pivotBarChart":return{name:r("barChart","Bar"),subMenu:["pivotGroupedBar","pivotStackedBar","pivotNormalizedBar"]};case"pivotGroupedBar":return n("groupedBar","Grouped&lrm;","groupedBar");case"pivotStackedBar":return n("stackedBar","Stacked&lrm;","stackedBar");case"pivotNormalizedBar":return n("normalizedBar","100% Stacked&lrm;","normalizedBar");case"rangeBarChart":return{name:r("barChart","Bar"),subMenu:["rangeGroupedBar","rangeStackedBar","rangeNormalizedBar"]};case"rangeGroupedBar":return i("groupedBar","Grouped&lrm;","groupedBar");case"rangeStackedBar":return i("stackedBar","Stacked&lrm;","stackedBar");case"rangeNormalizedBar":return i("normalizedBar","100% Stacked&lrm;","normalizedBar");case"pivotPieChart":return{name:r("pieChart","Pie"),subMenu:["pivotPie","pivotDoughnut"]};case"pivotPie":return n("pie","Pie&lrm;","pie");case"pivotDoughnut":return n("doughnut","Doughnut&lrm;","doughnut");case"rangePieChart":return{name:r("pieChart","Pie"),subMenu:["rangePie","rangeDoughnut"]};case"rangePie":return i("pie","Pie&lrm;","pie");case"rangeDoughnut":return i("doughnut","Doughnut&lrm;","doughnut");case"pivotLineChart":return n("line","Line&lrm;","line");case"rangeLineChart":return i("line","Line&lrm;","line");case"pivotXYChart":return{name:r("xyChart","X Y (Scatter)"),subMenu:["pivotScatter","pivotBubble"]};case"pivotScatter":return n("scatter","Scatter&lrm;","scatter");case"pivotBubble":return n("bubble","Bubble&lrm;","bubble");case"rangeXYChart":return{name:r("xyChart","X Y (Scatter)"),subMenu:["rangeScatter","rangeBubble"]};case"rangeScatter":return i("scatter","Scatter&lrm;","scatter");case"rangeBubble":return i("bubble","Bubble&lrm;","bubble");case"pivotAreaChart":return{name:r("areaChart","Area"),subMenu:["pivotArea","pivotStackedArea","pivotNormalizedArea"]};case"pivotArea":return n("area","Area&lrm;","area");case"pivotStackedArea":return n("stackedArea","Stacked&lrm;","stackedArea");case"pivotNormalizedArea":return n("normalizedArea","100% Stacked&lrm;","normalizedArea");case"rangeAreaChart":return{name:r("areaChart","Area"),subMenu:["rangeArea","rangeStackedArea","rangeNormalizedArea"]};case"rangeArea":return i("area","Area&lrm;","area");case"rangeStackedArea":return i("stackedArea","Stacked&lrm;","stackedArea");case"rangeNormalizedArea":return i("normalizedArea","100% Stacked&lrm;","normalizedArea");case"rangeHistogramChart":return i("histogramChart","Histogram&lrm;","histogram");case"rangeColumnLineCombo":return i("columnLineCombo","Column & Line&lrm;","columnLineCombo");case"rangeAreaColumnCombo":return i("AreaColumnCombo","Area & Column&lrm;","areaColumnCombo");case"rangeCombinationChart":return{name:r("combinationChart","Combination"),subMenu:["rangeColumnLineCombo","rangeAreaColumnCombo"]};default:return null}},t.prototype.createAggregationSubMenu=function(e){var t,r=this,n=this.gridOptionsWrapper.getLocaleTextFunc(),i=e.isValueActive(),a=this.aggFuncService.getFuncNames(e);if(e.isPrimary())t=e;else{var s=e.getColDef().pivotValueColumn;t=o._.exists(s)?s:void 0}var l=[];return a.forEach((function(e){l.push({name:n(e,e),action:function(){r.columnModel.setColumnAggFunc(t,e,"contextMenu"),r.columnModel.addValueColumn(t,"contextMenu")},checked:i&&t.getAggFunc()===e})})),l},yC([o.Autowired("columnModel")],t.prototype,"columnModel",void 0),yC([o.Autowired("gridApi")],t.prototype,"gridApi",void 0),yC([o.Optional("clipboardService")],t.prototype,"clipboardService",void 0),yC([o.Optional("aggFuncService")],t.prototype,"aggFuncService",void 0),yC([o.Optional("chartService")],t.prototype,"chartService",void 0),t=yC([o.Bean("menuItemMapper")],t)}(o.BeanStub),mC={moduleName:o.ModuleNames.MenuModule,beans:[lC,hC,vC],dependantModules:[g]},bC=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),CC=function(){return CC=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},CC.apply(this,arguments)},wC=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},xC=function(e){function t(){var t=e.call(this,'<div class="ag-multi-filter ag-menu-list-compact"></div>')||this;return t.filterDefs=[],t.filters=[],t.guiDestroyFuncs=[],t.activeFilterIndices=[],t.lastActivatedMenuItem=null,t.afterFiltersReadyFuncs=[],t}return bC(t,e),t.prototype.postConstruct=function(){var e=this;this.initialiseTabGuard({onFocusIn:function(t){return e.onFocusIn(t)}})},t.getFilterDefs=function(e){var t=e.filters;return t&&t.length>0?t:[{filter:"agTextColumnFilter"},{filter:"agSetColumnFilter"}]},t.prototype.init=function(e){var r=this;this.params=e,this.filterDefs=t.getFilterDefs(e);var n=e.column,i=e.filterChangedCallback;this.column=n,this.filterChangedCallback=i;var a=[];return this.filterDefs.forEach((function(e,t){var n=r.createFilter(e,t);null!=n&&a.push(n)})),o.AgPromise.all(a).then((function(e){r.filters=e,r.refreshGui("columnMenu"),r.afterFiltersReadyFuncs.forEach((function(e){return e()})),r.afterFiltersReadyFuncs.length=0}))},t.prototype.refreshGui=function(e){var t=this;e!==this.lastOpenedInContainer&&(this.removeAllChildrenExceptTabGuards(),this.destroyChildren(),this.filters.forEach((function(r,n){n>0&&t.appendChild(o._.loadTemplate('<div class="ag-filter-separator"></div>'));var i,a=t.filterDefs[n],s=t.getFilterTitle(r,a);if("subMenu"===a.display&&"toolPanel"!==e)i=t.insertFilterMenu(r,s).getGui();else if("subMenu"===a.display||"accordion"===a.display){i=t.insertFilterGroup(r,s).getGui()}else i=r.getGui();t.appendChild(i)})),this.lastOpenedInContainer=e)},t.prototype.getFilterTitle=function(e,t){if(null!=t.title)return t.title;var r=e;return"function"===typeof r.getFilterTitle?r.getFilterTitle():"Filter"},t.prototype.destroyChildren=function(){this.guiDestroyFuncs.forEach((function(e){return e()})),this.guiDestroyFuncs.length=0},t.prototype.insertFilterMenu=function(e,t){var r=this,n=this.createBean(new o.AgMenuItemComponent({name:t,subMenu:e,cssClasses:["ag-multi-filter-menu-item"],isCompact:!0,isAnotherSubMenuOpen:function(){return!1}}));return n.setParentComponent(this),this.guiDestroyFuncs.push((function(){return r.destroyBean(n)})),this.addManagedListener(n,o.AgMenuItemComponent.EVENT_MENU_ITEM_ACTIVATED,(function(e){r.lastActivatedMenuItem&&r.lastActivatedMenuItem!==e.menuItem&&r.lastActivatedMenuItem.deactivate(),r.lastActivatedMenuItem=e.menuItem})),n.addGuiEventListener("focusin",(function(){return n.activate()})),n.addGuiEventListener("focusout",(function(){n.isSubMenuOpen()||n.deactivate()})),n},t.prototype.insertFilterGroup=function(e,t){var r=this,n=this.createBean(new o.AgGroupComponent({title:t,cssIdentifier:"multi-filter"}));if(this.guiDestroyFuncs.push((function(){return r.destroyBean(n)})),n.addItem(e.getGui()),n.toggleGroupExpand(!1),e.afterGuiAttached){var i={container:this.lastOpenedInContainer,suppressFocus:!0};n.addManagedListener(n,o.AgGroupComponent.EVENT_EXPANDED,(function(){return e.afterGuiAttached(i)}))}return n},t.prototype.isFilterActive=function(){return this.filters.some((function(e){return e.isFilterActive()}))},t.prototype.getLastActiveFilterIndex=function(){return this.activeFilterIndices.length>0?this.activeFilterIndices[this.activeFilterIndices.length-1]:null},t.prototype.doesFilterPass=function(e,t){var r=!0;return this.filters.forEach((function(n){r&&n!==t&&n.isFilterActive()&&(r=n.doesFilterPass(e))})),r},t.prototype.getFilterType=function(){return"multi"},t.prototype.getModelFromUi=function(){return{filterType:this.getFilterType(),filterModels:this.filters.map((function(e){var t=e;return"function"===typeof t.getModelFromUi?t.getModelFromUi():null}))}},t.prototype.getModel=function(){return this.isFilterActive()?{filterType:this.getFilterType(),filterModels:this.filters.map((function(e){return e.isFilterActive()?e.getModel():null}))}:null},t.prototype.setModel=function(e){var t=this,r=function(e,t){return new o.AgPromise((function(r){var n=e.setModel(t);n?n.then((function(){return r()})):r()}))},n=[];return null==e?n=this.filters.map((function(e,n){var o=r(e,null);return t.updateActiveList(n),o})):this.filters.forEach((function(o,i){var a=e.filterModels.length>i?e.filterModels[i]:null,s=r(o,a);n.push(s),t.updateActiveList(i)})),o.AgPromise.all(n).then((function(){}))},t.prototype.applyModel=function(){var e=!1;return this.filters.forEach((function(t){t instanceof o.ProvidedFilter&&(e=t.applyModel()||e)})),e},t.prototype.getChildFilterInstance=function(e){return this.filters[e]},t.prototype.afterGuiAttached=function(e){e&&this.refreshGui(e.container);var t=this.params.filters,r=t&&t.some((function(e){return e.display&&"inline"!==e.display}));this.executeFunctionIfExists("afterGuiAttached",CC(CC({},e||{}),{suppressFocus:r}));var n=this.gridOptionsWrapper.getDocument(),o=n.activeElement;r&&(o===n.body||this.getGui().contains(o))&&this.forceFocusOutOfContainer(!0)},t.prototype.onAnyFilterChanged=function(){this.executeFunctionIfExists("onAnyFilterChanged")},t.prototype.onNewRowsLoaded=function(){this.executeFunctionIfExists("onNewRowsLoaded")},t.prototype.destroy=function(){var t=this;this.filters.forEach((function(e){e.setModel(null),t.destroyBean(e)})),this.filters.length=0,this.destroyChildren(),e.prototype.destroy.call(this)},t.prototype.executeFunctionIfExists=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];o._.forEachReverse(this.filters,(function(r){var n=r[e];"function"===typeof n&&n.apply(r,t)}))},t.prototype.createFilter=function(e,t){var r,n=this,o=this.params,i=o.filterModifiedCallback,a=o.doesRowPassOtherFilter,s=CC(CC({},this.filterManager.createFilterParams(this.column,this.column.getColDef())),{filterModifiedCallback:i,filterChangedCallback:function(e){n.executeWhenAllFiltersReady((function(){return n.filterChanged(t,e)}))},doesRowPassOtherFilter:function(e){return a(e)&&n.doesFilterPass({node:e,data:e.data},r)}}),l=this.userComponentFactory.getFilterDetails(e,s,"agTextColumnFilter");if(!l)return null;var u=l.newAgStackInstance();return u&&u.then((function(e){return r=e})),u},t.prototype.executeWhenAllFiltersReady=function(e){this.filters&&this.filters.length>0?e():this.afterFiltersReadyFuncs.push(e)},t.prototype.updateActiveList=function(e){var t=this.filters[e];o._.removeFromArray(this.activeFilterIndices,e),t.isFilterActive()&&this.activeFilterIndices.push(e)},t.prototype.filterChanged=function(e,t){this.updateActiveList(e),this.filterChangedCallback(t);var r=this.filters[e];this.filters.forEach((function(e){e!==r&&"function"===typeof e.onAnyFilterChanged&&e.onAnyFilterChanged()}))},t.prototype.onFocusIn=function(e){return null==this.lastActivatedMenuItem||this.lastActivatedMenuItem.getGui().contains(e.target)||(this.lastActivatedMenuItem.deactivate(),this.lastActivatedMenuItem=null),!0},wC([o.Autowired("filterManager")],t.prototype,"filterManager",void 0),wC([o.Autowired("userComponentFactory")],t.prototype,"userComponentFactory",void 0),wC([o.PostConstruct],t.prototype,"postConstruct",null),t}(o.TabGuardComp),SC=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),EC=function(){return EC=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},EC.apply(this,arguments)},OC=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},_C=function(e){function t(){var t=e.call(this,'<div class="ag-multi-floating-filter ag-floating-filter-input"></div>')||this;return t.floatingFilters=[],t}return SC(t,e),t.prototype.init=function(e){var t=this;this.params=e;var r=e.filterParams,n=[];return xC.getFilterDefs(r).forEach((function(r,o){var i=EC(EC({},e),{parentFilterInstance:function(e){t.parentMultiFilterInstance((function(t){var r=t.getChildFilterInstance(o);null!=r&&e(r)}))}}),a=t.createFloatingFilter(r,i);null!=a&&n.push(a)})),o.AgPromise.all(n).then((function(e){e.forEach((function(e,r){t.floatingFilters.push(e);var n=e.getGui();t.appendChild(n),r>0&&o._.setDisplayed(n,!1)}))}))},t.prototype.onParentModelChanged=function(e,t){var r=this;t&&t.afterFloatingFilter||this.parentMultiFilterInstance((function(n){if(null==e)r.floatingFilters.forEach((function(e,r){e.onParentModelChanged(null,t),o._.setDisplayed(e.getGui(),0===r)}));else{var i=n.getLastActiveFilterIndex();r.floatingFilters.forEach((function(r,n){var a=e.filterModels.length>n?e.filterModels[n]:null;r.onParentModelChanged(a,t);var s=null==i?0===n:n===i;o._.setDisplayed(r.getGui(),s)}))}}))},t.prototype.destroy=function(){this.destroyBeans(this.floatingFilters),this.floatingFilters.length=0,e.prototype.destroy.call(this)},t.prototype.createFloatingFilter=function(e,t){var r=this.userComponentFactory.getDefaultFloatingFilterType(e)||"agTextColumnFloatingFilter",n=this.userComponentFactory.getFloatingFilterCompDetails(e,t,r);return n?n.newAgStackInstance():null},t.prototype.parentMultiFilterInstance=function(e){this.params.parentFilterInstance((function(t){if(!(t instanceof xC))throw new Error("AG Grid - MultiFloatingFilterComp expects MultiFilter as it's parent");e(t)}))},OC([o.Autowired("userComponentFactory")],t.prototype,"userComponentFactory",void 0),t}(o.Component),PC={moduleName:o.ModuleNames.MultiFilterModule,beans:[],userComponents:[{componentName:"agMultiColumnFilter",componentClass:xC},{componentName:"agMultiColumnFloatingFilter",componentClass:_C}],dependantModules:[g]},RC=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),AC=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},TC=function(e){function t(t){var r=e.call(this,'<div class="ag-rich-select-row"></div>')||this;return r.params=t,r}return RC(t,e),t.prototype.setState=function(e,t,r){this.populateWithRenderer(e,t)||this.populateWithoutRenderer(e,t),this.addOrRemoveCssClass("ag-rich-select-row-selected",r)},t.prototype.populateWithoutRenderer=function(e,t){var r=null!==t&&void 0!==t?t:e;o._.exists(r)&&""!==r?this.getGui().textContent=r.toString():this.getGui().innerHTML="&nbsp;"},t.prototype.populateWithRenderer=function(e,t){var r=this,n={value:e,valueFormatted:t,api:this.gridOptionsWrapper.getApi()},i=this.userComponentFactory.getCellRendererDetails(this.params,n),a=i?i.newAgStackInstance():void 0;return null!=a?o._.bindCellRendererToHtmlElement(a,this.getGui()):this.getGui().innerText=null!=n.valueFormatted?n.valueFormatted:n.value,!!a&&(a.then((function(e){r.addDestroyFunc((function(){r.getContext().destroyBean(e)}))})),!0)},AC([o.Autowired("userComponentFactory")],t.prototype,"userComponentFactory",void 0),t}(o.Component),DC=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),MC=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},kC=function(e){function t(){var r=e.call(this,t.TEMPLATE)||this;return r.selectionConfirmed=!1,r.searchString="",r}return DC(t,e),t.prototype.init=function(e){this.params=e,this.selectedValue=e.value,this.originalSelectedValue=e.value,this.focusAfterAttached=e.cellStartedEdit;var t=o._.createIconNoSpan("smallDown",this.gridOptionsWrapper);if(t.classList.add("ag-rich-select-value-icon"),this.eValue.appendChild(t),this.virtualList=this.getContext().createBean(new o.VirtualList("rich-select")),this.virtualList.setComponentCreator(this.createRowComponent.bind(this)),this.eList.appendChild(this.virtualList.getGui()),o._.exists(this.params.cellHeight)&&this.virtualList.setRowHeight(this.params.cellHeight),this.renderSelectedValue(),o._.missing(e.values))console.warn("AG Grid: richSelectCellEditor requires values for it to work");else{var r=e.values;this.virtualList.setModel({getRowCount:function(){return r.length},getRow:function(e){return r[e]}}),this.addGuiEventListener("keydown",this.onKeyDown.bind(this));var n=this.virtualList.getGui();this.addManagedListener(n,"click",this.onClick.bind(this)),this.addManagedListener(n,"mousemove",this.onMouseMove.bind(this));var i=o._.exists(e.searchDebounceDelay)?e.searchDebounceDelay:300;this.clearSearchString=o._.debounce(this.clearSearchString,i),o._.exists(e.charPress)&&this.searchText(e.charPress)}},t.prototype.onKeyDown=function(e){var t=e.key;switch(e.preventDefault(),t){case o.KeyCode.ENTER:this.onEnterKeyDown();break;case o.KeyCode.TAB:this.confirmSelection();break;case o.KeyCode.DOWN:case o.KeyCode.UP:this.onNavigationKeyPressed(e,t);break;default:this.searchText(e)}},t.prototype.confirmSelection=function(){this.selectionConfirmed=!0},t.prototype.onEnterKeyDown=function(){this.confirmSelection(),this.params.stopEditing()},t.prototype.onNavigationKeyPressed=function(e,t){e.preventDefault();var r=this.params.values.indexOf(this.selectedValue),n=t===o.KeyCode.UP?r-1:r+1;if(n>=0&&n<this.params.values.length){var i=this.params.values[n];this.setSelectedValue(i)}},t.prototype.searchText=function(e){if("string"===typeof e)this.searchString+=e,this.runSearch(),this.clearSearchString();else{var t=e.key;if(t===o.KeyCode.BACKSPACE)this.searchString=this.searchString.slice(0,-1),t="";else if(!o._.isEventFromPrintableCharacter(e))return;this.searchText(t)}},t.prototype.runSearch=function(){var e,t=this,r=this.params.values;if("number"!==typeof r[0]&&"string"!==typeof r[0]||(e=r.map(String)),"object"===typeof r[0]&&this.params.colDef.keyCreator&&(e=r.map((function(e){var r={value:e,colDef:t.params.colDef,column:t.params.column,node:t.params.node,data:t.params.data,api:t.gridOptionsWrapper.getApi(),columnApi:t.gridOptionsWrapper.getColumnApi(),context:t.gridOptionsWrapper.getContext()};return t.params.colDef.keyCreator(r)}))),e){var n=o._.fuzzySuggestions(this.searchString,e,!0,!0)[0];if(n){var i=r[e.indexOf(n)];this.setSelectedValue(i)}}},t.prototype.clearSearchString=function(){this.searchString=""},t.prototype.renderSelectedValue=function(){var e=this,t=this.params.formatValue(this.selectedValue),r=this.eValue,n={value:this.selectedValue,valueFormatted:t,api:this.gridOptionsWrapper.getApi()},i=this.userComponentFactory.getCellRendererDetails(this.params,n),a=i?i.newAgStackInstance():void 0;a?(o._.bindCellRendererToHtmlElement(a,r),a.then((function(t){e.addDestroyFunc((function(){return e.getContext().destroyBean(t)}))}))):o._.exists(this.selectedValue)?r.innerHTML=t:o._.clearElement(r)},t.prototype.setSelectedValue=function(e){if(this.selectedValue!==e){var t=this.params.values.indexOf(e);-1!==t&&(this.selectedValue=e,this.virtualList.ensureIndexVisible(t),this.virtualList.refresh())}},t.prototype.createRowComponent=function(e){var t=this.params.formatValue(e),r=new TC(this.params);return this.getContext().createBean(r),r.setState(e,t,e===this.selectedValue),r},t.prototype.onMouseMove=function(e){var t=this.virtualList.getGui().getBoundingClientRect(),r=this.virtualList.getScrollTop(),n=e.clientY-t.top+r,o=Math.floor(n/this.virtualList.getRowHeight()),i=this.params.values[o];void 0!==i&&this.setSelectedValue(i)},t.prototype.onClick=function(){this.confirmSelection(),this.params.stopEditing()},t.prototype.afterGuiAttached=function(){var e=this.params.values.indexOf(this.selectedValue);this.virtualList.refresh(),e>=0&&this.virtualList.ensureIndexVisible(e),this.virtualList.refresh(),this.focusAfterAttached&&this.getGui().focus()},t.prototype.getValue=function(){return this.selectionConfirmed?this.selectedValue:this.originalSelectedValue},t.TEMPLATE='<div class="ag-rich-select" tabindex="-1">\n            <div ref="eValue" class="ag-rich-select-value"></div>\n            <div ref="eList" class="ag-rich-select-list"></div>\n        </div>',MC([o.Autowired("userComponentFactory")],t.prototype,"userComponentFactory",void 0),MC([o.RefSelector("eValue")],t.prototype,"eValue",void 0),MC([o.RefSelector("eList")],t.prototype,"eList",void 0),t}(o.PopupComponent),NC={moduleName:o.ModuleNames.RichSelectModule,beans:[],userComponents:[{componentName:"agRichSelect",componentClass:kC},{componentName:"agRichSelectCellEditor",componentClass:kC}],dependantModules:[g]},IC=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),LC=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},FC=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.pauseStoreUpdateListening=!1,t.started=!1,t}return IC(t,e),t.prototype.ensureRowHeightsValid=function(){return!1},t.prototype.start=function(){this.started=!0;var e=this.gridOptionsWrapper.getServerSideDatasource();e&&this.setDatasource(e)},t.prototype.destroyDatasource=function(){this.datasource&&(this.datasource.destroy&&this.datasource.destroy(),this.rowRenderer.datasourceChanged(),this.datasource=void 0)},t.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,o.Events.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,o.Events.EVENT_STORE_UPDATED,this.onStoreUpdated.bind(this));var e=this.resetRootStore.bind(this);this.addManagedListener(this.eventService,o.Events.EVENT_COLUMN_VALUE_CHANGED,e),this.addManagedListener(this.eventService,o.Events.EVENT_COLUMN_PIVOT_CHANGED,e),this.addManagedListener(this.eventService,o.Events.EVENT_COLUMN_ROW_GROUP_CHANGED,e),this.addManagedListener(this.eventService,o.Events.EVENT_COLUMN_PIVOT_MODE_CHANGED,e),this.verifyProps()},t.prototype.verifyProps=function(){if(null!=this.gridOptionsWrapper.getInitialGroupOrderComparator()){o._.doOnce((function(){return console.warn("AG Grid: initialGroupOrderComparator cannot be used with Server Side Row Model. If using Full Store, then provide the rows to the grid in the desired sort order. If using Partial Store, then sorting is done on the server side, nothing to do with the client.")}),"SSRM.InitialGroupOrderComparator")}if(this.gridOptionsWrapper.isRowSelection()&&null==this.gridOptionsWrapper.getRowIdFunc()){o._.doOnce((function(){return console.warn("AG Grid: getRowId callback must be provided for Server Side Row Model selection to work correctly.")}),"SSRM.SelectionNeedsRowNodeIdFunc")}},t.prototype.setDatasource=function(e){this.started&&(this.destroyDatasource(),this.datasource=e,this.resetRootStore())},t.prototype.isLastRowIndexKnown=function(){var e=this.getRootStore();return!!e&&e.isLastRowIndexKnown()},t.prototype.onColumnEverything=function(){if(!this.gridOptionsWrapper.isSuppressEnterpriseResetOnNewColumns())if(this.storeParams){var e=this.columnsToValueObjects(this.columnModel.getRowGroupColumns()),t=this.columnsToValueObjects(this.columnModel.getValueColumns()),r=this.columnsToValueObjects(this.columnModel.getPivotColumns()),n=!o._.jsonEquals(this.storeParams.sortModel,this.sortController.getSortModel()),i=!o._.jsonEquals(this.storeParams.rowGroupCols,e),a=!o._.jsonEquals(this.storeParams.pivotCols,r),s=!o._.jsonEquals(this.storeParams.valueCols,t);(n||i||a||s)&&this.resetRootStore()}else this.resetRootStore()},t.prototype.destroyRootStore=function(){this.rootNode&&this.rootNode.childStore&&(this.rootNode.childStore=this.destroyBean(this.rootNode.childStore),this.nodeManager.clear())},t.prototype.refreshAfterSort=function(e,t){this.storeParams&&(this.storeParams.sortModel=e);var r=this.getRootStore();r&&(r.refreshAfterSort(t),this.onStoreUpdated())},t.prototype.resetRootStore=function(){this.destroyRootStore(),this.rootNode=new o.RowNode(this.beans),this.rootNode.group=!0,this.rootNode.level=-1,this.datasource&&(this.storeParams=this.createStoreParams(),this.rootNode.childStore=this.createBean(this.storeFactory.createStore(this.storeParams,this.rootNode)),this.updateRowIndexesAndBounds());var e={type:o.Events.EVENT_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(e),this.dispatchModelUpdated(!0)},t.prototype.columnsToValueObjects=function(e){var t=this;return e.map((function(e){return{id:e.getId(),aggFunc:e.getAggFunc(),displayName:t.columnModel.getDisplayNameForColumn(e,"model"),field:e.getColDef().field}}))},t.prototype.createStoreParams=function(){var e=this.columnsToValueObjects(this.columnModel.getRowGroupColumns()),t=this.columnsToValueObjects(this.columnModel.getValueColumns()),r=this.columnsToValueObjects(this.columnModel.getPivotColumns()),n=this.gridOptionsWrapper.isDynamicRowHeight();return{valueCols:t,rowGroupCols:e,pivotCols:r,pivotMode:this.columnModel.isPivotMode(),filterModel:this.filterManager.getFilterModel(),sortModel:this.sortListener.extractSortModel(),datasource:this.datasource,lastAccessedSequence:new o.NumberSequence,dynamicRowHeight:n}},t.prototype.getParams=function(){return this.storeParams},t.prototype.dispatchModelUpdated=function(e){void 0===e&&(e=!1);var t={type:o.Events.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,animate:!e,keepRenderedRows:!e,newPage:!1,newData:!1};this.eventService.dispatchEvent(t)},t.prototype.onStoreUpdated=function(){this.pauseStoreUpdateListening||(this.updateRowIndexesAndBounds(),this.dispatchModelUpdated())},t.prototype.onRowHeightChanged=function(){this.updateRowIndexesAndBounds(),this.dispatchModelUpdated()},t.prototype.updateRowIndexesAndBounds=function(){var e=this.getRootStore();e&&e.setDisplayIndexes(new o.NumberSequence,{value:0})},t.prototype.retryLoads=function(){var e=this.getRootStore();e&&(e.retryLoads(),this.onStoreUpdated())},t.prototype.getRow=function(e){var t=this.getRootStore();if(t)return t.getRowUsingDisplayIndex(e)},t.prototype.expandAll=function(e){this.pauseStoreUpdateListening=!0,this.forEachNode((function(t){t.group&&t.setExpanded(e)})),this.pauseStoreUpdateListening=!1,this.onStoreUpdated()},t.prototype.refreshAfterFilter=function(e,t){this.storeParams&&(this.storeParams.filterModel=e);var r=this.getRootStore();r&&(r.refreshAfterFilter(t),this.onStoreUpdated())},t.prototype.getRootStore=function(){if(this.rootNode&&this.rootNode.childStore)return this.rootNode.childStore},t.prototype.getRowCount=function(){var e=this.getRootStore();return e?e.getDisplayIndexEnd():0},t.prototype.getTopLevelRowCount=function(){var e=this.getRootStore();return e?e.getRowCount():1},t.prototype.getTopLevelRowDisplayedIndex=function(e){var t=this.getRootStore();return t?t.getTopLevelRowDisplayedIndex(e):e},t.prototype.getRowBounds=function(e){var t=this.getRootStore();return t?t.getRowBounds(e):{rowTop:0,rowHeight:this.gridOptionsWrapper.getRowHeightAsNumber()}},t.prototype.getRowIndexAtPixel=function(e){var t=this.getRootStore();return e<=0||!t?0:t.getRowIndexAtPixel(e)},t.prototype.isEmpty=function(){return!1},t.prototype.isRowsToRender=function(){return null!=this.getRootStore()&&this.getRowCount()>0},t.prototype.getType=function(){return o.Constants.ROW_MODEL_TYPE_SERVER_SIDE},t.prototype.forEachNode=function(e){var t=this.getRootStore();t&&t.forEachNodeDeep(e)},t.prototype.forEachNodeAfterFilterAndSort=function(e){var t=this.getRootStore();t&&t.forEachNodeDeepAfterFilterAndSort(e)},t.prototype.executeOnStore=function(e,t){var r=this.getRootStore();if(r){var n=r.getChildStore(e);n&&t(n)}},t.prototype.refreshStore=function(e){void 0===e&&(e={});var t=e.route?e.route:[];this.executeOnStore(t,(function(t){return t.refreshStore(1==e.purge)}))},t.prototype.getStoreState=function(){var e=[],t=this.getRootStore();return t&&t.addStoreStates(e),e},t.prototype.getNodesInRangeForSelection=function(e,t){return o._.exists(t)&&e.parent!==t.parent?[]:e.parent.childStore.getRowNodesInRange(t,e)},t.prototype.getRowNode=function(e){var t;return this.forEachNode((function(r){r.id===e&&(t=r),r.detailNode&&r.detailNode.id===e&&(t=r.detailNode)})),t},t.prototype.isRowPresent=function(e){return!!this.getRowNode(e.id)},LC([o.Autowired("columnModel")],t.prototype,"columnModel",void 0),LC([o.Autowired("filterManager")],t.prototype,"filterManager",void 0),LC([o.Autowired("sortController")],t.prototype,"sortController",void 0),LC([o.Autowired("gridApi")],t.prototype,"gridApi",void 0),LC([o.Autowired("columnApi")],t.prototype,"columnApi",void 0),LC([o.Autowired("rowRenderer")],t.prototype,"rowRenderer",void 0),LC([o.Autowired("ssrmSortService")],t.prototype,"sortListener",void 0),LC([o.Autowired("ssrmNodeManager")],t.prototype,"nodeManager",void 0),LC([o.Autowired("ssrmStoreFactory")],t.prototype,"storeFactory",void 0),LC([o.Autowired("beans")],t.prototype,"beans",void 0),LC([o.PreDestroy],t.prototype,"destroyDatasource",null),LC([o.PostConstruct],t.prototype,"addEventListeners",null),LC([o.PreDestroy],t.prototype,"destroyRootStore",null),t=LC([o.Bean("rowModel")],t)}(o.BeanStub),GC=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),BC=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},WC=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return GC(t,e),t.prototype.loadFromDatasource=function(e){var t=e.storeParams,r=e.parentBlock,n=e.parentNode.getGroupKeys();if(t.datasource){var o={startRow:e.startRow,endRow:e.endRow,rowGroupCols:t.rowGroupCols,valueCols:t.valueCols,pivotCols:t.pivotCols,pivotMode:t.pivotMode,groupKeys:n,filterModel:t.filterModel,sortModel:t.sortModel},i={successCallback:e.successCallback,success:e.success,failCallback:e.failCallback,fail:e.fail,request:o,parentNode:e.parentNode,api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()};window.setTimeout((function(){t.datasource&&r.isAlive()?t.datasource.getRows(i):e.failCallback()}),0)}},t.prototype.getChildStore=function(e,t,r){if(o._.missingOrEmpty(e))return t;var n=r(e[0]);if(n){var i=e.slice(1,e.length),a=n.childStore;return a?a.getChildStore(i):null}return null},t.prototype.isServerRefreshNeeded=function(e,t,r){if(r.alwaysReset||r.valueColChanged||r.secondaryColChanged)return!0;var n=e.level+1;if(!(n<t.length))return!0;var o=t[n].id;return!!(r.changedColumns.indexOf(o)>-1)},BC([o.Autowired("columnApi")],t.prototype,"columnApi",void 0),BC([o.Autowired("gridApi")],t.prototype,"gridApi",void 0),t=BC([o.Bean("ssrmStoreUtils")],t)}(o.BeanStub),HC=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),jC=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},VC=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return HC(t,e),t.prototype.postConstruct=function(){this.rowHeight=this.gridOptionsWrapper.getRowHeightAsNumber(),this.usingTreeData=this.gridOptionsWrapper.isTreeData(),this.usingMasterDetail=this.gridOptionsWrapper.isMasterDetail()},t.prototype.createRowNode=function(e){var t=new o.RowNode(this.beans),r=null!=e.rowHeight?e.rowHeight:this.rowHeight;return t.setRowHeight(r),t.group=e.group,t.leafGroup=e.leafGroup,t.level=e.level,t.uiLevel=e.level,t.parent=e.parent,t.stub=!0,t.group&&(t.expanded=!1,t.field=e.field,t.rowGroupColumn=e.rowGroupColumn),t},t.prototype.destroyRowNodes=function(e){e&&e.forEach(this.destroyRowNode.bind(this))},t.prototype.destroyRowNode=function(e){e.childStore&&(this.destroyBean(e.childStore),e.childStore=null),e.clearRowTopAndRowIndex(),null!=e.id&&this.nodeManager.removeNode(e)},t.prototype.setTreeGroupInfo=function(e){var t=this.gridOptionsWrapper.getIsServerSideGroupFunc(),r=this.gridOptionsWrapper.getServerSideGroupKeyFunc();null!=t&&(e.setGroup(t(e.data)),e.group&&null!=r&&(e.key=r(e.data))),e.group||null==e.childStore||(this.destroyBean(e.childStore),e.childStore=null)},t.prototype.setRowGroupInfo=function(e){e.key=this.valueService.getValue(e.rowGroupColumn,e),null!==e.key&&void 0!==e.key||o._.doOnce((function(){console.warn("AG Grid: null and undefined values are not allowed for server side row model keys"),e.rowGroupColumn&&console.warn("column = "+e.rowGroupColumn.getId()),console.warn("data is ",e.data)}),"ServerSideBlock-CannotHaveNullOrUndefinedForKey")},t.prototype.setMasterDetailInfo=function(e){var t=this.gridOptionsWrapper.getIsRowMasterFunc();e.master=null==t||t(e.data)},t.prototype.updateDataIntoRowNode=function(e,t){e.updateData(t),this.usingTreeData?this.setTreeGroupInfo(e):e.group||this.usingMasterDetail},t.prototype.setDataIntoRowNode=function(e,t,r,n){e.stub=!1,o._.exists(t)?(e.setDataAndId(t,r),this.usingTreeData?this.setTreeGroupInfo(e):e.group?this.setRowGroupInfo(e):this.usingMasterDetail&&this.setMasterDetailInfo(e)):(e.setDataAndId(void 0,void 0),e.key=null),(this.usingTreeData||e.group)&&(this.setGroupDataIntoRowNode(e),this.setChildCountIntoRowNode(e)),o._.exists(t)&&e.setRowHeight(this.gridOptionsWrapper.getRowHeightForNode(e,!1,n).height)},t.prototype.setChildCountIntoRowNode=function(e){var t=this.gridOptionsWrapper.getChildCountFunc();t&&(e.allChildrenCount=t(e.data))},t.prototype.setGroupDataIntoRowNode=function(e){var t=this,r=this.columnModel.getGroupDisplayColumns(),n=this.gridOptionsWrapper.isTreeData();r.forEach((function(r){if(null==e.groupData&&(e.groupData={}),n)e.groupData[r.getColId()]=e.key;else if(r.isRowGroupDisplayed(e.rowGroupColumn.getId())){var o=t.valueService.getValue(e.rowGroupColumn,e);e.groupData[r.getColId()]=o}}))},t.prototype.clearDisplayIndex=function(e){(e.clearRowTopAndRowIndex(),e.group&&o._.exists(e.childStore))&&e.childStore.clearDisplayIndexes();e.master&&e.detailNode&&e.detailNode.clearRowTopAndRowIndex()},t.prototype.setDisplayIndex=function(e,t,r){if(e.setRowIndex(t.next()),e.setRowTop(r.value),r.value+=e.rowHeight,e.master&&(e.expanded&&e.detailNode?(e.detailNode.setRowIndex(t.next()),e.detailNode.setRowTop(r.value),r.value+=e.detailNode.rowHeight):e.detailNode&&e.detailNode.clearRowTopAndRowIndex()),e.group&&o._.exists(e.childStore)){var n=e.childStore;e.expanded?n.setDisplayIndexes(t,r):n.clearDisplayIndexes()}},t.prototype.binarySearchForDisplayIndex=function(e,t){var r=0,n=t.length-1;if(o._.missing(n)||o._.missing(r))console.warn("AG Grid: error: topPointer = "+n+", bottomPointer = "+r);else for(;;){var i=Math.floor((r+n)/2),a=t[i];if(a.rowIndex===e)return a;var s=a.master&&a.expanded,l=a.detailNode;if(s&&l&&l.rowIndex===e)return a.detailNode;var u=a.childStore;if(a.expanded&&u&&u.isDisplayIndexInStore(e))return u.getRowUsingDisplayIndex(e);if(a.rowIndex<e)r=i+1;else{if(!(a.rowIndex>e))return void console.warn("AG Grid: error: unable to locate rowIndex = "+e+" in cache");n=i-1}}},t.prototype.extractRowBounds=function(e,t){var r=function(e){return{rowHeight:e.rowHeight,rowTop:e.rowTop}};if(e.rowIndex===t)return r(e);if(e.group&&e.expanded&&o._.exists(e.childStore)){var n=e.childStore;if(n.isDisplayIndexInStore(t))return n.getRowBounds(t)}else if(e.master&&e.expanded&&o._.exists(e.detailNode)&&e.detailNode.rowIndex===t)return r(e.detailNode)},t.prototype.getIndexAtPixel=function(e,t){if(e.isPixelInRange(t))return e.rowIndex;var r=e.master&&e.expanded,n=e.detailNode;if(r&&n&&n.isPixelInRange(t))return e.detailNode.rowIndex;if(e.group&&e.expanded&&o._.exists(e.childStore)){var i=e.childStore;if(i.isPixelInRange(t))return i.getRowIndexAtPixel(t)}return null},t.prototype.createNodeIdPrefix=function(e){for(var t=[],r=e;r&&r.level>=0;)t.push(r.key),r=r.parent;if(t.length>0)return t.reverse().join("-")},t.prototype.checkOpenByDefault=function(e){if(e.isExpandable()){var t=this.gridOptionsWrapper.getIsServerSideGroupOpenByDefaultFunc();if(t)t({data:e.data,rowNode:e})&&window.setTimeout((function(){return e.setExpanded(!0)}),0)}},jC([o.Autowired("valueService")],t.prototype,"valueService",void 0),jC([o.Autowired("columnModel")],t.prototype,"columnModel",void 0),jC([o.Autowired("ssrmNodeManager")],t.prototype,"nodeManager",void 0),jC([o.Autowired("beans")],t.prototype,"beans",void 0),jC([o.PostConstruct],t.prototype,"postConstruct",null),t=jC([o.Bean("ssrmBlockUtils")],t)}(o.BeanStub),zC=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},UC=function(){function e(){this.rowNodes={}}return e.prototype.addRowNode=function(e){var t=e.id;this.rowNodes[t]&&(console.warn("AG Grid: Duplicate node id "+e.id+". Row ID's are provided via the getRowId() callback. Please modify the getRowId() callback code to provide unique row id values."),console.warn("first instance",this.rowNodes[t].data),console.warn("second instance",e.data)),this.rowNodes[t]=e},e.prototype.removeNode=function(e){var t=e.id;this.rowNodes[t]&&(this.rowNodes[t]=void 0)},e.prototype.clear=function(){this.rowNodes={}},zC([o.PreDestroy],e.prototype,"clear",null),e=zC([o.Bean("ssrmNodeManager")],e)}(),YC=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),XC=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},KC=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.asyncTransactions=[],t}return YC(t,e),t.prototype.postConstruct=function(){this.gridOptionsWrapper.isRowModelServerSide()},t.prototype.applyTransactionAsync=function(e,t){null==this.asyncTransactionsTimeout&&this.scheduleExecuteAsync(),this.asyncTransactions.push({transaction:e,callback:t})},t.prototype.scheduleExecuteAsync=function(){var e=this,t=this.gridOptionsWrapper.getAsyncTransactionWaitMillis();this.asyncTransactionsTimeout=window.setTimeout((function(){e.executeAsyncTransactions()}),t)},t.prototype.executeAsyncTransactions=function(){var e=this;if(this.asyncTransactions){var t=[],r=[],n=[],i=!1;if(this.asyncTransactions.forEach((function(a){var s;e.serverSideRowModel.executeOnStore(a.transaction.route,(function(e){s=e.applyTransaction(a.transaction)})),void 0==s&&(s={status:o.ServerSideTransactionResultStatus.StoreNotFound}),r.push(s),s.status==o.ServerSideTransactionResultStatus.StoreLoading?n.push(a):(a.callback&&t.push((function(){return a.callback(s)})),s.status===o.ServerSideTransactionResultStatus.Applied&&(i=!0))})),t.length>0&&window.setTimeout((function(){t.forEach((function(e){return e()}))}),0),this.asyncTransactionsTimeout=void 0,this.asyncTransactions=n,i&&(this.valueCache.onDataChanged(),this.eventService.dispatchEvent({type:o.Events.EVENT_STORE_UPDATED})),r.length>0){var a={api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),type:o.Events.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:r};this.eventService.dispatchEvent(a)}}},t.prototype.flushAsyncTransactions=function(){null!=this.asyncTransactionsTimeout&&clearTimeout(this.asyncTransactionsTimeout),this.executeAsyncTransactions()},t.prototype.applyTransaction=function(e){var t;return this.serverSideRowModel.executeOnStore(e.route,(function(r){t=r.applyTransaction(e)})),t?(this.valueCache.onDataChanged(),this.eventService.dispatchEvent({type:o.Events.EVENT_STORE_UPDATED}),t):{status:o.ServerSideTransactionResultStatus.StoreNotFound}},XC([o.Autowired("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),XC([o.Autowired("valueCache")],t.prototype,"valueCache",void 0),XC([o.Autowired("rowModel")],t.prototype,"serverSideRowModel",void 0),XC([o.PostConstruct],t.prototype,"postConstruct",null),t=XC([o.Bean("ssrmTransactionManager")],t)}(o.BeanStub),qC=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),$C=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},ZC=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return qC(t,e),t.prototype.postConstruct=function(){this.gridOptionsWrapper.isRowModelServerSide()&&this.addManagedListener(this.eventService,o.Events.EVENT_ROW_GROUP_OPENED,this.onRowGroupOpened.bind(this))},t.prototype.onRowGroupOpened=function(e){var t=e.node;if(t.expanded){if(t.master)this.createDetailNode(t);else if(o._.missing(t.childStore)){var r=this.serverSideRowModel.getParams();t.childStore=this.createBean(this.storeFactory.createStore(r,t))}}else this.gridOptionsWrapper.isPurgeClosedRowNodes()&&o._.exists(t.childStore)&&(t.childStore=this.destroyBean(t.childStore));var n={type:o.Events.EVENT_STORE_UPDATED};this.eventService.dispatchEvent(n)},t.prototype.createDetailNode=function(e){if(o._.exists(e.detailNode))return e.detailNode;var t=new o.RowNode(this.beans);t.detail=!0,t.selectable=!1,t.parent=e,o._.exists(e.id)&&(t.id="detail_"+e.id),t.data=e.data,t.level=e.level+1;var r=this.gridOptionsWrapper.getRowHeightForNode(t).height;return t.rowHeight=r||200,e.detailNode=t,t},$C([o.Autowired("rowModel")],t.prototype,"serverSideRowModel",void 0),$C([o.Autowired("ssrmStoreFactory")],t.prototype,"storeFactory",void 0),$C([o.Autowired("beans")],t.prototype,"beans",void 0),$C([o.PostConstruct],t.prototype,"postConstruct",null),t=$C([o.Bean("ssrmExpandListener")],t)}(o.BeanStub),QC=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),JC=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},ew=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return QC(t,e),t.prototype.postConstruct=function(){this.gridOptionsWrapper.isRowModelServerSide()&&this.addManagedListener(this.eventService,o.Events.EVENT_SORT_CHANGED,this.onSortChanged.bind(this))},t.prototype.extractSortModel=function(){var e=this.sortController.getSortModel();return this.gridOptionsWrapper.isTreeData()||(this.replaceAutoGroupColumnWithActualRowGroupColumns(e),this.removeMultiColumnPrefixOnColumnIds(e)),e},t.prototype.removeMultiColumnPrefixOnColumnIds=function(e){if(this.gridOptionsWrapper.isGroupMultiAutoColumn())for(var t=o.Constants.GROUP_AUTO_COLUMN_ID+"-",r=0;r<e.length;++r)e[r].colId.indexOf(t)>-1&&(e[r].colId=e[r].colId.substr(t.length))},t.prototype.replaceAutoGroupColumnWithActualRowGroupColumns=function(e){var t=e.find((function(e){return e.colId==o.Constants.GROUP_AUTO_COLUMN_ID}));if(t){var r=e.indexOf(t);o._.removeFromArray(e,t);var n=this.columnModel.getRowGroupColumns().filter((function(t){return 0==e.filter((function(e){return e.colId===t.getColId()})).length})).map((function(e){return{colId:e.getId(),sort:t.sort}}));o._.insertArrayIntoArray(e,n,r)}},t.prototype.onSortChanged=function(){var e=this.serverSideRowModel.getParams();if(e){var t=this.extractSortModel(),r=e.sortModel,n=this.findChangedColumnsInSort(t,r),o={valueColChanged:this.listenerUtils.isSortingWithValueColumn(n),secondaryColChanged:this.listenerUtils.isSortingWithSecondaryColumn(n),alwaysReset:this.gridOptionsWrapper.isServerSideSortingAlwaysResets(),changedColumns:n};this.serverSideRowModel.refreshAfterSort(t,o)}},t.prototype.findChangedColumnsInSort=function(e,t){var r=[];[e,t].forEach((function(e){if(e){var t=e.map((function(e){return e.colId}));r=r.concat(t)}}));return r.filter((function(r){var n=t.find((function(e){return e.colId===r})),o=e.find((function(e){return e.colId===r}));return function(e,t){return(e?e.sort:null)!==(t?t.sort:null)}(n,o)||function(r,n){return(r?t.indexOf(r):-1)!==(n?e.indexOf(n):-1)}(n,o)}))},JC([o.Autowired("sortController")],t.prototype,"sortController",void 0),JC([o.Autowired("columnModel")],t.prototype,"columnModel",void 0),JC([o.Autowired("rowModel")],t.prototype,"serverSideRowModel",void 0),JC([o.Autowired("ssrmListenerUtils")],t.prototype,"listenerUtils",void 0),JC([o.PostConstruct],t.prototype,"postConstruct",null),t=JC([o.Bean("ssrmSortService")],t)}(o.BeanStub),tw=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),rw=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},nw=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return tw(t,e),t.prototype.postConstruct=function(){this.gridOptionsWrapper.isRowModelServerSide()&&this.addManagedListener(this.eventService,o.Events.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this))},t.prototype.onFilterChanged=function(){var e=this.serverSideRowModel.getParams();if(e){var t=this.filterManager.getFilterModel(),r=e?e.filterModel:{},n=this.findChangedColumns(t,r),o={valueColChanged:this.listenerUtils.isSortingWithValueColumn(n),secondaryColChanged:this.listenerUtils.isSortingWithSecondaryColumn(n),alwaysReset:this.gridOptionsWrapper.isServerSideFilteringAlwaysResets(),changedColumns:n};this.serverSideRowModel.refreshAfterFilter(t,o)}},t.prototype.findChangedColumns=function(e,t){var r={};Object.keys(e).forEach((function(e){return r[e]=!0})),Object.keys(t).forEach((function(e){return r[e]=!0}));var n=[];return Object.keys(r).forEach((function(r){JSON.stringify(e[r])!=JSON.stringify(t[r])&&n.push(r)})),n},rw([o.Autowired("rowModel")],t.prototype,"serverSideRowModel",void 0),rw([o.Autowired("filterManager")],t.prototype,"filterManager",void 0),rw([o.Autowired("ssrmListenerUtils")],t.prototype,"listenerUtils",void 0),rw([o.PostConstruct],t.prototype,"postConstruct",null),t=rw([o.Bean("ssrmFilterListener")],t)}(o.BeanStub),ow=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),iw=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},aw=function(e,t){return function(r,n){t(r,n,e)}},sw=function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},lw=function(e){function t(t,r,n,o,i){var a=e.call(this,t)||this;return a.ssrmParams=n,a.storeParams=o,a.parentRowNode=r,a.startRow=t*o.cacheBlockSize,a.parentStore=i,a.level=r.level+1,a.groupLevel=n.rowGroupCols?a.level<n.rowGroupCols.length:void 0,a.leafGroup=!!n.rowGroupCols&&a.level===n.rowGroupCols.length-1,a}return ow(t,e),t.prototype.postConstruct=function(){if(this.usingTreeData=this.gridOptionsWrapper.isTreeData(),!this.usingTreeData&&this.groupLevel){var e=this.ssrmParams.rowGroupCols[this.level];this.groupField=e.field,this.rowGroupColumn=this.columnModel.getRowGroupColumns()[this.level]}this.nodeIdPrefix=this.blockUtils.createNodeIdPrefix(this.parentRowNode),this.setData([])},t.prototype.isDisplayIndexInBlock=function(e){return e>=this.displayIndexStart&&e<this.displayIndexEnd},t.prototype.isBlockBefore=function(e){return e>=this.displayIndexEnd},t.prototype.getDisplayIndexStart=function(){return this.displayIndexStart},t.prototype.getDisplayIndexEnd=function(){return this.displayIndexEnd},t.prototype.getBlockHeightPx=function(){return this.blockHeightPx},t.prototype.getBlockTopPx=function(){return this.blockTopPx},t.prototype.isGroupLevel=function(){return this.groupLevel},t.prototype.getGroupField=function(){return this.groupField},t.prototype.prefixId=function(e){return null!=this.nodeIdPrefix?this.nodeIdPrefix+"-"+e:e.toString()},t.prototype.getBlockStateJson=function(){return{id:this.prefixId(this.getId()),state:{blockNumber:this.getId(),startRow:this.startRow,endRow:this.startRow+this.storeParams.cacheBlockSize,pageStatus:this.getState()}}},t.prototype.isAnyNodeOpen=function(){return this.rowNodes.filter((function(e){return e.expanded})).length>0},t.prototype.forEachNode=function(e,t,r,n){void 0===t&&(t=new o.NumberSequence),this.rowNodes.forEach((function(o){if(e(o,t.next()),r&&o.childStore){var i=o.childStore;n?i.forEachNodeDeepAfterFilterAndSort(e,t):i.forEachNodeDeep(e,t)}}))},t.prototype.forEachNodeDeep=function(e,t){this.forEachNode(e,t,!0,!1)},t.prototype.forEachNodeAfterFilterAndSort=function(e,t){this.forEachNode(e,t,!0,!0)},t.prototype.forEachNodeShallow=function(e,t){this.forEachNode(e,t,!1,!1)},t.prototype.getLastAccessed=function(){return this.lastAccessed},t.prototype.getRowUsingLocalIndex=function(e){return this.rowNodes[e-this.startRow]},t.prototype.touchLastAccessed=function(){this.lastAccessed=this.ssrmParams.lastAccessedSequence.next()},t.prototype.processServerFail=function(){this.parentStore.onBlockLoadFailed(this)},t.prototype.retryLoads=function(){this.getState()===o.RowNodeBlock.STATE_FAILED&&(this.setStateWaitingToLoad(),this.rowNodeBlockLoader.checkBlockToLoad(),this.setData()),this.forEachNodeShallow((function(e){e.childStore&&e.childStore.retryLoads()}))},t.prototype.processServerResult=function(e){this.parentStore.onBlockLoaded(this,e)},t.prototype.setData=function(e,t){void 0===e&&(e=[]),void 0===t&&(t=!1),this.destroyRowNodes();for(var r=this.parentStore.getRowCount(),n=this.getId()*this.storeParams.cacheBlockSize,o=Math.min(n+this.storeParams.cacheBlockSize,r)-n,i=this.columnModel.getAllDisplayedAutoHeightCols().length>0?this.parentStore.getCachedBlockHeight(this.getId()):void 0,a=i?Math.round(i/o):void 0,s=0;s<o;s++){var l=this.blockUtils.createRowNode({field:this.groupField,group:this.groupLevel,leafGroup:this.leafGroup,level:this.level,parent:this.parentRowNode,rowGroupColumn:this.rowGroupColumn,rowHeight:a});if(s<e.length){var u=e[s],c=this.prefixId(this.startRow+s);this.blockUtils.setDataIntoRowNode(l,u,c,a);var p=l.id;this.parentStore.removeDuplicateNode(p),this.nodeManager.addRowNode(l),this.allNodesMap[l.id]=l,this.blockUtils.checkOpenByDefault(l)}this.rowNodes.push(l),t&&(l.failedLoad=!0)}},t.prototype.removeDuplicateNode=function(e){if(this.getState()!=o.RowNodeBlock.STATE_LOADED){var t=this.allNodesMap[e];if(t){this.blockUtils.destroyRowNode(t);var r=this.rowNodes.indexOf(t),n=this.blockUtils.createRowNode({field:this.groupField,group:this.groupLevel,leafGroup:this.leafGroup,level:this.level,parent:this.parentRowNode,rowGroupColumn:this.rowGroupColumn});this.rowNodes[r]=n}}},t.prototype.refresh=function(){this.getState()!==o.RowNodeBlock.STATE_WAITING_TO_LOAD&&this.setStateWaitingToLoad()},t.prototype.destroyRowNodes=function(){this.blockUtils.destroyRowNodes(this.rowNodes),this.rowNodes=[],this.allNodesMap={}},t.prototype.setBeans=function(e){this.logger=e.create("ServerSideBlock")},t.prototype.getRowUsingDisplayIndex=function(e){return this.touchLastAccessed(),this.blockUtils.binarySearchForDisplayIndex(e,this.rowNodes)},t.prototype.loadFromDatasource=function(){this.storeUtils.loadFromDatasource({startRow:this.startRow,endRow:this.startRow+this.storeParams.cacheBlockSize,parentBlock:this,parentNode:this.parentRowNode,storeParams:this.ssrmParams,successCallback:this.pageLoaded.bind(this,this.getVersion()),success:this.success.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),fail:this.pageLoadFailed.bind(this,this.getVersion())})},t.prototype.isPixelInRange=function(e){return e>=this.blockTopPx&&e<this.blockTopPx+this.blockHeightPx},t.prototype.getRowBounds=function(e){var t,r,n;this.touchLastAccessed();try{for(var o=sw(this.rowNodes),i=o.next();!i.done;i=o.next()){var a=i.value;if(null!=(n=this.blockUtils.extractRowBounds(a,e)))break}}catch(s){t={error:s}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return n},t.prototype.getRowIndexAtPixel=function(e){var t,r;this.touchLastAccessed();var n=null;try{for(var o=sw(this.rowNodes),i=o.next();!i.done;i=o.next()){var a=i.value;if(null!=(n=this.blockUtils.getIndexAtPixel(a,e)))break}}catch(s){t={error:s}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return n},t.prototype.clearDisplayIndexes=function(){var e=this;this.displayIndexEnd=void 0,this.displayIndexStart=void 0,this.rowNodes.forEach((function(t){return e.blockUtils.clearDisplayIndex(t)}))},t.prototype.setDisplayIndexes=function(e,t){var r=this;this.displayIndexStart=e.peek(),this.blockTopPx=t.value,this.rowNodes.forEach((function(n){return r.blockUtils.setDisplayIndex(n,e,t)})),this.displayIndexEnd=e.peek(),this.blockHeightPx=t.value-this.blockTopPx},iw([o.Autowired("columnModel")],t.prototype,"columnModel",void 0),iw([o.Autowired("ssrmStoreUtils")],t.prototype,"storeUtils",void 0),iw([o.Autowired("ssrmBlockUtils")],t.prototype,"blockUtils",void 0),iw([o.Autowired("ssrmNodeManager")],t.prototype,"nodeManager",void 0),iw([o.Autowired("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),iw([o.PostConstruct],t.prototype,"postConstruct",null),iw([o.PreDestroy],t.prototype,"destroyRowNodes",null),iw([aw(0,o.Qualifier("loggerFactory"))],t.prototype,"setBeans",null),t}(o.RowNodeBlock),uw=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),cw=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},pw=function(e,t){return function(r,n){t(r,n,e)}};!function(e){e[e.FOUND=0]="FOUND",e[e.CONTINUE_FIND=1]="CONTINUE_FIND",e[e.BREAK_FIND=2]="BREAK_FIND"}(mb||(mb={}));var dw,hw=function(e){function t(r,n,o){var i=e.call(this)||this;return i.blocks={},i.blockHeights={},i.lastRowIndexKnown=!1,i.displayIndexStart=0,i.displayIndexEnd=0,i.cacheTopPixel=0,i.info={},i.ssrmParams=r,i.storeParams=n,i.parentRowNode=o,i.rowCount=t.INITIAL_ROW_COUNT,i}return uw(t,e),t.prototype.postConstruct=function(){this.defaultRowHeight=this.gridOptionsWrapper.getRowHeightAsNumber()},t.prototype.destroyAllBlocks=function(){var e=this;this.getBlocksInOrder().forEach((function(t){return e.destroyBlock(t)}))},t.prototype.setBeans=function(e){this.logger=e.create("ServerSideCache")},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.isLastRowIndexKnown=function(){return this.lastRowIndexKnown},t.prototype.retryLoads=function(){this.getBlocksInOrder().forEach((function(e){return e.retryLoads()}))},t.prototype.onBlockLoadFailed=function(e){e.setData([],!0),this.fireCacheUpdatedEvent()},t.prototype.onBlockLoaded=function(e,t){if(this.logger.log("onPageLoaded: page = "+e.getId()+", lastRow = "+t.rowCount),t.storeInfo&&Object.assign(this.info,t.storeInfo),!t.rowData){o._.doOnce((function(){return console.warn('AG Grid: "params.rowData" is missing from Server-Side Row Model success() callback. Please use the "rowData" attribute. If no data is returned, set an empty list.',t)}),"InfiniteStore.noData")}var r=null!=t.rowCount&&t.rowCount>=0?t.rowCount:void 0;this.isAlive()&&(this.checkRowCount(e,r),e.setData(t.rowData),this.destroyAllBlocksPastVirtualRowCount(),this.fireCacheUpdatedEvent())},t.prototype.purgeBlocksIfNeeded=function(e){var r=this,n=this.getBlocksInOrder().filter((function(t){return t!=e}));n.sort((function(e,t){return t.getLastAccessed()-e.getLastAccessed()}));var o=this.storeParams.maxBlocksInCache>0,i=o?this.storeParams.maxBlocksInCache-1:null,a=t.MAX_EMPTY_BLOCKS_TO_KEEP-1;n.forEach((function(e,t){if(e.getState()===lw.STATE_WAITING_TO_LOAD&&t>=a||!!o&&t>=i){if(e.isAnyNodeOpen())return;if(r.isBlockCurrentlyDisplayed(e))return;if(r.isBlockFocused(e))return;r.destroyBlock(e)}}))},t.prototype.isBlockFocused=function(e){var t=this.focusService.getFocusCellToUseAfterRefresh();if(!t)return!1;if(null!=t.rowPinned)return!1;var r=e.getDisplayIndexStart(),n=e.getDisplayIndexEnd();return null!=n&&null!=r&&(t.rowIndex>=r&&t.rowIndex<n)},t.prototype.isBlockCurrentlyDisplayed=function(e){var t=e.getDisplayIndexStart(),r=e.getDisplayIndexEnd()-1;return this.rowRenderer.isRangeInRenderedViewport(t,r)},t.prototype.removeDuplicateNode=function(e){this.getBlocksInOrder().forEach((function(t){return t.removeDuplicateNode(e)}))},t.prototype.checkRowCount=function(e,r){if("number"===typeof r&&r>=0)this.rowCount=r,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){var n=(e.getId()+1)*this.storeParams.cacheBlockSize+t.OVERFLOW_SIZE;this.rowCount<n&&(this.rowCount=n)}},t.prototype.forEachNodeDeep=function(e,t){void 0===t&&(t=new o.NumberSequence),this.getBlocksInOrder().forEach((function(r){return r.forEachNodeDeep(e,t)}))},t.prototype.forEachNodeDeepAfterFilterAndSort=function(e,t){void 0===t&&(t=new o.NumberSequence),this.getBlocksInOrder().forEach((function(r){return r.forEachNodeAfterFilterAndSort(e,t)}))},t.prototype.getBlocksInOrder=function(){return o._.getAllValuesInObject(this.blocks).sort((function(e,t){return e.getId()-t.getId()}))},t.prototype.destroyBlock=function(e){delete this.blocks[e.getId()],this.destroyBean(e),this.rowNodeBlockLoader.removeBlock(e)},t.prototype.fireCacheUpdatedEvent=function(){var e={type:o.Events.EVENT_STORE_UPDATED};this.eventService.dispatchEvent(e)},t.prototype.destroyAllBlocksPastVirtualRowCount=function(){var e=this,t=[];this.getBlocksInOrder().forEach((function(r){r.getId()*e.storeParams.cacheBlockSize>=e.rowCount&&t.push(r)})),t.length>0&&t.forEach((function(t){return e.destroyBlock(t)}))},t.prototype.refreshStore=function(e){0==this.getRowCount()||e?this.resetStore():this.refreshBlocks(),this.fireCacheUpdatedEvent()},t.prototype.refreshBlocks=function(){this.getBlocksInOrder().forEach((function(e){e.refresh()})),this.lastRowIndexKnown=!1,this.rowNodeBlockLoader.checkBlockToLoad()},t.prototype.resetStore=function(){this.destroyAllBlocks(),this.lastRowIndexKnown=!1,(this.columnModel.isAutoRowHeightActive||0===this.rowCount)&&(this.rowCount=t.INITIAL_ROW_COUNT)},t.prototype.getRowNodesInRange=function(e,t){var r=[],n=-1,i=!1;o._.missing(e)&&(i=!0);var a=!1;return this.getBlocksInOrder().forEach((function(o){a||(i&&n+1!==o.getId()?a=!0:(n=o.getId(),o.forEachNodeShallow((function(n){var o=n===e||n===t;(i||o)&&r.push(n),o&&(i=!i)}))))})),a||i?[]:r},t.prototype.findBlockAndExecute=function(e,t,r){var n,o=!1,i=!1,a=null;return this.getBlocksInOrder().forEach((function(r){if(!o&&!i){var s=e(r);s==mb.FOUND?(n=t(r),o=!0):s==mb.CONTINUE_FIND?a=r:s==mb.BREAK_FIND&&(i=!0)}})),o||(n=r(a)),n},t.prototype.getRowBounds=function(e){var t=this;return this.findBlockAndExecute((function(t){return t.isDisplayIndexInBlock(e)?mb.FOUND:t.isBlockBefore(e)?mb.CONTINUE_FIND:mb.BREAK_FIND}),(function(t){return t.getRowBounds(e)}),(function(r){var n,o;null!==r?(n=r.getBlockTopPx()+r.getBlockHeightPx(),o=r.getDisplayIndexEnd()):(n=t.cacheTopPixel,o=t.displayIndexStart);var i=e-o;return{rowHeight:t.defaultRowHeight,rowTop:n+i*t.defaultRowHeight}}))},t.prototype.getRowIndexAtPixel=function(e){var t=this,r=this.findBlockAndExecute((function(t){return t.isPixelInRange(e)?mb.FOUND:t.getBlockTopPx()<e?mb.CONTINUE_FIND:mb.BREAK_FIND}),(function(t){return t.getRowIndexAtPixel(e)}),(function(r){var n,o;r?(n=r.getBlockTopPx()+r.getBlockHeightPx(),o=r.getDisplayIndexEnd()):(n=t.cacheTopPixel,o=t.displayIndexStart);for(var i=t.storeParams.cacheBlockSize,a=t.defaultRowHeight*i,s=r?r.getId()+1:0,l=function(r){var o=t.getCachedBlockHeight(r),i=null!=o?o:a;return{height:i,pixelInBlock:e<=i+n}},u=l(s);!u.pixelInBlock;)n+=u.height,o+=i,u=l(++s);var c=e-n,p=u.height/i;return o+(0|Math.floor(c/p))})),n=this.getDisplayIndexEnd()-1;return r=Math.min(r,n)},t.prototype.clearDisplayIndexes=function(){this.displayIndexStart=void 0,this.displayIndexEnd=void 0,this.getBlocksInOrder().forEach((function(e){return e.clearDisplayIndexes()}))},t.prototype.setDisplayIndexes=function(e,t){var r=this;this.displayIndexStart=e.peek(),this.cacheTopPixel=t.value;var n=-1,i=this.storeParams.cacheBlockSize;this.getBlocksInOrder().forEach((function(a){var s=a.getId(),l=s-n-1,u=l*i;u>0&&e.skip(u);for(var c=1;c<=l;c++){var p=s-c;o._.exists(r.blockHeights[p])?t.value+=r.blockHeights[p]:t.value+=i*r.defaultRowHeight}n=s,a.setDisplayIndexes(e,t),r.blockHeights[s]=a.getBlockHeightPx()}));var a=(n+1)*i-1,s=this.getRowCount()-a-1;s>0&&(e.skip(s),t.value+=s*this.defaultRowHeight),this.displayIndexEnd=e.peek(),this.cacheHeightPixels=t.value-this.cacheTopPixel},t.prototype.getRowUsingDisplayIndex=function(e,t){var r=this;if(void 0===t&&(t=!1),this.isDisplayIndexInStore(e)){return this.findBlockAndExecute((function(t){return t.isDisplayIndexInBlock(e)?mb.FOUND:t.isBlockBefore(e)?mb.CONTINUE_FIND:mb.BREAK_FIND}),(function(t){return t.getRowUsingDisplayIndex(e)}),(function(n){if(!t){var i,a,s,l=r.storeParams.cacheBlockSize;if(n){i=n.getId()+1,a=n.getDisplayIndexEnd(),s=n.getBlockHeightPx()+n.getBlockTopPx();for(;!(e>=a&&e<a+l);){a+=l;var u=r.blockHeights[i];o._.exists(u)?s+=u:s+=r.defaultRowHeight*l,i++}}else{var c=e-r.displayIndexStart;i=Math.floor(c/l),a=r.displayIndexStart+i*l,s=r.cacheTopPixel+i*l*r.defaultRowHeight}return r.logger.log("block missing, rowIndex = "+e+", creating #"+i+", displayIndexStart = "+a),r.createBlock(i,a,{value:s}).getRowUsingDisplayIndex(e)}}))}},t.prototype.getTopLevelRowDisplayedIndex=function(e){var t=this.storeParams.cacheBlockSize,r=Math.floor(e/t);return this.findBlockAndExecute((function(e){return e.getId()===r?mb.FOUND:e.getId()<r?mb.CONTINUE_FIND:mb.BREAK_FIND}),(function(t){return t.getRowUsingLocalIndex(e).rowIndex}),(function(r){if(!r)return e;var n,o=t*(r.getId()+1)-1,i=r.getRowUsingLocalIndex(o);i.expanded&&i.childStore?n=i.childStore.getDisplayIndexEnd()-1:n=i.expanded&&i.detailNode?i.detailNode.rowIndex:i.rowIndex;return n+(e-o)}))},t.prototype.addStoreStates=function(e){e.push({type:"partial",route:this.parentRowNode.getGroupKeys(),rowCount:this.rowCount,lastRowIndexKnown:this.lastRowIndexKnown,info:this.info,maxBlocksInCache:this.storeParams.maxBlocksInCache,cacheBlockSize:this.storeParams.cacheBlockSize}),this.forEachChildStoreShallow((function(t){return t.addStoreStates(e)}))},t.prototype.getCachedBlockHeight=function(e){return this.blockHeights[e]},t.prototype.createBlock=function(e,t,r){var n=this.createBean(new lw(e,this.parentRowNode,this.ssrmParams,this.storeParams,this));return n.setDisplayIndexes(new o.NumberSequence(t),r),this.blocks[n.getId()]=n,this.purgeBlocksIfNeeded(n),this.rowNodeBlockLoader.addBlock(n),n},t.prototype.getDisplayIndexEnd=function(){return this.displayIndexEnd},t.prototype.isDisplayIndexInStore=function(e){return 0!==this.getRowCount()&&(e>=this.displayIndexStart&&e<this.displayIndexEnd)},t.prototype.applyTransaction=function(e){return{status:o.ServerSideTransactionResultStatus.StoreWrongType}},t.prototype.getChildStore=function(e){var t=this;return this.storeUtils.getChildStore(e,this,(function(e){var r=null;return t.getBlocksInOrder().forEach((function(t){t.forEachNodeShallow((function(t){t.key===e&&(r=t)}),new o.NumberSequence)})),r}))},t.prototype.isPixelInRange=function(e){return 0!==this.getRowCount()&&(e>=this.cacheTopPixel&&e<this.cacheTopPixel+this.cacheHeightPixels)},t.prototype.refreshAfterFilter=function(e){this.resetStore()},t.prototype.refreshAfterSort=function(e){this.storeUtils.isServerRefreshNeeded(this.parentRowNode,this.ssrmParams.rowGroupCols,e)?this.resetStore():this.forEachChildStoreShallow((function(t){return t.refreshAfterSort(e)}))},t.prototype.forEachChildStoreShallow=function(e){this.getBlocksInOrder().forEach((function(t){if(t.isGroupLevel()){t.forEachNodeShallow((function(t){var r=t.childStore;r&&e(r)}),new o.NumberSequence)}}))},t.MAX_EMPTY_BLOCKS_TO_KEEP=2,t.INITIAL_ROW_COUNT=1,t.OVERFLOW_SIZE=1,cw([o.Autowired("rowRenderer")],t.prototype,"rowRenderer",void 0),cw([o.Autowired("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),cw([o.Autowired("ssrmStoreUtils")],t.prototype,"storeUtils",void 0),cw([o.Autowired("focusService")],t.prototype,"focusService",void 0),cw([o.Autowired("columnModel")],t.prototype,"columnModel",void 0),cw([o.PostConstruct],t.prototype,"postConstruct",null),cw([o.PreDestroy],t.prototype,"destroyAllBlocks",null),cw([pw(0,o.Qualifier("loggerFactory"))],t.prototype,"setBeans",null),t}(o.BeanStub),fw=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),gw=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},yw=function(e){function t(t,r,n){var i=e.call(this,0)||this;return i.nodeIdSequence=new o.NumberSequence,i.info={},i.ssrmParams=t,i.parentRowNode=n,i.level=n.level+1,i.groupLevel=t.rowGroupCols?i.level<t.rowGroupCols.length:void 0,i.leafGroup=!!t.rowGroupCols&&i.level===t.rowGroupCols.length-1,i}return fw(t,e),t.prototype.postConstruct=function(){var e=this;if(this.usingTreeData=this.gridOptionsWrapper.isTreeData(),this.nodeIdPrefix=this.blockUtils.createNodeIdPrefix(this.parentRowNode),!this.usingTreeData&&this.groupLevel){var t=this.ssrmParams.rowGroupCols[this.level];this.groupField=t.field,this.rowGroupColumn=this.columnModel.getRowGroupColumns()[this.level]}this.initialiseRowNodes(),this.rowNodeBlockLoader.addBlock(this),this.addDestroyFunc((function(){return e.rowNodeBlockLoader.removeBlock(e)}))},t.prototype.destroyRowNodes=function(){this.blockUtils.destroyRowNodes(this.allRowNodes),this.allRowNodes=[],this.nodesAfterSort=[],this.nodesAfterFilter=[],this.allNodesMap={}},t.prototype.initialiseRowNodes=function(e,t){void 0===e&&(e=1),void 0===t&&(t=!1),this.destroyRowNodes();for(var r=0;r<e;r++){var n=this.blockUtils.createRowNode({field:this.groupField,group:this.groupLevel,leafGroup:this.leafGroup,level:this.level,parent:this.parentRowNode,rowGroupColumn:this.rowGroupColumn});t&&(n.failedLoad=!0),this.allRowNodes.push(n),this.nodesAfterFilter.push(n),this.nodesAfterSort.push(n)}},t.prototype.getBlockStateJson=function(){return{id:this.nodeIdPrefix?this.nodeIdPrefix:"",state:this.getState()}},t.prototype.loadFromDatasource=function(){this.storeUtils.loadFromDatasource({startRow:void 0,endRow:void 0,parentBlock:this,parentNode:this.parentRowNode,storeParams:this.ssrmParams,successCallback:this.pageLoaded.bind(this,this.getVersion()),success:this.success.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),fail:this.pageLoadFailed.bind(this,this.getVersion())})},t.prototype.getStartRow=function(){return 0},t.prototype.getEndRow=function(){return this.nodesAfterSort.length},t.prototype.createDataNode=function(e,t){var r=this.blockUtils.createRowNode({field:this.groupField,group:this.groupLevel,leafGroup:this.leafGroup,level:this.level,parent:this.parentRowNode,rowGroupColumn:this.rowGroupColumn});null!=t?o._.insertIntoArray(this.allRowNodes,r,t):this.allRowNodes.push(r);var n=this.prefixId(this.nodeIdSequence.next());return this.blockUtils.setDataIntoRowNode(r,e,n,void 0),this.nodeManager.addRowNode(r),this.blockUtils.checkOpenByDefault(r),this.allNodesMap[r.id]=r,r},t.prototype.prefixId=function(e){return this.nodeIdPrefix?this.nodeIdPrefix+"-"+e:e.toString()},t.prototype.processServerFail=function(){this.initialiseRowNodes(1,!0),this.fireStoreUpdatedEvent(),this.flushAsyncTransactions()},t.prototype.processServerResult=function(e){if(this.isAlive()){e.storeInfo&&Object.assign(this.info,e.storeInfo);var t=this.allRowNodes.length>0?this.allNodesMap:void 0;if(this.allRowNodes=[],this.nodesAfterSort=[],this.nodesAfterFilter=[],this.allNodesMap={},!e.rowData){o._.doOnce((function(){return console.warn('AG Grid: "params.data" is missing from Server-Side Row Model success() callback. Please use the "data" attribute. If no data is returned, set an empty list.',e)}),"FullStore.noData")}this.createOrRecycleNodes(t,e.rowData),t&&this.blockUtils.destroyRowNodes(o._.getAllValuesInObject(t)),this.filterAndSortNodes(),this.fireStoreUpdatedEvent(),this.flushAsyncTransactions()}},t.prototype.createOrRecycleNodes=function(e,t){var r=this;if(t){t.forEach((function(t){var n=function(t){if(e){var n=r.gridOptionsWrapper.getRowIdFunc();if(n){var o=r.parentRowNode.getGroupKeys(),i=r.level,a=n({data:t,parentKeys:o.length>0?o:void 0,level:i}),s=e[a];if(s)return delete e[a],s}}}(t);n?function(e,t){r.allNodesMap[e.id]=e,r.blockUtils.updateDataIntoRowNode(e,t),r.allRowNodes.push(e)}(n,t):r.createDataNode(t)}))}},t.prototype.flushAsyncTransactions=function(){var e=this;window.setTimeout((function(){return e.transactionManager.flushAsyncTransactions()}),0)},t.prototype.filterAndSortNodes=function(){this.filterRowNodes(),this.sortRowNodes()},t.prototype.sortRowNodes=function(){var e=this.sortController.getSortOptions(),t=!e||0==e.length,r=this.gridOptionsWrapper.isServerSideSortingAlwaysResets();this.nodesAfterSort=t||r?this.nodesAfterFilter:this.rowNodeSorter.doFullSort(this.nodesAfterFilter,e)},t.prototype.filterRowNodes=function(){var e=this,t=this.gridOptionsWrapper.isServerSideFilteringAlwaysResets(),r=this.groupLevel;this.nodesAfterFilter=t||r?this.allRowNodes:this.allRowNodes.filter((function(t){return e.filterManager.doesRowPassFilter({rowNode:t})}))},t.prototype.clearDisplayIndexes=function(){var e=this;this.displayIndexStart=void 0,this.displayIndexEnd=void 0,this.allRowNodes.forEach((function(t){return e.blockUtils.clearDisplayIndex(t)}))},t.prototype.getDisplayIndexEnd=function(){return this.displayIndexEnd},t.prototype.isDisplayIndexInStore=function(e){return 0!==this.getRowCount()&&(e>=this.displayIndexStart&&e<this.displayIndexEnd)},t.prototype.setDisplayIndexes=function(e,t){var r=this;this.displayIndexStart=e.peek(),this.topPx=t.value;var n={};this.nodesAfterSort.forEach((function(o){r.blockUtils.setDisplayIndex(o,e,t),n[o.id]=!0})),this.allRowNodes.forEach((function(e){n[e.id]||r.blockUtils.clearDisplayIndex(e)})),this.displayIndexEnd=e.peek(),this.heightPx=t.value-this.topPx},t.prototype.forEachNodeDeep=function(e,t){void 0===t&&(t=new o.NumberSequence),this.allRowNodes.forEach((function(r){e(r,t.next());var n=r.childStore;n&&n.forEachNodeDeep(e,t)}))},t.prototype.forEachNodeDeepAfterFilterAndSort=function(e,t){void 0===t&&(t=new o.NumberSequence),this.nodesAfterSort.forEach((function(r){e(r,t.next());var n=r.childStore;n&&n.forEachNodeDeepAfterFilterAndSort(e,t)}))},t.prototype.getRowUsingDisplayIndex=function(e){if(this.isDisplayIndexInStore(e))return this.blockUtils.binarySearchForDisplayIndex(e,this.nodesAfterSort)},t.prototype.getRowBounds=function(e){for(var t=0;t<this.nodesAfterSort.length;t++){var r=this.nodesAfterSort[t],n=this.blockUtils.extractRowBounds(r,e);if(n)return n}return null},t.prototype.isPixelInRange=function(e){return e>=this.topPx&&e<this.topPx+this.heightPx},t.prototype.getRowIndexAtPixel=function(e){var t=this;if(e<=this.topPx)return this.nodesAfterSort[0].rowIndex;if(e>=this.topPx+this.heightPx){var r=this.nodesAfterSort[this.nodesAfterSort.length-1],n=r.rowTop+r.rowHeight;if(e>=n&&r.expanded){if(r.childStore&&r.childStore.getRowCount()>0)return r.childStore.getRowIndexAtPixel(e);if(r.detailNode)return r.detailNode.rowIndex}return r.rowIndex}var o=null;return this.nodesAfterSort.forEach((function(r){var n=t.blockUtils.getIndexAtPixel(r,e);null!=n&&(o=n)})),null==o?this.displayIndexEnd-1:o},t.prototype.getChildStore=function(e){var t=this;return this.storeUtils.getChildStore(e,this,(function(e){return t.allRowNodes.find((function(t){return t.key==e}))}))},t.prototype.forEachChildStoreShallow=function(e){this.allRowNodes.forEach((function(t){var r=t.childStore;r&&e(r)}))},t.prototype.refreshAfterFilter=function(e){e.alwaysReset||this.gridOptionsWrapper.isTreeData()?this.refreshStore(!0):(this.filterAndSortNodes(),this.forEachChildStoreShallow((function(t){return t.refreshAfterFilter(e)})))},t.prototype.refreshAfterSort=function(e){e.alwaysReset?this.refreshStore(!0):(this.sortRowNodes(),this.forEachChildStoreShallow((function(t){return t.refreshAfterSort(e)})))},t.prototype.applyTransaction=function(e){switch(this.getState()){case o.RowNodeBlock.STATE_FAILED:return{status:o.ServerSideTransactionResultStatus.StoreLoadingFailed};case o.RowNodeBlock.STATE_LOADING:return{status:o.ServerSideTransactionResultStatus.StoreLoading};case o.RowNodeBlock.STATE_WAITING_TO_LOAD:return{status:o.ServerSideTransactionResultStatus.StoreWaitingToLoad}}var t=this.gridOptionsWrapper.getIsApplyServerSideTransactionFunc();if(t&&!t({transaction:e,parentNode:this.parentRowNode,storeInfo:this.info}))return{status:o.ServerSideTransactionResultStatus.Cancelled};var r={status:o.ServerSideTransactionResultStatus.Applied,remove:[],update:[],add:[]},n=[];return this.executeAdd(e,r),this.executeRemove(e,r,n),this.executeUpdate(e,r,n),this.filterAndSortNodes(),this.updateSelection(n),r},t.prototype.updateSelection=function(e){if(e.length>0){e.forEach((function(e){e.setSelected(!1,!1,!0)}));var t={type:o.Events.EVENT_SELECTION_CHANGED,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()};this.eventService.dispatchEvent(t)}},t.prototype.executeAdd=function(e,t){var r=this,n=e.add,i=e.addIndex;o._.missingOrEmpty(n)||("number"===typeof i&&i>=0?n.reverse().forEach((function(e){var n=r.createDataNode(e,i);t.add.push(n)})):n.forEach((function(e){var n=r.createDataNode(e);t.add.push(n)})))},t.prototype.executeRemove=function(e,t,r){var n=this,o=e.remove;if(null!=o){var i={};o.forEach((function(e){var o=n.lookupRowNode(e);o&&(o.isSelected()&&r.push(o),o.clearRowTopAndRowIndex(),i[o.id]=!0,delete n.allNodesMap[o.id],t.remove.push(o),n.nodeManager.removeNode(o))})),this.allRowNodes=this.allRowNodes.filter((function(e){return!i[e.id]}))}},t.prototype.executeUpdate=function(e,t,r){var n=this,o=e.update;null!=o&&o.forEach((function(e){var o=n.lookupRowNode(e);o&&(o.updateData(e),!o.selectable&&o.isSelected()&&r.push(o),t.update.push(o))}))},t.prototype.lookupRowNode=function(e){var t,r=this.gridOptionsWrapper.getRowIdFunc();if(null!=r){var n=this.level,o=this.parentRowNode.getGroupKeys(),i=r({data:e,parentKeys:o.length>0?o:void 0,level:n});if(!(t=this.allNodesMap[i]))return console.error("AG Grid: could not find row id="+i+", data item was not found for this id"),null}else if(!(t=this.allRowNodes.find((function(t){return t.data===e}))))return console.error("AG Grid: could not find data item as object was not found",e),null;return t},t.prototype.addStoreStates=function(e){e.push({type:"full",route:this.parentRowNode.getGroupKeys(),rowCount:this.allRowNodes.length,info:this.info}),this.forEachChildStoreShallow((function(t){return t.addStoreStates(e)}))},t.prototype.refreshStore=function(e){if(e){var t=this.nodesAfterSort?this.nodesAfterSort.length:1;this.initialiseRowNodes(t)}this.scheduleLoad(),this.fireStoreUpdatedEvent()},t.prototype.retryLoads=function(){this.getState()===o.RowNodeBlock.STATE_FAILED&&(this.initialiseRowNodes(1),this.scheduleLoad()),this.forEachChildStoreShallow((function(e){return e.retryLoads()}))},t.prototype.scheduleLoad=function(){this.setStateWaitingToLoad(),this.rowNodeBlockLoader.checkBlockToLoad()},t.prototype.fireStoreUpdatedEvent=function(){var e={type:o.Events.EVENT_STORE_UPDATED};this.eventService.dispatchEvent(e)},t.prototype.getRowCount=function(){return this.nodesAfterSort.length},t.prototype.getTopLevelRowDisplayedIndex=function(e){return this.nodesAfterSort[e].rowIndex},t.prototype.isLastRowIndexKnown=function(){return this.getState()==o.RowNodeBlock.STATE_LOADED},t.prototype.getRowNodesInRange=function(e,t){var r=[],n=!1;return o._.missing(e)&&(n=!0),this.nodesAfterSort.forEach((function(o){var i=o===e||o===t;(n||i)&&r.push(o),i&&(n=!n)})),n?[]:r},gw([o.Autowired("ssrmStoreUtils")],t.prototype,"storeUtils",void 0),gw([o.Autowired("ssrmBlockUtils")],t.prototype,"blockUtils",void 0),gw([o.Autowired("columnModel")],t.prototype,"columnModel",void 0),gw([o.Autowired("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),gw([o.Autowired("rowNodeSorter")],t.prototype,"rowNodeSorter",void 0),gw([o.Autowired("sortController")],t.prototype,"sortController",void 0),gw([o.Autowired("ssrmNodeManager")],t.prototype,"nodeManager",void 0),gw([o.Autowired("filterManager")],t.prototype,"filterManager",void 0),gw([o.Autowired("ssrmTransactionManager")],t.prototype,"transactionManager",void 0),gw([o.Autowired("columnApi")],t.prototype,"columnApi",void 0),gw([o.Autowired("gridApi")],t.prototype,"gridApi",void 0),gw([o.PostConstruct],t.prototype,"postConstruct",null),gw([o.PreDestroy],t.prototype,"destroyRowNodes",null),t}(o.RowNodeBlock),vw=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},mw=function(){function e(){}return e.prototype.createStore=function(e,t){var r=this.getStoreParams(e,t);return new("partial"===r.storeType?hw:yw)(e,r,t)},e.prototype.getStoreParams=function(e,t){var r=this.getLevelSpecificParams(t),n=this.getStoreType(r);return{storeType:n,cacheBlockSize:this.getBlockSize(n,r),maxBlocksInCache:this.getMaxBlocksInCache(n,e,r)}},e.prototype.getMaxBlocksInCache=function(e,t,r){if("full"!=e){var n=r&&null!=r.maxBlocksInCache?r.maxBlocksInCache:this.gridOptionsWrapper.getMaxBlocksInCache();if(null!=n&&n>=0)if(t.dynamicRowHeight){o._.doOnce((function(){return console.warn("AG Grid: Server Side Row Model does not support Dynamic Row Height and Cache Purging. Either a) remove getRowHeight() callback or b) remove maxBlocksInCache property. Purging has been disabled.")}),"storeFactory.maxBlocksInCache.dynamicRowHeight")}else{if(!this.columnModel.isAutoRowHeightActive())return n;o._.doOnce((function(){return console.warn("AG Grid: Server Side Row Model does not support Auto Row Height and Cache Purging. Either a) remove colDef.autoHeight or b) remove maxBlocksInCache property. Purging has been disabled.")}),"storeFactory.maxBlocksInCache.autoRowHeightActive")}}},e.prototype.getBlockSize=function(e,t){if("full"!=e){var r=t&&null!=t.cacheBlockSize?t.cacheBlockSize:this.gridOptionsWrapper.getCacheBlockSize();return null!=r&&r>0?r:100}},e.prototype.getLevelSpecificParams=function(e){var t=this.gridOptionsWrapper.getServerSideStoreParamsFunc();if(t)return t({level:e.level+1,parentRowNode:e.level>=0?e:void 0,rowGroupColumns:this.columnModel.getRowGroupColumns(),pivotColumns:this.columnModel.getPivotColumns(),pivotMode:this.columnModel.isPivotMode()})},e.prototype.getStoreType=function(e){var t=e&&null!=e.storeType?e.storeType:this.gridOptionsWrapper.getServerSideStoreType();switch(t){case"partial":case"full":return t;case null:case void 0:return"full";default:var r=["full","partial"].join(", ");return console.warn("AG Grid: invalid Server Side Store Type "+t+", valid types are ["+r+"]"),"partial"}},vw([o.Autowired("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),vw([o.Autowired("columnModel")],e.prototype,"columnModel",void 0),e=vw([o.Bean("ssrmStoreFactory")],e)}(),bw=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Cw=function(){function e(){}return e.prototype.isSortingWithValueColumn=function(e){for(var t=this.columnModel.getValueColumns().map((function(e){return e.getColId()})),r=0;r<e.length;r++)if(t.indexOf(e[r])>-1)return!0;return!1},e.prototype.isSortingWithSecondaryColumn=function(e){if(!this.columnModel.getSecondaryColumns())return!1;for(var t=this.columnModel.getSecondaryColumns().map((function(e){return e.getColId()})),r=0;r<e.length;r++)if(t.indexOf(e[r])>-1)return!0;return!1},bw([o.Autowired("columnModel")],e.prototype,"columnModel",void 0),e=bw([o.Bean("ssrmListenerUtils")],e)}(),ww={moduleName:o.ModuleNames.ServerSideRowModelModule,rowModels:{serverSide:FC},beans:[ZC,ew,WC,VC,UC,KC,nw,mw,Cw],dependantModules:[g]},xw=function(){function e(e,t,r){this.rowModel=e,this.filterParams=t,this.caseFormat=r}return e.prototype.extractUniqueValues=function(e){var t=this,r={},n=this.filterParams.colDef.keyCreator,i=function(e){var n=null!=e?t.caseFormat(e):"__<ag-grid-pseudo-null>__";n&&null==r[n]&&(r[n]=e)};return this.rowModel.forEachLeafNode((function(r){if(r.data&&e(r)){var a=t.filterParams,s=a.api,l=a.colDef,u=a.column,c=a.columnApi,p=a.context,d=t.filterParams.valueGetter({api:s,colDef:l,column:u,columnApi:c,context:p,data:r.data,getValue:function(e){return r.data[e]},node:r});if(n){var h={value:d,colDef:t.filterParams.colDef,column:t.filterParams.column,node:r,data:r.data,api:t.filterParams.api,columnApi:t.filterParams.columnApi,context:t.filterParams.context};d=n(h)}null!=(d=o._.makeNull(d))&&Array.isArray(d)?d.forEach((function(e){var t=o._.toStringOrNull(o._.makeNull(e));i(t)})):i(o._.toStringOrNull(d))}})),o._.values(r)},e}();!function(e){e[e.PROVIDED_LIST=0]="PROVIDED_LIST",e[e.PROVIDED_CALLBACK=1]="PROVIDED_CALLBACK",e[e.TAKEN_FROM_GRID_VALUES=2]="TAKEN_FROM_GRID_VALUES"}(dw||(dw={}));var Sw=function(){function e(e,t,r,n,i){var a=this;this.filterParams=e,this.setIsLoading=t,this.valueFormatterService=r,this.translate=n,this.caseFormat=i,this.localEventService=new o.EventService,this.miniFilterText=null,this.providedValues=null,this.allValues=[],this.availableValues=new Set,this.displayedValues=[],this.selectedValues=new Set,this.initialised=!1;var s=e.column,l=e.colDef,u=e.textFormatter,c=e.doesRowPassOtherFilter,p=e.suppressSorting,d=e.comparator,h=e.rowModel,f=e.values;e.caseSensitive;this.column=s,this.formatter=u||o.TextFilter.DEFAULT_FORMATTER,this.doesRowPassOtherFilters=c,this.suppressSorting=p||!1,this.comparator=d||l.comparator||o._.defaultComparator,h.getType()===o.Constants.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideValuesExtractor=new xw(h,this.filterParams,this.caseFormat)),null==f?this.valuesType=dw.TAKEN_FROM_GRID_VALUES:(this.valuesType=Array.isArray(f)?dw.PROVIDED_LIST:dw.PROVIDED_CALLBACK,this.providedValues=f),this.updateAllValues().then((function(e){return a.resetSelectionState(e||[])}))}return e.prototype.addEventListener=function(e,t,r){this.localEventService.addEventListener(e,t,r)},e.prototype.removeEventListener=function(e,t,r){this.localEventService.removeEventListener(e,t,r)},e.prototype.refreshValues=function(){var e=this.getModel();return this.updateAllValues(),this.setModel(e)},e.prototype.overrideValues=function(e){var t=this;return new o.AgPromise((function(r){t.allValuesPromise.then((function(){t.valuesType=dw.PROVIDED_LIST,t.providedValues=e,t.refreshValues().then((function(){return r()}))}))}))},e.prototype.refreshAfterAnyFilterChanged=function(){var e=this;return this.showAvailableOnly()?this.allValuesPromise.then((function(t){return e.updateAvailableValues(t||[])})):o.AgPromise.resolve()},e.prototype.isInitialised=function(){return this.initialised},e.prototype.updateAllValues=function(){var e=this;return this.allValuesPromise=new o.AgPromise((function(t){switch(e.valuesType){case dw.TAKEN_FROM_GRID_VALUES:case dw.PROVIDED_LIST:var r=e.valuesType===dw.TAKEN_FROM_GRID_VALUES?e.getValuesFromRows(!1):o._.values(e.uniqueValues(o._.toStrings(e.providedValues)||[])),n=e.sortValues(r||[]);e.allValues=n,t(n);break;case dw.PROVIDED_CALLBACK:e.setIsLoading(!0);var i=e.providedValues,a=e.filterParams,s=a.columnApi,l=a.api,u=a.context,c=a.column,p={success:function(r){var n=o._.values(e.uniqueValues(o._.toStrings(r)||[]));e.setIsLoading(!1);var i=e.sortValues(n||[]);e.allValues=i,t(i)},colDef:a.colDef,column:c,columnApi:s,api:l,context:u};window.setTimeout((function(){return i(p)}),0);break;default:throw new Error("Unrecognised valuesType")}})),this.allValuesPromise.then((function(t){return e.updateAvailableValues(t||[])})).then((function(){return e.initialised=!0})),this.allValuesPromise},e.prototype.setValuesType=function(e){this.valuesType=e},e.prototype.getValuesType=function(){return this.valuesType},e.prototype.isValueAvailable=function(e){return this.availableValues.has(e)},e.prototype.showAvailableOnly=function(){return this.valuesType===dw.TAKEN_FROM_GRID_VALUES},e.prototype.updateAvailableValues=function(t){var r=this.showAvailableOnly()?this.sortValues(this.getValuesFromRows(!0)):t;this.availableValues=o._.convertToSet(r),this.localEventService.dispatchEvent({type:e.EVENT_AVAILABLE_VALUES_CHANGED}),this.updateDisplayedValues()},e.prototype.sortValues=function(e){return this.suppressSorting?e:!this.filterParams.excelMode||e.indexOf(null)<0?e.sort(this.comparator):e.filter((function(e){return null!=e})).sort(this.comparator).concat(null)},e.prototype.getValuesFromRows=function(e){var t=this;if(void 0===e&&(e=!1),!this.clientSideValuesExtractor)return console.error("AG Grid: Set Filter cannot initialise because you are using a row model that does not contain all rows in the browser. Either use a different filter type, or configure Set Filter such that you provide it with values"),[];return this.clientSideValuesExtractor.extractUniqueValues((function(r){return!e||t.doesRowPassOtherFilters(r)}))},e.prototype.setMiniFilter=function(e){return e=o._.makeNull(e),this.miniFilterText!==e&&(this.miniFilterText=e,this.updateDisplayedValues(),!0)},e.prototype.getMiniFilter=function(){return this.miniFilterText},e.prototype.updateDisplayedValues=function(){var e=this;if(null!=this.miniFilterText){this.displayedValues=[];var t=this.caseFormat(this.formatter(this.miniFilterText)||""),r=function(r){return null!=r&&e.caseFormat(r).indexOf(t)>=0};this.availableValues.forEach((function(t){if(null==t)e.filterParams.excelMode&&r(e.translate("blanks"))&&e.displayedValues.push(t);else{var n=e.formatter(t),o=e.valueFormatterService.formatValue(e.column,null,n,e.filterParams.valueFormatter,!1);(r(n)||r(o))&&e.displayedValues.push(t)}}))}else this.displayedValues=o._.values(this.availableValues)},e.prototype.getDisplayedValueCount=function(){return this.displayedValues.length},e.prototype.getDisplayedValue=function(e){return this.displayedValues[e]},e.prototype.hasSelections=function(){return this.filterParams.defaultToNothingSelected?this.selectedValues.size>0:this.allValues.length!==this.selectedValues.size},e.prototype.getValues=function(){return this.allValues.slice()},e.prototype.selectAllMatchingMiniFilter=function(e){var t=this;void 0===e&&(e=!1),null==this.miniFilterText?this.selectedValues=o._.convertToSet(this.allValues):(e&&this.selectedValues.clear(),this.displayedValues.forEach((function(e){return t.selectedValues.add(e)})))},e.prototype.deselectAllMatchingMiniFilter=function(){var e=this;null==this.miniFilterText?this.selectedValues.clear():this.displayedValues.forEach((function(t){return e.selectedValues.delete(t)}))},e.prototype.selectValue=function(e){this.selectedValues.add(e)},e.prototype.deselectValue=function(e){this.filterParams.excelMode&&this.isEverythingVisibleSelected()&&this.resetSelectionState(this.displayedValues),this.selectedValues.delete(e)},e.prototype.isValueSelected=function(e){return this.selectedValues.has(e)},e.prototype.isEverythingVisibleSelected=function(){var e=this;return this.displayedValues.filter((function(t){return e.isValueSelected(t)})).length===this.displayedValues.length},e.prototype.isNothingVisibleSelected=function(){var e=this;return 0===this.displayedValues.filter((function(t){return e.isValueSelected(t)})).length},e.prototype.getModel=function(){return this.hasSelections()?o._.values(this.selectedValues):null},e.prototype.setModel=function(e){var t=this;return this.allValuesPromise.then((function(r){if(null==e)t.resetSelectionState(r||[]);else{t.selectedValues.clear();var n=t.uniqueValues(r||[]);e.forEach((function(e){var r=n[t.uniqueKey(e)];void 0!==r&&t.selectedValues.add(r)}))}}))},e.prototype.uniqueValues=function(e){var t=this,r={};return(e||[]).forEach((function(e){var n=o._.makeNull(e),i=t.uniqueKey(n);void 0===r[i]&&(r[i]=n)})),r},e.prototype.uniqueKey=function(e){return null==e?"__<ag-grid-pseudo-null>__":this.caseFormat(e)},e.prototype.resetSelectionState=function(e){this.filterParams.defaultToNothingSelected?this.selectedValues.clear():this.selectedValues=o._.convertToSet(e||[])},e.EVENT_AVAILABLE_VALUES_CHANGED="availableValuesChanged",e}(),Ew=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ow=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},_w=function(e){function t(r,n,o,i){var a=e.call(this,t.TEMPLATE)||this;return a.value=r,a.params=n,a.translate=o,a.isSelected=i,a}return Ew(t,e),t.prototype.init=function(){var e=this;this.render(),this.eCheckbox.setValue(this.isSelected,!0),this.eCheckbox.setDisabled(!!this.params.readOnly),this.params.readOnly||this.eCheckbox.onValueChange((function(r){var n=r||!1;e.isSelected=n;var o={type:t.EVENT_SELECTION_CHANGED,isSelected:n};e.dispatchEvent(o)}))},t.prototype.toggleSelected=function(){this.params.readOnly||(this.isSelected=!this.isSelected,this.eCheckbox.setValue(this.isSelected))},t.prototype.render=function(){var e=this.params.column,t=this.value,r=null;if("function"===typeof t?t=t():r=this.getFormattedValue(this.params,e,t),this.params.showTooltips){var n=null!=r?r:t;this.setTooltip(n)}var o={value:t,valueFormatted:r,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),colDef:this.params.colDef,column:this.params.column};this.renderCell(o)},t.prototype.getTooltipParams=function(){var t=e.prototype.getTooltipParams.call(this);return t.location="setFilterValue",t.colDef=this.getComponentHolder(),t},t.prototype.getFormattedValue=function(e,t,r){var n=e&&e.valueFormatter;return this.valueFormatterService.formatValue(t,null,r,n,!1)},t.prototype.renderCell=function(e){var t=this,r=this.userComponentFactory.getSetFilterCellRendererDetails(this.params,e),n=r?r.newAgStackInstance():void 0;if(null!=n)n.then((function(e){e&&(t.eCheckbox.setLabel(e.getGui()),t.addDestroyFunc((function(){return t.destroyBean(e)})))}));else{var o=null==e.valueFormatted?e.value:e.valueFormatted;this.eCheckbox.setLabel(null==o?this.translate("blanks"):o)}},t.prototype.getComponentHolder=function(){return this.params.column.getColDef()},t.EVENT_SELECTION_CHANGED="selectionChanged",t.TEMPLATE='\n        <div class="ag-set-filter-item">\n            <ag-checkbox ref="eCheckbox" class="ag-set-filter-item-checkbox"></ag-checkbox>\n        </div>',Ow([o.Autowired("valueFormatterService")],t.prototype,"valueFormatterService",void 0),Ow([o.Autowired("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Ow([o.RefSelector("eCheckbox")],t.prototype,"eCheckbox",void 0),Ow([o.PostConstruct],t.prototype,"init",null),t}(o.Component),Pw={loadingOoo:"Loading...",blanks:"(Blanks)",searchOoo:"Search...",selectAll:"(Select All)",selectAllSearchResults:"(Select All Search Results)",noMatches:"No matches."},Rw=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Aw=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Tw=function(e){function t(){var t=e.call(this,"setFilter")||this;return t.valueModel=null,t.setFilterParams=null,t.virtualList=null,t.caseSensitive=!1,t.appliedModelValues=null,t}return Rw(t,e),t.prototype.postConstruct=function(){e.prototype.postConstruct.call(this),this.positionableFeature=new o.PositionableFeature(this.eSetFilterList,{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)},t.prototype.updateUiVisibility=function(){},t.prototype.createBodyTemplate=function(){return'\n            <div class="ag-set-filter">\n                <div ref="eFilterLoading" class="ag-filter-loading ag-hidden">'+this.translateForSetFilter("loadingOoo")+'</div>\n                <ag-input-text-field class="ag-mini-filter" ref="eMiniFilter"></ag-input-text-field>\n                <div ref="eFilterNoMatches" class="ag-filter-no-matches ag-hidden">'+this.translateForSetFilter("noMatches")+'</div>\n                <div ref="eSetFilterList" class="ag-set-filter-list" role="presentation"></div>\n            </div>'},t.prototype.handleKeyDown=function(t){if(e.prototype.handleKeyDown.call(this,t),!t.defaultPrevented)switch(t.key){case o.KeyCode.SPACE:this.handleKeySpace(t);break;case o.KeyCode.ENTER:this.handleKeyEnter(t)}},t.prototype.handleKeySpace=function(e){var t=this.gridOptionsWrapper.getDocument();if(this.eSetFilterList.contains(t.activeElement)&&this.virtualList){var r=this.virtualList.getLastFocusedRow();if(null!=r){var n=this.virtualList.getComponentAt(r);if(null!=n)e.preventDefault(),(this.setFilterParams||{}).readOnly||n.toggleSelected()}}},t.prototype.handleKeyEnter=function(e){if(this.setFilterParams){var t=this.setFilterParams||{},r=t.excelMode,n=t.readOnly;r&&!n&&(e.preventDefault(),this.onBtApply(!1,!1,e),"mac"===this.setFilterParams.excelMode&&this.eMiniFilter.getInputElement().select())}},t.prototype.getCssIdentifier=function(){return"set-filter"},t.prototype.setModelAndRefresh=function(e){var t=this;return this.valueModel?this.valueModel.setModel(e).then((function(){return t.refresh()})):o.AgPromise.resolve()},t.prototype.resetUiToDefaults=function(){return this.setMiniFilter(null),this.setModelAndRefresh(null)},t.prototype.setModelIntoUi=function(e){this.setMiniFilter(null);var t=null==e?null:e.values;return this.setModelAndRefresh(t)},t.prototype.getModelFromUi=function(){if(!this.valueModel)throw new Error("Value model has not been created.");var e=this.valueModel.getModel();return e?{values:e,filterType:this.getFilterType()}:null},t.prototype.getFilterType=function(){return"set"},t.prototype.getValueModel=function(){return this.valueModel},t.prototype.areModelsEqual=function(e,t){return null==e&&null==t||null!=e&&null!=t&&o._.areEqual(e.values,t.values)},t.prototype.setParams=function(t){var r=this;this.applyExcelModeOptions(t),e.prototype.setParams.call(this,t),this.setFilterParams=t,this.caseSensitive=t.caseSensitive||!1,this.valueModel=new Sw(t,(function(e){return r.showOrHideLoadingScreen(e)}),this.valueFormatterService,(function(e){return r.translateForSetFilter(e)}),(function(e){return r.caseFormat(e)})),this.initialiseFilterBodyUi(),t.rowModel.getType()!==o.Constants.ROW_MODEL_TYPE_CLIENT_SIDE||t.values||this.addEventListenersForDataChanges()},t.prototype.applyExcelModeOptions=function(e){"windows"===e.excelMode?(e.buttons||(e.buttons=["apply","cancel"]),null==e.closeOnApply&&(e.closeOnApply=!0)):"mac"===e.excelMode&&(e.buttons||(e.buttons=["reset"]),null==e.applyMiniFilterWhileTyping&&(e.applyMiniFilterWhileTyping=!0),null==e.debounceMs&&(e.debounceMs=500))},t.prototype.addEventListenersForDataChanges=function(){var e=this;this.addManagedListener(this.eventService,o.Events.EVENT_ROW_DATA_UPDATED,(function(){return e.syncAfterDataChange()})),this.addManagedListener(this.eventService,o.Events.EVENT_CELL_VALUE_CHANGED,(function(t){e.setFilterParams&&t.column===e.setFilterParams.column&&e.syncAfterDataChange()}))},t.prototype.syncAfterDataChange=function(e){var t=this;if(void 0===e&&(e=!0),!this.valueModel)throw new Error("Value model has not been created.");var r=o.AgPromise.resolve();return e&&(r=this.valueModel.refreshValues()),r.then((function(){t.refresh(),t.onBtApply(!1,!0)}))},t.prototype.showOrHideLoadingScreen=function(e){o._.setDisplayed(this.eFilterLoading,e)},t.prototype.initialiseFilterBodyUi=function(){this.initVirtualList(),this.initMiniFilter()},t.prototype.initVirtualList=function(){var e=this;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var t=this.gridOptionsWrapper.getLocaleTextFunc()("ariaFilterList","Filter List"),r=this.virtualList=this.createBean(new o.VirtualList("filter","listbox",t)),n=this.getRefElement("eSetFilterList");n&&n.appendChild(r.getGui());var i,a=this.setFilterParams.cellHeight;null!=a&&r.setRowHeight(a),r.setComponentCreator((function(t){return e.createSetListItem(t)})),i=this.setFilterParams.suppressSelectAll?new Dw(this.valueModel):new Mw(this.valueModel,(function(){return e.isSelectAllSelected()})),r.setModel(i)},t.prototype.getSelectAllLabel=function(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var e=null!=this.valueModel.getMiniFilter()&&this.setFilterParams.excelMode?"selectAllSearchResults":"selectAll";return this.translateForSetFilter(e)},t.prototype.createSetListItem=function(e){var r,n=this;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");return e===t.SELECT_ALL_VALUE?((r=this.createBean(new _w((function(){return n.getSelectAllLabel()}),this.setFilterParams,(function(e){return n.translateForSetFilter(e)}),this.isSelectAllSelected()))).addEventListener(_w.EVENT_SELECTION_CHANGED,(function(e){return n.onSelectAll(e.isSelected)})),r):((r=this.createBean(new _w(e,this.setFilterParams,(function(e){return n.translateForSetFilter(e)}),this.valueModel.isValueSelected(e)))).addEventListener(_w.EVENT_SELECTION_CHANGED,(function(t){return n.onItemSelected(e,t.isSelected)})),r)},t.prototype.initMiniFilter=function(){var e=this;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var t=this.eMiniFilter,r=this.gridOptionsWrapper.getLocaleTextFunc();t.setDisplayed(!this.setFilterParams.suppressMiniFilter),t.setValue(this.valueModel.getMiniFilter()),t.onValueChange((function(){return e.onMiniFilterInput()})),t.setInputAriaLabel(r("ariaSearchFilterValues","Search filter values")),this.addManagedListener(t.getInputElement(),"keypress",(function(t){return e.onMiniFilterKeyPress(t)}))},t.prototype.afterGuiAttached=function(t){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");e.prototype.afterGuiAttached.call(this,t),this.setFilterParams.excelMode&&(this.resetUiToActiveModel(),this.showOrHideResults()),this.refreshVirtualList();var r=this.eMiniFilter;r.setInputPlaceholder(this.translateForSetFilter("searchOoo")),t&&t.suppressFocus||r.getFocusableElement().focus();var n,o=!(!t||"floatingFilter"!==t.container);n=this.gridOptionsWrapper.isEnableRtl()?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0},o?(this.positionableFeature.restoreLastSize(),this.positionableFeature.setResizable(n)):(this.positionableFeature.removeSizeFromEl(),this.positionableFeature.setResizable(!1))},t.prototype.applyModel=function(){var t=this;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");this.setFilterParams.excelMode&&this.valueModel.isEverythingVisibleSelected()&&this.valueModel.selectAllMatchingMiniFilter();var r=e.prototype.applyModel.call(this),n=this.getModel();return this.appliedModelValues=n?n.values.reduce((function(e,r){return e[t.caseFormat(String(r))]=!0,e}),{}):null,r},t.prototype.isModelValid=function(e){return!this.setFilterParams||!this.setFilterParams.excelMode||(null==e||e.values.length>0)},t.prototype.doesFilterPass=function(e){var t=this;if(!this.setFilterParams||!this.valueModel||!this.appliedModelValues)return!0;var r=e.node,n=e.data,i=this.setFilterParams,a=i.valueGetter,s=i.colDef.keyCreator,l=i.api,u=i.colDef,c=i.column,p=i.columnApi,d=i.context,h=a({api:l,colDef:u,column:c,columnApi:p,context:d,data:n,getValue:function(e){return n[e]},node:r});s&&(h=s({value:h,colDef:u,column:c,node:r,data:n,api:l,columnApi:p,context:d}));return h=o._.makeNull(h),Array.isArray(h)?h.some((function(e){return!0===t.appliedModelValues[t.caseFormat(String(o._.makeNull(e)))]})):!0===this.appliedModelValues[this.caseFormat(String(h))]},t.prototype.onNewRowsLoaded=function(){if(!this.valueModel)throw new Error("Value model has not been created.");var e=this.valueModel.getValuesType();this.syncAfterDataChange(e===dw.TAKEN_FROM_GRID_VALUES)},t.prototype.setFilterValues=function(e){var t=this;if(!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.overrideValues(e).then((function(){t.refresh(),t.onUiChanged()}))},t.prototype.resetFilterValues=function(){if(!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.setValuesType(dw.TAKEN_FROM_GRID_VALUES),this.syncAfterDataChange(!0)},t.prototype.refreshFilterValues=function(){var e=this;if(!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.isInitialised()&&this.valueModel.refreshValues().then((function(){e.refresh(),e.onUiChanged()}))},t.prototype.onAnyFilterChanged=function(){var e=this;setTimeout((function(){if(e.isAlive()){if(!e.valueModel)throw new Error("Value model has not been created.");e.valueModel.refreshAfterAnyFilterChanged().then((function(){return e.refresh()}))}}),0)},t.prototype.onMiniFilterInput=function(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");if(this.valueModel.setMiniFilter(this.eMiniFilter.getValue())){var e=this.setFilterParams||{},t=e.applyMiniFilterWhileTyping;!e.readOnly&&t?this.filterOnAllVisibleValues(!1):this.updateUiAfterMiniFilterChange()}},t.prototype.updateUiAfterMiniFilterChange=function(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var e=this.setFilterParams||{},t=e.excelMode,r=e.readOnly;null==t||r?this.refresh():null==this.valueModel.getMiniFilter()?this.resetUiToActiveModel():(this.valueModel.selectAllMatchingMiniFilter(!0),this.refresh(),this.onUiChanged()),this.showOrHideResults()},t.prototype.showOrHideResults=function(){if(!this.valueModel)throw new Error("Value model has not been created.");var e=null!=this.valueModel.getMiniFilter()&&this.valueModel.getDisplayedValueCount()<1;o._.setDisplayed(this.eNoMatches,e),o._.setDisplayed(this.eSetFilterList,!e)},t.prototype.resetUiToActiveModel=function(){var e=this;if(!this.valueModel)throw new Error("Value model has not been created.");this.eMiniFilter.setValue(null,!0),this.valueModel.setMiniFilter(null),this.setModelIntoUi(this.getModel()).then((function(){return e.onUiChanged(!1,"prevent")}))},t.prototype.onMiniFilterKeyPress=function(e){var t=this.setFilterParams||{},r=t.excelMode,n=t.readOnly;e.key!==o.KeyCode.ENTER||r||n||this.filterOnAllVisibleValues()},t.prototype.filterOnAllVisibleValues=function(e){void 0===e&&(e=!0);var t=(this.setFilterParams||{}).readOnly;if(!this.valueModel)throw new Error("Value model has not been created.");if(t)throw new Error("Unable to filter in readOnly mode.");this.valueModel.selectAllMatchingMiniFilter(!0),this.refresh(),this.onUiChanged(!1,e?"immediately":"debounce"),this.showOrHideResults()},t.prototype.focusRowIfAlive=function(e){var t=this;null!=e&&window.setTimeout((function(){if(!t.virtualList)throw new Error("Virtual list has not been created.");t.isAlive()&&t.virtualList.focusRow(e)}),0)},t.prototype.onSelectAll=function(e){if(!this.valueModel)throw new Error("Value model has not been created.");if(!this.virtualList)throw new Error("Virtual list has not been created.");e?this.valueModel.selectAllMatchingMiniFilter():this.valueModel.deselectAllMatchingMiniFilter();var t=this.virtualList.getLastFocusedRow();this.refresh(),this.onUiChanged(),this.focusRowIfAlive(t)},t.prototype.onItemSelected=function(e,t){if(!this.valueModel)throw new Error("Value model has not been created.");if(!this.virtualList)throw new Error("Virtual list has not been created.");t?this.valueModel.selectValue(e):this.valueModel.deselectValue(e);var r=this.virtualList.getLastFocusedRow();this.refresh(),this.onUiChanged(),this.focusRowIfAlive(r)},t.prototype.setMiniFilter=function(e){this.eMiniFilter.setValue(e),this.onMiniFilterInput()},t.prototype.getMiniFilter=function(){return this.valueModel?this.valueModel.getMiniFilter():null},t.prototype.refresh=function(){if(!this.virtualList)throw new Error("Virtual list has not been created.");this.virtualList.refresh()},t.prototype.getValues=function(){return this.valueModel?this.valueModel.getValues():[]},t.prototype.refreshVirtualList=function(){this.setFilterParams&&this.setFilterParams.refreshValuesOnOpen?this.refreshFilterValues():this.refresh()},t.prototype.translateForSetFilter=function(e){return this.gridOptionsWrapper.getLocaleTextFunc()(e,Pw[e])},t.prototype.isSelectAllSelected=function(){if(!this.setFilterParams||!this.valueModel)return!1;if(this.setFilterParams.defaultToNothingSelected){if(this.valueModel.hasSelections()&&this.valueModel.isEverythingVisibleSelected())return!0;if(this.valueModel.isNothingVisibleSelected())return!1}else{if(this.valueModel.hasSelections()&&this.valueModel.isNothingVisibleSelected())return!1;if(this.valueModel.isEverythingVisibleSelected())return!0}},t.prototype.destroy=function(){null!=this.virtualList&&(this.virtualList.destroy(),this.virtualList=null),e.prototype.destroy.call(this)},t.prototype.caseFormat=function(e){return null==e||"string"!==typeof e||this.caseSensitive?e:e.toUpperCase()},t.SELECT_ALL_VALUE="__AG_SELECT_ALL__",Aw([o.RefSelector("eMiniFilter")],t.prototype,"eMiniFilter",void 0),Aw([o.RefSelector("eFilterLoading")],t.prototype,"eFilterLoading",void 0),Aw([o.RefSelector("eSetFilterList")],t.prototype,"eSetFilterList",void 0),Aw([o.RefSelector("eFilterNoMatches")],t.prototype,"eNoMatches",void 0),Aw([o.Autowired("valueFormatterService")],t.prototype,"valueFormatterService",void 0),t}(o.ProvidedFilter),Dw=function(){function e(e){this.model=e}return e.prototype.getRowCount=function(){return this.model.getDisplayedValueCount()},e.prototype.getRow=function(e){return this.model.getDisplayedValue(e)},e.prototype.isRowSelected=function(e){return this.model.isValueSelected(this.getRow(e))},e}(),Mw=function(){function e(e,t){this.model=e,this.isSelectAllSelected=t}return e.prototype.getRowCount=function(){return this.model.getDisplayedValueCount()+1},e.prototype.getRow=function(e){return 0===e?Tw.SELECT_ALL_VALUE:this.model.getDisplayedValue(e-1)},e.prototype.isRowSelected=function(e){return 0===e?this.isSelectAllSelected():this.model.isValueSelected(this.getRow(e))},e}(),kw=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Nw=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Iw=function(e){function t(){var t=e.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>\n            </div>')||this;return t.availableValuesListenerAdded=!1,t}return kw(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.prototype.init=function(e){var t=this.columnModel.getDisplayNameForColumn(e.column,"header",!0),r=this.gridOptionsWrapper.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(t+" "+r("ariaFilterInput","Filter Input")).addGuiEventListener("click",(function(){return e.showParentFilter()})),this.params=e},t.prototype.onParentModelChanged=function(e){this.updateFloatingFilterText(e)},t.prototype.parentSetFilterInstance=function(e){this.params.parentFilterInstance((function(t){if(!(t instanceof Tw))throw new Error("AG Grid - SetFloatingFilter expects SetFilter as it's parent");e(t)}))},t.prototype.addAvailableValuesListener=function(){var e=this;this.parentSetFilterInstance((function(t){var r=t.getValueModel();r&&e.addManagedListener(r,Sw.EVENT_AVAILABLE_VALUES_CHANGED,(function(){return e.updateFloatingFilterText()}))})),this.availableValuesListenerAdded=!0},t.prototype.updateFloatingFilterText=function(e){var t=this;this.availableValuesListenerAdded||this.addAvailableValuesListener(),this.parentSetFilterInstance((function(r){var n=(e||r.getModel()||{}).values,o=r.getValueModel();if(null!=n&&null!=o){var i=t.gridOptionsWrapper.getLocaleTextFunc(),a=n.filter((function(e){return o.isValueAvailable(e)})).map((function(e){var r=t.params,n=r.column,o=r.filterParams,a=t.valueFormatterService.formatValue(n,null,e,o.valueFormatter,!1),s=null!=a?a:e;return null==s?i("blanks",Pw.blanks):s})),s=a.length>10?a.slice(0,10).concat("..."):a,l="("+a.length+") "+s.join(",");t.eFloatingFilterText.setValue(l)}else t.eFloatingFilterText.setValue("")}))},Nw([o.RefSelector("eFloatingFilterText")],t.prototype,"eFloatingFilterText",void 0),Nw([o.Autowired("valueFormatterService")],t.prototype,"valueFormatterService",void 0),Nw([o.Autowired("columnModel")],t.prototype,"columnModel",void 0),t}(o.Component),Lw={moduleName:o.ModuleNames.SetFilterModule,beans:[],userComponents:[{componentName:"agSetColumnFilter",componentClass:Tw},{componentName:"agSetColumnFloatingFilter",componentClass:Iw}],dependantModules:[g]},Fw=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Gw=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Bw=function(e){function t(){var t=e.call(this)||this;return t.allComponents={},t}return Fw(t,e),t.prototype.registerStatusPanel=function(e,t){this.allComponents[e]=t},t.prototype.getStatusPanel=function(e){return this.allComponents[e]},t=Gw([o.Bean("statusBarService")],t)}(o.BeanStub),Ww=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Hw=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},jw=function(e){function t(){return e.call(this,t.TEMPLATE)||this}return Ww(t,e),t.prototype.postConstruct=function(){if(this.gridOptions.statusBar&&this.gridOptions.statusBar.statusPanels){var e=this.gridOptions.statusBar.statusPanels.filter((function(e){return"left"===e.align}));this.createAndRenderComponents(e,this.eStatusBarLeft);var t=this.gridOptions.statusBar.statusPanels.filter((function(e){return"center"===e.align}));this.createAndRenderComponents(t,this.eStatusBarCenter);var r=this.gridOptions.statusBar.statusPanels.filter((function(e){return!e.align||"right"===e.align}));this.createAndRenderComponents(r,this.eStatusBarRight)}else this.setDisplayed(!1)},t.prototype.createAndRenderComponents=function(e,t){var r=this,n=[];e.forEach((function(e){var t=r.userComponentFactory.getStatusPanelCompDetails(e,{}).newAgStackInstance();t&&n.push({key:e.key||e.statusPanel,promise:t})})),o.AgPromise.all(n.map((function(e){return e.promise}))).then((function(){n.forEach((function(e){e.promise.then((function(n){var o=function(){r.getContext().destroyBean(n)};r.isAlive()?(r.statusBarService.registerStatusPanel(e.key,n),t.appendChild(n.getGui()),r.addDestroyFunc(o)):o()}))}))}))},t.TEMPLATE='<div class="ag-status-bar">\n            <div ref="eStatusBarLeft" class="ag-status-bar-left" role="status"></div>\n            <div ref="eStatusBarCenter" class="ag-status-bar-center" role="status"></div>\n            <div ref="eStatusBarRight" class="ag-status-bar-right" role="status"></div>\n        </div>',Hw([o.Autowired("gridOptions")],t.prototype,"gridOptions",void 0),Hw([o.Autowired("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Hw([o.Autowired("statusBarService")],t.prototype,"statusBarService",void 0),Hw([o.RefSelector("eStatusBarLeft")],t.prototype,"eStatusBarLeft",void 0),Hw([o.RefSelector("eStatusBarCenter")],t.prototype,"eStatusBarCenter",void 0),Hw([o.RefSelector("eStatusBarRight")],t.prototype,"eStatusBarRight",void 0),Hw([o.PostConstruct],t.prototype,"postConstruct",null),t}(o.Component),Vw=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),zw=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Uw=function(e){function t(){return e.call(this,t.TEMPLATE)||this}return Vw(t,e),t.prototype.setLabel=function(e,t){this.setDisplayed(!1);var r=this.gridOptionsWrapper.getLocaleTextFunc();this.eLabel.innerHTML=r(e,t)},t.prototype.setValue=function(e){this.eValue.innerHTML=e},t.TEMPLATE='<div class="ag-status-name-value">\n            <span ref="eLabel"></span>:&nbsp;\n            <span ref="eValue" class="ag-status-name-value-value"></span>\n        </div>',zw([o.RefSelector("eLabel")],t.prototype,"eLabel",void 0),zw([o.RefSelector("eValue")],t.prototype,"eValue",void 0),t}(o.Component),Yw=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Xw=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Kw=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Yw(t,e),t.prototype.postConstruct=function(){"clientSide"===this.gridApi.getModel().getType()?(this.setLabel("totalAndFilteredRows","Rows"),this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-total-and-filtered-row-count"),this.setDisplayed(!0),this.addManagedListener(this.eventService,o.Events.EVENT_MODEL_UPDATED,this.onDataChanged.bind(this)),this.onDataChanged()):console.warn("AG Grid: agTotalAndFilteredRowCountComponent should only be used with the client side row model.")},t.prototype.onDataChanged=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),t=e("thousandSeparator",","),r=e("decimalSeparator","."),n=o._.formatNumberCommas(this.getFilteredRowCountValue(),t,r),i=o._.formatNumberCommas(this.getTotalRowCount(),t,r);if(n===i)this.setValue(n);else{var a=this.gridOptionsWrapper.getLocaleTextFunc();this.setValue(n+" "+a("of","of")+" "+i)}},t.prototype.getFilteredRowCountValue=function(){var e=0;return this.gridApi.forEachNodeAfterFilter((function(t){t.group||e++})),e},t.prototype.getTotalRowCount=function(){var e=0;return this.gridApi.forEachNode((function(t){t.group||e++})),e},t.prototype.init=function(){},t.prototype.destroy=function(){e.prototype.destroy.call(this)},Xw([o.Autowired("gridApi")],t.prototype,"gridApi",void 0),Xw([o.PostConstruct],t.prototype,"postConstruct",null),t}(Uw),qw=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),$w=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Zw=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return qw(t,e),t.prototype.postConstruct=function(){if(this.setLabel("filteredRows","Filtered"),"clientSide"===this.gridApi.getModel().getType()){this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-filtered-row-count"),this.setDisplayed(!0);var e=this.onDataChanged.bind(this);this.addManagedListener(this.eventService,o.Events.EVENT_MODEL_UPDATED,e),e()}else console.warn("AG Grid: agFilteredRowCountComponent should only be used with the client side row model.")},t.prototype.onDataChanged=function(){var e=this.getTotalRowCountValue(),t=this.getFilteredRowCountValue(),r=this.gridOptionsWrapper.getLocaleTextFunc(),n=r("thousandSeparator",","),i=r("decimalSeparator",".");this.setValue(o._.formatNumberCommas(t,n,i)),this.setDisplayed(e!==t)},t.prototype.getTotalRowCountValue=function(){var e=0;return this.gridApi.forEachNode((function(t){return e+=1})),e},t.prototype.getFilteredRowCountValue=function(){var e=0;return this.gridApi.forEachNodeAfterFilter((function(t){t.group||(e+=1)})),e},t.prototype.init=function(){},t.prototype.destroy=function(){e.prototype.destroy.call(this)},$w([o.Autowired("gridApi")],t.prototype,"gridApi",void 0),$w([o.PostConstruct],t.prototype,"postConstruct",null),t}(Uw),Qw=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Jw=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},ex=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Qw(t,e),t.prototype.postConstruct=function(){this.setLabel("totalRows","Total Rows"),"clientSide"===this.gridApi.getModel().getType()?(this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-total-row-count"),this.setDisplayed(!0),this.addManagedListener(this.eventService,o.Events.EVENT_MODEL_UPDATED,this.onDataChanged.bind(this)),this.onDataChanged()):console.warn("AG Grid: agTotalRowCountComponent should only be used with the client side row model.")},t.prototype.onDataChanged=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),t=e("thousandSeparator",","),r=e("decimalSeparator",".");this.setValue(o._.formatNumberCommas(this.getRowCountValue(),t,r))},t.prototype.getRowCountValue=function(){var e=0;return this.gridApi.forEachLeafNode((function(t){return e+=1})),e},t.prototype.init=function(){},t.prototype.destroy=function(){e.prototype.destroy.call(this)},Jw([o.Autowired("gridApi")],t.prototype,"gridApi",void 0),Jw([o.PostConstruct],t.prototype,"postConstruct",null),t}(Uw),tx=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),rx=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},nx=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return tx(t,e),t.prototype.postConstruct=function(){if(this.isValidRowModel()){this.setLabel("selectedRows","Selected"),this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-selected-row-count");var e=this.gridApi.getSelectedRows().length,t=this.gridOptionsWrapper.getLocaleTextFunc(),r=t("thousandSeparator",","),n=t("decimalSeparator",".");this.setValue(o._.formatNumberCommas(e,r,n)),this.setDisplayed(e>0);var i=this.onRowSelectionChanged.bind(this);this.addManagedListener(this.eventService,o.Events.EVENT_MODEL_UPDATED,i),this.addManagedListener(this.eventService,o.Events.EVENT_SELECTION_CHANGED,i)}else console.warn("AG Grid: agSelectedRowCountComponent should only be used with the client and server side row model.")},t.prototype.isValidRowModel=function(){var e=this.gridApi.getModel().getType();return"clientSide"===e||"serverSide"===e},t.prototype.onRowSelectionChanged=function(){var e=this.gridApi.getSelectedRows().length,t=this.gridOptionsWrapper.getLocaleTextFunc(),r=t("thousandSeparator",","),n=t("decimalSeparator",".");this.setValue(o._.formatNumberCommas(e,r,n)),this.setDisplayed(e>0)},t.prototype.init=function(){},t.prototype.destroy=function(){e.prototype.destroy.call(this)},rx([o.Autowired("gridApi")],t.prototype,"gridApi",void 0),rx([o.PostConstruct],t.prototype,"postConstruct",null),t}(Uw),ox=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ix=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},ax=function(e){function t(){return e.call(this,t.TEMPLATE)||this}return ox(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.prototype.postConstruct=function(){this.isValidRowModel()?(this.avgAggregationComp.setLabel("avg","Average"),this.countAggregationComp.setLabel("count","Count"),this.minAggregationComp.setLabel("min","Min"),this.maxAggregationComp.setLabel("max","Max"),this.sumAggregationComp.setLabel("sum","Sum"),this.addManagedListener(this.eventService,o.Events.EVENT_RANGE_SELECTION_CHANGED,this.onRangeSelectionChanged.bind(this)),this.addManagedListener(this.eventService,o.Events.EVENT_MODEL_UPDATED,this.onRangeSelectionChanged.bind(this))):console.warn("AG Grid: agAggregationComponent should only be used with the client and server side row model.")},t.prototype.isValidRowModel=function(){var e=this.gridApi.getModel().getType();return"clientSide"===e||"serverSide"===e},t.prototype.init=function(){},t.prototype.setAggregationComponentValue=function(e,t,r){var n=this.getAggregationValueComponent(e);if(o._.exists(n)&&n){var i=this.gridOptionsWrapper.getLocaleTextFunc(),a=i("thousandSeparator",","),s=i("decimalSeparator",".");n.setValue(o._.formatNumberTwoDecimalPlacesAndCommas(t,a,s)),n.setDisplayed(r)}},t.prototype.getAggregationValueComponent=function(e){var t=e+"AggregationComp",r=null,n=o._.exists(this.gridOptions.statusBar)&&this.gridOptions.statusBar?this.gridOptions.statusBar.statusPanels.find((function(e){return"agAggregationComponent"===e.statusPanel})):null;return o._.exists(n)&&n?(!o._.exists(n.statusPanelParams)||o._.exists(n.statusPanelParams)&&o._.exists(n.statusPanelParams.aggFuncs)&&o._.exists(n.statusPanelParams.aggFuncs.find((function(t){return t===e}))))&&(r=this[t]):r=this[t],r},t.prototype.onRangeSelectionChanged=function(){var e=this,t=this.rangeService?this.rangeService.getCellRanges():void 0,r=0,n=0,i=0,a=null,s=null,l={};t&&!o._.missingOrEmpty(t)&&t.forEach((function(t){for(var u=e.rangeService.getRangeStartRow(t),c=e.rangeService.getRangeEndRow(t);;){if(o._.missing(u)||!u||e.rowPositionUtils.before(c,u)||!u||!t.columns)break;t.columns.forEach((function(t){if(null!==u){var c=e.cellPositionUtils.createId({rowPinned:u.rowPinned,column:t,rowIndex:u.rowIndex});if(!l[c]){l[c]=!0;var p=e.rowRenderer.getRowNode(u);if(!o._.missing(p)){var d=e.valueService.getValue(t,p);o._.missing(d)||""===d||(d.value&&(d=d.value),"string"===typeof d&&(d=Number(d)),"number"!==typeof d||isNaN(d)||(r+=d,(null===s||d>s)&&(s=d),(null===a||d<a)&&(a=d),i++),n++)}}}})),u=e.cellNavigationService.getRowBelow(u)}}));var u=n>1,c=i>1;this.setAggregationComponentValue("count",n,u),this.setAggregationComponentValue("sum",r,c),this.setAggregationComponentValue("min",a,c),this.setAggregationComponentValue("max",s,c),this.setAggregationComponentValue("avg",r/i,c)},t.TEMPLATE='<div class="ag-status-panel ag-status-panel-aggregations">\n            <ag-name-value ref="avgAggregationComp"></ag-name-value>\n            <ag-name-value ref="countAggregationComp"></ag-name-value>\n            <ag-name-value ref="minAggregationComp"></ag-name-value>\n            <ag-name-value ref="maxAggregationComp"></ag-name-value>\n            <ag-name-value ref="sumAggregationComp"></ag-name-value>\n        </div>',ix([o.Optional("rangeService")],t.prototype,"rangeService",void 0),ix([o.Autowired("valueService")],t.prototype,"valueService",void 0),ix([o.Autowired("cellNavigationService")],t.prototype,"cellNavigationService",void 0),ix([o.Autowired("rowRenderer")],t.prototype,"rowRenderer",void 0),ix([o.Autowired("gridOptions")],t.prototype,"gridOptions",void 0),ix([o.Autowired("gridApi")],t.prototype,"gridApi",void 0),ix([o.Autowired("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),ix([o.Autowired("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),ix([o.RefSelector("sumAggregationComp")],t.prototype,"sumAggregationComp",void 0),ix([o.RefSelector("countAggregationComp")],t.prototype,"countAggregationComp",void 0),ix([o.RefSelector("minAggregationComp")],t.prototype,"minAggregationComp",void 0),ix([o.RefSelector("maxAggregationComp")],t.prototype,"maxAggregationComp",void 0),ix([o.RefSelector("avgAggregationComp")],t.prototype,"avgAggregationComp",void 0),ix([o.PostConstruct],t.prototype,"postConstruct",null),t}(o.Component),sx={moduleName:o.ModuleNames.StatusBarModule,beans:[Bw],agStackComponents:[{componentName:"AgStatusBar",componentClass:jw},{componentName:"AgNameValue",componentClass:Uw}],userComponents:[{componentName:"agAggregationComponent",componentClass:ax},{componentName:"agSelectedRowCountComponent",componentClass:nx},{componentName:"agTotalRowCountComponent",componentClass:ex},{componentName:"agFilteredRowCountComponent",componentClass:Zw},{componentName:"agTotalAndFilteredRowCountComponent",componentClass:Kw}],dependantModules:[g]},lx=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ux=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},cx=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.firstRow=-1,t.lastRow=-1,t.rowCount=-1,t.rowNodesByIndex={},t}return lx(t,e),t.prototype.ensureRowHeightsValid=function(e,t,r,n){return!1},t.prototype.init=function(){this.rowHeight=this.gridOptionsWrapper.getRowHeightAsNumber(),this.addManagedListener(this.eventService,o.Events.EVENT_VIEWPORT_CHANGED,this.onViewportChanged.bind(this))},t.prototype.start=function(){this.gridOptionsWrapper.getViewportDatasource()&&this.setViewportDatasource(this.gridOptionsWrapper.getViewportDatasource())},t.prototype.isLastRowIndexKnown=function(){return!0},t.prototype.destroyDatasource=function(){this.viewportDatasource&&(this.viewportDatasource.destroy&&this.viewportDatasource.destroy(),this.rowRenderer.datasourceChanged(),this.firstRow=-1,this.lastRow=-1)},t.prototype.calculateFirstRow=function(e){var t=this.gridOptionsWrapper.getViewportRowModelBufferSize(),r=this.gridOptionsWrapper.getViewportRowModelPageSize(),n=e-t;return n<0?0:Math.floor(n/r)*r},t.prototype.calculateLastRow=function(e){if(-1===e)return e;var t=this.gridOptionsWrapper.getViewportRowModelBufferSize(),r=this.gridOptionsWrapper.getViewportRowModelPageSize(),n=e+t,o=Math.ceil(n/r)*r,i=this.rowCount-1;return Math.min(o,i)},t.prototype.onViewportChanged=function(e){var t=this.calculateFirstRow(e.firstRow),r=this.calculateLastRow(e.lastRow);this.firstRow===t&&this.lastRow===r||(this.firstRow=t,this.lastRow=r,this.purgeRowsNotInViewport(),this.viewportDatasource&&this.viewportDatasource.setViewportRange(this.firstRow,this.lastRow))},t.prototype.purgeRowsNotInViewport=function(){var e=this;Object.keys(this.rowNodesByIndex).forEach((function(t){var r=parseInt(t,10);(r<e.firstRow||r>e.lastRow)&&delete e.rowNodesByIndex[r]}))},t.prototype.setViewportDatasource=function(e){this.destroyDatasource(),this.viewportDatasource=e,this.rowCount=0,e.init?e.init({setRowCount:this.setRowCount.bind(this),setRowData:this.setRowData.bind(this),getRow:this.getRow.bind(this)}):console.warn("AG Grid: viewport is missing init method.")},t.prototype.getType=function(){return o.Constants.ROW_MODEL_TYPE_VIEWPORT},t.prototype.getRow=function(e){return this.rowNodesByIndex[e]||(this.rowNodesByIndex[e]=this.createBlankRowNode(e)),this.rowNodesByIndex[e]},t.prototype.getRowNode=function(e){var t;return this.forEachNode((function(r){r.id===e&&(t=r)})),t},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.getRowIndexAtPixel=function(e){return 0!==this.rowHeight?Math.floor(e/this.rowHeight):0},t.prototype.getRowBounds=function(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}},t.prototype.getTopLevelRowCount=function(){return this.getRowCount()},t.prototype.getTopLevelRowDisplayedIndex=function(e){return e},t.prototype.isEmpty=function(){return this.rowCount>0},t.prototype.isRowsToRender=function(){return this.rowCount>0},t.prototype.getNodesInRangeForSelection=function(e,t){var r=o._.missing(e)?0:e.rowIndex,n=t.rowIndex,i=r<this.firstRow||r>this.lastRow,a=n<this.firstRow||n>this.lastRow;if(i||a)return[];for(var s=[],l=r<=n?n:r,u=r<=n?r:n;u<=l;u++)s.push(this.rowNodesByIndex[u]);return s},t.prototype.forEachNode=function(e){var t=this,r=0;Object.keys(this.rowNodesByIndex).forEach((function(n){var o=parseInt(n,10),i=t.rowNodesByIndex[o];e(i,r),r++}))},t.prototype.setRowData=function(e){var t=this;o._.iterateObject(e,(function(e,r){var n=parseInt(e,10);if(n>=t.firstRow&&n<=t.lastRow){var i=t.rowNodesByIndex[n];o._.missing(i)&&(i=t.createBlankRowNode(n),t.rowNodesByIndex[n]=i),i.setDataAndId(r,n.toString())}}))},t.prototype.createBlankRowNode=function(e){var t=new o.RowNode(this.beans);return t.setRowHeight(this.rowHeight),t.setRowTop(this.rowHeight*e),t.setRowIndex(e),t},t.prototype.setRowCount=function(e,t){if(void 0===t&&(t=!1),e!==this.rowCount){this.rowCount=e;var r={type:o.Events.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,newData:!1,newPage:!1,keepRenderedRows:t,animate:!1};this.eventService.dispatchEvent(r)}},t.prototype.isRowPresent=function(e){return!1},ux([o.Autowired("gridApi")],t.prototype,"gridApi",void 0),ux([o.Autowired("columnApi")],t.prototype,"columnApi",void 0),ux([o.Autowired("rowRenderer")],t.prototype,"rowRenderer",void 0),ux([o.Autowired("beans")],t.prototype,"beans",void 0),ux([o.PostConstruct],t.prototype,"init",null),ux([o.PreDestroy],t.prototype,"destroyDatasource",null),t=ux([o.Bean("rowModel")],t)}(o.BeanStub),px={moduleName:o.ModuleNames.ViewportRowModelModule,rowModels:{viewport:cx},dependantModules:[g]},dx=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),hx=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},fx=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},gx=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(fx(arguments[t]));return e},yx=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.navigatorApiFailed=!1,t}return dx(t,e),t.prototype.init=function(){var e=this;this.logger=this.loggerFactory.create("ClipboardService"),this.rowModel.getType()===o.Constants.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel),this.ctrlsService.whenReady((function(t){e.gridCtrl=t.gridCtrl}))},t.prototype.pasteFromClipboard=function(){var e=this;this.logger.log("pasteFromClipboard"),!this.gridOptionsWrapper.isSuppressClipboardApi()&&!this.navigatorApiFailed&&navigator.clipboard&&navigator.clipboard.readText?navigator.clipboard.readText().then(this.processClipboardData.bind(this)).catch((function(t){o._.doOnce((function(){console.warn(t),console.warn("AG Grid: Unable to use the Clipboard API (navigator.clipboard.readText()). The reason why it could not be used has been logged in the previous line. For this reason the grid has defaulted to using a workaround which doesn't perform as well. Either fix why Clipboard API is blocked, OR stop this message from appearing by setting grid property suppressClipboardApi=true (which will default the grid to using the workaround rather than the API")}),"clipboardApiError"),e.navigatorApiFailed=!0,e.pasteFromClipboardLegacy()})):this.pasteFromClipboardLegacy()},t.prototype.pasteFromClipboardLegacy=function(){var e=this;this.executeOnTempElement((function(e){return e.focus({preventScroll:!0})}),(function(t){var r=t.value;e.processClipboardData(r)}))},t.prototype.processClipboardData=function(e){var t=this;if(null!=e){var r=o._.stringToArray(e,this.gridOptionsWrapper.getClipboardDelimiter()),n=this.gridOptionsWrapper.getProcessDataFromClipboardFunc();if(n&&(r=n({data:r})),null!=r){this.gridOptionsWrapper.isSuppressLastEmptyLineOnPaste()&&this.removeLastLineIfBlank(r);this.doPasteOperation((function(e,n,o,i){t.rangeService&&t.rangeService.isMoreThanOneCell()&&!t.hasOnlyOneValueToPaste(r)?t.pasteIntoActiveRange(r,e,n,i):t.pasteStartingFromFocusedCell(r,e,n,o,i)}))}}},t.prototype.doPasteOperation=function(e){var t,r=this.gridOptionsWrapper.getApi(),n=this.gridOptionsWrapper.getColumnApi(),i="clipboard";if(this.eventService.dispatchEvent({type:o.Events.EVENT_PASTE_START,api:r,columnApi:n,source:i}),this.clientSideRowModel){var a=this.gridOptionsWrapper.isAggregateOnlyChangedColumns();t=new o.ChangedPath(a,this.clientSideRowModel.getRootNode())}var s={},l=[],u=this.focusService.getFocusedCell();e(s,l,u,t),t&&this.clientSideRowModel.doAggregate(t),this.rowRenderer.refreshCells(),this.dispatchFlashCells(s),this.fireRowChanged(l),u&&this.focusService.setFocusedCell(u.rowIndex,u.column,u.rowPinned,!0),this.eventService.dispatchEvent({type:o.Events.EVENT_PASTE_END,api:r,columnApi:n,source:i})},t.prototype.pasteIntoActiveRange=function(e,t,r,n){var i=this,a=this.getRangeSize()%e.length!=0,s=0,l=0;this.iterateActiveRanges(!1,(function(u,c,p,d){if(d-s>=e.length){if(a)return;s+=l,l=0}var h=e[d-s];r.push(c);var f=i.gridOptionsWrapper.getProcessCellFromClipboardFunc();p.forEach((function(e,r){if(e.isCellEditable(c)&&!e.isSuppressPaste(c)){r>=h.length&&(r%=h.length);var a=i.processCell(c,e,h[r],o.Constants.EXPORT_TYPE_DRAG_COPY,f);c.setDataValue(e,a,o.Constants.SOURCE_PASTE),n&&n.addParentNode(c.parent,[e]);var s=i.cellPositionUtils.createIdFromValues(u.rowIndex,e,u.rowPinned);t[s]=!0}})),l++}))},t.prototype.pasteStartingFromFocusedCell=function(e,t,r,n,i){if(n){var a={rowIndex:n.rowIndex,rowPinned:n.rowPinned},s=this.columnModel.getDisplayedColumnsStartingAt(n.column);this.isPasteSingleValueIntoRange(e)?this.pasteSingleValueIntoRange(e,r,t,i):this.pasteMultipleValues(e,a,r,s,t,o.Constants.EXPORT_TYPE_CLIPBOARD,i)}},t.prototype.isPasteSingleValueIntoRange=function(e){return this.hasOnlyOneValueToPaste(e)&&null!=this.rangeService&&!this.rangeService.isEmpty()},t.prototype.pasteSingleValueIntoRange=function(e,t,r,n){var i=this,a=e[0][0];this.iterateActiveRanges(!1,(function(e,s,l){t.push(s),l.forEach((function(e){return i.updateCellValue(s,e,a,r,o.Constants.EXPORT_TYPE_CLIPBOARD,n)}))}))},t.prototype.hasOnlyOneValueToPaste=function(e){return 1===e.length&&1===e[0].length},t.prototype.copyRangeDown=function(){var e=this;if(this.rangeService&&!this.rangeService.isEmpty()){var t=[];this.doPasteOperation((function(r,n,i,a){var s=e.gridOptionsWrapper.getProcessCellForClipboardFunc(),l=e.gridOptionsWrapper.getProcessCellFromClipboardFunc();e.iterateActiveRanges(!0,(function(i,u,c){t.length?(n.push(u),c.forEach((function(n,s){if(n.isCellEditable(u)&&!n.isSuppressPaste(u)){var c=e.processCell(u,n,t[s],o.Constants.EXPORT_TYPE_DRAG_COPY,l);u.setDataValue(n,c,o.Constants.SOURCE_PASTE),a&&a.addParentNode(u.parent,[n]);var p=e.cellPositionUtils.createIdFromValues(i.rowIndex,n,i.rowPinned);r[p]=!0}}))):c.forEach((function(r){var n=e.processCell(u,r,e.valueService.getValue(r,u),o.Constants.EXPORT_TYPE_DRAG_COPY,s);t.push(n)}))}))}))}},t.prototype.removeLastLineIfBlank=function(e){var t=o._.last(e);t&&1===t.length&&""===t[0]&&o._.removeFromArray(e,t)},t.prototype.fireRowChanged=function(e){var t=this;this.gridOptionsWrapper.isFullRowEdit()&&e.forEach((function(e){var r={type:o.Events.EVENT_ROW_VALUE_CHANGED,node:e,data:e.data,rowIndex:e.rowIndex,rowPinned:e.rowPinned,context:t.gridOptionsWrapper.getContext(),api:t.gridOptionsWrapper.getApi(),columnApi:t.gridOptionsWrapper.getColumnApi()};t.eventService.dispatchEvent(r)}))},t.prototype.pasteMultipleValues=function(e,t,r,n,o,i,a){var s=this,l=t,u=null!=this.clientSideRowModel&&!this.gridOptionsWrapper.isTreeData();e.forEach((function(e){var t=function(){for(;;){if(!l)return null;var e=s.rowPositionUtils.getRowNode(l);if(l=s.cellNavigationService.getRowBelow({rowPinned:l.rowPinned,rowIndex:l.rowIndex}),null==e)return null;if(!(e.detail||e.footer||u&&e.group))return e}}();t&&(e.forEach((function(e,r){return s.updateCellValue(t,n[r],e,o,i,a)})),r.push(t))}))},t.prototype.updateCellValue=function(e,t,r,n,i,a){if(e&&t&&t.isCellEditable(e)&&!t.isSuppressPaste(e)){var s=this.processCell(e,t,r,i,this.gridOptionsWrapper.getProcessCellFromClipboardFunc());e.setDataValue(t,s,o.Constants.SOURCE_PASTE),n[this.cellPositionUtils.createIdFromValues(e.rowIndex,t,e.rowPinned)]=!0,a&&a.addParentNode(e.parent,[t])}},t.prototype.copyToClipboard=function(e){void 0===e&&(e={});var t=e.includeHeaders,r=e.includeGroupHeaders;this.logger.log("copyToClipboard: includeHeaders = "+t),null==t&&(t=this.gridOptionsWrapper.isCopyHeadersToClipboard()),null==r&&(r=this.gridOptionsWrapper.isCopyGroupHeadersToClipboard());var n={includeHeaders:t,includeGroupHeaders:r},o=!this.gridOptionsWrapper.isSuppressCopyRowsToClipboard();!this.rangeService||this.rangeService.isEmpty()||this.shouldSkipSingleCellRange()?o&&!this.selectionService.isEmpty()?this.copySelectedRowsToClipboard(n):this.focusService.isAnyCellFocused()&&this.copyFocusedCellToClipboard(n):this.copySelectedRangeToClipboard(n)},t.prototype.shouldSkipSingleCellRange=function(){return this.gridOptionsWrapper.isSuppressCopySingleCellRanges()&&!this.rangeService.isMoreThanOneCell()},t.prototype.iterateActiveRanges=function(e,t,r){var n=this;if(this.rangeService&&!this.rangeService.isEmpty()){var o=this.rangeService.getCellRanges();e?this.iterateActiveRange(o[0],t,r,!0):o.forEach((function(e,i){return n.iterateActiveRange(e,t,r,i===o.length-1)}))}},t.prototype.iterateActiveRange=function(e,t,r,n){if(this.rangeService){var o=this.rangeService.getRangeStartRow(e),i=this.rangeService.getRangeEndRow(e);r&&e.columns&&r(e.columns);for(var a=0,s=!1;!s&&null!=o;){var l=this.rowPositionUtils.getRowNode(o);s=this.rowPositionUtils.sameRow(o,i),t(o,l,e.columns,a++,s&&n),o=this.cellNavigationService.getRowBelow(o)}}},t.prototype.copySelectedRangeToClipboard=function(e){if(void 0===e&&(e={}),this.rangeService&&!this.rangeService.isEmpty()){var t=this.rangeService.areAllRangesAbleToMerge()?this.buildDataFromMergedRanges(e):this.buildDataFromRanges(e),r=t.data,n=t.cellsToFlash;this.copyDataToClipboard(r),this.dispatchFlashCells(n)}},t.prototype.buildDataFromMergedRanges=function(e){var t=this,r=new Set,n=this.rangeService.getCellRanges(),o=[],i={};n.forEach((function(e){e.columns.forEach((function(e){return r.add(e)}));var n=t.getRangeRowPositionsAndCellsToFlash(e),a=n.rowPositions,s=n.cellsToFlash;o.push.apply(o,gx(a)),Object.assign(i,s)}));var a=this.columnModel.getAllDisplayedColumns(),s=Array.from(r);return s.sort((function(e,t){return a.indexOf(e)-a.indexOf(t)})),{data:this.buildExportParams({columns:s,rowPositions:o,includeHeaders:e.includeHeaders,includeGroupHeaders:e.includeGroupHeaders}),cellsToFlash:i}},t.prototype.buildDataFromRanges=function(e){var t=this,r=this.rangeService.getCellRanges(),n=[],o={};return r.forEach((function(r){var i=t.getRangeRowPositionsAndCellsToFlash(r),a=i.rowPositions,s=i.cellsToFlash;Object.assign(o,s),n.push(t.buildExportParams({columns:r.columns,rowPositions:a,includeHeaders:e.includeHeaders,includeGroupHeaders:e.includeGroupHeaders}))})),{data:n.join("\n"),cellsToFlash:o}},t.prototype.getRangeRowPositionsAndCellsToFlash=function(e){for(var t=this,r=[],n={},o=this.rangeService.getRangeStartRow(e),i=this.rangeService.getRangeEndRow(e),a=o;a&&(r.push(a),e.columns.forEach((function(e){var r=t.cellPositionUtils.createIdFromValues(a.rowIndex,e,a.rowPinned);n[r]=!0})),!this.rowPositionUtils.sameRow(a,i));)a=this.cellNavigationService.getRowBelow(a);return{rowPositions:r,cellsToFlash:n}},t.prototype.copyFocusedCellToClipboard=function(e){var t;void 0===e&&(e={});var r=this.focusService.getFocusedCell();if(null!=r){var n=this.cellPositionUtils.createId(r),o={rowPinned:r.rowPinned,rowIndex:r.rowIndex},i=r.column,a=this.buildExportParams({columns:[i],rowPositions:[o],includeHeaders:e.includeHeaders,includeGroupHeaders:e.includeGroupHeaders});this.copyDataToClipboard(a),this.dispatchFlashCells(((t={})[n]=!0,t))}},t.prototype.copySelectedRowsToClipboard=function(e){void 0===e&&(e={});var t=e.columnKeys,r=e.includeHeaders,n=e.includeGroupHeaders,o=this.buildExportParams({columns:t,includeHeaders:r,includeGroupHeaders:n});this.copyDataToClipboard(o)},t.prototype.buildExportParams=function(e){var t=e.columns,r=e.rowPositions,n=e.includeHeaders,o=void 0!==n&&n,i=e.includeGroupHeaders,a={columnKeys:t,rowNodes:r,skipColumnHeaders:!o,skipColumnGroupHeaders:!(void 0!==i&&i),suppressQuotes:!0,columnSeparator:this.gridOptionsWrapper.getClipboardDelimiter(),onlySelected:!r,processCellCallback:this.gridOptionsWrapper.getProcessCellForClipboardFunc(),processRowGroupCallback:function(e){return e.node.key},processHeaderCallback:this.gridOptionsWrapper.getProcessHeaderForClipboardFunc(),processGroupHeaderCallback:this.gridOptionsWrapper.getProcessGroupHeaderForClipboardFunc()};return this.csvCreator.getDataAsCsv(a)},t.prototype.dispatchFlashCells=function(e){var t=this;window.setTimeout((function(){var r={type:o.Events.EVENT_FLASH_CELLS,cells:e,api:t.gridApi,columnApi:t.columnApi};t.eventService.dispatchEvent(r)}),0)},t.prototype.processCell=function(e,t,r,n,o){return o?o({column:t,node:e,value:r,type:n}):r},t.prototype.copyDataToClipboard=function(e){var t=this,r=this.gridOptionsWrapper.getSendToClipboardFunc();r?r({data:e}):!this.gridOptionsWrapper.isSuppressClipboardApi()&&navigator.clipboard?navigator.clipboard.writeText(e).catch((function(r){o._.doOnce((function(){console.warn(r),console.warn("AG Grid: Unable to use the Clipboard API (navigator.clipboard.writeText()). The reason why it could not be used has been logged in the previous line. For this reason the grid has defaulted to using a workaround which doesn't perform as well. Either fix why Clipboard API is blocked, OR stop this message from appearing by setting grid property suppressClipboardApi=true (which will default the grid to using the workaround rather than the API.")}),"clipboardApiError"),t.copyDataToClipboardLegacy(e)})):this.copyDataToClipboardLegacy(e)},t.prototype.copyDataToClipboardLegacy=function(e){var t=this;this.executeOnTempElement((function(r){var n=t.gridOptionsWrapper.getDocument(),o=n.activeElement;r.value=e||" ",r.select(),r.focus({preventScroll:!0}),n.execCommand("copy")||console.warn("AG Grid: Browser did not allow document.execCommand('copy'). Ensure api.copySelectedRowsToClipboard() is invoked via a user event, i.e. button click, otherwise the browser will prevent it for security reasons."),null!=o&&null!=o.focus&&o.focus({preventScroll:!0})}))},t.prototype.executeOnTempElement=function(e,t){var r=this.gridOptionsWrapper.getDocument(),n=r.createElement("textarea");n.style.width="1px",n.style.height="1px",n.style.top=r.documentElement.scrollTop+"px",n.style.left=r.documentElement.scrollLeft+"px",n.style.position="absolute",n.style.opacity="0";var o=this.gridCtrl.getGui();o.appendChild(n);try{e(n)}catch(i){console.warn("AG Grid: Browser does not support document.execCommand('copy') for clipboard operations")}t?window.setTimeout((function(){t(n),o.removeChild(n)}),100):o.removeChild(n)},t.prototype.getRangeSize=function(){var e=this.rangeService.getCellRanges(),t=0,r=0;return e.length>0&&(t=this.rangeService.getRangeStartRow(e[0]).rowIndex,r=this.rangeService.getRangeEndRow(e[0]).rowIndex),t-r+1},hx([o.Autowired("csvCreator")],t.prototype,"csvCreator",void 0),hx([o.Autowired("loggerFactory")],t.prototype,"loggerFactory",void 0),hx([o.Autowired("selectionService")],t.prototype,"selectionService",void 0),hx([o.Optional("rangeService")],t.prototype,"rangeService",void 0),hx([o.Autowired("rowModel")],t.prototype,"rowModel",void 0),hx([o.Autowired("ctrlsService")],t.prototype,"ctrlsService",void 0),hx([o.Autowired("valueService")],t.prototype,"valueService",void 0),hx([o.Autowired("focusService")],t.prototype,"focusService",void 0),hx([o.Autowired("rowRenderer")],t.prototype,"rowRenderer",void 0),hx([o.Autowired("columnModel")],t.prototype,"columnModel",void 0),hx([o.Autowired("cellNavigationService")],t.prototype,"cellNavigationService",void 0),hx([o.Autowired("columnApi")],t.prototype,"columnApi",void 0),hx([o.Autowired("gridApi")],t.prototype,"gridApi",void 0),hx([o.Autowired("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),hx([o.Autowired("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),hx([o.PostConstruct],t.prototype,"init",null),t=hx([o.Bean("clipboardService")],t)}(o.BeanStub),vx={moduleName:o.ModuleNames.ClipboardModule,beans:[yx],dependantModules:[g,Zt]};o.ModuleRegistry.register(gt,!1),o.ModuleRegistry.register(ro,!1),o.ModuleRegistry.register(bo,!1),o.ModuleRegistry.register(Ws,!1),o.ModuleRegistry.register(Zb,!1),o.ModuleRegistry.register(iC,!1),o.ModuleRegistry.register(mC,!1),o.ModuleRegistry.register(PC,!1),o.ModuleRegistry.register($b,!1),o.ModuleRegistry.register(NC,!1),o.ModuleRegistry.register(Ge,!1),o.ModuleRegistry.register(ww,!1),o.ModuleRegistry.register(Lw,!1),o.ModuleRegistry.register(dt,!1),o.ModuleRegistry.register(sx,!1),o.ModuleRegistry.register(px,!1),o.ModuleRegistry.register(vx,!1)},7945:function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o.apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var a=i(r(2791)),s=r(4282),l=r(2553),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.setGridApi=function(e,r){t.api=e,t.columnApi=r},t}return n(t,e),t.prototype.render=function(){var e=this.props.suppressReactUi?s.AgGridReactLegacy:l.AgGridReactUi;return a.default.createElement(e,o({},this.props,{setGridApi:this.setGridApi}))},t}(a.Component);t.AgGridReact=u},4282:function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o.apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var s=r(1167),l=i(r(2007)),u=a(r(2791)),c=r(4619),p=r(6745),d=r(4584),h=r(8665),f=r(3365),g=r(9575),y=function(e){function t(t){var r=e.call(this,t)||this;return r.props=t,r.changeDetectionService=new d.ChangeDetectionService,r.api=null,r.destroyed=!1,r.SYNCHRONOUS_CHANGE_PROPERTIES=["context"],r.portalManager=new f.PortalManager(r,t.componentWrappingElement,t.maxComponentCreationTimeMs),r}return n(t,e),t.prototype.render=function(){var e=this;return u.default.createElement("div",{style:this.createStyleForDiv(),className:this.props.className,ref:function(t){e.eGridDiv=t}},this.portalManager.getPortals())},t.prototype.createStyleForDiv=function(){return o({height:"100%"},this.props.containerStyle||{})},t.prototype.componentDidMount=function(){var e=this.props.modules||[],t={providedBeanInstances:{agGridReact:this,frameworkComponentWrapper:new m(this,this.portalManager)},modules:e,frameworkOverrides:new g.ReactFrameworkOverrides(!1)},r=this.props.gridOptions||{},n=this.props.children;p.AgGridColumn.hasChildColumns(n)&&(r.columnDefs=p.AgGridColumn.mapChildColumnDefs(n)),this.gridOptions=s.ComponentUtil.copyAttributesToGridOptions(r,this.props),new s.Grid(this.eGridDiv,this.gridOptions,t),this.api=this.gridOptions.api,this.columnApi=this.gridOptions.columnApi,this.props.setGridApi(this.api,this.columnApi)},t.prototype.getStrategyTypeForProp=function(e){if("rowData"===e){if(this.props.rowDataChangeDetectionStrategy)return this.props.rowDataChangeDetectionStrategy;if(this.isImmutableDataActive())return d.ChangeDetectionStrategyType.IdentityCheck}return d.ChangeDetectionStrategyType.DeepValueCheck},t.prototype.isImmutableDataActive=function(){return this.props.deltaRowDataMode||this.props.immutableData||null!=this.props.getRowId||this.props.gridOptions&&(this.props.gridOptions.deltaRowDataMode||this.props.gridOptions.immutableData||null!=this.props.gridOptions.getRowId)},t.prototype.shouldComponentUpdate=function(e){return this.processPropsChanges(this.props,e),!1},t.prototype.componentDidUpdate=function(e){this.processPropsChanges(e,this.props)},t.prototype.processPropsChanges=function(e,t){var r={};this.extractGridPropertyChanges(e,t,r),this.extractDeclarativeColDefChanges(t,r),this.processSynchronousChanges(r),this.processAsynchronousChanges(r)},t.prototype.extractDeclarativeColDefChanges=function(e,t){if(!(this.props.gridOptions&&this.props.gridOptions.columnDefs||this.props.columnDefs)){var r=!!e.debug,n="columnDefs",o=this.gridOptions.columnDefs;if(p.AgGridColumn.hasChildColumns(e.children)){var i=this.changeDetectionService.getStrategy(this.getStrategyTypeForProp(n)),a=p.AgGridColumn.mapChildColumnDefs(e.children);i.areEqual(o,a)||(r&&console.log("agGridReact: colDefs definitions changed"),t[n]={previousValue:o,currentValue:a})}else o&&o.length>0&&(t[n]={previousValue:o,currentValue:[]})}},t.prototype.extractGridPropertyChanges=function(e,t,r){var n=this,o=!!t.debug;Object.keys(t).forEach((function(i){s._.includes(s.ComponentUtil.ALL_PROPERTIES,i)&&(n.changeDetectionService.getStrategy(n.getStrategyTypeForProp(i)).areEqual(e[i],t[i])||(o&&console.log("agGridReact: ["+i+"] property changed"),r[i]={previousValue:e[i],currentValue:t[i]}))})),s.ComponentUtil.getEventCallbacks().forEach((function(n){e[n]!==t[n]&&(o&&console.log("agGridReact: ["+n+"] event callback changed"),r[n]={previousValue:e[n],currentValue:t[n]})}))},t.prototype.componentWillUnmount=function(){this.api&&(this.api.destroy(),this.api=null),this.destroyed=!0,this.portalManager.destroy()},t.prototype.isDisableStaticMarkup=function(){return!0===this.props.disableStaticMarkup},t.prototype.isLegacyComponentRendering=function(){return!0===this.props.legacyComponentRendering},t.prototype.processSynchronousChanges=function(e){var t=o({},e);if(Object.keys(t).length>0){var r={};this.SYNCHRONOUS_CHANGE_PROPERTIES.forEach((function(e){t[e]&&(r[e]=t[e],delete t[e])})),Object.keys(r).length>0&&this.api&&s.ComponentUtil.processOnChange(r,this.gridOptions,this.api,this.columnApi)}return t},t.prototype.processAsynchronousChanges=function(e){var t=this;Object.keys(e).length>0&&window.setTimeout((function(){t.api&&s.ComponentUtil.processOnChange(e,t.gridOptions,t.api,t.columnApi)}))},t.MAX_COMPONENT_CREATION_TIME_IN_MS=1e3,t.defaultProps={legacyComponentRendering:!1,disableStaticMarkup:!1,maxComponentCreationTimeMs:t.MAX_COMPONENT_CREATION_TIME_IN_MS},t}(u.Component);function v(e,t){e.forEach((function(e){y[e]=t}))}t.AgGridReactLegacy=y,y.propTypes={gridOptions:l.default.object},v(s.ComponentUtil.getEventCallbacks(),l.default.func),v(s.ComponentUtil.BOOLEAN_PROPERTIES,l.default.bool),v(s.ComponentUtil.STRING_PROPERTIES,l.default.string),v(s.ComponentUtil.OBJECT_PROPERTIES,l.default.object),v(s.ComponentUtil.ARRAY_PROPERTIES,l.default.array),v(s.ComponentUtil.NUMBER_PROPERTIES,l.default.number),v(s.ComponentUtil.FUNCTION_PROPERTIES,l.default.func);var m=function(e){function t(t,r){var n=e.call(this)||this;return n.agGridReact=t,n.portalManager=r,n}return n(t,e),t.prototype.createWrapper=function(e,t){return this.agGridReact.isLegacyComponentRendering()?new c.LegacyReactComponent(e,this.agGridReact,this.portalManager,t):new h.NewReactComponent(e,this.portalManager,t)},t}(s.BaseComponentWrapper)},4619:function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(2791),a=r(4164),s=r(1167),l=r(294),u=r(8340),c=o(r(3507)),p=function(e){function t(t,r,n,o){var i=e.call(this,t,n,o)||this;return i.staticMarkup=null,i.staticRenderTime=0,i.parentComponent=r,i}return n(t,e),t.prototype.init=function(e){var t=this;return this.eParentElement=this.createParentElement(e),this.renderStaticMarkup(e),new s.AgPromise((function(r){return t.createReactComponent(e,r)}))},t.prototype.createReactComponent=function(e,t){var r=this;this.isStatelessComponent()||(e.ref=function(e){r.componentInstance=e,r.addParentContainerStyleAndClasses(),r.removeStaticMarkup()});var n=i.createElement(this.reactComponent,e),o=a.createPortal(n,this.eParentElement,c.default());this.portal=o,this.portalManager.mountReactPortal(o,this,(function(e){t(e),r.isStatelessComponent()&&(r.isSlowRenderer()&&r.removeStaticMarkup(),setTimeout((function(){r.removeStaticMarkup()})))}))},t.prototype.fallbackMethodAvailable=function(e){return!1},t.prototype.fallbackMethod=function(e,t){},t.prototype.isSlowRenderer=function(){return this.staticRenderTime>=t.SLOW_RENDERING_THRESHOLD},t.prototype.isNullValue=function(){return""===this.staticMarkup},t.prototype.renderStaticMarkup=function(e){if(!this.parentComponent.isDisableStaticMarkup()&&this.componentType.cellRenderer){var t=console.error,r=i.createElement(this.reactComponent,e);try{console.error=function(){};var n=Date.now(),o=u.renderToStaticMarkup(r);this.staticRenderTime=Date.now()-n,console.error=t,""===o?this.staticMarkup=o:o&&(this.staticMarkup=document.createElement("span"),this.staticMarkup.innerHTML=o,this.eParentElement.appendChild(this.staticMarkup))}catch(a){}finally{console.error=t}}},t.prototype.removeStaticMarkup=function(){!this.parentComponent.isDisableStaticMarkup()&&this.componentType.cellRenderer&&this.staticMarkup&&(this.staticMarkup.remove?(this.staticMarkup.remove(),this.staticMarkup=null):this.eParentElement.removeChild&&(this.eParentElement.removeChild(this.staticMarkup),this.staticMarkup=null))},t.prototype.rendered=function(){return this.isNullValue()||!!this.staticMarkup||this.isStatelessComponent()&&this.statelessComponentRendered()||!(this.isStatelessComponent()||!this.getFrameworkComponentInstance())},t.SLOW_RENDERING_THRESHOLD=3,t}(l.ReactComponent);t.LegacyReactComponent=p},2553:function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o.apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=r(1167),l=i(r(2791)),u=r(6745),c=r(4584),p=r(8665),d=r(3365),h=a(r(3970)),f=r(9575);var g=function(e){function t(t){var r=e.call(this,t)||this;return r.props=t,r.destroyFuncs=[],r.changeDetectionService=new c.ChangeDetectionService,r.eGui=l.default.createRef(),r.whenReadyFuncs=[],r.ready=!1,r.renderedAfterMount=!1,r.mounted=!1,r.state={context:void 0},r.portalManager=new d.PortalManager(r,t.componentWrappingElement,t.maxComponentCreationTimeMs),r.destroyFuncs.push((function(){return r.portalManager.destroy()})),r}return n(t,e),t.prototype.render=function(){return this.state.context,this.state.context&&(this.renderedAfterMount=!0),l.default.createElement("div",{style:this.createStyleForDiv(),className:this.props.className,ref:this.eGui},this.state.context&&l.default.createElement(h.default,{context:this.state.context}),this.portalManager.getPortals())},t.prototype.createStyleForDiv=function(){return o({height:"100%"},this.props.containerStyle||{})},t.prototype.componentDidMount=function(){var e=this;if(!this.mounted){this.mounted=!0;var t=this.props.modules||[],r={providedBeanInstances:{frameworkComponentWrapper:new y(this.portalManager)},modules:t,frameworkOverrides:new f.ReactFrameworkOverrides(!0)};this.gridOptions=this.props.gridOptions||{};var n=this.props.children;u.AgGridColumn.hasChildColumns(n)&&(this.gridOptions.columnDefs=u.AgGridColumn.mapChildColumnDefs(n)),this.gridOptions=s.ComponentUtil.copyAttributesToGridOptions(this.gridOptions,this.props);(new s.GridCoreCreator).create(this.eGui.current,this.gridOptions,(function(t){e.setState({context:t}),t.getBean(s.CtrlsService.NAME).whenReady((function(){e.api=e.gridOptions.api,e.columnApi=e.gridOptions.columnApi,e.props.setGridApi(e.api,e.columnApi),e.destroyFuncs.push((function(){return e.api.destroy()}))}))}),(function(t){t.getBean(s.CtrlsService.NAME).whenReady((function(){e.whenReadyFuncs.forEach((function(e){return e()})),e.whenReadyFuncs.length=0,e.ready=!0}))}),r)}},t.prototype.componentWillUnmount=function(){this.renderedAfterMount&&(this.destroyFuncs.forEach((function(e){return e()})),this.destroyFuncs.length=0)},t.prototype.componentDidUpdate=function(e){this.processPropsChanges(e,this.props)},t.prototype.processPropsChanges=function(e,t){var r={};this.extractGridPropertyChanges(e,t,r),this.extractDeclarativeColDefChanges(t,r),this.processChanges(r)},t.prototype.extractDeclarativeColDefChanges=function(e,t){if(!(this.props.gridOptions&&this.props.gridOptions.columnDefs||this.props.columnDefs)){var r=!!e.debug,n="columnDefs",o=this.gridOptions.columnDefs;if(u.AgGridColumn.hasChildColumns(e.children)){var i=this.changeDetectionService.getStrategy(this.getStrategyTypeForProp(n)),a=u.AgGridColumn.mapChildColumnDefs(e.children);i.areEqual(o,a)||(r&&console.log("agGridReact: colDefs definitions changed"),t[n]={previousValue:o,currentValue:a})}else o&&o.length>0&&(t[n]={previousValue:o,currentValue:[]})}},t.prototype.extractGridPropertyChanges=function(e,t,r){var n=this,o=!!t.debug;Object.keys(t).forEach((function(i){s._.includes(s.ComponentUtil.ALL_PROPERTIES,i)&&(n.changeDetectionService.getStrategy(n.getStrategyTypeForProp(i)).areEqual(e[i],t[i])||(o&&console.log("agGridReact: ["+i+"] property changed"),r[i]={previousValue:e[i],currentValue:t[i]}))})),s.ComponentUtil.getEventCallbacks().forEach((function(n){e[n]!==t[n]&&(o&&console.log("agGridReact: ["+n+"] event callback changed"),r[n]={previousValue:e[n],currentValue:t[n]})}))},t.prototype.processChanges=function(e){var t=this;this.processWhenReady((function(){return s.ComponentUtil.processOnChange(e,t.gridOptions,t.api,t.columnApi)}))},t.prototype.processWhenReady=function(e){this.ready?e():this.whenReadyFuncs.push(e)},t.prototype.getStrategyTypeForProp=function(e){if("rowData"===e){if(this.props.rowDataChangeDetectionStrategy)return this.props.rowDataChangeDetectionStrategy;if(this.isImmutableDataActive())return c.ChangeDetectionStrategyType.IdentityCheck}return c.ChangeDetectionStrategyType.DeepValueCheck},t.prototype.isImmutableDataActive=function(){return this.props.deltaRowDataMode||this.props.immutableData||null!=this.props.getRowId||this.props.gridOptions&&(this.props.gridOptions.deltaRowDataMode||this.props.gridOptions.immutableData||null!=this.props.gridOptions.getRowId)},t}(l.Component);t.AgGridReactUi=g;var y=function(e){function t(t){var r=e.call(this)||this;return r.parent=t,r}return n(t,e),t.prototype.createWrapper=function(e,t){return new p.NewReactComponent(e,this.parent,t)},t}(s.BaseComponentWrapper)},2724:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(2791));t.BeansContext=o.default.createContext({})},7627:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=o(r(2791)),a=r(6817),s=r(2724),l=r(2553),u=r(1622);t.default=i.forwardRef((function(e,t){var r=i.useContext(s.BeansContext),o=r.ctrlsFactory,c=r.context,p=r.gridOptionsWrapper,d=r.resizeObserverService,h=r.clientSideRowModel,f=r.serverSideRowModel,g=i.useState(new a.CssClasses),y=g[0],v=g[1],m=i.useState(new a.CssClasses),b=m[0],C=m[1],w=i.useState(),x=w[0],S=w[1],E=i.useState(),O=E[0],_=E[1],P=i.useRef(),R=i.useRef(null),A=i.useMemo((function(){return y.toString()+" ag-details-row"}),[y]),T=i.useMemo((function(){return b.toString()+" ag-details-grid"}),[b]);t&&i.useImperativeHandle(t,(function(){return{refresh:function(){return P.current.refresh()}}})),u.useEffectOnce((function(){e.template&&"string"===typeof e.template&&console.warn("AG Grid: detailCellRendererParams.template is not supported by React - this only works with frameworks that work against String templates. To change the template, please provide your own React Detail Cell Renderer.")})),u.useEffectOnce((function(){var t={addOrRemoveCssClass:function(e,t){return v((function(r){return r.setClass(e,t)}))},addOrRemoveDetailGridCssClass:function(e,t){return C((function(r){return r.setClass(e,t)}))},setDetailGrid:function(e){return S(e)},setRowData:function(e){return _(e)},getGui:function(){return R.current}},r=o.getInstance("detailCellRenderer");if(r){var n;if(c.createBean(r),r.init(t,e),P.current=r,p.isDetailRowAutoHeight()){var i=function(){if(null!=R.current){var t=R.current.clientHeight;if(null!=t&&t>0){setTimeout((function(){e.node.setRowHeight(t),h?h.onRowHeightChanged():f&&f.onRowHeightChanged()}),0)}}};n=d.observeResize(R.current,i),i()}return function(){c.destroyBean(r),n&&n()}}}));var D=i.useCallback((function(e,t){P.current.registerDetailWithMaster(e,t)}),[]);return i.default.createElement("div",{className:A,ref:R},x&&i.default.createElement(l.AgGridReactUi,n({className:T},x,{rowData:O,setGridApi:D})))}))},5728:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=r(1167),a=o(r(2791)),s=r(2724),l=r(8285),u=r(1622),c=r(6817),p=a.forwardRef((function(e,t){var r=a.useContext(s.BeansContext).context,o=a.useRef(null),d=a.useRef(null),h=a.useRef(null),f=a.useRef(null),g=a.useRef(null),y=a.useState(),v=y[0],m=y[1],b=a.useState(),C=b[0],w=b[1],x=a.useState(),S=x[0],E=x[1],O=a.useState(new c.CssClasses),_=O[0],P=O[1],R=a.useState(new c.CssClasses("ag-hidden")),A=R[0],T=R[1],D=a.useState(new c.CssClasses("ag-hidden")),M=D[0],k=D[1],N=a.useState(new c.CssClasses("ag-invisible")),I=N[0],L=N[1];a.useImperativeHandle(t,(function(){return{refresh:function(){return!1}}})),a.useEffect((function(){return l.showJsComp(v,r,d.current)}),[v]),u.useEffectOnce((function(){var t={setInnerRenderer:function(e,t){m(e),E(t)},setChildCount:function(e){return w(e)},addOrRemoveCssClass:function(e,t){return P((function(r){return r.setClass(e,t)}))},setContractedDisplayed:function(e){return k((function(t){return t.setClass("ag-hidden",!e)}))},setExpandedDisplayed:function(e){return T((function(t){return t.setClass("ag-hidden",!e)}))},setCheckboxVisible:function(e){return L((function(t){return t.setClass("ag-invisible",!e)}))}},n=r.createBean(new i.GroupCellRendererCtrl);return n.init(t,o.current,h.current,f.current,g.current,p,e),function(){r.destroyBean(n)}}));var F=a.useMemo((function(){return"ag-cell-wrapper "+_.toString()}),[_]),G=a.useMemo((function(){return"ag-group-expanded "+A.toString()}),[A]),B=a.useMemo((function(){return"ag-group-contracted "+M.toString()}),[M]),W=a.useMemo((function(){return"ag-group-checkbox "+I.toString()}),[I]),H=v&&v.componentFromFramework,j=H?v.componentClass:void 0,V=null==v&&null!=S;return a.default.createElement("span",n({className:F,ref:o},e.colDef?{}:{role:"gridcell"}),a.default.createElement("span",{className:G,ref:f}),a.default.createElement("span",{className:B,ref:g}),a.default.createElement("span",{className:W,ref:h}),a.default.createElement("span",{className:"ag-group-value",ref:d},V&&a.default.createElement(a.default.Fragment,null,S),H&&a.default.createElement(j,n({},v.params))),a.default.createElement("span",{className:"ag-group-child-count"},C))}));t.default=p},4148:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(1167),s=o(r(2791)),l=r(6817),u=i(r(7664)),c=i(r(3930)),p=r(2724),d=r(8285),h=r(1622);!function(e){e[e.ShowValue=0]="ShowValue",e[e.EditValue=1]="EditValue"}(t.CellCompState||(t.CellCompState={}));t.default=s.memo((function(e){var t=s.useContext(p.BeansContext).context,r=e.cellCtrl,o=e.printLayout,i=e.editingRow,f=s.useState(),g=f[0],y=f[1],v=s.useState(),m=v[0],b=v[1],C=s.useState(1),w=C[0],x=C[1],S=s.useState(new l.CssClasses),E=S[0],O=S[1],_=s.useState(),P=_[0],R=_[1],A=s.useState(),T=A[0],D=A[1],M=s.useState(),k=M[0],N=M[1],I=s.useState(),L=I[0],F=I[1],G=s.useState(),B=G[0],W=G[1],H=s.useState(),j=H[0],V=H[1],z=s.useState(!1),U=z[0],Y=z[1],X=s.useState(!1),K=X[0],q=X[1],$=s.useState(!1),Z=$[0],Q=$[1],J=s.useState(),ee=J[0],te=J[1],re=s.useMemo((function(){return r.isForceWrapper()}),[]),ne=s.useRef(null),oe=s.useRef(null),ie=s.useRef(),ae=s.useRef(),se=s.useRef(),le=s.useState(0),ue=le[0],ce=le[1],pe=s.useCallback((function(e){se.current=e,ce((function(e){return e+1}))}),[]),de=s.useRef(),he=s.useState(0),fe=he[0],ge=he[1],ye=s.useCallback((function(e){de.current=e,ge((function(e){return e+1}))}),[]),ve=null!=g&&(U||Z||K),me=re||ve,be=s.useCallback((function(e,t){(ae.current=t,t)&&(!function(e,t,r){var n=r.getColumn();if(!e&&t.isPopup&&t.isPopup()){var o="AG Grid: Found an issue in column "+n.getColId()+". If using React, specify an editor is a popup using colDef.cellEditorPopup=true. AG Grid React cannot depend on the editor component specifying if it's in a popup (via the isPopup() method on the editor), as React needs to know this information BEFORE the component is created.";a._.doOnce((function(){return console.warn(o)}),"jsEditorComp-isPopup-"+r.getColumn().getColId())}if(e&&t.getPopupPosition&&null!=t.getPopupPosition()){var i="AG Grid: Found an issue in column "+n.getColId()+". If using React, specify an editor popup position using colDef.cellEditorPopupPosition=true. AG Grid React cannot depend on the editor component specifying it's position (via the getPopupPosition() method on the editor), as React needs to know this information BEFORE the component is created.";a._.doOnce((function(){return console.warn(i)}),"jsEditorComp-getPopupPosition-"+r.getColumn().getColId())}}(e,t,r),t.isCancelBeforeStart&&t.isCancelBeforeStart()&&setTimeout((function(){return r.stopEditing()}),0))}),[]),Ce=s.useCallback((function(e){return be(!0,e)}),[]),we=s.useCallback((function(e){return be(!1,e)}),[]);c.default(g,me,de.current,fe,ie,ne);var xe=s.useRef();s.useEffect((function(){var e=xe.current,t=g;if(xe.current=g,null!=e&&null!=e.compDetails&&null!=t&&null!=t.compDetails){var r=e.compDetails,n=t.compDetails;if(r.componentClass==n.componentClass)if(null!=oe.current&&null!=oe.current.refresh)1!=oe.current.refresh(n.params)&&x((function(e){return e+1}))}}),[g]),s.useEffect((function(){if(m&&!m.compDetails.componentFromFramework){var e=m.compDetails,r=!0===m.popup,n=d.createSyncJsComp(e);if(n){var o=n.getGui();return be(r,n),r||(ne.current.appendChild(o),n.afterGuiAttached&&n.afterGuiAttached()),te(n),function(){t.destroyBean(n),be(r,void 0),te(void 0),o&&o.parentElement&&o.parentElement.removeChild(o)}}}}),[m]),s.useEffect((function(){if(r&&t&&(N(se.current?"cell-"+r.getInstanceId():void 0),se.current&&me)){var e=[],n=function(r){if(r){var n=r.getGui();se.current.insertAdjacentElement("afterbegin",n),e.push((function(){t.destroyBean(r),a._.removeFromParent(n)}))}return r};return U&&n(r.createSelectionCheckbox()),Z&&n(r.createDndSource()),K&&n(r.createRowDragComp()),function(){e.forEach((function(e){e()}))}}}),[me,Z,K,U,ue]),h.useEffectOnce((function(){if(r){var e={addOrRemoveCssClass:function(e,t){return O((function(r){return r.setClass(e,t)}))},setUserStyles:function(e){return R(e)},getFocusableElement:function(){return ne.current},setTabIndex:function(e){return D(e)},setRole:function(e){return F(e)},setColId:function(e){return W(e)},setTitle:function(e){return V(e)},setIncludeSelection:function(e){return Y(e)},setIncludeRowDrag:function(e){return q(e)},setIncludeDndSource:function(e){return Q(e)},getCellEditor:function(){return ae.current||null},getCellRenderer:function(){return oe.current?oe.current:ie.current},getParentOfValue:function(){return de.current?de.current:se.current?se.current:ne.current},setRenderDetails:function(e,t,r){y({value:t,compDetails:e,force:r})},setEditDetails:function(e,t,r){e?(b({compDetails:e,popup:t,popupPosition:r}),t||y(void 0)):b(void 0)}},t=se.current||void 0;r.setComp(e,ne.current,t,o,i)}}));var Se=s.useMemo((function(){return!!(g&&g.compDetails&&g.compDetails.componentFromFramework&&l.isComponentStateless(g.compDetails.componentClass))}),[g]),Ee=s.useMemo((function(){var e=E.toString();return me||(e+=" ag-cell-value"),e}),[E,ve]),Oe=s.useMemo((function(){return r.getInstanceId()}),[]),_e=function(){return s.default.createElement(s.default.Fragment,null,null!=g&&function(e,t,r,o,i,a,l){var u=e.compDetails,c=e.value,p=!u,d=u&&u.componentFromFramework,h=u&&u.componentClass,f=c&&c.toString?c.toString():c,g=function(){return s.default.createElement(s.default.Fragment,null,p&&s.default.createElement(s.default.Fragment,null,f),d&&!a&&s.default.createElement(h,n({},u.params,{key:t,ref:o})),d&&a&&s.default.createElement(h,n({},u.params,{key:t})))};return s.default.createElement(s.default.Fragment,null,i?s.default.createElement("span",{role:"presentation",id:"cell-"+r,className:"ag-cell-value",ref:l},g()):g())}(g,w,Oe,oe,me,Se,ye),null!=m&&function(e,t,r,o,i,a){var l=e.compDetails,c=l.componentClass,p=l.componentFromFramework&&!e.popup,d=l.componentFromFramework&&e.popup,h=!l.componentFromFramework&&e.popup;return s.default.createElement(s.default.Fragment,null,p&&s.default.createElement(c,n({},e.compDetails.params,{ref:t})),d&&s.default.createElement(u.default,{editDetails:e,cellCtrl:i,eParentCell:o,wrappedContent:s.default.createElement(c,n({},e.compDetails.params,{ref:r}))}),h&&a&&s.default.createElement(u.default,{editDetails:e,cellCtrl:i,eParentCell:o,jsChildComp:a}))}(m,we,Ce,ne.current,r,ee))};return s.default.createElement("div",{ref:ne,className:Ee,style:P,tabIndex:T,role:L,"col-id":B,title:j,"aria-describedby":k},me?s.default.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:pe},_e()):_e())}))},7664:function(e,t,r){"use strict";var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=r(1167),i=n(r(2791)),a=r(4164),s=r(2724),l=r(1622);t.default=i.memo((function(e){var t=i.useState(),r=t[0],n=t[1],u=i.useContext(s.BeansContext),c=u.context,p=u.popupService,d=u.gridOptionsWrapper;return l.useEffectOnce((function(){var t=e.editDetails,r=e.cellCtrl,i=e.eParentCell,a=t.compDetails,s=d.isStopEditingWhenCellsLoseFocus(),l=c.createBean(new o.PopupEditorWrapper(a.params)),u=l.getGui();if(e.jsChildComp){var h=e.jsChildComp.getGui();h&&u.appendChild(h)}var f={column:r.getColumn(),rowNode:r.getRowNode(),type:"popupCellEditor",eventSource:i,ePopup:u,keepWithinBounds:!0},g="under"===t.popupPosition?p.positionPopupUnderComponent.bind(p,f):p.positionPopupOverComponent.bind(p,f),y=d.getLocaleTextFunc(),v=p.addPopup({modal:s,eChild:u,closeOnEsc:!0,closedCallback:function(){r.onPopupEditorClosed()},anchorToElement:i,positionCallback:g,ariaLabel:y("ariaLabelCellEditor","Cell Editor")}),m=v?v.hideFunc:void 0;return n(l),e.jsChildComp&&e.jsChildComp.afterGuiAttached&&e.jsChildComp.afterGuiAttached(),function(){null!=m&&m(),c.destroyBean(l)}})),i.default.createElement(i.default.Fragment,null,r&&e.wrappedContent&&a.createPortal(e.wrappedContent,r.getGui()))}))},3930:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2791),o=r(2724),i=r(1622);t.default=function(e,t,r,a,s,l){var u=n.useContext(o.BeansContext),c=u.context,p=(u.userComponentFactory,n.useCallback((function(){var e=s.current;if(e){var t=e.getGui();t&&t.parentElement&&t.parentElement.removeChild(t),c.destroyBean(e),s.current=void 0}}),[]));n.useEffect((function(){var n=null!=e,o=e&&e.compDetails&&!e.compDetails.componentFromFramework;if(n&&o&&!(t&&null==r)){var i=e.compDetails;if(s.current){var a=s.current,u=!!(null!=a.refresh&&0==e.force)&&a.refresh(i.params);if(!0===u||void 0===u)return;p()}var c=i.newAgStackInstance();if(c){var d=c.resolveNow(null,(function(e){return e}));if(d){var h=d.getGui();if(h)(t?r:l.current).appendChild(h),s.current=d}}}else p()}),[e,t,a]),i.useEffectOnce((function(){return p}))}},6556:function(e,t,r){"use strict";var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(1167),a=n(r(2791)),s=r(2724),l=o(r(332)),u=o(r(1008)),c=o(r(961)),p=r(1622),d=r(6817);t.default=a.memo((function(){var e=a.useContext(s.BeansContext),t=e.context,r=e.agStackComponentsRegistry,n=e.resizeObserverService,o=a.useState(""),h=o[0],f=o[1],g=a.useState(0),y=g[0],v=g[1],m=a.useState(0),b=m[0],C=m[1],w=a.useState(0),x=w[0],S=w[1],E=a.useState(0),O=E[0],_=E[1],P=a.useState(""),R=P[0],A=P[1],T=a.useState(""),D=T[0],M=T[1],k=a.useState(null),N=k[0],I=k[1],L=a.useState(null),F=L[0],G=L[1],B=a.useState(""),W=B[0],H=B[1],j=a.useState(null),V=j[0],z=j[1],U=a.useState("ag-layout-normal"),Y=U[0],X=U[1],K=a.useRef(null),q=a.useRef(null),$=a.useRef(null),Z=a.useRef(null);u.default(" AG Grid Body ",K),u.default(" AG Pinned Top ",q),u.default(" AG Middle ",$),u.default(" AG Pinned Bottom ",Z),p.useEffectOnce((function(){var e=[],o=[];if(t){var a=function(n){var o=r.getComponentClass(n),i=t.createBean(new o);return e.push(i),i};K.current.appendChild(document.createComment(" AG Fake Horizontal Scroll ")),K.current.appendChild(a("AG-FAKE-HORIZONTAL-SCROLL").getGui()),K.current.appendChild(document.createComment(" AG Overlay Wrapper ")),K.current.appendChild(a("AG-OVERLAY-WRAPPER").getGui());var s={setRowAnimationCssOnBodyViewport:f,setColumnCount:v,setRowCount:C,setTopHeight:S,setBottomHeight:_,setTopDisplay:A,setBottomDisplay:M,setColumnMovingCss:I,updateLayoutClasses:X,setAlwaysVerticalScrollClass:G,setPinnedTopBottomOverflowY:H,setCellSelectableCss:z,registerBodyViewportResizeListener:function(e){var t=n.observeResize($.current,e);o.push((function(){return t()}))}},l=t.createBean(new i.GridBodyCtrl);return e.push(l),l.setComp(s,K.current,$.current,q.current,Z.current),function(){t.destroyBeans(e),o.forEach((function(e){return e()}))}}}));var Q=a.useMemo((function(){return d.classesList("ag-root","ag-unselectable",N,Y)}),[N,Y]),J=a.useMemo((function(){return d.classesList("ag-body-viewport",h,Y,F,V)}),[h,Y,F,V]),ee=a.useMemo((function(){return d.classesList("ag-floating-top",V)}),[V]),te=a.useMemo((function(){return d.classesList("ag-floating-bottom",V)}),[V]),re=a.useMemo((function(){return{height:x,minHeight:x,display:R,overflowY:W}}),[x,R,W]),ne=a.useMemo((function(){return{height:O,minHeight:O,display:D,overflowY:W}}),[O,D,W]),oe=function(e){return a.default.createElement(c.default,{name:e,key:e+"-container"})},ie=function(e){var t=e.section,r=e.children,n=e.className,o=e.style;return a.default.createElement("div",{ref:t,className:n,role:"presentation",style:o},r.map(oe))};return a.default.createElement("div",{ref:K,className:Q,role:"grid","aria-colcount":y,"aria-rowcount":b},a.default.createElement(l.default,null),ie({section:q,className:ee,style:re,children:[i.RowContainerName.TOP_LEFT,i.RowContainerName.TOP_CENTER,i.RowContainerName.TOP_RIGHT,i.RowContainerName.TOP_FULL_WIDTH]}),ie({section:$,className:J,children:[i.RowContainerName.LEFT,i.RowContainerName.CENTER,i.RowContainerName.RIGHT,i.RowContainerName.FULL_WIDTH]}),ie({section:Z,className:te,style:ne,children:[i.RowContainerName.BOTTOM_LEFT,i.RowContainerName.BOTTOM_CENTER,i.RowContainerName.BOTTOM_RIGHT,i.RowContainerName.BOTTOM_FULL_WIDTH]}))}))},3970:function(e,t,r){"use strict";var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(1167),a=n(r(2791)),s=r(2724),l=o(r(6556)),u=o(r(1008)),c=o(r(2051)),p=r(1622),d=r(6817);t.default=a.memo((function(e){var t=e.context,r=a.useState(""),n=r[0],o=r[1],h=a.useState(""),f=h[0],g=h[1],y=a.useState(""),v=y[0],m=y[1],b=a.useState(null),C=b[0],w=b[1],x=a.useState(null),S=x[0],E=x[1],O=a.useState(!1),_=O[0],P=O[1],R=a.useState(),A=R[0],T=R[1],D=a.useRef(null),M=a.useRef(null),k=a.useRef(),N=a.useRef(null),I=a.useRef((function(){})),L=a.useCallback((function(){}),[]),F=a.useMemo((function(){return t.getBean("beans")}),[]);u.default(" AG Grid ",M),p.useEffectOnce((function(){var e=D.current=t.createBean(new i.GridCtrl);return function(){t.destroyBean(e),D.current=null}})),p.useEffectOnce((function(){var e=D.current;I.current=e.focusInnerElement.bind(e);var t={destroyGridUi:function(){},setRtlClass:o,addOrRemoveKeyboardFocusClass:function(e){return g(e?i.FocusService.AG_KEYBOARD_FOCUS:"")},forceFocusOutOfContainer:function(){k.current.forceFocusOutOfContainer()},updateLayoutClasses:m,getFocusableContainers:function(){var e=[],t=M.current.querySelector(".ag-root"),r=M.current.querySelector(".ag-side-bar");return t&&e.push(t),r&&e.push(r),e},setCursor:w,setUserSelect:E};e.setComp(t,M.current,M.current),P(!0)})),a.useEffect((function(){if(A){var e=D.current,r=[],n=F.agStackComponentsRegistry,o=n.getComponentClass("AG-GRID-HEADER-DROP-ZONES"),i=n.getComponentClass("AG-SIDE-BAR"),a=n.getComponentClass("AG-STATUS-BAR"),s=n.getComponentClass("AG-WATERMARK"),l=n.getComponentClass("AG-PAGINATION"),u=[],c=M.current,p=N.current;if(e.showDropZones()&&o){var d=t.createBean(new o),h=d.getGui();c.insertAdjacentElement("afterbegin",h),u.push(h),r.push(d)}if(e.showSideBar()&&i){var f=t.createBean(new i),g=(h=f.getGui(),p.querySelector(".ag-tab-guard-bottom"));g&&(g.insertAdjacentElement("beforebegin",h),u.push(h)),r.push(f)}if(e.showStatusBar()&&a){var y=t.createBean(new a);h=y.getGui();c.insertAdjacentElement("beforeend",h),u.push(h),r.push(y)}if(l){var v=t.createBean(new l);h=v.getGui();c.insertAdjacentElement("beforeend",h),u.push(h),r.push(v)}if(e.showWatermark()&&s){var m=t.createBean(new s);h=m.getGui();c.insertAdjacentElement("beforeend",h),u.push(h),r.push(m)}return function(){t.destroyBeans(r),u.forEach((function(e){e.parentElement&&e.parentElement.removeChild(e)}))}}}),[A]);var G=a.useMemo((function(){return d.classesList("ag-root-wrapper",n,f,v)}),[n,f,v]),B=a.useMemo((function(){return d.classesList("ag-root-wrapper-body","ag-focus-managed",v)}),[v]),W=a.useMemo((function(){return{userSelect:null!=S?S:"",WebkitUserSelect:null!=S?S:"",cursor:null!=C?C:""}}),[S,C]),H=N.current,j=a.useCallback((function(e){k.current=e,T(!0)}),[]);return a.default.createElement("div",{ref:M,className:G,style:W},a.default.createElement("div",{className:B,ref:N},_&&H&&a.default.createElement(s.BeansContext.Provider,{value:F},a.default.createElement(c.default,{ref:j,eFocusableElement:H,onTabKeyDown:L,gridCtrl:D.current},a.default.createElement(l.default,null)))))}))},332:function(e,t,r){"use strict";var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(r(2791)),a=r(2724),s=r(1167),l=r(6817),u=o(r(1212)),c=r(1622);t.default=i.memo((function(){var e=i.useState(new l.CssClasses),t=e[0],r=e[1],n=i.useState(),o=n[0],p=n[1],d=i.useContext(a.BeansContext).context,h=i.useRef(null);c.useEffectOnce((function(){var e={addOrRemoveCssClass:function(e,t){return r((function(r){return r.setClass(e,t)}))},setHeightAndMinHeight:function(e){return p(e)}},t=d.createBean(new s.GridHeaderCtrl);return t.setComp(e,h.current,h.current),function(){d.destroyBean(t)}}));var f=i.useMemo((function(){return"ag-header "+t.toString()}),[t]),g=i.useMemo((function(){return{height:o,minHeight:o}}),[o]);return i.default.createElement("div",{ref:h,className:f,style:g,role:"presentation"},i.default.createElement(u.default,{pinned:s.Constants.PINNED_LEFT}),i.default.createElement(u.default,{pinned:null}),i.default.createElement(u.default,{pinned:s.Constants.PINNED_RIGHT}))}))},273:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=o(r(2791)),a=r(2724),s=r(1167),l=r(6817),u=r(8285),c=r(1622);t.default=i.memo((function(e){var t=i.useContext(a.BeansContext).context,r=i.useState(),o=r[0],p=r[1],d=i.useState(),h=d[0],f=d[1],g=i.useState(),y=g[0],v=g[1],m=i.useState(),b=m[0],C=m[1],w=i.useState(),x=w[0],S=w[1],E=i.useState(),O=E[0],_=E[1],P=i.useRef(null),R=i.useRef(null),A=i.useRef(),T=e.ctrl,D=i.useMemo((function(){return new s.CssClassManager((function(){return P.current}))}),[]);c.useEffectOnce((function(){var e={setWidth:function(e){return p(e)},addOrRemoveCssClass:function(e,t){return D.addOrRemoveCssClass(e,t)},setColId:function(e){return v(e)},setTitle:function(e){return f(e)},setAriaDescription:function(e){return S(e)},setAriaSort:function(e){return C(e)},setUserCompDetails:function(e){return _(e)},getUserCompInstance:function(){return A.current||void 0}};T.setComp(e,P.current,R.current);var t=T.getSelectAllGui();R.current.insertAdjacentElement("afterend",t)})),i.useEffect((function(){return u.showJsComp(O,t,P.current,A)}),[O]),i.useEffect((function(){var e=void 0;P.current.childNodes.forEach((function(t){null!=t&&t!==R.current&&(e=t)})),T.setDragSource(e)}),[O]);var M=i.useMemo((function(){return{width:o}}),[o]),k=i.useMemo((function(){var e;return!!((null===(e=O)||void 0===e?void 0:e.componentFromFramework)&&l.isComponentStateless(O.componentClass))}),[O]),N=O&&O.componentFromFramework,I=O&&O.componentClass;return i.default.createElement("div",{ref:P,className:"ag-header-cell",style:M,title:h,"col-id":y,"aria-sort":b,role:"columnheader",tabIndex:-1,"aria-description":x},i.default.createElement("div",{ref:R,className:"ag-header-cell-resize",role:"presentation"}),N&&k&&i.default.createElement(I,n({},O.params)),N&&!k&&i.default.createElement(I,n({},O.params,{ref:A})))}))},1478:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=o(r(2791)),a=r(2724),s=r(1167),l=r(6817),u=r(8285),c=r(1622);t.default=i.memo((function(e){var t=i.useContext(a.BeansContext).context,r=i.useState(new l.CssClasses),o=r[0],p=r[1],d=i.useState(new l.CssClasses),h=d[0],f=d[1],g=i.useState(new l.CssClasses),y=g[0],v=g[1],m=i.useState(),b=m[0],C=m[1],w=i.useState(),x=w[0],S=w[1],E=i.useRef(null),O=i.useRef(null),_=i.useRef(null),P=i.useRef(null),R=i.useRef(!1),A=i.useRef(),T=i.useRef();c.useEffectOnce((function(){T.current=new s.AgPromise((function(e){A.current=e}))}));var D=function(e){R.current||null!=e&&(A.current&&A.current(e),R.current=!0)},M=e.ctrl;c.useEffectOnce((function(){var e={addOrRemoveCssClass:function(e,t){return p((function(r){return r.setClass(e,t)}))},addOrRemoveBodyCssClass:function(e,t){return f((function(r){return r.setClass(e,t)}))},addOrRemoveButtonWrapperCssClass:function(e,t){return v((function(r){return r.setClass(e,t)}))},setWidth:function(e){return C(e)},setCompDetails:function(e){return S(e)},getFloatingFilterComp:function(){return T.current?T.current:null},setMenuIcon:function(e){return P.current.appendChild(e)}};M.setComp(e,E.current,P.current,O.current)})),i.useEffect((function(){return u.showJsComp(x,t,O.current,D)}),[x]);var k=i.useMemo((function(){return{width:b}}),[b]),N=i.useMemo((function(){return"ag-header-cell ag-floating-filter "+o.toString()}),[o]),I=i.useMemo((function(){return h.toString()}),[h]),L=i.useMemo((function(){return"ag-floating-filter-button "+y.toString()}),[h]),F=i.useMemo((function(){return!!(x&&x.componentFromFramework&&l.isComponentStateless(x.componentClass))}),[x]),G=x&&x.componentFromFramework,B=x&&x.componentClass;return i.default.createElement("div",{ref:E,className:N,style:k,role:"gridcell",tabIndex:-1},i.default.createElement("div",{ref:O,className:I,role:"presentation"},G&&F&&i.default.createElement(B,n({},x.params)),G&&!F&&i.default.createElement(B,n({},x.params,{ref:D}))),i.default.createElement("div",{ref:_,className:L,role:"presentation"},i.default.createElement("button",{ref:P,type:"button","aria-label":"Open Filter Menu",className:"ag-floating-filter-button-button",tabIndex:-1})))}))},5267:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=o(r(2791)),a=r(2724),s=r(8285),l=r(1622),u=r(6817);t.default=i.memo((function(e){var t=i.useContext(a.BeansContext).context,r=i.useState(new u.CssClasses),o=r[0],c=r[1],p=i.useState(new u.CssClasses),d=p[0],h=p[1],f=i.useState(),g=f[0],y=f[1],v=i.useState(),m=v[0],b=v[1],C=i.useState(),w=C[0],x=C[1],S=i.useState(),E=S[0],O=S[1],_=i.useState(),P=_[0],R=_[1],A=i.useRef(null),T=i.useRef(null),D=e.ctrl;l.useEffectOnce((function(){var e={setWidth:function(e){return y(e)},addOrRemoveCssClass:function(e,t){return c((function(r){return r.setClass(e,t)}))},setColId:function(e){return x(e)},setTitle:function(e){return b(e)},setUserCompDetails:function(e){return R(e)},addOrRemoveResizableCssClass:function(e,t){return h((function(r){return r.setClass(e,t)}))},setAriaExpanded:function(e){return O(e)}};D.setComp(e,A.current,T.current)})),i.useEffect((function(){return s.showJsComp(P,t,A.current)}),[P]),i.useEffect((function(){var e=void 0;A.current.childNodes.forEach((function(t){null!=t&&t!==T.current&&(e=t)})),e&&D.setDragSource(e)}),[P]);var M=i.useMemo((function(){return{width:g}}),[g]),k=i.useMemo((function(){return"ag-header-group-cell "+o.toString()}),[o]),N=i.useMemo((function(){return"ag-header-cell-resize "+d.toString()}),[d]),I=P&&P.componentFromFramework,L=P&&P.componentClass;return i.default.createElement("div",{ref:A,className:k,style:M,title:m,"col-id":w,role:"columnheader",tabIndex:-1,"aria-expanded":E},I&&i.default.createElement(L,n({},P.params)),i.default.createElement("div",{ref:T,className:N}))}))},9979:function(e,t,r){"use strict";var n=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<r;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)n[o]=i[a];return n},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(1167),s=o(r(2791)),l=r(2724),u=i(r(273)),c=i(r(5267)),p=i(r(1478)),d=r(1622);t.default=s.memo((function(e){var t=s.useContext(l.BeansContext).gridOptionsWrapper,r=s.useState(),o=r[0],i=r[1],h=s.useState(),f=h[0],g=h[1],y=s.useState(),v=y[0],m=y[1],b=s.useState(),C=b[0],w=b[1],x=s.useState(),S=x[0],E=x[1],O=s.useState([]),_=O[0],P=O[1],R=s.useRef(null),A=e.ctrl,T=A.getType()===a.HeaderRowType.COLUMN,D=A.getType()===a.HeaderRowType.COLUMN_GROUP,M=A.getType()===a.HeaderRowType.FLOATING_FILTER,k=s.useCallback((function(e,r){if(t.isEnsureDomOrder())return r;var o=a._.mapById(e,(function(e){return e.getInstanceId()})),i=a._.mapById(r,(function(e){return e.getInstanceId()})),s=e.filter((function(e){return i.has(e.getInstanceId())})),l=r.filter((function(e){return!o.has(e.getInstanceId())}));return n(s,l)}),[]);d.useEffectOnce((function(){var e={setTransform:function(e){return i(e)},setHeight:function(e){return g(e)},setTop:function(e){return m(e)},setHeaderCtrls:function(e){return P((function(t){return k(t,e)}))},setWidth:function(e){return w(e)},setAriaRowIndex:function(e){return E(e)}};A.setComp(e)}));var N=s.useMemo((function(){return{transform:o,height:f,top:v,width:C}}),[o,f,v,C]),I=s.useMemo((function(){var e=["ag-header-row"];return T&&e.push("ag-header-row-column"),D&&e.push("ag-header-row-column-group"),M&&e.push("ag-header-row-column-filter"),e.join(" ")}),[]),L=s.useCallback((function(e){switch(A.getType()){case a.HeaderRowType.COLUMN_GROUP:return s.default.createElement(c.default,{ctrl:e,key:e.getInstanceId()});case a.HeaderRowType.FLOATING_FILTER:return s.default.createElement(p.default,{ctrl:e,key:e.getInstanceId()});default:return s.default.createElement(u.default,{ctrl:e,key:e.getInstanceId()})}}),[]);return s.default.createElement("div",{ref:R,className:I,role:"row",style:N,"aria-rowindex":S},_.map(L))}))},1212:function(e,t,r){"use strict";var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(r(2791)),a=r(2724),s=r(1167),l=r(6817),u=o(r(9979)),c=r(1622);t.default=i.memo((function(e){var t=i.useState(new l.CssClasses),r=t[0],n=t[1],o=i.useState(),p=o[0],d=o[1],h=i.useState(),f=h[0],g=h[1],y=i.useState(),v=y[0],m=y[1],b=i.useState([]),C=b[0],w=b[1],x=i.useContext(a.BeansContext).context,S=i.useRef(null),E=e.pinned===s.Constants.PINNED_LEFT,O=e.pinned===s.Constants.PINNED_RIGHT,_=!E&&!O;c.useEffectOnce((function(){var t={addOrRemoveCssClass:function(e,t){return n((function(r){return r.setClass(e,t)}))},setCtrls:function(e){return w(e)},setCenterWidth:function(e){return d(e)},setContainerTransform:function(e){return g(e)},setPinnedContainerWidth:function(e){return m(e)}},r=x.createBean(new s.HeaderRowContainerCtrl(e.pinned));return r.setComp(t,S.current),function(){x.destroyBean(r)}}));var P=i.useMemo((function(){return r.toString()}),[r]),R=function(){return C.map((function(e){return i.default.createElement(u.default,{ctrl:e,key:e.getInstanceId()})}))},A=i.useMemo((function(){return{width:p,transform:f}}),[p,f]),T=i.useMemo((function(){return{width:v,minWidth:v,maxWidth:v}}),[v]);return i.default.createElement(i.default.Fragment,null,E&&i.default.createElement("div",{ref:S,className:"ag-pinned-left-header "+P,role:"presentation",style:T},R()),O&&i.default.createElement("div",{ref:S,className:"ag-pinned-right-header "+P,role:"presentation",style:T},R()),_&&i.default.createElement("div",{ref:S,className:"ag-header-viewport "+P,role:"presentation"},i.default.createElement("div",{className:"ag-header-container",role:"rowgroup",style:A},R())))}))},8285:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showJsComp=function(e,t,n,o){if(!(!e||e.componentFromFramework)){var i=e.newAgStackInstance();if(i){var a,s,l=!1;return i.then((function(e){l?t.destroyBean(e):(s=(a=e).getGui(),n.appendChild(s),r(o,a))})),function(){l=!0,a&&(s&&s.parentElement&&s.parentElement.removeChild(s),t.destroyBean(a),o&&r(o,void 0))}}}};var r=function(e,t){e&&(e instanceof Function?e(t):e.current=t)};t.createSyncJsComp=function(e){var t=e.newAgStackInstance();if(t)return t.resolveNow(null,(function(e){return e}))}},1008:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1622);t.default=function(e,t){n.useEffectOnce((function(){var r=t.current,n=r.parentElement;if(n){var o=document.createComment(e);return n.insertBefore(o,r),function(){n.removeChild(o)}}}))}},2939:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)},o=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<r;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)n[o]=i[a];return n},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(r(2791)),l=r(1167),u=r(8285),c=r(6817),p=r(2724),d=a(r(4148)),h=r(1622);t.default=s.memo((function(e){var t=s.useContext(p.BeansContext).context,r=e.rowCtrl,i=e.containerType,a=s.useState(),f=a[0],g=a[1],y=s.useState(),v=y[0],m=y[1],b=s.useState(),C=b[0],w=b[1],x=s.useState(),S=x[0],E=x[1],O=s.useState(),_=O[0],P=O[1],R=s.useState(),A=R[0],T=R[1],D=s.useState({list:[],instanceIdMap:new Map}),M=D[0],k=D[1],N=s.useState(),I=N[0],L=N[1],F=s.useState(!1),G=F[0],B=F[1],W=s.useState(r.getInitialRowTop()),H=W[0],j=W[1],V=s.useState(r.getInitialTransform()),z=V[0],U=V[1],Y=s.useRef(null),X=s.useRef(),K=s.useRef(!1),q=s.useState(0),$=q[0],Z=q[1];s.useEffect((function(){var e;if(!K.current&&I&&!($>10)){var t=null===(e=Y.current)||void 0===e?void 0:e.firstChild;t?(r.setupDetailRowAutoHeight(t),K.current=!0):Z((function(e){return e+1}))}}),[I,$]);var Q=s.useMemo((function(){return new l.CssClassManager((function(){return Y.current}))}),[]);h.useEffectOnce((function(){if(r.isAlive()){var e={setTop:function(e){return j(e)},setTransform:function(e){return U(e)},addOrRemoveCssClass:function(e,t){return Q.addOrRemoveCssClass(e,t)},setDomOrder:function(e){return B(e)},setRowIndex:function(e){return g(e)},setRowId:function(e){return m(e)},setRowBusinessKey:function(e){return E(e)},setTabIndex:function(e){return P(e)},setUserStyles:function(e){return T(e)},setRole:function(e){return w(e)},setCellCtrls:function(e){return k((function(t){return function(e,t,r){if(r){var n={list:t,instanceIdMap:new Map};return t.forEach((function(e){return n.instanceIdMap.set(e.getInstanceId(),e)})),n}var i=[],a=[],s=new Map,l=new Map;return t.forEach((function(e){return l.set(e.getInstanceId(),e)})),e.list.forEach((function(e){var t=e.getInstanceId();l.has(t)&&(i.push(e),s.set(t,e))})),t.forEach((function(t){var r=t.getInstanceId();e.instanceIdMap.has(r)||(a.push(t),s.set(r,t))})),{list:o(i,a),instanceIdMap:s}}(t,e,G)}))},showFullWidth:function(e){return L(e)},getFullWidthCellRenderer:function(){return X.current}};r.setComp(e,Y.current,i)}})),s.useEffect((function(){return u.showJsComp(I,t,Y.current,X)}),[I]);var J=s.useMemo((function(){var e={top:H,transform:z};return Object.assign(e,A),e}),[H,z,A]),ee=I&&I.componentFromFramework,te=null!=M,re=s.useMemo((function(){var e;return!!((null===(e=I)||void 0===e?void 0:e.componentFromFramework)&&c.isComponentStateless(I.componentClass))}),[I]);return s.default.createElement("div",{ref:Y,role:C,style:J,"row-index":f,"row-id":v,"row-business-key":S,tabIndex:_},te&&M.list.map((function(e){return s.default.createElement(d.default,{cellCtrl:e,editingRow:r.isEditing(),printLayout:r.isPrintLayout(),key:e.getInstanceId()})})),ee&&function(){var e=I.componentClass;return s.default.createElement(s.default.Fragment,null,re&&s.default.createElement(e,n({},I.params)),!re&&s.default.createElement(e,n({},I.params,{ref:X})))}())}))},961:function(e,t,r){"use strict";var n=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<r;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)n[o]=i[a];return n},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(1167),s=o(r(2791)),l=r(6817),u=i(r(1008)),c=i(r(2939)),p=r(2724),d=r(1622);t.default=s.memo((function(e){var t=s.useContext(p.BeansContext).context,r=s.useState(""),o=r[0],i=r[1],h=s.useState([]),f=h[0],g=h[1],y=s.useState([]),v=y[0],m=y[1],b=s.useState(!1),C=b[0],w=b[1],x=s.useState(""),S=x[0],E=x[1],O=e.name,_=s.useMemo((function(){return a.getRowContainerTypeForName(O)}),[O]),P=s.useRef(null),R=s.useRef(null),A=s.useRef(null),T=s.useMemo((function(){return a.RowContainerCtrl.getRowContainerCssClasses(O)}),[O]),D=s.useMemo((function(){return l.classesList(T.wrapper)}),[]),M=s.useMemo((function(){return l.classesList(T.viewport)}),[]),k=s.useMemo((function(){return l.classesList(T.container)}),[]),N=O===a.RowContainerName.CENTER,I=O===a.RowContainerName.TOP_CENTER||O===a.RowContainerName.BOTTOM_CENTER,L=!N&&!I,F=N?P:I?R:A;u.default(" AG Row Container "+O+" ",F),s.useEffect((function(){g((function(e){if(C)return v;var t=e.filter((function(e){return v.indexOf(e)>=0})),r=v.filter((function(e){return t.indexOf(e)<0}));return n(t,r)}))}),[C,v]),d.useEffectOnce((function(){var e=[],r={setViewportHeight:i,setRowCtrls:function(e){return m(e)},setDomOrder:function(e){return w(e)},setContainerWidth:function(e){return E(e)}},n=t.createBean(new a.RowContainerCtrl(O));return e.push(n),n.setComp(r,A.current,R.current,P.current),function(){t.destroyBeans(e)}}));var G=s.useMemo((function(){return{height:o}}),[o]),B=s.useMemo((function(){return{width:S}}),[S]),W=function(){return s.default.createElement("div",{className:k,ref:A,role:v.length?"rowgroup":"presentation",style:B},f.map((function(e){return s.default.createElement(c.default,{rowCtrl:e,containerType:_,key:e.getInstanceId()})})))};return s.default.createElement(s.default.Fragment,null,N&&s.default.createElement("div",{className:D,ref:P,role:"presentation"},s.default.createElement("div",{className:M,ref:R,role:"presentation",style:G},W())),I&&s.default.createElement("div",{className:M,ref:R,role:"presentation",style:G},W()),L&&W())}))},2051:function(e,t,r){"use strict";var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(2791)),i=r(1167),a=r(2724),s=r(1622),l=o.forwardRef((function(e,t){var r=e.children,n=e.eFocusableElement,l=e.onTabKeyDown,u=e.gridCtrl,c=o.useContext(a.BeansContext).context,p=o.useRef(null),d=o.useRef(null),h=o.useRef(),f=o.useState(),g=f[0],y=f[1];o.useImperativeHandle(t,(function(){return{forceFocusOutOfContainer:function(){h.current.forceFocusOutOfContainer()}}})),s.useEffectOnce((function(){var e=p.current,t=d.current,r={setTabIndex:function(e){return y(null==e?void 0:parseInt(e,10))}},o=h.current=c.createBean(new i.TabGuardCtrl({comp:r,eTopGuard:e,eBottomGuard:t,eFocusableElement:n,onTabKeyDown:l,focusInnerElement:function(e){return u.focusInnerElement(e)}}));return function(){c.destroyBean(o)}}));var v=function(e){return o.default.createElement("div",{className:"ag-tab-guard ag-tab-guard-"+e,role:"presentation",tabIndex:g,ref:"top"===e?p:d})};return o.default.createElement(o.default.Fragment,null,v("top"),r,v("bottom"))}));t.default=o.memo(l)},1622:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2791);t.useEffectOnce=function(e){var t=n.useRef(),r=n.useRef(!1),o=n.useRef(!1),i=n.useState(0),a=(i[0],i[1]);r.current&&(o.current=!0),n.useEffect((function(){return r.current||(t.current=e(),r.current=!0),a((function(e){return e+1})),function(){o.current&&t.current&&t.current()}}),[])}},6817:function(e,t){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.classesList=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e.filter((function(e){return null!=e&&""!==e}));return r.join(" ")};var n=function(){function e(){for(var e=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.classesMap={},t.forEach((function(t){e.classesMap[t]=!0}))}return e.prototype.setClass=function(t,n){if(!!this.classesMap[t]==n)return this;var o=new e;return o.classesMap=r({},this.classesMap),o.classesMap[t]=n,o},e.prototype.toString=function(){var e=this;return Object.keys(this.classesMap).filter((function(t){return e.classesMap[t]})).join(" ")},e}();t.CssClasses=n,t.isComponentStateless=function(e){return"function"===typeof e&&!(e.prototype&&e.prototype.isReactComponent)||"object"===typeof e&&e.$$typeof===("function"===typeof Symbol&&Symbol.for?Symbol.for("react.memo"):60115)}},6745:function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(r(2791)),l=a(r(2007)),u=i(r(1167)),c=function(e){function t(t){var r=e.call(this,t)||this;return r.props=t,r}return n(t,e),t.prototype.render=function(){return null},t.mapChildColumnDefs=function(e){return s.default.Children.map(e,(function(e){return e?t.toColDef(e.props):null}))},t.toColDef=function(e){var r=e.children,n=o(e,["children"]);return t.hasChildColumns(r)&&(n.children=t.mapChildColumnDefs(r)),n},t.hasChildColumns=function(e){return s.default.Children.count(e)>0},t}(s.Component);function p(e,t){e.forEach((function(e){c[e]=t}))}t.AgGridColumn=c,p(u.ColDefUtil.BOOLEAN_PROPERTIES,l.default.bool),p(u.ColDefUtil.STRING_PROPERTIES,l.default.string),p(u.ColDefUtil.OBJECT_PROPERTIES,l.default.object),p(u.ColDefUtil.ARRAY_PROPERTIES,l.default.array),p(u.ColDefUtil.NUMBER_PROPERTIES,l.default.number),p(u.ColDefUtil.FUNCTION_PROPERTIES,l.default.func)},4584:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.IdentityCheck="IdentityCheck",e.DeepValueCheck="DeepValueCheck",e.NoCheck="NoCheck"}(r=t.ChangeDetectionStrategyType||(t.ChangeDetectionStrategyType={}));var n=function(){function e(e){this.strategy=e}return e.prototype.areEqual=function(e,t){return this.strategy(e,t)},e}(),o=function(){function e(){}return e.prototype.areEqual=function(t,r){return e.areEquivalent(e.copy(t),e.copy(r))},e.unwrapStringOrNumber=function(e){return e instanceof Number||e instanceof String?e.valueOf():e},e.copy=function(e){if(!e)return e;if(Array.isArray(e)){for(var t=[],r=0;r<e.length;r++)t.push(this.copy(e[r]));return t}return"object"!==typeof e?e:[{},e].reduce((function(e,t){return Object.keys(t).forEach((function(r){e[r]=t[r]})),e}),{})},e.isNaN=function(e){return Number.isNaN?Number.isNaN(e):"number"===typeof e&&isNaN(e)},e.areEquivalent=function(t,r){if(t=e.unwrapStringOrNumber(t),r=e.unwrapStringOrNumber(r),t===r)return!0;if(null===t||null===r||typeof t!==typeof r)return!1;if(e.isNaN(t)&&e.isNaN(r))return!0;if(t instanceof Date)return r instanceof Date&&t.valueOf()===r.valueOf();if("function"===typeof t)return!1;if("object"!==typeof t||t.$$typeof&&"Symbol(react.element)"===t.$$typeof.toString())return t==r;if(Object.isFrozen(t)||Object.isFrozen(r))return t===r;var n=void 0===t.areEquivPropertyTracking,o=void 0===r.areEquivPropertyTracking;try{var i=void 0;if(n)t.areEquivPropertyTracking=[];else if(t.areEquivPropertyTracking.some((function(e){return e===r})))return!0;if(o)r.areEquivPropertyTracking=[];else if(r.areEquivPropertyTracking.some((function(e){return e===t})))return!0;t.areEquivPropertyTracking.push(r),r.areEquivPropertyTracking.push(t);var a={};for(i in t)"areEquivPropertyTracking"!=i&&(a[i]=null);for(i in r)"areEquivPropertyTracking"!=i&&(a[i]=null);for(i in a)if(!this.areEquivalent(t[i],r[i]))return!1;return!0}finally{n&&delete t.areEquivPropertyTracking,o&&delete r.areEquivPropertyTracking}},e}(),i=function(){function e(){var e;this.strategyMap=((e={})[r.DeepValueCheck]=new o,e[r.IdentityCheck]=new n((function(e,t){return e===t})),e[r.NoCheck]=new n((function(e,t){return!1})),e)}return e.prototype.getStrategy=function(e){return this.strategyMap[e]},e}();t.ChangeDetectionService=i},3507:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=0;t.default=function(){return"agPortalKey_"+ ++r}},8665:function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o.apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(2791),s=r(4164),l=r(1167),u=r(294),c=r(8340),p=i(r(3507)),d=function(e){function t(t,r,n){var o=e.call(this,t,r,n)||this;return o.oldPortal=null,o.key=p.default(),o.portalKey=p.default(),o}return n(t,e),t.prototype.init=function(e){var t=this;return this.eParentElement=this.createParentElement(e),this.params=e,this.createOrUpdatePortal(e),new l.AgPromise((function(e){return t.createReactComponent(e)}))},t.prototype.createOrUpdatePortal=function(e){var t=this;this.isStatelessComponent()||(e.ref=function(e){t.componentInstance=e,t.addParentContainerStyleAndClasses()}),this.reactElement=a.createElement(this.reactComponent,o(o({},e),{key:this.key})),this.portal=s.createPortal(this.reactElement,this.eParentElement,this.portalKey)},t.prototype.createReactComponent=function(e){this.portalManager.mountReactPortal(this.portal,this,(function(t){e(t)}))},t.prototype.isNullValue=function(){return this.valueRenderedIsNull(this.params)},t.prototype.rendered=function(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!(this.isStatelessComponent()||!this.getFrameworkComponentInstance())},t.prototype.valueRenderedIsNull=function(e){if(!this.componentType.cellRenderer)return!1;var t=console.error;try{return console.error=function(){},""===c.renderToStaticMarkup(a.createElement(this.reactComponent,e))}catch(r){}finally{console.error=t}return!1},t.prototype.refreshComponent=function(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)},t.prototype.fallbackMethod=function(e,t){var r=this[e+"Component"];if(r)return r.bind(this)(t)},t.prototype.fallbackMethodAvailable=function(e){return!!this[e+"Component"]},t}(u.ReactComponent);t.NewReactComponent=d},3365:function(e,t){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<r;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)n[o]=i[a];return n};Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(t,r,n){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=r||"div",this.parent=t,this.maxComponentCreationTimeMs=n||e.MAX_COMPONENT_CREATION_TIME_IN_MS}return e.prototype.getPortals=function(){return this.portals},e.prototype.destroy=function(){this.destroyed=!0},e.prototype.destroyPortal=function(e){this.portals=this.portals.filter((function(t){return t!==e})),this.batchUpdate()},e.prototype.getComponentWrappingElement=function(){return this.wrappingElement},e.prototype.mountReactPortal=function(e,t,n){this.portals=r(this.portals,[e]),this.waitForInstance(t,n),this.batchUpdate()},e.prototype.updateReactPortal=function(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()},e.prototype.batchUpdate=function(){var e=this;this.hasPendingPortalUpdate||(setTimeout((function(){e.destroyed||e.parent.forceUpdate((function(){e.hasPendingPortalUpdate=!1}))})),this.hasPendingPortalUpdate=!0)},e.prototype.waitForInstance=function(e,t,r){var n=this;if(void 0===r&&(r=Date.now()),this.destroyed)t(null);else if(e.rendered())t(e);else{if(Date.now()-r>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate)return e.isNullValue()?void t(e):void console.error("AG Grid: React Component '"+e.getReactComponentName()+"' not created within "+this.maxComponentCreationTimeMs+"ms");window.setTimeout((function(){n.waitForInstance(e,t,r)}))}},e.MAX_COMPONENT_CREATION_TIME_IN_MS=1e3,e}();t.PortalManager=n},294:function(e,t){"use strict";var r=this&&this.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){function t(t,r,n){var o=e.call(this)||this;return o.portal=null,o.reactComponent=t,o.portalManager=r,o.componentType=n,o.statelessComponent=o.isStateless(o.reactComponent),o}return r(t,e),t.prototype.getGui=function(){return this.eParentElement},t.prototype.destroy=function(){return this.componentInstance&&"function"==typeof this.componentInstance.destroy&&this.componentInstance.destroy(),this.portalManager.destroyPortal(this.portal)},t.prototype.createParentElement=function(e){var t=this.portalManager.getComponentWrappingElement(),r=document.createElement(t||"div");return r.classList.add("ag-react-container"),e.reactContainer=r,r},t.prototype.addParentContainerStyleAndClasses=function(){var e=this;this.componentInstance&&(this.componentInstance.getReactContainerStyle&&this.componentInstance.getReactContainerStyle()&&Object.assign(this.eParentElement.style,this.componentInstance.getReactContainerStyle()),this.componentInstance.getReactContainerClasses&&this.componentInstance.getReactContainerClasses()&&this.componentInstance.getReactContainerClasses().forEach((function(t){return e.eParentElement.classList.add(t)})))},t.prototype.statelessComponentRendered=function(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0},t.prototype.getFrameworkComponentInstance=function(){return this.componentInstance},t.prototype.isStatelessComponent=function(){return this.statelessComponent},t.prototype.getReactComponentName=function(){return this.reactComponent.name},t.prototype.getMemoType=function(){return this.hasSymbol()?Symbol.for("react.memo"):60115},t.prototype.hasSymbol=function(){return"function"===typeof Symbol&&Symbol.for},t.prototype.isStateless=function(e){return"function"===typeof e&&!(e.prototype&&e.prototype.isReactComponent)||"object"===typeof e&&e.$$typeof===this.getMemoType()},t.prototype.hasMethod=function(e){var t=this.getFrameworkComponentInstance();return!!t&&null!==t[e]||this.fallbackMethodAvailable(e)},t.prototype.callMethod=function(e,t){var r=this,n=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,t&&t[0]?t[0]:{});if(n){var o=n[e];return o?o.apply(n,t):this.fallbackMethodAvailable(e)?this.fallbackMethod(e,t&&t[0]?t[0]:{}):void 0}setTimeout((function(){return r.callMethod(e,t)}))},t.prototype.addMethod=function(e,t){this[e]=t},t}((function(){}));t.ReactComponent=n},9575:function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(1167),a=o(r(5728)),s=o(r(7627)),l=function(e){function t(t){var r=e.call(this)||this;return r.frameworkComponents={agGroupCellRenderer:a.default,agGroupRowRenderer:a.default,agDetailCellRenderer:s.default},r.reactUi=t,r}return n(t,e),t.prototype.frameworkComponent=function(e){if(this.reactUi)return this.frameworkComponents[e]},t.prototype.isFrameworkComponent=function(e){if(!e)return!1;var t=e.prototype;return!(t&&"getGui"in t)},t}(i.VanillaFrameworkOverrides);t.ReactFrameworkOverrides=l},2953:function(e,t,r){t.AgGridReact=r(7945).AgGridReact,r(6745).AgGridColumn,r(4584).ChangeDetectionStrategyType,r(2553).AgGridReactUi},8700:function(e,t,r){"use strict";var n;function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t,r){return t&&l(e.prototype,t),r&&l(e,r),e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d(e);if(t){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return f(this,r)}}function y(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||v(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){if(e){if("string"==typeof e)return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?m(e,t):void 0}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var b=function(){function e(){s(this,e)}return u(e,[{key:"shadeRGBColor",value:function(e,t){var r=t.split(","),n=e<0?0:255,o=e<0?-1*e:e,i=parseInt(r[0].slice(4),10),a=parseInt(r[1],10),s=parseInt(r[2],10);return"rgb("+(Math.round((n-i)*o)+i)+","+(Math.round((n-a)*o)+a)+","+(Math.round((n-s)*o)+s)+")"}},{key:"shadeHexColor",value:function(e,t){var r=parseInt(t.slice(1),16),n=e<0?0:255,o=e<0?-1*e:e,i=r>>16,a=r>>8&255,s=255&r;return"#"+(16777216+65536*(Math.round((n-i)*o)+i)+256*(Math.round((n-a)*o)+a)+(Math.round((n-s)*o)+s)).toString(16).slice(1)}},{key:"shadeColor",value:function(t,r){return e.isColorHex(r)?this.shadeHexColor(t,r):this.shadeRGBColor(t,r)}}],[{key:"bind",value:function(e,t){return function(){return e.apply(t,arguments)}}},{key:"isObject",value:function(e){return e&&"object"===a(e)&&!Array.isArray(e)&&null!=e}},{key:"is",value:function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"}},{key:"listToArray",value:function(e){var t,r=[];for(t=0;t<e.length;t++)r[t]=e[t];return r}},{key:"extend",value:function(e,t){var r=this;"function"!=typeof Object.assign&&(Object.assign=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),r=1;r<arguments.length;r++){var n=arguments[r];if(null!=n)for(var o in n)n.hasOwnProperty(o)&&(t[o]=n[o])}return t});var n=Object.assign({},e);return this.isObject(e)&&this.isObject(t)&&Object.keys(t).forEach((function(o){r.isObject(t[o])&&o in e?n[o]=r.extend(e[o],t[o]):Object.assign(n,c({},o,t[o]))})),n}},{key:"extendArray",value:function(t,r){var n=[];return t.map((function(t){n.push(e.extend(r,t))})),n}},{key:"monthMod",value:function(e){return e%12}},{key:"clone",value:function(t){if(e.is("Array",t)){for(var r=[],n=0;n<t.length;n++)r[n]=this.clone(t[n]);return r}if(e.is("Null",t))return null;if(e.is("Date",t))return t;if("object"===a(t)){var o={};for(var i in t)t.hasOwnProperty(i)&&(o[i]=this.clone(t[i]));return o}return t}},{key:"log10",value:function(e){return Math.log(e)/Math.LN10}},{key:"roundToBase10",value:function(e){return Math.pow(10,Math.floor(Math.log10(e)))}},{key:"roundToBase",value:function(e,t){return Math.pow(t,Math.floor(Math.log(e)/Math.log(t)))}},{key:"parseNumber",value:function(e){return null===e?e:parseFloat(e)}},{key:"randomId",value:function(){return(Math.random()+1).toString(36).substring(4)}},{key:"noExponents",value:function(e){var t=String(e).split(/[eE]/);if(1===t.length)return t[0];var r="",n=e<0?"-":"",o=t[0].replace(".",""),i=Number(t[1])+1;if(i<0){for(r=n+"0.";i++;)r+="0";return r+o.replace(/^-/,"")}for(i-=o.length;i--;)r+="0";return o+r}},{key:"getDimensions",value:function(e){var t=getComputedStyle(e,null),r=e.clientHeight,n=e.clientWidth;return r-=parseFloat(t.paddingTop)+parseFloat(t.paddingBottom),[n-=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight),r]}},{key:"getBoundingClientRect",value:function(e){var t=e.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:e.clientWidth,height:e.clientHeight,x:t.left,y:t.top}}},{key:"getLargestStringFromArr",value:function(e){return e.reduce((function(e,t){return Array.isArray(t)&&(t=t.reduce((function(e,t){return e.length>t.length?e:t}))),e.length>t.length?e:t}),0)}},{key:"hexToRgba",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#999999",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.6;"#"!==e.substring(0,1)&&(e="#999999");var r=e.replace("#","");r=r.match(new RegExp("(.{"+r.length/3+"})","g"));for(var n=0;n<r.length;n++)r[n]=parseInt(1===r[n].length?r[n]+r[n]:r[n],16);return void 0!==t&&r.push(t),"rgba("+r.join(",")+")"}},{key:"getOpacityFromRGBA",value:function(e){return parseFloat(e.replace(/^.*,(.+)\)/,"$1"))}},{key:"rgb2hex",value:function(e){return(e=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===e.length?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):""}},{key:"isColorHex",value:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)/i.test(e)}},{key:"getPolygonPos",value:function(e,t){for(var r=[],n=2*Math.PI/t,o=0;o<t;o++){var i={};i.x=e*Math.sin(o*n),i.y=-e*Math.cos(o*n),r.push(i)}return r}},{key:"polarToCartesian",value:function(e,t,r,n){var o=(n-90)*Math.PI/180;return{x:e+r*Math.cos(o),y:t+r*Math.sin(o)}}},{key:"escapeString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x",r=e.toString().slice();return r.replace(/[` ~!@#$%^&*()_|+\-=?;:'",.<>{}[\]\\/]/gi,t)}},{key:"negToZero",value:function(e){return e<0?0:e}},{key:"moveIndexInArray",value:function(e,t,r){if(r>=e.length)for(var n=r-e.length+1;n--;)e.push(void 0);return e.splice(r,0,e.splice(t,1)[0]),e}},{key:"extractNumber",value:function(e){return parseFloat(e.replace(/[^\d.]*/g,""))}},{key:"findAncestor",value:function(e,t){for(;(e=e.parentElement)&&!e.classList.contains(t););return e}},{key:"setELstyles",value:function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e.style.key=t[r])}},{key:"isNumber",value:function(e){return!isNaN(e)&&parseFloat(Number(e))===e&&!isNaN(parseInt(e,10))}},{key:"isFloat",value:function(e){return Number(e)===e&&e%1!=0}},{key:"isSafari",value:function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}},{key:"isFirefox",value:function(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1}},{key:"isIE11",value:function(){if(-1!==window.navigator.userAgent.indexOf("MSIE")||window.navigator.appVersion.indexOf("Trident/")>-1)return!0}},{key:"isIE",value:function(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);if(e.indexOf("Trident/")>0){var r=e.indexOf("rv:");return parseInt(e.substring(r+3,e.indexOf(".",r)),10)}var n=e.indexOf("Edge/");return n>0&&parseInt(e.substring(n+5,e.indexOf(".",n)),10)}}]),e}(),C=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w,this.setEasingFunctions()}return u(e,[{key:"setEasingFunctions",value:function(){var e;if(!this.w.globals.easing){switch(this.w.config.chart.animations.easing){case"linear":e="-";break;case"easein":e="<";break;case"easeout":e=">";break;case"easeinout":default:e="<>";break;case"swing":e=function(e){var t=1.70158;return(e-=1)*e*((t+1)*e+t)+1};break;case"bounce":e=function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375};break;case"elastic":e=function(e){return e===!!e?e:Math.pow(2,-10*e)*Math.sin((e-.075)*(2*Math.PI)/.3)+1}}this.w.globals.easing=e}}},{key:"animateLine",value:function(e,t,r,n){e.attr(t).animate(n).attr(r)}},{key:"animateMarker",value:function(e,t,r,n,o,i){t||(t=0),e.attr({r:t,width:t,height:t}).animate(n,o).attr({r:r,width:r.width,height:r.height}).afterAll((function(){i()}))}},{key:"animateCircle",value:function(e,t,r,n,o){e.attr({r:t.r,cx:t.cx,cy:t.cy}).animate(n,o).attr({r:r.r,cx:r.cx,cy:r.cy})}},{key:"animateRect",value:function(e,t,r,n,o){e.attr(t).animate(n).attr(r).afterAll((function(){return o()}))}},{key:"animatePathsGradually",value:function(e){var t=e.el,r=e.realIndex,n=e.j,o=e.fill,i=e.pathFrom,a=e.pathTo,s=e.speed,l=e.delay,u=this.w,c=0;u.config.chart.animations.animateGradually.enabled&&(c=u.config.chart.animations.animateGradually.delay),u.config.chart.animations.dynamicAnimation.enabled&&u.globals.dataChanged&&"bar"!==u.config.chart.type&&(c=0),this.morphSVG(t,r,n,"line"!==u.config.chart.type||u.globals.comboCharts?o:"stroke",i,a,s,l*c)}},{key:"showDelayedElements",value:function(){this.w.globals.delayedElements.forEach((function(e){e.el.classList.remove("apexcharts-element-hidden")}))}},{key:"animationCompleted",value:function(e){var t=this.w;t.globals.animationEnded||(t.globals.animationEnded=!0,this.showDelayedElements(),"function"==typeof t.config.chart.events.animationEnd&&t.config.chart.events.animationEnd(this.ctx,{el:e,w:t}))}},{key:"morphSVG",value:function(e,t,r,n,o,i,a,s){var l=this,u=this.w;o||(o=e.attr("pathFrom")),i||(i=e.attr("pathTo"));var c=function(e){return"radar"===u.config.chart.type&&(a=1),"M 0 ".concat(u.globals.gridHeight)};(!o||o.indexOf("undefined")>-1||o.indexOf("NaN")>-1)&&(o=c()),(!i||i.indexOf("undefined")>-1||i.indexOf("NaN")>-1)&&(i=c()),u.globals.shouldAnimate||(a=1),e.plot(o).animate(1,u.globals.easing,s).plot(o).animate(a,u.globals.easing,s).plot(i).afterAll((function(){b.isNumber(r)?r===u.globals.series[u.globals.maxValsInArrayIndex].length-2&&u.globals.shouldAnimate&&l.animationCompleted(e):"none"!==n&&u.globals.shouldAnimate&&(!u.globals.comboCharts&&t===u.globals.series.length-1||u.globals.comboCharts)&&l.animationCompleted(e),l.showDelayedElements()}))}}]),e}(),w=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w}return u(e,[{key:"getDefaultFilter",value:function(e,t){var r=this.w;e.unfilter(!0),(new window.SVG.Filter).size("120%","180%","-5%","-40%"),"none"!==r.config.states.normal.filter?this.applyFilter(e,t,r.config.states.normal.filter.type,r.config.states.normal.filter.value):r.config.chart.dropShadow.enabled&&this.dropShadow(e,r.config.chart.dropShadow,t)}},{key:"addNormalFilter",value:function(e,t){var r=this.w;r.config.chart.dropShadow.enabled&&!e.node.classList.contains("apexcharts-marker")&&this.dropShadow(e,r.config.chart.dropShadow,t)}},{key:"addLightenFilter",value:function(e,t,r){var n=this,o=this.w,i=r.intensity;e.unfilter(!0),new window.SVG.Filter,e.filter((function(e){var r=o.config.chart.dropShadow;(r.enabled?n.addShadow(e,t,r):e).componentTransfer({rgb:{type:"linear",slope:1.5,intercept:i}})})),e.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(e.filterer.node)}},{key:"addDarkenFilter",value:function(e,t,r){var n=this,o=this.w,i=r.intensity;e.unfilter(!0),new window.SVG.Filter,e.filter((function(e){var r=o.config.chart.dropShadow;(r.enabled?n.addShadow(e,t,r):e).componentTransfer({rgb:{type:"linear",slope:i}})})),e.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(e.filterer.node)}},{key:"applyFilter",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;switch(r){case"none":this.addNormalFilter(e,t);break;case"lighten":this.addLightenFilter(e,t,{intensity:n});break;case"darken":this.addDarkenFilter(e,t,{intensity:n})}}},{key:"addShadow",value:function(e,t,r){var n=r.blur,o=r.top,i=r.left,a=r.color,s=r.opacity,l=e.flood(Array.isArray(a)?a[t]:a,s).composite(e.sourceAlpha,"in").offset(i,o).gaussianBlur(n).merge(e.source);return e.blend(e.source,l)}},{key:"dropShadow",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=t.top,o=t.left,i=t.blur,a=t.color,s=t.opacity,l=t.noUserSpaceOnUse,u=this.w;return e.unfilter(!0),b.isIE()&&"radialBar"===u.config.chart.type||(a=Array.isArray(a)?a[r]:a,e.filter((function(e){var t;t=b.isSafari()||b.isFirefox()||b.isIE()?e.flood(a,s).composite(e.sourceAlpha,"in").offset(o,n).gaussianBlur(i):e.flood(a,s).composite(e.sourceAlpha,"in").offset(o,n).gaussianBlur(i).merge(e.source),e.blend(e.source,t)})),l||e.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(e.filterer.node)),e}},{key:"setSelectionFilter",value:function(e,t,r){var n=this.w;if(void 0!==n.globals.selectedDataPoints[t]&&n.globals.selectedDataPoints[t].indexOf(r)>-1){e.node.setAttribute("selected",!0);var o=n.config.states.active.filter;"none"!==o&&this.applyFilter(e,t,o.type,o.value)}}},{key:"_scaleFilterSize",value:function(e){!function(t){for(var r in t)t.hasOwnProperty(r)&&e.setAttribute(r,t[r])}({width:"200%",height:"200%",x:"-50%",y:"-50%"})}}]),e}(),x=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w}return u(e,[{key:"drawLine",value:function(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"#a8a8a8",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"butt",l=this.w,u=l.globals.dom.Paper.line().attr({x1:e,y1:t,x2:r,y2:n,stroke:o,"stroke-dasharray":i,"stroke-width":a,"stroke-linecap":s});return u}},{key:"drawRect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"#fefefe",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,c=this.w,p=c.globals.dom.Paper.rect();return p.attr({x:e,y:t,width:r>0?r:0,height:n>0?n:0,rx:o,ry:o,opacity:a,"stroke-width":null!==s?s:0,stroke:null!==l?l:"none","stroke-dasharray":u}),p.node.setAttribute("fill",i),p}},{key:"drawPolygon",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#e1e1e1",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"none",o=this.w,i=o.globals.dom.Paper.polygon(e).attr({fill:n,stroke:t,"stroke-width":r});return i}},{key:"drawCircle",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=this.w;e<0&&(e=0);var n=r.globals.dom.Paper.circle(2*e);return null!==t&&n.attr(t),n}},{key:"drawPath",value:function(e){var t=e.d,r=void 0===t?"":t,n=e.stroke,o=void 0===n?"#a8a8a8":n,i=e.strokeWidth,a=void 0===i?1:i,s=e.fill,l=e.fillOpacity,u=void 0===l?1:l,c=e.strokeOpacity,p=void 0===c?1:c,d=e.classes,h=e.strokeLinecap,f=void 0===h?null:h,g=e.strokeDashArray,y=void 0===g?0:g,v=this.w;return null===f&&(f=v.config.stroke.lineCap),(r.indexOf("undefined")>-1||r.indexOf("NaN")>-1)&&(r="M 0 ".concat(v.globals.gridHeight)),v.globals.dom.Paper.path(r).attr({fill:s,"fill-opacity":u,stroke:o,"stroke-opacity":p,"stroke-linecap":f,"stroke-width":a,"stroke-dasharray":y,class:d})}},{key:"group",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.w,r=t.globals.dom.Paper.group();return null!==e&&r.attr(e),r}},{key:"move",value:function(e,t){return["M",e,t].join(" ")}},{key:"line",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=null;return null===r?n=["L",e,t].join(" "):"H"===r?n=["H",e].join(" "):"V"===r&&(n=["V",t].join(" ")),n}},{key:"curve",value:function(e,t,r,n,o,i){return["C",e,t,r,n,o,i].join(" ")}},{key:"quadraticCurve",value:function(e,t,r,n){return["Q",e,t,r,n].join(" ")}},{key:"arc",value:function(e,t,r,n,o,i,a){var s=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l="A";s&&(l="a");var u=[l,e,t,r,n,o,i,a].join(" ");return u}},{key:"renderPaths",value:function(e){var t,r=e.j,n=e.realIndex,o=e.pathFrom,a=e.pathTo,s=e.stroke,l=e.strokeWidth,u=e.strokeLinecap,c=e.fill,p=e.animationDelay,d=e.initialSpeed,h=e.dataChangeSpeed,f=e.className,g=e.shouldClipToGrid,y=void 0===g||g,v=e.bindEventsOnPaths,m=void 0===v||v,b=e.drawShadow,x=void 0===b||b,S=this.w,E=new w(this.ctx),O=new C(this.ctx),_=this.w.config.chart.animations.enabled,P=_&&this.w.config.chart.animations.dynamicAnimation.enabled,R=!!(_&&!S.globals.resized||P&&S.globals.dataChanged&&S.globals.shouldAnimate);R?t=o:(t=a,S.globals.animationEnded=!0);var A,T=S.config.stroke.dashArray;A=Array.isArray(T)?T[n]:S.config.stroke.dashArray;var D=this.drawPath({d:t,stroke:s,strokeWidth:l,fill:c,fillOpacity:1,classes:f,strokeLinecap:u,strokeDashArray:A});if(D.attr("index",n),y&&D.attr({"clip-path":"url(#gridRectMask".concat(S.globals.cuid,")")}),"none"!==S.config.states.normal.filter.type)E.getDefaultFilter(D,n);else if(S.config.chart.dropShadow.enabled&&x&&(!S.config.chart.dropShadow.enabledOnSeries||S.config.chart.dropShadow.enabledOnSeries&&-1!==S.config.chart.dropShadow.enabledOnSeries.indexOf(n))){var M=S.config.chart.dropShadow;E.dropShadow(D,M,n)}m&&(D.node.addEventListener("mouseenter",this.pathMouseEnter.bind(this,D)),D.node.addEventListener("mouseleave",this.pathMouseLeave.bind(this,D)),D.node.addEventListener("mousedown",this.pathMouseDown.bind(this,D))),D.attr({pathTo:a,pathFrom:o});var k={el:D,j:r,realIndex:n,pathFrom:o,pathTo:a,fill:c,strokeWidth:l,delay:p};return!_||S.globals.resized||S.globals.dataChanged?!S.globals.resized&&S.globals.dataChanged||O.showDelayedElements():O.animatePathsGradually(i(i({},k),{},{speed:d})),S.globals.dataChanged&&P&&R&&O.animatePathsGradually(i(i({},k),{},{speed:h})),D}},{key:"drawPattern",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#a8a8a8",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=this.w,a=i.globals.dom.Paper.pattern(t,r,(function(i){"horizontalLines"===e?i.line(0,0,r,0).stroke({color:n,width:o+1}):"verticalLines"===e?i.line(0,0,0,t).stroke({color:n,width:o+1}):"slantedLines"===e?i.line(0,0,t,r).stroke({color:n,width:o}):"squares"===e?i.rect(t,r).fill("none").stroke({color:n,width:o}):"circles"===e&&i.circle(t).fill("none").stroke({color:n,width:o})}));return a}},{key:"drawGradient",value:function(e,t,r,n,o){var i,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,c=this.w;t.length<9&&0===t.indexOf("#")&&(t=b.hexToRgba(t,n)),r.length<9&&0===r.indexOf("#")&&(r=b.hexToRgba(r,o));var p=0,d=1,h=1,f=null;null!==s&&(p=void 0!==s[0]?s[0]/100:0,d=void 0!==s[1]?s[1]/100:1,h=void 0!==s[2]?s[2]/100:1,f=void 0!==s[3]?s[3]/100:null);var g=!("donut"!==c.config.chart.type&&"pie"!==c.config.chart.type&&"polarArea"!==c.config.chart.type&&"bubble"!==c.config.chart.type);if(i=null===l||0===l.length?c.globals.dom.Paper.gradient(g?"radial":"linear",(function(e){e.at(p,t,n),e.at(d,r,o),e.at(h,r,o),null!==f&&e.at(f,t,n)})):c.globals.dom.Paper.gradient(g?"radial":"linear",(function(e){(Array.isArray(l[u])?l[u]:l).forEach((function(t){e.at(t.offset/100,t.color,t.opacity)}))})),g){var y=c.globals.gridWidth/2,v=c.globals.gridHeight/2;"bubble"!==c.config.chart.type?i.attr({gradientUnits:"userSpaceOnUse",cx:y,cy:v,r:a}):i.attr({cx:.5,cy:.5,r:.8,fx:.2,fy:.2})}else"vertical"===e?i.from(0,0).to(0,1):"diagonal"===e?i.from(0,0).to(1,1):"horizontal"===e?i.from(0,1).to(1,1):"diagonal2"===e&&i.from(1,0).to(0,1);return i}},{key:"getTextBasedOnMaxWidth",value:function(e){var t=e.text,r=e.maxWidth,n=e.fontSize,o=e.fontFamily,i=this.getTextRects(t,n,o),a=i.width/t.length,s=Math.floor(r/a);return r<i.width?t.slice(0,s-3)+"...":t}},{key:"drawText",value:function(e){var t=this,r=e.x,n=e.y,o=e.text,a=e.textAnchor,s=e.fontSize,l=e.fontFamily,u=e.fontWeight,c=e.foreColor,p=e.opacity,d=e.maxWidth,h=e.cssClass,f=void 0===h?"":h,g=e.isPlainText,y=void 0===g||g,v=this.w;void 0===o&&(o="");var m=o;a||(a="start"),c&&c.length||(c=v.config.chart.foreColor),l=l||v.config.chart.fontFamily,u=u||"regular";var b,C={maxWidth:d,fontSize:s=s||"11px",fontFamily:l};return Array.isArray(o)?b=v.globals.dom.Paper.text((function(e){for(var r=0;r<o.length;r++)m=o[r],d&&(m=t.getTextBasedOnMaxWidth(i({text:o[r]},C))),0===r?e.tspan(m):e.tspan(m).newLine()})):(d&&(m=this.getTextBasedOnMaxWidth(i({text:o},C))),b=y?v.globals.dom.Paper.plain(o):v.globals.dom.Paper.text((function(e){return e.tspan(m)}))),b.attr({x:r,y:n,"text-anchor":a,"dominant-baseline":"auto","font-size":s,"font-family":l,"font-weight":u,fill:c,class:"apexcharts-text "+f}),b.node.style.fontFamily=l,b.node.style.opacity=p,b}},{key:"drawMarker",value:function(e,t,r){e=e||0;var n=r.pSize||0,o=null;if("square"===r.shape||"rect"===r.shape){var i=void 0===r.pRadius?n/2:r.pRadius;null!==t&&n||(n=0,i=0);var a=1.2*n+i,s=this.drawRect(a,a,a,a,i);s.attr({x:e-a/2,y:t-a/2,cx:e,cy:t,class:r.class?r.class:"",fill:r.pointFillColor,"fill-opacity":r.pointFillOpacity?r.pointFillOpacity:1,stroke:r.pointStrokeColor,"stroke-width":r.pointStrokeWidth?r.pointStrokeWidth:0,"stroke-opacity":r.pointStrokeOpacity?r.pointStrokeOpacity:1}),o=s}else"circle"!==r.shape&&r.shape||(b.isNumber(t)||(n=0,t=0),o=this.drawCircle(n,{cx:e,cy:t,class:r.class?r.class:"",stroke:r.pointStrokeColor,fill:r.pointFillColor,"fill-opacity":r.pointFillOpacity?r.pointFillOpacity:1,"stroke-width":r.pointStrokeWidth?r.pointStrokeWidth:0,"stroke-opacity":r.pointStrokeOpacity?r.pointStrokeOpacity:1}));return o}},{key:"pathMouseEnter",value:function(e,t){var r=this.w,n=new w(this.ctx),o=parseInt(e.node.getAttribute("index"),10),i=parseInt(e.node.getAttribute("j"),10);if("function"==typeof r.config.chart.events.dataPointMouseEnter&&r.config.chart.events.dataPointMouseEnter(t,this.ctx,{seriesIndex:o,dataPointIndex:i,w:r}),this.ctx.events.fireEvent("dataPointMouseEnter",[t,this.ctx,{seriesIndex:o,dataPointIndex:i,w:r}]),("none"===r.config.states.active.filter.type||"true"!==e.node.getAttribute("selected"))&&"none"!==r.config.states.hover.filter.type&&!r.globals.isTouchDevice){var a=r.config.states.hover.filter;n.applyFilter(e,o,a.type,a.value)}}},{key:"pathMouseLeave",value:function(e,t){var r=this.w,n=new w(this.ctx),o=parseInt(e.node.getAttribute("index"),10),i=parseInt(e.node.getAttribute("j"),10);"function"==typeof r.config.chart.events.dataPointMouseLeave&&r.config.chart.events.dataPointMouseLeave(t,this.ctx,{seriesIndex:o,dataPointIndex:i,w:r}),this.ctx.events.fireEvent("dataPointMouseLeave",[t,this.ctx,{seriesIndex:o,dataPointIndex:i,w:r}]),"none"!==r.config.states.active.filter.type&&"true"===e.node.getAttribute("selected")||"none"!==r.config.states.hover.filter.type&&n.getDefaultFilter(e,o)}},{key:"pathMouseDown",value:function(e,t){var r=this.w,n=new w(this.ctx),o=parseInt(e.node.getAttribute("index"),10),i=parseInt(e.node.getAttribute("j"),10),a="false";if("true"===e.node.getAttribute("selected")){if(e.node.setAttribute("selected","false"),r.globals.selectedDataPoints[o].indexOf(i)>-1){var s=r.globals.selectedDataPoints[o].indexOf(i);r.globals.selectedDataPoints[o].splice(s,1)}}else{if(!r.config.states.active.allowMultipleDataPointsSelection&&r.globals.selectedDataPoints.length>0){r.globals.selectedDataPoints=[];var l=r.globals.dom.Paper.select(".apexcharts-series path").members,u=r.globals.dom.Paper.select(".apexcharts-series circle, .apexcharts-series rect").members,c=function(e){Array.prototype.forEach.call(e,(function(e){e.node.setAttribute("selected","false"),n.getDefaultFilter(e,o)}))};c(l),c(u)}e.node.setAttribute("selected","true"),a="true",void 0===r.globals.selectedDataPoints[o]&&(r.globals.selectedDataPoints[o]=[]),r.globals.selectedDataPoints[o].push(i)}if("true"===a){var p=r.config.states.active.filter;if("none"!==p)n.applyFilter(e,o,p.type,p.value);else if("none"!==r.config.states.hover.filter&&!r.globals.isTouchDevice){var d=r.config.states.hover.filter;n.applyFilter(e,o,d.type,d.value)}}else"none"!==r.config.states.active.filter.type&&("none"===r.config.states.hover.filter.type||r.globals.isTouchDevice?n.getDefaultFilter(e,o):(d=r.config.states.hover.filter,n.applyFilter(e,o,d.type,d.value)));"function"==typeof r.config.chart.events.dataPointSelection&&r.config.chart.events.dataPointSelection(t,this.ctx,{selectedDataPoints:r.globals.selectedDataPoints,seriesIndex:o,dataPointIndex:i,w:r}),t&&this.ctx.events.fireEvent("dataPointSelection",[t,this.ctx,{selectedDataPoints:r.globals.selectedDataPoints,seriesIndex:o,dataPointIndex:i,w:r}])}},{key:"rotateAroundCenter",value:function(e){var t={};return e&&"function"==typeof e.getBBox&&(t=e.getBBox()),{x:t.x+t.width/2,y:t.y+t.height/2}}},{key:"getTextRects",value:function(e,t,r,n){var o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=this.w,a=this.drawText({x:-200,y:-200,text:e,textAnchor:"start",fontSize:t,fontFamily:r,foreColor:"#fff",opacity:0});n&&a.attr("transform",n),i.globals.dom.Paper.add(a);var s=a.bbox();return o||(s=a.node.getBoundingClientRect()),a.remove(),{width:s.width,height:s.height}}},{key:"placeTextWithEllipsis",value:function(e,t,r){if("function"==typeof e.getComputedTextLength&&(e.textContent=t,t.length>0&&e.getComputedTextLength()>=r/1.1)){for(var n=t.length-3;n>0;n-=3)if(e.getSubStringLength(0,n)<=r/1.1)return void(e.textContent=t.substring(0,n)+"...");e.textContent="."}}}],[{key:"setAttrs",value:function(e,t){for(var r in t)t.hasOwnProperty(r)&&e.setAttribute(r,t[r])}}]),e}(),S=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w}return u(e,[{key:"getStackedSeriesTotals",value:function(){var e=this.w,t=[];if(0===e.globals.series.length)return t;for(var r=0;r<e.globals.series[e.globals.maxValsInArrayIndex].length;r++){for(var n=0,o=0;o<e.globals.series.length;o++)void 0!==e.globals.series[o][r]&&(n+=e.globals.series[o][r]);t.push(n)}return e.globals.stackedSeriesTotals=t,t}},{key:"getSeriesTotalByIndex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null===e?this.w.config.series.reduce((function(e,t){return e+t}),0):this.w.globals.series[e].reduce((function(e,t){return e+t}),0)}},{key:"isSeriesNull",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return 0===(null===e?this.w.config.series.filter((function(e){return null!==e})):this.w.config.series[e].data.filter((function(e){return null!==e}))).length}},{key:"seriesHaveSameValues",value:function(e){return this.w.globals.series[e].every((function(e,t,r){return e===r[0]}))}},{key:"getCategoryLabels",value:function(e){var t=this.w,r=e.slice();return t.config.xaxis.convertedCatToNumeric&&(r=e.map((function(e,r){return t.config.xaxis.labels.formatter(e-t.globals.minX+1)}))),r}},{key:"getLargestSeries",value:function(){var e=this.w;e.globals.maxValsInArrayIndex=e.globals.series.map((function(e){return e.length})).indexOf(Math.max.apply(Math,e.globals.series.map((function(e){return e.length}))))}},{key:"getLargestMarkerSize",value:function(){var e=this.w,t=0;return e.globals.markers.size.forEach((function(e){t=Math.max(t,e)})),e.config.markers.discrete&&e.config.markers.discrete.length&&e.config.markers.discrete.forEach((function(e){t=Math.max(t,e.size)})),t>0&&(t+=e.config.markers.hover.sizeOffset+1),e.globals.markers.largestSize=t,t}},{key:"getSeriesTotals",value:function(){var e=this.w;e.globals.seriesTotals=e.globals.series.map((function(e,t){var r=0;if(Array.isArray(e))for(var n=0;n<e.length;n++)r+=e[n];else r+=e;return r}))}},{key:"getSeriesTotalsXRange",value:function(e,t){var r=this.w;return r.globals.series.map((function(n,o){for(var i=0,a=0;a<n.length;a++)r.globals.seriesX[o][a]>e&&r.globals.seriesX[o][a]<t&&(i+=n[a]);return i}))}},{key:"getPercentSeries",value:function(){var e=this.w;e.globals.seriesPercent=e.globals.series.map((function(t,r){var n=[];if(Array.isArray(t))for(var o=0;o<t.length;o++){var i=e.globals.stackedSeriesTotals[o],a=0;i&&(a=100*t[o]/i),n.push(a)}else{var s=100*t/e.globals.seriesTotals.reduce((function(e,t){return e+t}),0);n.push(s)}return n}))}},{key:"getCalculatedRatios",value:function(){var e,t,r,n,o=this.w.globals,i=[],a=0,s=[],l=.1,u=0;if(o.yRange=[],o.isMultipleYAxis)for(var c=0;c<o.minYArr.length;c++)o.yRange.push(Math.abs(o.minYArr[c]-o.maxYArr[c])),s.push(0);else o.yRange.push(Math.abs(o.minY-o.maxY));o.xRange=Math.abs(o.maxX-o.minX),o.zRange=Math.abs(o.maxZ-o.minZ);for(var p=0;p<o.yRange.length;p++)i.push(o.yRange[p]/o.gridHeight);if(t=o.xRange/o.gridWidth,r=Math.abs(o.initialMaxX-o.initialMinX)/o.gridWidth,e=o.yRange/o.gridWidth,n=o.xRange/o.gridHeight,(a=o.zRange/o.gridHeight*16)||(a=1),o.minY!==Number.MIN_VALUE&&0!==Math.abs(o.minY)&&(o.hasNegs=!0),o.isMultipleYAxis){s=[];for(var d=0;d<i.length;d++)s.push(-o.minYArr[d]/i[d])}else s.push(-o.minY/i[0]),o.minY!==Number.MIN_VALUE&&0!==Math.abs(o.minY)&&(l=-o.minY/e,u=o.minX/t);return{yRatio:i,invertedYRatio:e,zRatio:a,xRatio:t,initialXRatio:r,invertedXRatio:n,baseLineInvertedY:l,baseLineY:s,baseLineX:u}}},{key:"getLogSeries",value:function(e){var t=this,r=this.w;return r.globals.seriesLog=e.map((function(e,n){return r.config.yaxis[n]&&r.config.yaxis[n].logarithmic?e.map((function(e){return null===e?null:t.getLogVal(r.config.yaxis[n].logBase,e,n)})):e})),r.globals.invalidLogScale?e:r.globals.seriesLog}},{key:"getBaseLog",value:function(e,t){return Math.log(t)/Math.log(e)}},{key:"getLogVal",value:function(e,t,r){if(0===t)return 0;var n=this.w,o=0===n.globals.minYArr[r]?-1:this.getBaseLog(e,n.globals.minYArr[r]),i=(0===n.globals.maxYArr[r]?0:this.getBaseLog(e,n.globals.maxYArr[r]))-o;return t<1?t/i:(this.getBaseLog(e,t)-o)/i}},{key:"getLogYRatios",value:function(e){var t=this,r=this.w,n=this.w.globals;return n.yLogRatio=e.slice(),n.logYRange=n.yRange.map((function(e,o){if(r.config.yaxis[o]&&t.w.config.yaxis[o].logarithmic){var i,a=-Number.MAX_VALUE,s=Number.MIN_VALUE;return n.seriesLog.forEach((function(e,t){e.forEach((function(e){r.config.yaxis[t]&&r.config.yaxis[t].logarithmic&&(a=Math.max(e,a),s=Math.min(e,s))}))})),i=Math.pow(n.yRange[o],Math.abs(s-a)/n.yRange[o]),n.yLogRatio[o]=i/n.gridHeight,i}})),n.invalidLogScale?e.slice():n.yLogRatio}}],[{key:"checkComboSeries",value:function(e){var t=!1,r=0,n=0;return e.length&&void 0!==e[0].type&&e.forEach((function(e){"bar"!==e.type&&"column"!==e.type&&"candlestick"!==e.type&&"boxPlot"!==e.type||r++,void 0!==e.type&&n++})),n>0&&(t=!0),{comboBarCount:r,comboCharts:t}}},{key:"extendArrayProps",value:function(e,t,r){return t.yaxis&&(t=e.extendYAxis(t,r)),t.annotations&&(t.annotations.yaxis&&(t=e.extendYAxisAnnotations(t)),t.annotations.xaxis&&(t=e.extendXAxisAnnotations(t)),t.annotations.points&&(t=e.extendPointAnnotations(t))),t}}]),e}(),E=function(){function e(t){s(this,e),this.w=t.w,this.annoCtx=t}return u(e,[{key:"setOrientations",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=this.w;if("vertical"===e.label.orientation){var n=null!==t?t:0,o=r.globals.dom.baseEl.querySelector(".apexcharts-xaxis-annotations .apexcharts-xaxis-annotation-label[rel='".concat(n,"']"));if(null!==o){var i=o.getBoundingClientRect();o.setAttribute("x",parseFloat(o.getAttribute("x"))-i.height+4),"top"===e.label.position?o.setAttribute("y",parseFloat(o.getAttribute("y"))+i.width):o.setAttribute("y",parseFloat(o.getAttribute("y"))-i.width);var a=this.annoCtx.graphics.rotateAroundCenter(o),s=a.x,l=a.y;o.setAttribute("transform","rotate(-90 ".concat(s," ").concat(l,")"))}}}},{key:"addBackgroundToAnno",value:function(e,t){var r=this.w;if(!e||void 0===t.label.text||void 0!==t.label.text&&!String(t.label.text).trim())return null;var n=r.globals.dom.baseEl.querySelector(".apexcharts-grid").getBoundingClientRect(),o=e.getBoundingClientRect(),i=t.label.style.padding.left,a=t.label.style.padding.right,s=t.label.style.padding.top,l=t.label.style.padding.bottom;"vertical"===t.label.orientation&&(s=t.label.style.padding.left,l=t.label.style.padding.right,i=t.label.style.padding.top,a=t.label.style.padding.bottom);var u=o.left-n.left-i,c=o.top-n.top-s,p=this.annoCtx.graphics.drawRect(u-r.globals.barPadForNumericAxis,c,o.width+i+a,o.height+s+l,t.label.borderRadius,t.label.style.background,1,t.label.borderWidth,t.label.borderColor,0);return t.id&&p.node.classList.add(t.id),p}},{key:"annotationsBackground",value:function(){var e=this,t=this.w,r=function(r,n,o){var i=t.globals.dom.baseEl.querySelector(".apexcharts-".concat(o,"-annotations .apexcharts-").concat(o,"-annotation-label[rel='").concat(n,"']"));if(i){var a=i.parentNode,s=e.addBackgroundToAnno(i,r);s&&(a.insertBefore(s.node,i),r.label.mouseEnter&&s.node.addEventListener("mouseenter",r.label.mouseEnter.bind(e,r)),r.label.mouseLeave&&s.node.addEventListener("mouseleave",r.label.mouseLeave.bind(e,r)))}};t.config.annotations.xaxis.map((function(e,t){r(e,t,"xaxis")})),t.config.annotations.yaxis.map((function(e,t){r(e,t,"yaxis")})),t.config.annotations.points.map((function(e,t){r(e,t,"point")}))}},{key:"getY1Y2",value:function(e,t){var r,n="y1"===e?t.y:t.y2,o=this.w;if(this.annoCtx.invertAxis){var i=o.globals.labels.indexOf(n);o.config.xaxis.convertedCatToNumeric&&(i=o.globals.categoryLabels.indexOf(n));var a=o.globals.dom.baseEl.querySelector(".apexcharts-yaxis-texts-g text:nth-child("+(i+1)+")");a&&(r=parseFloat(a.getAttribute("y")))}else{var s;s=o.config.yaxis[t.yAxisIndex].logarithmic?(n=new S(this.annoCtx.ctx).getLogVal(n,t.yAxisIndex))/o.globals.yLogRatio[t.yAxisIndex]:(n-o.globals.minYArr[t.yAxisIndex])/(o.globals.yRange[t.yAxisIndex]/o.globals.gridHeight),r=o.globals.gridHeight-s,o.config.yaxis[t.yAxisIndex]&&o.config.yaxis[t.yAxisIndex].reversed&&(r=s)}return r}},{key:"getX1X2",value:function(e,t){var r=this.w,n=this.annoCtx.invertAxis?r.globals.minY:r.globals.minX,o=this.annoCtx.invertAxis?r.globals.maxY:r.globals.maxX,i=this.annoCtx.invertAxis?r.globals.yRange[0]:r.globals.xRange,a=(t.x-n)/(i/r.globals.gridWidth);this.annoCtx.inversedReversedAxis&&(a=(o-t.x)/(i/r.globals.gridWidth)),"category"!==r.config.xaxis.type&&!r.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||r.globals.dataFormatXNumeric||(a=this.getStringX(t.x));var s=(t.x2-n)/(i/r.globals.gridWidth);return this.annoCtx.inversedReversedAxis&&(s=(o-t.x2)/(i/r.globals.gridWidth)),"category"!==r.config.xaxis.type&&!r.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||r.globals.dataFormatXNumeric||(s=this.getStringX(t.x2)),"x1"===e?a:s}},{key:"getStringX",value:function(e){var t=this.w,r=e;t.config.xaxis.convertedCatToNumeric&&t.globals.categoryLabels.length&&(e=t.globals.categoryLabels.indexOf(e)+1);var n=t.globals.labels.indexOf(e),o=t.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g text:nth-child("+(n+1)+")");return o&&(r=parseFloat(o.getAttribute("x"))),r}}]),e}(),O=function(){function e(t){s(this,e),this.w=t.w,this.annoCtx=t,this.invertAxis=this.annoCtx.invertAxis,this.helpers=new E(this.annoCtx)}return u(e,[{key:"addXaxisAnnotation",value:function(e,t,r){var n,o=this.w,i=this.helpers.getX1X2("x1",e),a=e.label.text,s=e.strokeDashArray;if(b.isNumber(i)){if(null===e.x2||void 0===e.x2){var l=this.annoCtx.graphics.drawLine(i+e.offsetX,0+e.offsetY,i+e.offsetX,o.globals.gridHeight+e.offsetY,e.borderColor,s,e.borderWidth);t.appendChild(l.node),e.id&&l.node.classList.add(e.id)}else{if((n=this.helpers.getX1X2("x2",e))<i){var u=i;i=n,n=u}var c=this.annoCtx.graphics.drawRect(i+e.offsetX,0+e.offsetY,n-i,o.globals.gridHeight+e.offsetY,0,e.fillColor,e.opacity,1,e.borderColor,s);c.node.classList.add("apexcharts-annotation-rect"),c.attr("clip-path","url(#gridRectMask".concat(o.globals.cuid,")")),t.appendChild(c.node),e.id&&c.node.classList.add(e.id)}var p="top"===e.label.position?4:o.globals.gridHeight,d=this.annoCtx.graphics.getTextRects(a,parseFloat(e.label.style.fontSize)),h=this.annoCtx.graphics.drawText({x:i+e.label.offsetX,y:p+e.label.offsetY-("vertical"===e.label.orientation?"top"===e.label.position?d.width/2-12:-d.width/2:0),text:a,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-xaxis-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});h.attr({rel:r}),t.appendChild(h.node),this.annoCtx.helpers.setOrientations(e,r)}}},{key:"drawXAxisAnnotations",value:function(){var e=this,t=this.w,r=this.annoCtx.graphics.group({class:"apexcharts-xaxis-annotations"});return t.config.annotations.xaxis.map((function(t,n){e.addXaxisAnnotation(t,r.node,n)})),r}}]),e}(),_=function(){function e(t){s(this,e),this.w=t.w,this.annoCtx=t,this.helpers=new E(this.annoCtx)}return u(e,[{key:"addYaxisAnnotation",value:function(e,t,r){var n,o=this.w,i=e.strokeDashArray,a=this.helpers.getY1Y2("y1",e),s=e.label.text;if(null===e.y2||void 0===e.y2){var l=this.annoCtx.graphics.drawLine(0+e.offsetX,a+e.offsetY,this._getYAxisAnnotationWidth(e),a+e.offsetY,e.borderColor,i,e.borderWidth);t.appendChild(l.node),e.id&&l.node.classList.add(e.id)}else{if((n=this.helpers.getY1Y2("y2",e))>a){var u=a;a=n,n=u}var c=this.annoCtx.graphics.drawRect(0+e.offsetX,n+e.offsetY,this._getYAxisAnnotationWidth(e),a-n,0,e.fillColor,e.opacity,1,e.borderColor,i);c.node.classList.add("apexcharts-annotation-rect"),c.attr("clip-path","url(#gridRectMask".concat(o.globals.cuid,")")),t.appendChild(c.node),e.id&&c.node.classList.add(e.id)}var p="right"===e.label.position?o.globals.gridWidth:0,d=this.annoCtx.graphics.drawText({x:p+e.label.offsetX,y:(null!=n?n:a)+e.label.offsetY-3,text:s,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-yaxis-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});d.attr({rel:r}),t.appendChild(d.node)}},{key:"_getYAxisAnnotationWidth",value:function(e){var t=this.w;return t.globals.gridWidth,(e.width.indexOf("%")>-1?t.globals.gridWidth*parseInt(e.width,10)/100:parseInt(e.width,10))+e.offsetX}},{key:"drawYAxisAnnotations",value:function(){var e=this,t=this.w,r=this.annoCtx.graphics.group({class:"apexcharts-yaxis-annotations"});return t.config.annotations.yaxis.map((function(t,n){e.addYaxisAnnotation(t,r.node,n)})),r}}]),e}(),P=function(){function e(t){s(this,e),this.w=t.w,this.annoCtx=t,this.helpers=new E(this.annoCtx)}return u(e,[{key:"addPointAnnotation",value:function(e,t,r){this.w;var n=this.helpers.getX1X2("x1",e),o=this.helpers.getY1Y2("y1",e);if(b.isNumber(n)){var i={pSize:e.marker.size,pointStrokeWidth:e.marker.strokeWidth,pointFillColor:e.marker.fillColor,pointStrokeColor:e.marker.strokeColor,shape:e.marker.shape,pRadius:e.marker.radius,class:"apexcharts-point-annotation-marker ".concat(e.marker.cssClass," ").concat(e.id?e.id:"")},a=this.annoCtx.graphics.drawMarker(n+e.marker.offsetX,o+e.marker.offsetY,i);t.appendChild(a.node);var s=e.label.text?e.label.text:"",l=this.annoCtx.graphics.drawText({x:n+e.label.offsetX,y:o+e.label.offsetY-e.marker.size-parseFloat(e.label.style.fontSize)/1.6,text:s,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-point-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});if(l.attr({rel:r}),t.appendChild(l.node),e.customSVG.SVG){var u=this.annoCtx.graphics.group({class:"apexcharts-point-annotations-custom-svg "+e.customSVG.cssClass});u.attr({transform:"translate(".concat(n+e.customSVG.offsetX,", ").concat(o+e.customSVG.offsetY,")")}),u.node.innerHTML=e.customSVG.SVG,t.appendChild(u.node)}if(e.image.path){var c=e.image.width?e.image.width:20,p=e.image.height?e.image.height:20;a=this.annoCtx.addImage({x:n+e.image.offsetX-c/2,y:o+e.image.offsetY-p/2,width:c,height:p,path:e.image.path,appendTo:".apexcharts-point-annotations"})}e.mouseEnter&&a.node.addEventListener("mouseenter",e.mouseEnter.bind(this,e)),e.mouseLeave&&a.node.addEventListener("mouseleave",e.mouseLeave.bind(this,e))}}},{key:"drawPointAnnotations",value:function(){var e=this,t=this.w,r=this.annoCtx.graphics.group({class:"apexcharts-point-annotations"});return t.config.annotations.points.map((function(t,n){e.addPointAnnotation(t,r.node,n)})),r}}]),e}(),R={name:"en",options:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],toolbar:{exportToSVG:"Download SVG",exportToPNG:"Download PNG",exportToCSV:"Download CSV",menu:"Menu",selection:"Selection",selectionZoom:"Selection Zoom",zoomIn:"Zoom In",zoomOut:"Zoom Out",pan:"Panning",reset:"Reset Zoom"}}},A=function(){function e(){s(this,e),this.yAxis={show:!0,showAlways:!1,showForNullSeries:!0,seriesName:void 0,opposite:!1,reversed:!1,logarithmic:!1,logBase:10,tickAmount:void 0,forceNiceScale:!1,max:void 0,min:void 0,floating:!1,decimalsInFloat:void 0,labels:{show:!0,minWidth:0,maxWidth:160,offsetX:0,offsetY:0,align:void 0,rotate:0,padding:20,style:{colors:[],fontSize:"11px",fontWeight:400,fontFamily:void 0,cssClass:""},formatter:void 0},axisBorder:{show:!1,color:"#e0e0e0",width:1,offsetX:0,offsetY:0},axisTicks:{show:!1,color:"#e0e0e0",width:6,offsetX:0,offsetY:0},title:{text:void 0,rotate:-90,offsetY:0,offsetX:0,style:{color:void 0,fontSize:"11px",fontWeight:900,fontFamily:void 0,cssClass:""}},tooltip:{enabled:!1,offsetX:0},crosshairs:{show:!0,position:"front",stroke:{color:"#b6b6b6",width:1,dashArray:0}}},this.pointAnnotation={id:void 0,x:0,y:null,yAxisIndex:0,seriesIndex:0,mouseEnter:void 0,mouseLeave:void 0,marker:{size:4,fillColor:"#fff",strokeWidth:2,strokeColor:"#333",shape:"circle",offsetX:0,offsetY:0,radius:2,cssClass:""},label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}},customSVG:{SVG:void 0,cssClass:void 0,offsetX:0,offsetY:0},image:{path:void 0,width:20,height:20,offsetX:0,offsetY:0}},this.yAxisAnnotation={id:void 0,y:0,y2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,width:"100%",yAxisIndex:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"end",position:"right",offsetX:0,offsetY:-3,mouseEnter:void 0,mouseLeave:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.xAxisAnnotation={id:void 0,x:0,x2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",orientation:"vertical",position:"top",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.text={x:0,y:0,text:"",textAnchor:"start",foreColor:void 0,fontSize:"13px",fontFamily:void 0,fontWeight:400,appendTo:".apexcharts-annotations",backgroundColor:"transparent",borderColor:"#c2c2c2",borderRadius:0,borderWidth:0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2}}return u(e,[{key:"init",value:function(){return{annotations:{position:"front",yaxis:[this.yAxisAnnotation],xaxis:[this.xAxisAnnotation],points:[this.pointAnnotation],texts:[],images:[],shapes:[]},chart:{animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{delay:150,enabled:!0},dynamicAnimation:{enabled:!0,speed:350}},background:"transparent",locales:[R],defaultLocale:"en",dropShadow:{enabled:!1,enabledOnSeries:void 0,top:2,left:2,blur:4,color:"#000",opacity:.35},events:{animationEnd:void 0,beforeMount:void 0,mounted:void 0,updated:void 0,click:void 0,mouseMove:void 0,mouseLeave:void 0,legendClick:void 0,markerClick:void 0,selection:void 0,dataPointSelection:void 0,dataPointMouseEnter:void 0,dataPointMouseLeave:void 0,beforeZoom:void 0,beforeResetZoom:void 0,zoomed:void 0,scrolled:void 0,brushScrolled:void 0},foreColor:"#373d3f",fontFamily:"Helvetica, Arial, sans-serif",height:"auto",parentHeightOffset:15,redrawOnParentResize:!0,redrawOnWindowResize:!0,id:void 0,group:void 0,offsetX:0,offsetY:0,selection:{enabled:!1,type:"x",fill:{color:"#24292e",opacity:.1},stroke:{width:1,color:"#24292e",opacity:.4,dashArray:3},xaxis:{min:void 0,max:void 0},yaxis:{min:void 0,max:void 0}},sparkline:{enabled:!1},brush:{enabled:!1,autoScaleYaxis:!0,target:void 0},stacked:!1,stackType:"normal",toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0,customIcons:[]},export:{csv:{filename:void 0,columnDelimiter:",",headerCategory:"category",headerValue:"value",dateFormatter:function(e){return new Date(e).toDateString()}},png:{filename:void 0},svg:{filename:void 0}},autoSelected:"zoom"},type:"line",width:"100%",zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},plotOptions:{area:{fillTo:"origin"},bar:{horizontal:!1,columnWidth:"70%",barHeight:"70%",distributed:!1,borderRadius:0,rangeBarOverlap:!0,rangeBarGroupRows:!1,colors:{ranges:[],backgroundBarColors:[],backgroundBarOpacity:1,backgroundBarRadius:0},dataLabels:{position:"top",maxItems:100,hideOverflowingLabels:!0,orientation:"horizontal"}},bubble:{minBubbleRadius:void 0,maxBubbleRadius:void 0},candlestick:{colors:{upward:"#00B746",downward:"#EF403C"},wick:{useFillColor:!0}},boxPlot:{colors:{upper:"#00E396",lower:"#008FFB"}},heatmap:{radius:2,enableShades:!0,shadeIntensity:.5,reverseNegativeShade:!1,distributed:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},treemap:{enableShades:!0,shadeIntensity:.5,distributed:!1,reverseNegativeShade:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},radialBar:{inverseOrder:!1,startAngle:0,endAngle:360,offsetX:0,offsetY:0,hollow:{margin:5,size:"50%",background:"transparent",image:void 0,imageWidth:150,imageHeight:150,imageOffsetX:0,imageOffsetY:0,imageClipped:!0,position:"front",dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},track:{show:!0,startAngle:void 0,endAngle:void 0,background:"#f2f2f2",strokeWidth:"97%",opacity:1,margin:5,dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:0,formatter:function(e){return e}},value:{show:!0,fontSize:"14px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:16,formatter:function(e){return e+"%"}},total:{show:!1,label:"Total",fontSize:"16px",fontWeight:600,fontFamily:void 0,color:void 0,formatter:function(e){return e.globals.seriesTotals.reduce((function(e,t){return e+t}),0)/e.globals.series.length+"%"}}}},pie:{customScale:1,offsetX:0,offsetY:0,startAngle:0,endAngle:360,expandOnClick:!0,dataLabels:{offset:0,minAngleToShowLabel:10},donut:{size:"65%",background:"transparent",labels:{show:!1,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:-10,formatter:function(e){return e}},value:{show:!0,fontSize:"20px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:10,formatter:function(e){return e}},total:{show:!1,showAlways:!1,label:"Total",fontSize:"16px",fontWeight:400,fontFamily:void 0,color:void 0,formatter:function(e){return e.globals.seriesTotals.reduce((function(e,t){return e+t}),0)}}}}},polarArea:{rings:{strokeWidth:1,strokeColor:"#e8e8e8"},spokes:{strokeWidth:1,connectorColors:"#e8e8e8"}},radar:{size:void 0,offsetX:0,offsetY:0,polygons:{strokeWidth:1,strokeColors:"#e8e8e8",connectorColors:"#e8e8e8",fill:{colors:void 0}}}},colors:void 0,dataLabels:{enabled:!0,enabledOnSeries:void 0,formatter:function(e){return null!==e?e:""},textAnchor:"middle",distributed:!1,offsetX:0,offsetY:0,style:{fontSize:"12px",fontFamily:void 0,fontWeight:600,colors:void 0},background:{enabled:!0,foreColor:"#fff",borderRadius:2,padding:4,opacity:.9,borderWidth:1,borderColor:"#fff",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]},image:{src:[],width:void 0,height:void 0},pattern:{style:"squares",width:6,height:6,strokeWidth:2}},forecastDataPoints:{count:0,fillOpacity:.5,strokeWidth:void 0,dashArray:4},grid:{show:!0,borderColor:"#e0e0e0",strokeDashArray:0,position:"back",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},row:{colors:void 0,opacity:.5},column:{colors:void 0,opacity:.5},padding:{top:0,right:10,bottom:0,left:12}},labels:[],legend:{show:!0,showForSingleSeries:!1,showForNullSeries:!0,showForZeroSeries:!0,floating:!1,position:"bottom",horizontalAlign:"center",inverseOrder:!1,fontSize:"12px",fontFamily:void 0,fontWeight:400,width:void 0,height:void 0,formatter:void 0,tooltipHoverFormatter:void 0,offsetX:-20,offsetY:4,customLegendItems:[],labels:{colors:void 0,useSeriesColors:!1},markers:{width:12,height:12,strokeWidth:0,fillColors:void 0,strokeColor:"#fff",radius:12,customHTML:void 0,offsetX:0,offsetY:0,onClick:void 0},itemMargin:{horizontal:5,vertical:2},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},markers:{discrete:[],size:0,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,shape:"circle",width:8,height:8,radius:2,offsetX:0,offsetY:0,onClick:void 0,onDblClick:void 0,showNullDataPoints:!0,hover:{size:void 0,sizeOffset:3}},noData:{text:void 0,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},responsive:[],series:void 0,states:{normal:{filter:{type:"none",value:0}},hover:{filter:{type:"lighten",value:.1}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken",value:.5}}},title:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:900,fontFamily:void 0,color:void 0}},subtitle:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:30,floating:!1,style:{fontSize:"12px",fontWeight:400,fontFamily:void 0,color:void 0}},stroke:{show:!0,curve:"smooth",lineCap:"butt",width:2,colors:void 0,dashArray:0,fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]}}},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,fillSeriesColor:!1,theme:"light",cssClass:"",style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,format:"dd MMM",formatter:void 0},y:{formatter:void 0,title:{formatter:function(e){return e?e+": ":""}}},z:{formatter:void 0,title:"Size: "},marker:{show:!0,fillColors:void 0},items:{display:"flex"},fixed:{enabled:!1,position:"topRight",offsetX:0,offsetY:0}},xaxis:{type:"category",categories:[],convertedCatToNumeric:!1,offsetX:0,offsetY:0,overwriteCategories:void 0,labels:{show:!0,rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0,trim:!1,minHeight:void 0,maxHeight:120,showDuplicates:!0,style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""},offsetX:0,offsetY:0,format:void 0,formatter:void 0,datetimeUTC:!0,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm",minute:"HH:mm:ss",second:"HH:mm:ss"}},group:{groups:[],style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""}},axisBorder:{show:!0,color:"#e0e0e0",width:"100%",height:1,offsetX:0,offsetY:0},axisTicks:{show:!0,color:"#e0e0e0",height:6,offsetX:0,offsetY:0},tickAmount:void 0,tickPlacement:"on",min:void 0,max:void 0,range:void 0,floating:!1,decimalsInFloat:void 0,position:"bottom",title:{text:void 0,offsetX:0,offsetY:0,style:{color:void 0,fontSize:"12px",fontWeight:900,fontFamily:void 0,cssClass:""}},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:1,dashArray:3},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,left:0,top:0,blur:1,opacity:.4}},tooltip:{enabled:!0,offsetY:0,formatter:void 0,style:{fontSize:"12px",fontFamily:void 0}}},yaxis:this.yAxis,theme:{mode:"light",palette:"palette1",monochrome:{enabled:!1,color:"#008FFB",shadeTo:"light",shadeIntensity:.65}}}}}]),e}(),T=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w,this.graphics=new x(this.ctx),this.w.globals.isBarHorizontal&&(this.invertAxis=!0),this.helpers=new E(this),this.xAxisAnnotations=new O(this),this.yAxisAnnotations=new _(this),this.pointsAnnotations=new P(this),this.w.globals.isBarHorizontal&&this.w.config.yaxis[0].reversed&&(this.inversedReversedAxis=!0),this.xDivision=this.w.globals.gridWidth/this.w.globals.dataPoints}return u(e,[{key:"drawAxesAnnotations",value:function(){var e=this.w;if(e.globals.axisCharts){for(var t=this.yAxisAnnotations.drawYAxisAnnotations(),r=this.xAxisAnnotations.drawXAxisAnnotations(),n=this.pointsAnnotations.drawPointAnnotations(),o=e.config.chart.animations.enabled,i=[t,r,n],a=[r.node,t.node,n.node],s=0;s<3;s++)e.globals.dom.elGraphical.add(i[s]),!o||e.globals.resized||e.globals.dataChanged||"scatter"!==e.config.chart.type&&"bubble"!==e.config.chart.type&&e.globals.dataPoints>1&&a[s].classList.add("apexcharts-element-hidden"),e.globals.delayedElements.push({el:a[s],index:0});this.helpers.annotationsBackground()}}},{key:"drawImageAnnos",value:function(){var e=this;this.w.config.annotations.images.map((function(t,r){e.addImage(t,r)}))}},{key:"drawTextAnnos",value:function(){var e=this;this.w.config.annotations.texts.map((function(t,r){e.addText(t,r)}))}},{key:"addXaxisAnnotation",value:function(e,t,r){this.xAxisAnnotations.addXaxisAnnotation(e,t,r)}},{key:"addYaxisAnnotation",value:function(e,t,r){this.yAxisAnnotations.addYaxisAnnotation(e,t,r)}},{key:"addPointAnnotation",value:function(e,t,r){this.pointsAnnotations.addPointAnnotation(e,t,r)}},{key:"addText",value:function(e,t){var r=e.x,n=e.y,o=e.text,i=e.textAnchor,a=e.foreColor,s=e.fontSize,l=e.fontFamily,u=e.fontWeight,c=e.cssClass,p=e.backgroundColor,d=e.borderWidth,h=e.strokeDashArray,f=e.borderRadius,g=e.borderColor,y=e.appendTo,v=void 0===y?".apexcharts-annotations":y,m=e.paddingLeft,b=void 0===m?4:m,C=e.paddingRight,w=void 0===C?4:C,x=e.paddingBottom,S=void 0===x?2:x,E=e.paddingTop,O=void 0===E?2:E,_=this.w,P=this.graphics.drawText({x:r,y:n,text:o,textAnchor:i||"start",fontSize:s||"12px",fontWeight:u||"regular",fontFamily:l||_.config.chart.fontFamily,foreColor:a||_.config.chart.foreColor,cssClass:c}),R=_.globals.dom.baseEl.querySelector(v);R&&R.appendChild(P.node);var A=P.bbox();if(o){var T=this.graphics.drawRect(A.x-b,A.y-O,A.width+b+w,A.height+S+O,f,p||"transparent",1,d,g,h);R.insertBefore(T.node,P.node)}}},{key:"addImage",value:function(e,t){var r=this.w,n=e.path,o=e.x,i=void 0===o?0:o,a=e.y,s=void 0===a?0:a,l=e.width,u=void 0===l?20:l,c=e.height,p=void 0===c?20:c,d=e.appendTo,h=void 0===d?".apexcharts-annotations":d,f=r.globals.dom.Paper.image(n);f.size(u,p).move(i,s);var g=r.globals.dom.baseEl.querySelector(h);return g&&g.appendChild(f.node),f}},{key:"addXaxisAnnotationExternal",value:function(e,t,r){return this.addAnnotationExternal({params:e,pushToMemory:t,context:r,type:"xaxis",contextMethod:r.addXaxisAnnotation}),r}},{key:"addYaxisAnnotationExternal",value:function(e,t,r){return this.addAnnotationExternal({params:e,pushToMemory:t,context:r,type:"yaxis",contextMethod:r.addYaxisAnnotation}),r}},{key:"addPointAnnotationExternal",value:function(e,t,r){return void 0===this.invertAxis&&(this.invertAxis=r.w.globals.isBarHorizontal),this.addAnnotationExternal({params:e,pushToMemory:t,context:r,type:"point",contextMethod:r.addPointAnnotation}),r}},{key:"addAnnotationExternal",value:function(e){var t=e.params,r=e.pushToMemory,n=e.context,o=e.type,i=e.contextMethod,a=n,s=a.w,l=s.globals.dom.baseEl.querySelector(".apexcharts-".concat(o,"-annotations")),u=l.childNodes.length+1,c=new A,p=Object.assign({},"xaxis"===o?c.xAxisAnnotation:"yaxis"===o?c.yAxisAnnotation:c.pointAnnotation),d=b.extend(p,t);switch(o){case"xaxis":this.addXaxisAnnotation(d,l,u);break;case"yaxis":this.addYaxisAnnotation(d,l,u);break;case"point":this.addPointAnnotation(d,l,u)}var h=s.globals.dom.baseEl.querySelector(".apexcharts-".concat(o,"-annotations .apexcharts-").concat(o,"-annotation-label[rel='").concat(u,"']")),f=this.helpers.addBackgroundToAnno(h,d);return f&&l.insertBefore(f.node,h),r&&s.globals.memory.methodsToExec.push({context:a,id:d.id?d.id:b.randomId(),method:i,label:"addAnnotation",params:t}),n}},{key:"clearAnnotations",value:function(e){var t=e.w,r=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-annotations, .apexcharts-xaxis-annotations, .apexcharts-point-annotations");t.globals.memory.methodsToExec.map((function(e,r){"addText"!==e.label&&"addAnnotation"!==e.label||t.globals.memory.methodsToExec.splice(r,1)})),r=b.listToArray(r),Array.prototype.forEach.call(r,(function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}))}},{key:"removeAnnotation",value:function(e,t){var r=e.w,n=r.globals.dom.baseEl.querySelectorAll(".".concat(t));n&&(r.globals.memory.methodsToExec.map((function(e,n){e.id===t&&r.globals.memory.methodsToExec.splice(n,1)})),Array.prototype.forEach.call(n,(function(e){e.parentElement.removeChild(e)})))}}]),e}(),D=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w,this.opts=null,this.seriesIndex=0}return u(e,[{key:"clippedImgArea",value:function(e){var t=this.w,r=t.config,n=parseInt(t.globals.gridWidth,10),o=parseInt(t.globals.gridHeight,10),i=n>o?n:o,a=e.image,s=0,l=0;void 0===e.width&&void 0===e.height?void 0!==r.fill.image.width&&void 0!==r.fill.image.height?(s=r.fill.image.width+1,l=r.fill.image.height):(s=i+1,l=i):(s=e.width,l=e.height);var u=document.createElementNS(t.globals.SVGNS,"pattern");x.setAttrs(u,{id:e.patternID,patternUnits:e.patternUnits?e.patternUnits:"userSpaceOnUse",width:s+"px",height:l+"px"});var c=document.createElementNS(t.globals.SVGNS,"image");u.appendChild(c),c.setAttributeNS(window.SVG.xlink,"href",a),x.setAttrs(c,{x:0,y:0,preserveAspectRatio:"none",width:s+"px",height:l+"px"}),c.style.opacity=e.opacity,t.globals.dom.elDefs.node.appendChild(u)}},{key:"getSeriesIndex",value:function(e){var t=this.w;return("bar"===t.config.chart.type||"rangeBar"===t.config.chart.type)&&t.config.plotOptions.bar.distributed||"heatmap"===t.config.chart.type||"treemap"===t.config.chart.type?this.seriesIndex=e.seriesNumber:this.seriesIndex=e.seriesNumber%t.globals.series.length,this.seriesIndex}},{key:"fillPath",value:function(e){var t=this.w;this.opts=e;var r,n,o,i=this.w.config;this.seriesIndex=this.getSeriesIndex(e);var a=this.getFillColors()[this.seriesIndex];void 0!==t.globals.seriesColors[this.seriesIndex]&&(a=t.globals.seriesColors[this.seriesIndex]),"function"==typeof a&&(a=a({seriesIndex:this.seriesIndex,dataPointIndex:e.dataPointIndex,value:e.value,w:t}));var s=this.getFillType(this.seriesIndex),l=Array.isArray(i.fill.opacity)?i.fill.opacity[this.seriesIndex]:i.fill.opacity;e.color&&(a=e.color);var u=a;if(-1===a.indexOf("rgb")?a.length<9&&(u=b.hexToRgba(a,l)):a.indexOf("rgba")>-1&&(l=b.getOpacityFromRGBA(a)),e.opacity&&(l=e.opacity),"pattern"===s&&(n=this.handlePatternFill(n,a,l,u)),"gradient"===s&&(o=this.handleGradientFill(a,l,this.seriesIndex)),"image"===s){var c=i.fill.image.src,p=e.patternID?e.patternID:"";this.clippedImgArea({opacity:l,image:Array.isArray(c)?e.seriesNumber<c.length?c[e.seriesNumber]:c[0]:c,width:e.width?e.width:void 0,height:e.height?e.height:void 0,patternUnits:e.patternUnits,patternID:"pattern".concat(t.globals.cuid).concat(e.seriesNumber+1).concat(p)}),r="url(#pattern".concat(t.globals.cuid).concat(e.seriesNumber+1).concat(p,")")}else r="gradient"===s?o:"pattern"===s?n:u;return e.solid&&(r=u),r}},{key:"getFillType",value:function(e){var t=this.w;return Array.isArray(t.config.fill.type)?t.config.fill.type[e]:t.config.fill.type}},{key:"getFillColors",value:function(){var e=this.w,t=e.config,r=this.opts,n=[];return e.globals.comboCharts?"line"===e.config.series[this.seriesIndex].type?Array.isArray(e.globals.stroke.colors)?n=e.globals.stroke.colors:n.push(e.globals.stroke.colors):Array.isArray(e.globals.fill.colors)?n=e.globals.fill.colors:n.push(e.globals.fill.colors):"line"===t.chart.type?Array.isArray(e.globals.stroke.colors)?n=e.globals.stroke.colors:n.push(e.globals.stroke.colors):Array.isArray(e.globals.fill.colors)?n=e.globals.fill.colors:n.push(e.globals.fill.colors),void 0!==r.fillColors&&(n=[],Array.isArray(r.fillColors)?n=r.fillColors.slice():n.push(r.fillColors)),n}},{key:"handlePatternFill",value:function(e,t,r,n){var o=this.w.config,i=this.opts,a=new x(this.ctx),s=void 0===o.fill.pattern.strokeWidth?Array.isArray(o.stroke.width)?o.stroke.width[this.seriesIndex]:o.stroke.width:Array.isArray(o.fill.pattern.strokeWidth)?o.fill.pattern.strokeWidth[this.seriesIndex]:o.fill.pattern.strokeWidth,l=t;return Array.isArray(o.fill.pattern.style)?void 0!==o.fill.pattern.style[i.seriesNumber]?a.drawPattern(o.fill.pattern.style[i.seriesNumber],o.fill.pattern.width,o.fill.pattern.height,l,s,r):n:a.drawPattern(o.fill.pattern.style,o.fill.pattern.width,o.fill.pattern.height,l,s,r)}},{key:"handleGradientFill",value:function(e,t,r){var n,o=this.w.config,i=this.opts,a=new x(this.ctx),s=new b,l=o.fill.gradient.type,u=e,c=void 0===o.fill.gradient.opacityFrom?t:Array.isArray(o.fill.gradient.opacityFrom)?o.fill.gradient.opacityFrom[r]:o.fill.gradient.opacityFrom;u.indexOf("rgba")>-1&&(c=b.getOpacityFromRGBA(u));var p=void 0===o.fill.gradient.opacityTo?t:Array.isArray(o.fill.gradient.opacityTo)?o.fill.gradient.opacityTo[r]:o.fill.gradient.opacityTo;if(void 0===o.fill.gradient.gradientToColors||0===o.fill.gradient.gradientToColors.length)n="dark"===o.fill.gradient.shade?s.shadeColor(-1*parseFloat(o.fill.gradient.shadeIntensity),e.indexOf("rgb")>-1?b.rgb2hex(e):e):s.shadeColor(parseFloat(o.fill.gradient.shadeIntensity),e.indexOf("rgb")>-1?b.rgb2hex(e):e);else if(o.fill.gradient.gradientToColors[i.seriesNumber]){var d=o.fill.gradient.gradientToColors[i.seriesNumber];n=d,d.indexOf("rgba")>-1&&(p=b.getOpacityFromRGBA(d))}else n=e;if(o.fill.gradient.inverseColors){var h=u;u=n,n=h}return u.indexOf("rgb")>-1&&(u=b.rgb2hex(u)),n.indexOf("rgb")>-1&&(n=b.rgb2hex(n)),a.drawGradient(l,u,n,c,p,i.size,o.fill.gradient.stops,o.fill.gradient.colorStops,r)}}]),e}(),M=function(){function e(t,r){s(this,e),this.ctx=t,this.w=t.w}return u(e,[{key:"setGlobalMarkerSize",value:function(){var e=this.w;if(e.globals.markers.size=Array.isArray(e.config.markers.size)?e.config.markers.size:[e.config.markers.size],e.globals.markers.size.length>0){if(e.globals.markers.size.length<e.globals.series.length+1)for(var t=0;t<=e.globals.series.length;t++)void 0===e.globals.markers.size[t]&&e.globals.markers.size.push(e.globals.markers.size[0])}else e.globals.markers.size=e.config.series.map((function(t){return e.config.markers.size}))}},{key:"plotChartMarkers",value:function(e,t,r,n){var o,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=this.w,s=t,l=e,u=null,c=new x(this.ctx),p=a.config.markers.discrete&&a.config.markers.discrete.length;if((a.globals.markers.size[t]>0||i||p)&&(u=c.group({class:i||p?"":"apexcharts-series-markers"})).attr("clip-path","url(#gridRectMarkerMask".concat(a.globals.cuid,")")),Array.isArray(l.x))for(var d=0;d<l.x.length;d++){var h=r;1===r&&0===d&&(h=0),1===r&&1===d&&(h=1);var f="apexcharts-marker";"line"!==a.config.chart.type&&"area"!==a.config.chart.type||a.globals.comboCharts||a.config.tooltip.intersect||(f+=" no-pointer-events");var g=Array.isArray(a.config.markers.size)?a.globals.markers.size[t]>0:a.config.markers.size>0;if(g||i||p){b.isNumber(l.y[d])?f+=" w".concat(b.randomId()):f="apexcharts-nullpoint";var y=this.getMarkerConfig({cssClass:f,seriesIndex:t,dataPointIndex:h});a.config.series[s].data[h]&&(a.config.series[s].data[h].fillColor&&(y.pointFillColor=a.config.series[s].data[h].fillColor),a.config.series[s].data[h].strokeColor&&(y.pointStrokeColor=a.config.series[s].data[h].strokeColor)),n&&(y.pSize=n),(o=c.drawMarker(l.x[d],l.y[d],y)).attr("rel",h),o.attr("j",h),o.attr("index",t),o.node.setAttribute("default-marker-size",y.pSize);var v=new w(this.ctx);v.setSelectionFilter(o,t,h),this.addEvents(o),u&&u.add(o)}else void 0===a.globals.pointsArray[t]&&(a.globals.pointsArray[t]=[]),a.globals.pointsArray[t].push([l.x[d],l.y[d]])}return u}},{key:"getMarkerConfig",value:function(e){var t=e.cssClass,r=e.seriesIndex,n=e.dataPointIndex,o=void 0===n?null:n,i=e.finishRadius,a=void 0===i?null:i,s=this.w,l=this.getMarkerStyle(r),u=s.globals.markers.size[r],c=s.config.markers;return null!==o&&c.discrete.length&&c.discrete.map((function(e){e.seriesIndex===r&&e.dataPointIndex===o&&(l.pointStrokeColor=e.strokeColor,l.pointFillColor=e.fillColor,u=e.size,l.pointShape=e.shape)})),{pSize:null===a?u:a,pRadius:c.radius,width:Array.isArray(c.width)?c.width[r]:c.width,height:Array.isArray(c.height)?c.height[r]:c.height,pointStrokeWidth:Array.isArray(c.strokeWidth)?c.strokeWidth[r]:c.strokeWidth,pointStrokeColor:l.pointStrokeColor,pointFillColor:l.pointFillColor,shape:l.pointShape||(Array.isArray(c.shape)?c.shape[r]:c.shape),class:t,pointStrokeOpacity:Array.isArray(c.strokeOpacity)?c.strokeOpacity[r]:c.strokeOpacity,pointStrokeDashArray:Array.isArray(c.strokeDashArray)?c.strokeDashArray[r]:c.strokeDashArray,pointFillOpacity:Array.isArray(c.fillOpacity)?c.fillOpacity[r]:c.fillOpacity,seriesIndex:r}}},{key:"addEvents",value:function(e){var t=this.w,r=new x(this.ctx);e.node.addEventListener("mouseenter",r.pathMouseEnter.bind(this.ctx,e)),e.node.addEventListener("mouseleave",r.pathMouseLeave.bind(this.ctx,e)),e.node.addEventListener("mousedown",r.pathMouseDown.bind(this.ctx,e)),e.node.addEventListener("click",t.config.markers.onClick),e.node.addEventListener("dblclick",t.config.markers.onDblClick),e.node.addEventListener("touchstart",r.pathMouseDown.bind(this.ctx,e),{passive:!0})}},{key:"getMarkerStyle",value:function(e){var t=this.w,r=t.globals.markers.colors,n=t.config.markers.strokeColor||t.config.markers.strokeColors;return{pointStrokeColor:Array.isArray(n)?n[e]:n,pointFillColor:Array.isArray(r)?r[e]:r}}}]),e}(),k=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled}return u(e,[{key:"draw",value:function(e,t,r){var n=this.w,o=new x(this.ctx),i=r.realIndex,a=r.pointsPos,s=r.zRatio,l=r.elParent,u=o.group({class:"apexcharts-series-markers apexcharts-series-".concat(n.config.chart.type)});if(u.attr("clip-path","url(#gridRectMarkerMask".concat(n.globals.cuid,")")),Array.isArray(a.x))for(var c=0;c<a.x.length;c++){var p=t+1,d=!0;0===t&&0===c&&(p=0),0===t&&1===c&&(p=1);var h=0,f=n.globals.markers.size[i];if(s!==1/0){f=n.globals.seriesZ[i][p]/s;var g=n.config.plotOptions.bubble;g.minBubbleRadius&&f<g.minBubbleRadius&&(f=g.minBubbleRadius),g.maxBubbleRadius&&f>g.maxBubbleRadius&&(f=g.maxBubbleRadius)}n.config.chart.animations.enabled||(h=f);var y=a.x[c],v=a.y[c];if(h=h||0,null!==v&&void 0!==n.globals.series[i][p]||(d=!1),d){var m=this.drawPoint(y,v,h,f,i,p,t);u.add(m)}l.add(u)}}},{key:"drawPoint",value:function(e,t,r,n,o,i,a){var s=this.w,l=o,u=new C(this.ctx),c=new w(this.ctx),p=new D(this.ctx),d=new M(this.ctx),h=new x(this.ctx),f=d.getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:l,dataPointIndex:i,finishRadius:"bubble"===s.config.chart.type||s.globals.comboCharts&&s.config.series[o]&&"bubble"===s.config.series[o].type?n:null});n=f.pSize;var g,y=p.fillPath({seriesNumber:o,dataPointIndex:i,color:f.pointFillColor,patternUnits:"objectBoundingBox",value:s.globals.series[o][a]});if("circle"===f.shape?g=h.drawCircle(r):"square"!==f.shape&&"rect"!==f.shape||(g=h.drawRect(0,0,f.width-f.pointStrokeWidth/2,f.height-f.pointStrokeWidth/2,f.pRadius)),s.config.series[l].data[i]&&s.config.series[l].data[i].fillColor&&(y=s.config.series[l].data[i].fillColor),g.attr({x:e-f.width/2-f.pointStrokeWidth/2,y:t-f.height/2-f.pointStrokeWidth/2,cx:e,cy:t,fill:y,"fill-opacity":f.pointFillOpacity,stroke:f.pointStrokeColor,r:n,"stroke-width":f.pointStrokeWidth,"stroke-dasharray":f.pointStrokeDashArray,"stroke-opacity":f.pointStrokeOpacity}),s.config.chart.dropShadow.enabled){var v=s.config.chart.dropShadow;c.dropShadow(g,v,o)}if(!this.initialAnim||s.globals.dataChanged||s.globals.resized)s.globals.animationEnded=!0;else{var m=s.config.chart.animations.speed;u.animateMarker(g,0,"circle"===f.shape?n:{width:f.width,height:f.height},m,s.globals.easing,(function(){window.setTimeout((function(){u.animationCompleted(g)}),100)}))}if(s.globals.dataChanged&&"circle"===f.shape)if(this.dynamicAnim){var b,S,E,O,_=s.config.chart.animations.dynamicAnimation.speed;null!=(O=s.globals.previousPaths[o]&&s.globals.previousPaths[o][a])&&(b=O.x,S=O.y,E=void 0!==O.r?O.r:n);for(var P=0;P<s.globals.collapsedSeries.length;P++)s.globals.collapsedSeries[P].index===o&&(_=1,n=0);0===e&&0===t&&(n=0),u.animateCircle(g,{cx:b,cy:S,r:E},{cx:e,cy:t,r:n},_,s.globals.easing)}else g.attr({r:n});return g.attr({rel:i,j:i,index:o,"default-marker-size":n}),c.setSelectionFilter(g,o,i),d.addEvents(g),g.node.classList.add("apexcharts-marker"),g}},{key:"centerTextInBubble",value:function(e){var t=this.w;return{y:e+=parseInt(t.config.dataLabels.style.fontSize,10)/4}}}]),e}(),N=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w}return u(e,[{key:"dataLabelsCorrection",value:function(e,t,r,n,o,i,a){var s=this.w,l=!1,u=new x(this.ctx).getTextRects(r,a),c=u.width,p=u.height;t<0&&(t=0),t>s.globals.gridHeight+p&&(t=s.globals.gridHeight+p/2),void 0===s.globals.dataLabelsRects[n]&&(s.globals.dataLabelsRects[n]=[]),s.globals.dataLabelsRects[n].push({x:e,y:t,width:c,height:p});var d=s.globals.dataLabelsRects[n].length-2,h=void 0!==s.globals.lastDrawnDataLabelsIndexes[n]?s.globals.lastDrawnDataLabelsIndexes[n][s.globals.lastDrawnDataLabelsIndexes[n].length-1]:0;if(void 0!==s.globals.dataLabelsRects[n][d]){var f=s.globals.dataLabelsRects[n][h];(e>f.x+f.width+2||t>f.y+f.height+2||e+c<f.x)&&(l=!0)}return(0===o||i)&&(l=!0),{x:e,y:t,textRects:u,drawnextLabel:l}}},{key:"drawDataLabel",value:function(e,t,r){var n=this,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2,i=this.w,a=new x(this.ctx),s=i.config.dataLabels,l=0,u=0,c=r,p=null;if(!s.enabled||!Array.isArray(e.x))return p;p=a.group({class:"apexcharts-data-labels"});for(var d=0;d<e.x.length;d++)if(l=e.x[d]+s.offsetX,u=e.y[d]+s.offsetY+o,!isNaN(l)){1===r&&0===d&&(c=0),1===r&&1===d&&(c=1);var h=i.globals.series[t][c],f="",g=function(e){return i.config.dataLabels.formatter(e,{ctx:n.ctx,seriesIndex:t,dataPointIndex:c,w:i})};if("bubble"===i.config.chart.type){f=g(h=i.globals.seriesZ[t][c]),u=e.y[d];var y=new k(this.ctx),v=y.centerTextInBubble(u,t,c);u=v.y}else void 0!==h&&(f=g(h));this.plotDataLabelsText({x:l,y:u,text:f,i:t,j:c,parent:p,offsetCorrection:!0,dataLabelsConfig:i.config.dataLabels})}return p}},{key:"plotDataLabelsText",value:function(e){var t=this.w,r=new x(this.ctx),n=e.x,o=e.y,i=e.i,a=e.j,s=e.text,l=e.textAnchor,u=e.fontSize,c=e.parent,p=e.dataLabelsConfig,d=e.color,h=e.alwaysDrawDataLabel,f=e.offsetCorrection;if(!(Array.isArray(t.config.dataLabels.enabledOnSeries)&&t.config.dataLabels.enabledOnSeries.indexOf(i)<0)){var g={x:n,y:o,drawnextLabel:!0,textRects:null};f&&(g=this.dataLabelsCorrection(n,o,s,i,a,h,parseInt(p.style.fontSize,10))),t.globals.zoomed||(n=g.x,o=g.y),g.textRects&&(n<-10-g.textRects.width||n>t.globals.gridWidth+g.textRects.width+10)&&(s="");var y=t.globals.dataLabels.style.colors[i];(("bar"===t.config.chart.type||"rangeBar"===t.config.chart.type)&&t.config.plotOptions.bar.distributed||t.config.dataLabels.distributed)&&(y=t.globals.dataLabels.style.colors[a]),"function"==typeof y&&(y=y({series:t.globals.series,seriesIndex:i,dataPointIndex:a,w:t})),d&&(y=d);var v=p.offsetX,m=p.offsetY;if("bar"!==t.config.chart.type&&"rangeBar"!==t.config.chart.type||(v=0,m=0),g.drawnextLabel){var b=r.drawText({width:100,height:parseInt(p.style.fontSize,10),x:n+v,y:o+m,foreColor:y,textAnchor:l||p.textAnchor,text:s,fontSize:u||p.style.fontSize,fontFamily:p.style.fontFamily,fontWeight:p.style.fontWeight||"normal"});if(b.attr({class:"apexcharts-datalabel",cx:n,cy:o}),p.dropShadow.enabled){var C=p.dropShadow;new w(this.ctx).dropShadow(b,C)}c.add(b),void 0===t.globals.lastDrawnDataLabelsIndexes[i]&&(t.globals.lastDrawnDataLabelsIndexes[i]=[]),t.globals.lastDrawnDataLabelsIndexes[i].push(a)}}}},{key:"addBackgroundToDataLabel",value:function(e,t){var r=this.w,n=r.config.dataLabels.background,o=n.padding,i=n.padding/2,a=t.width,s=t.height,l=new x(this.ctx).drawRect(t.x-o,t.y-i/2,a+2*o,s+i,n.borderRadius,"transparent"===r.config.chart.background?"#fff":r.config.chart.background,n.opacity,n.borderWidth,n.borderColor);return n.dropShadow.enabled&&new w(this.ctx).dropShadow(l,n.dropShadow),l}},{key:"dataLabelsBackground",value:function(){var e=this.w;if("bubble"!==e.config.chart.type)for(var t=e.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels text"),r=0;r<t.length;r++){var n=t[r],o=n.getBBox(),i=null;if(o.width&&o.height&&(i=this.addBackgroundToDataLabel(n,o)),i){n.parentNode.insertBefore(i.node,n);var a=n.getAttribute("fill");!e.config.chart.animations.enabled||e.globals.resized||e.globals.dataChanged?i.attr({fill:a}):i.animate().attr({fill:a}),n.setAttribute("fill",e.config.dataLabels.background.foreColor)}}}},{key:"bringForward",value:function(){for(var e=this.w,t=e.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels"),r=e.globals.dom.baseEl.querySelector(".apexcharts-plot-series:last-child"),n=0;n<t.length;n++)r&&r.insertBefore(t[n],r.nextSibling)}}]),e}(),I=function(){function e(t){s(this,e),this.w=t.w,this.barCtx=t}return u(e,[{key:"handleBarDataLabels",value:function(e){var t=e.x,r=e.y,n=e.y1,o=e.y2,i=e.i,a=e.j,s=e.realIndex,l=e.series,u=e.barHeight,c=e.barWidth,p=e.barYPosition,d=e.visibleSeries,h=e.renderedPath,f=this.w,g=new x(this.barCtx.ctx),y=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[s]:this.barCtx.strokeWidth,v=t+parseFloat(c*d),m=r+parseFloat(u*d);f.globals.isXNumeric&&!f.globals.isBarHorizontal&&(v=t+parseFloat(c*(d+1)),m=r+parseFloat(u*(d+1))-y);var b,C=t,w=r,S=f.config.dataLabels,E=this.barCtx.barOptions.dataLabels;void 0!==p&&this.barCtx.isRangeBar&&(m=p,w=p);var O=S.offsetX,_=S.offsetY,P={width:0,height:0};if(f.config.dataLabels.enabled){var R=this.barCtx.series[i][a];P=g.getTextRects(f.globals.yLabelFormatters[0](R),parseFloat(S.style.fontSize))}var A={x:t,y:r,i:i,j:a,renderedPath:h,bcx:v,bcy:m,barHeight:u,barWidth:c,textRects:P,strokeWidth:y,dataLabelsX:C,dataLabelsY:w,barDataLabelsConfig:E,offX:O,offY:_};return b=this.barCtx.isHorizontal?this.calculateBarsDataLabelsPosition(A):this.calculateColumnsDataLabelsPosition(A),h.attr({cy:b.bcy,cx:b.bcx,j:a,val:l[i][a],barHeight:u,barWidth:c}),this.drawCalculatedDataLabels({x:b.dataLabelsX,y:b.dataLabelsY,val:this.barCtx.isRangeBar?[n,o]:l[i][a],i:s,j:a,barWidth:c,barHeight:u,textRects:P,dataLabelsConfig:S})}},{key:"calculateColumnsDataLabelsPosition",value:function(e){var t,r=this.w,n=e.i,o=e.j,i=e.y,a=e.bcx,s=e.barWidth,l=e.barHeight,u=e.textRects,c=e.dataLabelsY,p=e.barDataLabelsConfig,d=e.strokeWidth,h=e.offX,f=e.offY;l=Math.abs(l);var g="vertical"===r.config.plotOptions.bar.dataLabels.orientation;a-=d/2;var y=r.globals.gridWidth/r.globals.dataPoints;t=r.globals.isXNumeric?a-s/2+h:a-y+s/2+h,g&&(t=t+u.height/2-d/2-2);var v=this.barCtx.series[n][o]<0,m=i;switch(this.barCtx.isReversed&&(m=i-l+(v?2*l:0),i-=l),p.position){case"center":c=g?v?m+l/2+f:m+l/2-f:v?m-l/2+u.height/2+f:m+l/2+u.height/2-f;break;case"bottom":c=g?v?m+l+f:m+l-f:v?m-l+u.height+d+f:m+l-u.height/2+d-f;break;case"top":c=g?v?m+f:m-f:v?m-u.height/2-f:m+u.height+f}return r.config.chart.stacked||(c<0?c=0+d:c+u.height/3>r.globals.gridHeight&&(c=r.globals.gridHeight-d)),{bcx:a,bcy:i,dataLabelsX:t,dataLabelsY:c}}},{key:"calculateBarsDataLabelsPosition",value:function(e){var t=this.w,r=e.x,n=e.i,o=e.j,i=e.bcy,a=e.barHeight,s=e.barWidth,l=e.textRects,u=e.dataLabelsX,c=e.strokeWidth,p=e.barDataLabelsConfig,d=e.offX,h=e.offY,f=t.globals.gridHeight/t.globals.dataPoints;s=Math.abs(s);var g=i-(this.barCtx.isRangeBar?0:f)+a/2+l.height/2+h-3,y=this.barCtx.series[n][o]<0,v=r;switch(this.barCtx.isReversed&&(v=r+s-(y?2*s:0),r=t.globals.gridWidth-s),p.position){case"center":u=y?v+s/2-d:Math.max(l.width/2,v-s/2)+d;break;case"bottom":u=y?v+s-c-Math.round(l.width/2)-d:v-s+c+Math.round(l.width/2)+d;break;case"top":u=y?v-c+Math.round(l.width/2)-d:v-c-Math.round(l.width/2)+d}return t.config.chart.stacked||(u<0?u=u+l.width+c:u+l.width/2>t.globals.gridWidth&&(u=t.globals.gridWidth-l.width-c)),{bcx:r,bcy:i,dataLabelsX:u,dataLabelsY:g}}},{key:"drawCalculatedDataLabels",value:function(e){var t=e.x,r=e.y,n=e.val,o=e.i,a=e.j,s=e.textRects,l=e.barHeight,u=e.barWidth,c=e.dataLabelsConfig,p=this.w,d="rotate(0)";"vertical"===p.config.plotOptions.bar.dataLabels.orientation&&(d="rotate(-90, ".concat(t,", ").concat(r,")"));var h=new N(this.barCtx.ctx),f=new x(this.barCtx.ctx),g=c.formatter,y=null,v=p.globals.collapsedSeriesIndices.indexOf(o)>-1;if(c.enabled&&!v){y=f.group({class:"apexcharts-data-labels",transform:d});var m="";void 0!==n&&(m=g(n,{seriesIndex:o,dataPointIndex:a,w:p}));var b=p.globals.series[o][a]<0,C=p.config.plotOptions.bar.dataLabels.position;"vertical"===p.config.plotOptions.bar.dataLabels.orientation&&("top"===C&&(c.textAnchor=b?"end":"start"),"center"===C&&(c.textAnchor="middle"),"bottom"===C&&(c.textAnchor=b?"end":"start")),this.barCtx.isRangeBar&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&u<f.getTextRects(m,parseFloat(c.style.fontSize)).width&&(m=""),p.config.chart.stacked&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&(this.barCtx.isHorizontal?s.width/1.6>Math.abs(u)&&(m=""):s.height/1.6>Math.abs(l)&&(m=""));var w=i({},c);this.barCtx.isHorizontal&&n<0&&("start"===c.textAnchor?w.textAnchor="end":"end"===c.textAnchor&&(w.textAnchor="start")),h.plotDataLabelsText({x:t,y:r,text:m,i:o,j:a,parent:y,dataLabelsConfig:w,alwaysDrawDataLabel:!0,offsetCorrection:!0})}return y}}]),e}(),L=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w,this.legendInactiveClass="legend-mouseover-inactive"}return u(e,[{key:"getAllSeriesEls",value:function(){return this.w.globals.dom.baseEl.getElementsByClassName("apexcharts-series")}},{key:"getSeriesByName",value:function(e){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner .apexcharts-series[seriesName='".concat(b.escapeString(e),"']"))}},{key:"isSeriesHidden",value:function(e){var t=this.getSeriesByName(e),r=parseInt(t.getAttribute("data:realIndex"),10);return{isHidden:t.classList.contains("apexcharts-series-collapsed"),realIndex:r}}},{key:"addCollapsedClassToSeries",value:function(e,t){var r=this.w;function n(r){for(var n=0;n<r.length;n++)r[n].index===t&&e.node.classList.add("apexcharts-series-collapsed")}n(r.globals.collapsedSeries),n(r.globals.ancillaryCollapsedSeries)}},{key:"toggleSeries",value:function(e){var t=this.isSeriesHidden(e);return this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,t.isHidden),t.isHidden}},{key:"showSeries",value:function(e){var t=this.isSeriesHidden(e);t.isHidden&&this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,!0)}},{key:"hideSeries",value:function(e){var t=this.isSeriesHidden(e);t.isHidden||this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,!1)}},{key:"resetSeries",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=this.w,o=b.clone(n.globals.initialSeries);n.globals.previousPaths=[],r?(n.globals.collapsedSeries=[],n.globals.ancillaryCollapsedSeries=[],n.globals.collapsedSeriesIndices=[],n.globals.ancillaryCollapsedSeriesIndices=[]):o=this.emptyCollapsedSeries(o),n.config.series=o,e&&(t&&(n.globals.zoomed=!1,this.ctx.updateHelpers.revertDefaultAxisMinMax()),this.ctx.updateHelpers._updateSeries(o,n.config.chart.animations.dynamicAnimation.enabled))}},{key:"emptyCollapsedSeries",value:function(e){for(var t=this.w,r=0;r<e.length;r++)t.globals.collapsedSeriesIndices.indexOf(r)>-1&&(e[r].data=[]);return e}},{key:"toggleSeriesOnHover",value:function(e,t){var r=this.w;t||(t=e.target);var n=r.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels");if("mousemove"===e.type){var o=parseInt(t.getAttribute("rel"),10)-1,i=null,a=null;r.globals.axisCharts||"radialBar"===r.config.chart.type?r.globals.axisCharts?(i=r.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(o,"']")),a=r.globals.dom.baseEl.querySelector(".apexcharts-datalabels[data\\:realIndex='".concat(o,"']"))):i=r.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(o+1,"']")):i=r.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(o+1,"'] path"));for(var s=0;s<n.length;s++)n[s].classList.add(this.legendInactiveClass);null!==i&&(r.globals.axisCharts||i.parentNode.classList.remove(this.legendInactiveClass),i.classList.remove(this.legendInactiveClass),null!==a&&a.classList.remove(this.legendInactiveClass))}else if("mouseout"===e.type)for(var l=0;l<n.length;l++)n[l].classList.remove(this.legendInactiveClass)}},{key:"highlightRangeInSeries",value:function(e,t){var r=this,n=this.w,o=n.globals.dom.baseEl.getElementsByClassName("apexcharts-heatmap-rect"),i=function(e){for(var t=0;t<o.length;t++)o[t].classList[e](r.legendInactiveClass)};if("mousemove"===e.type){var a=parseInt(t.getAttribute("rel"),10)-1;i("add"),function(e){for(var t=0;t<o.length;t++){var n=parseInt(o[t].getAttribute("val"),10);n>=e.from&&n<=e.to&&o[t].classList.remove(r.legendInactiveClass)}}(n.config.plotOptions.heatmap.colorScale.ranges[a])}else"mouseout"===e.type&&i("remove")}},{key:"getActiveConfigSeriesIndex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",r=this.w,n=0;if(r.config.series.length>1)for(var o=r.config.series.map((function(t,n){var o=!1;return e&&(o="bar"===r.config.series[n].type||"column"===r.config.series[n].type),t.data&&t.data.length>0&&!o?n:-1})),i="asc"===t?0:o.length-1;"asc"===t?i<o.length:i>=0;"asc"===t?i++:i--)if(-1!==o[i]){n=o[i];break}return n}},{key:"getPreviousPaths",value:function(){var e=this.w;function t(t,r,n){for(var o=t[r].childNodes,i={type:n,paths:[],realIndex:t[r].getAttribute("data:realIndex")},a=0;a<o.length;a++)if(o[a].hasAttribute("pathTo")){var s=o[a].getAttribute("pathTo");i.paths.push({d:s})}e.globals.previousPaths.push(i)}e.globals.previousPaths=[],["line","area","bar","rangebar","candlestick","radar"].forEach((function(r){for(var n,o=(n=r,e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(n,"-series .apexcharts-series"))),i=0;i<o.length;i++)t(o,i,r)})),this.handlePrevBubbleScatterPaths("bubble"),this.handlePrevBubbleScatterPaths("scatter");var r=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(e.config.chart.type," .apexcharts-series"));if(r.length>0)for(var n=function(t){for(var r=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(e.config.chart.type," .apexcharts-series[data\\:realIndex='").concat(t,"'] rect")),n=[],o=function(e){var t=function(t){return r[e].getAttribute(t)},o={x:parseFloat(t("x")),y:parseFloat(t("y")),width:parseFloat(t("width")),height:parseFloat(t("height"))};n.push({rect:o,color:r[e].getAttribute("color")})},i=0;i<r.length;i++)o(i);e.globals.previousPaths.push(n)},o=0;o<r.length;o++)n(o);e.globals.axisCharts||(e.globals.previousPaths=e.globals.series)}},{key:"handlePrevBubbleScatterPaths",value:function(e){var t=this.w,r=t.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(e,"-series .apexcharts-series"));if(r.length>0)for(var n=0;n<r.length;n++){for(var o=t.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(e,"-series .apexcharts-series[data\\:realIndex='").concat(n,"'] circle")),i=[],a=0;a<o.length;a++)i.push({x:o[a].getAttribute("cx"),y:o[a].getAttribute("cy"),r:o[a].getAttribute("r")});t.globals.previousPaths.push(i)}}},{key:"clearPreviousPaths",value:function(){var e=this.w;e.globals.previousPaths=[],e.globals.allSeriesCollapsed=!1}},{key:"handleNoData",value:function(){var e=this.w,t=e.config.noData,r=new x(this.ctx),n=e.globals.svgWidth/2,o=e.globals.svgHeight/2,i="middle";if(e.globals.noData=!0,e.globals.animationEnded=!0,"left"===t.align?(n=10,i="start"):"right"===t.align&&(n=e.globals.svgWidth-10,i="end"),"top"===t.verticalAlign?o=50:"bottom"===t.verticalAlign&&(o=e.globals.svgHeight-50),n+=t.offsetX,o=o+parseInt(t.style.fontSize,10)+2+t.offsetY,void 0!==t.text&&""!==t.text){var a=r.drawText({x:n,y:o,text:t.text,textAnchor:i,fontSize:t.style.fontSize,fontFamily:t.style.fontFamily,foreColor:t.style.color,opacity:1,class:"apexcharts-text-nodata"});e.globals.dom.Paper.add(a)}}},{key:"setNullSeriesToZeroValues",value:function(e){for(var t=this.w,r=0;r<e.length;r++)if(0===e[r].length)for(var n=0;n<e[t.globals.maxValsInArrayIndex].length;n++)e[r].push(0);return e}},{key:"hasAllSeriesEqualX",value:function(){for(var e=!0,t=this.w,r=this.filteredSeriesX(),n=0;n<r.length-1;n++)if(r[n][0]!==r[n+1][0]){e=!1;break}return t.globals.allSeriesHasEqualX=e,e}},{key:"filteredSeriesX",value:function(){return this.w.globals.seriesX.map((function(e){return e.length>0?e:[]}))}}]),e}(),F=function(){function e(t){s(this,e),this.w=t.w,this.barCtx=t}return u(e,[{key:"initVariables",value:function(e){var t=this.w;this.barCtx.series=e,this.barCtx.totalItems=0,this.barCtx.seriesLen=0,this.barCtx.visibleI=-1,this.barCtx.visibleItems=1;for(var r=0;r<e.length;r++)if(e[r].length>0&&(this.barCtx.seriesLen=this.barCtx.seriesLen+1,this.barCtx.totalItems+=e[r].length),t.globals.isXNumeric)for(var n=0;n<e[r].length;n++)t.globals.seriesX[r][n]>t.globals.minX&&t.globals.seriesX[r][n]<t.globals.maxX&&this.barCtx.visibleItems++;else this.barCtx.visibleItems=t.globals.dataPoints;0===this.barCtx.seriesLen&&(this.barCtx.seriesLen=1),this.barCtx.zeroSerieses=[],this.barCtx.radiusOnSeriesNumber=e.length-1,t.globals.comboCharts||this.checkZeroSeries({series:e})}},{key:"initialPositions",value:function(){var e,t,r,n,o,i,a,s,l=this.w,u=l.globals.dataPoints;this.barCtx.isRangeBar&&(u=l.globals.labels.length);var c=this.barCtx.seriesLen;if(l.config.plotOptions.bar.rangeBarGroupRows&&(c=1),this.barCtx.isHorizontal)o=(r=l.globals.gridHeight/u)/c,l.globals.isXNumeric&&(o=(r=l.globals.gridHeight/this.barCtx.totalItems)/this.barCtx.seriesLen),o=o*parseInt(this.barCtx.barOptions.barHeight,10)/100,s=this.barCtx.baseLineInvertedY+l.globals.padHorizontal+(this.barCtx.isReversed?l.globals.gridWidth:0)-(this.barCtx.isReversed?2*this.barCtx.baseLineInvertedY:0),t=(r-o*this.barCtx.seriesLen)/2;else{if(n=l.globals.gridWidth/this.barCtx.visibleItems,l.config.xaxis.convertedCatToNumeric&&(n=l.globals.gridWidth/l.globals.dataPoints),i=n/this.barCtx.seriesLen*parseInt(this.barCtx.barOptions.columnWidth,10)/100,l.globals.isXNumeric){var p=this.barCtx.xRatio;l.config.xaxis.convertedCatToNumeric&&(p=this.barCtx.initialXRatio),l.globals.minXDiff&&.5!==l.globals.minXDiff&&l.globals.minXDiff/p>0&&(n=l.globals.minXDiff/p),(i=n/this.barCtx.seriesLen*parseInt(this.barCtx.barOptions.columnWidth,10)/100)<1&&(i=1)}a=l.globals.gridHeight-this.barCtx.baseLineY[this.barCtx.yaxisIndex]-(this.barCtx.isReversed?l.globals.gridHeight:0)+(this.barCtx.isReversed?2*this.barCtx.baseLineY[this.barCtx.yaxisIndex]:0),e=l.globals.padHorizontal+(n-i*this.barCtx.seriesLen)/2}return{x:e,y:t,yDivision:r,xDivision:n,barHeight:o,barWidth:i,zeroH:a,zeroW:s}}},{key:"getPathFillColor",value:function(e,t,r,n){var o=this.w,i=new D(this.barCtx.ctx),a=null,s=this.barCtx.barOptions.distributed?r:t;return this.barCtx.barOptions.colors.ranges.length>0&&this.barCtx.barOptions.colors.ranges.map((function(n){e[t][r]>=n.from&&e[t][r]<=n.to&&(a=n.color)})),o.config.series[t].data[r]&&o.config.series[t].data[r].fillColor&&(a=o.config.series[t].data[r].fillColor),i.fillPath({seriesNumber:this.barCtx.barOptions.distributed?s:n,dataPointIndex:r,color:a,value:e[t][r]})}},{key:"getStrokeWidth",value:function(e,t,r){var n=0,o=this.w;return void 0===this.barCtx.series[e][t]||null===this.barCtx.series[e][t]?this.barCtx.isNullValue=!0:this.barCtx.isNullValue=!1,o.config.stroke.show&&(this.barCtx.isNullValue||(n=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[r]:this.barCtx.strokeWidth)),n}},{key:"barBackground",value:function(e){var t=e.j,r=e.i,n=e.x1,o=e.x2,i=e.y1,a=e.y2,s=e.elSeries,l=this.w,u=new x(this.barCtx.ctx),c=new L(this.barCtx.ctx).getActiveConfigSeriesIndex();if(this.barCtx.barOptions.colors.backgroundBarColors.length>0&&c===r){t>=this.barCtx.barOptions.colors.backgroundBarColors.length&&(t%=this.barCtx.barOptions.colors.backgroundBarColors.length);var p=this.barCtx.barOptions.colors.backgroundBarColors[t],d=u.drawRect(void 0!==n?n:0,void 0!==i?i:0,void 0!==o?o:l.globals.gridWidth,void 0!==a?a:l.globals.gridHeight,this.barCtx.barOptions.colors.backgroundBarRadius,p,this.barCtx.barOptions.colors.backgroundBarOpacity);s.add(d),d.node.classList.add("apexcharts-backgroundBar")}}},{key:"getColumnPaths",value:function(e){var t=e.barWidth,r=e.barXPosition,n=e.yRatio,o=e.y1,i=e.y2,a=e.strokeWidth,s=e.series,l=e.realIndex,u=e.i,c=e.j,p=e.w,d=new x(this.barCtx.ctx);(a=Array.isArray(a)?a[l]:a)||(a=0);var h={barWidth:t,strokeWidth:a,yRatio:n,barXPosition:r,y1:o,y2:i},f=this.getRoundedBars(p,h,s,u,c),g=r,y=r+t,v=d.move(g,o),m=d.move(g,o),b=d.line(y-a,o);return p.globals.previousPaths.length>0&&(m=this.barCtx.getPreviousPath(l,c,!1)),v=v+d.line(g,f.y2)+f.pathWithRadius+d.line(y-a,f.y2)+b+b+"z",m=m+d.line(g,o)+b+b+b+b+b+d.line(g,o),p.config.chart.stacked&&(this.barCtx.yArrj.push(f.y2),this.barCtx.yArrjF.push(Math.abs(o-f.y2)),this.barCtx.yArrjVal.push(this.barCtx.series[u][c])),{pathTo:v,pathFrom:m}}},{key:"getBarpaths",value:function(e){var t=e.barYPosition,r=e.barHeight,n=e.x1,o=e.x2,i=e.strokeWidth,a=e.series,s=e.realIndex,l=e.i,u=e.j,c=e.w,p=new x(this.barCtx.ctx);(i=Array.isArray(i)?i[s]:i)||(i=0);var d={barHeight:r,strokeWidth:i,barYPosition:t,x2:o,x1:n},h=this.getRoundedBars(c,d,a,l,u),f=p.move(n,t),g=p.move(n,t);c.globals.previousPaths.length>0&&(g=this.barCtx.getPreviousPath(s,u,!1));var y=t,v=t+r,m=p.line(n,v-i);return f=f+p.line(h.x2,y)+h.pathWithRadius+p.line(h.x2,v-i)+m+m+"z",g=g+p.line(n,y)+m+m+m+m+m+p.line(n,y),c.config.chart.stacked&&(this.barCtx.xArrj.push(h.x2),this.barCtx.xArrjF.push(Math.abs(n-h.x2)),this.barCtx.xArrjVal.push(this.barCtx.series[l][u])),{pathTo:f,pathFrom:g}}},{key:"getRoundedBars",value:function(e,t,r,n,o){var i=new x(this.barCtx.ctx),a=0,s=e.config.plotOptions.bar.borderRadius,l=Array.isArray(s);if(a=l?s[n>s.length-1?s.length-1:n]:s,e.config.chart.stacked&&r.length>1&&n!==this.barCtx.radiusOnSeriesNumber&&!l&&(a=0),this.barCtx.isHorizontal){var u="",c=t.x2;if(Math.abs(t.x1-t.x2)<a&&(a=Math.abs(t.x1-t.x2)),void 0!==r[n][o]||null!==r[n][o]){var p=this.barCtx.isReversed?r[n][o]>0:r[n][o]<0;p&&(a*=-1),c-=a,u=i.quadraticCurve(c+a,t.barYPosition,c+a,t.barYPosition+(p?-1*a:a))+i.line(c+a,t.barYPosition+t.barHeight-t.strokeWidth-(p?-1*a:a))+i.quadraticCurve(c+a,t.barYPosition+t.barHeight-t.strokeWidth,c,t.barYPosition+t.barHeight-t.strokeWidth)}return{pathWithRadius:u,x2:c}}var d="",h=t.y2;if(Math.abs(t.y1-t.y2)<a&&(a=Math.abs(t.y1-t.y2)),void 0!==r[n][o]||null!==r[n][o]){var f=r[n][o]<0;f&&(a*=-1),h+=a,d=i.quadraticCurve(t.barXPosition,h-a,t.barXPosition+(f?-1*a:a),h-a)+i.line(t.barXPosition+t.barWidth-t.strokeWidth-(f?-1*a:a),h-a)+i.quadraticCurve(t.barXPosition+t.barWidth-t.strokeWidth,h-a,t.barXPosition+t.barWidth-t.strokeWidth,h)}return{pathWithRadius:d,y2:h}}},{key:"checkZeroSeries",value:function(e){for(var t=e.series,r=this.w,n=0;n<t.length;n++){for(var o=0,i=0;i<t[r.globals.maxValsInArrayIndex].length;i++)o+=t[n][i];0===o&&this.barCtx.zeroSerieses.push(n)}for(var a=t.length-1;a>=0;a--)this.barCtx.zeroSerieses.indexOf(a)>-1&&a===this.radiusOnSeriesNumber&&(this.barCtx.radiusOnSeriesNumber-=1);for(var s=t.length-1;s>=0;s--)r.globals.collapsedSeriesIndices.indexOf(this.barCtx.radiusOnSeriesNumber)>-1&&(this.barCtx.radiusOnSeriesNumber-=1)}},{key:"getXForValue",value:function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=r?t:null;return null!=e&&(n=t+e/this.barCtx.invertedYRatio-2*(this.barCtx.isReversed?e/this.barCtx.invertedYRatio:0)),n}},{key:"getYForValue",value:function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=r?t:null;return null!=e&&(n=t-e/this.barCtx.yRatio[this.barCtx.yaxisIndex]+2*(this.barCtx.isReversed?e/this.barCtx.yRatio[this.barCtx.yaxisIndex]:0)),n}},{key:"getGoalValues",value:function(e,t,r,n,o){var i=this,a=this.w,s=[];return a.globals.seriesGoals[n]&&a.globals.seriesGoals[n][o]&&Array.isArray(a.globals.seriesGoals[n][o])&&a.globals.seriesGoals[n][o].forEach((function(n){var o;s.push((c(o={},e,"x"===e?i.getXForValue(n.value,t,!1):i.getYForValue(n.value,r,!1)),c(o,"attrs",n),o))})),s}},{key:"drawGoalLine",value:function(e){var t=e.barXPosition,r=e.barYPosition,n=e.goalX,o=e.goalY,i=e.barWidth,a=e.barHeight,s=new x(this.barCtx.ctx),l=s.group({className:"apexcharts-bar-goals-groups"}),u=null;return this.barCtx.isHorizontal?Array.isArray(n)&&n.forEach((function(e){var t=void 0!==e.attrs.strokeHeight?e.attrs.strokeHeight:a/2,n=r+t+a/2;u=s.drawLine(e.x,n-2*t,e.x,n,e.attrs.strokeColor?e.attrs.strokeColor:void 0,e.attrs.strokeDashArray,e.attrs.strokeWidth?e.attrs.strokeWidth:2,e.attrs.strokeLineCap),l.add(u)})):Array.isArray(o)&&o.forEach((function(e){var r=void 0!==e.attrs.strokeWidth?e.attrs.strokeWidth:i/2,n=t+r+i/2;u=s.drawLine(n-2*r,e.y,n,e.y,e.attrs.strokeColor?e.attrs.strokeColor:void 0,e.attrs.strokeDashArray,e.attrs.strokeHeight?e.attrs.strokeHeight:2,e.attrs.strokeLineCap),l.add(u)})),l}}]),e}(),G=function(){function e(t,r){s(this,e),this.ctx=t,this.w=t.w;var n=this.w;this.barOptions=n.config.plotOptions.bar,this.isHorizontal=this.barOptions.horizontal,this.strokeWidth=n.config.stroke.width,this.isNullValue=!1,this.isRangeBar=n.globals.seriesRangeBar.length&&this.isHorizontal,this.xyRatios=r,null!==this.xyRatios&&(this.xRatio=r.xRatio,this.initialXRatio=r.initialXRatio,this.yRatio=r.yRatio,this.invertedXRatio=r.invertedXRatio,this.invertedYRatio=r.invertedYRatio,this.baseLineY=r.baseLineY,this.baseLineInvertedY=r.baseLineInvertedY),this.yaxisIndex=0,this.seriesLen=0,this.barHelpers=new F(this)}return u(e,[{key:"draw",value:function(e,t){var r=this.w,n=new x(this.ctx),o=new S(this.ctx,r);e=o.getLogSeries(e),this.series=e,this.yRatio=o.getLogYRatios(this.yRatio),this.barHelpers.initVariables(e);var a=n.group({class:"apexcharts-bar-series apexcharts-plot-series"});r.config.dataLabels.enabled&&this.totalItems>this.barOptions.dataLabels.maxItems&&console.warn("WARNING: DataLabels are enabled but there are too many to display. This may cause performance issue when rendering.");for(var s=0,l=0;s<e.length;s++,l++){var u,c,p,d,h=void 0,f=void 0,g=[],y=[],v=r.globals.comboCharts?t[s]:s,m=n.group({class:"apexcharts-series",rel:s+1,seriesName:b.escapeString(r.globals.seriesNames[v]),"data:realIndex":v});this.ctx.series.addCollapsedClassToSeries(m,v),e[s].length>0&&(this.visibleI=this.visibleI+1);var C=0,w=0;this.yRatio.length>1&&(this.yaxisIndex=v),this.isReversed=r.config.yaxis[this.yaxisIndex]&&r.config.yaxis[this.yaxisIndex].reversed;var E=this.barHelpers.initialPositions();f=E.y,C=E.barHeight,c=E.yDivision,d=E.zeroW,h=E.x,w=E.barWidth,u=E.xDivision,p=E.zeroH,this.horizontal||y.push(h+w/2);for(var O=n.group({class:"apexcharts-datalabels","data:realIndex":v}),_=n.group({class:"apexcharts-bar-goals-markers",style:"pointer-events: none"}),P=0;P<r.globals.dataPoints;P++){var R=this.barHelpers.getStrokeWidth(s,P,v),A=null,T={indexes:{i:s,j:P,realIndex:v,bc:l},x:h,y:f,strokeWidth:R,elSeries:m};this.isHorizontal?(A=this.drawBarPaths(i(i({},T),{},{barHeight:C,zeroW:d,yDivision:c})),w=this.series[s][P]/this.invertedYRatio):(A=this.drawColumnPaths(i(i({},T),{},{xDivision:u,barWidth:w,zeroH:p})),C=this.series[s][P]/this.yRatio[this.yaxisIndex]);var D=this.barHelpers.drawGoalLine({barXPosition:A.barXPosition,barYPosition:A.barYPosition,goalX:A.goalX,goalY:A.goalY,barHeight:C,barWidth:w});D&&_.add(D),f=A.y,h=A.x,P>0&&y.push(h+w/2),g.push(f);var M=this.barHelpers.getPathFillColor(e,s,P,v);this.renderSeries({realIndex:v,pathFill:M,j:P,i:s,pathFrom:A.pathFrom,pathTo:A.pathTo,strokeWidth:R,elSeries:m,x:h,y:f,series:e,barHeight:C,barWidth:w,elDataLabelsWrap:O,elGoalsMarkers:_,visibleSeries:this.visibleI,type:"bar"})}r.globals.seriesXvalues[v]=y,r.globals.seriesYvalues[v]=g,a.add(m)}return a}},{key:"renderSeries",value:function(e){var t=e.realIndex,r=e.pathFill,n=e.lineFill,o=e.j,i=e.i,a=e.pathFrom,s=e.pathTo,l=e.strokeWidth,u=e.elSeries,c=e.x,p=e.y,d=e.y1,h=e.y2,f=e.series,g=e.barHeight,y=e.barWidth,v=e.barYPosition,m=e.elDataLabelsWrap,b=e.elGoalsMarkers,C=e.visibleSeries,S=e.type,E=this.w,O=new x(this.ctx);n||(n=this.barOptions.distributed?E.globals.stroke.colors[o]:E.globals.stroke.colors[t]),E.config.series[i].data[o]&&E.config.series[i].data[o].strokeColor&&(n=E.config.series[i].data[o].strokeColor),this.isNullValue&&(r="none");var _=o/E.config.chart.animations.animateGradually.delay*(E.config.chart.animations.speed/E.globals.dataPoints)/2.4,P=O.renderPaths({i:i,j:o,realIndex:t,pathFrom:a,pathTo:s,stroke:n,strokeWidth:l,strokeLineCap:E.config.stroke.lineCap,fill:r,animationDelay:_,initialSpeed:E.config.chart.animations.speed,dataChangeSpeed:E.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(S,"-area")});P.attr("clip-path","url(#gridRectMask".concat(E.globals.cuid,")"));var R=E.config.forecastDataPoints;R.count>0&&o>=E.globals.dataPoints-R.count&&(P.node.setAttribute("stroke-dasharray",R.dashArray),P.node.setAttribute("stroke-width",R.strokeWidth),P.node.setAttribute("fill-opacity",R.fillOpacity)),void 0!==d&&void 0!==h&&(P.attr("data-range-y1",d),P.attr("data-range-y2",h)),new w(this.ctx).setSelectionFilter(P,t,o),u.add(P);var A=new I(this).handleBarDataLabels({x:c,y:p,y1:d,y2:h,i:i,j:o,series:f,realIndex:t,barHeight:g,barWidth:y,barYPosition:v,renderedPath:P,visibleSeries:C});return null!==A&&m.add(A),u.add(m),b&&u.add(b),u}},{key:"drawBarPaths",value:function(e){var t=e.indexes,r=e.barHeight,n=e.strokeWidth,o=e.zeroW,i=e.x,a=e.y,s=e.yDivision,l=e.elSeries,u=this.w,c=t.i,p=t.j;u.globals.isXNumeric&&(a=(u.globals.seriesX[c][p]-u.globals.minX)/this.invertedXRatio-r);var d=a+r*this.visibleI;i=this.barHelpers.getXForValue(this.series[c][p],o);var h=this.barHelpers.getBarpaths({barYPosition:d,barHeight:r,x1:o,x2:i,strokeWidth:n,series:this.series,realIndex:t.realIndex,i:c,j:p,w:u});return u.globals.isXNumeric||(a+=s),this.barHelpers.barBackground({j:p,i:c,y1:d-r*this.visibleI,y2:r*this.seriesLen,elSeries:l}),{pathTo:h.pathTo,pathFrom:h.pathFrom,x:i,y:a,goalX:this.barHelpers.getGoalValues("x",o,null,c,p),barYPosition:d}}},{key:"drawColumnPaths",value:function(e){var t=e.indexes,r=e.x,n=e.y,o=e.xDivision,i=e.barWidth,a=e.zeroH,s=e.strokeWidth,l=e.elSeries,u=this.w,c=t.realIndex,p=t.i,d=t.j,h=t.bc;if(u.globals.isXNumeric){var f=c;u.globals.seriesX[c].length||(f=u.globals.maxValsInArrayIndex),r=(u.globals.seriesX[f][d]-u.globals.minX)/this.xRatio-i*this.seriesLen/2}var g=r+i*this.visibleI;n=this.barHelpers.getYForValue(this.series[p][d],a);var y=this.barHelpers.getColumnPaths({barXPosition:g,barWidth:i,y1:a,y2:n,strokeWidth:s,series:this.series,realIndex:t.realIndex,i:p,j:d,w:u});return u.globals.isXNumeric||(r+=o),this.barHelpers.barBackground({bc:h,j:d,i:p,x1:g-s/2-i*this.visibleI,x2:i*this.seriesLen+s/2,elSeries:l}),{pathTo:y.pathTo,pathFrom:y.pathFrom,x:r,y:n,goalY:this.barHelpers.getGoalValues("y",null,a,p,d),barXPosition:g}}},{key:"getPreviousPath",value:function(e,t){for(var r,n=this.w,o=0;o<n.globals.previousPaths.length;o++){var i=n.globals.previousPaths[o];i.paths&&i.paths.length>0&&parseInt(i.realIndex,10)===parseInt(e,10)&&void 0!==n.globals.previousPaths[o].paths[t]&&(r=n.globals.previousPaths[o].paths[t].d)}return r}}]),e}(),B=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w,this.months31=[1,3,5,7,8,10,12],this.months30=[2,4,6,9,11],this.daysCntOfYear=[0,31,59,90,120,151,181,212,243,273,304,334]}return u(e,[{key:"isValidDate",value:function(e){return!isNaN(this.parseDate(e))}},{key:"getTimeStamp",value:function(e){return Date.parse(e)?this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(e).toISOString().substr(0,25)).getTime():new Date(e).getTime():e}},{key:"getDate",value:function(e){return this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(e).toUTCString()):new Date(e)}},{key:"parseDate",value:function(e){var t=Date.parse(e);if(!isNaN(t))return this.getTimeStamp(e);var r=Date.parse(e.replace(/-/g,"/").replace(/[a-z]+/gi," "));return this.getTimeStamp(r)}},{key:"parseDateWithTimezone",value:function(e){return Date.parse(e.replace(/-/g,"/").replace(/[a-z]+/gi," "))}},{key:"formatDate",value:function(e,t){var r=this.w.globals.locale,n=this.w.config.xaxis.labels.datetimeUTC,o=["\0"].concat(y(r.months)),i=["\x01"].concat(y(r.shortMonths)),a=["\x02"].concat(y(r.days)),s=["\x03"].concat(y(r.shortDays));function l(e,t){var r=e+"";for(t=t||2;r.length<t;)r="0"+r;return r}var u=n?e.getUTCFullYear():e.getFullYear();t=(t=(t=t.replace(/(^|[^\\])yyyy+/g,"$1"+u)).replace(/(^|[^\\])yy/g,"$1"+u.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+u);var c=(n?e.getUTCMonth():e.getMonth())+1;t=(t=(t=(t=t.replace(/(^|[^\\])MMMM+/g,"$1"+o[0])).replace(/(^|[^\\])MMM/g,"$1"+i[0])).replace(/(^|[^\\])MM/g,"$1"+l(c))).replace(/(^|[^\\])M/g,"$1"+c);var p=n?e.getUTCDate():e.getDate();t=(t=(t=(t=t.replace(/(^|[^\\])dddd+/g,"$1"+a[0])).replace(/(^|[^\\])ddd/g,"$1"+s[0])).replace(/(^|[^\\])dd/g,"$1"+l(p))).replace(/(^|[^\\])d/g,"$1"+p);var d=n?e.getUTCHours():e.getHours(),h=d>12?d-12:0===d?12:d;t=(t=(t=(t=t.replace(/(^|[^\\])HH+/g,"$1"+l(d))).replace(/(^|[^\\])H/g,"$1"+d)).replace(/(^|[^\\])hh+/g,"$1"+l(h))).replace(/(^|[^\\])h/g,"$1"+h);var f=n?e.getUTCMinutes():e.getMinutes();t=(t=t.replace(/(^|[^\\])mm+/g,"$1"+l(f))).replace(/(^|[^\\])m/g,"$1"+f);var g=n?e.getUTCSeconds():e.getSeconds();t=(t=t.replace(/(^|[^\\])ss+/g,"$1"+l(g))).replace(/(^|[^\\])s/g,"$1"+g);var v=n?e.getUTCMilliseconds():e.getMilliseconds();t=t.replace(/(^|[^\\])fff+/g,"$1"+l(v,3)),v=Math.round(v/10),t=t.replace(/(^|[^\\])ff/g,"$1"+l(v)),v=Math.round(v/10);var m=d<12?"AM":"PM";t=(t=(t=t.replace(/(^|[^\\])f/g,"$1"+v)).replace(/(^|[^\\])TT+/g,"$1"+m)).replace(/(^|[^\\])T/g,"$1"+m.charAt(0));var b=m.toLowerCase();t=(t=t.replace(/(^|[^\\])tt+/g,"$1"+b)).replace(/(^|[^\\])t/g,"$1"+b.charAt(0));var C=-e.getTimezoneOffset(),w=n||!C?"Z":C>0?"+":"-";if(!n){var x=(C=Math.abs(C))%60;w+=l(Math.floor(C/60))+":"+l(x)}t=t.replace(/(^|[^\\])K/g,"$1"+w);var S=(n?e.getUTCDay():e.getDay())+1;return(t=(t=(t=(t=t.replace(new RegExp(a[0],"g"),a[S])).replace(new RegExp(s[0],"g"),s[S])).replace(new RegExp(o[0],"g"),o[c])).replace(new RegExp(i[0],"g"),i[c])).replace(/\\(.)/g,"$1")}},{key:"getTimeUnitsfromTimestamp",value:function(e,t,r){var n=this.w;void 0!==n.config.xaxis.min&&(e=n.config.xaxis.min),void 0!==n.config.xaxis.max&&(t=n.config.xaxis.max);var o=this.getDate(e),i=this.getDate(t),a=this.formatDate(o,"yyyy MM dd HH mm ss fff").split(" "),s=this.formatDate(i,"yyyy MM dd HH mm ss fff").split(" ");return{minMillisecond:parseInt(a[6],10),maxMillisecond:parseInt(s[6],10),minSecond:parseInt(a[5],10),maxSecond:parseInt(s[5],10),minMinute:parseInt(a[4],10),maxMinute:parseInt(s[4],10),minHour:parseInt(a[3],10),maxHour:parseInt(s[3],10),minDate:parseInt(a[2],10),maxDate:parseInt(s[2],10),minMonth:parseInt(a[1],10)-1,maxMonth:parseInt(s[1],10)-1,minYear:parseInt(a[0],10),maxYear:parseInt(s[0],10)}}},{key:"isLeapYear",value:function(e){return e%4==0&&e%100!=0||e%400==0}},{key:"calculcateLastDaysOfMonth",value:function(e,t,r){return this.determineDaysOfMonths(e,t)-r}},{key:"determineDaysOfYear",value:function(e){var t=365;return this.isLeapYear(e)&&(t=366),t}},{key:"determineRemainingDaysOfYear",value:function(e,t,r){var n=this.daysCntOfYear[t]+r;return t>1&&this.isLeapYear()&&n++,n}},{key:"determineDaysOfMonths",value:function(e,t){var r=30;switch(e=b.monthMod(e),!0){case this.months30.indexOf(e)>-1:2===e&&(r=this.isLeapYear(t)?29:28);break;case this.months31.indexOf(e)>-1:default:r=31}return r}}]),e}(),W=function(e){p(r,G);var t=g(r);function r(){return s(this,r),t.apply(this,arguments)}return u(r,[{key:"draw",value:function(e,t){var r=this.w,n=new x(this.ctx);this.rangeBarOptions=this.w.config.plotOptions.rangeBar,this.series=e,this.seriesRangeStart=r.globals.seriesRangeStart,this.seriesRangeEnd=r.globals.seriesRangeEnd,this.barHelpers.initVariables(e);for(var o=n.group({class:"apexcharts-rangebar-series apexcharts-plot-series"}),a=0;a<e.length;a++){var s,l,u,c=void 0,p=void 0,d=void 0,h=r.globals.comboCharts?t[a]:a,f=n.group({class:"apexcharts-series",seriesName:b.escapeString(r.globals.seriesNames[h]),rel:a+1,"data:realIndex":h});this.ctx.series.addCollapsedClassToSeries(f,h),e[a].length>0&&(this.visibleI=this.visibleI+1);var g=0,y=0;this.yRatio.length>1&&(this.yaxisIndex=h);var v=this.barHelpers.initialPositions();p=v.y,u=v.zeroW,c=v.x,y=v.barWidth,s=v.xDivision,l=v.zeroH;for(var m=n.group({class:"apexcharts-datalabels","data:realIndex":h}),C=n.group({class:"apexcharts-rangebar-goals-markers",style:"pointer-events: none"}),w=0;w<r.globals.dataPoints;w++){var S=this.barHelpers.getStrokeWidth(a,w,h),E=this.seriesRangeStart[a][w],O=this.seriesRangeEnd[a][w],_=null,P=null,R={x:c,y:p,strokeWidth:S,elSeries:f};if(d=v.yDivision,g=v.barHeight,this.isHorizontal){P=p+g*this.visibleI;var A=this.seriesLen;r.config.plotOptions.bar.rangeBarGroupRows&&(A=1);var T=(d-g*A)/2;if(void 0===r.config.series[a].data[w])break;if(r.config.series[a].data[w].x){var D=this.detectOverlappingBars({i:a,j:w,barYPosition:P,srty:T,barHeight:g,yDivision:d,initPositions:v});g=D.barHeight,P=D.barYPosition}y=(_=this.drawRangeBarPaths(i({indexes:{i:a,j:w,realIndex:h},barHeight:g,barYPosition:P,zeroW:u,yDivision:d,y1:E,y2:O},R))).barWidth}else g=(_=this.drawRangeColumnPaths(i({indexes:{i:a,j:w,realIndex:h},zeroH:l,barWidth:y,xDivision:s},R))).barHeight;var M=this.barHelpers.drawGoalLine({barXPosition:_.barXPosition,barYPosition:P,goalX:_.goalX,goalY:_.goalY,barHeight:g,barWidth:y});M&&C.add(M),p=_.y,c=_.x;var k=this.barHelpers.getPathFillColor(e,a,w,h),N=r.globals.stroke.colors[h];this.renderSeries({realIndex:h,pathFill:k,lineFill:N,j:w,i:a,x:c,y:p,y1:E,y2:O,pathFrom:_.pathFrom,pathTo:_.pathTo,strokeWidth:S,elSeries:f,series:e,barHeight:g,barYPosition:P,barWidth:y,elDataLabelsWrap:m,elGoalsMarkers:C,visibleSeries:this.visibleI,type:"rangebar"})}o.add(f)}return o}},{key:"detectOverlappingBars",value:function(e){var t=e.i,r=e.j,n=e.barYPosition,o=e.srty,i=e.barHeight,a=e.yDivision,s=e.initPositions,l=this.w,u=[],c=l.config.series[t].data[r].rangeName,p=l.config.series[t].data[r].x,d=l.globals.labels.indexOf(p),h=l.globals.seriesRangeBar[t].findIndex((function(e){return e.x===p&&e.overlaps.length>0}));return n=l.config.plotOptions.bar.rangeBarGroupRows?o+a*d:o+i*this.visibleI+a*d,h>-1&&!l.config.plotOptions.bar.rangeBarOverlap&&(u=l.globals.seriesRangeBar[t][h].overlaps).indexOf(c)>-1&&(n=(i=s.barHeight/u.length)*this.visibleI+a*(100-parseInt(this.barOptions.barHeight,10))/100/2+i*(this.visibleI+u.indexOf(c))+a*d),{barYPosition:n,barHeight:i}}},{key:"drawRangeColumnPaths",value:function(e){var t=e.indexes,r=e.x;e.strokeWidth;var n=e.xDivision,o=e.barWidth,i=e.zeroH,a=this.w,s=t.i,l=t.j,u=this.yRatio[this.yaxisIndex],c=t.realIndex,p=this.getRangeValue(c,l),d=Math.min(p.start,p.end),h=Math.max(p.start,p.end);a.globals.isXNumeric&&(r=(a.globals.seriesX[s][l]-a.globals.minX)/this.xRatio-o/2);var f=r+o*this.visibleI;void 0===this.series[s][l]||null===this.series[s][l]?d=i:(d=i-d/u,h=i-h/u);var g=Math.abs(h-d),y=this.barHelpers.getColumnPaths({barXPosition:f,barWidth:o,y1:d,y2:h,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,realIndex:t.realIndex,i:c,j:l,w:a});return a.globals.isXNumeric||(r+=n),{pathTo:y.pathTo,pathFrom:y.pathFrom,barHeight:g,x:r,y:h,goalY:this.barHelpers.getGoalValues("y",null,i,s,l),barXPosition:f}}},{key:"drawRangeBarPaths",value:function(e){var t=e.indexes,r=e.y,n=e.y1,o=e.y2,i=e.yDivision,a=e.barHeight,s=e.barYPosition,l=e.zeroW,u=this.w,c=l+n/this.invertedYRatio,p=l+o/this.invertedYRatio,d=Math.abs(p-c),h=this.barHelpers.getBarpaths({barYPosition:s,barHeight:a,x1:c,x2:p,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,i:t.realIndex,realIndex:t.realIndex,j:t.j,w:u});return u.globals.isXNumeric||(r+=i),{pathTo:h.pathTo,pathFrom:h.pathFrom,barWidth:d,x:p,goalX:this.barHelpers.getGoalValues("x",l,null,t.realIndex,t.j),y:r}}},{key:"getRangeValue",value:function(e,t){var r=this.w;return{start:r.globals.seriesRangeStart[e][t],end:r.globals.seriesRangeEnd[e][t]}}},{key:"getTooltipValues",value:function(e){var t=e.ctx,r=e.seriesIndex,n=e.dataPointIndex,o=e.y1,i=e.y2,a=e.w,s=a.globals.seriesRangeStart[r][n],l=a.globals.seriesRangeEnd[r][n],u=a.globals.labels[n],c=a.config.series[r].name?a.config.series[r].name:"",p=a.config.tooltip.y.formatter,d=a.config.tooltip.y.title.formatter,h={w:a,seriesIndex:r,dataPointIndex:n,start:s,end:l};"function"==typeof d&&(c=d(c,h)),Number.isFinite(o)&&Number.isFinite(i)&&(s=o,l=i,a.config.series[r].data[n].x&&(u=a.config.series[r].data[n].x+":"),"function"==typeof p&&(u=p(u,h)));var f="",g="",y=a.globals.colors[r];if(void 0===a.config.tooltip.x.formatter)if("datetime"===a.config.xaxis.type){var v=new B(t);f=v.formatDate(v.getDate(s),a.config.tooltip.x.format),g=v.formatDate(v.getDate(l),a.config.tooltip.x.format)}else f=s,g=l;else f=a.config.tooltip.x.formatter(s),g=a.config.tooltip.x.formatter(l);return{start:s,end:l,startVal:f,endVal:g,ylabel:u,color:y,seriesName:c}}},{key:"buildCustomTooltipHTML",value:function(e){return'<div class="apexcharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+e.color+'">'+(e.seriesName||"")+'</span></div><div> <span class="category">'+e.ylabel+' </span> <span class="value start-value">'+e.start+'</span> <span class="separator">-</span> <span class="value end-value">'+e.end+"</span></div></div>"}}]),r}(),H=function(){function e(t){s(this,e),this.opts=t}return u(e,[{key:"line",value:function(){return{chart:{animations:{easing:"swing"}},dataLabels:{enabled:!1},stroke:{width:5,curve:"straight"},markers:{size:0,hover:{sizeOffset:6}},xaxis:{crosshairs:{width:1}}}}},{key:"sparkline",value:function(e){return this.opts.yaxis[0].show=!1,this.opts.yaxis[0].title.text="",this.opts.yaxis[0].axisBorder.show=!1,this.opts.yaxis[0].axisTicks.show=!1,this.opts.yaxis[0].floating=!0,b.extend(e,{grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},legend:{show:!1},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}},chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1}})}},{key:"bar",value:function(){return{chart:{stacked:!1,animations:{easing:"swing"}},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{style:{colors:["#fff"]},background:{enabled:!1}},stroke:{width:0,lineCap:"round"},fill:{opacity:.85},legend:{markers:{shape:"square",radius:2,size:8}},tooltip:{shared:!1,intersect:!0},xaxis:{tooltip:{enabled:!1},tickPlacement:"between",crosshairs:{width:"barWidth",position:"back",fill:{type:"gradient"},dropShadow:{enabled:!1},stroke:{width:0}}}}}},{key:"candlestick",value:function(){var e=this;return{stroke:{width:1,colors:["#333"]},fill:{opacity:1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(t){var r=t.seriesIndex,n=t.dataPointIndex,o=t.w;return e._getBoxTooltip(o,r,n,["Open","High","","Low","Close"],"candlestick")}},states:{active:{filter:{type:"none"}}},xaxis:{crosshairs:{width:1}}}}},{key:"boxPlot",value:function(){var e=this;return{chart:{animations:{dynamicAnimation:{enabled:!1}}},stroke:{width:1,colors:["#24292e"]},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(t){var r=t.seriesIndex,n=t.dataPointIndex,o=t.w;return e._getBoxTooltip(o,r,n,["Minimum","Q1","Median","Q3","Maximum"],"boxPlot")}},markers:{size:5,strokeWidth:1,strokeColors:"#111"},xaxis:{crosshairs:{width:1}}}}},{key:"rangeBar",value:function(){return{stroke:{width:0,lineCap:"square"},plotOptions:{bar:{borderRadius:0,dataLabels:{position:"center"}}},dataLabels:{enabled:!1,formatter:function(e,t){t.ctx;var r=t.seriesIndex,n=t.dataPointIndex,o=t.w,i=o.globals.seriesRangeStart[r][n];return o.globals.seriesRangeEnd[r][n]-i},background:{enabled:!1},style:{colors:["#fff"]}},tooltip:{shared:!1,followCursor:!0,custom:function(e){return e.w.config.plotOptions&&e.w.config.plotOptions.bar&&e.w.config.plotOptions.bar.horizontal?function(e){var t=new W(e.ctx,null),r=t.getTooltipValues(e),n=r.color,o=r.seriesName,i=r.ylabel,a=r.startVal,s=r.endVal;return t.buildCustomTooltipHTML({color:n,seriesName:o,ylabel:i,start:a,end:s})}(e):function(e){var t=new W(e.ctx,null),r=t.getTooltipValues(e),n=r.color,o=r.seriesName,i=r.ylabel,a=r.start,s=r.end;return t.buildCustomTooltipHTML({color:n,seriesName:o,ylabel:i,start:a,end:s})}(e)}},xaxis:{tickPlacement:"between",tooltip:{enabled:!1},crosshairs:{stroke:{width:0}}}}}},{key:"area",value:function(){return{stroke:{width:4,fill:{type:"solid",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}}},fill:{type:"gradient",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}},markers:{size:0,hover:{sizeOffset:6}},tooltip:{followCursor:!1}}}},{key:"brush",value:function(e){return b.extend(e,{chart:{toolbar:{autoSelected:"selection",show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!1},xaxis:{tooltip:{enabled:!1}}})}},{key:"stacked100",value:function(e){e.dataLabels=e.dataLabels||{},e.dataLabels.formatter=e.dataLabels.formatter||void 0;var t=e.dataLabels.formatter;return e.yaxis.forEach((function(t,r){e.yaxis[r].min=0,e.yaxis[r].max=100})),"bar"===e.chart.type&&(e.dataLabels.formatter=t||function(e){return"number"==typeof e&&e?e.toFixed(0)+"%":e}),e}},{key:"convertCatToNumeric",value:function(e){return e.xaxis.convertedCatToNumeric=!0,e}},{key:"convertCatToNumericXaxis",value:function(e,t,r){e.xaxis.type="numeric",e.xaxis.labels=e.xaxis.labels||{},e.xaxis.labels.formatter=e.xaxis.labels.formatter||function(e){return b.isNumber(e)?Math.floor(e):e};var n=e.xaxis.labels.formatter,o=e.xaxis.categories&&e.xaxis.categories.length?e.xaxis.categories:e.labels;return r&&r.length&&(o=r.map((function(e){return Array.isArray(e)?e:String(e)}))),o&&o.length&&(e.xaxis.labels.formatter=function(e){return b.isNumber(e)?n(o[Math.floor(e)-1]):n(e)}),e.xaxis.categories=[],e.labels=[],e.xaxis.tickAmount=e.xaxis.tickAmount||"dataPoints",e}},{key:"bubble",value:function(){return{dataLabels:{style:{colors:["#fff"]}},tooltip:{shared:!1,intersect:!0},xaxis:{crosshairs:{width:0}},fill:{type:"solid",gradient:{shade:"light",inverse:!0,shadeIntensity:.55,opacityFrom:.4,opacityTo:.8}}}}},{key:"scatter",value:function(){return{dataLabels:{enabled:!1},tooltip:{shared:!1,intersect:!0},markers:{size:6,strokeWidth:1,hover:{sizeOffset:2}}}}},{key:"heatmap",value:function(){return{chart:{stacked:!1},fill:{opacity:1},dataLabels:{style:{colors:["#fff"]}},stroke:{colors:["#fff"]},tooltip:{followCursor:!0,marker:{show:!1},x:{show:!1}},legend:{position:"top",markers:{shape:"square",size:10,offsetY:2}},grid:{padding:{right:20}}}}},{key:"treemap",value:function(){return{chart:{zoom:{enabled:!1}},dataLabels:{style:{fontSize:14,fontWeight:600,colors:["#fff"]}},stroke:{show:!0,width:2,colors:["#fff"]},legend:{show:!1},fill:{gradient:{stops:[0,100]}},tooltip:{followCursor:!0,x:{show:!1}},grid:{padding:{left:0,right:0}},xaxis:{crosshairs:{show:!1},tooltip:{enabled:!1}}}}},{key:"pie",value:function(){return{chart:{toolbar:{show:!1}},plotOptions:{pie:{donut:{labels:{show:!1}}}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",stops:[0,100]}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"donut",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",shadeIntensity:.35,stops:[80,100],opacityFrom:1,opacityTo:1}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"polarArea",value:function(){return this.opts.yaxis[0].tickAmount=this.opts.yaxis[0].tickAmount?this.opts.yaxis[0].tickAmount:6,{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},enabled:!1},stroke:{show:!0,width:2},fill:{opacity:.7},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"radar",value:function(){return this.opts.yaxis[0].labels.offsetY=this.opts.yaxis[0].labels.offsetY?this.opts.yaxis[0].labels.offsetY:6,{dataLabels:{enabled:!1,style:{fontSize:"11px"}},stroke:{width:2},markers:{size:3,strokeWidth:1,strokeOpacity:1},fill:{opacity:.2},tooltip:{shared:!1,intersect:!0,followCursor:!0},grid:{show:!1},xaxis:{labels:{formatter:function(e){return e},style:{colors:["#a8a8a8"],fontSize:"11px"}},tooltip:{enabled:!1},crosshairs:{show:!1}}}}},{key:"radialBar",value:function(){return{chart:{animations:{dynamicAnimation:{enabled:!0,speed:800}},toolbar:{show:!1}},fill:{gradient:{shade:"dark",shadeIntensity:.4,inverseColors:!1,type:"diagonal2",opacityFrom:1,opacityTo:1,stops:[70,98,100]}},legend:{show:!1,position:"right"},tooltip:{enabled:!1,fillSeriesColor:!0}}}},{key:"_getBoxTooltip",value:function(e,t,r,n,o){var i=e.globals.seriesCandleO[t][r],a=e.globals.seriesCandleH[t][r],s=e.globals.seriesCandleM[t][r],l=e.globals.seriesCandleL[t][r],u=e.globals.seriesCandleC[t][r];return e.config.series[t].type&&e.config.series[t].type!==o?'<div class="apexcharts-custom-tooltip">\n          '.concat(e.config.series[t].name?e.config.series[t].name:"series-"+(t+1),": <strong>").concat(e.globals.series[t][r],"</strong>\n        </div>"):'<div class="apexcharts-tooltip-box apexcharts-tooltip-'.concat(e.config.chart.type,'">')+"<div>".concat(n[0],': <span class="value">')+i+"</span></div>"+"<div>".concat(n[1],': <span class="value">')+a+"</span></div>"+(s?"<div>".concat(n[2],': <span class="value">')+s+"</span></div>":"")+"<div>".concat(n[3],': <span class="value">')+l+"</span></div>"+"<div>".concat(n[4],': <span class="value">')+u+"</span></div></div>"}}]),e}(),j=function(){function e(t){s(this,e),this.opts=t}return u(e,[{key:"init",value:function(e){var t=e.responsiveOverride,r=this.opts,n=new A,o=new H(r);this.chartType=r.chart.type,"histogram"===this.chartType&&(r.chart.type="bar",r=b.extend({plotOptions:{bar:{columnWidth:"99.99%"}}},r)),r=this.extendYAxis(r),r=this.extendAnnotations(r);var i=n.init(),s={};if(r&&"object"===a(r)){var l={};l=-1!==["line","area","bar","candlestick","boxPlot","rangeBar","histogram","bubble","scatter","heatmap","treemap","pie","polarArea","donut","radar","radialBar"].indexOf(r.chart.type)?o[r.chart.type]():o.line(),r.chart.brush&&r.chart.brush.enabled&&(l=o.brush(l)),r.chart.stacked&&"100%"===r.chart.stackType&&(r=o.stacked100(r)),this.checkForDarkTheme(window.Apex),this.checkForDarkTheme(r),r.xaxis=r.xaxis||window.Apex.xaxis||{},t||(r.xaxis.convertedCatToNumeric=!1),((r=this.checkForCatToNumericXAxis(this.chartType,l,r)).chart.sparkline&&r.chart.sparkline.enabled||window.Apex.chart&&window.Apex.chart.sparkline&&window.Apex.chart.sparkline.enabled)&&(l=o.sparkline(l)),s=b.extend(i,l)}var u=b.extend(s,window.Apex);return i=b.extend(u,r),this.handleUserInputErrors(i)}},{key:"checkForCatToNumericXAxis",value:function(e,t,r){var n=new H(r),o=("bar"===e||"boxPlot"===e)&&r.plotOptions&&r.plotOptions.bar&&r.plotOptions.bar.horizontal,i="pie"===e||"polarArea"===e||"donut"===e||"radar"===e||"radialBar"===e||"heatmap"===e,a="datetime"!==r.xaxis.type&&"numeric"!==r.xaxis.type,s=r.xaxis.tickPlacement?r.xaxis.tickPlacement:t.xaxis&&t.xaxis.tickPlacement;return o||i||!a||"between"===s||(r=n.convertCatToNumeric(r)),r}},{key:"extendYAxis",value:function(e,t){var r=new A;(void 0===e.yaxis||!e.yaxis||Array.isArray(e.yaxis)&&0===e.yaxis.length)&&(e.yaxis={}),e.yaxis.constructor!==Array&&window.Apex.yaxis&&window.Apex.yaxis.constructor!==Array&&(e.yaxis=b.extend(e.yaxis,window.Apex.yaxis)),e.yaxis.constructor!==Array?e.yaxis=[b.extend(r.yAxis,e.yaxis)]:e.yaxis=b.extendArray(e.yaxis,r.yAxis);var n=!1;e.yaxis.forEach((function(e){e.logarithmic&&(n=!0)}));var o=e.series;return t&&!o&&(o=t.config.series),n&&o.length!==e.yaxis.length&&o.length&&(e.yaxis=o.map((function(t,n){if(t.name||(o[n].name="series-".concat(n+1)),e.yaxis[n])return e.yaxis[n].seriesName=o[n].name,e.yaxis[n];var i=b.extend(r.yAxis,e.yaxis[0]);return i.show=!1,i}))),n&&o.length>1&&o.length!==e.yaxis.length&&console.warn("A multi-series logarithmic chart should have equal number of series and y-axes. Please make sure to equalize both."),e}},{key:"extendAnnotations",value:function(e){return void 0===e.annotations&&(e.annotations={},e.annotations.yaxis=[],e.annotations.xaxis=[],e.annotations.points=[]),e=this.extendYAxisAnnotations(e),e=this.extendXAxisAnnotations(e),this.extendPointAnnotations(e)}},{key:"extendYAxisAnnotations",value:function(e){var t=new A;return e.annotations.yaxis=b.extendArray(void 0!==e.annotations.yaxis?e.annotations.yaxis:[],t.yAxisAnnotation),e}},{key:"extendXAxisAnnotations",value:function(e){var t=new A;return e.annotations.xaxis=b.extendArray(void 0!==e.annotations.xaxis?e.annotations.xaxis:[],t.xAxisAnnotation),e}},{key:"extendPointAnnotations",value:function(e){var t=new A;return e.annotations.points=b.extendArray(void 0!==e.annotations.points?e.annotations.points:[],t.pointAnnotation),e}},{key:"checkForDarkTheme",value:function(e){e.theme&&"dark"===e.theme.mode&&(e.tooltip||(e.tooltip={}),"light"!==e.tooltip.theme&&(e.tooltip.theme="dark"),e.chart.foreColor||(e.chart.foreColor="#f6f7f8"),e.chart.background||(e.chart.background="#424242"),e.theme.palette||(e.theme.palette="palette4"))}},{key:"handleUserInputErrors",value:function(e){var t=e;if(t.tooltip.shared&&t.tooltip.intersect)throw new Error("tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.");if("bar"===t.chart.type&&t.plotOptions.bar.horizontal){if(t.yaxis.length>1)throw new Error("Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false");t.yaxis[0].reversed&&(t.yaxis[0].opposite=!0),t.xaxis.tooltip.enabled=!1,t.yaxis[0].tooltip.enabled=!1,t.chart.zoom.enabled=!1}return"bar"!==t.chart.type&&"rangeBar"!==t.chart.type||t.tooltip.shared&&"barWidth"===t.xaxis.crosshairs.width&&t.series.length>1&&(t.xaxis.crosshairs.width="tickWidth"),"candlestick"!==t.chart.type&&"boxPlot"!==t.chart.type||t.yaxis[0].reversed&&(console.warn("Reversed y-axis in ".concat(t.chart.type," chart is not supported.")),t.yaxis[0].reversed=!1),t}}]),e}(),V=function(){function e(){s(this,e)}return u(e,[{key:"initGlobalVars",value:function(e){e.series=[],e.seriesCandleO=[],e.seriesCandleH=[],e.seriesCandleM=[],e.seriesCandleL=[],e.seriesCandleC=[],e.seriesRangeStart=[],e.seriesRangeEnd=[],e.seriesRangeBar=[],e.seriesPercent=[],e.seriesGoals=[],e.seriesX=[],e.seriesZ=[],e.seriesNames=[],e.seriesTotals=[],e.seriesLog=[],e.seriesColors=[],e.stackedSeriesTotals=[],e.seriesXvalues=[],e.seriesYvalues=[],e.labels=[],e.hasGroups=!1,e.groups=[],e.categoryLabels=[],e.timescaleLabels=[],e.noLabelsProvided=!1,e.resizeTimer=null,e.selectionResizeTimer=null,e.delayedElements=[],e.pointsArray=[],e.dataLabelsRects=[],e.isXNumeric=!1,e.xaxisLabelsCount=0,e.skipLastTimelinelabel=!1,e.skipFirstTimelinelabel=!1,e.isDataXYZ=!1,e.isMultiLineX=!1,e.isMultipleYAxis=!1,e.maxY=-Number.MAX_VALUE,e.minY=Number.MIN_VALUE,e.minYArr=[],e.maxYArr=[],e.maxX=-Number.MAX_VALUE,e.minX=Number.MAX_VALUE,e.initialMaxX=-Number.MAX_VALUE,e.initialMinX=Number.MAX_VALUE,e.maxDate=0,e.minDate=Number.MAX_VALUE,e.minZ=Number.MAX_VALUE,e.maxZ=-Number.MAX_VALUE,e.minXDiff=Number.MAX_VALUE,e.yAxisScale=[],e.xAxisScale=null,e.xAxisTicksPositions=[],e.yLabelsCoords=[],e.yTitleCoords=[],e.barPadForNumericAxis=0,e.padHorizontal=0,e.xRange=0,e.yRange=[],e.zRange=0,e.dataPoints=0,e.xTickAmount=0}},{key:"globalVars",value:function(e){return{chartID:null,cuid:null,events:{beforeMount:[],mounted:[],updated:[],clicked:[],selection:[],dataPointSelection:[],zoomed:[],scrolled:[]},colors:[],clientX:null,clientY:null,fill:{colors:[]},stroke:{colors:[]},dataLabels:{style:{colors:[]}},radarPolygons:{fill:{colors:[]}},markers:{colors:[],size:e.markers.size,largestSize:0},animationEnded:!1,isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isDirty:!1,isExecCalled:!1,initialConfig:null,initialSeries:[],lastXAxis:[],lastYAxis:[],columnSeries:null,labels:[],timescaleLabels:[],noLabelsProvided:!1,allSeriesCollapsed:!1,collapsedSeries:[],collapsedSeriesIndices:[],ancillaryCollapsedSeries:[],ancillaryCollapsedSeriesIndices:[],risingSeries:[],dataFormatXNumeric:!1,capturedSeriesIndex:-1,capturedDataPointIndex:-1,selectedDataPoints:[],goldenPadding:35,invalidLogScale:!1,ignoreYAxisIndexes:[],yAxisSameScaleIndices:[],maxValsInArrayIndex:0,radialSize:0,selection:void 0,zoomEnabled:"zoom"===e.chart.toolbar.autoSelected&&e.chart.toolbar.tools.zoom&&e.chart.zoom.enabled,panEnabled:"pan"===e.chart.toolbar.autoSelected&&e.chart.toolbar.tools.pan,selectionEnabled:"selection"===e.chart.toolbar.autoSelected&&e.chart.toolbar.tools.selection,yaxis:null,mousedown:!1,lastClientPosition:{},visibleXRange:void 0,yValueDecimal:0,total:0,SVGNS:"http://www.w3.org/2000/svg",svgWidth:0,svgHeight:0,noData:!1,locale:{},dom:{},memory:{methodsToExec:[]},shouldAnimate:!0,skipLastTimelinelabel:!1,skipFirstTimelinelabel:!1,delayedElements:[],axisCharts:!0,isDataXYZ:!1,resized:!1,resizeTimer:null,comboCharts:!1,dataChanged:!1,previousPaths:[],allSeriesHasEqualX:!0,pointsArray:[],dataLabelsRects:[],lastDrawnDataLabelsIndexes:[],hasNullValues:!1,easing:null,zoomed:!1,gridWidth:0,gridHeight:0,rotateXLabels:!1,defaultLabels:!1,xLabelFormatter:void 0,yLabelFormatters:[],xaxisTooltipFormatter:void 0,ttKeyFormatter:void 0,ttVal:void 0,ttZFormatter:void 0,LINE_HEIGHT_RATIO:1.618,xAxisLabelsHeight:0,xAxisGroupLabelsHeight:0,xAxisLabelsWidth:0,yAxisLabelsWidth:0,scaleX:1,scaleY:1,translateX:0,translateY:0,translateYAxisX:[],yAxisWidths:[],translateXAxisY:0,translateXAxisX:0,tooltip:null}}},{key:"init",value:function(e){var t=this.globalVars(e);return this.initGlobalVars(t),t.initialConfig=b.extend({},e),t.initialSeries=b.clone(e.series),t.lastXAxis=b.clone(t.initialConfig.xaxis),t.lastYAxis=b.clone(t.initialConfig.yaxis),t}}]),e}(),z=function(){function e(t){s(this,e),this.opts=t}return u(e,[{key:"init",value:function(){var e=new j(this.opts).init({responsiveOverride:!1});return{config:e,globals:(new V).init(e)}}}]),e}(),U=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w,this.twoDSeries=[],this.threeDSeries=[],this.twoDSeriesX=[],this.seriesGoals=[],this.coreUtils=new S(this.ctx)}return u(e,[{key:"isMultiFormat",value:function(){return this.isFormatXY()||this.isFormat2DArray()}},{key:"isFormatXY",value:function(){var e=this.w.config.series.slice(),t=new L(this.ctx);if(this.activeSeriesIndex=t.getActiveConfigSeriesIndex(),void 0!==e[this.activeSeriesIndex].data&&e[this.activeSeriesIndex].data.length>0&&null!==e[this.activeSeriesIndex].data[0]&&void 0!==e[this.activeSeriesIndex].data[0].x&&null!==e[this.activeSeriesIndex].data[0])return!0}},{key:"isFormat2DArray",value:function(){var e=this.w.config.series.slice(),t=new L(this.ctx);if(this.activeSeriesIndex=t.getActiveConfigSeriesIndex(),void 0!==e[this.activeSeriesIndex].data&&e[this.activeSeriesIndex].data.length>0&&void 0!==e[this.activeSeriesIndex].data[0]&&null!==e[this.activeSeriesIndex].data[0]&&e[this.activeSeriesIndex].data[0].constructor===Array)return!0}},{key:"handleFormat2DArray",value:function(e,t){for(var r=this.w.config,n=this.w.globals,o="boxPlot"===r.chart.type||"boxPlot"===r.series[t].type,i=0;i<e[t].data.length;i++)if(void 0!==e[t].data[i][1]&&(Array.isArray(e[t].data[i][1])&&4===e[t].data[i][1].length&&!o?this.twoDSeries.push(b.parseNumber(e[t].data[i][1][3])):e[t].data[i].length>=5?this.twoDSeries.push(b.parseNumber(e[t].data[i][4])):this.twoDSeries.push(b.parseNumber(e[t].data[i][1])),n.dataFormatXNumeric=!0),"datetime"===r.xaxis.type){var a=new Date(e[t].data[i][0]);a=new Date(a).getTime(),this.twoDSeriesX.push(a)}else this.twoDSeriesX.push(e[t].data[i][0]);for(var s=0;s<e[t].data.length;s++)void 0!==e[t].data[s][2]&&(this.threeDSeries.push(e[t].data[s][2]),n.isDataXYZ=!0)}},{key:"handleFormatXY",value:function(e,t){var r=this.w.config,n=this.w.globals,o=new B(this.ctx),i=t;n.collapsedSeriesIndices.indexOf(t)>-1&&(i=this.activeSeriesIndex);for(var a=0;a<e[t].data.length;a++)void 0!==e[t].data[a].y&&(Array.isArray(e[t].data[a].y)?this.twoDSeries.push(b.parseNumber(e[t].data[a].y[e[t].data[a].y.length-1])):this.twoDSeries.push(b.parseNumber(e[t].data[a].y))),void 0!==e[t].data[a].goals&&Array.isArray(e[t].data[a].goals)?(void 0===this.seriesGoals[t]&&(this.seriesGoals[t]=[]),this.seriesGoals[t].push(e[t].data[a].goals)):(void 0===this.seriesGoals[t]&&(this.seriesGoals[t]=[]),this.seriesGoals[t].push(null));for(var s=0;s<e[i].data.length;s++){var l="string"==typeof e[i].data[s].x,u=Array.isArray(e[i].data[s].x),c=!u&&!!o.isValidDate(e[i].data[s].x.toString());if(l||c)if(l||r.xaxis.convertedCatToNumeric){var p=n.isBarHorizontal&&n.isRangeData;"datetime"!==r.xaxis.type||p?(this.fallbackToCategory=!0,this.twoDSeriesX.push(e[i].data[s].x)):this.twoDSeriesX.push(o.parseDate(e[i].data[s].x))}else"datetime"===r.xaxis.type?this.twoDSeriesX.push(o.parseDate(e[i].data[s].x.toString())):(n.dataFormatXNumeric=!0,n.isXNumeric=!0,this.twoDSeriesX.push(parseFloat(e[i].data[s].x)));else u?(this.fallbackToCategory=!0,this.twoDSeriesX.push(e[i].data[s].x)):(n.isXNumeric=!0,n.dataFormatXNumeric=!0,this.twoDSeriesX.push(e[i].data[s].x))}if(e[t].data[0]&&void 0!==e[t].data[0].z){for(var d=0;d<e[t].data.length;d++)this.threeDSeries.push(e[t].data[d].z);n.isDataXYZ=!0}}},{key:"handleRangeData",value:function(e,t){var r=this.w.globals,n={};return this.isFormat2DArray()?n=this.handleRangeDataFormat("array",e,t):this.isFormatXY()&&(n=this.handleRangeDataFormat("xy",e,t)),r.seriesRangeStart.push(n.start),r.seriesRangeEnd.push(n.end),r.seriesRangeBar.push(n.rangeUniques),r.seriesRangeBar.forEach((function(e,t){e&&e.forEach((function(e,t){e.y.forEach((function(t,r){for(var n=0;n<e.y.length;n++)if(r!==n){var o=t.y1,i=t.y2,a=e.y[n].y1;o<=e.y[n].y2&&a<=i&&(e.overlaps.indexOf(t.rangeName)<0&&e.overlaps.push(t.rangeName),e.overlaps.indexOf(e.y[n].rangeName)<0&&e.overlaps.push(e.y[n].rangeName))}}))}))})),n}},{key:"handleCandleStickBoxData",value:function(e,t){var r=this.w.globals,n={};return this.isFormat2DArray()?n=this.handleCandleStickBoxDataFormat("array",e,t):this.isFormatXY()&&(n=this.handleCandleStickBoxDataFormat("xy",e,t)),r.seriesCandleO[t]=n.o,r.seriesCandleH[t]=n.h,r.seriesCandleM[t]=n.m,r.seriesCandleL[t]=n.l,r.seriesCandleC[t]=n.c,n}},{key:"handleRangeDataFormat",value:function(e,t,r){var n=[],o=[],i=t[r].data.filter((function(e,t,r){return t===r.findIndex((function(t){return t.x===e.x}))})).map((function(e,t){return{x:e.x,overlaps:[],y:[]}})),a="Please provide [Start, End] values in valid format. Read more https://apexcharts.com/docs/series/#rangecharts",s=new L(this.ctx).getActiveConfigSeriesIndex();if("array"===e){if(2!==t[s].data[0][1].length)throw new Error(a);for(var l=0;l<t[r].data.length;l++)n.push(t[r].data[l][1][0]),o.push(t[r].data[l][1][1])}else if("xy"===e){if(2!==t[s].data[0].y.length)throw new Error(a);for(var u=function(e){var a=b.randomId(),s=t[r].data[e].x,l={y1:t[r].data[e].y[0],y2:t[r].data[e].y[1],rangeName:a};t[r].data[e].rangeName=a;var u=i.findIndex((function(e){return e.x===s}));i[u].y.push(l),n.push(l.y1),o.push(l.y2)},c=0;c<t[r].data.length;c++)u(c)}return{start:n,end:o,rangeUniques:i}}},{key:"handleCandleStickBoxDataFormat",value:function(e,t,r){var n=this.w,o="boxPlot"===n.config.chart.type||"boxPlot"===n.config.series[r].type,i=[],a=[],s=[],l=[],u=[];if("array"===e)if(o&&6===t[r].data[0].length||!o&&5===t[r].data[0].length)for(var c=0;c<t[r].data.length;c++)i.push(t[r].data[c][1]),a.push(t[r].data[c][2]),o?(s.push(t[r].data[c][3]),l.push(t[r].data[c][4]),u.push(t[r].data[c][5])):(l.push(t[r].data[c][3]),u.push(t[r].data[c][4]));else for(var p=0;p<t[r].data.length;p++)Array.isArray(t[r].data[p][1])&&(i.push(t[r].data[p][1][0]),a.push(t[r].data[p][1][1]),o?(s.push(t[r].data[p][1][2]),l.push(t[r].data[p][1][3]),u.push(t[r].data[p][1][4])):(l.push(t[r].data[p][1][2]),u.push(t[r].data[p][1][3])));else if("xy"===e)for(var d=0;d<t[r].data.length;d++)Array.isArray(t[r].data[d].y)&&(i.push(t[r].data[d].y[0]),a.push(t[r].data[d].y[1]),o?(s.push(t[r].data[d].y[2]),l.push(t[r].data[d].y[3]),u.push(t[r].data[d].y[4])):(l.push(t[r].data[d].y[2]),u.push(t[r].data[d].y[3])));return{o:i,h:a,m:s,l:l,c:u}}},{key:"parseDataAxisCharts",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.ctx,n=this.w.config,o=this.w.globals,i=new B(r),a=n.labels.length>0?n.labels.slice():n.xaxis.categories.slice();o.isRangeBar="rangeBar"===n.chart.type&&o.isBarHorizontal,o.hasGroups="category"===n.xaxis.type&&n.xaxis.group.groups.length>0,o.hasGroups&&(o.groups=n.xaxis.group.groups);for(var s=function(){for(var e=0;e<a.length;e++)if("string"==typeof a[e]){if(!i.isValidDate(a[e]))throw new Error("You have provided invalid Date format. Please provide a valid JavaScript Date");t.twoDSeriesX.push(i.parseDate(a[e]))}else t.twoDSeriesX.push(a[e])},l=0;l<e.length;l++){if(this.twoDSeries=[],this.twoDSeriesX=[],this.threeDSeries=[],void 0===e[l].data)return void console.error("It is a possibility that you may have not included 'data' property in series.");if("rangeBar"!==n.chart.type&&"rangeArea"!==n.chart.type&&"rangeBar"!==e[l].type&&"rangeArea"!==e[l].type||(o.isRangeData=!0,this.handleRangeData(e,l)),this.isMultiFormat())this.isFormat2DArray()?this.handleFormat2DArray(e,l):this.isFormatXY()&&this.handleFormatXY(e,l),"candlestick"!==n.chart.type&&"candlestick"!==e[l].type&&"boxPlot"!==n.chart.type&&"boxPlot"!==e[l].type||this.handleCandleStickBoxData(e,l),o.series.push(this.twoDSeries),o.labels.push(this.twoDSeriesX),o.seriesX.push(this.twoDSeriesX),o.seriesGoals=this.seriesGoals,l!==this.activeSeriesIndex||this.fallbackToCategory||(o.isXNumeric=!0);else{"datetime"===n.xaxis.type?(o.isXNumeric=!0,s(),o.seriesX.push(this.twoDSeriesX)):"numeric"===n.xaxis.type&&(o.isXNumeric=!0,a.length>0&&(this.twoDSeriesX=a,o.seriesX.push(this.twoDSeriesX))),o.labels.push(this.twoDSeriesX);var u=e[l].data.map((function(e){return b.parseNumber(e)}));o.series.push(u)}o.seriesZ.push(this.threeDSeries),void 0!==e[l].name?o.seriesNames.push(e[l].name):o.seriesNames.push("series-"+parseInt(l+1,10)),void 0!==e[l].color?o.seriesColors.push(e[l].color):o.seriesColors.push(void 0)}return this.w}},{key:"parseDataNonAxisCharts",value:function(e){var t=this.w.globals,r=this.w.config;t.series=e.slice(),t.seriesNames=r.labels.slice();for(var n=0;n<t.series.length;n++)void 0===t.seriesNames[n]&&t.seriesNames.push("series-"+(n+1));return this.w}},{key:"handleExternalLabelsData",value:function(e){var t=this.w.config,r=this.w.globals;t.xaxis.categories.length>0?r.labels=t.xaxis.categories:t.labels.length>0?r.labels=t.labels.slice():this.fallbackToCategory?(r.labels=r.labels[0],r.seriesRangeBar.length&&(r.seriesRangeBar.map((function(e){e.forEach((function(e){r.labels.indexOf(e.x)<0&&e.x&&r.labels.push(e.x)}))})),r.labels=r.labels.filter((function(e,t,r){return r.indexOf(e)===t}))),t.xaxis.convertedCatToNumeric&&(new H(t).convertCatToNumericXaxis(t,this.ctx,r.seriesX[0]),this._generateExternalLabels(e))):this._generateExternalLabels(e)}},{key:"_generateExternalLabels",value:function(e){var t=this.w.globals,r=this.w.config,n=[];if(t.axisCharts){if(t.series.length>0)if(this.isFormatXY())for(var o=r.series.map((function(e,t){return e.data.filter((function(e,t,r){return r.findIndex((function(t){return t.x===e.x}))===t}))})),i=o.reduce((function(e,t,r,n){return n[e].length>t.length?e:r}),0),a=0;a<o[i].length;a++)n.push(a+1);else for(var s=0;s<t.series[t.maxValsInArrayIndex].length;s++)n.push(s+1);t.seriesX=[];for(var l=0;l<e.length;l++)t.seriesX.push(n);t.isXNumeric=!0}if(0===n.length){n=t.axisCharts?[]:t.series.map((function(e,t){return t+1}));for(var u=0;u<e.length;u++)t.seriesX.push(n)}t.labels=n,r.xaxis.convertedCatToNumeric&&(t.categoryLabels=n.map((function(e){return r.xaxis.labels.formatter(e)}))),t.noLabelsProvided=!0}},{key:"parseData",value:function(e){var t=this.w,r=t.config,n=t.globals;if(this.excludeCollapsedSeriesInYAxis(),this.fallbackToCategory=!1,this.ctx.core.resetGlobals(),this.ctx.core.isMultipleY(),n.axisCharts?this.parseDataAxisCharts(e):this.parseDataNonAxisCharts(e),this.coreUtils.getLargestSeries(),"bar"===r.chart.type&&r.chart.stacked){var o=new L(this.ctx);n.series=o.setNullSeriesToZeroValues(n.series)}this.coreUtils.getSeriesTotals(),n.axisCharts&&this.coreUtils.getStackedSeriesTotals(),this.coreUtils.getPercentSeries(),n.dataFormatXNumeric||n.isXNumeric&&("numeric"!==r.xaxis.type||0!==r.labels.length||0!==r.xaxis.categories.length)||this.handleExternalLabelsData(e);for(var i=this.coreUtils.getCategoryLabels(n.labels),a=0;a<i.length;a++)if(Array.isArray(i[a])){n.isMultiLineX=!0;break}}},{key:"excludeCollapsedSeriesInYAxis",value:function(){var e=this,t=this.w;t.globals.ignoreYAxisIndexes=t.globals.collapsedSeries.map((function(r,n){if(e.w.globals.isMultipleYAxis&&!t.config.chart.stacked)return r.index}))}}]),e}(),Y=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w,this.tooltipKeyFormat="dd MMM"}return u(e,[{key:"xLabelFormat",value:function(e,t,r,n){var o=this.w;if("datetime"===o.config.xaxis.type&&void 0===o.config.xaxis.labels.formatter&&void 0===o.config.tooltip.x.formatter){var i=new B(this.ctx);return i.formatDate(i.getDate(t),o.config.tooltip.x.format)}return e(t,r,n)}},{key:"defaultGeneralFormatter",value:function(e){return Array.isArray(e)?e.map((function(e){return e})):e}},{key:"defaultYFormatter",value:function(e,t,r){var n=this.w;return b.isNumber(e)&&(e=0!==n.globals.yValueDecimal?e.toFixed(void 0!==t.decimalsInFloat?t.decimalsInFloat:n.globals.yValueDecimal):n.globals.maxYArr[r]-n.globals.minYArr[r]<5?e.toFixed(1):e.toFixed(0)),e}},{key:"setLabelFormatters",value:function(){var e=this,t=this.w;return t.globals.xaxisTooltipFormatter=function(t){return e.defaultGeneralFormatter(t)},t.globals.ttKeyFormatter=function(t){return e.defaultGeneralFormatter(t)},t.globals.ttZFormatter=function(e){return e},t.globals.legendFormatter=function(t){return e.defaultGeneralFormatter(t)},void 0!==t.config.xaxis.labels.formatter?t.globals.xLabelFormatter=t.config.xaxis.labels.formatter:t.globals.xLabelFormatter=function(e){if(b.isNumber(e)){if(!t.config.xaxis.convertedCatToNumeric&&"numeric"===t.config.xaxis.type){if(b.isNumber(t.config.xaxis.decimalsInFloat))return e.toFixed(t.config.xaxis.decimalsInFloat);var r=t.globals.maxX-t.globals.minX;return r>0&&r<100?e.toFixed(1):e.toFixed(0)}return t.globals.isBarHorizontal&&t.globals.maxY-t.globals.minYArr<4?e.toFixed(1):e.toFixed(0)}return e},"function"==typeof t.config.tooltip.x.formatter?t.globals.ttKeyFormatter=t.config.tooltip.x.formatter:t.globals.ttKeyFormatter=t.globals.xLabelFormatter,"function"==typeof t.config.xaxis.tooltip.formatter&&(t.globals.xaxisTooltipFormatter=t.config.xaxis.tooltip.formatter),(Array.isArray(t.config.tooltip.y)||void 0!==t.config.tooltip.y.formatter)&&(t.globals.ttVal=t.config.tooltip.y),void 0!==t.config.tooltip.z.formatter&&(t.globals.ttZFormatter=t.config.tooltip.z.formatter),void 0!==t.config.legend.formatter&&(t.globals.legendFormatter=t.config.legend.formatter),t.config.yaxis.forEach((function(r,n){void 0!==r.labels.formatter?t.globals.yLabelFormatters[n]=r.labels.formatter:t.globals.yLabelFormatters[n]=function(o){return t.globals.xyCharts?Array.isArray(o)?o.map((function(t){return e.defaultYFormatter(t,r,n)})):e.defaultYFormatter(o,r,n):o}})),t.globals}},{key:"heatmapLabelFormatters",value:function(){var e=this.w;if("heatmap"===e.config.chart.type){e.globals.yAxisScale[0].result=e.globals.seriesNames.slice();var t=e.globals.seriesNames.reduce((function(e,t){return e.length>t.length?e:t}),0);e.globals.yAxisScale[0].niceMax=t,e.globals.yAxisScale[0].niceMin=t}}}]),e}(),X=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w}return u(e,[{key:"getLabel",value:function(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"12px",a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],s=this.w,l=void 0===e[n]?"":e[n],u=l,c=s.globals.xLabelFormatter,p=s.config.xaxis.labels.formatter,d=!1,h=new Y(this.ctx),f=l;a&&(u=h.xLabelFormat(c,l,f,{i:n,dateFormatter:new B(this.ctx).formatDate,w:s}),void 0!==p&&(u=p(l,e[n],{i:n,dateFormatter:new B(this.ctx).formatDate,w:s})));var g=function(e){var r=null;return t.forEach((function(e){"month"===e.unit?r="year":"day"===e.unit?r="month":"hour"===e.unit?r="day":"minute"===e.unit&&(r="hour")})),r===e};t.length>0?(d=g(t[n].unit),r=t[n].position,u=t[n].value):"datetime"===s.config.xaxis.type&&void 0===p&&(u=""),void 0===u&&(u=""),u=Array.isArray(u)?u:u.toString();var y=new x(this.ctx),v={};v=s.globals.rotateXLabels&&a?y.getTextRects(u,parseInt(i,10),null,"rotate(".concat(s.config.xaxis.labels.rotate," 0 0)"),!1):y.getTextRects(u,parseInt(i,10));var m=!s.config.xaxis.labels.showDuplicates&&this.ctx.timeScale;return!Array.isArray(u)&&(0===u.indexOf("NaN")||0===u.toLowerCase().indexOf("invalid")||u.toLowerCase().indexOf("infinity")>=0||o.indexOf(u)>=0&&m)&&(u=""),{x:r,text:u,textRect:v,isBold:d}}},{key:"checkLabelBasedOnTickamount",value:function(e,t,r){var n=this.w,o=n.config.xaxis.tickAmount;return"dataPoints"===o&&(o=Math.round(n.globals.gridWidth/120)),o>r||e%Math.round(r/(o+1))==0||(t.text=""),t}},{key:"checkForOverflowingLabels",value:function(e,t,r,n,o){var i=this.w;if(0===e&&i.globals.skipFirstTimelinelabel&&(t.text=""),e===r-1&&i.globals.skipLastTimelinelabel&&(t.text=""),i.config.xaxis.labels.hideOverlappingLabels&&n.length>0){var a=o[o.length-1];t.x<a.textRect.width/(i.globals.rotateXLabels?Math.abs(i.config.xaxis.labels.rotate)/12:1.01)+a.x&&(t.text="")}return t}},{key:"checkForReversedLabels",value:function(e,t){var r=this.w;return r.config.yaxis[e]&&r.config.yaxis[e].reversed&&t.reverse(),t}},{key:"isYAxisHidden",value:function(e){var t=this.w,r=new S(this.ctx);return!t.config.yaxis[e].show||!t.config.yaxis[e].showForNullSeries&&r.isSeriesNull(e)&&-1===t.globals.collapsedSeriesIndices.indexOf(e)}},{key:"getYAxisForeColor",value:function(e,t){var r=this.w;return Array.isArray(e)&&r.globals.yAxisScale[t]&&this.ctx.theme.pushExtraColors(e,r.globals.yAxisScale[t].result.length,!1),e}},{key:"drawYAxisTicks",value:function(e,t,r,n,o,i,a){var s=this.w,l=new x(this.ctx),u=s.globals.translateY;if(n.show&&t>0){!0===s.config.yaxis[o].opposite&&(e+=n.width);for(var c=t;c>=0;c--){var p=u+t/10+s.config.yaxis[o].labels.offsetY-1;s.globals.isBarHorizontal&&(p=i*c),"heatmap"===s.config.chart.type&&(p+=i/2);var d=l.drawLine(e+r.offsetX-n.width+n.offsetX,p+n.offsetY,e+r.offsetX+n.offsetX,p+n.offsetY,n.color);a.add(d),u+=i}}}}]),e}(),K=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w}return u(e,[{key:"scaleSvgNode",value:function(e,t){var r=parseFloat(e.getAttributeNS(null,"width")),n=parseFloat(e.getAttributeNS(null,"height"));e.setAttributeNS(null,"width",r*t),e.setAttributeNS(null,"height",n*t),e.setAttributeNS(null,"viewBox","0 0 "+r+" "+n)}},{key:"fixSvgStringForIe11",value:function(e){if(!b.isIE11())return e.replace(/&nbsp;/g,"&#160;");var t=0,r=e.replace(/xmlns="http:\/\/www.w3.org\/2000\/svg"/g,(function(e){return 2===++t?'xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.dev"':e}));return(r=r.replace(/xmlns:NS\d+=""/g,"")).replace(/NS\d+:(\w+:\w+=")/g,"$1")}},{key:"getSvgString",value:function(e){null==e&&(e=1);var t=this.w.globals.dom.Paper.svg();if(1!==e){var r=this.w.globals.dom.Paper.node.cloneNode(!0);this.scaleSvgNode(r,e),t=(new XMLSerializer).serializeToString(r)}return this.fixSvgStringForIe11(t)}},{key:"cleanup",value:function(){var e=this.w,t=e.globals.dom.baseEl.getElementsByClassName("apexcharts-xcrosshairs"),r=e.globals.dom.baseEl.getElementsByClassName("apexcharts-ycrosshairs"),n=e.globals.dom.baseEl.querySelectorAll(".apexcharts-zoom-rect, .apexcharts-selection-rect");Array.prototype.forEach.call(n,(function(e){e.setAttribute("width",0)})),t&&t[0]&&(t[0].setAttribute("x",-500),t[0].setAttribute("x1",-500),t[0].setAttribute("x2",-500)),r&&r[0]&&(r[0].setAttribute("y",-100),r[0].setAttribute("y1",-100),r[0].setAttribute("y2",-100))}},{key:"svgUrl",value:function(){this.cleanup();var e=this.getSvgString(),t=new Blob([e],{type:"image/svg+xml;charset=utf-8"});return URL.createObjectURL(t)}},{key:"dataURI",value:function(e){var t=this;return new Promise((function(r){var n=t.w,o=e?e.scale||e.width/n.globals.svgWidth:1;t.cleanup();var i=document.createElement("canvas");i.width=n.globals.svgWidth*o,i.height=parseInt(n.globals.dom.elWrap.style.height,10)*o;var a="transparent"===n.config.chart.background?"#fff":n.config.chart.background,s=i.getContext("2d");s.fillStyle=a,s.fillRect(0,0,i.width*o,i.height*o);var l=t.getSvgString(o);if(window.canvg&&b.isIE11()){var u=window.canvg.Canvg.fromString(s,l,{ignoreClear:!0,ignoreDimensions:!0});u.start();var c=i.msToBlob();u.stop(),r({blob:c})}else{var p="data:image/svg+xml,"+encodeURIComponent(l),d=new Image;d.crossOrigin="anonymous",d.onload=function(){if(s.drawImage(d,0,0),i.msToBlob){var e=i.msToBlob();r({blob:e})}else{var t=i.toDataURL("image/png");r({imgURI:t})}},d.src=p}}))}},{key:"exportToSVG",value:function(){this.triggerDownload(this.svgUrl(),this.w.config.chart.toolbar.export.svg.filename,".svg")}},{key:"exportToPng",value:function(){var e=this;this.dataURI().then((function(t){var r=t.imgURI,n=t.blob;n?navigator.msSaveOrOpenBlob(n,e.w.globals.chartID+".png"):e.triggerDownload(r,e.w.config.chart.toolbar.export.png.filename,".png")}))}},{key:"exportToCSV",value:function(e){var t=this,r=e.series,n=e.columnDelimiter,o=e.lineDelimiter,i=void 0===o?"\n":o,a=this.w,s=[],l=[],u="",c=new U(this.ctx),p=new X(this.ctx),d=function(e){var r="";if(a.globals.axisCharts){if("category"===a.config.xaxis.type||a.config.xaxis.convertedCatToNumeric)if(a.globals.isBarHorizontal){var o=a.globals.yLabelFormatters[0],i=new L(t.ctx).getActiveConfigSeriesIndex();r=o(a.globals.labels[e],{seriesIndex:i,dataPointIndex:e,w:a})}else r=p.getLabel(a.globals.labels,a.globals.timescaleLabels,0,e).text;"datetime"===a.config.xaxis.type&&(a.config.xaxis.categories.length?r=a.config.xaxis.categories[e]:a.config.labels.length&&(r=a.config.labels[e]))}else r=a.config.labels[e];return Array.isArray(r)&&(r=r.join(" ")),b.isNumber(r)?r:r.split(n).join("")};s.push(a.config.chart.toolbar.export.csv.headerCategory),r.map((function(e,t){var r=e.name?e.name:"series-".concat(t);a.globals.axisCharts&&s.push(r.split(n).join("")?r.split(n).join(""):"series-".concat(t))})),a.globals.axisCharts||(s.push(a.config.chart.toolbar.export.csv.headerValue),l.push(s.join(n))),r.map((function(e,t){a.globals.axisCharts?function(e,t){if(s.length&&0===t&&l.push(s.join(n)),e.data&&e.data.length)for(var o=0;o<e.data.length;o++){s=[];var i=d(o);if(i||(c.isFormatXY()?i=r[t].data[o].x:c.isFormat2DArray()&&(i=r[t].data[o]?r[t].data[o][0]:"")),0===t){s.push((p=i,"datetime"===a.config.xaxis.type&&String(p).length>=10?a.config.chart.toolbar.export.csv.dateFormatter(i):b.isNumber(i)?i:i.split(n).join("")));for(var u=0;u<a.globals.series.length;u++)s.push(a.globals.series[u][o])}("candlestick"===a.config.chart.type||e.type&&"candlestick"===e.type)&&(s.pop(),s.push(a.globals.seriesCandleO[t][o]),s.push(a.globals.seriesCandleH[t][o]),s.push(a.globals.seriesCandleL[t][o]),s.push(a.globals.seriesCandleC[t][o])),("boxPlot"===a.config.chart.type||e.type&&"boxPlot"===e.type)&&(s.pop(),s.push(a.globals.seriesCandleO[t][o]),s.push(a.globals.seriesCandleH[t][o]),s.push(a.globals.seriesCandleM[t][o]),s.push(a.globals.seriesCandleL[t][o]),s.push(a.globals.seriesCandleC[t][o])),"rangeBar"===a.config.chart.type&&(s.pop(),s.push(a.globals.seriesRangeStart[t][o]),s.push(a.globals.seriesRangeEnd[t][o])),s.length&&l.push(s.join(n))}var p}(e,t):((s=[]).push(a.globals.labels[t].split(n).join("")),s.push(a.globals.series[t]),l.push(s.join(n)))})),u+=l.join(i),this.triggerDownload("data:text/csv; charset=utf-8,"+encodeURIComponent("\ufeff"+u),a.config.chart.toolbar.export.csv.filename,".csv")}},{key:"triggerDownload",value:function(e,t,r){var n=document.createElement("a");n.href=e,n.download=(t||this.w.globals.chartID)+r,document.body.appendChild(n),n.click(),document.body.removeChild(n)}}]),e}(),q=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w;var r=this.w;this.axesUtils=new X(t),this.xaxisLabels=r.globals.labels.slice(),r.globals.timescaleLabels.length>0&&!r.globals.isBarHorizontal&&(this.xaxisLabels=r.globals.timescaleLabels.slice()),r.config.xaxis.overwriteCategories&&(this.xaxisLabels=r.config.xaxis.overwriteCategories),this.drawnLabels=[],this.drawnLabelsRects=[],"top"===r.config.xaxis.position?this.offY=0:this.offY=r.globals.gridHeight+1,this.offY=this.offY+r.config.xaxis.axisBorder.offsetY,this.isCategoryBarHorizontal="bar"===r.config.chart.type&&r.config.plotOptions.bar.horizontal,this.xaxisFontSize=r.config.xaxis.labels.style.fontSize,this.xaxisFontFamily=r.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=r.config.xaxis.labels.style.colors,this.xaxisBorderWidth=r.config.xaxis.axisBorder.width,this.isCategoryBarHorizontal&&(this.xaxisBorderWidth=r.config.yaxis[0].axisBorder.width.toString()),this.xaxisBorderWidth.indexOf("%")>-1?this.xaxisBorderWidth=r.globals.gridWidth*parseInt(this.xaxisBorderWidth,10)/100:this.xaxisBorderWidth=parseInt(this.xaxisBorderWidth,10),this.xaxisBorderHeight=r.config.xaxis.axisBorder.height,this.yaxis=r.config.yaxis[0]}return u(e,[{key:"drawXaxis",value:function(){var e=this.w,t=new x(this.ctx),r=t.group({class:"apexcharts-xaxis",transform:"translate(".concat(e.config.xaxis.offsetX,", ").concat(e.config.xaxis.offsetY,")")}),n=t.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(e.globals.translateXAxisX,", ").concat(e.globals.translateXAxisY,")")});r.add(n);for(var o=[],i=0;i<this.xaxisLabels.length;i++)o.push(this.xaxisLabels[i]);if(this.drawXAxisLabelAndGroup(!0,t,n,o,e.globals.isXNumeric,(function(e,t){return t})),e.globals.hasGroups){var a=e.globals.groups;o=[];for(var s=0;s<a.length;s++)o.push(a[s].title);var l={};e.config.xaxis.group.style&&(l.xaxisFontSize=e.config.xaxis.group.style.fontSize,l.xaxisFontFamily=e.config.xaxis.group.style.fontFamily,l.xaxisForeColors=e.config.xaxis.group.style.colors,l.fontWeight=e.config.xaxis.group.style.fontWeight,l.cssClass=e.config.xaxis.group.style.cssClass),this.drawXAxisLabelAndGroup(!1,t,n,o,!1,(function(e,t){return a[e].cols*t}),l)}if(void 0!==e.config.xaxis.title.text){var u=t.group({class:"apexcharts-xaxis-title"}),c=t.drawText({x:e.globals.gridWidth/2+e.config.xaxis.title.offsetX,y:this.offY+parseFloat(this.xaxisFontSize)+e.globals.xAxisLabelsHeight+e.config.xaxis.title.offsetY,text:e.config.xaxis.title.text,textAnchor:"middle",fontSize:e.config.xaxis.title.style.fontSize,fontFamily:e.config.xaxis.title.style.fontFamily,fontWeight:e.config.xaxis.title.style.fontWeight,foreColor:e.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+e.config.xaxis.title.style.cssClass});u.add(c),r.add(u)}if(e.config.xaxis.axisBorder.show){var p=e.globals.barPadForNumericAxis,d=t.drawLine(e.globals.padHorizontal+e.config.xaxis.axisBorder.offsetX-p,this.offY,this.xaxisBorderWidth+p,this.offY,e.config.xaxis.axisBorder.color,0,this.xaxisBorderHeight);r.add(d)}return r}},{key:"drawXAxisLabelAndGroup",value:function(e,t,r,n,o,i){var a,s=this,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},u=[],c=[],p=this.w,d=l.xaxisFontSize||this.xaxisFontSize,h=l.xaxisFontFamily||this.xaxisFontFamily,f=l.xaxisForeColors||this.xaxisForeColors,g=l.fontWeight||p.config.xaxis.labels.style.fontWeight,y=l.cssClass||p.config.xaxis.labels.style.cssClass,v=p.globals.padHorizontal,m=n.length,b="category"===p.config.xaxis.type?p.globals.dataPoints:m;if(o){var C=b>1?b-1:b;a=p.globals.gridWidth/C,v=v+i(0,a)/2+p.config.xaxis.labels.offsetX}else a=p.globals.gridWidth/b,v=v+i(0,a)+p.config.xaxis.labels.offsetX;for(var w=function(o){var l=v-i(o,a)/2+p.config.xaxis.labels.offsetX;0===o&&1===m&&a/2===v&&1===b&&(l=p.globals.gridWidth/2);var C=s.axesUtils.getLabel(n,p.globals.timescaleLabels,l,o,u,d,e),w=28;if(p.globals.rotateXLabels&&e&&(w=22),e||(w=w+parseFloat(d)+(p.globals.xAxisLabelsHeight-p.globals.xAxisGroupLabelsHeight)+(p.globals.rotateXLabels?10:0)),C=void 0!==p.config.xaxis.tickAmount&&"dataPoints"!==p.config.xaxis.tickAmount&&"datetime"!==p.config.xaxis.type?s.axesUtils.checkLabelBasedOnTickamount(o,C,m):s.axesUtils.checkForOverflowingLabels(o,C,m,u,c),e&&C.text&&p.globals.xaxisLabelsCount++,p.config.xaxis.labels.show){var x=t.drawText({x:C.x,y:s.offY+p.config.xaxis.labels.offsetY+w-("top"===p.config.xaxis.position?p.globals.xAxisHeight+p.config.xaxis.axisTicks.height-2:0),text:C.text,textAnchor:"middle",fontWeight:C.isBold?600:g,fontSize:d,fontFamily:h,foreColor:Array.isArray(f)?e&&p.config.xaxis.convertedCatToNumeric?f[p.globals.minX+o-1]:f[o]:f,isPlainText:!1,cssClass:(e?"apexcharts-xaxis-label ":"apexcharts-xaxis-group-label ")+y});if(r.add(x),e){var S=document.createElementNS(p.globals.SVGNS,"title");S.textContent=Array.isArray(C.text)?C.text.join(" "):C.text,x.node.appendChild(S),""!==C.text&&(u.push(C.text),c.push(C))}}o<m-1&&(v+=i(o+1,a))},x=0;x<=m-1;x++)w(x)}},{key:"drawXaxisInversed",value:function(e){var t,r,n=this,o=this.w,i=new x(this.ctx),a=o.config.yaxis[0].opposite?o.globals.translateYAxisX[e]:0,s=i.group({class:"apexcharts-yaxis apexcharts-xaxis-inversed",rel:e}),l=i.group({class:"apexcharts-yaxis-texts-g apexcharts-xaxis-inversed-texts-g",transform:"translate("+a+", 0)"});s.add(l);var u=[];if(o.config.yaxis[e].show)for(var c=0;c<this.xaxisLabels.length;c++)u.push(this.xaxisLabels[c]);t=o.globals.gridHeight/u.length,r=-t/2.2;var p=o.globals.yLabelFormatters[0],d=o.config.yaxis[0].labels;if(d.show)for(var h=function(a){var s=void 0===u[a]?"":u[a];s=p(s,{seriesIndex:e,dataPointIndex:a,w:o});var c=n.axesUtils.getYAxisForeColor(d.style.colors,e),h=0;Array.isArray(s)&&(h=s.length/2*parseInt(d.style.fontSize,10));var f=i.drawText({x:d.offsetX-15,y:r+t+d.offsetY-h,text:s,textAnchor:n.yaxis.opposite?"start":"end",foreColor:Array.isArray(c)?c[a]:c,fontSize:d.style.fontSize,fontFamily:d.style.fontFamily,fontWeight:d.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+d.style.cssClass});l.add(f);var g=document.createElementNS(o.globals.SVGNS,"title");if(g.textContent=Array.isArray(s)?s.join(" "):s,f.node.appendChild(g),0!==o.config.yaxis[e].labels.rotate){var y=i.rotateAroundCenter(f.node);f.node.setAttribute("transform","rotate(".concat(o.config.yaxis[e].labels.rotate," 0 ").concat(y.y,")"))}r+=t},f=0;f<=u.length-1;f++)h(f);if(void 0!==o.config.yaxis[0].title.text){var g=i.group({class:"apexcharts-yaxis-title apexcharts-xaxis-title-inversed",transform:"translate("+a+", 0)"}),y=i.drawText({x:0,y:o.globals.gridHeight/2,text:o.config.yaxis[0].title.text,textAnchor:"middle",foreColor:o.config.yaxis[0].title.style.color,fontSize:o.config.yaxis[0].title.style.fontSize,fontWeight:o.config.yaxis[0].title.style.fontWeight,fontFamily:o.config.yaxis[0].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+o.config.yaxis[0].title.style.cssClass});g.add(y),s.add(g)}var v=0;this.isCategoryBarHorizontal&&o.config.yaxis[0].opposite&&(v=o.globals.gridWidth);var m=o.config.xaxis.axisBorder;if(m.show){var b=i.drawLine(o.globals.padHorizontal+m.offsetX+v,1+m.offsetY,o.globals.padHorizontal+m.offsetX+v,o.globals.gridHeight+m.offsetY,m.color,0);s.add(b)}return o.config.yaxis[0].axisTicks.show&&this.axesUtils.drawYAxisTicks(v,u.length,o.config.yaxis[0].axisBorder,o.config.yaxis[0].axisTicks,0,t,s),s}},{key:"drawXaxisTicks",value:function(e,t,r){var n=this.w,o=e;if(!(e<0||e-2>n.globals.gridWidth)){var i=this.offY+n.config.xaxis.axisTicks.offsetY;if(t=t+i+n.config.xaxis.axisTicks.height,"top"===n.config.xaxis.position&&(t=i-n.config.xaxis.axisTicks.height),n.config.xaxis.axisTicks.show){var a=new x(this.ctx).drawLine(e+n.config.xaxis.axisTicks.offsetX,i+n.config.xaxis.offsetY,o+n.config.xaxis.axisTicks.offsetX,t+n.config.xaxis.offsetY,n.config.xaxis.axisTicks.color);r.add(a),a.node.classList.add("apexcharts-xaxis-tick")}}}},{key:"getXAxisTicksPositions",value:function(){var e=this.w,t=[],r=this.xaxisLabels.length,n=e.globals.padHorizontal;if(e.globals.timescaleLabels.length>0)for(var o=0;o<r;o++)n=this.xaxisLabels[o].position,t.push(n);else for(var i=r,a=0;a<i;a++){var s=i;e.globals.isXNumeric&&"bar"!==e.config.chart.type&&(s-=1),n+=e.globals.gridWidth/s,t.push(n)}return t}},{key:"xAxisLabelCorrections",value:function(){var e=this.w,t=new x(this.ctx),r=e.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g"),n=e.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-texts-g text:not(.apexcharts-xaxis-group-label)"),o=e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-inversed text"),i=e.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-inversed-texts-g text tspan");if(e.globals.rotateXLabels||e.config.xaxis.labels.rotateAlways)for(var a=0;a<n.length;a++){var s=t.rotateAroundCenter(n[a]);s.y=s.y-1,s.x=s.x+1,n[a].setAttribute("transform","rotate(".concat(e.config.xaxis.labels.rotate," ").concat(s.x," ").concat(s.y,")")),n[a].setAttribute("text-anchor","end"),r.setAttribute("transform","translate(0, ".concat(-10,")"));var l=n[a].childNodes;e.config.xaxis.labels.trim&&Array.prototype.forEach.call(l,(function(r){t.placeTextWithEllipsis(r,r.textContent,e.globals.xAxisLabelsHeight-("bottom"===e.config.legend.position?20:10))}))}else!function(){for(var r=e.globals.gridWidth/(e.globals.labels.length+1),o=0;o<n.length;o++){var i=n[o].childNodes;e.config.xaxis.labels.trim&&"datetime"!==e.config.xaxis.type&&Array.prototype.forEach.call(i,(function(e){t.placeTextWithEllipsis(e,e.textContent,r)}))}}();if(o.length>0){var u=o[o.length-1].getBBox(),c=o[0].getBBox();u.x<-20&&o[o.length-1].parentNode.removeChild(o[o.length-1]),c.x+c.width>e.globals.gridWidth&&!e.globals.isBarHorizontal&&o[0].parentNode.removeChild(o[0]);for(var p=0;p<i.length;p++)t.placeTextWithEllipsis(i[p],i[p].textContent,e.config.yaxis[0].labels.maxWidth-(e.config.yaxis[0].title.text?2*parseFloat(e.config.yaxis[0].title.style.fontSize):0)-15)}}}]),e}(),$=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w;var r=this.w;this.xaxisLabels=r.globals.labels.slice(),this.axesUtils=new X(t),this.isRangeBar=r.globals.seriesRangeBar.length,r.globals.timescaleLabels.length>0&&(this.xaxisLabels=r.globals.timescaleLabels.slice())}return u(e,[{key:"drawGridArea",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.w,r=new x(this.ctx);null===e&&(e=r.group({class:"apexcharts-grid"}));var n=r.drawLine(t.globals.padHorizontal,1,t.globals.padHorizontal,t.globals.gridHeight,"transparent"),o=r.drawLine(t.globals.padHorizontal,t.globals.gridHeight,t.globals.gridWidth,t.globals.gridHeight,"transparent");return e.add(o),e.add(n),e}},{key:"drawGrid",value:function(){var e=null;return this.w.globals.axisCharts&&(e=this.renderGrid(),this.drawGridArea(e.el)),e}},{key:"createGridMask",value:function(){var e=this.w,t=e.globals,r=new x(this.ctx),n=Array.isArray(e.config.stroke.width)?0:e.config.stroke.width;if(Array.isArray(e.config.stroke.width)){var o=0;e.config.stroke.width.forEach((function(e){o=Math.max(o,e)})),n=o}t.dom.elGridRectMask=document.createElementNS(t.SVGNS,"clipPath"),t.dom.elGridRectMask.setAttribute("id","gridRectMask".concat(t.cuid)),t.dom.elGridRectMarkerMask=document.createElementNS(t.SVGNS,"clipPath"),t.dom.elGridRectMarkerMask.setAttribute("id","gridRectMarkerMask".concat(t.cuid)),t.dom.elForecastMask=document.createElementNS(t.SVGNS,"clipPath"),t.dom.elForecastMask.setAttribute("id","forecastMask".concat(t.cuid)),t.dom.elNonForecastMask=document.createElementNS(t.SVGNS,"clipPath"),t.dom.elNonForecastMask.setAttribute("id","nonForecastMask".concat(t.cuid));var i=e.config.chart.type,a=0,s=0;("bar"===i||"rangeBar"===i||"candlestick"===i||"boxPlot"===i||e.globals.comboBarCount>0)&&e.globals.isXNumeric&&!e.globals.isBarHorizontal&&(a=e.config.grid.padding.left,s=e.config.grid.padding.right,t.barPadForNumericAxis>a&&(a=t.barPadForNumericAxis,s=t.barPadForNumericAxis)),t.dom.elGridRect=r.drawRect(-n/2-a-2,-n/2,t.gridWidth+n+s+a+4,t.gridHeight+n,0,"#fff");var l=e.globals.markers.largestSize+1;t.dom.elGridRectMarker=r.drawRect(2*-l,2*-l,t.gridWidth+4*l,t.gridHeight+4*l,0,"#fff"),t.dom.elGridRectMask.appendChild(t.dom.elGridRect.node),t.dom.elGridRectMarkerMask.appendChild(t.dom.elGridRectMarker.node);var u=t.dom.baseEl.querySelector("defs");u.appendChild(t.dom.elGridRectMask),u.appendChild(t.dom.elForecastMask),u.appendChild(t.dom.elNonForecastMask),u.appendChild(t.dom.elGridRectMarkerMask)}},{key:"_drawGridLines",value:function(e){var t=e.i,r=e.x1,n=e.y1,o=e.x2,i=e.y2,a=e.xCount,s=e.parent,l=this.w;if(!(0===t&&l.globals.skipFirstTimelinelabel||t===a-1&&l.globals.skipLastTimelinelabel&&!l.config.xaxis.labels.formatter||"radar"===l.config.chart.type)){l.config.grid.xaxis.lines.show&&this._drawGridLine({x1:r,y1:n,x2:o,y2:i,parent:s});var u=0;if(l.globals.hasGroups&&"between"===l.config.xaxis.tickPlacement){var c=l.globals.groups;if(c){for(var p=0,d=0;p<t&&d<c.length;d++)p+=c[d].cols;p===t&&(u=.6*l.globals.xAxisLabelsHeight)}}new q(this.ctx).drawXaxisTicks(r,u,this.elg)}}},{key:"_drawGridLine",value:function(e){var t=e.x1,r=e.y1,n=e.x2,o=e.y2,i=e.parent,a=this.w,s=i.node.classList.contains("apexcharts-gridlines-horizontal"),l=a.config.grid.strokeDashArray,u=a.globals.barPadForNumericAxis,c=new x(this).drawLine(t-(s?u:0),r,n+(s?u:0),o,a.config.grid.borderColor,l);c.node.classList.add("apexcharts-gridline"),i.add(c)}},{key:"_drawGridBandRect",value:function(e){var t=e.c,r=e.x1,n=e.y1,o=e.x2,i=e.y2,a=e.type,s=this.w,l=new x(this.ctx),u=s.globals.barPadForNumericAxis;if("column"!==a||"datetime"!==s.config.xaxis.type){var c=s.config.grid[a].colors[t],p=l.drawRect(r-("row"===a?u:0),n,o+("row"===a?2*u:0),i,0,c,s.config.grid[a].opacity);this.elg.add(p),p.attr("clip-path","url(#gridRectMask".concat(s.globals.cuid,")")),p.node.classList.add("apexcharts-grid-".concat(a))}}},{key:"_drawXYLines",value:function(e){var t=this,r=e.xCount,n=e.tickAmount,o=this.w;if(o.config.grid.xaxis.lines.show||o.config.xaxis.axisTicks.show){var i,a=o.globals.padHorizontal,s=o.globals.gridHeight;o.globals.timescaleLabels.length?function(e){for(var n=e.xC,o=e.x1,i=e.y1,a=e.x2,s=e.y2,l=0;l<n;l++)o=t.xaxisLabels[l].position,a=t.xaxisLabels[l].position,t._drawGridLines({i:l,x1:o,y1:i,x2:a,y2:s,xCount:r,parent:t.elgridLinesV})}({xC:r,x1:a,y1:0,x2:i,y2:s}):(o.globals.isXNumeric&&(r=o.globals.xAxisScale.result.length),o.config.xaxis.convertedCatToNumeric&&(r=o.globals.xaxisLabelsCount),function(e){var n=e.xC,i=e.x1,a=e.y1,s=e.x2,l=e.y2;if(void 0!==o.config.xaxis.tickAmount&&"dataPoints"!==o.config.xaxis.tickAmount&&"on"===o.config.xaxis.tickPlacement)o.globals.dom.baseEl.querySelectorAll(".apexcharts-text.apexcharts-xaxis-label tspan:not(:empty)").forEach((function(e,n){var o=e.getBBox();t._drawGridLines({i:n,x1:o.x+o.width/2,y1:a,x2:o.x+o.width/2,y2:l,xCount:r,parent:t.elgridLinesV})}));else for(var u=0;u<n+(o.globals.isXNumeric?0:1);u++)0===u&&1===n&&1===o.globals.dataPoints&&(s=i=o.globals.gridWidth/2),t._drawGridLines({i:u,x1:i,y1:a,x2:s,y2:l,xCount:r,parent:t.elgridLinesV}),s=i+=o.globals.gridWidth/(o.globals.isXNumeric?n-1:n)}({xC:r,x1:a,y1:0,x2:i,y2:s}))}if(o.config.grid.yaxis.lines.show){var l=0,u=0,c=o.globals.gridWidth,p=n+1;this.isRangeBar&&(p=o.globals.labels.length);for(var d=0;d<p+(this.isRangeBar?1:0);d++)this._drawGridLine({x1:0,y1:l,x2:c,y2:u,parent:this.elgridLinesH}),u=l+=o.globals.gridHeight/(this.isRangeBar?p:n)}}},{key:"_drawInvertedXYLines",value:function(e){var t=e.xCount,r=this.w;if(r.config.grid.xaxis.lines.show||r.config.xaxis.axisTicks.show)for(var n,o=r.globals.padHorizontal,i=r.globals.gridHeight,a=0;a<t+1;a++)r.config.grid.xaxis.lines.show&&this._drawGridLine({x1:o,y1:0,x2:n,y2:i,parent:this.elgridLinesV}),new q(this.ctx).drawXaxisTicks(o,0,this.elg),n=o=o+r.globals.gridWidth/t+.3;if(r.config.grid.yaxis.lines.show)for(var s=0,l=0,u=r.globals.gridWidth,c=0;c<r.globals.dataPoints+1;c++)this._drawGridLine({x1:0,y1:s,x2:u,y2:l,parent:this.elgridLinesH}),l=s+=r.globals.gridHeight/r.globals.dataPoints}},{key:"renderGrid",value:function(){var e=this.w,t=new x(this.ctx);this.elg=t.group({class:"apexcharts-grid"}),this.elgridLinesH=t.group({class:"apexcharts-gridlines-horizontal"}),this.elgridLinesV=t.group({class:"apexcharts-gridlines-vertical"}),this.elg.add(this.elgridLinesH),this.elg.add(this.elgridLinesV),e.config.grid.show||(this.elgridLinesV.hide(),this.elgridLinesH.hide());for(var r,n=e.globals.yAxisScale.length?e.globals.yAxisScale[0].result.length-1:5,o=0;o<e.globals.series.length&&(void 0!==e.globals.yAxisScale[o]&&(n=e.globals.yAxisScale[o].result.length-1),!(n>2));o++);return!e.globals.isBarHorizontal||this.isRangeBar?(r=this.xaxisLabels.length,this.isRangeBar&&(n=e.globals.labels.length,e.config.xaxis.tickAmount&&e.config.xaxis.labels.formatter&&(r=e.config.xaxis.tickAmount)),this._drawXYLines({xCount:r,tickAmount:n})):(r=n,n=e.globals.xTickAmount,this._drawInvertedXYLines({xCount:r,tickAmount:n})),this.drawGridBands(r,n),{el:this.elg,xAxisTickWidth:e.globals.gridWidth/r}}},{key:"drawGridBands",value:function(e,t){var r=this.w;if(void 0!==r.config.grid.row.colors&&r.config.grid.row.colors.length>0)for(var n=0,o=r.globals.gridHeight/t,i=r.globals.gridWidth,a=0,s=0;a<t;a++,s++)s>=r.config.grid.row.colors.length&&(s=0),this._drawGridBandRect({c:s,x1:0,y1:n,x2:i,y2:o,type:"row"}),n+=r.globals.gridHeight/t;if(void 0!==r.config.grid.column.colors&&r.config.grid.column.colors.length>0)for(var l=r.globals.isBarHorizontal||"category"!==r.config.xaxis.type&&!r.config.xaxis.convertedCatToNumeric?e:e-1,u=r.globals.padHorizontal,c=r.globals.padHorizontal+r.globals.gridWidth/l,p=r.globals.gridHeight,d=0,h=0;d<e;d++,h++)h>=r.config.grid.column.colors.length&&(h=0),this._drawGridBandRect({c:h,x1:u,y1:0,x2:c,y2:p,type:"column"}),u+=r.globals.gridWidth/l}}]),e}(),Z=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w}return u(e,[{key:"niceScale",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4?arguments[4]:void 0,i=this.w,a=Math.abs(t-e);if("dataPoints"===(r=this._adjustTicksForSmallRange(r,n,a))&&(r=i.globals.dataPoints-1),e===Number.MIN_VALUE&&0===t||!b.isNumber(e)&&!b.isNumber(t)||e===Number.MIN_VALUE&&t===-Number.MAX_VALUE){e=0,t=r;var s=this.linearScale(e,t,r);return s}e>t?(console.warn("axis.min cannot be greater than axis.max"),t=e+.1):e===t&&(e=0===e?0:e-.5,t=0===t?2:t+.5);var l=[];a<1&&o&&("candlestick"===i.config.chart.type||"candlestick"===i.config.series[n].type||"boxPlot"===i.config.chart.type||"boxPlot"===i.config.series[n].type||i.globals.isRangeData)&&(t*=1.01);var u=r+1;u<2?u=2:u>2&&(u-=2);var c=a/u,p=Math.floor(b.log10(c)),d=Math.pow(10,p),h=Math.round(c/d);h<1&&(h=1);var f=h*d,g=f*Math.floor(e/f),y=f*Math.ceil(t/f),v=g;if(o&&a>2){for(;l.push(v),!((v+=f)>y););return{result:l,niceMin:l[0],niceMax:l[l.length-1]}}var m=e;(l=[]).push(m);for(var C=Math.abs(t-e)/r,w=0;w<=r;w++)m+=C,l.push(m);return l[l.length-2]>=t&&l.pop(),{result:l,niceMin:l[0],niceMax:l[l.length-1]}}},{key:"linearScale",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,n=arguments.length>3?arguments[3]:void 0,o=Math.abs(t-e);"dataPoints"===(r=this._adjustTicksForSmallRange(r,n,o))&&(r=this.w.globals.dataPoints-1);var i=o/r;r===Number.MAX_VALUE&&(r=10,i=1);for(var a=[],s=e;r>=0;)a.push(s),s+=i,r-=1;return{result:a,niceMin:a[0],niceMax:a[a.length-1]}}},{key:"logarithmicScaleNice",value:function(e,t,r){t<=0&&(t=Math.max(e,r)),e<=0&&(e=Math.min(t,r));for(var n=[],o=Math.ceil(Math.log(t)/Math.log(r)+1),i=Math.floor(Math.log(e)/Math.log(r));i<o;i++)n.push(Math.pow(r,i));return{result:n,niceMin:n[0],niceMax:n[n.length-1]}}},{key:"logarithmicScale",value:function(e,t,r){t<=0&&(t=Math.max(e,r)),e<=0&&(e=Math.min(t,r));for(var n=[],o=Math.log(t)/Math.log(r),i=Math.log(e)/Math.log(r),a=o-i,s=Math.round(a),l=a/s,u=0,c=i;u<s;u++,c+=l)n.push(Math.pow(r,c));return n.push(Math.pow(r,o)),{result:n,niceMin:e,niceMax:t}}},{key:"_adjustTicksForSmallRange",value:function(e,t,r){var n=e;if(void 0!==t&&this.w.config.yaxis[t].labels.formatter&&void 0===this.w.config.yaxis[t].tickAmount){var o=this.w.config.yaxis[t].labels.formatter(1);b.isNumber(Number(o))&&!b.isFloat(o)&&(n=Math.ceil(r))}return n<e?n:e}},{key:"setYScaleForIndex",value:function(e,t,r){var n=this.w.globals,o=this.w.config,i=n.isBarHorizontal?o.xaxis:o.yaxis[e];void 0===n.yAxisScale[e]&&(n.yAxisScale[e]=[]);var a=Math.abs(r-t);if(i.logarithmic&&a<=5&&(n.invalidLogScale=!0),i.logarithmic&&a>5)n.allSeriesCollapsed=!1,n.yAxisScale[e]=this.logarithmicScale(t,r,i.logBase),n.yAxisScale[e]=i.forceNiceScale?this.logarithmicScaleNice(t,r,i.logBase):this.logarithmicScale(t,r,i.logBase);else if(r!==-Number.MAX_VALUE&&b.isNumber(r))if(n.allSeriesCollapsed=!1,void 0===i.min&&void 0===i.max||i.forceNiceScale){var s=void 0===o.yaxis[e].max&&void 0===o.yaxis[e].min||o.yaxis[e].forceNiceScale;n.yAxisScale[e]=this.niceScale(t,r,i.tickAmount?i.tickAmount:a<5&&a>1?a+1:5,e,s)}else n.yAxisScale[e]=this.linearScale(t,r,i.tickAmount,e);else n.yAxisScale[e]=this.linearScale(0,5,5)}},{key:"setXScale",value:function(e,t){var r=this.w,n=r.globals,o=r.config.xaxis,i=Math.abs(t-e);return t!==-Number.MAX_VALUE&&b.isNumber(t)?n.xAxisScale=this.linearScale(e,t,o.tickAmount?o.tickAmount:i<5&&i>1?i+1:5,0):n.xAxisScale=this.linearScale(0,5,5),n.xAxisScale}},{key:"setMultipleYScales",value:function(){var e=this,t=this.w.globals,r=this.w.config,n=t.minYArr.concat([]),o=t.maxYArr.concat([]),i=[];r.yaxis.forEach((function(t,a){var s=a;r.series.forEach((function(e,r){e.name===t.seriesName&&(s=r,a!==r?i.push({index:r,similarIndex:a,alreadyExists:!0}):i.push({index:r}))}));var l=n[s],u=o[s];e.setYScaleForIndex(a,l,u)})),this.sameScaleInMultipleAxes(n,o,i)}},{key:"sameScaleInMultipleAxes",value:function(e,t,r){var n=this,o=this.w.config,i=this.w.globals,a=[];r.forEach((function(e){e.alreadyExists&&(void 0===a[e.index]&&(a[e.index]=[]),a[e.index].push(e.index),a[e.index].push(e.similarIndex))})),i.yAxisSameScaleIndices=a,a.forEach((function(e,t){a.forEach((function(r,n){var o,i;t!==n&&(o=e,i=r,o.filter((function(e){return-1!==i.indexOf(e)}))).length>0&&(a[t]=a[t].concat(a[n]))}))}));var s=a.map((function(e){return e.filter((function(t,r){return e.indexOf(t)===r}))})).map((function(e){return e.sort()}));a=a.filter((function(e){return!!e}));var l=s.slice(),u=l.map((function(e){return JSON.stringify(e)}));l=l.filter((function(e,t){return u.indexOf(JSON.stringify(e))===t}));var c=[],p=[];e.forEach((function(e,r){l.forEach((function(n,o){n.indexOf(r)>-1&&(void 0===c[o]&&(c[o]=[],p[o]=[]),c[o].push({key:r,value:e}),p[o].push({key:r,value:t[r]}))}))}));var d=Array.apply(null,Array(l.length)).map(Number.prototype.valueOf,Number.MIN_VALUE),h=Array.apply(null,Array(l.length)).map(Number.prototype.valueOf,-Number.MAX_VALUE);c.forEach((function(e,t){e.forEach((function(e,r){d[t]=Math.min(e.value,d[t])}))})),p.forEach((function(e,t){e.forEach((function(e,r){h[t]=Math.max(e.value,h[t])}))})),e.forEach((function(e,t){p.forEach((function(e,r){var a=d[r],s=h[r];o.chart.stacked&&(s=0,e.forEach((function(e,t){e.value!==-Number.MAX_VALUE&&(s+=e.value),a!==Number.MIN_VALUE&&(a+=c[r][t].value)}))),e.forEach((function(r,l){e[l].key===t&&(void 0!==o.yaxis[t].min&&(a="function"==typeof o.yaxis[t].min?o.yaxis[t].min(i.minY):o.yaxis[t].min),void 0!==o.yaxis[t].max&&(s="function"==typeof o.yaxis[t].max?o.yaxis[t].max(i.maxY):o.yaxis[t].max),n.setYScaleForIndex(t,a,s))}))}))}))}},{key:"autoScaleY",value:function(e,t,r){e||(e=this);var n=e.w;if(n.globals.isMultipleYAxis||n.globals.collapsedSeries.length)return console.warn("autoScaleYaxis is not supported in a multi-yaxis chart."),t;var o=n.globals.seriesX[0],i=n.config.chart.stacked;return t.forEach((function(e,a){for(var s=0,l=0;l<o.length;l++)if(o[l]>=r.xaxis.min){s=l;break}var u,c,p=n.globals.minYArr[a],d=n.globals.maxYArr[a],h=n.globals.stackedSeriesTotals;n.globals.series.forEach((function(a,l){var f=a[s];i?(f=h[s],u=c=f,h.forEach((function(e,t){o[t]<=r.xaxis.max&&o[t]>=r.xaxis.min&&(e>c&&null!==e&&(c=e),a[t]<u&&null!==a[t]&&(u=a[t]))}))):(u=c=f,a.forEach((function(e,t){if(o[t]<=r.xaxis.max&&o[t]>=r.xaxis.min){var i=e,a=e;n.globals.series.forEach((function(r,n){null!==e&&(i=Math.min(r[t],i),a=Math.max(r[t],a))})),a>c&&null!==a&&(c=a),i<u&&null!==i&&(u=i)}}))),void 0===u&&void 0===c&&(u=p,c=d),(c*=c<0?.9:1.1)<0&&c<d&&(c=d),(u*=u<0?1.1:.9)<0&&u>p&&(u=p),t.length>1?(t[l].min=void 0===e.min?u:e.min,t[l].max=void 0===e.max?c:e.max):(t[0].min=void 0===e.min?u:e.min,t[0].max=void 0===e.max?c:e.max)}))})),t}}]),e}(),Q=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w,this.scales=new Z(t)}return u(e,[{key:"init",value:function(){this.setYRange(),this.setXRange(),this.setZRange()}},{key:"getMinYMaxY",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-Number.MAX_VALUE,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=this.w.config,i=this.w.globals,a=-Number.MAX_VALUE,s=Number.MIN_VALUE;null===n&&(n=e+1);var l=i.series,u=l,c=l;"candlestick"===o.chart.type?(u=i.seriesCandleL,c=i.seriesCandleH):"boxPlot"===o.chart.type?(u=i.seriesCandleO,c=i.seriesCandleC):i.isRangeData&&(u=i.seriesRangeStart,c=i.seriesRangeEnd);for(var p=e;p<n;p++){i.dataPoints=Math.max(i.dataPoints,l[p].length),i.categoryLabels.length&&(i.dataPoints=i.categoryLabels.filter((function(e){return void 0!==e})).length);for(var d=0;d<i.series[p].length;d++){var h=l[p][d];null!==h&&b.isNumber(h)?(void 0!==c[p][d]&&(a=Math.max(a,c[p][d]),t=Math.min(t,c[p][d])),void 0!==u[p][d]&&(t=Math.min(t,u[p][d]),r=Math.max(r,u[p][d])),"candlestick"!==this.w.config.chart.type&&"boxPlot"!==this.w.config.chart.type||(void 0!==i.seriesCandleC[p][d]&&(a=Math.max(a,i.seriesCandleO[p][d]),a=Math.max(a,i.seriesCandleH[p][d]),a=Math.max(a,i.seriesCandleL[p][d]),a=Math.max(a,i.seriesCandleC[p][d]),"boxPlot"===this.w.config.chart.type&&(a=Math.max(a,i.seriesCandleM[p][d]))),!o.series[p].type||"candlestick"===o.series[p].type&&"boxPlot"===o.series[p].type||(a=Math.max(a,i.series[p][d]),t=Math.min(t,i.series[p][d])),r=a),i.seriesGoals[p]&&i.seriesGoals[p][d]&&Array.isArray(i.seriesGoals[p][d])&&i.seriesGoals[p][d].forEach((function(e){s!==Number.MIN_VALUE&&(s=Math.min(s,e.value),t=s),a=Math.max(a,e.value),r=a})),b.isFloat(h)&&(h=b.noExponents(h),i.yValueDecimal=Math.max(i.yValueDecimal,h.toString().split(".")[1].length)),s>u[p][d]&&u[p][d]<0&&(s=u[p][d])):i.hasNullValues=!0}}return"rangeBar"===o.chart.type&&i.seriesRangeStart.length&&i.isBarHorizontal&&(s=t),"bar"===o.chart.type&&(s<0&&a<0&&(a=0),s===Number.MIN_VALUE&&(s=0)),{minY:s,maxY:a,lowestY:t,highestY:r}}},{key:"setYRange",value:function(){var e=this.w.globals,t=this.w.config;e.maxY=-Number.MAX_VALUE,e.minY=Number.MIN_VALUE;var r=Number.MAX_VALUE;if(e.isMultipleYAxis)for(var n=0;n<e.series.length;n++){var o=this.getMinYMaxY(n,r,null,n+1);e.minYArr.push(o.minY),e.maxYArr.push(o.maxY),r=o.lowestY}var i=this.getMinYMaxY(0,r,null,e.series.length);if(e.minY=i.minY,e.maxY=i.maxY,r=i.lowestY,t.chart.stacked&&this._setStackedMinMax(),("line"===t.chart.type||"area"===t.chart.type||"candlestick"===t.chart.type||"boxPlot"===t.chart.type||"rangeBar"===t.chart.type&&!e.isBarHorizontal)&&e.minY===Number.MIN_VALUE&&r!==-Number.MAX_VALUE&&r!==e.maxY){var a=e.maxY-r;(r>=0&&r<=10||void 0!==t.yaxis[0].min||void 0!==t.yaxis[0].max)&&(a=0),e.minY=r-5*a/100,r>0&&e.minY<0&&(e.minY=0),e.maxY=e.maxY+5*a/100}return t.yaxis.forEach((function(t,r){void 0!==t.max&&("number"==typeof t.max?e.maxYArr[r]=t.max:"function"==typeof t.max&&(e.maxYArr[r]=t.max(e.isMultipleYAxis?e.maxYArr[r]:e.maxY)),e.maxY=e.maxYArr[r]),void 0!==t.min&&("number"==typeof t.min?e.minYArr[r]=t.min:"function"==typeof t.min&&(e.minYArr[r]=t.min(e.isMultipleYAxis?e.minYArr[r]===Number.MIN_VALUE?0:e.minYArr[r]:e.minY)),e.minY=e.minYArr[r])})),e.isBarHorizontal&&["min","max"].forEach((function(r){void 0!==t.xaxis[r]&&"number"==typeof t.xaxis[r]&&("min"===r?e.minY=t.xaxis[r]:e.maxY=t.xaxis[r])})),e.isMultipleYAxis?(this.scales.setMultipleYScales(),e.minY=r,e.yAxisScale.forEach((function(t,r){e.minYArr[r]=t.niceMin,e.maxYArr[r]=t.niceMax}))):(this.scales.setYScaleForIndex(0,e.minY,e.maxY),e.minY=e.yAxisScale[0].niceMin,e.maxY=e.yAxisScale[0].niceMax,e.minYArr[0]=e.yAxisScale[0].niceMin,e.maxYArr[0]=e.yAxisScale[0].niceMax),{minY:e.minY,maxY:e.maxY,minYArr:e.minYArr,maxYArr:e.maxYArr,yAxisScale:e.yAxisScale}}},{key:"setXRange",value:function(){var e=this.w.globals,t=this.w.config,r="numeric"===t.xaxis.type||"datetime"===t.xaxis.type||"category"===t.xaxis.type&&!e.noLabelsProvided||e.noLabelsProvided||e.isXNumeric;if(e.isXNumeric&&function(){for(var t=0;t<e.series.length;t++)if(e.labels[t])for(var r=0;r<e.labels[t].length;r++)null!==e.labels[t][r]&&b.isNumber(e.labels[t][r])&&(e.maxX=Math.max(e.maxX,e.labels[t][r]),e.initialMaxX=Math.max(e.maxX,e.labels[t][r]),e.minX=Math.min(e.minX,e.labels[t][r]),e.initialMinX=Math.min(e.minX,e.labels[t][r]))}(),e.noLabelsProvided&&0===t.xaxis.categories.length&&(e.maxX=e.labels[e.labels.length-1],e.initialMaxX=e.labels[e.labels.length-1],e.minX=1,e.initialMinX=1),e.isXNumeric||e.noLabelsProvided||e.dataFormatXNumeric){var n;if(void 0===t.xaxis.tickAmount?(n=Math.round(e.svgWidth/150),"numeric"===t.xaxis.type&&e.dataPoints<30&&(n=e.dataPoints-1),n>e.dataPoints&&0!==e.dataPoints&&(n=e.dataPoints-1)):"dataPoints"===t.xaxis.tickAmount?(e.series.length>1&&(n=e.series[e.maxValsInArrayIndex].length-1),e.isXNumeric&&(n=e.maxX-e.minX-1)):n=t.xaxis.tickAmount,e.xTickAmount=n,void 0!==t.xaxis.max&&"number"==typeof t.xaxis.max&&(e.maxX=t.xaxis.max),void 0!==t.xaxis.min&&"number"==typeof t.xaxis.min&&(e.minX=t.xaxis.min),void 0!==t.xaxis.range&&(e.minX=e.maxX-t.xaxis.range),e.minX!==Number.MAX_VALUE&&e.maxX!==-Number.MAX_VALUE)if(t.xaxis.convertedCatToNumeric&&!e.dataFormatXNumeric){for(var o=[],i=e.minX-1;i<e.maxX;i++)o.push(i+1);e.xAxisScale={result:o,niceMin:o[0],niceMax:o[o.length-1]}}else e.xAxisScale=this.scales.setXScale(e.minX,e.maxX);else e.xAxisScale=this.scales.linearScale(1,n,n),e.noLabelsProvided&&e.labels.length>0&&(e.xAxisScale=this.scales.linearScale(1,e.labels.length,n-1),e.seriesX=e.labels.slice());r&&(e.labels=e.xAxisScale.result.slice())}return e.isBarHorizontal&&e.labels.length&&(e.xTickAmount=e.labels.length),this._handleSingleDataPoint(),this._getMinXDiff(),{minX:e.minX,maxX:e.maxX}}},{key:"setZRange",value:function(){var e=this.w.globals;if(e.isDataXYZ)for(var t=0;t<e.series.length;t++)if(void 0!==e.seriesZ[t])for(var r=0;r<e.seriesZ[t].length;r++)null!==e.seriesZ[t][r]&&b.isNumber(e.seriesZ[t][r])&&(e.maxZ=Math.max(e.maxZ,e.seriesZ[t][r]),e.minZ=Math.min(e.minZ,e.seriesZ[t][r]))}},{key:"_handleSingleDataPoint",value:function(){var e=this.w.globals,t=this.w.config;if(e.minX===e.maxX){var r=new B(this.ctx);if("datetime"===t.xaxis.type){var n=r.getDate(e.minX);t.xaxis.labels.datetimeUTC?n.setUTCDate(n.getUTCDate()-2):n.setDate(n.getDate()-2),e.minX=new Date(n).getTime();var o=r.getDate(e.maxX);t.xaxis.labels.datetimeUTC?o.setUTCDate(o.getUTCDate()+2):o.setDate(o.getDate()+2),e.maxX=new Date(o).getTime()}else("numeric"===t.xaxis.type||"category"===t.xaxis.type&&!e.noLabelsProvided)&&(e.minX=e.minX-2,e.initialMinX=e.minX,e.maxX=e.maxX+2,e.initialMaxX=e.maxX)}}},{key:"_getMinXDiff",value:function(){var e=this.w.globals;e.isXNumeric&&e.seriesX.forEach((function(t,r){1===t.length&&t.push(e.seriesX[e.maxValsInArrayIndex][e.seriesX[e.maxValsInArrayIndex].length-1]);var n=t.slice();n.sort((function(e,t){return e-t})),n.forEach((function(t,r){if(r>0){var o=t-n[r-1];o>0&&(e.minXDiff=Math.min(o,e.minXDiff))}})),1!==e.dataPoints&&e.minXDiff!==Number.MAX_VALUE||(e.minXDiff=.5)}))}},{key:"_setStackedMinMax",value:function(){var e=this.w.globals,t=[],r=[];if(e.series.length)for(var n=0;n<e.series[e.maxValsInArrayIndex].length;n++)for(var o=0,i=0,a=0;a<e.series.length;a++)null!==e.series[a][n]&&b.isNumber(e.series[a][n])&&(e.series[a][n]>0?o=o+parseFloat(e.series[a][n])+1e-4:i+=parseFloat(e.series[a][n])),a===e.series.length-1&&(t.push(o),r.push(i));for(var s=0;s<t.length;s++)e.maxY=Math.max(e.maxY,t[s]),e.minY=Math.min(e.minY,r[s])}}]),e}(),J=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w;var r=this.w;this.xaxisFontSize=r.config.xaxis.labels.style.fontSize,this.axisFontFamily=r.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=r.config.xaxis.labels.style.colors,this.isCategoryBarHorizontal="bar"===r.config.chart.type&&r.config.plotOptions.bar.horizontal,this.xAxisoffX=0,"bottom"===r.config.xaxis.position&&(this.xAxisoffX=r.globals.gridHeight),this.drawnLabels=[],this.axesUtils=new X(t)}return u(e,[{key:"drawYaxis",value:function(e){var t=this,r=this.w,n=new x(this.ctx),o=r.config.yaxis[e].labels.style,i=o.fontSize,a=o.fontFamily,s=o.fontWeight,l=n.group({class:"apexcharts-yaxis",rel:e,transform:"translate("+r.globals.translateYAxisX[e]+", 0)"});if(this.axesUtils.isYAxisHidden(e))return l;var u=n.group({class:"apexcharts-yaxis-texts-g"});l.add(u);var c=r.globals.yAxisScale[e].result.length-1,p=r.globals.gridHeight/c,d=r.globals.translateY,h=r.globals.yLabelFormatters[e],f=r.globals.yAxisScale[e].result.slice();f=this.axesUtils.checkForReversedLabels(e,f);var g="";if(r.config.yaxis[e].labels.show)for(var y=function(l){var y=f[l];y=h(y,l,r);var v=r.config.yaxis[e].labels.padding;r.config.yaxis[e].opposite&&0!==r.config.yaxis.length&&(v*=-1);var m=t.axesUtils.getYAxisForeColor(o.colors,e),b=n.drawText({x:v,y:d+c/10+r.config.yaxis[e].labels.offsetY+1,text:y,textAnchor:r.config.yaxis[e].opposite?"start":"end",fontSize:i,fontFamily:a,fontWeight:s,maxWidth:r.config.yaxis[e].labels.maxWidth,foreColor:Array.isArray(m)?m[l]:m,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+o.cssClass});l===c&&(g=b),u.add(b);var C=document.createElementNS(r.globals.SVGNS,"title");if(C.textContent=Array.isArray(y)?y.join(" "):y,b.node.appendChild(C),0!==r.config.yaxis[e].labels.rotate){var w=n.rotateAroundCenter(g.node),x=n.rotateAroundCenter(b.node);b.node.setAttribute("transform","rotate(".concat(r.config.yaxis[e].labels.rotate," ").concat(w.x," ").concat(x.y,")"))}d+=p},v=c;v>=0;v--)y(v);if(void 0!==r.config.yaxis[e].title.text){var m=n.group({class:"apexcharts-yaxis-title"}),b=0;r.config.yaxis[e].opposite&&(b=r.globals.translateYAxisX[e]);var C=n.drawText({x:b,y:r.globals.gridHeight/2+r.globals.translateY+r.config.yaxis[e].title.offsetY,text:r.config.yaxis[e].title.text,textAnchor:"end",foreColor:r.config.yaxis[e].title.style.color,fontSize:r.config.yaxis[e].title.style.fontSize,fontWeight:r.config.yaxis[e].title.style.fontWeight,fontFamily:r.config.yaxis[e].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+r.config.yaxis[e].title.style.cssClass});m.add(C),l.add(m)}var w=r.config.yaxis[e].axisBorder,S=31+w.offsetX;if(r.config.yaxis[e].opposite&&(S=-31-w.offsetX),w.show){var E=n.drawLine(S,r.globals.translateY+w.offsetY-2,S,r.globals.gridHeight+r.globals.translateY+w.offsetY+2,w.color,0,w.width);l.add(E)}return r.config.yaxis[e].axisTicks.show&&this.axesUtils.drawYAxisTicks(S,c,w,r.config.yaxis[e].axisTicks,e,p,l),l}},{key:"drawYaxisInversed",value:function(e){var t=this.w,r=new x(this.ctx),n=r.group({class:"apexcharts-xaxis apexcharts-yaxis-inversed"}),o=r.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(t.globals.translateXAxisX,", ").concat(t.globals.translateXAxisY,")")});n.add(o);var i=t.globals.yAxisScale[e].result.length-1,a=t.globals.gridWidth/i+.1,s=a+t.config.xaxis.labels.offsetX,l=t.globals.xLabelFormatter,u=t.globals.yAxisScale[e].result.slice(),c=t.globals.timescaleLabels;c.length>0&&(this.xaxisLabels=c.slice(),i=(u=c.slice()).length),u=this.axesUtils.checkForReversedLabels(e,u);var p=c.length;if(t.config.xaxis.labels.show)for(var d=p?0:i;p?d<p:d>=0;p?d++:d--){var h=u[d];h=l(h,d,t);var f=t.globals.gridWidth+t.globals.padHorizontal-(s-a+t.config.xaxis.labels.offsetX);if(c.length){var g=this.axesUtils.getLabel(u,c,f,d,this.drawnLabels,this.xaxisFontSize);f=g.x,h=g.text,this.drawnLabels.push(g.text),0===d&&t.globals.skipFirstTimelinelabel&&(h=""),d===u.length-1&&t.globals.skipLastTimelinelabel&&(h="")}var y=r.drawText({x:f,y:this.xAxisoffX+t.config.xaxis.labels.offsetY+30-("top"===t.config.xaxis.position?t.globals.xAxisHeight+t.config.xaxis.axisTicks.height-2:0),text:h,textAnchor:"middle",foreColor:Array.isArray(this.xaxisForeColors)?this.xaxisForeColors[e]:this.xaxisForeColors,fontSize:this.xaxisFontSize,fontFamily:this.xaxisFontFamily,fontWeight:t.config.xaxis.labels.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-xaxis-label "+t.config.xaxis.labels.style.cssClass});o.add(y),y.tspan(h);var v=document.createElementNS(t.globals.SVGNS,"title");v.textContent=h,y.node.appendChild(v),s+=a}return this.inversedYAxisTitleText(n),this.inversedYAxisBorder(n),n}},{key:"inversedYAxisBorder",value:function(e){var t=this.w,r=new x(this.ctx),n=t.config.xaxis.axisBorder;if(n.show){var o=0;"bar"===t.config.chart.type&&t.globals.isXNumeric&&(o-=15);var i=r.drawLine(t.globals.padHorizontal+o+n.offsetX,this.xAxisoffX,t.globals.gridWidth,this.xAxisoffX,n.color,0,n.height);e.add(i)}}},{key:"inversedYAxisTitleText",value:function(e){var t=this.w,r=new x(this.ctx);if(void 0!==t.config.xaxis.title.text){var n=r.group({class:"apexcharts-xaxis-title apexcharts-yaxis-title-inversed"}),o=r.drawText({x:t.globals.gridWidth/2+t.config.xaxis.title.offsetX,y:this.xAxisoffX+parseFloat(this.xaxisFontSize)+parseFloat(t.config.xaxis.title.style.fontSize)+t.config.xaxis.title.offsetY+20,text:t.config.xaxis.title.text,textAnchor:"middle",fontSize:t.config.xaxis.title.style.fontSize,fontFamily:t.config.xaxis.title.style.fontFamily,fontWeight:t.config.xaxis.title.style.fontWeight,foreColor:t.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+t.config.xaxis.title.style.cssClass});n.add(o),e.add(n)}}},{key:"yAxisTitleRotate",value:function(e,t){var r=this.w,n=new x(this.ctx),o={width:0,height:0},i={width:0,height:0},a=r.globals.dom.baseEl.querySelector(" .apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-texts-g"));null!==a&&(o=a.getBoundingClientRect());var s=r.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-title text"));if(null!==s&&(i=s.getBoundingClientRect()),null!==s){var l=this.xPaddingForYAxisTitle(e,o,i,t);s.setAttribute("x",l.xPos-(t?10:0))}if(null!==s){var u=n.rotateAroundCenter(s);s.setAttribute("transform","rotate(".concat(t?-1*r.config.yaxis[e].title.rotate:r.config.yaxis[e].title.rotate," ").concat(u.x," ").concat(u.y,")"))}}},{key:"xPaddingForYAxisTitle",value:function(e,t,r,n){var o=this.w,i=0,a=0,s=10;return void 0===o.config.yaxis[e].title.text||e<0?{xPos:a,padd:0}:(n?(a=t.width+o.config.yaxis[e].title.offsetX+r.width/2+s/2,0===(i+=1)&&(a-=s/2)):(a=-1*t.width+o.config.yaxis[e].title.offsetX+s/2+r.width/2,o.globals.isBarHorizontal&&(s=25,a=-1*t.width-o.config.yaxis[e].title.offsetX-s)),{xPos:a,padd:s})}},{key:"setYAxisXPosition",value:function(e,t){var r=this.w,n=0,o=0,i=18,a=1;r.config.yaxis.length>1&&(this.multipleYs=!0),r.config.yaxis.map((function(s,l){var u=r.globals.ignoreYAxisIndexes.indexOf(l)>-1||!s.show||s.floating||0===e[l].width,c=e[l].width+t[l].width;s.opposite?r.globals.isBarHorizontal?(o=r.globals.gridWidth+r.globals.translateX-1,r.globals.translateYAxisX[l]=o-s.labels.offsetX):(o=r.globals.gridWidth+r.globals.translateX+a,u||(a=a+c+20),r.globals.translateYAxisX[l]=o-s.labels.offsetX+20):(n=r.globals.translateX-i,u||(i=i+c+20),r.globals.translateYAxisX[l]=n+s.labels.offsetX)}))}},{key:"setYAxisTextAlignments",value:function(){var e=this.w,t=e.globals.dom.baseEl.getElementsByClassName("apexcharts-yaxis");(t=b.listToArray(t)).forEach((function(t,r){var n=e.config.yaxis[r];if(n&&void 0!==n.labels.align){var o=e.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(r,"'] .apexcharts-yaxis-texts-g")),i=e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(r,"'] .apexcharts-yaxis-label"));i=b.listToArray(i);var a=o.getBoundingClientRect();"left"===n.labels.align?(i.forEach((function(e,t){e.setAttribute("text-anchor","start")})),n.opposite||o.setAttribute("transform","translate(-".concat(a.width,", 0)"))):"center"===n.labels.align?(i.forEach((function(e,t){e.setAttribute("text-anchor","middle")})),o.setAttribute("transform","translate(".concat(a.width/2*(n.opposite?1:-1),", 0)"))):"right"===n.labels.align&&(i.forEach((function(e,t){e.setAttribute("text-anchor","end")})),n.opposite&&o.setAttribute("transform","translate(".concat(a.width,", 0)")))}}))}}]),e}(),ee=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w,this.documentEvent=b.bind(this.documentEvent,this)}return u(e,[{key:"addEventListener",value:function(e,t){var r=this.w;r.globals.events.hasOwnProperty(e)?r.globals.events[e].push(t):r.globals.events[e]=[t]}},{key:"removeEventListener",value:function(e,t){var r=this.w;if(r.globals.events.hasOwnProperty(e)){var n=r.globals.events[e].indexOf(t);-1!==n&&r.globals.events[e].splice(n,1)}}},{key:"fireEvent",value:function(e,t){var r=this.w;if(r.globals.events.hasOwnProperty(e)){t&&t.length||(t=[]);for(var n=r.globals.events[e],o=n.length,i=0;i<o;i++)n[i].apply(null,t)}}},{key:"setupEventHandlers",value:function(){var e=this,t=this.w,r=this.ctx,n=t.globals.dom.baseEl.querySelector(t.globals.chartClass);this.ctx.eventList.forEach((function(e){n.addEventListener(e,(function(e){var n=Object.assign({},t,{seriesIndex:t.globals.capturedSeriesIndex,dataPointIndex:t.globals.capturedDataPointIndex});"mousemove"===e.type||"touchmove"===e.type?"function"==typeof t.config.chart.events.mouseMove&&t.config.chart.events.mouseMove(e,r,n):"mouseleave"===e.type||"touchleave"===e.type?"function"==typeof t.config.chart.events.mouseLeave&&t.config.chart.events.mouseLeave(e,r,n):("mouseup"===e.type&&1===e.which||"touchend"===e.type)&&("function"==typeof t.config.chart.events.click&&t.config.chart.events.click(e,r,n),r.ctx.events.fireEvent("click",[e,r,n]))}),{capture:!1,passive:!0})})),this.ctx.eventList.forEach((function(r){t.globals.dom.baseEl.addEventListener(r,e.documentEvent,{passive:!0})})),this.ctx.core.setupBrushHandler()}},{key:"documentEvent",value:function(e){var t=this.w,r=e.target.className;if("click"===e.type){var n=t.globals.dom.baseEl.querySelector(".apexcharts-menu");n&&n.classList.contains("apexcharts-menu-open")&&"apexcharts-menu-icon"!==r&&n.classList.remove("apexcharts-menu-open")}t.globals.clientX="touchmove"===e.type?e.touches[0].clientX:e.clientX,t.globals.clientY="touchmove"===e.type?e.touches[0].clientY:e.clientY}}]),e}(),te=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w}return u(e,[{key:"setCurrentLocaleValues",value:function(e){var t=this.w.config.chart.locales;window.Apex.chart&&window.Apex.chart.locales&&window.Apex.chart.locales.length>0&&(t=this.w.config.chart.locales.concat(window.Apex.chart.locales));var r=t.filter((function(t){return t.name===e}))[0];if(!r)throw new Error("Wrong locale name provided. Please make sure you set the correct locale name in options");var n=b.extend(R,r);this.w.globals.locale=n.options}}]),e}(),re=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w}return u(e,[{key:"drawAxis",value:function(e,t){var r,n,o=this.w.globals,i=this.w.config,a=new q(this.ctx),s=new J(this.ctx);o.axisCharts&&"radar"!==e&&(o.isBarHorizontal?(n=s.drawYaxisInversed(0),r=a.drawXaxisInversed(0),o.dom.elGraphical.add(r),o.dom.elGraphical.add(n)):(r=a.drawXaxis(),o.dom.elGraphical.add(r),i.yaxis.map((function(e,t){-1===o.ignoreYAxisIndexes.indexOf(t)&&(n=s.drawYaxis(t),o.dom.Paper.add(n))}))))}}]),e}(),ne=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w}return u(e,[{key:"drawXCrosshairs",value:function(){var e=this.w,t=new x(this.ctx),r=new w(this.ctx),n=e.config.xaxis.crosshairs.fill.gradient,o=e.config.xaxis.crosshairs.dropShadow,i=e.config.xaxis.crosshairs.fill.type,a=n.colorFrom,s=n.colorTo,l=n.opacityFrom,u=n.opacityTo,c=n.stops,p=o.enabled,d=o.left,h=o.top,f=o.blur,g=o.color,y=o.opacity,v=e.config.xaxis.crosshairs.fill.color;if(e.config.xaxis.crosshairs.show){"gradient"===i&&(v=t.drawGradient("vertical",a,s,l,u,null,c,null));var m=t.drawRect();1===e.config.xaxis.crosshairs.width&&(m=t.drawLine());var C=e.globals.gridHeight;(!b.isNumber(C)||C<0)&&(C=0);var S=e.config.xaxis.crosshairs.width;(!b.isNumber(S)||S<0)&&(S=0),m.attr({class:"apexcharts-xcrosshairs",x:0,y:0,y2:C,width:S,height:C,fill:v,filter:"none","fill-opacity":e.config.xaxis.crosshairs.opacity,stroke:e.config.xaxis.crosshairs.stroke.color,"stroke-width":e.config.xaxis.crosshairs.stroke.width,"stroke-dasharray":e.config.xaxis.crosshairs.stroke.dashArray}),p&&(m=r.dropShadow(m,{left:d,top:h,blur:f,color:g,opacity:y})),e.globals.dom.elGraphical.add(m)}}},{key:"drawYCrosshairs",value:function(){var e=this.w,t=new x(this.ctx),r=e.config.yaxis[0].crosshairs,n=e.globals.barPadForNumericAxis;if(e.config.yaxis[0].crosshairs.show){var o=t.drawLine(-n,0,e.globals.gridWidth+n,0,r.stroke.color,r.stroke.dashArray,r.stroke.width);o.attr({class:"apexcharts-ycrosshairs"}),e.globals.dom.elGraphical.add(o)}var i=t.drawLine(-n,0,e.globals.gridWidth+n,0,r.stroke.color,0,0);i.attr({class:"apexcharts-ycrosshairs-hidden"}),e.globals.dom.elGraphical.add(i)}}]),e}(),oe=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w}return u(e,[{key:"checkResponsiveConfig",value:function(e){var t=this,r=this.w,n=r.config;if(0!==n.responsive.length){var o=n.responsive.slice();o.sort((function(e,t){return e.breakpoint>t.breakpoint?1:t.breakpoint>e.breakpoint?-1:0})).reverse();var i=new j({}),a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=o[0].breakpoint,a=window.innerWidth>0?window.innerWidth:screen.width;if(a>n){var s=S.extendArrayProps(i,r.globals.initialConfig,r);e=b.extend(s,e),e=b.extend(r.config,e),t.overrideResponsiveOptions(e)}else for(var l=0;l<o.length;l++)a<o[l].breakpoint&&(e=S.extendArrayProps(i,o[l].options,r),e=b.extend(r.config,e),t.overrideResponsiveOptions(e))};if(e){var s=S.extendArrayProps(i,e,r);s=b.extend(r.config,s),a(s=b.extend(s,e))}else a({})}}},{key:"overrideResponsiveOptions",value:function(e){var t=new j(e).init({responsiveOverride:!0});this.w.config=t}}]),e}(),ie=function(){function e(t){s(this,e),this.ctx=t,this.colors=[],this.w=t.w;var r=this.w;this.isColorFn=!1,this.isHeatmapDistributed="treemap"===r.config.chart.type&&r.config.plotOptions.treemap.distributed||"heatmap"===r.config.chart.type&&r.config.plotOptions.heatmap.distributed,this.isBarDistributed=r.config.plotOptions.bar.distributed&&("bar"===r.config.chart.type||"rangeBar"===r.config.chart.type)}return u(e,[{key:"init",value:function(){this.setDefaultColors()}},{key:"setDefaultColors",value:function(){var e=this,t=this.w,r=new b;if(t.globals.dom.elWrap.classList.add("apexcharts-theme-".concat(t.config.theme.mode)),void 0===t.config.colors?t.globals.colors=this.predefined():(t.globals.colors=t.config.colors,Array.isArray(t.config.colors)&&t.config.colors.length>0&&"function"==typeof t.config.colors[0]&&(t.globals.colors=t.config.series.map((function(r,n){var o=t.config.colors[n];return o||(o=t.config.colors[0]),"function"==typeof o?(e.isColorFn=!0,o({value:t.globals.axisCharts?t.globals.series[n][0]?t.globals.series[n][0]:0:t.globals.series[n],seriesIndex:n,dataPointIndex:n,w:t})):o})))),t.globals.seriesColors.map((function(e,r){e&&(t.globals.colors[r]=e)})),t.config.theme.monochrome.enabled){var n=[],o=t.globals.series.length;(this.isBarDistributed||this.isHeatmapDistributed)&&(o=t.globals.series[0].length*t.globals.series.length);for(var i=t.config.theme.monochrome.color,a=1/(o/t.config.theme.monochrome.shadeIntensity),s=t.config.theme.monochrome.shadeTo,l=0,u=0;u<o;u++){var c=void 0;"dark"===s?(c=r.shadeColor(-1*l,i),l+=a):(c=r.shadeColor(l,i),l+=a),n.push(c)}t.globals.colors=n.slice()}var p=t.globals.colors.slice();this.pushExtraColors(t.globals.colors),["fill","stroke"].forEach((function(r){void 0===t.config[r].colors?t.globals[r].colors=e.isColorFn?t.config.colors:p:t.globals[r].colors=t.config[r].colors.slice(),e.pushExtraColors(t.globals[r].colors)})),void 0===t.config.dataLabels.style.colors?t.globals.dataLabels.style.colors=p:t.globals.dataLabels.style.colors=t.config.dataLabels.style.colors.slice(),this.pushExtraColors(t.globals.dataLabels.style.colors,50),void 0===t.config.plotOptions.radar.polygons.fill.colors?t.globals.radarPolygons.fill.colors=["dark"===t.config.theme.mode?"#424242":"none"]:t.globals.radarPolygons.fill.colors=t.config.plotOptions.radar.polygons.fill.colors.slice(),this.pushExtraColors(t.globals.radarPolygons.fill.colors,20),void 0===t.config.markers.colors?t.globals.markers.colors=p:t.globals.markers.colors=t.config.markers.colors.slice(),this.pushExtraColors(t.globals.markers.colors)}},{key:"pushExtraColors",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=this.w,o=t||n.globals.series.length;if(null===r&&(r=this.isBarDistributed||this.isHeatmapDistributed||"heatmap"===n.config.chart.type&&n.config.plotOptions.heatmap.colorScale.inverse),r&&n.globals.series.length&&(o=n.globals.series[n.globals.maxValsInArrayIndex].length*n.globals.series.length),e.length<o)for(var i=o-e.length,a=0;a<i;a++)e.push(e[a])}},{key:"updateThemeOptions",value:function(e){e.chart=e.chart||{},e.tooltip=e.tooltip||{};var t=e.theme.mode||"light",r=e.theme.palette?e.theme.palette:"dark"===t?"palette4":"palette1",n=e.chart.foreColor?e.chart.foreColor:"dark"===t?"#f6f7f8":"#373d3f";return e.tooltip.theme=t,e.chart.foreColor=n,e.theme.palette=r,e}},{key:"predefined",value:function(){switch(this.w.config.theme.palette){case"palette1":default:this.colors=["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"];break;case"palette2":this.colors=["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#FF9800"];break;case"palette3":this.colors=["#33b2df","#546E7A","#d4526e","#13d8aa","#A5978B"];break;case"palette4":this.colors=["#4ecdc4","#c7f464","#81D4FA","#fd6a6a","#546E7A"];break;case"palette5":this.colors=["#2b908f","#f9a3a4","#90ee7e","#fa4443","#69d2e7"];break;case"palette6":this.colors=["#449DD1","#F86624","#EA3546","#662E9B","#C5D86D"];break;case"palette7":this.colors=["#D7263D","#1B998B","#2E294E","#F46036","#E2C044"];break;case"palette8":this.colors=["#662E9B","#F86624","#F9C80E","#EA3546","#43BCCD"];break;case"palette9":this.colors=["#5C4742","#A5978B","#8D5B4C","#5A2A27","#C4BBAF"];break;case"palette10":this.colors=["#A300D6","#7D02EB","#5653FE","#2983FF","#00B1F2"]}return this.colors}}]),e}(),ae=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w}return u(e,[{key:"draw",value:function(){this.drawTitleSubtitle("title"),this.drawTitleSubtitle("subtitle")}},{key:"drawTitleSubtitle",value:function(e){var t=this.w,r="title"===e?t.config.title:t.config.subtitle,n=t.globals.svgWidth/2,o=r.offsetY,i="middle";if("left"===r.align?(n=10,i="start"):"right"===r.align&&(n=t.globals.svgWidth-10,i="end"),n+=r.offsetX,o=o+parseInt(r.style.fontSize,10)+r.margin/2,void 0!==r.text){var a=new x(this.ctx).drawText({x:n,y:o,text:r.text,textAnchor:i,fontSize:r.style.fontSize,fontFamily:r.style.fontFamily,fontWeight:r.style.fontWeight,foreColor:r.style.color,opacity:1});a.node.setAttribute("class","apexcharts-".concat(e,"-text")),t.globals.dom.Paper.add(a)}}}]),e}(),se=function(){function e(t){s(this,e),this.w=t.w,this.dCtx=t}return u(e,[{key:"getTitleSubtitleCoords",value:function(e){var t=this.w,r=0,n=0,o="title"===e?t.config.title.floating:t.config.subtitle.floating,i=t.globals.dom.baseEl.querySelector(".apexcharts-".concat(e,"-text"));if(null!==i&&!o){var a=i.getBoundingClientRect();r=a.width,n=t.globals.axisCharts?a.height+5:a.height}return{width:r,height:n}}},{key:"getLegendsRect",value:function(){var e=this.w,t=e.globals.dom.baseEl.querySelector(".apexcharts-legend");e.config.legend.height||"top"!==e.config.legend.position&&"bottom"!==e.config.legend.position||(t.style.maxHeight=e.globals.svgHeight/2+"px");var r=Object.assign({},b.getBoundingClientRect(t));return null!==t&&!e.config.legend.floating&&e.config.legend.show?this.dCtx.lgRect={x:r.x,y:r.y,height:r.height,width:0===r.height?0:r.width}:this.dCtx.lgRect={x:0,y:0,height:0,width:0},"left"!==e.config.legend.position&&"right"!==e.config.legend.position||1.5*this.dCtx.lgRect.width>e.globals.svgWidth&&(this.dCtx.lgRect.width=e.globals.svgWidth/1.5),this.dCtx.lgRect}},{key:"getLargestStringFromMultiArr",value:function(e,t){var r=e;if(this.w.globals.isMultiLineX){var n=t.map((function(e,t){return Array.isArray(e)?e.length:1})),o=Math.max.apply(Math,y(n));r=t[n.indexOf(o)]}return r}}]),e}(),le=function(){function e(t){s(this,e),this.w=t.w,this.dCtx=t}return u(e,[{key:"getxAxisLabelsCoords",value:function(){var e,t=this.w,r=t.globals.labels.slice();if(t.config.xaxis.convertedCatToNumeric&&0===r.length&&(r=t.globals.categoryLabels),t.globals.timescaleLabels.length>0){var n=this.getxAxisTimeScaleLabelsCoords();e={width:n.width,height:n.height},t.globals.rotateXLabels=!1}else{this.dCtx.lgWidthForSideLegends="left"!==t.config.legend.position&&"right"!==t.config.legend.position||t.config.legend.floating?0:this.dCtx.lgRect.width;var o=t.globals.xLabelFormatter,i=b.getLargestStringFromArr(r),a=this.dCtx.dimHelpers.getLargestStringFromMultiArr(i,r);t.globals.isBarHorizontal&&(a=i=t.globals.yAxisScale[0].result.reduce((function(e,t){return e.length>t.length?e:t}),0));var s=new Y(this.dCtx.ctx),l=i;i=s.xLabelFormat(o,i,l,{i:void 0,dateFormatter:new B(this.dCtx.ctx).formatDate,w:t}),a=s.xLabelFormat(o,a,l,{i:void 0,dateFormatter:new B(this.dCtx.ctx).formatDate,w:t}),(t.config.xaxis.convertedCatToNumeric&&void 0===i||""===String(i).trim())&&(a=i="1");var u=new x(this.dCtx.ctx),c=u.getTextRects(i,t.config.xaxis.labels.style.fontSize),p=c;if(i!==a&&(p=u.getTextRects(a,t.config.xaxis.labels.style.fontSize)),(e={width:c.width>=p.width?c.width:p.width,height:c.height>=p.height?c.height:p.height}).width*r.length>t.globals.svgWidth-this.dCtx.lgWidthForSideLegends-this.dCtx.yAxisWidth-this.dCtx.gridPad.left-this.dCtx.gridPad.right&&0!==t.config.xaxis.labels.rotate||t.config.xaxis.labels.rotateAlways){if(!t.globals.isBarHorizontal){t.globals.rotateXLabels=!0;var d=function(e){return u.getTextRects(e,t.config.xaxis.labels.style.fontSize,t.config.xaxis.labels.style.fontFamily,"rotate(".concat(t.config.xaxis.labels.rotate," 0 0)"),!1)};c=d(i),i!==a&&(p=d(a)),e.height=(c.height>p.height?c.height:p.height)/1.5,e.width=c.width>p.width?c.width:p.width}}else t.globals.rotateXLabels=!1}return t.config.xaxis.labels.show||(e={width:0,height:0}),{width:e.width,height:e.height}}},{key:"getxAxisGroupLabelsCoords",value:function(){var e,t=this.w;if(!t.globals.hasGroups)return{width:0,height:0};var r,n=(null===(e=t.config.xaxis.group.style)||void 0===e?void 0:e.fontSize)||t.config.xaxis.labels.style.fontSize,o=t.globals.groups.map((function(e){return e.title})),i=b.getLargestStringFromArr(o),a=this.dCtx.dimHelpers.getLargestStringFromMultiArr(i,o),s=new x(this.dCtx.ctx),l=s.getTextRects(i,n),u=l;return i!==a&&(u=s.getTextRects(a,n)),r={width:l.width>=u.width?l.width:u.width,height:l.height>=u.height?l.height:u.height},t.config.xaxis.labels.show||(r={width:0,height:0}),{width:r.width,height:r.height}}},{key:"getxAxisTitleCoords",value:function(){var e=this.w,t=0,r=0;if(void 0!==e.config.xaxis.title.text){var n=new x(this.dCtx.ctx).getTextRects(e.config.xaxis.title.text,e.config.xaxis.title.style.fontSize);t=n.width,r=n.height}return{width:t,height:r}}},{key:"getxAxisTimeScaleLabelsCoords",value:function(){var e,t=this.w;this.dCtx.timescaleLabels=t.globals.timescaleLabels.slice();var r=this.dCtx.timescaleLabels.map((function(e){return e.value})),n=r.reduce((function(e,t){return void 0===e?(console.error("You have possibly supplied invalid Date format. Please supply a valid JavaScript Date"),0):e.length>t.length?e:t}),0);return 1.05*(e=new x(this.dCtx.ctx).getTextRects(n,t.config.xaxis.labels.style.fontSize)).width*r.length>t.globals.gridWidth&&0!==t.config.xaxis.labels.rotate&&(t.globals.overlappingXLabels=!0),e}},{key:"additionalPaddingXLabels",value:function(e){var t=this,r=this.w,n=r.globals,o=r.config,i=o.xaxis.type,a=e.width;n.skipLastTimelinelabel=!1,n.skipFirstTimelinelabel=!1;var s=r.config.yaxis[0].opposite&&r.globals.isBarHorizontal,l=function(e,s){(function(e){return-1!==n.collapsedSeriesIndices.indexOf(e)})(s)||function(e){if(t.dCtx.timescaleLabels&&t.dCtx.timescaleLabels.length){var s=t.dCtx.timescaleLabels[0],l=t.dCtx.timescaleLabels[t.dCtx.timescaleLabels.length-1].position+a/1.75-t.dCtx.yAxisWidthRight,u=s.position-a/1.75+t.dCtx.yAxisWidthLeft,c="right"===r.config.legend.position&&t.dCtx.lgRect.width>0?t.dCtx.lgRect.width:0;l>n.svgWidth-n.translateX-c&&(n.skipLastTimelinelabel=!0),u<-(e.show&&!e.floating||"bar"!==o.chart.type&&"candlestick"!==o.chart.type&&"rangeBar"!==o.chart.type&&"boxPlot"!==o.chart.type?10:a/1.75)&&(n.skipFirstTimelinelabel=!0)}else"datetime"===i?t.dCtx.gridPad.right<a&&!n.rotateXLabels&&(n.skipLastTimelinelabel=!0):"datetime"!==i&&t.dCtx.gridPad.right<a/2-t.dCtx.yAxisWidthRight&&!n.rotateXLabels&&!r.config.xaxis.labels.trim&&("between"!==r.config.xaxis.tickPlacement||r.globals.isBarHorizontal)&&(t.dCtx.xPadRight=a/2+1)}(e)};o.yaxis.forEach((function(e,r){s?(t.dCtx.gridPad.left<a&&(t.dCtx.xPadLeft=a/2+1),t.dCtx.xPadRight=a/2+1):l(e,r)}))}}]),e}(),ue=function(){function e(t){s(this,e),this.w=t.w,this.dCtx=t}return u(e,[{key:"getyAxisLabelsCoords",value:function(){var e=this,t=this.w,r=[],n=10,o=new X(this.dCtx.ctx);return t.config.yaxis.map((function(i,a){var s=t.globals.yAxisScale[a],l=0;if(!o.isYAxisHidden(a)&&i.labels.show&&void 0!==i.labels.minWidth&&(l=i.labels.minWidth),!o.isYAxisHidden(a)&&i.labels.show&&s.result.length){var u=t.globals.yLabelFormatters[a],c=s.niceMin===Number.MIN_VALUE?0:s.niceMin,p=String(c).length>String(s.niceMax).length?c:s.niceMax,d=u(p,{seriesIndex:a,dataPointIndex:-1,w:t}),h=d;if(void 0!==d&&0!==d.length||(d=p),t.globals.isBarHorizontal){n=0;var f=t.globals.labels.slice();d=u(d=b.getLargestStringFromArr(f),{seriesIndex:a,dataPointIndex:-1,w:t}),h=e.dCtx.dimHelpers.getLargestStringFromMultiArr(d,f)}var g=new x(e.dCtx.ctx),y="rotate(".concat(i.labels.rotate," 0 0)"),v=g.getTextRects(d,i.labels.style.fontSize,i.labels.style.fontFamily,y,!1),m=v;d!==h&&(m=g.getTextRects(h,i.labels.style.fontSize,i.labels.style.fontFamily,y,!1)),r.push({width:(l>m.width||l>v.width?l:m.width>v.width?m.width:v.width)+n,height:m.height>v.height?m.height:v.height})}else r.push({width:0,height:0})})),r}},{key:"getyAxisTitleCoords",value:function(){var e=this,t=this.w,r=[];return t.config.yaxis.map((function(t,n){if(t.show&&void 0!==t.title.text){var o=new x(e.dCtx.ctx),i="rotate(".concat(t.title.rotate," 0 0)"),a=o.getTextRects(t.title.text,t.title.style.fontSize,t.title.style.fontFamily,i,!1);r.push({width:a.width,height:a.height})}else r.push({width:0,height:0})})),r}},{key:"getTotalYAxisWidth",value:function(){var e=this.w,t=0,r=0,n=0,o=e.globals.yAxisScale.length>1?10:0,i=new X(this.dCtx.ctx),a=function(a,s){var l=e.config.yaxis[s].floating,u=0;a.width>0&&!l?(u=a.width+o,function(t){return e.globals.ignoreYAxisIndexes.indexOf(t)>-1}(s)&&(u=u-a.width-o)):u=l||i.isYAxisHidden(s)?0:5,e.config.yaxis[s].opposite?n+=u:r+=u,t+=u};return e.globals.yLabelsCoords.map((function(e,t){a(e,t)})),e.globals.yTitleCoords.map((function(e,t){a(e,t)})),e.globals.isBarHorizontal&&!e.config.yaxis[0].floating&&(t=e.globals.yLabelsCoords[0].width+e.globals.yTitleCoords[0].width+15),this.dCtx.yAxisWidthLeft=r,this.dCtx.yAxisWidthRight=n,t}}]),e}(),ce=function(){function e(t){s(this,e),this.w=t.w,this.dCtx=t}return u(e,[{key:"gridPadForColumnsInNumericAxis",value:function(e){var t=this.w;if(t.globals.noData||t.globals.allSeriesCollapsed)return 0;var r=function(e){return"bar"===e||"rangeBar"===e||"candlestick"===e||"boxPlot"===e},n=t.config.chart.type,o=0,i=r(n)?t.config.series.length:1;if(t.globals.comboBarCount>0&&(i=t.globals.comboBarCount),t.globals.collapsedSeries.forEach((function(e){r(e.type)&&(i-=1)})),t.config.chart.stacked&&(i=1),(r(n)||t.globals.comboBarCount>0)&&t.globals.isXNumeric&&!t.globals.isBarHorizontal&&i>0){var a,s,l=Math.abs(t.globals.initialMaxX-t.globals.initialMinX);l<=3&&(l=t.globals.dataPoints),a=l/e,t.globals.minXDiff&&t.globals.minXDiff/a>0&&(s=t.globals.minXDiff/a),s>e/2&&(s/=2),(o=s/i*parseInt(t.config.plotOptions.bar.columnWidth,10)/100)<1&&(o=1),o=o/(i>1?1:1.5)+5,t.globals.barPadForNumericAxis=o}return o}},{key:"gridPadFortitleSubtitle",value:function(){var e=this,t=this.w,r=t.globals,n=this.dCtx.isSparkline||!t.globals.axisCharts?0:10;["title","subtitle"].forEach((function(r){void 0!==t.config[r].text?n+=t.config[r].margin:n+=e.dCtx.isSparkline||!t.globals.axisCharts?0:5})),!t.config.legend.show||"bottom"!==t.config.legend.position||t.config.legend.floating||t.globals.axisCharts||(n+=10);var o=this.dCtx.dimHelpers.getTitleSubtitleCoords("title"),i=this.dCtx.dimHelpers.getTitleSubtitleCoords("subtitle");r.gridHeight=r.gridHeight-o.height-i.height-n,r.translateY=r.translateY+o.height+i.height+n}},{key:"setGridXPosForDualYAxis",value:function(e,t){var r=this.w,n=new X(this.dCtx.ctx);r.config.yaxis.map((function(o,i){-1!==r.globals.ignoreYAxisIndexes.indexOf(i)||o.floating||n.isYAxisHidden(i)||(o.opposite&&(r.globals.translateX=r.globals.translateX-(t[i].width+e[i].width)-parseInt(r.config.yaxis[i].labels.style.fontSize,10)/1.2-12),r.globals.translateX<2&&(r.globals.translateX=2))}))}}]),e}(),pe=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w,this.lgRect={},this.yAxisWidth=0,this.yAxisWidthLeft=0,this.yAxisWidthRight=0,this.xAxisHeight=0,this.isSparkline=this.w.config.chart.sparkline.enabled,this.dimHelpers=new se(this),this.dimYAxis=new ue(this),this.dimXAxis=new le(this),this.dimGrid=new ce(this),this.lgWidthForSideLegends=0,this.gridPad=this.w.config.grid.padding,this.xPadRight=0,this.xPadLeft=0}return u(e,[{key:"plotCoords",value:function(){var e=this,t=this.w,r=t.globals;this.lgRect=this.dimHelpers.getLegendsRect(),this.isSparkline&&(t.config.markers.discrete.length>0||t.config.markers.size>0)&&Object.entries(this.gridPad).forEach((function(t){var r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw o}}return i}}(e,t)||v(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t,2),n=r[0],o=r[1];e.gridPad[n]=Math.max(o,e.w.globals.markers.largestSize/1.5)})),r.axisCharts?this.setDimensionsForAxisCharts():this.setDimensionsForNonAxisCharts(),this.dimGrid.gridPadFortitleSubtitle(),r.gridHeight=r.gridHeight-this.gridPad.top-this.gridPad.bottom,r.gridWidth=r.gridWidth-this.gridPad.left-this.gridPad.right-this.xPadRight-this.xPadLeft;var n=this.dimGrid.gridPadForColumnsInNumericAxis(r.gridWidth);r.gridWidth=r.gridWidth-2*n,r.translateX=r.translateX+this.gridPad.left+this.xPadLeft+(n>0?n+4:0),r.translateY=r.translateY+this.gridPad.top}},{key:"setDimensionsForAxisCharts",value:function(){var e=this,t=this.w,r=t.globals,n=this.dimYAxis.getyAxisLabelsCoords(),o=this.dimYAxis.getyAxisTitleCoords();t.globals.yLabelsCoords=[],t.globals.yTitleCoords=[],t.config.yaxis.map((function(e,r){t.globals.yLabelsCoords.push({width:n[r].width,index:r}),t.globals.yTitleCoords.push({width:o[r].width,index:r})})),this.yAxisWidth=this.dimYAxis.getTotalYAxisWidth();var i=this.dimXAxis.getxAxisLabelsCoords(),a=this.dimXAxis.getxAxisGroupLabelsCoords(),s=this.dimXAxis.getxAxisTitleCoords();this.conditionalChecksForAxisCoords(i,s,a),r.translateXAxisY=t.globals.rotateXLabels?this.xAxisHeight/8:-4,r.translateXAxisX=t.globals.rotateXLabels&&t.globals.isXNumeric&&t.config.xaxis.labels.rotate<=-45?-this.xAxisWidth/4:0,t.globals.isBarHorizontal&&(r.rotateXLabels=!1,r.translateXAxisY=parseInt(t.config.xaxis.labels.style.fontSize,10)/1.5*-1),r.translateXAxisY=r.translateXAxisY+t.config.xaxis.labels.offsetY,r.translateXAxisX=r.translateXAxisX+t.config.xaxis.labels.offsetX;var l=this.yAxisWidth,u=this.xAxisHeight;r.xAxisLabelsHeight=this.xAxisHeight-s.height,r.xAxisGroupLabelsHeight=r.xAxisLabelsHeight-i.height,r.xAxisLabelsWidth=this.xAxisWidth,r.xAxisHeight=this.xAxisHeight;var c=10;("radar"===t.config.chart.type||this.isSparkline)&&(l=0,u=r.goldenPadding),this.isSparkline&&(this.lgRect={height:0,width:0}),(this.isSparkline||"treemap"===t.config.chart.type)&&(l=0,u=0,c=0),this.isSparkline||this.dimXAxis.additionalPaddingXLabels(i);var p=function(){r.translateX=l,r.gridHeight=r.svgHeight-e.lgRect.height-u-(e.isSparkline||"treemap"===t.config.chart.type?0:t.globals.rotateXLabels?10:15),r.gridWidth=r.svgWidth-l};switch("top"===t.config.xaxis.position&&(c=r.xAxisHeight-t.config.xaxis.axisTicks.height-5),t.config.legend.position){case"bottom":r.translateY=c,p();break;case"top":r.translateY=this.lgRect.height+c,p();break;case"left":r.translateY=c,r.translateX=this.lgRect.width+l,r.gridHeight=r.svgHeight-u-12,r.gridWidth=r.svgWidth-this.lgRect.width-l;break;case"right":r.translateY=c,r.translateX=l,r.gridHeight=r.svgHeight-u-12,r.gridWidth=r.svgWidth-this.lgRect.width-l-5;break;default:throw new Error("Legend position not supported")}this.dimGrid.setGridXPosForDualYAxis(o,n),new J(this.ctx).setYAxisXPosition(n,o)}},{key:"setDimensionsForNonAxisCharts",value:function(){var e=this.w,t=e.globals,r=e.config,n=0;e.config.legend.show&&!e.config.legend.floating&&(n=20);var o="pie"===r.chart.type||"polarArea"===r.chart.type||"donut"===r.chart.type?"pie":"radialBar",i=r.plotOptions[o].offsetY,a=r.plotOptions[o].offsetX;if(!r.legend.show||r.legend.floating)return t.gridHeight=t.svgHeight-r.grid.padding.left+r.grid.padding.right,t.gridWidth=t.gridHeight,t.translateY=i,void(t.translateX=a+(t.svgWidth-t.gridWidth)/2);switch(r.legend.position){case"bottom":t.gridHeight=t.svgHeight-this.lgRect.height-t.goldenPadding,t.gridWidth=t.svgWidth,t.translateY=i-10,t.translateX=a+(t.svgWidth-t.gridWidth)/2;break;case"top":t.gridHeight=t.svgHeight-this.lgRect.height-t.goldenPadding,t.gridWidth=t.svgWidth,t.translateY=this.lgRect.height+i+10,t.translateX=a+(t.svgWidth-t.gridWidth)/2;break;case"left":t.gridWidth=t.svgWidth-this.lgRect.width-n,t.gridHeight="auto"!==r.chart.height?t.svgHeight:t.gridWidth,t.translateY=i,t.translateX=a+this.lgRect.width+n;break;case"right":t.gridWidth=t.svgWidth-this.lgRect.width-n-5,t.gridHeight="auto"!==r.chart.height?t.svgHeight:t.gridWidth,t.translateY=i,t.translateX=a+10;break;default:throw new Error("Legend position not supported")}}},{key:"conditionalChecksForAxisCoords",value:function(e,t,r){var n=this.w,o=n.globals.hasGroups?2:1,i=r.height+e.height+t.height,a=n.globals.isMultiLineX?1.2:n.globals.LINE_HEIGHT_RATIO,s=n.globals.rotateXLabels?22:10,l=n.globals.rotateXLabels&&"bottom"===n.config.legend.position?10:0;this.xAxisHeight=i*a+o*s+l,this.xAxisWidth=e.width,this.xAxisHeight-t.height>n.config.xaxis.labels.maxHeight&&(this.xAxisHeight=n.config.xaxis.labels.maxHeight),n.config.xaxis.labels.minHeight&&this.xAxisHeight<n.config.xaxis.labels.minHeight&&(this.xAxisHeight=n.config.xaxis.labels.minHeight),n.config.xaxis.floating&&(this.xAxisHeight=0);var u=0,c=0;n.config.yaxis.forEach((function(e){u+=e.labels.minWidth,c+=e.labels.maxWidth})),this.yAxisWidth<u&&(this.yAxisWidth=u),this.yAxisWidth>c&&(this.yAxisWidth=c)}}]),e}(),de=function(){function e(t){s(this,e),this.w=t.w,this.lgCtx=t}return u(e,[{key:"getLegendStyles",value:function(){var e=document.createElement("style");e.setAttribute("type","text/css");var t=document.createTextNode("\t\n    \t\n      .apexcharts-legend {\t\n        display: flex;\t\n        overflow: auto;\t\n        padding: 0 10px;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom, .apexcharts-legend.apx-legend-position-top {\t\n        flex-wrap: wrap\t\n      }\t\n      .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {\t\n        flex-direction: column;\t\n        bottom: 0;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-left, .apexcharts-legend.apx-legend-position-top.apexcharts-align-left, .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {\t\n        justify-content: flex-start;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-center, .apexcharts-legend.apx-legend-position-top.apexcharts-align-center {\t\n        justify-content: center;  \t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-right, .apexcharts-legend.apx-legend-position-top.apexcharts-align-right {\t\n        justify-content: flex-end;\t\n      }\t\n      .apexcharts-legend-series {\t\n        cursor: pointer;\t\n        line-height: normal;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom .apexcharts-legend-series, .apexcharts-legend.apx-legend-position-top .apexcharts-legend-series{\t\n        display: flex;\t\n        align-items: center;\t\n      }\t\n      .apexcharts-legend-text {\t\n        position: relative;\t\n        font-size: 14px;\t\n      }\t\n      .apexcharts-legend-text *, .apexcharts-legend-marker * {\t\n        pointer-events: none;\t\n      }\t\n      .apexcharts-legend-marker {\t\n        position: relative;\t\n        display: inline-block;\t\n        cursor: pointer;\t\n        margin-right: 3px;\t\n        border-style: solid;\n      }\t\n      \t\n      .apexcharts-legend.apexcharts-align-right .apexcharts-legend-series, .apexcharts-legend.apexcharts-align-left .apexcharts-legend-series{\t\n        display: inline-block;\t\n      }\t\n      .apexcharts-legend-series.apexcharts-no-click {\t\n        cursor: auto;\t\n      }\t\n      .apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {\t\n        display: none !important;\t\n      }\t\n      .apexcharts-inactive-legend {\t\n        opacity: 0.45;\t\n      }");return e.appendChild(t),e}},{key:"getLegendBBox",value:function(){var e=this.w.globals.dom.baseEl.querySelector(".apexcharts-legend").getBoundingClientRect(),t=e.width;return{clwh:e.height,clww:t}}},{key:"appendToForeignObject",value:function(){var e=this.w.globals;e.dom.elLegendForeign=document.createElementNS(e.SVGNS,"foreignObject");var t=e.dom.elLegendForeign;t.setAttribute("x",0),t.setAttribute("y",0),t.setAttribute("width",e.svgWidth),t.setAttribute("height",e.svgHeight),e.dom.elLegendWrap.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),t.appendChild(e.dom.elLegendWrap),t.appendChild(this.getLegendStyles()),e.dom.Paper.node.insertBefore(t,e.dom.elGraphical.node)}},{key:"toggleDataSeries",value:function(e,t){var r=this,n=this.w;if(n.globals.axisCharts||"radialBar"===n.config.chart.type){n.globals.resized=!0;var o=null,i=null;n.globals.risingSeries=[],n.globals.axisCharts?(o=n.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(e,"']")),i=parseInt(o.getAttribute("data:realIndex"),10)):(o=n.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(e+1,"']")),i=parseInt(o.getAttribute("rel"),10)-1),t?[{cs:n.globals.collapsedSeries,csi:n.globals.collapsedSeriesIndices},{cs:n.globals.ancillaryCollapsedSeries,csi:n.globals.ancillaryCollapsedSeriesIndices}].forEach((function(e){r.riseCollapsedSeries(e.cs,e.csi,i)})):this.hideSeries({seriesEl:o,realIndex:i})}else{var a=n.globals.dom.Paper.select(" .apexcharts-series[rel='".concat(e+1,"'] path")),s=n.config.chart.type;if("pie"===s||"polarArea"===s||"donut"===s){var l=n.config.plotOptions.pie.donut.labels;new x(this.lgCtx.ctx).pathMouseDown(a.members[0],null),this.lgCtx.ctx.pie.printDataLabelsInner(a.members[0].node,l)}a.fire("click")}}},{key:"hideSeries",value:function(e){var t=e.seriesEl,r=e.realIndex,n=this.w,o=b.clone(n.config.series);if(n.globals.axisCharts){var i=!1;if(n.config.yaxis[r]&&n.config.yaxis[r].show&&n.config.yaxis[r].showAlways&&(i=!0,n.globals.ancillaryCollapsedSeriesIndices.indexOf(r)<0&&(n.globals.ancillaryCollapsedSeries.push({index:r,data:o[r].data.slice(),type:t.parentNode.className.baseVal.split("-")[1]}),n.globals.ancillaryCollapsedSeriesIndices.push(r))),!i){n.globals.collapsedSeries.push({index:r,data:o[r].data.slice(),type:t.parentNode.className.baseVal.split("-")[1]}),n.globals.collapsedSeriesIndices.push(r);var a=n.globals.risingSeries.indexOf(r);n.globals.risingSeries.splice(a,1)}}else n.globals.collapsedSeries.push({index:r,data:o[r]}),n.globals.collapsedSeriesIndices.push(r);for(var s=t.childNodes,l=0;l<s.length;l++)s[l].classList.contains("apexcharts-series-markers-wrap")&&(s[l].classList.contains("apexcharts-hide")?s[l].classList.remove("apexcharts-hide"):s[l].classList.add("apexcharts-hide"));n.globals.allSeriesCollapsed=n.globals.collapsedSeries.length===n.config.series.length,o=this._getSeriesBasedOnCollapsedState(o),this.lgCtx.ctx.updateHelpers._updateSeries(o,n.config.chart.animations.dynamicAnimation.enabled)}},{key:"riseCollapsedSeries",value:function(e,t,r){var n=this.w,o=b.clone(n.config.series);if(e.length>0){for(var i=0;i<e.length;i++)e[i].index===r&&(n.globals.axisCharts?(o[r].data=e[i].data.slice(),e.splice(i,1),t.splice(i,1),n.globals.risingSeries.push(r)):(o[r]=e[i].data,e.splice(i,1),t.splice(i,1),n.globals.risingSeries.push(r)));o=this._getSeriesBasedOnCollapsedState(o),this.lgCtx.ctx.updateHelpers._updateSeries(o,n.config.chart.animations.dynamicAnimation.enabled)}}},{key:"_getSeriesBasedOnCollapsedState",value:function(e){var t=this.w;return t.globals.axisCharts?e.forEach((function(r,n){t.globals.collapsedSeriesIndices.indexOf(n)>-1&&(e[n].data=[])})):e.forEach((function(r,n){t.globals.collapsedSeriesIndices.indexOf(n)>-1&&(e[n]=0)})),e}}]),e}(),he=function(){function e(t,r){s(this,e),this.ctx=t,this.w=t.w,this.onLegendClick=this.onLegendClick.bind(this),this.onLegendHovered=this.onLegendHovered.bind(this),this.isBarsDistributed="bar"===this.w.config.chart.type&&this.w.config.plotOptions.bar.distributed&&1===this.w.config.series.length,this.legendHelpers=new de(this)}return u(e,[{key:"init",value:function(){var e=this.w,t=e.globals,r=e.config;if((r.legend.showForSingleSeries&&1===t.series.length||this.isBarsDistributed||t.series.length>1||!t.axisCharts)&&r.legend.show){for(;t.dom.elLegendWrap.firstChild;)t.dom.elLegendWrap.removeChild(t.dom.elLegendWrap.firstChild);this.drawLegends(),b.isIE11()?document.getElementsByTagName("head")[0].appendChild(this.legendHelpers.getLegendStyles()):this.legendHelpers.appendToForeignObject(),"bottom"===r.legend.position||"top"===r.legend.position?this.legendAlignHorizontal():"right"!==r.legend.position&&"left"!==r.legend.position||this.legendAlignVertical()}}},{key:"drawLegends",value:function(){var e=this,t=this.w,r=t.config.legend.fontFamily,n=t.globals.seriesNames,o=t.globals.colors.slice();if("heatmap"===t.config.chart.type){var i=t.config.plotOptions.heatmap.colorScale.ranges;n=i.map((function(e){return e.name?e.name:e.from+" - "+e.to})),o=i.map((function(e){return e.color}))}else this.isBarsDistributed&&(n=t.globals.labels.slice());t.config.legend.customLegendItems.length&&(n=t.config.legend.customLegendItems);for(var a=t.globals.legendFormatter,s=t.config.legend.inverseOrder,l=s?n.length-1:0;s?l>=0:l<=n.length-1;s?l--:l++){var u=a(n[l],{seriesIndex:l,w:t}),c=!1,p=!1;if(t.globals.collapsedSeries.length>0)for(var d=0;d<t.globals.collapsedSeries.length;d++)t.globals.collapsedSeries[d].index===l&&(c=!0);if(t.globals.ancillaryCollapsedSeriesIndices.length>0)for(var h=0;h<t.globals.ancillaryCollapsedSeriesIndices.length;h++)t.globals.ancillaryCollapsedSeriesIndices[h]===l&&(p=!0);var f=document.createElement("span");f.classList.add("apexcharts-legend-marker");var g=t.config.legend.markers.offsetX,y=t.config.legend.markers.offsetY,v=t.config.legend.markers.height,m=t.config.legend.markers.width,C=t.config.legend.markers.strokeWidth,w=t.config.legend.markers.strokeColor,E=t.config.legend.markers.radius,O=f.style;O.background=o[l],O.color=o[l],O.setProperty("background",o[l],"important"),t.config.legend.markers.fillColors&&t.config.legend.markers.fillColors[l]&&(O.background=t.config.legend.markers.fillColors[l]),void 0!==t.globals.seriesColors[l]&&(O.background=t.globals.seriesColors[l],O.color=t.globals.seriesColors[l]),O.height=Array.isArray(v)?parseFloat(v[l])+"px":parseFloat(v)+"px",O.width=Array.isArray(m)?parseFloat(m[l])+"px":parseFloat(m)+"px",O.left=(Array.isArray(g)?parseFloat(g[l]):parseFloat(g))+"px",O.top=(Array.isArray(y)?parseFloat(y[l]):parseFloat(y))+"px",O.borderWidth=Array.isArray(C)?C[l]:C,O.borderColor=Array.isArray(w)?w[l]:w,O.borderRadius=Array.isArray(E)?parseFloat(E[l])+"px":parseFloat(E)+"px",t.config.legend.markers.customHTML&&(Array.isArray(t.config.legend.markers.customHTML)?t.config.legend.markers.customHTML[l]&&(f.innerHTML=t.config.legend.markers.customHTML[l]()):f.innerHTML=t.config.legend.markers.customHTML()),x.setAttrs(f,{rel:l+1,"data:collapsed":c||p}),(c||p)&&f.classList.add("apexcharts-inactive-legend");var _=document.createElement("div"),P=document.createElement("span");P.classList.add("apexcharts-legend-text"),P.innerHTML=Array.isArray(u)?u.join(" "):u;var R=t.config.legend.labels.useSeriesColors?t.globals.colors[l]:t.config.legend.labels.colors;R||(R=t.config.chart.foreColor),P.style.color=R,P.style.fontSize=parseFloat(t.config.legend.fontSize)+"px",P.style.fontWeight=t.config.legend.fontWeight,P.style.fontFamily=r||t.config.chart.fontFamily,x.setAttrs(P,{rel:l+1,i:l,"data:default-text":encodeURIComponent(u),"data:collapsed":c||p}),_.appendChild(f),_.appendChild(P);var A=new S(this.ctx);t.config.legend.showForZeroSeries||0===A.getSeriesTotalByIndex(l)&&A.seriesHaveSameValues(l)&&!A.isSeriesNull(l)&&-1===t.globals.collapsedSeriesIndices.indexOf(l)&&-1===t.globals.ancillaryCollapsedSeriesIndices.indexOf(l)&&_.classList.add("apexcharts-hidden-zero-series"),t.config.legend.showForNullSeries||A.isSeriesNull(l)&&-1===t.globals.collapsedSeriesIndices.indexOf(l)&&-1===t.globals.ancillaryCollapsedSeriesIndices.indexOf(l)&&_.classList.add("apexcharts-hidden-null-series"),t.globals.dom.elLegendWrap.appendChild(_),t.globals.dom.elLegendWrap.classList.add("apexcharts-align-".concat(t.config.legend.horizontalAlign)),t.globals.dom.elLegendWrap.classList.add("apx-legend-position-"+t.config.legend.position),_.classList.add("apexcharts-legend-series"),_.style.margin="".concat(t.config.legend.itemMargin.vertical,"px ").concat(t.config.legend.itemMargin.horizontal,"px"),t.globals.dom.elLegendWrap.style.width=t.config.legend.width?t.config.legend.width+"px":"",t.globals.dom.elLegendWrap.style.height=t.config.legend.height?t.config.legend.height+"px":"",x.setAttrs(_,{rel:l+1,seriesName:b.escapeString(n[l]),"data:collapsed":c||p}),(c||p)&&_.classList.add("apexcharts-inactive-legend"),t.config.legend.onItemClick.toggleDataSeries||_.classList.add("apexcharts-no-click")}t.globals.dom.elWrap.addEventListener("click",e.onLegendClick,!0),t.config.legend.onItemHover.highlightDataSeries&&0===t.config.legend.customLegendItems.length&&(t.globals.dom.elWrap.addEventListener("mousemove",e.onLegendHovered,!0),t.globals.dom.elWrap.addEventListener("mouseout",e.onLegendHovered,!0))}},{key:"setLegendWrapXY",value:function(e,t){var r=this.w,n=r.globals.dom.baseEl.querySelector(".apexcharts-legend"),o=n.getBoundingClientRect(),i=0,a=0;if("bottom"===r.config.legend.position)a+=r.globals.svgHeight-o.height/2;else if("top"===r.config.legend.position){var s=new pe(this.ctx),l=s.dimHelpers.getTitleSubtitleCoords("title").height,u=s.dimHelpers.getTitleSubtitleCoords("subtitle").height;a=a+(l>0?l-10:0)+(u>0?u-10:0)}n.style.position="absolute",i=i+e+r.config.legend.offsetX,a=a+t+r.config.legend.offsetY,n.style.left=i+"px",n.style.top=a+"px","bottom"===r.config.legend.position?(n.style.top="auto",n.style.bottom=5-r.config.legend.offsetY+"px"):"right"===r.config.legend.position&&(n.style.left="auto",n.style.right=25+r.config.legend.offsetX+"px"),["width","height"].forEach((function(e){n.style[e]&&(n.style[e]=parseInt(r.config.legend[e],10)+"px")}))}},{key:"legendAlignHorizontal",value:function(){var e=this.w;e.globals.dom.baseEl.querySelector(".apexcharts-legend").style.right=0;var t=this.legendHelpers.getLegendBBox(),r=new pe(this.ctx),n=r.dimHelpers.getTitleSubtitleCoords("title"),o=r.dimHelpers.getTitleSubtitleCoords("subtitle"),i=0;"bottom"===e.config.legend.position?i=-t.clwh/1.8:"top"===e.config.legend.position&&(i=n.height+o.height+e.config.title.margin+e.config.subtitle.margin-10),this.setLegendWrapXY(20,i)}},{key:"legendAlignVertical",value:function(){var e=this.w,t=this.legendHelpers.getLegendBBox(),r=0;"left"===e.config.legend.position&&(r=20),"right"===e.config.legend.position&&(r=e.globals.svgWidth-t.clww-10),this.setLegendWrapXY(r,20)}},{key:"onLegendHovered",value:function(e){var t=this.w,r=e.target.classList.contains("apexcharts-legend-text")||e.target.classList.contains("apexcharts-legend-marker");if("heatmap"===t.config.chart.type||this.isBarsDistributed){if(r){var n=parseInt(e.target.getAttribute("rel"),10)-1;this.ctx.events.fireEvent("legendHover",[this.ctx,n,this.w]),new L(this.ctx).highlightRangeInSeries(e,e.target)}}else!e.target.classList.contains("apexcharts-inactive-legend")&&r&&new L(this.ctx).toggleSeriesOnHover(e,e.target)}},{key:"onLegendClick",value:function(e){var t=this.w;if(!t.config.legend.customLegendItems.length&&(e.target.classList.contains("apexcharts-legend-text")||e.target.classList.contains("apexcharts-legend-marker"))){var r=parseInt(e.target.getAttribute("rel"),10)-1,n="true"===e.target.getAttribute("data:collapsed"),o=this.w.config.chart.events.legendClick;"function"==typeof o&&o(this.ctx,r,this.w),this.ctx.events.fireEvent("legendClick",[this.ctx,r,this.w]);var i=this.w.config.legend.markers.onClick;"function"==typeof i&&e.target.classList.contains("apexcharts-legend-marker")&&(i(this.ctx,r,this.w),this.ctx.events.fireEvent("legendMarkerClick",[this.ctx,r,this.w])),"treemap"!==t.config.chart.type&&"heatmap"!==t.config.chart.type&&!this.isBarsDistributed&&t.config.legend.onItemClick.toggleDataSeries&&this.legendHelpers.toggleDataSeries(r,n)}}}]),e}(),fe=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w;var r=this.w;this.ev=this.w.config.chart.events,this.selectedClass="apexcharts-selected",this.localeValues=this.w.globals.locale.toolbar,this.minX=r.globals.minX,this.maxX=r.globals.maxX}return u(e,[{key:"createToolbar",value:function(){var e=this,t=this.w,r=function(){return document.createElement("div")},n=r();if(n.setAttribute("class","apexcharts-toolbar"),n.style.top=t.config.chart.toolbar.offsetY+"px",n.style.right=3-t.config.chart.toolbar.offsetX+"px",t.globals.dom.elWrap.appendChild(n),this.elZoom=r(),this.elZoomIn=r(),this.elZoomOut=r(),this.elPan=r(),this.elSelection=r(),this.elZoomReset=r(),this.elMenuIcon=r(),this.elMenu=r(),this.elCustomIcons=[],this.t=t.config.chart.toolbar.tools,Array.isArray(this.t.customIcons))for(var o=0;o<this.t.customIcons.length;o++)this.elCustomIcons.push(r());var i=[],a=function(r,n,o){var a=r.toLowerCase();e.t[a]&&t.config.chart.zoom.enabled&&i.push({el:n,icon:"string"==typeof e.t[a]?e.t[a]:o,title:e.localeValues[r],class:"apexcharts-".concat(a,"-icon")})};a("zoomIn",this.elZoomIn,'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>\n</svg>\n'),a("zoomOut",this.elZoomOut,'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>\n</svg>\n');var s=function(r){e.t[r]&&t.config.chart[r].enabled&&i.push({el:"zoom"===r?e.elZoom:e.elSelection,icon:"string"==typeof e.t[r]?e.t[r]:"zoom"===r?'<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="24" viewBox="0 0 24 24" width="24">\n    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>\n    <path d="M0 0h24v24H0V0z" fill="none"/>\n    <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>\n</svg>':'<svg fill="#6E8192" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2z"/>\n</svg>',title:e.localeValues["zoom"===r?"selectionZoom":"selection"],class:t.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-".concat(r,"-icon")})};s("zoom"),s("selection"),this.t.pan&&t.config.chart.zoom.enabled&&i.push({el:this.elPan,icon:"string"==typeof this.t.pan?this.t.pan:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="24" viewBox="0 0 24 24" width="24">\n    <defs>\n        <path d="M0 0h24v24H0z" id="a"/>\n    </defs>\n    <clipPath id="b">\n        <use overflow="visible" xlink:href="#a"/>\n    </clipPath>\n    <path clip-path="url(#b)" d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"/>\n</svg>',title:this.localeValues.pan,class:t.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-pan-icon"}),a("reset",this.elZoomReset,'<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>\n    <path d="M0 0h24v24H0z" fill="none"/>\n</svg>'),this.t.download&&i.push({el:this.elMenuIcon,icon:"string"==typeof this.t.download?this.t.download:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',title:this.localeValues.menu,class:"apexcharts-menu-icon"});for(var l=0;l<this.elCustomIcons.length;l++)i.push({el:this.elCustomIcons[l],icon:this.t.customIcons[l].icon,title:this.t.customIcons[l].title,index:this.t.customIcons[l].index,class:"apexcharts-toolbar-custom-icon "+this.t.customIcons[l].class});i.forEach((function(e,t){e.index&&b.moveIndexInArray(i,t,e.index)}));for(var u=0;u<i.length;u++)x.setAttrs(i[u].el,{class:i[u].class,title:i[u].title}),i[u].el.innerHTML=i[u].icon,n.appendChild(i[u].el);this._createHamburgerMenu(n),t.globals.zoomEnabled?this.elZoom.classList.add(this.selectedClass):t.globals.panEnabled?this.elPan.classList.add(this.selectedClass):t.globals.selectionEnabled&&this.elSelection.classList.add(this.selectedClass),this.addToolbarEventListeners()}},{key:"_createHamburgerMenu",value:function(e){this.elMenuItems=[],e.appendChild(this.elMenu),x.setAttrs(this.elMenu,{class:"apexcharts-menu"});var t=[{name:"exportSVG",title:this.localeValues.exportToSVG},{name:"exportPNG",title:this.localeValues.exportToPNG},{name:"exportCSV",title:this.localeValues.exportToCSV}];this.w.globals.allSeriesHasEqualX||t.splice(2,1);for(var r=0;r<t.length;r++)this.elMenuItems.push(document.createElement("div")),this.elMenuItems[r].innerHTML=t[r].title,x.setAttrs(this.elMenuItems[r],{class:"apexcharts-menu-item ".concat(t[r].name),title:t[r].title}),this.elMenu.appendChild(this.elMenuItems[r])}},{key:"addToolbarEventListeners",value:function(){var e=this;this.elZoomReset.addEventListener("click",this.handleZoomReset.bind(this)),this.elSelection.addEventListener("click",this.toggleZoomSelection.bind(this,"selection")),this.elZoom.addEventListener("click",this.toggleZoomSelection.bind(this,"zoom")),this.elZoomIn.addEventListener("click",this.handleZoomIn.bind(this)),this.elZoomOut.addEventListener("click",this.handleZoomOut.bind(this)),this.elPan.addEventListener("click",this.togglePanning.bind(this)),this.elMenuIcon.addEventListener("click",this.toggleMenu.bind(this)),this.elMenuItems.forEach((function(t){t.classList.contains("exportSVG")?t.addEventListener("click",e.handleDownload.bind(e,"svg")):t.classList.contains("exportPNG")?t.addEventListener("click",e.handleDownload.bind(e,"png")):t.classList.contains("exportCSV")&&t.addEventListener("click",e.handleDownload.bind(e,"csv"))}));for(var t=0;t<this.t.customIcons.length;t++)this.elCustomIcons[t].addEventListener("click",this.t.customIcons[t].click.bind(this,this.ctx,this.ctx.w))}},{key:"toggleZoomSelection",value:function(e){this.ctx.getSyncedCharts().forEach((function(t){t.ctx.toolbar.toggleOtherControls();var r="selection"===e?t.ctx.toolbar.elSelection:t.ctx.toolbar.elZoom,n="selection"===e?"selectionEnabled":"zoomEnabled";t.w.globals[n]=!t.w.globals[n],r.classList.contains(t.ctx.toolbar.selectedClass)?r.classList.remove(t.ctx.toolbar.selectedClass):r.classList.add(t.ctx.toolbar.selectedClass)}))}},{key:"getToolbarIconsReference",value:function(){var e=this.w;this.elZoom||(this.elZoom=e.globals.dom.baseEl.querySelector(".apexcharts-zoom-icon")),this.elPan||(this.elPan=e.globals.dom.baseEl.querySelector(".apexcharts-pan-icon")),this.elSelection||(this.elSelection=e.globals.dom.baseEl.querySelector(".apexcharts-selection-icon"))}},{key:"enableZoomPanFromToolbar",value:function(e){this.toggleOtherControls(),"pan"===e?this.w.globals.panEnabled=!0:this.w.globals.zoomEnabled=!0;var t="pan"===e?this.elPan:this.elZoom,r="pan"===e?this.elZoom:this.elPan;t&&t.classList.add(this.selectedClass),r&&r.classList.remove(this.selectedClass)}},{key:"togglePanning",value:function(){this.ctx.getSyncedCharts().forEach((function(e){e.ctx.toolbar.toggleOtherControls(),e.w.globals.panEnabled=!e.w.globals.panEnabled,e.ctx.toolbar.elPan.classList.contains(e.ctx.toolbar.selectedClass)?e.ctx.toolbar.elPan.classList.remove(e.ctx.toolbar.selectedClass):e.ctx.toolbar.elPan.classList.add(e.ctx.toolbar.selectedClass)}))}},{key:"toggleOtherControls",value:function(){var e=this,t=this.w;t.globals.panEnabled=!1,t.globals.zoomEnabled=!1,t.globals.selectionEnabled=!1,this.getToolbarIconsReference(),[this.elPan,this.elSelection,this.elZoom].forEach((function(t){t&&t.classList.remove(e.selectedClass)}))}},{key:"handleZoomIn",value:function(){var e=this.w;e.globals.isRangeBar&&(this.minX=e.globals.minY,this.maxX=e.globals.maxY);var t=(this.minX+this.maxX)/2,r=(this.minX+t)/2,n=(this.maxX+t)/2,o=this._getNewMinXMaxX(r,n);e.globals.disableZoomIn||this.zoomUpdateOptions(o.minX,o.maxX)}},{key:"handleZoomOut",value:function(){var e=this.w;if(e.globals.isRangeBar&&(this.minX=e.globals.minY,this.maxX=e.globals.maxY),!("datetime"===e.config.xaxis.type&&new Date(this.minX).getUTCFullYear()<1e3)){var t=(this.minX+this.maxX)/2,r=this.minX-(t-this.minX),n=this.maxX-(t-this.maxX),o=this._getNewMinXMaxX(r,n);e.globals.disableZoomOut||this.zoomUpdateOptions(o.minX,o.maxX)}}},{key:"_getNewMinXMaxX",value:function(e,t){var r=this.w.config.xaxis.convertedCatToNumeric;return{minX:r?Math.floor(e):e,maxX:r?Math.floor(t):t}}},{key:"zoomUpdateOptions",value:function(e,t){var r=this.w;if(void 0!==e||void 0!==t){if(!(r.config.xaxis.convertedCatToNumeric&&(e<1&&(e=1,t=r.globals.dataPoints),t-e<2))){var n={min:e,max:t},o=this.getBeforeZoomRange(n);o&&(n=o.xaxis);var i={xaxis:n},a=b.clone(r.globals.initialConfig.yaxis);r.config.chart.zoom.autoScaleYaxis&&(a=new Z(this.ctx).autoScaleY(this.ctx,a,{xaxis:n})),r.config.chart.group||(i.yaxis=a),this.w.globals.zoomed=!0,this.ctx.updateHelpers._updateOptions(i,!1,this.w.config.chart.animations.dynamicAnimation.enabled),this.zoomCallback(n,a)}}else this.handleZoomReset()}},{key:"zoomCallback",value:function(e,t){"function"==typeof this.ev.zoomed&&this.ev.zoomed(this.ctx,{xaxis:e,yaxis:t})}},{key:"getBeforeZoomRange",value:function(e,t){var r=null;return"function"==typeof this.ev.beforeZoom&&(r=this.ev.beforeZoom(this,{xaxis:e,yaxis:t})),r}},{key:"toggleMenu",value:function(){var e=this;window.setTimeout((function(){e.elMenu.classList.contains("apexcharts-menu-open")?e.elMenu.classList.remove("apexcharts-menu-open"):e.elMenu.classList.add("apexcharts-menu-open")}),0)}},{key:"handleDownload",value:function(e){var t=this.w,r=new K(this.ctx);switch(e){case"svg":r.exportToSVG(this.ctx);break;case"png":r.exportToPng(this.ctx);break;case"csv":r.exportToCSV({series:t.config.series,columnDelimiter:t.config.chart.toolbar.export.csv.columnDelimiter})}}},{key:"handleZoomReset",value:function(e){this.ctx.getSyncedCharts().forEach((function(e){var t=e.w;if(t.globals.lastXAxis.min=void 0,t.globals.lastXAxis.max=void 0,e.updateHelpers.revertDefaultAxisMinMax(),"function"==typeof t.config.chart.events.beforeResetZoom){var r=t.config.chart.events.beforeResetZoom(e,t);r&&e.updateHelpers.revertDefaultAxisMinMax(r)}"function"==typeof t.config.chart.events.zoomed&&e.ctx.toolbar.zoomCallback({min:t.config.xaxis.min,max:t.config.xaxis.max}),t.globals.zoomed=!1;var n=e.ctx.series.emptyCollapsedSeries(b.clone(t.globals.initialSeries));e.updateHelpers._updateSeries(n,t.config.chart.animations.dynamicAnimation.enabled)}))}},{key:"destroy",value:function(){this.elZoom=null,this.elZoomIn=null,this.elZoomOut=null,this.elPan=null,this.elSelection=null,this.elZoomReset=null,this.elMenuIcon=null}}]),e}(),ge=function(e){p(r,fe);var t=g(r);function r(e){var n;return s(this,r),(n=t.call(this,e)).ctx=e,n.w=e.w,n.dragged=!1,n.graphics=new x(n.ctx),n.eventList=["mousedown","mouseleave","mousemove","touchstart","touchmove","mouseup","touchend"],n.clientX=0,n.clientY=0,n.startX=0,n.endX=0,n.dragX=0,n.startY=0,n.endY=0,n.dragY=0,n.moveDirection="none",n}return u(r,[{key:"init",value:function(e){var t=this,r=e.xyRatios,n=this.w,o=this;this.xyRatios=r,this.zoomRect=this.graphics.drawRect(0,0,0,0),this.selectionRect=this.graphics.drawRect(0,0,0,0),this.gridRect=n.globals.dom.baseEl.querySelector(".apexcharts-grid"),this.zoomRect.node.classList.add("apexcharts-zoom-rect"),this.selectionRect.node.classList.add("apexcharts-selection-rect"),n.globals.dom.elGraphical.add(this.zoomRect),n.globals.dom.elGraphical.add(this.selectionRect),"x"===n.config.chart.selection.type?this.slDraggableRect=this.selectionRect.draggable({minX:0,minY:0,maxX:n.globals.gridWidth,maxY:n.globals.gridHeight}).on("dragmove",this.selectionDragging.bind(this,"dragging")):"y"===n.config.chart.selection.type?this.slDraggableRect=this.selectionRect.draggable({minX:0,maxX:n.globals.gridWidth}).on("dragmove",this.selectionDragging.bind(this,"dragging")):this.slDraggableRect=this.selectionRect.draggable().on("dragmove",this.selectionDragging.bind(this,"dragging")),this.preselectedSelection(),this.hoverArea=n.globals.dom.baseEl.querySelector("".concat(n.globals.chartClass," .apexcharts-svg")),this.hoverArea.classList.add("apexcharts-zoomable"),this.eventList.forEach((function(e){t.hoverArea.addEventListener(e,o.svgMouseEvents.bind(o,r),{capture:!1,passive:!0})}))}},{key:"destroy",value:function(){this.slDraggableRect&&(this.slDraggableRect.draggable(!1),this.slDraggableRect.off(),this.selectionRect.off()),this.selectionRect=null,this.zoomRect=null,this.gridRect=null}},{key:"svgMouseEvents",value:function(e,t){var r=this.w,n=this,o=this.ctx.toolbar,i=r.globals.zoomEnabled?r.config.chart.zoom.type:r.config.chart.selection.type,a=r.config.chart.toolbar.autoSelected;if(t.shiftKey?(this.shiftWasPressed=!0,o.enableZoomPanFromToolbar("pan"===a?"zoom":"pan")):this.shiftWasPressed&&(o.enableZoomPanFromToolbar(a),this.shiftWasPressed=!1),t.target){var s,l=t.target.classList;if(t.target.parentNode&&null!==t.target.parentNode&&(s=t.target.parentNode.classList),!(l.contains("apexcharts-selection-rect")||l.contains("apexcharts-legend-marker")||l.contains("apexcharts-legend-text")||s&&s.contains("apexcharts-toolbar"))){if(n.clientX="touchmove"===t.type||"touchstart"===t.type?t.touches[0].clientX:"touchend"===t.type?t.changedTouches[0].clientX:t.clientX,n.clientY="touchmove"===t.type||"touchstart"===t.type?t.touches[0].clientY:"touchend"===t.type?t.changedTouches[0].clientY:t.clientY,"mousedown"===t.type&&1===t.which){var u=n.gridRect.getBoundingClientRect();n.startX=n.clientX-u.left,n.startY=n.clientY-u.top,n.dragged=!1,n.w.globals.mousedown=!0}if(("mousemove"===t.type&&1===t.which||"touchmove"===t.type)&&(n.dragged=!0,r.globals.panEnabled?(r.globals.selection=null,n.w.globals.mousedown&&n.panDragging({context:n,zoomtype:i,xyRatios:e})):(n.w.globals.mousedown&&r.globals.zoomEnabled||n.w.globals.mousedown&&r.globals.selectionEnabled)&&(n.selection=n.selectionDrawing({context:n,zoomtype:i}))),"mouseup"===t.type||"touchend"===t.type||"mouseleave"===t.type){var c=n.gridRect.getBoundingClientRect();n.w.globals.mousedown&&(n.endX=n.clientX-c.left,n.endY=n.clientY-c.top,n.dragX=Math.abs(n.endX-n.startX),n.dragY=Math.abs(n.endY-n.startY),(r.globals.zoomEnabled||r.globals.selectionEnabled)&&n.selectionDrawn({context:n,zoomtype:i}),r.globals.panEnabled&&r.config.xaxis.convertedCatToNumeric&&n.delayedPanScrolled()),r.globals.zoomEnabled&&n.hideSelectionRect(this.selectionRect),n.dragged=!1,n.w.globals.mousedown=!1}this.makeSelectionRectDraggable()}}}},{key:"makeSelectionRectDraggable",value:function(){var e=this.w;if(this.selectionRect){var t=this.selectionRect.node.getBoundingClientRect();t.width>0&&t.height>0&&this.slDraggableRect.selectize({points:"l, r",pointSize:8,pointType:"rect"}).resize({constraint:{minX:0,minY:0,maxX:e.globals.gridWidth,maxY:e.globals.gridHeight}}).on("resizing",this.selectionDragging.bind(this,"resizing"))}}},{key:"preselectedSelection",value:function(){var e=this.w,t=this.xyRatios;if(!e.globals.zoomEnabled)if(void 0!==e.globals.selection&&null!==e.globals.selection)this.drawSelectionRect(e.globals.selection);else if(void 0!==e.config.chart.selection.xaxis.min&&void 0!==e.config.chart.selection.xaxis.max){var r=(e.config.chart.selection.xaxis.min-e.globals.minX)/t.xRatio,n={x:r,y:0,width:e.globals.gridWidth-(e.globals.maxX-e.config.chart.selection.xaxis.max)/t.xRatio-r,height:e.globals.gridHeight,translateX:0,translateY:0,selectionEnabled:!0};this.drawSelectionRect(n),this.makeSelectionRectDraggable(),"function"==typeof e.config.chart.events.selection&&e.config.chart.events.selection(this.ctx,{xaxis:{min:e.config.chart.selection.xaxis.min,max:e.config.chart.selection.xaxis.max},yaxis:{}})}}},{key:"drawSelectionRect",value:function(e){var t=e.x,r=e.y,n=e.width,o=e.height,i=e.translateX,a=void 0===i?0:i,s=e.translateY,l=void 0===s?0:s,u=this.w,c=this.zoomRect,p=this.selectionRect;if(this.dragged||null!==u.globals.selection){var d={transform:"translate("+a+", "+l+")"};u.globals.zoomEnabled&&this.dragged&&(n<0&&(n=1),c.attr({x:t,y:r,width:n,height:o,fill:u.config.chart.zoom.zoomedArea.fill.color,"fill-opacity":u.config.chart.zoom.zoomedArea.fill.opacity,stroke:u.config.chart.zoom.zoomedArea.stroke.color,"stroke-width":u.config.chart.zoom.zoomedArea.stroke.width,"stroke-opacity":u.config.chart.zoom.zoomedArea.stroke.opacity}),x.setAttrs(c.node,d)),u.globals.selectionEnabled&&(p.attr({x:t,y:r,width:n>0?n:0,height:o>0?o:0,fill:u.config.chart.selection.fill.color,"fill-opacity":u.config.chart.selection.fill.opacity,stroke:u.config.chart.selection.stroke.color,"stroke-width":u.config.chart.selection.stroke.width,"stroke-dasharray":u.config.chart.selection.stroke.dashArray,"stroke-opacity":u.config.chart.selection.stroke.opacity}),x.setAttrs(p.node,d))}}},{key:"hideSelectionRect",value:function(e){e&&e.attr({x:0,y:0,width:0,height:0})}},{key:"selectionDrawing",value:function(e){var t,r=e.context,n=e.zoomtype,o=this.w,i=r,a=this.gridRect.getBoundingClientRect(),s=i.startX-1,l=i.startY,u=!1,c=!1,p=i.clientX-a.left-s,d=i.clientY-a.top-l;return Math.abs(p+s)>o.globals.gridWidth?p=o.globals.gridWidth-s:i.clientX-a.left<0&&(p=s),s>i.clientX-a.left&&(u=!0,p=Math.abs(p)),l>i.clientY-a.top&&(c=!0,d=Math.abs(d)),t="x"===n?{x:u?s-p:s,y:0,width:p,height:o.globals.gridHeight}:"y"===n?{x:0,y:c?l-d:l,width:o.globals.gridWidth,height:d}:{x:u?s-p:s,y:c?l-d:l,width:p,height:d},i.drawSelectionRect(t),i.selectionDragging("resizing"),t}},{key:"selectionDragging",value:function(e,t){var r=this,n=this.w,o=this.xyRatios,i=this.selectionRect,a=0;"resizing"===e&&(a=30);var s=function(e){return parseFloat(i.node.getAttribute(e))},l={x:s("x"),y:s("y"),width:s("width"),height:s("height")};n.globals.selection=l,"function"==typeof n.config.chart.events.selection&&n.globals.selectionEnabled&&(clearTimeout(this.w.globals.selectionResizeTimer),this.w.globals.selectionResizeTimer=window.setTimeout((function(){var e=r.gridRect.getBoundingClientRect(),t=i.node.getBoundingClientRect(),a={xaxis:{min:n.globals.xAxisScale.niceMin+(t.left-e.left)*o.xRatio,max:n.globals.xAxisScale.niceMin+(t.right-e.left)*o.xRatio},yaxis:{min:n.globals.yAxisScale[0].niceMin+(e.bottom-t.bottom)*o.yRatio[0],max:n.globals.yAxisScale[0].niceMax-(t.top-e.top)*o.yRatio[0]}};n.config.chart.events.selection(r.ctx,a),n.config.chart.brush.enabled&&void 0!==n.config.chart.events.brushScrolled&&n.config.chart.events.brushScrolled(r.ctx,a)}),a))}},{key:"selectionDrawn",value:function(e){var t=e.context,r=e.zoomtype,n=this.w,o=t,i=this.xyRatios,a=this.ctx.toolbar;if(o.startX>o.endX){var s=o.startX;o.startX=o.endX,o.endX=s}if(o.startY>o.endY){var l=o.startY;o.startY=o.endY,o.endY=l}var u=void 0,c=void 0;n.globals.isRangeBar?(u=n.globals.yAxisScale[0].niceMin+o.startX*i.invertedYRatio,c=n.globals.yAxisScale[0].niceMin+o.endX*i.invertedYRatio):(u=n.globals.xAxisScale.niceMin+o.startX*i.xRatio,c=n.globals.xAxisScale.niceMin+o.endX*i.xRatio);var p=[],d=[];if(n.config.yaxis.forEach((function(e,t){p.push(n.globals.yAxisScale[t].niceMax-i.yRatio[t]*o.startY),d.push(n.globals.yAxisScale[t].niceMax-i.yRatio[t]*o.endY)})),o.dragged&&(o.dragX>10||o.dragY>10)&&u!==c)if(n.globals.zoomEnabled){var h=b.clone(n.globals.initialConfig.yaxis),f=b.clone(n.globals.initialConfig.xaxis);if(n.globals.zoomed=!0,n.config.xaxis.convertedCatToNumeric&&(u=Math.floor(u),c=Math.floor(c),u<1&&(u=1,c=n.globals.dataPoints),c-u<2&&(c=u+1)),"xy"!==r&&"x"!==r||(f={min:u,max:c}),"xy"!==r&&"y"!==r||h.forEach((function(e,t){h[t].min=d[t],h[t].max=p[t]})),n.config.chart.zoom.autoScaleYaxis){var g=new Z(o.ctx);h=g.autoScaleY(o.ctx,h,{xaxis:f})}if(a){var y=a.getBeforeZoomRange(f,h);y&&(f=y.xaxis?y.xaxis:f,h=y.yaxis?y.yaxis:h)}var v={xaxis:f};n.config.chart.group||(v.yaxis=h),o.ctx.updateHelpers._updateOptions(v,!1,o.w.config.chart.animations.dynamicAnimation.enabled),"function"==typeof n.config.chart.events.zoomed&&a.zoomCallback(f,h)}else if(n.globals.selectionEnabled){var m,C=null;m={min:u,max:c},"xy"!==r&&"y"!==r||(C=b.clone(n.config.yaxis)).forEach((function(e,t){C[t].min=d[t],C[t].max=p[t]})),n.globals.selection=o.selection,"function"==typeof n.config.chart.events.selection&&n.config.chart.events.selection(o.ctx,{xaxis:m,yaxis:C})}}},{key:"panDragging",value:function(e){var t=e.context,r=this.w,n=t;if(void 0!==r.globals.lastClientPosition.x){var o=r.globals.lastClientPosition.x-n.clientX,i=r.globals.lastClientPosition.y-n.clientY;Math.abs(o)>Math.abs(i)&&o>0?this.moveDirection="left":Math.abs(o)>Math.abs(i)&&o<0?this.moveDirection="right":Math.abs(i)>Math.abs(o)&&i>0?this.moveDirection="up":Math.abs(i)>Math.abs(o)&&i<0&&(this.moveDirection="down")}r.globals.lastClientPosition={x:n.clientX,y:n.clientY};var a=r.globals.isRangeBar?r.globals.minY:r.globals.minX,s=r.globals.isRangeBar?r.globals.maxY:r.globals.maxX;r.config.xaxis.convertedCatToNumeric||n.panScrolled(a,s)}},{key:"delayedPanScrolled",value:function(){var e=this.w,t=e.globals.minX,r=e.globals.maxX,n=(e.globals.maxX-e.globals.minX)/2;"left"===this.moveDirection?(t=e.globals.minX+n,r=e.globals.maxX+n):"right"===this.moveDirection&&(t=e.globals.minX-n,r=e.globals.maxX-n),t=Math.floor(t),r=Math.floor(r),this.updateScrolledChart({xaxis:{min:t,max:r}},t,r)}},{key:"panScrolled",value:function(e,t){var r=this.w,n=this.xyRatios,o=b.clone(r.globals.initialConfig.yaxis),i=n.xRatio,a=r.globals.minX,s=r.globals.maxX;r.globals.isRangeBar&&(i=n.invertedYRatio,a=r.globals.minY,s=r.globals.maxY),"left"===this.moveDirection?(e=a+r.globals.gridWidth/15*i,t=s+r.globals.gridWidth/15*i):"right"===this.moveDirection&&(e=a-r.globals.gridWidth/15*i,t=s-r.globals.gridWidth/15*i),r.globals.isRangeBar||(e<r.globals.initialMinX||t>r.globals.initialMaxX)&&(e=a,t=s);var l={min:e,max:t};r.config.chart.zoom.autoScaleYaxis&&(o=new Z(this.ctx).autoScaleY(this.ctx,o,{xaxis:l}));var u={xaxis:{min:e,max:t}};r.config.chart.group||(u.yaxis=o),this.updateScrolledChart(u,e,t)}},{key:"updateScrolledChart",value:function(e,t,r){var n=this.w;this.ctx.updateHelpers._updateOptions(e,!1,!1),"function"==typeof n.config.chart.events.scrolled&&n.config.chart.events.scrolled(this.ctx,{xaxis:{min:t,max:r}})}}]),r}(),ye=function(){function e(t){s(this,e),this.w=t.w,this.ttCtx=t,this.ctx=t.ctx}return u(e,[{key:"getNearestValues",value:function(e){var t=e.hoverArea,r=e.elGrid,n=e.clientX,o=e.clientY,i=this.w,a=r.getBoundingClientRect(),s=a.width,l=a.height,u=s/(i.globals.dataPoints-1),c=l/i.globals.dataPoints,p=this.hasBars();!i.globals.comboCharts&&!p||i.config.xaxis.convertedCatToNumeric||(u=s/i.globals.dataPoints);var d=n-a.left-i.globals.barPadForNumericAxis,h=o-a.top;d<0||h<0||d>s||h>l?(t.classList.remove("hovering-zoom"),t.classList.remove("hovering-pan")):i.globals.zoomEnabled?(t.classList.remove("hovering-pan"),t.classList.add("hovering-zoom")):i.globals.panEnabled&&(t.classList.remove("hovering-zoom"),t.classList.add("hovering-pan"));var f=Math.round(d/u),g=Math.floor(h/c);p&&!i.config.xaxis.convertedCatToNumeric&&(f=Math.ceil(d/u),f-=1);var y=null,v=null,m=[],C=[];if(i.globals.seriesXvalues.forEach((function(e){m.push([e[0]+1e-6].concat(e))})),i.globals.seriesYvalues.forEach((function(e){C.push([e[0]+1e-6].concat(e))})),m=m.map((function(e){return e.filter((function(e){return b.isNumber(e)}))})),C=C.map((function(e){return e.filter((function(e){return b.isNumber(e)}))})),i.globals.isXNumeric){var w=this.ttCtx.getElGrid().getBoundingClientRect(),x=d*(w.width/s),S=h*(w.height/l);y=(v=this.closestInMultiArray(x,S,m,C)).index,f=v.j,null!==y&&(m=i.globals.seriesXvalues[y],f=(v=this.closestInArray(x,m)).index)}return i.globals.capturedSeriesIndex=null===y?-1:y,(!f||f<1)&&(f=0),i.globals.isBarHorizontal?i.globals.capturedDataPointIndex=g:i.globals.capturedDataPointIndex=f,{capturedSeries:y,j:i.globals.isBarHorizontal?g:f,hoverX:d,hoverY:h}}},{key:"closestInMultiArray",value:function(e,t,r,n){var o=this.w,i=0,a=null,s=-1;o.globals.series.length>1?i=this.getFirstActiveXArray(r):a=0;var l=r[i][0],u=Math.abs(e-l);if(r.forEach((function(t){t.forEach((function(t,r){var n=Math.abs(e-t);n<u&&(u=n,s=r)}))})),-1!==s){var c=n[i][s],p=Math.abs(t-c);a=i,n.forEach((function(e,r){var n=Math.abs(t-e[s]);n<p&&(p=n,a=r)}))}return{index:a,j:s}}},{key:"getFirstActiveXArray",value:function(e){for(var t=this.w,r=0,n=e.map((function(e,t){return e.length>0?t:-1})),o=0;o<n.length;o++)if(-1!==n[o]&&-1===t.globals.collapsedSeriesIndices.indexOf(o)&&-1===t.globals.ancillaryCollapsedSeriesIndices.indexOf(o)){r=n[o];break}return r}},{key:"closestInArray",value:function(e,t){for(var r=t[0],n=null,o=Math.abs(e-r),i=0;i<t.length;i++){var a=Math.abs(e-t[i]);a<o&&(o=a,n=i)}return{index:n}}},{key:"isXoverlap",value:function(e){var t=[],r=this.w.globals.seriesX.filter((function(e){return void 0!==e[0]}));if(r.length>0)for(var n=0;n<r.length-1;n++)void 0!==r[n][e]&&void 0!==r[n+1][e]&&r[n][e]!==r[n+1][e]&&t.push("unEqual");return 0===t.length}},{key:"isInitialSeriesSameLen",value:function(){for(var e=!0,t=this.w.globals.initialSeries,r=0;r<t.length-1;r++)if(t[r].data.length!==t[r+1].data.length){e=!1;break}return e}},{key:"getBarsHeight",value:function(e){return y(e).reduce((function(e,t){return e+t.getBBox().height}),0)}},{key:"getElMarkers",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(" .apexcharts-series-markers")}},{key:"getAllMarkers",value:function(){var e=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap");(e=y(e)).sort((function(e,t){var r=Number(e.getAttribute("data:realIndex")),n=Number(t.getAttribute("data:realIndex"));return n<r?1:n>r?-1:0}));var t=[];return e.forEach((function(e){t.push(e.querySelector(".apexcharts-marker"))})),t}},{key:"hasMarkers",value:function(){return this.getElMarkers().length>0}},{key:"getElBars",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-bar-series,  .apexcharts-candlestick-series, .apexcharts-boxPlot-series, .apexcharts-rangebar-series")}},{key:"hasBars",value:function(){return this.getElBars().length>0}},{key:"getHoverMarkerSize",value:function(e){var t=this.w,r=t.config.markers.hover.size;return void 0===r&&(r=t.globals.markers.size[e]+t.config.markers.hover.sizeOffset),r}},{key:"toggleAllTooltipSeriesGroups",value:function(e){var t=this.w,r=this.ttCtx;0===r.allTooltipSeriesGroups.length&&(r.allTooltipSeriesGroups=t.globals.dom.baseEl.querySelectorAll(".apexcharts-tooltip-series-group"));for(var n=r.allTooltipSeriesGroups,o=0;o<n.length;o++)"enable"===e?(n[o].classList.add("apexcharts-active"),n[o].style.display=t.config.tooltip.items.display):(n[o].classList.remove("apexcharts-active"),n[o].style.display="none")}}]),e}(),ve=function(){function e(t){s(this,e),this.w=t.w,this.ctx=t.ctx,this.ttCtx=t,this.tooltipUtil=new ye(t)}return u(e,[{key:"drawSeriesTexts",value:function(e){var t=e.shared,r=void 0===t||t,n=e.ttItems,o=e.i,i=void 0===o?0:o,a=e.j,s=void 0===a?null:a,l=e.y1,u=e.y2,c=e.e,p=this.w;void 0!==p.config.tooltip.custom?this.handleCustomTooltip({i:i,j:s,y1:l,y2:u,w:p}):this.toggleActiveInactiveSeries(r);var d=this.getValuesToPrint({i:i,j:s});this.printLabels({i:i,j:s,values:d,ttItems:n,shared:r,e:c});var h=this.ttCtx.getElTooltip();this.ttCtx.tooltipRect.ttWidth=h.getBoundingClientRect().width,this.ttCtx.tooltipRect.ttHeight=h.getBoundingClientRect().height}},{key:"printLabels",value:function(e){var t,r=this,n=e.i,o=e.j,a=e.values,s=e.ttItems,l=e.shared,u=e.e,c=this.w,p=[],d=function(e){return c.globals.seriesGoals[e]&&c.globals.seriesGoals[e][o]&&Array.isArray(c.globals.seriesGoals[e][o])},h=a.xVal,f=a.zVal,g=a.xAxisTTVal,y="",v=c.globals.colors[n];null!==o&&c.config.plotOptions.bar.distributed&&(v=c.globals.colors[o]);for(var m=function(e,a){var m=r.getFormatters(n);y=r.getSeriesName({fn:m.yLbTitleFormatter,index:n,seriesIndex:n,j:o}),"treemap"===c.config.chart.type&&(y=m.yLbTitleFormatter(String(c.config.series[n].data[o].x),{series:c.globals.series,seriesIndex:n,dataPointIndex:o,w:c}));var b=c.config.tooltip.inverseOrder?a:e;if(c.globals.axisCharts){var C=function(e){return m.yLbFormatter(c.globals.series[e][o],{series:c.globals.series,seriesIndex:e,dataPointIndex:o,w:c})};if(l)m=r.getFormatters(b),y=r.getSeriesName({fn:m.yLbTitleFormatter,index:b,seriesIndex:n,j:o}),v=c.globals.colors[b],t=C(b),d(b)&&(p=c.globals.seriesGoals[b][o].map((function(e){return{attrs:e,val:m.yLbFormatter(e.value,{seriesIndex:b,dataPointIndex:o,w:c})}})));else{var w,x=null==u||null===(w=u.target)||void 0===w?void 0:w.getAttribute("fill");x&&(v=-1!==x.indexOf("url")?document.querySelector(x.substr(4).slice(0,-1)).childNodes[0].getAttribute("stroke"):x),t=C(n),d(n)&&Array.isArray(c.globals.seriesGoals[n][o])&&(p=c.globals.seriesGoals[n][o].map((function(e){return{attrs:e,val:m.yLbFormatter(e.value,{seriesIndex:n,dataPointIndex:o,w:c})}})))}}null===o&&(t=m.yLbFormatter(c.globals.series[n],i(i({},c),{},{seriesIndex:n,dataPointIndex:n}))),r.DOMHandling({i:n,t:b,j:o,ttItems:s,values:{val:t,goalVals:p,xVal:h,xAxisTTVal:g,zVal:f},seriesName:y,shared:l,pColor:v})},b=0,C=c.globals.series.length-1;b<c.globals.series.length;b++,C--)m(b,C)}},{key:"getFormatters",value:function(e){var t,r=this.w,n=r.globals.yLabelFormatters[e];return void 0!==r.globals.ttVal?Array.isArray(r.globals.ttVal)?(n=r.globals.ttVal[e]&&r.globals.ttVal[e].formatter,t=r.globals.ttVal[e]&&r.globals.ttVal[e].title&&r.globals.ttVal[e].title.formatter):(n=r.globals.ttVal.formatter,"function"==typeof r.globals.ttVal.title.formatter&&(t=r.globals.ttVal.title.formatter)):t=r.config.tooltip.y.title.formatter,"function"!=typeof n&&(n=r.globals.yLabelFormatters[0]?r.globals.yLabelFormatters[0]:function(e){return e}),"function"!=typeof t&&(t=function(e){return e}),{yLbFormatter:n,yLbTitleFormatter:t}}},{key:"getSeriesName",value:function(e){var t=e.fn,r=e.index,n=e.seriesIndex,o=e.j,i=this.w;return t(String(i.globals.seriesNames[r]),{series:i.globals.series,seriesIndex:n,dataPointIndex:o,w:i})}},{key:"DOMHandling",value:function(e){e.i;var t=e.t,r=e.j,n=e.ttItems,o=e.values,i=e.seriesName,a=e.shared,s=e.pColor,l=this.w,u=this.ttCtx,c=o.val,p=o.goalVals,d=o.xVal,h=o.xAxisTTVal,f=o.zVal,g=null;g=n[t].children,l.config.tooltip.fillSeriesColor&&(n[t].style.backgroundColor=s,g[0].style.display="none"),u.showTooltipTitle&&(null===u.tooltipTitle&&(u.tooltipTitle=l.globals.dom.baseEl.querySelector(".apexcharts-tooltip-title")),u.tooltipTitle.innerHTML=d),u.isXAxisTooltipEnabled&&(u.xaxisTooltipText.innerHTML=""!==h?h:d);var y=n[t].querySelector(".apexcharts-tooltip-text-y-label");y&&(y.innerHTML=i||"");var v=n[t].querySelector(".apexcharts-tooltip-text-y-value");v&&(v.innerHTML=void 0!==c?c:""),g[0]&&g[0].classList.contains("apexcharts-tooltip-marker")&&(l.config.tooltip.marker.fillColors&&Array.isArray(l.config.tooltip.marker.fillColors)&&(s=l.config.tooltip.marker.fillColors[t]),g[0].style.backgroundColor=s),l.config.tooltip.marker.show||(g[0].style.display="none");var m=n[t].querySelector(".apexcharts-tooltip-text-goals-label"),b=n[t].querySelector(".apexcharts-tooltip-text-goals-value");if(p.length&&l.globals.seriesGoals[t]){var C=function(){var e="<div >",t="<div>";p.forEach((function(r,n){e+=' <div style="display: flex"><span class="apexcharts-tooltip-marker" style="background-color: '.concat(r.attrs.strokeColor,'; height: 3px; border-radius: 0; top: 5px;"></span> ').concat(r.attrs.name,"</div>"),t+="<div>".concat(r.val,"</div>")})),m.innerHTML=e+"</div>",b.innerHTML=t+"</div>"};a?l.globals.seriesGoals[t][r]&&Array.isArray(l.globals.seriesGoals[t][r])?C():(m.innerHTML="",b.innerHTML=""):C()}else m.innerHTML="",b.innerHTML="";null!==f&&(n[t].querySelector(".apexcharts-tooltip-text-z-label").innerHTML=l.config.tooltip.z.title,n[t].querySelector(".apexcharts-tooltip-text-z-value").innerHTML=void 0!==f?f:""),a&&g[0]&&(null==c||l.globals.ancillaryCollapsedSeriesIndices.indexOf(t)>-1||l.globals.collapsedSeriesIndices.indexOf(t)>-1?g[0].parentNode.style.display="none":g[0].parentNode.style.display=l.config.tooltip.items.display)}},{key:"toggleActiveInactiveSeries",value:function(e){var t=this.w;if(e)this.tooltipUtil.toggleAllTooltipSeriesGroups("enable");else{this.tooltipUtil.toggleAllTooltipSeriesGroups("disable");var r=t.globals.dom.baseEl.querySelector(".apexcharts-tooltip-series-group");r&&(r.classList.add("apexcharts-active"),r.style.display=t.config.tooltip.items.display)}}},{key:"getValuesToPrint",value:function(e){var t=e.i,r=e.j,n=this.w,o=this.ctx.series.filteredSeriesX(),i="",a="",s=null,l=null,u={series:n.globals.series,seriesIndex:t,dataPointIndex:r,w:n},c=n.globals.ttZFormatter;null===r?l=n.globals.series[t]:n.globals.isXNumeric&&"treemap"!==n.config.chart.type?(i=o[t][r],0===o[t].length&&(i=o[this.tooltipUtil.getFirstActiveXArray(o)][r])):i=void 0!==n.globals.labels[r]?n.globals.labels[r]:"";var p=i;return i=n.globals.isXNumeric&&"datetime"===n.config.xaxis.type?new Y(this.ctx).xLabelFormat(n.globals.ttKeyFormatter,p,p,{i:void 0,dateFormatter:new B(this.ctx).formatDate,w:this.w}):n.globals.isBarHorizontal?n.globals.yLabelFormatters[0](p,u):n.globals.xLabelFormatter(p,u),void 0!==n.config.tooltip.x.formatter&&(i=n.globals.ttKeyFormatter(p,u)),n.globals.seriesZ.length>0&&n.globals.seriesZ[t].length>0&&(s=c(n.globals.seriesZ[t][r],n)),a="function"==typeof n.config.xaxis.tooltip.formatter?n.globals.xaxisTooltipFormatter(p,u):i,{val:Array.isArray(l)?l.join(" "):l,xVal:Array.isArray(i)?i.join(" "):i,xAxisTTVal:Array.isArray(a)?a.join(" "):a,zVal:s}}},{key:"handleCustomTooltip",value:function(e){var t=e.i,r=e.j,n=e.y1,o=e.y2,i=e.w,a=this.ttCtx.getElTooltip(),s=i.config.tooltip.custom;Array.isArray(s)&&s[t]&&(s=s[t]),a.innerHTML=s({ctx:this.ctx,series:i.globals.series,seriesIndex:t,dataPointIndex:r,y1:n,y2:o,w:i})}}]),e}(),me=function(){function e(t){s(this,e),this.ttCtx=t,this.ctx=t.ctx,this.w=t.w}return u(e,[{key:"moveXCrosshairs",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=this.ttCtx,n=this.w,o=r.getElXCrosshairs(),i=e-r.xcrosshairsWidth/2,a=n.globals.labels.slice().length;if(null!==t&&(i=n.globals.gridWidth/a*t),null===o||n.globals.isBarHorizontal||(o.setAttribute("x",i),o.setAttribute("x1",i),o.setAttribute("x2",i),o.setAttribute("y2",n.globals.gridHeight),o.classList.add("apexcharts-active")),i<0&&(i=0),i>n.globals.gridWidth&&(i=n.globals.gridWidth),r.isXAxisTooltipEnabled){var s=i;"tickWidth"!==n.config.xaxis.crosshairs.width&&"barWidth"!==n.config.xaxis.crosshairs.width||(s=i+r.xcrosshairsWidth/2),this.moveXAxisTooltip(s)}}},{key:"moveYCrosshairs",value:function(e){var t=this.ttCtx;null!==t.ycrosshairs&&x.setAttrs(t.ycrosshairs,{y1:e,y2:e}),null!==t.ycrosshairsHidden&&x.setAttrs(t.ycrosshairsHidden,{y1:e,y2:e})}},{key:"moveXAxisTooltip",value:function(e){var t=this.w,r=this.ttCtx;if(null!==r.xaxisTooltip&&0!==r.xcrosshairsWidth){r.xaxisTooltip.classList.add("apexcharts-active");var n,o=r.xaxisOffY+t.config.xaxis.tooltip.offsetY+t.globals.translateY+1+t.config.xaxis.offsetY;if(e-=r.xaxisTooltip.getBoundingClientRect().width/2,!isNaN(e))e+=t.globals.translateX,n=new x(this.ctx).getTextRects(r.xaxisTooltipText.innerHTML),r.xaxisTooltipText.style.minWidth=n.width+"px",r.xaxisTooltip.style.left=e+"px",r.xaxisTooltip.style.top=o+"px"}}},{key:"moveYAxisTooltip",value:function(e){var t=this.w,r=this.ttCtx;null===r.yaxisTTEls&&(r.yaxisTTEls=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));var n=parseInt(r.ycrosshairsHidden.getAttribute("y1"),10),o=t.globals.translateY+n,i=r.yaxisTTEls[e].getBoundingClientRect().height,a=t.globals.translateYAxisX[e]-2;t.config.yaxis[e].opposite&&(a-=26),o-=i/2,-1===t.globals.ignoreYAxisIndexes.indexOf(e)?(r.yaxisTTEls[e].classList.add("apexcharts-active"),r.yaxisTTEls[e].style.top=o+"px",r.yaxisTTEls[e].style.left=a+t.config.yaxis[e].tooltip.offsetX+"px"):r.yaxisTTEls[e].classList.remove("apexcharts-active")}},{key:"moveTooltip",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=this.w,o=this.ttCtx,i=o.getElTooltip(),a=o.tooltipRect,s=null!==r?parseFloat(r):1,l=parseFloat(e)+s+5,u=parseFloat(t)+s/2;if(l>n.globals.gridWidth/2&&(l=l-a.ttWidth-s-10),l>n.globals.gridWidth-a.ttWidth-10&&(l=n.globals.gridWidth-a.ttWidth),l<-20&&(l=-20),n.config.tooltip.followCursor){var c=o.getElGrid(),p=c.getBoundingClientRect();u=o.e.clientY+n.globals.translateY-p.top-a.ttHeight/2}else n.globals.isBarHorizontal||(a.ttHeight/2+u>n.globals.gridHeight&&(u=n.globals.gridHeight-a.ttHeight+n.globals.translateY),u<0&&(u=0));isNaN(l)||(l+=n.globals.translateX,i.style.left=l+"px",i.style.top=u+"px")}},{key:"moveMarkers",value:function(e,t){var r=this.w,n=this.ttCtx;if(r.globals.markers.size[e]>0)for(var o=r.globals.dom.baseEl.querySelectorAll(" .apexcharts-series[data\\:realIndex='".concat(e,"'] .apexcharts-marker")),i=0;i<o.length;i++)parseInt(o[i].getAttribute("rel"),10)===t&&(n.marker.resetPointsSize(),n.marker.enlargeCurrentPoint(t,o[i]));else n.marker.resetPointsSize(),this.moveDynamicPointOnHover(t,e)}},{key:"moveDynamicPointOnHover",value:function(e,t){var r,n,o=this.w,i=this.ttCtx,a=o.globals.pointsArray,s=i.tooltipUtil.getHoverMarkerSize(t),l=o.config.series[t].type;if(!l||"column"!==l&&"candlestick"!==l&&"boxPlot"!==l){r=a[t][e][0],n=a[t][e][1]?a[t][e][1]:0;var u=o.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(t,"'] .apexcharts-series-markers circle"));u&&n<o.globals.gridHeight&&n>0&&(u.setAttribute("r",s),u.setAttribute("cx",r),u.setAttribute("cy",n)),this.moveXCrosshairs(r),i.fixedTooltip||this.moveTooltip(r,n,s)}}},{key:"moveDynamicPointsOnHover",value:function(e){var t,r=this.ttCtx,n=r.w,o=0,i=0,a=n.globals.pointsArray;t=new L(this.ctx).getActiveConfigSeriesIndex(!0);var s=r.tooltipUtil.getHoverMarkerSize(t);a[t]&&(o=a[t][e][0],i=a[t][e][1]);var l=r.tooltipUtil.getAllMarkers();if(null!==l)for(var u=0;u<n.globals.series.length;u++){var c=a[u];if(n.globals.comboCharts&&void 0===c&&l.splice(u,0,null),c&&c.length){var p=a[u][e][1];l[u].setAttribute("cx",o),null!==p&&!isNaN(p)&&p<n.globals.gridHeight+s&&p+s>0?(l[u]&&l[u].setAttribute("r",s),l[u]&&l[u].setAttribute("cy",p)):l[u]&&l[u].setAttribute("r",0)}}if(this.moveXCrosshairs(o),!r.fixedTooltip){var d=i||n.globals.gridHeight;this.moveTooltip(o,d,s)}}},{key:"moveStickyTooltipOverBars",value:function(e){var t=this.w,r=this.ttCtx,n=t.globals.columnSeries?t.globals.columnSeries.length:t.globals.series.length,o=n>=2&&n%2==0?Math.floor(n/2):Math.floor(n/2)+1;t.globals.isBarHorizontal&&(o=new L(this.ctx).getActiveConfigSeriesIndex(!1,"desc")+1);var i=t.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[rel='".concat(o,"'] path[j='").concat(e,"'], .apexcharts-candlestick-series .apexcharts-series[rel='").concat(o,"'] path[j='").concat(e,"'], .apexcharts-boxPlot-series .apexcharts-series[rel='").concat(o,"'] path[j='").concat(e,"'], .apexcharts-rangebar-series .apexcharts-series[rel='").concat(o,"'] path[j='").concat(e,"']")),a=i?parseFloat(i.getAttribute("cx")):0,s=i?parseFloat(i.getAttribute("cy")):0,l=i?parseFloat(i.getAttribute("barWidth")):0,u=i?parseFloat(i.getAttribute("barHeight")):0,c=r.getElGrid().getBoundingClientRect(),p=i.classList.contains("apexcharts-candlestick-area")||i.classList.contains("apexcharts-boxPlot-area");if(t.globals.isXNumeric?(i&&!p&&(a-=n%2!=0?l/2:0),i&&p&&t.globals.comboCharts&&(a-=l/2)):t.globals.isBarHorizontal||(a=r.xAxisTicksPositions[e-1]+r.dataPointsDividedWidth/2,isNaN(a)&&(a=r.xAxisTicksPositions[e]-r.dataPointsDividedWidth/2)),t.globals.isBarHorizontal?(s>t.globals.gridHeight/2&&(s-=r.tooltipRect.ttHeight),(s=s+t.config.grid.padding.top+u/3)+u>t.globals.gridHeight&&(s=t.globals.gridHeight-u)):t.config.tooltip.followCursor?s=r.e.clientY-c.top-r.tooltipRect.ttHeight/2:s+r.tooltipRect.ttHeight+15>t.globals.gridHeight&&(s=t.globals.gridHeight),s<-10&&(s=-10),t.globals.isBarHorizontal||this.moveXCrosshairs(a),!r.fixedTooltip){var d=s||t.globals.gridHeight;this.moveTooltip(a,d)}}}]),e}(),be=function(){function e(t){s(this,e),this.w=t.w,this.ttCtx=t,this.ctx=t.ctx,this.tooltipPosition=new me(t)}return u(e,[{key:"drawDynamicPoints",value:function(){var e=this.w,t=new x(this.ctx),r=new M(this.ctx),n=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series");n=y(n),e.config.chart.stacked&&n.sort((function(e,t){return parseFloat(e.getAttribute("data:realIndex"))-parseFloat(t.getAttribute("data:realIndex"))}));for(var o=0;o<n.length;o++){var i=n[o].querySelector(".apexcharts-series-markers-wrap");if(null!==i){var a=void 0,s="apexcharts-marker w".concat((Math.random()+1).toString(36).substring(4));"line"!==e.config.chart.type&&"area"!==e.config.chart.type||e.globals.comboCharts||e.config.tooltip.intersect||(s+=" no-pointer-events");var l=r.getMarkerConfig({cssClass:s,seriesIndex:Number(i.getAttribute("data:realIndex"))});(a=t.drawMarker(0,0,l)).node.setAttribute("default-marker-size",0);var u=document.createElementNS(e.globals.SVGNS,"g");u.classList.add("apexcharts-series-markers"),u.appendChild(a.node),i.appendChild(u)}}}},{key:"enlargeCurrentPoint",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=this.w;"bubble"!==o.config.chart.type&&this.newPointSize(e,t);var i=t.getAttribute("cx"),a=t.getAttribute("cy");if(null!==r&&null!==n&&(i=r,a=n),this.tooltipPosition.moveXCrosshairs(i),!this.fixedTooltip){if("radar"===o.config.chart.type){var s=this.ttCtx.getElGrid(),l=s.getBoundingClientRect();i=this.ttCtx.e.clientX-l.left}this.tooltipPosition.moveTooltip(i,a,o.config.markers.hover.size)}}},{key:"enlargePoints",value:function(e){for(var t=this.w,r=this,n=this.ttCtx,o=e,i=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),a=t.config.markers.hover.size,s=0;s<i.length;s++){var l=i[s].getAttribute("rel"),u=i[s].getAttribute("index");if(void 0===a&&(a=t.globals.markers.size[u]+t.config.markers.hover.sizeOffset),o===parseInt(l,10)){r.newPointSize(o,i[s]);var c=i[s].getAttribute("cx"),p=i[s].getAttribute("cy");r.tooltipPosition.moveXCrosshairs(c),n.fixedTooltip||r.tooltipPosition.moveTooltip(c,p,a)}else r.oldPointSize(i[s])}}},{key:"newPointSize",value:function(e,t){var r=this.w,n=r.config.markers.hover.size,o=0===e?t.parentNode.firstChild:t.parentNode.lastChild;if("0"!==o.getAttribute("default-marker-size")){var i=parseInt(o.getAttribute("index"),10);void 0===n&&(n=r.globals.markers.size[i]+r.config.markers.hover.sizeOffset),n<0&&(n=0),o.setAttribute("r",n)}}},{key:"oldPointSize",value:function(e){var t=parseFloat(e.getAttribute("default-marker-size"));e.setAttribute("r",t)}},{key:"resetPointsSize",value:function(){for(var e=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),t=0;t<e.length;t++){var r=parseFloat(e[t].getAttribute("default-marker-size"));b.isNumber(r)&&r>=0?e[t].setAttribute("r",r):e[t].setAttribute("r",0)}}}]),e}(),Ce=function(){function e(t){s(this,e),this.w=t.w,this.ttCtx=t}return u(e,[{key:"getAttr",value:function(e,t){return parseFloat(e.target.getAttribute(t))}},{key:"handleHeatTreeTooltip",value:function(e){var t=e.e,r=e.opt,n=e.x,o=e.y,i=e.type,a=this.ttCtx,s=this.w;if(t.target.classList.contains("apexcharts-".concat(i,"-rect"))){var l=this.getAttr(t,"i"),u=this.getAttr(t,"j"),c=this.getAttr(t,"cx"),p=this.getAttr(t,"cy"),d=this.getAttr(t,"width"),h=this.getAttr(t,"height");if(a.tooltipLabels.drawSeriesTexts({ttItems:r.ttItems,i:l,j:u,shared:!1,e:t}),s.globals.capturedSeriesIndex=l,s.globals.capturedDataPointIndex=u,n=c+a.tooltipRect.ttWidth/2+d,o=p+a.tooltipRect.ttHeight/2-h/2,a.tooltipPosition.moveXCrosshairs(c+d/2),n>s.globals.gridWidth/2&&(n=c-a.tooltipRect.ttWidth/2+d),a.w.config.tooltip.followCursor){var f=s.globals.dom.elWrap.getBoundingClientRect();n=s.globals.clientX-f.left-(n>s.globals.gridWidth/2?a.tooltipRect.ttWidth:0),o=s.globals.clientY-f.top-(o>s.globals.gridHeight/2?a.tooltipRect.ttHeight:0)}}return{x:n,y:o}}},{key:"handleMarkerTooltip",value:function(e){var t,r,n=e.e,o=e.opt,i=e.x,a=e.y,s=this.w,l=this.ttCtx;if(n.target.classList.contains("apexcharts-marker")){var u=parseInt(o.paths.getAttribute("cx"),10),c=parseInt(o.paths.getAttribute("cy"),10),p=parseFloat(o.paths.getAttribute("val"));if(r=parseInt(o.paths.getAttribute("rel"),10),t=parseInt(o.paths.parentNode.parentNode.parentNode.getAttribute("rel"),10)-1,l.intersect){var d=b.findAncestor(o.paths,"apexcharts-series");d&&(t=parseInt(d.getAttribute("data:realIndex"),10))}if(l.tooltipLabels.drawSeriesTexts({ttItems:o.ttItems,i:t,j:r,shared:!l.showOnIntersect&&s.config.tooltip.shared,e:n}),"mouseup"===n.type&&l.markerClick(n,t,r),s.globals.capturedSeriesIndex=t,s.globals.capturedDataPointIndex=r,i=u,a=c+s.globals.translateY-1.4*l.tooltipRect.ttHeight,l.w.config.tooltip.followCursor){var h=l.getElGrid().getBoundingClientRect();a=l.e.clientY+s.globals.translateY-h.top}p<0&&(a=c),l.marker.enlargeCurrentPoint(r,o.paths,i,a)}return{x:i,y:a}}},{key:"handleBarTooltip",value:function(e){var t,r,n=e.e,o=e.opt,i=this.w,a=this.ttCtx,s=a.getElTooltip(),l=0,u=0,c=0,p=this.getBarTooltipXY({e:n,opt:o});t=p.i;var d=p.barHeight,h=p.j;i.globals.capturedSeriesIndex=t,i.globals.capturedDataPointIndex=h,i.globals.isBarHorizontal&&a.tooltipUtil.hasBars()||!i.config.tooltip.shared?(u=p.x,c=p.y,r=Array.isArray(i.config.stroke.width)?i.config.stroke.width[t]:i.config.stroke.width,l=u):i.globals.comboCharts||i.config.tooltip.shared||(l/=2),isNaN(c)?c=i.globals.svgHeight-a.tooltipRect.ttHeight:c<0&&(c=0);var f=parseInt(o.paths.parentNode.getAttribute("data:realIndex"),10),g=i.globals.isMultipleYAxis?i.config.yaxis[f]&&i.config.yaxis[f].reversed:i.config.yaxis[0].reversed;if(u+a.tooltipRect.ttWidth>i.globals.gridWidth&&!g?u-=a.tooltipRect.ttWidth:u<0&&(u=0),a.w.config.tooltip.followCursor){var y=a.getElGrid().getBoundingClientRect();c=a.e.clientY-y.top}null===a.tooltip&&(a.tooltip=i.globals.dom.baseEl.querySelector(".apexcharts-tooltip")),i.config.tooltip.shared||(i.globals.comboBarCount>0?a.tooltipPosition.moveXCrosshairs(l+r/2):a.tooltipPosition.moveXCrosshairs(l)),!a.fixedTooltip&&(!i.config.tooltip.shared||i.globals.isBarHorizontal&&a.tooltipUtil.hasBars())&&(g&&(u-=a.tooltipRect.ttWidth)<0&&(u=0),!g||i.globals.isBarHorizontal&&a.tooltipUtil.hasBars()||(c=c+d-2*(i.globals.series[t][h]<0?d:0)),a.tooltipRect.ttHeight+c>i.globals.gridHeight?c=i.globals.gridHeight-a.tooltipRect.ttHeight+i.globals.translateY:(c=c+i.globals.translateY-a.tooltipRect.ttHeight/2)<0&&(c=0),s.style.left=u+i.globals.translateX+"px",s.style.top=c+"px")}},{key:"getBarTooltipXY",value:function(e){var t=e.e,r=e.opt,n=this.w,o=null,i=this.ttCtx,a=0,s=0,l=0,u=0,c=0,p=t.target.classList;if(p.contains("apexcharts-bar-area")||p.contains("apexcharts-candlestick-area")||p.contains("apexcharts-boxPlot-area")||p.contains("apexcharts-rangebar-area")){var d=t.target,h=d.getBoundingClientRect(),f=r.elGrid.getBoundingClientRect(),g=h.height;c=h.height;var y=h.width,v=parseInt(d.getAttribute("cx"),10),m=parseInt(d.getAttribute("cy"),10);u=parseFloat(d.getAttribute("barWidth"));var b="touchmove"===t.type?t.touches[0].clientX:t.clientX;o=parseInt(d.getAttribute("j"),10),a=parseInt(d.parentNode.getAttribute("rel"),10)-1;var C=d.getAttribute("data-range-y1"),w=d.getAttribute("data-range-y2");n.globals.comboCharts&&(a=parseInt(d.parentNode.getAttribute("data:realIndex"),10)),i.tooltipLabels.drawSeriesTexts({ttItems:r.ttItems,i:a,j:o,y1:C?parseInt(C,10):null,y2:w?parseInt(w,10):null,shared:!i.showOnIntersect&&n.config.tooltip.shared,e:t}),n.config.tooltip.followCursor?n.globals.isBarHorizontal?(s=b-f.left+15,l=m-i.dataPointsDividedHeight+g/2-i.tooltipRect.ttHeight/2):(s=n.globals.isXNumeric?v-y/2:v-i.dataPointsDividedWidth+y/2,l=t.clientY-f.top-i.tooltipRect.ttHeight/2-15):n.globals.isBarHorizontal?((s=v)<i.xyRatios.baseLineInvertedY&&(s=v-i.tooltipRect.ttWidth),l=m-i.dataPointsDividedHeight+g/2-i.tooltipRect.ttHeight/2):(s=n.globals.isXNumeric?v-y/2:v-i.dataPointsDividedWidth+y/2,l=m)}return{x:s,y:l,barHeight:c,barWidth:u,i:a,j:o}}}]),e}(),we=function(){function e(t){s(this,e),this.w=t.w,this.ttCtx=t}return u(e,[{key:"drawXaxisTooltip",value:function(){var e=this.w,t=this.ttCtx,r="bottom"===e.config.xaxis.position;t.xaxisOffY=r?e.globals.gridHeight+1:-e.globals.xAxisHeight-e.config.xaxis.axisTicks.height+3;var n=r?"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom":"apexcharts-xaxistooltip apexcharts-xaxistooltip-top",o=e.globals.dom.elWrap;t.isXAxisTooltipEnabled&&null===e.globals.dom.baseEl.querySelector(".apexcharts-xaxistooltip")&&(t.xaxisTooltip=document.createElement("div"),t.xaxisTooltip.setAttribute("class",n+" apexcharts-theme-"+e.config.tooltip.theme),o.appendChild(t.xaxisTooltip),t.xaxisTooltipText=document.createElement("div"),t.xaxisTooltipText.classList.add("apexcharts-xaxistooltip-text"),t.xaxisTooltipText.style.fontFamily=e.config.xaxis.tooltip.style.fontFamily||e.config.chart.fontFamily,t.xaxisTooltipText.style.fontSize=e.config.xaxis.tooltip.style.fontSize,t.xaxisTooltip.appendChild(t.xaxisTooltipText))}},{key:"drawYaxisTooltip",value:function(){for(var e=this.w,t=this.ttCtx,r=function(r){var n=e.config.yaxis[r].opposite||e.config.yaxis[r].crosshairs.opposite;t.yaxisOffX=n?e.globals.gridWidth+1:1;var o="apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(r,n?" apexcharts-yaxistooltip-right":" apexcharts-yaxistooltip-left");e.globals.yAxisSameScaleIndices.map((function(t,n){t.map((function(t,n){n===r&&(o+=e.config.yaxis[n].show?" ":" apexcharts-yaxistooltip-hidden")}))}));var i=e.globals.dom.elWrap;null===e.globals.dom.baseEl.querySelector(".apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(r))&&(t.yaxisTooltip=document.createElement("div"),t.yaxisTooltip.setAttribute("class",o+" apexcharts-theme-"+e.config.tooltip.theme),i.appendChild(t.yaxisTooltip),0===r&&(t.yaxisTooltipText=[]),t.yaxisTooltipText[r]=document.createElement("div"),t.yaxisTooltipText[r].classList.add("apexcharts-yaxistooltip-text"),t.yaxisTooltip.appendChild(t.yaxisTooltipText[r]))},n=0;n<e.config.yaxis.length;n++)r(n)}},{key:"setXCrosshairWidth",value:function(){var e=this.w,t=this.ttCtx,r=t.getElXCrosshairs();if(t.xcrosshairsWidth=parseInt(e.config.xaxis.crosshairs.width,10),e.globals.comboCharts){var n=e.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(null!==n&&"barWidth"===e.config.xaxis.crosshairs.width){var o=parseFloat(n.getAttribute("barWidth"));t.xcrosshairsWidth=o}else if("tickWidth"===e.config.xaxis.crosshairs.width){var i=e.globals.labels.length;t.xcrosshairsWidth=e.globals.gridWidth/i}}else if("tickWidth"===e.config.xaxis.crosshairs.width){var a=e.globals.labels.length;t.xcrosshairsWidth=e.globals.gridWidth/a}else if("barWidth"===e.config.xaxis.crosshairs.width){var s=e.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(null!==s){var l=parseFloat(s.getAttribute("barWidth"));t.xcrosshairsWidth=l}else t.xcrosshairsWidth=1}e.globals.isBarHorizontal&&(t.xcrosshairsWidth=0),null!==r&&t.xcrosshairsWidth>0&&r.setAttribute("width",t.xcrosshairsWidth)}},{key:"handleYCrosshair",value:function(){var e=this.w,t=this.ttCtx;t.ycrosshairs=e.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs"),t.ycrosshairsHidden=e.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs-hidden")}},{key:"drawYaxisTooltipText",value:function(e,t,r){var n=this.ttCtx,o=this.w,i=o.globals.yLabelFormatters[e];if(n.yaxisTooltips[e]){var a=n.getElGrid().getBoundingClientRect(),s=(t-a.top)*r.yRatio[e],l=o.globals.maxYArr[e]-o.globals.minYArr[e],u=o.globals.minYArr[e]+(l-s);n.tooltipPosition.moveYCrosshairs(t-a.top),n.yaxisTooltipText[e].innerHTML=i(u),n.tooltipPosition.moveYAxisTooltip(e)}}}]),e}(),xe=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w;var r=this.w;this.tConfig=r.config.tooltip,this.tooltipUtil=new ye(this),this.tooltipLabels=new ve(this),this.tooltipPosition=new me(this),this.marker=new be(this),this.intersect=new Ce(this),this.axesTooltip=new we(this),this.showOnIntersect=this.tConfig.intersect,this.showTooltipTitle=this.tConfig.x.show,this.fixedTooltip=this.tConfig.fixed.enabled,this.xaxisTooltip=null,this.yaxisTTEls=null,this.isBarShared=!r.globals.isBarHorizontal&&this.tConfig.shared,this.lastHoverTime=Date.now()}return u(e,[{key:"getElTooltip",value:function(e){return e||(e=this),e.w.globals.dom.baseEl?e.w.globals.dom.baseEl.querySelector(".apexcharts-tooltip"):null}},{key:"getElXCrosshairs",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-xcrosshairs")}},{key:"getElGrid",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-grid")}},{key:"drawTooltip",value:function(e){var t=this.w;this.xyRatios=e,this.isXAxisTooltipEnabled=t.config.xaxis.tooltip.enabled&&t.globals.axisCharts,this.yaxisTooltips=t.config.yaxis.map((function(e,r){return!!(e.show&&e.tooltip.enabled&&t.globals.axisCharts)})),this.allTooltipSeriesGroups=[],t.globals.axisCharts||(this.showTooltipTitle=!1);var r=document.createElement("div");if(r.classList.add("apexcharts-tooltip"),t.config.tooltip.cssClass&&r.classList.add(t.config.tooltip.cssClass),r.classList.add("apexcharts-theme-".concat(this.tConfig.theme)),t.globals.dom.elWrap.appendChild(r),t.globals.axisCharts){this.axesTooltip.drawXaxisTooltip(),this.axesTooltip.drawYaxisTooltip(),this.axesTooltip.setXCrosshairWidth(),this.axesTooltip.handleYCrosshair();var n=new q(this.ctx);this.xAxisTicksPositions=n.getXAxisTicksPositions()}if(!t.globals.comboCharts&&!this.tConfig.intersect&&"rangeBar"!==t.config.chart.type||this.tConfig.shared||(this.showOnIntersect=!0),0!==t.config.markers.size&&0!==t.globals.markers.largestSize||this.marker.drawDynamicPoints(this),t.globals.collapsedSeries.length!==t.globals.series.length){this.dataPointsDividedHeight=t.globals.gridHeight/t.globals.dataPoints,this.dataPointsDividedWidth=t.globals.gridWidth/t.globals.dataPoints,this.showTooltipTitle&&(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.classList.add("apexcharts-tooltip-title"),this.tooltipTitle.style.fontFamily=this.tConfig.style.fontFamily||t.config.chart.fontFamily,this.tooltipTitle.style.fontSize=this.tConfig.style.fontSize,r.appendChild(this.tooltipTitle));var o=t.globals.series.length;(t.globals.xyCharts||t.globals.comboCharts)&&this.tConfig.shared&&(o=this.showOnIntersect?1:t.globals.series.length),this.legendLabels=t.globals.dom.baseEl.querySelectorAll(".apexcharts-legend-text"),this.ttItems=this.createTTElements(o),this.addSVGEvents()}}},{key:"createTTElements",value:function(e){for(var t=this,r=this.w,n=[],o=this.getElTooltip(),i=function(i){var a=document.createElement("div");a.classList.add("apexcharts-tooltip-series-group"),a.style.order=r.config.tooltip.inverseOrder?e-i:i+1,t.tConfig.shared&&t.tConfig.enabledOnSeries&&Array.isArray(t.tConfig.enabledOnSeries)&&t.tConfig.enabledOnSeries.indexOf(i)<0&&a.classList.add("apexcharts-tooltip-series-group-hidden");var s=document.createElement("span");s.classList.add("apexcharts-tooltip-marker"),s.style.backgroundColor=r.globals.colors[i],a.appendChild(s);var l=document.createElement("div");l.classList.add("apexcharts-tooltip-text"),l.style.fontFamily=t.tConfig.style.fontFamily||r.config.chart.fontFamily,l.style.fontSize=t.tConfig.style.fontSize,["y","goals","z"].forEach((function(e){var t=document.createElement("div");t.classList.add("apexcharts-tooltip-".concat(e,"-group"));var r=document.createElement("span");r.classList.add("apexcharts-tooltip-text-".concat(e,"-label")),t.appendChild(r);var n=document.createElement("span");n.classList.add("apexcharts-tooltip-text-".concat(e,"-value")),t.appendChild(n),l.appendChild(t)})),a.appendChild(l),o.appendChild(a),n.push(a)},a=0;a<e;a++)i(a);return n}},{key:"addSVGEvents",value:function(){var e=this.w,t=e.config.chart.type,r=this.getElTooltip(),n=!("bar"!==t&&"candlestick"!==t&&"boxPlot"!==t&&"rangeBar"!==t),o="area"===t||"line"===t||"scatter"===t||"bubble"===t||"radar"===t,i=e.globals.dom.Paper.node,a=this.getElGrid();a&&(this.seriesBound=a.getBoundingClientRect());var s,l=[],u=[],c={hoverArea:i,elGrid:a,tooltipEl:r,tooltipY:l,tooltipX:u,ttItems:this.ttItems};if(e.globals.axisCharts&&(o?s=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:longestSeries='true'] .apexcharts-marker"):n?s=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-bar-area, .apexcharts-series .apexcharts-candlestick-area, .apexcharts-series .apexcharts-boxPlot-area, .apexcharts-series .apexcharts-rangebar-area"):"heatmap"!==t&&"treemap"!==t||(s=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-heatmap, .apexcharts-series .apexcharts-treemap")),s&&s.length))for(var p=0;p<s.length;p++)l.push(s[p].getAttribute("cy")),u.push(s[p].getAttribute("cx"));if(e.globals.xyCharts&&!this.showOnIntersect||e.globals.comboCharts&&!this.showOnIntersect||n&&this.tooltipUtil.hasBars()&&this.tConfig.shared)this.addPathsEventListeners([i],c);else if(n&&!e.globals.comboCharts||o&&this.showOnIntersect)this.addDatapointEventsListeners(c);else if(!e.globals.axisCharts||"heatmap"===t||"treemap"===t){var d=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series");this.addPathsEventListeners(d,c)}if(this.showOnIntersect){var h=e.globals.dom.baseEl.querySelectorAll(".apexcharts-line-series .apexcharts-marker, .apexcharts-area-series .apexcharts-marker");h.length>0&&this.addPathsEventListeners(h,c),this.tooltipUtil.hasBars()&&!this.tConfig.shared&&this.addDatapointEventsListeners(c)}}},{key:"drawFixedTooltipRect",value:function(){var e=this.w,t=this.getElTooltip(),r=t.getBoundingClientRect(),n=r.width+10,o=r.height+10,i=this.tConfig.fixed.offsetX,a=this.tConfig.fixed.offsetY,s=this.tConfig.fixed.position.toLowerCase();return s.indexOf("right")>-1&&(i=i+e.globals.svgWidth-n+10),s.indexOf("bottom")>-1&&(a=a+e.globals.svgHeight-o-10),t.style.left=i+"px",t.style.top=a+"px",{x:i,y:a,ttWidth:n,ttHeight:o}}},{key:"addDatapointEventsListeners",value:function(e){var t=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers .apexcharts-marker, .apexcharts-bar-area, .apexcharts-candlestick-area, .apexcharts-boxPlot-area, .apexcharts-rangebar-area");this.addPathsEventListeners(t,e)}},{key:"addPathsEventListeners",value:function(e,t){for(var r=this,n=function(n){var o={paths:e[n],tooltipEl:t.tooltipEl,tooltipY:t.tooltipY,tooltipX:t.tooltipX,elGrid:t.elGrid,hoverArea:t.hoverArea,ttItems:t.ttItems};["mousemove","mouseup","touchmove","mouseout","touchend"].map((function(t){return e[n].addEventListener(t,r.onSeriesHover.bind(r,o),{capture:!1,passive:!0})}))},o=0;o<e.length;o++)n(o)}},{key:"onSeriesHover",value:function(e,t){var r=this,n=Date.now()-this.lastHoverTime;n>=100?this.seriesHover(e,t):(clearTimeout(this.seriesHoverTimeout),this.seriesHoverTimeout=setTimeout((function(){r.seriesHover(e,t)}),100-n))}},{key:"seriesHover",value:function(e,t){var r=this;this.lastHoverTime=Date.now();var n=[],o=this.w;o.config.chart.group&&(n=this.ctx.getGroupedCharts()),o.globals.axisCharts&&(o.globals.minX===-1/0&&o.globals.maxX===1/0||0===o.globals.dataPoints)||(n.length?n.forEach((function(n){var o=r.getElTooltip(n),i={paths:e.paths,tooltipEl:o,tooltipY:e.tooltipY,tooltipX:e.tooltipX,elGrid:e.elGrid,hoverArea:e.hoverArea,ttItems:n.w.globals.tooltip.ttItems};n.w.globals.minX===r.w.globals.minX&&n.w.globals.maxX===r.w.globals.maxX&&n.w.globals.tooltip.seriesHoverByContext({chartCtx:n,ttCtx:n.w.globals.tooltip,opt:i,e:t})})):this.seriesHoverByContext({chartCtx:this.ctx,ttCtx:this.w.globals.tooltip,opt:e,e:t}))}},{key:"seriesHoverByContext",value:function(e){var t=e.chartCtx,r=e.ttCtx,n=e.opt,o=e.e,i=t.w,a=this.getElTooltip();a&&(r.tooltipRect={x:0,y:0,ttWidth:a.getBoundingClientRect().width,ttHeight:a.getBoundingClientRect().height},r.e=o,!r.tooltipUtil.hasBars()||i.globals.comboCharts||r.isBarShared||this.tConfig.onDatasetHover.highlightDataSeries&&new L(t).toggleSeriesOnHover(o,o.target.parentNode),r.fixedTooltip&&r.drawFixedTooltipRect(),i.globals.axisCharts?r.axisChartsTooltips({e:o,opt:n,tooltipRect:r.tooltipRect}):r.nonAxisChartsTooltips({e:o,opt:n,tooltipRect:r.tooltipRect}))}},{key:"axisChartsTooltips",value:function(e){var t,r,n=e.e,o=e.opt,i=this.w,a=o.elGrid.getBoundingClientRect(),s="touchmove"===n.type?n.touches[0].clientX:n.clientX,l="touchmove"===n.type?n.touches[0].clientY:n.clientY;if(this.clientY=l,this.clientX=s,i.globals.capturedSeriesIndex=-1,i.globals.capturedDataPointIndex=-1,l<a.top||l>a.top+a.height)this.handleMouseOut(o);else{if(Array.isArray(this.tConfig.enabledOnSeries)&&!i.config.tooltip.shared){var u=parseInt(o.paths.getAttribute("index"),10);if(this.tConfig.enabledOnSeries.indexOf(u)<0)return void this.handleMouseOut(o)}var c=this.getElTooltip(),p=this.getElXCrosshairs(),d=i.globals.xyCharts||"bar"===i.config.chart.type&&!i.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&this.tConfig.shared||i.globals.comboCharts&&this.tooltipUtil.hasBars();if("mousemove"===n.type||"touchmove"===n.type||"mouseup"===n.type){if(i.globals.collapsedSeries.length+i.globals.ancillaryCollapsedSeries.length===i.globals.series.length)return;null!==p&&p.classList.add("apexcharts-active");var h=this.yaxisTooltips.filter((function(e){return!0===e}));if(null!==this.ycrosshairs&&h.length&&this.ycrosshairs.classList.add("apexcharts-active"),d&&!this.showOnIntersect)this.handleStickyTooltip(n,s,l,o);else if("heatmap"===i.config.chart.type||"treemap"===i.config.chart.type){var f=this.intersect.handleHeatTreeTooltip({e:n,opt:o,x:t,y:r,type:i.config.chart.type});t=f.x,r=f.y,c.style.left=t+"px",c.style.top=r+"px"}else this.tooltipUtil.hasBars()&&this.intersect.handleBarTooltip({e:n,opt:o}),this.tooltipUtil.hasMarkers()&&this.intersect.handleMarkerTooltip({e:n,opt:o,x:t,y:r});if(this.yaxisTooltips.length)for(var g=0;g<i.config.yaxis.length;g++)this.axesTooltip.drawYaxisTooltipText(g,l,this.xyRatios);o.tooltipEl.classList.add("apexcharts-active")}else"mouseout"!==n.type&&"touchend"!==n.type||this.handleMouseOut(o)}}},{key:"nonAxisChartsTooltips",value:function(e){var t=e.e,r=e.opt,n=e.tooltipRect,o=this.w,i=r.paths.getAttribute("rel"),a=this.getElTooltip(),s=o.globals.dom.elWrap.getBoundingClientRect();if("mousemove"===t.type||"touchmove"===t.type){a.classList.add("apexcharts-active"),this.tooltipLabels.drawSeriesTexts({ttItems:r.ttItems,i:parseInt(i,10)-1,shared:!1});var l=o.globals.clientX-s.left-n.ttWidth/2,u=o.globals.clientY-s.top-n.ttHeight-10;if(a.style.left=l+"px",a.style.top=u+"px",o.config.legend.tooltipHoverFormatter){var c=i-1,p=(0,o.config.legend.tooltipHoverFormatter)(this.legendLabels[c].getAttribute("data:default-text"),{seriesIndex:c,dataPointIndex:c,w:o});this.legendLabels[c].innerHTML=p}}else"mouseout"!==t.type&&"touchend"!==t.type||(a.classList.remove("apexcharts-active"),o.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach((function(e){var t=e.getAttribute("data:default-text");e.innerHTML=decodeURIComponent(t)})))}},{key:"handleStickyTooltip",value:function(e,t,r,n){var o=this.w,i=this.tooltipUtil.getNearestValues({context:this,hoverArea:n.hoverArea,elGrid:n.elGrid,clientX:t,clientY:r}),a=i.j,s=i.capturedSeries,l=n.elGrid.getBoundingClientRect();i.hoverX<0||i.hoverX>l.width?this.handleMouseOut(n):null!==s?this.handleStickyCapturedSeries(e,s,n,a):(this.tooltipUtil.isXoverlap(a)||o.globals.isBarHorizontal)&&this.create(e,this,0,a,n.ttItems)}},{key:"handleStickyCapturedSeries",value:function(e,t,r,n){var o=this.w;this.tConfig.shared||null!==o.globals.series[t][n]?void 0!==o.globals.series[t][n]?this.tConfig.shared&&this.tooltipUtil.isXoverlap(n)&&this.tooltipUtil.isInitialSeriesSameLen()?this.create(e,this,t,n,r.ttItems):this.create(e,this,t,n,r.ttItems,!1):this.tooltipUtil.isXoverlap(n)&&this.create(e,this,0,n,r.ttItems):this.handleMouseOut(r)}},{key:"deactivateHoverFilter",value:function(){for(var e=this.w,t=new x(this.ctx),r=e.globals.dom.Paper.select(".apexcharts-bar-area"),n=0;n<r.length;n++)t.pathMouseLeave(r[n])}},{key:"handleMouseOut",value:function(e){var t=this.w,r=this.getElXCrosshairs();if(e.tooltipEl.classList.remove("apexcharts-active"),this.deactivateHoverFilter(),"bubble"!==t.config.chart.type&&this.marker.resetPointsSize(),null!==r&&r.classList.remove("apexcharts-active"),null!==this.ycrosshairs&&this.ycrosshairs.classList.remove("apexcharts-active"),this.isXAxisTooltipEnabled&&this.xaxisTooltip.classList.remove("apexcharts-active"),this.yaxisTooltips.length){null===this.yaxisTTEls&&(this.yaxisTTEls=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));for(var n=0;n<this.yaxisTTEls.length;n++)this.yaxisTTEls[n].classList.remove("apexcharts-active")}t.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach((function(e){var t=e.getAttribute("data:default-text");e.innerHTML=decodeURIComponent(t)}))}},{key:"markerClick",value:function(e,t,r){var n=this.w;"function"==typeof n.config.chart.events.markerClick&&n.config.chart.events.markerClick(e,this.ctx,{seriesIndex:t,dataPointIndex:r,w:n}),this.ctx.events.fireEvent("markerClick",[e,this.ctx,{seriesIndex:t,dataPointIndex:r,w:n}])}},{key:"create",value:function(e,t,r,n,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=this.w,s=t;"mouseup"===e.type&&this.markerClick(e,r,n),null===i&&(i=this.tConfig.shared);var l=this.tooltipUtil.hasMarkers(),u=this.tooltipUtil.getElBars();if(a.config.legend.tooltipHoverFormatter){var c=a.config.legend.tooltipHoverFormatter,p=Array.from(this.legendLabels);p.forEach((function(e){var t=e.getAttribute("data:default-text");e.innerHTML=decodeURIComponent(t)}));for(var d=0;d<p.length;d++){var h=p[d],f=parseInt(h.getAttribute("i"),10),g=decodeURIComponent(h.getAttribute("data:default-text")),y=c(g,{seriesIndex:i?f:r,dataPointIndex:n,w:a});if(i)h.innerHTML=a.globals.collapsedSeriesIndices.indexOf(f)<0?y:g;else if(h.innerHTML=f===r?y:g,r===f)break}}if(i){if(s.tooltipLabels.drawSeriesTexts({ttItems:o,i:r,j:n,shared:!this.showOnIntersect&&this.tConfig.shared}),l&&(a.globals.markers.largestSize>0?s.marker.enlargePoints(n):s.tooltipPosition.moveDynamicPointsOnHover(n)),this.tooltipUtil.hasBars()&&(this.barSeriesHeight=this.tooltipUtil.getBarsHeight(u),this.barSeriesHeight>0)){var v=new x(this.ctx),m=a.globals.dom.Paper.select(".apexcharts-bar-area[j='".concat(n,"']"));this.deactivateHoverFilter(),this.tooltipPosition.moveStickyTooltipOverBars(n);for(var b=0;b<m.length;b++)v.pathMouseEnter(m[b])}}else s.tooltipLabels.drawSeriesTexts({shared:!1,ttItems:o,i:r,j:n}),this.tooltipUtil.hasBars()&&s.tooltipPosition.moveStickyTooltipOverBars(n),l&&s.tooltipPosition.moveMarkers(r,n)}}]),e}(),Se=function(e){p(r,G);var t=g(r);function r(){return s(this,r),t.apply(this,arguments)}return u(r,[{key:"draw",value:function(e,t){var r=this,n=this.w;this.graphics=new x(this.ctx),this.bar=new G(this.ctx,this.xyRatios);var o=new S(this.ctx,n);e=o.getLogSeries(e),this.yRatio=o.getLogYRatios(this.yRatio),this.barHelpers.initVariables(e),"100%"===n.config.chart.stackType&&(e=n.globals.seriesPercent.slice()),this.series=e,this.totalItems=0,this.prevY=[],this.prevX=[],this.prevYF=[],this.prevXF=[],this.prevYVal=[],this.prevXVal=[],this.xArrj=[],this.xArrjF=[],this.xArrjVal=[],this.yArrj=[],this.yArrjF=[],this.yArrjVal=[];for(var a=0;a<e.length;a++)e[a].length>0&&(this.totalItems+=e[a].length);for(var s=this.graphics.group({class:"apexcharts-bar-series apexcharts-plot-series"}),l=0,u=0,c=function(o,a){var c=void 0,p=void 0,d=void 0,h=void 0,f=[],g=[],y=n.globals.comboCharts?t[o]:o;r.yRatio.length>1&&(r.yaxisIndex=y),r.isReversed=n.config.yaxis[r.yaxisIndex]&&n.config.yaxis[r.yaxisIndex].reversed;var v=r.graphics.group({class:"apexcharts-series",seriesName:b.escapeString(n.globals.seriesNames[y]),rel:o+1,"data:realIndex":y});r.ctx.series.addCollapsedClassToSeries(v,y);var m=r.graphics.group({class:"apexcharts-datalabels","data:realIndex":y}),C=0,w=0,x=r.initialPositions(l,u,c,p,d,h);u=x.y,C=x.barHeight,p=x.yDivision,h=x.zeroW,l=x.x,w=x.barWidth,c=x.xDivision,d=x.zeroH,r.yArrj=[],r.yArrjF=[],r.yArrjVal=[],r.xArrj=[],r.xArrjF=[],r.xArrjVal=[],1===r.prevY.length&&r.prevY[0].every((function(e){return isNaN(e)}))&&(r.prevY[0]=r.prevY[0].map((function(e){return d})),r.prevYF[0]=r.prevYF[0].map((function(e){return 0})));for(var S=0;S<n.globals.dataPoints;S++){var E=r.barHelpers.getStrokeWidth(o,S,y),O={indexes:{i:o,j:S,realIndex:y,bc:a},strokeWidth:E,x:l,y:u,elSeries:v},_=null;r.isHorizontal?(_=r.drawStackedBarPaths(i(i({},O),{},{zeroW:h,barHeight:C,yDivision:p})),w=r.series[o][S]/r.invertedYRatio):(_=r.drawStackedColumnPaths(i(i({},O),{},{xDivision:c,barWidth:w,zeroH:d})),C=r.series[o][S]/r.yRatio[r.yaxisIndex]),u=_.y,l=_.x,f.push(l),g.push(u);var P=r.barHelpers.getPathFillColor(e,o,S,y);v=r.renderSeries({realIndex:y,pathFill:P,j:S,i:o,pathFrom:_.pathFrom,pathTo:_.pathTo,strokeWidth:E,elSeries:v,x:l,y:u,series:e,barHeight:C,barWidth:w,elDataLabelsWrap:m,type:"bar",visibleSeries:0})}n.globals.seriesXvalues[y]=f,n.globals.seriesYvalues[y]=g,r.prevY.push(r.yArrj),r.prevYF.push(r.yArrjF),r.prevYVal.push(r.yArrjVal),r.prevX.push(r.xArrj),r.prevXF.push(r.xArrjF),r.prevXVal.push(r.xArrjVal),s.add(v)},p=0,d=0;p<e.length;p++,d++)c(p,d);return s}},{key:"initialPositions",value:function(e,t,r,n,o,i){var a,s,l=this.w;return this.isHorizontal?(a=(a=n=l.globals.gridHeight/l.globals.dataPoints)*parseInt(l.config.plotOptions.bar.barHeight,10)/100,i=this.baseLineInvertedY+l.globals.padHorizontal+(this.isReversed?l.globals.gridWidth:0)-(this.isReversed?2*this.baseLineInvertedY:0),t=(n-a)/2):(s=r=l.globals.gridWidth/l.globals.dataPoints,s=l.globals.isXNumeric&&l.globals.dataPoints>1?(r=l.globals.minXDiff/this.xRatio)*parseInt(this.barOptions.columnWidth,10)/100:s*parseInt(l.config.plotOptions.bar.columnWidth,10)/100,o=this.baseLineY[this.yaxisIndex]+(this.isReversed?l.globals.gridHeight:0)-(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),e=l.globals.padHorizontal+(r-s)/2),{x:e,y:t,yDivision:n,xDivision:r,barHeight:a,barWidth:s,zeroH:o,zeroW:i}}},{key:"drawStackedBarPaths",value:function(e){for(var t,r=e.indexes,n=e.barHeight,o=e.strokeWidth,i=e.zeroW,a=e.x,s=e.y,l=e.yDivision,u=e.elSeries,c=this.w,p=s,d=r.i,h=r.j,f=0,g=0;g<this.prevXF.length;g++)f+=this.prevXF[g][h];if(d>0){var y=i;this.prevXVal[d-1][h]<0?y=this.series[d][h]>=0?this.prevX[d-1][h]+f-2*(this.isReversed?f:0):this.prevX[d-1][h]:this.prevXVal[d-1][h]>=0&&(y=this.series[d][h]>=0?this.prevX[d-1][h]:this.prevX[d-1][h]-f+2*(this.isReversed?f:0)),t=y}else t=i;a=null===this.series[d][h]?t:t+this.series[d][h]/this.invertedYRatio-2*(this.isReversed?this.series[d][h]/this.invertedYRatio:0);var v=this.barHelpers.getBarpaths({barYPosition:p,barHeight:n,x1:t,x2:a,strokeWidth:o,series:this.series,realIndex:r.realIndex,i:d,j:h,w:c});return this.barHelpers.barBackground({j:h,i:d,y1:p,y2:n,elSeries:u}),s+=l,{pathTo:v.pathTo,pathFrom:v.pathFrom,x:a,y:s}}},{key:"drawStackedColumnPaths",value:function(e){var t=e.indexes,r=e.x,n=e.y,o=e.xDivision,i=e.barWidth,a=e.zeroH;e.strokeWidth;var s=e.elSeries,l=this.w,u=t.i,c=t.j,p=t.bc;if(l.globals.isXNumeric){var d=l.globals.seriesX[u][c];d||(d=0),r=(d-l.globals.minX)/this.xRatio-i/2}for(var h,f=r,g=0,y=0;y<this.prevYF.length;y++)g+=isNaN(this.prevYF[y][c])?0:this.prevYF[y][c];if(u>0&&!l.globals.isXNumeric||u>0&&l.globals.isXNumeric&&l.globals.seriesX[u-1][c]===l.globals.seriesX[u][c]){var v,m,b=Math.min(this.yRatio.length+1,u+1);if(void 0!==this.prevY[u-1])for(var C=1;C<b;C++)if(!isNaN(this.prevY[u-C][c])){m=this.prevY[u-C][c];break}for(var w=1;w<b;w++){if(this.prevYVal[u-w][c]<0){v=this.series[u][c]>=0?m-g+2*(this.isReversed?g:0):m;break}if(this.prevYVal[u-w][c]>=0){v=this.series[u][c]>=0?m:m+g-2*(this.isReversed?g:0);break}}void 0===v&&(v=l.globals.gridHeight),h=this.prevYF[0].every((function(e){return 0===e}))&&this.prevYF.slice(1,u).every((function(e){return e.every((function(e){return isNaN(e)}))}))?l.globals.gridHeight-a:v}else h=l.globals.gridHeight-a;n=h-this.series[u][c]/this.yRatio[this.yaxisIndex]+2*(this.isReversed?this.series[u][c]/this.yRatio[this.yaxisIndex]:0);var x=this.barHelpers.getColumnPaths({barXPosition:f,barWidth:i,y1:h,y2:n,yRatio:this.yRatio[this.yaxisIndex],strokeWidth:this.strokeWidth,series:this.series,realIndex:t.realIndex,i:u,j:c,w:l});return this.barHelpers.barBackground({bc:p,j:c,i:u,x1:f,x2:i,elSeries:s}),r+=o,{pathTo:x.pathTo,pathFrom:x.pathFrom,x:l.globals.isXNumeric?r-o:r,y:n}}}]),r}(),Ee=function(e){p(r,G);var t=g(r);function r(){return s(this,r),t.apply(this,arguments)}return u(r,[{key:"draw",value:function(e,t){var r=this,n=this.w,o=new x(this.ctx),a=new D(this.ctx);this.candlestickOptions=this.w.config.plotOptions.candlestick,this.boxOptions=this.w.config.plotOptions.boxPlot,this.isHorizontal=n.config.plotOptions.bar.horizontal;var s=new S(this.ctx,n);e=s.getLogSeries(e),this.series=e,this.yRatio=s.getLogYRatios(this.yRatio),this.barHelpers.initVariables(e);for(var l=o.group({class:"apexcharts-".concat(n.config.chart.type,"-series apexcharts-plot-series")}),u=function(s){r.isBoxPlot="boxPlot"===n.config.chart.type||"boxPlot"===n.config.series[s].type;var u,c,p,d,h,f,g=void 0,y=void 0,v=[],m=[],C=n.globals.comboCharts?t[s]:s,w=o.group({class:"apexcharts-series",seriesName:b.escapeString(n.globals.seriesNames[C]),rel:s+1,"data:realIndex":C});r.ctx.series.addCollapsedClassToSeries(w,C),e[s].length>0&&(r.visibleI=r.visibleI+1),r.yRatio.length>1&&(r.yaxisIndex=C);var x=r.barHelpers.initialPositions();y=x.y,h=x.barHeight,c=x.yDivision,d=x.zeroW,g=x.x,f=x.barWidth,u=x.xDivision,p=x.zeroH,m.push(g+f/2);for(var S=o.group({class:"apexcharts-datalabels","data:realIndex":C}),E=function(t){var o=r.barHelpers.getStrokeWidth(s,t,C),l=null,b={indexes:{i:s,j:t,realIndex:C},x:g,y:y,strokeWidth:o,elSeries:w};l=r.isHorizontal?r.drawHorizontalBoxPaths(i(i({},b),{},{yDivision:c,barHeight:h,zeroW:d})):r.drawVerticalBoxPaths(i(i({},b),{},{xDivision:u,barWidth:f,zeroH:p})),y=l.y,g=l.x,t>0&&m.push(g+f/2),v.push(y),l.pathTo.forEach((function(i,u){var c=!r.isBoxPlot&&r.candlestickOptions.wick.useFillColor?l.color[u]:n.globals.stroke.colors[s],p=a.fillPath({seriesNumber:C,dataPointIndex:t,color:l.color[u],value:e[s][t]});r.renderSeries({realIndex:C,pathFill:p,lineFill:c,j:t,i:s,pathFrom:l.pathFrom,pathTo:i,strokeWidth:o,elSeries:w,x:g,y:y,series:e,barHeight:h,barWidth:f,elDataLabelsWrap:S,visibleSeries:r.visibleI,type:n.config.chart.type})}))},O=0;O<n.globals.dataPoints;O++)E(O);n.globals.seriesXvalues[C]=m,n.globals.seriesYvalues[C]=v,l.add(w)},c=0;c<e.length;c++)u(c);return l}},{key:"drawVerticalBoxPaths",value:function(e){var t=e.indexes,r=e.x;e.y;var n=e.xDivision,o=e.barWidth,i=e.zeroH,a=e.strokeWidth,s=this.w,l=new x(this.ctx),u=t.i,c=t.j,p=!0,d=s.config.plotOptions.candlestick.colors.upward,h=s.config.plotOptions.candlestick.colors.downward,f="";this.isBoxPlot&&(f=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var g=this.yRatio[this.yaxisIndex],y=t.realIndex,v=this.getOHLCValue(y,c),m=i,b=i;v.o>v.c&&(p=!1);var C=Math.min(v.o,v.c),w=Math.max(v.o,v.c),S=v.m;s.globals.isXNumeric&&(r=(s.globals.seriesX[y][c]-s.globals.minX)/this.xRatio-o/2);var E=r+o*this.visibleI;void 0===this.series[u][c]||null===this.series[u][c]?(C=i,w=i):(C=i-C/g,w=i-w/g,m=i-v.h/g,b=i-v.l/g,S=i-v.m/g);var O=l.move(E,i),_=l.move(E+o/2,C);return s.globals.previousPaths.length>0&&(_=this.getPreviousPath(y,c,!0)),O=this.isBoxPlot?[l.move(E,C)+l.line(E+o/2,C)+l.line(E+o/2,m)+l.line(E+o/4,m)+l.line(E+o-o/4,m)+l.line(E+o/2,m)+l.line(E+o/2,C)+l.line(E+o,C)+l.line(E+o,S)+l.line(E,S)+l.line(E,C+a/2),l.move(E,S)+l.line(E+o,S)+l.line(E+o,w)+l.line(E+o/2,w)+l.line(E+o/2,b)+l.line(E+o-o/4,b)+l.line(E+o/4,b)+l.line(E+o/2,b)+l.line(E+o/2,w)+l.line(E,w)+l.line(E,S)+"z"]:[l.move(E,w)+l.line(E+o/2,w)+l.line(E+o/2,m)+l.line(E+o/2,w)+l.line(E+o,w)+l.line(E+o,C)+l.line(E+o/2,C)+l.line(E+o/2,b)+l.line(E+o/2,C)+l.line(E,C)+l.line(E,w-a/2)],_+=l.move(E,C),s.globals.isXNumeric||(r+=n),{pathTo:O,pathFrom:_,x:r,y:w,barXPosition:E,color:this.isBoxPlot?f:p?[d]:[h]}}},{key:"drawHorizontalBoxPaths",value:function(e){var t=e.indexes;e.x;var r=e.y,n=e.yDivision,o=e.barHeight,i=e.zeroW,a=e.strokeWidth,s=this.w,l=new x(this.ctx),u=t.i,c=t.j,p=this.boxOptions.colors.lower;this.isBoxPlot&&(p=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var d=this.invertedYRatio,h=t.realIndex,f=this.getOHLCValue(h,c),g=i,y=i,v=Math.min(f.o,f.c),m=Math.max(f.o,f.c),b=f.m;s.globals.isXNumeric&&(r=(s.globals.seriesX[h][c]-s.globals.minX)/this.invertedXRatio-o/2);var C=r+o*this.visibleI;void 0===this.series[u][c]||null===this.series[u][c]?(v=i,m=i):(v=i+v/d,m=i+m/d,g=i+f.h/d,y=i+f.l/d,b=i+f.m/d);var w=l.move(i,C),S=l.move(v,C+o/2);return s.globals.previousPaths.length>0&&(S=this.getPreviousPath(h,c,!0)),w=[l.move(v,C)+l.line(v,C+o/2)+l.line(g,C+o/2)+l.line(g,C+o/2-o/4)+l.line(g,C+o/2+o/4)+l.line(g,C+o/2)+l.line(v,C+o/2)+l.line(v,C+o)+l.line(b,C+o)+l.line(b,C)+l.line(v+a/2,C),l.move(b,C)+l.line(b,C+o)+l.line(m,C+o)+l.line(m,C+o/2)+l.line(y,C+o/2)+l.line(y,C+o-o/4)+l.line(y,C+o/4)+l.line(y,C+o/2)+l.line(m,C+o/2)+l.line(m,C)+l.line(b,C)+"z"],S+=l.move(v,C),s.globals.isXNumeric||(r+=n),{pathTo:w,pathFrom:S,x:m,y:r,barYPosition:C,color:p}}},{key:"getOHLCValue",value:function(e,t){var r=this.w;return{o:this.isBoxPlot?r.globals.seriesCandleH[e][t]:r.globals.seriesCandleO[e][t],h:this.isBoxPlot?r.globals.seriesCandleO[e][t]:r.globals.seriesCandleH[e][t],m:r.globals.seriesCandleM[e][t],l:this.isBoxPlot?r.globals.seriesCandleC[e][t]:r.globals.seriesCandleL[e][t],c:this.isBoxPlot?r.globals.seriesCandleL[e][t]:r.globals.seriesCandleC[e][t]}}}]),r}(),Oe=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w}return u(e,[{key:"checkColorRange",value:function(){var e=this.w,t=!1,r=e.config.plotOptions[e.config.chart.type];return r.colorScale.ranges.length>0&&r.colorScale.ranges.map((function(e,r){e.from<=0&&(t=!0)})),t}},{key:"getShadeColor",value:function(e,t,r,n){var o=this.w,i=1,a=o.config.plotOptions[e].shadeIntensity,s=this.determineColor(e,t,r);o.globals.hasNegs||n?i=o.config.plotOptions[e].reverseNegativeShade?s.percent<0?s.percent/100*(1.25*a):(1-s.percent/100)*(1.25*a):s.percent<=0?1-(1+s.percent/100)*a:(1-s.percent/100)*a:(i=1-s.percent/100,"treemap"===e&&(i=(1-s.percent/100)*(1.25*a)));var l=s.color,u=new b;return o.config.plotOptions[e].enableShades&&(l="dark"===this.w.config.theme.mode?b.hexToRgba(u.shadeColor(-1*i,s.color),o.config.fill.opacity):b.hexToRgba(u.shadeColor(i,s.color),o.config.fill.opacity)),{color:l,colorProps:s}}},{key:"determineColor",value:function(e,t,r){var n=this.w,o=n.globals.series[t][r],i=n.config.plotOptions[e],a=i.colorScale.inverse?r:t;i.distributed&&"treemap"===n.config.chart.type&&(a=r);var s=n.globals.colors[a],l=null,u=Math.min.apply(Math,y(n.globals.series[t])),c=Math.max.apply(Math,y(n.globals.series[t]));i.distributed||"heatmap"!==e||(u=n.globals.minY,c=n.globals.maxY),void 0!==i.colorScale.min&&(u=i.colorScale.min<n.globals.minY?i.colorScale.min:n.globals.minY,c=i.colorScale.max>n.globals.maxY?i.colorScale.max:n.globals.maxY);var p=Math.abs(c)+Math.abs(u),d=100*o/(0===p?p-1e-6:p);return i.colorScale.ranges.length>0&&i.colorScale.ranges.map((function(e,t){if(o>=e.from&&o<=e.to){s=e.color,l=e.foreColor?e.foreColor:null,u=e.from,c=e.to;var r=Math.abs(c)+Math.abs(u);d=100*o/(0===r?r-1e-6:r)}})),{color:s,foreColor:l,percent:d}}},{key:"calculateDataLabels",value:function(e){var t=e.text,r=e.x,n=e.y,o=e.i,i=e.j,a=e.colorProps,s=e.fontSize,l=this.w.config.dataLabels,u=new x(this.ctx),c=new N(this.ctx),p=null;if(l.enabled){p=u.group({class:"apexcharts-data-labels"});var d=l.offsetX,h=l.offsetY,f=r+d,g=n+parseFloat(l.style.fontSize)/3+h;c.plotDataLabelsText({x:f,y:g,text:t,i:o,j:i,color:a.foreColor,parent:p,fontSize:s,dataLabelsConfig:l})}return p}},{key:"addListeners",value:function(e){var t=new x(this.ctx);e.node.addEventListener("mouseenter",t.pathMouseEnter.bind(this,e)),e.node.addEventListener("mouseleave",t.pathMouseLeave.bind(this,e)),e.node.addEventListener("mousedown",t.pathMouseDown.bind(this,e))}}]),e}(),_e=function(){function e(t,r){s(this,e),this.ctx=t,this.w=t.w,this.xRatio=r.xRatio,this.yRatio=r.yRatio,this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.helpers=new Oe(t),this.rectRadius=this.w.config.plotOptions.heatmap.radius,this.strokeWidth=this.w.config.stroke.show?this.w.config.stroke.width:0}return u(e,[{key:"draw",value:function(e){var t=this.w,r=new x(this.ctx),n=r.group({class:"apexcharts-heatmap"});n.attr("clip-path","url(#gridRectMask".concat(t.globals.cuid,")"));var o=t.globals.gridWidth/t.globals.dataPoints,i=t.globals.gridHeight/t.globals.series.length,a=0,s=!1;this.negRange=this.helpers.checkColorRange();var l=e.slice();t.config.yaxis[0].reversed&&(s=!0,l.reverse());for(var u=s?0:l.length-1;s?u<l.length:u>=0;s?u++:u--){var c=r.group({class:"apexcharts-series apexcharts-heatmap-series",seriesName:b.escapeString(t.globals.seriesNames[u]),rel:u+1,"data:realIndex":u});if(this.ctx.series.addCollapsedClassToSeries(c,u),t.config.chart.dropShadow.enabled){var p=t.config.chart.dropShadow;new w(this.ctx).dropShadow(c,p,u)}for(var d=0,h=t.config.plotOptions.heatmap.shadeIntensity,f=0;f<l[u].length;f++){var g=this.helpers.getShadeColor(t.config.chart.type,u,f,this.negRange),y=g.color,v=g.colorProps;"image"===t.config.fill.type&&(y=new D(this.ctx).fillPath({seriesNumber:u,dataPointIndex:f,opacity:t.globals.hasNegs?v.percent<0?1-(1+v.percent/100):h+v.percent/100:v.percent/100,patternID:b.randomId(),width:t.config.fill.image.width?t.config.fill.image.width:o,height:t.config.fill.image.height?t.config.fill.image.height:i}));var m=this.rectRadius,C=r.drawRect(d,a,o,i,m);if(C.attr({cx:d,cy:a}),C.node.classList.add("apexcharts-heatmap-rect"),c.add(C),C.attr({fill:y,i:u,index:u,j:f,val:l[u][f],"stroke-width":this.strokeWidth,stroke:t.config.plotOptions.heatmap.useFillColorAsStroke?y:t.globals.stroke.colors[0],color:y}),this.helpers.addListeners(C),t.config.chart.animations.enabled&&!t.globals.dataChanged){var S=1;t.globals.resized||(S=t.config.chart.animations.speed),this.animateHeatMap(C,d,a,o,i,S)}if(t.globals.dataChanged){var E=1;if(this.dynamicAnim.enabled&&t.globals.shouldAnimate){E=this.dynamicAnim.speed;var O=t.globals.previousPaths[u]&&t.globals.previousPaths[u][f]&&t.globals.previousPaths[u][f].color;O||(O="rgba(255, 255, 255, 0)"),this.animateHeatColor(C,b.isColorHex(O)?O:b.rgb2hex(O),b.isColorHex(y)?y:b.rgb2hex(y),E)}}var _=(0,t.config.dataLabels.formatter)(t.globals.series[u][f],{value:t.globals.series[u][f],seriesIndex:u,dataPointIndex:f,w:t}),P=this.helpers.calculateDataLabels({text:_,x:d+o/2,y:a+i/2,i:u,j:f,colorProps:v,series:l});null!==P&&c.add(P),d+=o}a+=i,n.add(c)}var R=t.globals.yAxisScale[0].result.slice();t.config.yaxis[0].reversed?R.unshift(""):R.push(""),t.globals.yAxisScale[0].result=R;var A=t.globals.gridHeight/t.globals.series.length;return t.config.yaxis[0].labels.offsetY=-A/2,n}},{key:"animateHeatMap",value:function(e,t,r,n,o,i){var a=new C(this.ctx);a.animateRect(e,{x:t+n/2,y:r+o/2,width:0,height:0},{x:t,y:r,width:n,height:o},i,(function(){a.animationCompleted(e)}))}},{key:"animateHeatColor",value:function(e,t,r,n){e.attr({fill:t}).animate(n).attr({fill:r})}}]),e}(),Pe=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w}return u(e,[{key:"drawYAxisTexts",value:function(e,t,r,n){var o=this.w,i=o.config.yaxis[0],a=o.globals.yLabelFormatters[0];return new x(this.ctx).drawText({x:e+i.labels.offsetX,y:t+i.labels.offsetY,text:a(n,r),textAnchor:"middle",fontSize:i.labels.style.fontSize,fontFamily:i.labels.style.fontFamily,foreColor:Array.isArray(i.labels.style.colors)?i.labels.style.colors[r]:i.labels.style.colors})}}]),e}(),Re=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w;var r=this.w;this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animBeginArr=[0],this.animDur=0,this.donutDataLabels=this.w.config.plotOptions.pie.donut.labels,this.lineColorArr=void 0!==r.globals.stroke.colors?r.globals.stroke.colors:r.globals.colors,this.defaultSize=Math.min(r.globals.gridWidth,r.globals.gridHeight),this.centerY=this.defaultSize/2,this.centerX=r.globals.gridWidth/2,"radialBar"===r.config.chart.type?this.fullAngle=360:this.fullAngle=Math.abs(r.config.plotOptions.pie.endAngle-r.config.plotOptions.pie.startAngle),this.initialAngle=r.config.plotOptions.pie.startAngle%this.fullAngle,r.globals.radialSize=this.defaultSize/2.05-r.config.stroke.width-(r.config.chart.sparkline.enabled?0:r.config.chart.dropShadow.blur),this.donutSize=r.globals.radialSize*parseInt(r.config.plotOptions.pie.donut.size,10)/100,this.maxY=0,this.sliceLabels=[],this.sliceSizes=[],this.prevSectorAngleArr=[]}return u(e,[{key:"draw",value:function(e){var t=this,r=this.w,n=new x(this.ctx);if(this.ret=n.group({class:"apexcharts-pie"}),r.globals.noData)return this.ret;for(var o=0,i=0;i<e.length;i++)o+=b.negToZero(e[i]);var a=[],s=n.group();0===o&&(o=1e-5),e.forEach((function(e){t.maxY=Math.max(t.maxY,e)})),r.config.yaxis[0].max&&(this.maxY=r.config.yaxis[0].max),"back"===r.config.grid.position&&"polarArea"===this.chartType&&this.drawPolarElements(this.ret);for(var l=0;l<e.length;l++){var u=this.fullAngle*b.negToZero(e[l])/o;a.push(u),"polarArea"===this.chartType?(a[l]=this.fullAngle/e.length,this.sliceSizes.push(r.globals.radialSize*e[l]/this.maxY)):this.sliceSizes.push(r.globals.radialSize)}if(r.globals.dataChanged){for(var c,p=0,d=0;d<r.globals.previousPaths.length;d++)p+=b.negToZero(r.globals.previousPaths[d]);for(var h=0;h<r.globals.previousPaths.length;h++)c=this.fullAngle*b.negToZero(r.globals.previousPaths[h])/p,this.prevSectorAngleArr.push(c)}this.donutSize<0&&(this.donutSize=0);var f=r.config.plotOptions.pie.customScale,g=r.globals.gridWidth/2,y=r.globals.gridHeight/2,v=g-r.globals.gridWidth/2*f,m=y-r.globals.gridHeight/2*f;if("donut"===this.chartType){var C=n.drawCircle(this.donutSize);C.attr({cx:this.centerX,cy:this.centerY,fill:r.config.plotOptions.pie.donut.background?r.config.plotOptions.pie.donut.background:"transparent"}),s.add(C)}var w=this.drawArcs(a,e);if(this.sliceLabels.forEach((function(e){w.add(e)})),s.attr({transform:"translate(".concat(v,", ").concat(m,") scale(").concat(f,")")}),s.add(w),this.ret.add(s),this.donutDataLabels.show){var S=this.renderInnerDataLabels(this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show,translateX:v,translateY:m});this.ret.add(S)}return"front"===r.config.grid.position&&"polarArea"===this.chartType&&this.drawPolarElements(this.ret),this.ret}},{key:"drawArcs",value:function(e,t){var r=this.w,n=new w(this.ctx),o=new x(this.ctx),i=new D(this.ctx),a=o.group({class:"apexcharts-slices"}),s=this.initialAngle,l=this.initialAngle,u=this.initialAngle,c=this.initialAngle;this.strokeWidth=r.config.stroke.show?r.config.stroke.width:0;for(var p=0;p<e.length;p++){var d=o.group({class:"apexcharts-series apexcharts-pie-series",seriesName:b.escapeString(r.globals.seriesNames[p]),rel:p+1,"data:realIndex":p});a.add(d),l=c,u=(s=u)+e[p],c=l+this.prevSectorAngleArr[p];var h=u<s?this.fullAngle+u-s:u-s,f=i.fillPath({seriesNumber:p,size:this.sliceSizes[p],value:t[p]}),g=this.getChangedPath(l,c),y=o.drawPath({d:g,stroke:Array.isArray(this.lineColorArr)?this.lineColorArr[p]:this.lineColorArr,strokeWidth:0,fill:f,fillOpacity:r.config.fill.opacity,classes:"apexcharts-pie-area apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(p)});if(y.attr({index:0,j:p}),n.setSelectionFilter(y,0,p),r.config.chart.dropShadow.enabled){var v=r.config.chart.dropShadow;n.dropShadow(y,v,p)}this.addListeners(y,this.donutDataLabels),x.setAttrs(y.node,{"data:angle":h,"data:startAngle":s,"data:strokeWidth":this.strokeWidth,"data:value":t[p]});var m={x:0,y:0};"pie"===this.chartType||"polarArea"===this.chartType?m=b.polarToCartesian(this.centerX,this.centerY,r.globals.radialSize/1.25+r.config.plotOptions.pie.dataLabels.offset,(s+h/2)%this.fullAngle):"donut"===this.chartType&&(m=b.polarToCartesian(this.centerX,this.centerY,(r.globals.radialSize+this.donutSize)/2+r.config.plotOptions.pie.dataLabels.offset,(s+h/2)%this.fullAngle)),d.add(y);var C=0;if(!this.initialAnim||r.globals.resized||r.globals.dataChanged?this.animBeginArr.push(0):(0===(C=h/this.fullAngle*r.config.chart.animations.speed)&&(C=1),this.animDur=C+this.animDur,this.animBeginArr.push(this.animDur)),this.dynamicAnim&&r.globals.dataChanged?this.animatePaths(y,{size:this.sliceSizes[p],endAngle:u,startAngle:s,prevStartAngle:l,prevEndAngle:c,animateStartingPos:!0,i:p,animBeginArr:this.animBeginArr,shouldSetPrevPaths:!0,dur:r.config.chart.animations.dynamicAnimation.speed}):this.animatePaths(y,{size:this.sliceSizes[p],endAngle:u,startAngle:s,i:p,totalItems:e.length-1,animBeginArr:this.animBeginArr,dur:C}),r.config.plotOptions.pie.expandOnClick&&"polarArea"!==this.chartType&&y.click(this.pieClicked.bind(this,p)),void 0!==r.globals.selectedDataPoints[0]&&r.globals.selectedDataPoints[0].indexOf(p)>-1&&this.pieClicked(p),r.config.dataLabels.enabled){var S=m.x,E=m.y,O=100*h/this.fullAngle+"%";if(0!==h&&r.config.plotOptions.pie.dataLabels.minAngleToShowLabel<e[p]){var _=r.config.dataLabels.formatter;void 0!==_&&(O=_(r.globals.seriesPercent[p][0],{seriesIndex:p,w:r}));var P=r.globals.dataLabels.style.colors[p],R=o.group({class:"apexcharts-datalabels"}),A=o.drawText({x:S,y:E,text:O,textAnchor:"middle",fontSize:r.config.dataLabels.style.fontSize,fontFamily:r.config.dataLabels.style.fontFamily,fontWeight:r.config.dataLabels.style.fontWeight,foreColor:P});if(R.add(A),r.config.dataLabels.dropShadow.enabled){var T=r.config.dataLabels.dropShadow;n.dropShadow(A,T)}A.node.classList.add("apexcharts-pie-label"),r.config.chart.animations.animate&&!1===r.globals.resized&&(A.node.classList.add("apexcharts-pie-label-delay"),A.node.style.animationDelay=r.config.chart.animations.speed/940+"s"),this.sliceLabels.push(R)}}}return a}},{key:"addListeners",value:function(e,t){var r=new x(this.ctx);e.node.addEventListener("mouseenter",r.pathMouseEnter.bind(this,e)),e.node.addEventListener("mouseleave",r.pathMouseLeave.bind(this,e)),e.node.addEventListener("mouseleave",this.revertDataLabelsInner.bind(this,e.node,t)),e.node.addEventListener("mousedown",r.pathMouseDown.bind(this,e)),this.donutDataLabels.total.showAlways||(e.node.addEventListener("mouseenter",this.printDataLabelsInner.bind(this,e.node,t)),e.node.addEventListener("mousedown",this.printDataLabelsInner.bind(this,e.node,t)))}},{key:"animatePaths",value:function(e,t){var r=this.w,n=t.endAngle<t.startAngle?this.fullAngle+t.endAngle-t.startAngle:t.endAngle-t.startAngle,o=n,i=t.startAngle,a=t.startAngle;void 0!==t.prevStartAngle&&void 0!==t.prevEndAngle&&(i=t.prevEndAngle,o=t.prevEndAngle<t.prevStartAngle?this.fullAngle+t.prevEndAngle-t.prevStartAngle:t.prevEndAngle-t.prevStartAngle),t.i===r.config.series.length-1&&(n+a>this.fullAngle?t.endAngle=t.endAngle-(n+a):n+a<this.fullAngle&&(t.endAngle=t.endAngle+(this.fullAngle-(n+a)))),n===this.fullAngle&&(n=this.fullAngle-.01),this.animateArc(e,i,a,n,o,t)}},{key:"animateArc",value:function(e,t,r,n,o,i){var a,s=this,l=this.w,u=new C(this.ctx),c=i.size;(isNaN(t)||isNaN(o))&&(t=r,o=n,i.dur=0);var p=n,d=r,h=t<r?this.fullAngle+t-r:t-r;l.globals.dataChanged&&i.shouldSetPrevPaths&&i.prevEndAngle&&(a=s.getPiePath({me:s,startAngle:i.prevStartAngle,angle:i.prevEndAngle<i.prevStartAngle?this.fullAngle+i.prevEndAngle-i.prevStartAngle:i.prevEndAngle-i.prevStartAngle,size:c}),e.attr({d:a})),0!==i.dur?e.animate(i.dur,l.globals.easing,i.animBeginArr[i.i]).afterAll((function(){"pie"!==s.chartType&&"donut"!==s.chartType&&"polarArea"!==s.chartType||this.animate(l.config.chart.animations.dynamicAnimation.speed).attr({"stroke-width":s.strokeWidth}),i.i===l.config.series.length-1&&u.animationCompleted(e)})).during((function(l){p=h+(n-h)*l,i.animateStartingPos&&(p=o+(n-o)*l,d=t-o+(r-(t-o))*l),a=s.getPiePath({me:s,startAngle:d,angle:p,size:c}),e.node.setAttribute("data:pathOrig",a),e.attr({d:a})})):(a=s.getPiePath({me:s,startAngle:d,angle:n,size:c}),i.isTrack||(l.globals.animationEnded=!0),e.node.setAttribute("data:pathOrig",a),e.attr({d:a,"stroke-width":s.strokeWidth}))}},{key:"pieClicked",value:function(e){var t,r=this.w,n=this,o=n.sliceSizes[e]+(r.config.plotOptions.pie.expandOnClick?4:0),i=r.globals.dom.Paper.select(".apexcharts-".concat(n.chartType.toLowerCase(),"-slice-").concat(e)).members[0];if("true"!==i.attr("data:pieClicked")){var a=r.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area");Array.prototype.forEach.call(a,(function(e){e.setAttribute("data:pieClicked","false");var t=e.getAttribute("data:pathOrig");e.setAttribute("d",t)})),i.attr("data:pieClicked","true");var s=parseInt(i.attr("data:startAngle"),10),l=parseInt(i.attr("data:angle"),10);t=n.getPiePath({me:n,startAngle:s,angle:l,size:o}),360!==l&&i.plot(t)}else{i.attr({"data:pieClicked":"false"}),this.revertDataLabelsInner(i.node,this.donutDataLabels);var u=i.attr("data:pathOrig");i.attr({d:u})}}},{key:"getChangedPath",value:function(e,t){var r="";return this.dynamicAnim&&this.w.globals.dataChanged&&(r=this.getPiePath({me:this,startAngle:e,angle:t-e,size:this.size})),r}},{key:"getPiePath",value:function(e){var t=e.me,r=e.startAngle,n=e.angle,o=e.size,i=r,a=Math.PI*(i-90)/180,s=n+r;Math.ceil(s)>=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle&&(s=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle-.01),Math.ceil(s)>this.fullAngle&&(s-=this.fullAngle);var l=Math.PI*(s-90)/180,u=t.centerX+o*Math.cos(a),c=t.centerY+o*Math.sin(a),p=t.centerX+o*Math.cos(l),d=t.centerY+o*Math.sin(l),h=b.polarToCartesian(t.centerX,t.centerY,t.donutSize,s),f=b.polarToCartesian(t.centerX,t.centerY,t.donutSize,i),g=n>180?1:0,y=["M",u,c,"A",o,o,0,g,1,p,d];return"donut"===t.chartType?[].concat(y,["L",h.x,h.y,"A",t.donutSize,t.donutSize,0,g,0,f.x,f.y,"L",u,c,"z"]).join(" "):"pie"===t.chartType||"polarArea"===t.chartType?[].concat(y,["L",t.centerX,t.centerY,"L",u,c]).join(" "):[].concat(y).join(" ")}},{key:"drawPolarElements",value:function(e){var t=this.w,r=new Z(this.ctx),n=new x(this.ctx),o=new Pe(this.ctx),i=n.group(),a=n.group(),s=r.niceScale(0,Math.ceil(this.maxY),t.config.yaxis[0].tickAmount,0,!0),l=s.result.reverse(),u=s.result.length;this.maxY=s.niceMax;for(var c=t.globals.radialSize,p=c/(u-1),d=0;d<u-1;d++){var h=n.drawCircle(c);if(h.attr({cx:this.centerX,cy:this.centerY,fill:"none","stroke-width":t.config.plotOptions.polarArea.rings.strokeWidth,stroke:t.config.plotOptions.polarArea.rings.strokeColor}),t.config.yaxis[0].show){var f=o.drawYAxisTexts(this.centerX,this.centerY-c+parseInt(t.config.yaxis[0].labels.style.fontSize,10)/2,d,l[d]);a.add(f)}i.add(h),c-=p}this.drawSpokes(e),e.add(i),e.add(a)}},{key:"renderInnerDataLabels",value:function(e,t){var r=this.w,n=new x(this.ctx),o=n.group({class:"apexcharts-datalabels-group",transform:"translate(".concat(t.translateX?t.translateX:0,", ").concat(t.translateY?t.translateY:0,") scale(").concat(r.config.plotOptions.pie.customScale,")")}),i=e.total.show;o.node.style.opacity=t.opacity;var a,s,l=t.centerX,u=t.centerY;a=void 0===e.name.color?r.globals.colors[0]:e.name.color;var c=e.name.fontSize,p=e.name.fontFamily,d=e.name.fontWeight;s=void 0===e.value.color?r.config.chart.foreColor:e.value.color;var h=e.value.formatter,f="",g="";if(i?(a=e.total.color,c=e.total.fontSize,p=e.total.fontFamily,d=e.total.fontWeight,g=e.total.label,f=e.total.formatter(r)):1===r.globals.series.length&&(f=h(r.globals.series[0],r),g=r.globals.seriesNames[0]),g&&(g=e.name.formatter(g,e.total.show,r)),e.name.show){var y=n.drawText({x:l,y:u+parseFloat(e.name.offsetY),text:g,textAnchor:"middle",foreColor:a,fontSize:c,fontWeight:d,fontFamily:p});y.node.classList.add("apexcharts-datalabel-label"),o.add(y)}if(e.value.show){var v=e.name.show?parseFloat(e.value.offsetY)+16:e.value.offsetY,m=n.drawText({x:l,y:u+v,text:f,textAnchor:"middle",foreColor:s,fontWeight:e.value.fontWeight,fontSize:e.value.fontSize,fontFamily:e.value.fontFamily});m.node.classList.add("apexcharts-datalabel-value"),o.add(m)}return o}},{key:"printInnerLabels",value:function(e,t,r,n){var o,i=this.w;n?o=void 0===e.name.color?i.globals.colors[parseInt(n.parentNode.getAttribute("rel"),10)-1]:e.name.color:i.globals.series.length>1&&e.total.show&&(o=e.total.color);var a=i.globals.dom.baseEl.querySelector(".apexcharts-datalabel-label"),s=i.globals.dom.baseEl.querySelector(".apexcharts-datalabel-value");r=(0,e.value.formatter)(r,i),n||"function"!=typeof e.total.formatter||(r=e.total.formatter(i));var l=t===e.total.label;t=e.name.formatter(t,l,i),null!==a&&(a.textContent=t),null!==s&&(s.textContent=r),null!==a&&(a.style.fill=o)}},{key:"printDataLabelsInner",value:function(e,t){var r=this.w,n=e.getAttribute("data:value"),o=r.globals.seriesNames[parseInt(e.parentNode.getAttribute("rel"),10)-1];r.globals.series.length>1&&this.printInnerLabels(t,o,n,e);var i=r.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group");null!==i&&(i.style.opacity=1)}},{key:"drawSpokes",value:function(e){var t=this,r=this.w,n=new x(this.ctx),o=r.config.plotOptions.polarArea.spokes;if(0!==o.strokeWidth){for(var i=[],a=360/r.globals.series.length,s=0;s<r.globals.series.length;s++)i.push(b.polarToCartesian(this.centerX,this.centerY,r.globals.radialSize,r.config.plotOptions.pie.startAngle+a*s));i.forEach((function(r,i){var a=n.drawLine(r.x,r.y,t.centerX,t.centerY,Array.isArray(o.connectorColors)?o.connectorColors[i]:o.connectorColors);e.add(a)}))}}},{key:"revertDataLabelsInner",value:function(e,t,r){var n=this,o=this.w,i=o.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group"),a=!1,s=o.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area"),l=function(e){var r=e.makeSliceOut,o=e.printLabel;Array.prototype.forEach.call(s,(function(e){"true"===e.getAttribute("data:pieClicked")&&(r&&(a=!0),o&&n.printDataLabelsInner(e,t))}))};if(l({makeSliceOut:!0,printLabel:!1}),t.total.show&&o.globals.series.length>1)a&&!t.total.showAlways?l({makeSliceOut:!1,printLabel:!0}):this.printInnerLabels(t,t.total.label,t.total.formatter(o));else if(l({makeSliceOut:!1,printLabel:!0}),!a)if(o.globals.selectedDataPoints.length&&o.globals.series.length>1)if(o.globals.selectedDataPoints[0].length>0){var u=o.globals.selectedDataPoints[0],c=o.globals.dom.baseEl.querySelector(".apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(u));this.printDataLabelsInner(c,t)}else i&&o.globals.selectedDataPoints.length&&0===o.globals.selectedDataPoints[0].length&&(i.style.opacity=0);else i&&o.globals.series.length>1&&(i.style.opacity=0)}}]),e}(),Ae=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w,this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animDur=0;var r=this.w;this.graphics=new x(this.ctx),this.lineColorArr=void 0!==r.globals.stroke.colors?r.globals.stroke.colors:r.globals.colors,this.defaultSize=r.globals.svgHeight<r.globals.svgWidth?r.globals.gridHeight+1.5*r.globals.goldenPadding:r.globals.gridWidth,this.isLog=r.config.yaxis[0].logarithmic,this.coreUtils=new S(this.ctx),this.maxValue=this.isLog?this.coreUtils.getLogVal(r.globals.maxY,0):r.globals.maxY,this.minValue=this.isLog?this.coreUtils.getLogVal(this.w.globals.minY,0):r.globals.minY,this.polygons=r.config.plotOptions.radar.polygons,this.strokeWidth=r.config.stroke.show?r.config.stroke.width:0,this.size=this.defaultSize/2.1-this.strokeWidth-r.config.chart.dropShadow.blur,r.config.xaxis.labels.show&&(this.size=this.size-r.globals.xAxisLabelsWidth/1.75),void 0!==r.config.plotOptions.radar.size&&(this.size=r.config.plotOptions.radar.size),this.dataRadiusOfPercent=[],this.dataRadius=[],this.angleArr=[],this.yaxisLabelsTextsPos=[]}return u(e,[{key:"draw",value:function(e){var t=this,r=this.w,n=new D(this.ctx),o=[],a=new N(this.ctx);e.length&&(this.dataPointsLen=e[r.globals.maxValsInArrayIndex].length),this.disAngle=2*Math.PI/this.dataPointsLen;var s=r.globals.gridWidth/2,l=r.globals.gridHeight/2,u=s+r.config.plotOptions.radar.offsetX,c=l+r.config.plotOptions.radar.offsetY,p=this.graphics.group({class:"apexcharts-radar-series apexcharts-plot-series",transform:"translate(".concat(u||0,", ").concat(c||0,")")}),d=[],h=null,f=null;if(this.yaxisLabels=this.graphics.group({class:"apexcharts-yaxis"}),e.forEach((function(e,s){var l=e.length===r.globals.dataPoints,u=t.graphics.group().attr({class:"apexcharts-series","data:longestSeries":l,seriesName:b.escapeString(r.globals.seriesNames[s]),rel:s+1,"data:realIndex":s});t.dataRadiusOfPercent[s]=[],t.dataRadius[s]=[],t.angleArr[s]=[],e.forEach((function(e,r){var n=Math.abs(t.maxValue-t.minValue);e+=Math.abs(t.minValue),t.isLog&&(e=t.coreUtils.getLogVal(e,0)),t.dataRadiusOfPercent[s][r]=e/n,t.dataRadius[s][r]=t.dataRadiusOfPercent[s][r]*t.size,t.angleArr[s][r]=r*t.disAngle})),d=t.getDataPointsPos(t.dataRadius[s],t.angleArr[s]);var c=t.createPaths(d,{x:0,y:0});h=t.graphics.group({class:"apexcharts-series-markers-wrap apexcharts-element-hidden"}),f=t.graphics.group({class:"apexcharts-datalabels","data:realIndex":s}),r.globals.delayedElements.push({el:h.node,index:s});var p={i:s,realIndex:s,animationDelay:s,initialSpeed:r.config.chart.animations.speed,dataChangeSpeed:r.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-radar",shouldClipToGrid:!1,bindEventsOnPaths:!1,stroke:r.globals.stroke.colors[s],strokeLineCap:r.config.stroke.lineCap},g=null;r.globals.previousPaths.length>0&&(g=t.getPreviousPath(s));for(var y=0;y<c.linePathsTo.length;y++){var v=t.graphics.renderPaths(i(i({},p),{},{pathFrom:null===g?c.linePathsFrom[y]:g,pathTo:c.linePathsTo[y],strokeWidth:Array.isArray(t.strokeWidth)?t.strokeWidth[s]:t.strokeWidth,fill:"none",drawShadow:!1}));u.add(v);var m=n.fillPath({seriesNumber:s}),C=t.graphics.renderPaths(i(i({},p),{},{pathFrom:null===g?c.areaPathsFrom[y]:g,pathTo:c.areaPathsTo[y],strokeWidth:0,fill:m,drawShadow:!1}));if(r.config.chart.dropShadow.enabled){var x=new w(t.ctx),S=r.config.chart.dropShadow;x.dropShadow(C,Object.assign({},S,{noUserSpaceOnUse:!0}),s)}u.add(C)}e.forEach((function(e,n){var o=new M(t.ctx).getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:s,dataPointIndex:n}),l=t.graphics.drawMarker(d[n].x,d[n].y,o);l.attr("rel",n),l.attr("j",n),l.attr("index",s),l.node.setAttribute("default-marker-size",o.pSize);var c=t.graphics.group({class:"apexcharts-series-markers"});c&&c.add(l),h.add(c),u.add(h);var p=r.config.dataLabels;if(p.enabled){var g=p.formatter(r.globals.series[s][n],{seriesIndex:s,dataPointIndex:n,w:r});a.plotDataLabelsText({x:d[n].x,y:d[n].y,text:g,textAnchor:"middle",i:s,j:s,parent:f,offsetCorrection:!1,dataLabelsConfig:i({},p)})}u.add(f)})),o.push(u)})),this.drawPolygons({parent:p}),r.config.xaxis.labels.show){var g=this.drawXAxisTexts();p.add(g)}return o.forEach((function(e){p.add(e)})),p.add(this.yaxisLabels),p}},{key:"drawPolygons",value:function(e){for(var t=this,r=this.w,n=e.parent,o=new Pe(this.ctx),i=r.globals.yAxisScale[0].result.reverse(),a=i.length,s=[],l=this.size/(a-1),u=0;u<a;u++)s[u]=l*u;s.reverse();var c=[],p=[];s.forEach((function(e,r){var n=b.getPolygonPos(e,t.dataPointsLen),o="";n.forEach((function(e,n){if(0===r){var i=t.graphics.drawLine(e.x,e.y,0,0,Array.isArray(t.polygons.connectorColors)?t.polygons.connectorColors[n]:t.polygons.connectorColors);p.push(i)}0===n&&t.yaxisLabelsTextsPos.push({x:e.x,y:e.y}),o+=e.x+","+e.y+" "})),c.push(o)})),c.forEach((function(e,o){var i=t.polygons.strokeColors,a=t.polygons.strokeWidth,s=t.graphics.drawPolygon(e,Array.isArray(i)?i[o]:i,Array.isArray(a)?a[o]:a,r.globals.radarPolygons.fill.colors[o]);n.add(s)})),p.forEach((function(e){n.add(e)})),r.config.yaxis[0].show&&this.yaxisLabelsTextsPos.forEach((function(e,r){var n=o.drawYAxisTexts(e.x,e.y,r,i[r]);t.yaxisLabels.add(n)}))}},{key:"drawXAxisTexts",value:function(){var e=this,t=this.w,r=t.config.xaxis.labels,n=this.graphics.group({class:"apexcharts-xaxis"}),o=b.getPolygonPos(this.size,this.dataPointsLen);return t.globals.labels.forEach((function(a,s){var l=t.config.xaxis.labels.formatter,u=new N(e.ctx);if(o[s]){var c=e.getTextPos(o[s],e.size),p=l(a,{seriesIndex:-1,dataPointIndex:s,w:t});u.plotDataLabelsText({x:c.newX,y:c.newY,text:p,textAnchor:c.textAnchor,i:s,j:s,parent:n,color:Array.isArray(r.style.colors)&&r.style.colors[s]?r.style.colors[s]:"#a8a8a8",dataLabelsConfig:i({textAnchor:c.textAnchor,dropShadow:{enabled:!1}},r),offsetCorrection:!1})}})),n}},{key:"createPaths",value:function(e,t){var r=this,n=[],o=[],i=[],a=[];if(e.length){o=[this.graphics.move(t.x,t.y)],a=[this.graphics.move(t.x,t.y)];var s=this.graphics.move(e[0].x,e[0].y),l=this.graphics.move(e[0].x,e[0].y);e.forEach((function(t,n){s+=r.graphics.line(t.x,t.y),l+=r.graphics.line(t.x,t.y),n===e.length-1&&(s+="Z",l+="Z")})),n.push(s),i.push(l)}return{linePathsFrom:o,linePathsTo:n,areaPathsFrom:a,areaPathsTo:i}}},{key:"getTextPos",value:function(e,t){var r="middle",n=e.x,o=e.y;return Math.abs(e.x)>=10?e.x>0?(r="start",n+=10):e.x<0&&(r="end",n-=10):r="middle",Math.abs(e.y)>=t-10&&(e.y<0?o-=10:e.y>0&&(o+=10)),{textAnchor:r,newX:n,newY:o}}},{key:"getPreviousPath",value:function(e){for(var t=this.w,r=null,n=0;n<t.globals.previousPaths.length;n++){var o=t.globals.previousPaths[n];o.paths.length>0&&parseInt(o.realIndex,10)===parseInt(e,10)&&void 0!==t.globals.previousPaths[n].paths[0]&&(r=t.globals.previousPaths[n].paths[0].d)}return r}},{key:"getDataPointsPos",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.dataPointsLen;e=e||[],t=t||[];for(var n=[],o=0;o<r;o++){var i={};i.x=e[o]*Math.sin(t[o]),i.y=-e[o]*Math.cos(t[o]),n.push(i)}return n}}]),e}(),Te=function(e){p(r,Re);var t=g(r);function r(e){var n;s(this,r),(n=t.call(this,e)).ctx=e,n.w=e.w,n.animBeginArr=[0],n.animDur=0;var o=n.w;return n.startAngle=o.config.plotOptions.radialBar.startAngle,n.endAngle=o.config.plotOptions.radialBar.endAngle,n.totalAngle=Math.abs(o.config.plotOptions.radialBar.endAngle-o.config.plotOptions.radialBar.startAngle),n.trackStartAngle=o.config.plotOptions.radialBar.track.startAngle,n.trackEndAngle=o.config.plotOptions.radialBar.track.endAngle,n.donutDataLabels=n.w.config.plotOptions.radialBar.dataLabels,n.radialDataLabels=n.donutDataLabels,n.trackStartAngle||(n.trackStartAngle=n.startAngle),n.trackEndAngle||(n.trackEndAngle=n.endAngle),360===n.endAngle&&(n.endAngle=359.99),n.margin=parseInt(o.config.plotOptions.radialBar.track.margin,10),n}return u(r,[{key:"draw",value:function(e){var t=this.w,r=new x(this.ctx),n=r.group({class:"apexcharts-radialbar"});if(t.globals.noData)return n;var o=r.group(),i=this.defaultSize/2,a=t.globals.gridWidth/2,s=this.defaultSize/2.05;t.config.chart.sparkline.enabled||(s=s-t.config.stroke.width-t.config.chart.dropShadow.blur);var l=t.globals.fill.colors;if(t.config.plotOptions.radialBar.track.show){var u=this.drawTracks({size:s,centerX:a,centerY:i,colorArr:l,series:e});o.add(u)}var c=this.drawArcs({size:s,centerX:a,centerY:i,colorArr:l,series:e}),p=360;t.config.plotOptions.radialBar.startAngle<0&&(p=this.totalAngle);var d=(360-p)/360;if(t.globals.radialSize=s-s*d,this.radialDataLabels.value.show){var h=Math.max(this.radialDataLabels.value.offsetY,this.radialDataLabels.name.offsetY);t.globals.radialSize+=h*d}return o.add(c.g),"front"===t.config.plotOptions.radialBar.hollow.position&&(c.g.add(c.elHollow),c.dataLabels&&c.g.add(c.dataLabels)),n.add(o),n}},{key:"drawTracks",value:function(e){var t=this.w,r=new x(this.ctx),n=r.group({class:"apexcharts-tracks"}),o=new w(this.ctx),i=new D(this.ctx),a=this.getStrokeWidth(e);e.size=e.size-a/2;for(var s=0;s<e.series.length;s++){var l=r.group({class:"apexcharts-radialbar-track apexcharts-track"});n.add(l),l.attr({rel:s+1}),e.size=e.size-a-this.margin;var u=t.config.plotOptions.radialBar.track,c=i.fillPath({seriesNumber:0,size:e.size,fillColors:Array.isArray(u.background)?u.background[s]:u.background,solid:!0}),p=this.trackStartAngle,d=this.trackEndAngle;Math.abs(d)+Math.abs(p)>=360&&(d=360-Math.abs(this.startAngle)-.1);var h=r.drawPath({d:"",stroke:c,strokeWidth:a*parseInt(u.strokeWidth,10)/100,fill:"none",strokeOpacity:u.opacity,classes:"apexcharts-radialbar-area"});if(u.dropShadow.enabled){var f=u.dropShadow;o.dropShadow(h,f)}l.add(h),h.attr("id","apexcharts-radialbarTrack-"+s),this.animatePaths(h,{centerX:e.centerX,centerY:e.centerY,endAngle:d,startAngle:p,size:e.size,i:s,totalItems:2,animBeginArr:0,dur:0,isTrack:!0,easing:t.globals.easing})}return n}},{key:"drawArcs",value:function(e){var t=this.w,r=new x(this.ctx),n=new D(this.ctx),o=new w(this.ctx),i=r.group(),a=this.getStrokeWidth(e);e.size=e.size-a/2;var s=t.config.plotOptions.radialBar.hollow.background,l=e.size-a*e.series.length-this.margin*e.series.length-a*parseInt(t.config.plotOptions.radialBar.track.strokeWidth,10)/100/2,u=l-t.config.plotOptions.radialBar.hollow.margin;void 0!==t.config.plotOptions.radialBar.hollow.image&&(s=this.drawHollowImage(e,i,l,s));var c=this.drawHollow({size:u,centerX:e.centerX,centerY:e.centerY,fill:s||"transparent"});if(t.config.plotOptions.radialBar.hollow.dropShadow.enabled){var p=t.config.plotOptions.radialBar.hollow.dropShadow;o.dropShadow(c,p)}var d=1;!this.radialDataLabels.total.show&&t.globals.series.length>1&&(d=0);var h=null;this.radialDataLabels.show&&(h=this.renderInnerDataLabels(this.radialDataLabels,{hollowSize:l,centerX:e.centerX,centerY:e.centerY,opacity:d})),"back"===t.config.plotOptions.radialBar.hollow.position&&(i.add(c),h&&i.add(h));var f=!1;t.config.plotOptions.radialBar.inverseOrder&&(f=!0);for(var g=f?e.series.length-1:0;f?g>=0:g<e.series.length;f?g--:g++){var y=r.group({class:"apexcharts-series apexcharts-radial-series",seriesName:b.escapeString(t.globals.seriesNames[g])});i.add(y),y.attr({rel:g+1,"data:realIndex":g}),this.ctx.series.addCollapsedClassToSeries(y,g),e.size=e.size-a-this.margin;var v=n.fillPath({seriesNumber:g,size:e.size,value:e.series[g]}),m=this.startAngle,C=void 0,S=b.negToZero(e.series[g]>100?100:e.series[g])/100,E=Math.round(this.totalAngle*S)+this.startAngle,O=void 0;t.globals.dataChanged&&(C=this.startAngle,O=Math.round(this.totalAngle*b.negToZero(t.globals.previousPaths[g])/100)+C),Math.abs(E)+Math.abs(m)>=360&&(E-=.01),Math.abs(O)+Math.abs(C)>=360&&(O-=.01);var _=E-m,P=Array.isArray(t.config.stroke.dashArray)?t.config.stroke.dashArray[g]:t.config.stroke.dashArray,R=r.drawPath({d:"",stroke:v,strokeWidth:a,fill:"none",fillOpacity:t.config.fill.opacity,classes:"apexcharts-radialbar-area apexcharts-radialbar-slice-"+g,strokeDashArray:P});if(x.setAttrs(R.node,{"data:angle":_,"data:value":e.series[g]}),t.config.chart.dropShadow.enabled){var A=t.config.chart.dropShadow;o.dropShadow(R,A,g)}o.setSelectionFilter(R,0,g),this.addListeners(R,this.radialDataLabels),y.add(R),R.attr({index:0,j:g});var T=0;!this.initialAnim||t.globals.resized||t.globals.dataChanged||(T=t.config.chart.animations.speed),t.globals.dataChanged&&(T=t.config.chart.animations.dynamicAnimation.speed),this.animDur=T/(1.2*e.series.length)+this.animDur,this.animBeginArr.push(this.animDur),this.animatePaths(R,{centerX:e.centerX,centerY:e.centerY,endAngle:E,startAngle:m,prevEndAngle:O,prevStartAngle:C,size:e.size,i:g,totalItems:2,animBeginArr:this.animBeginArr,dur:T,shouldSetPrevPaths:!0,easing:t.globals.easing})}return{g:i,elHollow:c,dataLabels:h}}},{key:"drawHollow",value:function(e){var t=new x(this.ctx).drawCircle(2*e.size);return t.attr({class:"apexcharts-radialbar-hollow",cx:e.centerX,cy:e.centerY,r:e.size,fill:e.fill}),t}},{key:"drawHollowImage",value:function(e,t,r,n){var o=this.w,i=new D(this.ctx),a=b.randomId(),s=o.config.plotOptions.radialBar.hollow.image;if(o.config.plotOptions.radialBar.hollow.imageClipped)i.clippedImgArea({width:r,height:r,image:s,patternID:"pattern".concat(o.globals.cuid).concat(a)}),n="url(#pattern".concat(o.globals.cuid).concat(a,")");else{var l=o.config.plotOptions.radialBar.hollow.imageWidth,u=o.config.plotOptions.radialBar.hollow.imageHeight;if(void 0===l&&void 0===u){var c=o.globals.dom.Paper.image(s).loaded((function(t){this.move(e.centerX-t.width/2+o.config.plotOptions.radialBar.hollow.imageOffsetX,e.centerY-t.height/2+o.config.plotOptions.radialBar.hollow.imageOffsetY)}));t.add(c)}else{var p=o.globals.dom.Paper.image(s).loaded((function(t){this.move(e.centerX-l/2+o.config.plotOptions.radialBar.hollow.imageOffsetX,e.centerY-u/2+o.config.plotOptions.radialBar.hollow.imageOffsetY),this.size(l,u)}));t.add(p)}}return n}},{key:"getStrokeWidth",value:function(e){var t=this.w;return e.size*(100-parseInt(t.config.plotOptions.radialBar.hollow.size,10))/100/(e.series.length+1)-this.margin}}]),r}(),De=function(){function e(t){s(this,e),this.w=t.w,this.lineCtx=t}return u(e,[{key:"sameValueSeriesFix",value:function(e,t){var r=this.w;if("line"===r.config.chart.type&&("gradient"===r.config.fill.type||"gradient"===r.config.fill.type[e])&&new S(this.lineCtx.ctx,r).seriesHaveSameValues(e)){var n=t[e].slice();n[n.length-1]=n[n.length-1]+1e-6,t[e]=n}return t}},{key:"calculatePoints",value:function(e){var t=e.series,r=e.realIndex,n=e.x,o=e.y,i=e.i,a=e.j,s=e.prevY,l=this.w,u=[],c=[];if(0===a){var p=this.lineCtx.categoryAxisCorrection+l.config.markers.offsetX;l.globals.isXNumeric&&(p=(l.globals.seriesX[r][0]-l.globals.minX)/this.lineCtx.xRatio+l.config.markers.offsetX),u.push(p),c.push(b.isNumber(t[i][0])?s+l.config.markers.offsetY:null),u.push(n+l.config.markers.offsetX),c.push(b.isNumber(t[i][a+1])?o+l.config.markers.offsetY:null)}else u.push(n+l.config.markers.offsetX),c.push(b.isNumber(t[i][a+1])?o+l.config.markers.offsetY:null);return{x:u,y:c}}},{key:"checkPreviousPaths",value:function(e){for(var t=e.pathFromLine,r=e.pathFromArea,n=e.realIndex,o=this.w,i=0;i<o.globals.previousPaths.length;i++){var a=o.globals.previousPaths[i];("line"===a.type||"area"===a.type)&&a.paths.length>0&&parseInt(a.realIndex,10)===parseInt(n,10)&&("line"===a.type?(this.lineCtx.appendPathFrom=!1,t=o.globals.previousPaths[i].paths[0].d):"area"===a.type&&(this.lineCtx.appendPathFrom=!1,r=o.globals.previousPaths[i].paths[0].d,o.config.stroke.show&&o.globals.previousPaths[i].paths[1]&&(t=o.globals.previousPaths[i].paths[1].d)))}return{pathFromLine:t,pathFromArea:r}}},{key:"determineFirstPrevY",value:function(e){var t=e.i,r=e.series,n=e.prevY,o=e.lineYPosition,i=this.w;if(void 0!==r[t][0])n=(o=i.config.chart.stacked&&t>0?this.lineCtx.prevSeriesY[t-1][0]:this.lineCtx.zeroY)-r[t][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]+2*(this.lineCtx.isReversed?r[t][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]:0);else if(i.config.chart.stacked&&t>0&&void 0===r[t][0])for(var a=t-1;a>=0;a--)if(null!==r[a][0]&&void 0!==r[a][0]){n=o=this.lineCtx.prevSeriesY[a][0];break}return{prevY:n,lineYPosition:o}}}]),e}(),Me=function(){function e(t,r,n){s(this,e),this.ctx=t,this.w=t.w,this.xyRatios=r,this.pointsChart=!("bubble"!==this.w.config.chart.type&&"scatter"!==this.w.config.chart.type)||n,this.scatter=new k(this.ctx),this.noNegatives=this.w.globals.minX===Number.MAX_VALUE,this.lineHelpers=new De(this),this.markers=new M(this.ctx),this.prevSeriesY=[],this.categoryAxisCorrection=0,this.yaxisIndex=0}return u(e,[{key:"draw",value:function(e,t,r){var n=this.w,o=new x(this.ctx),i=n.globals.comboCharts?t:n.config.chart.type,a=o.group({class:"apexcharts-".concat(i,"-series apexcharts-plot-series")}),s=new S(this.ctx,n);this.yRatio=this.xyRatios.yRatio,this.zRatio=this.xyRatios.zRatio,this.xRatio=this.xyRatios.xRatio,this.baseLineY=this.xyRatios.baseLineY,e=s.getLogSeries(e),this.yRatio=s.getLogYRatios(this.yRatio);for(var l=[],u=0;u<e.length;u++){e=this.lineHelpers.sameValueSeriesFix(u,e);var c=n.globals.comboCharts?r[u]:u;this._initSerieVariables(e,u,c);var p=[],d=[],h=n.globals.padHorizontal+this.categoryAxisCorrection;this.ctx.series.addCollapsedClassToSeries(this.elSeries,c),n.globals.isXNumeric&&n.globals.seriesX.length>0&&(h=(n.globals.seriesX[c][0]-n.globals.minX)/this.xRatio),d.push(h);var f,g=h,y=g,v=this.zeroY;v=this.lineHelpers.determineFirstPrevY({i:u,series:e,prevY:v,lineYPosition:0}).prevY,p.push(v),f=v;var m=this._calculatePathsFrom({series:e,i:u,realIndex:c,prevX:y,prevY:v}),b=this._iterateOverDataPoints({series:e,realIndex:c,i:u,x:h,y:1,pX:g,pY:f,pathsFrom:m,linePaths:[],areaPaths:[],seriesIndex:r,lineYPosition:0,xArrj:d,yArrj:p});this._handlePaths({type:i,realIndex:c,i:u,paths:b}),this.elSeries.add(this.elPointsMain),this.elSeries.add(this.elDataLabelsWrap),l.push(this.elSeries)}if(n.config.chart.stacked)for(var C=l.length;C>0;C--)a.add(l[C-1]);else for(var w=0;w<l.length;w++)a.add(l[w]);return a}},{key:"_initSerieVariables",value:function(e,t,r){var n=this.w,o=new x(this.ctx);this.xDivision=n.globals.gridWidth/(n.globals.dataPoints-("on"===n.config.xaxis.tickPlacement?1:0)),this.strokeWidth=Array.isArray(n.config.stroke.width)?n.config.stroke.width[r]:n.config.stroke.width,this.yRatio.length>1&&(this.yaxisIndex=r),this.isReversed=n.config.yaxis[this.yaxisIndex]&&n.config.yaxis[this.yaxisIndex].reversed,this.zeroY=n.globals.gridHeight-this.baseLineY[this.yaxisIndex]-(this.isReversed?n.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),this.areaBottomY=this.zeroY,(this.zeroY>n.globals.gridHeight||"end"===n.config.plotOptions.area.fillTo)&&(this.areaBottomY=n.globals.gridHeight),this.categoryAxisCorrection=this.xDivision/2,this.elSeries=o.group({class:"apexcharts-series",seriesName:b.escapeString(n.globals.seriesNames[r])}),this.elPointsMain=o.group({class:"apexcharts-series-markers-wrap","data:realIndex":r}),this.elDataLabelsWrap=o.group({class:"apexcharts-datalabels","data:realIndex":r});var i=e[t].length===n.globals.dataPoints;this.elSeries.attr({"data:longestSeries":i,rel:t+1,"data:realIndex":r}),this.appendPathFrom=!0}},{key:"_calculatePathsFrom",value:function(e){var t,r,n,o,i=e.series,a=e.i,s=e.realIndex,l=e.prevX,u=e.prevY,c=this.w,p=new x(this.ctx);if(null===i[a][0]){for(var d=0;d<i[a].length;d++)if(null!==i[a][d]){l=this.xDivision*d,u=this.zeroY-i[a][d]/this.yRatio[this.yaxisIndex],t=p.move(l,u),r=p.move(l,this.areaBottomY);break}}else t=p.move(l,u),r=p.move(l,this.areaBottomY)+p.line(l,u);if(n=p.move(-1,this.zeroY)+p.line(-1,this.zeroY),o=p.move(-1,this.zeroY)+p.line(-1,this.zeroY),c.globals.previousPaths.length>0){var h=this.lineHelpers.checkPreviousPaths({pathFromLine:n,pathFromArea:o,realIndex:s});n=h.pathFromLine,o=h.pathFromArea}return{prevX:l,prevY:u,linePath:t,areaPath:r,pathFromLine:n,pathFromArea:o}}},{key:"_handlePaths",value:function(e){var t=e.type,r=e.realIndex,n=e.i,o=e.paths,a=this.w,s=new x(this.ctx),l=new D(this.ctx);this.prevSeriesY.push(o.yArrj),a.globals.seriesXvalues[r]=o.xArrj,a.globals.seriesYvalues[r]=o.yArrj;var u=a.config.forecastDataPoints;if(u.count>0){var c=a.globals.seriesXvalues[r][a.globals.seriesXvalues[r].length-u.count-1],p=s.drawRect(c,0,a.globals.gridWidth,a.globals.gridHeight,0);a.globals.dom.elForecastMask.appendChild(p.node);var d=s.drawRect(0,0,c,a.globals.gridHeight,0);a.globals.dom.elNonForecastMask.appendChild(d.node)}this.pointsChart||a.globals.delayedElements.push({el:this.elPointsMain.node,index:r});var h={i:n,realIndex:r,animationDelay:n,initialSpeed:a.config.chart.animations.speed,dataChangeSpeed:a.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(t)};if("area"===t)for(var f=l.fillPath({seriesNumber:r}),g=0;g<o.areaPaths.length;g++){var y=s.renderPaths(i(i({},h),{},{pathFrom:o.pathFromArea,pathTo:o.areaPaths[g],stroke:"none",strokeWidth:0,strokeLineCap:null,fill:f}));this.elSeries.add(y)}if(a.config.stroke.show&&!this.pointsChart){var v=null;if("line"===t)v=l.fillPath({seriesNumber:r,i:n});else if("solid"===a.config.stroke.fill.type)v=a.globals.stroke.colors[r];else{var m=a.config.fill;a.config.fill=a.config.stroke.fill,v=l.fillPath({seriesNumber:r,i:n}),a.config.fill=m}for(var b=0;b<o.linePaths.length;b++){var C=i(i({},h),{},{pathFrom:o.pathFromLine,pathTo:o.linePaths[b],stroke:v,strokeWidth:this.strokeWidth,strokeLineCap:a.config.stroke.lineCap,fill:"none"}),w=s.renderPaths(C);if(this.elSeries.add(w),u.count>0){var S=s.renderPaths(C);S.node.setAttribute("stroke-dasharray",u.dashArray),u.strokeWidth&&S.node.setAttribute("stroke-width",u.strokeWidth),this.elSeries.add(S),S.attr("clip-path","url(#forecastMask".concat(a.globals.cuid,")")),w.attr("clip-path","url(#nonForecastMask".concat(a.globals.cuid,")"))}}}}},{key:"_iterateOverDataPoints",value:function(e){for(var t=e.series,r=e.realIndex,n=e.i,o=e.x,i=e.y,a=e.pX,s=e.pY,l=e.pathsFrom,u=e.linePaths,c=e.areaPaths,p=e.seriesIndex,d=e.lineYPosition,h=e.xArrj,f=e.yArrj,g=this.w,y=new x(this.ctx),v=this.yRatio,m=l.prevY,C=l.linePath,w=l.areaPath,S=l.pathFromLine,E=l.pathFromArea,O=b.isNumber(g.globals.minYArr[r])?g.globals.minYArr[r]:g.globals.minY,_=g.globals.dataPoints>1?g.globals.dataPoints-1:g.globals.dataPoints,P=0;P<_;P++){var R=void 0===t[n][P+1]||null===t[n][P+1];if(g.globals.isXNumeric){var A=g.globals.seriesX[r][P+1];void 0===g.globals.seriesX[r][P+1]&&(A=g.globals.seriesX[r][_-1]),o=(A-g.globals.minX)/this.xRatio}else o+=this.xDivision;d=g.config.chart.stacked&&n>0&&g.globals.collapsedSeries.length<g.config.series.length-1?this.prevSeriesY[function(e){for(var t=e,r=0;r<g.globals.series.length;r++)if(g.globals.collapsedSeriesIndices.indexOf(e)>-1){t--;break}return t>=0?t:0}(n-1)][P+1]:this.zeroY,i=R?d-O/v[this.yaxisIndex]+2*(this.isReversed?O/v[this.yaxisIndex]:0):d-t[n][P+1]/v[this.yaxisIndex]+2*(this.isReversed?t[n][P+1]/v[this.yaxisIndex]:0),h.push(o),f.push(i);var T=this.lineHelpers.calculatePoints({series:t,x:o,y:i,realIndex:r,i:n,j:P,prevY:m}),D=this._createPaths({series:t,i:n,realIndex:r,j:P,x:o,y:i,pX:a,pY:s,linePath:C,areaPath:w,linePaths:u,areaPaths:c,seriesIndex:p});c=D.areaPaths,u=D.linePaths,a=D.pX,s=D.pY,w=D.areaPath,C=D.linePath,this.appendPathFrom&&(S+=y.line(o,this.zeroY),E+=y.line(o,this.zeroY)),this.handleNullDataPoints(t,T,n,P,r),this._handleMarkersAndLabels({pointsPos:T,series:t,x:o,y:i,prevY:m,i:n,j:P,realIndex:r})}return{yArrj:f,xArrj:h,pathFromArea:E,areaPaths:c,pathFromLine:S,linePaths:u}}},{key:"_handleMarkersAndLabels",value:function(e){var t=e.pointsPos;e.series,e.x,e.y,e.prevY;var r=e.i,n=e.j,o=e.realIndex,i=this.w,a=new N(this.ctx);if(this.pointsChart)this.scatter.draw(this.elSeries,n,{realIndex:o,pointsPos:t,zRatio:this.zRatio,elParent:this.elPointsMain});else{i.globals.series[r].length>1&&this.elPointsMain.node.classList.add("apexcharts-element-hidden");var s=this.markers.plotChartMarkers(t,o,n+1);null!==s&&this.elPointsMain.add(s)}var l=a.drawDataLabel(t,o,n+1,null);null!==l&&this.elDataLabelsWrap.add(l)}},{key:"_createPaths",value:function(e){var t=e.series,r=e.i,n=e.realIndex,o=e.j,i=e.x,a=e.y,s=e.pX,l=e.pY,u=e.linePath,c=e.areaPath,p=e.linePaths,d=e.areaPaths,h=e.seriesIndex,f=this.w,g=new x(this.ctx),y=f.config.stroke.curve,v=this.areaBottomY;if(Array.isArray(f.config.stroke.curve)&&(y=Array.isArray(h)?f.config.stroke.curve[h[r]]:f.config.stroke.curve[r]),"smooth"===y){var m=.35*(i-s);f.globals.hasNullValues?(null!==t[r][o]&&(null!==t[r][o+1]?(u=g.move(s,l)+g.curve(s+m,l,i-m,a,i+1,a),c=g.move(s+1,l)+g.curve(s+m,l,i-m,a,i+1,a)+g.line(i,v)+g.line(s,v)+"z"):(u=g.move(s,l),c=g.move(s,l)+"z")),p.push(u),d.push(c)):(u+=g.curve(s+m,l,i-m,a,i,a),c+=g.curve(s+m,l,i-m,a,i,a)),s=i,l=a,o===t[r].length-2&&(c=c+g.curve(s,l,i,a,i,v)+g.move(i,a)+"z",f.globals.hasNullValues||(p.push(u),d.push(c)))}else{if(null===t[r][o+1]){u+=g.move(i,a);var b=f.globals.isXNumeric?(f.globals.seriesX[n][o]-f.globals.minX)/this.xRatio:i-this.xDivision;c=c+g.line(b,v)+g.move(i,a)+"z"}null===t[r][o]&&(u+=g.move(i,a),c+=g.move(i,v)),"stepline"===y?(u=u+g.line(i,null,"H")+g.line(null,a,"V"),c=c+g.line(i,null,"H")+g.line(null,a,"V")):"straight"===y&&(u+=g.line(i,a),c+=g.line(i,a)),o===t[r].length-2&&(c=c+g.line(i,v)+g.move(i,a)+"z",p.push(u),d.push(c))}return{linePaths:p,areaPaths:d,pX:s,pY:l,linePath:u,areaPath:c}}},{key:"handleNullDataPoints",value:function(e,t,r,n,o){var i=this.w;if(null===e[r][n]&&i.config.markers.showNullDataPoints||1===e[r].length){var a=this.markers.plotChartMarkers(t,o,n+1,this.strokeWidth-i.config.markers.strokeWidth/2,!0);null!==a&&this.elPointsMain.add(a)}}}]),e}();window.TreemapSquared={},window.TreemapSquared.generate=function(){function e(t,r,n,o){this.xoffset=t,this.yoffset=r,this.height=o,this.width=n,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(e){var t,r=[],n=this.xoffset,o=this.yoffset,a=i(e)/this.height,s=i(e)/this.width;if(this.width>=this.height)for(t=0;t<e.length;t++)r.push([n,o,n+a,o+e[t]/a]),o+=e[t]/a;else for(t=0;t<e.length;t++)r.push([n,o,n+e[t]/s,o+s]),n+=e[t]/s;return r},this.cutArea=function(t){var r;if(this.width>=this.height){var n=t/this.height,o=this.width-n;r=new e(this.xoffset+n,this.yoffset,o,this.height)}else{var i=t/this.width,a=this.height-i;r=new e(this.xoffset,this.yoffset+i,this.width,a)}return r}}function t(t,n,o,a,s){return a=void 0===a?0:a,s=void 0===s?0:s,function(e){var t,r,n=[];for(t=0;t<e.length;t++)for(r=0;r<e[t].length;r++)n.push(e[t][r]);return n}(r(function(e,t){var r,n=[],o=t/i(e);for(r=0;r<e.length;r++)n[r]=e[r]*o;return n}(t,n*o),[],new e(a,s,n,o),[]))}function r(e,t,o,a){var s,l,u;if(0!==e.length)return s=o.shortestEdge(),function(e,t,r){var o;return 0===e.length||((o=e.slice()).push(t),n(e,r)>=n(o,r))}(t,l=e[0],s)?(t.push(l),r(e.slice(1),t,o,a)):(u=o.cutArea(i(t),a),a.push(o.getCoordinates(t)),r(e,[],u,a)),a;a.push(o.getCoordinates(t))}function n(e,t){var r=Math.min.apply(Math,e),n=Math.max.apply(Math,e),o=i(e);return Math.max(Math.pow(t,2)*n/Math.pow(o,2),Math.pow(o,2)/(Math.pow(t,2)*r))}function o(e){return e&&e.constructor===Array}function i(e){var t,r=0;for(t=0;t<e.length;t++)r+=e[t];return r}function a(e){var t,r=0;if(o(e[0]))for(t=0;t<e.length;t++)r+=a(e[t]);else r=i(e);return r}return function e(r,n,i,s,l){s=void 0===s?0:s,l=void 0===l?0:l;var u,c,p=[],d=[];if(o(r[0])){for(c=0;c<r.length;c++)p[c]=a(r[c]);for(u=t(p,n,i,s,l),c=0;c<r.length;c++)d.push(e(r[c],u[c][2]-u[c][0],u[c][3]-u[c][1],u[c][0],u[c][1]))}else d=t(r,n,i,s,l);return d}}();var ke,Ne,Ie=function(){function e(t,r){s(this,e),this.ctx=t,this.w=t.w,this.strokeWidth=this.w.config.stroke.width,this.helpers=new Oe(t),this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.labels=[]}return u(e,[{key:"draw",value:function(e){var t=this,r=this.w,n=new x(this.ctx),o=new D(this.ctx),i=n.group({class:"apexcharts-treemap"});if(r.globals.noData)return i;var a=[];return e.forEach((function(e){var t=e.map((function(e){return Math.abs(e)}));a.push(t)})),this.negRange=this.helpers.checkColorRange(),r.config.series.forEach((function(e,r){e.data.forEach((function(e){Array.isArray(t.labels[r])||(t.labels[r]=[]),t.labels[r].push(e.x)}))})),window.TreemapSquared.generate(a,r.globals.gridWidth,r.globals.gridHeight).forEach((function(a,s){var l=n.group({class:"apexcharts-series apexcharts-treemap-series",seriesName:b.escapeString(r.globals.seriesNames[s]),rel:s+1,"data:realIndex":s});if(r.config.chart.dropShadow.enabled){var u=r.config.chart.dropShadow;new w(t.ctx).dropShadow(i,u,s)}var c=n.group({class:"apexcharts-data-labels"});a.forEach((function(i,a){var u=i[0],c=i[1],p=i[2],d=i[3],h=n.drawRect(u,c,p-u,d-c,0,"#fff",1,t.strokeWidth,r.config.plotOptions.treemap.useFillColorAsStroke?g:r.globals.stroke.colors[s]);h.attr({cx:u,cy:c,index:s,i:s,j:a,width:p-u,height:d-c});var f=t.helpers.getShadeColor(r.config.chart.type,s,a,t.negRange),g=f.color;void 0!==r.config.series[s].data[a]&&r.config.series[s].data[a].fillColor&&(g=r.config.series[s].data[a].fillColor);var y=o.fillPath({color:g,seriesNumber:s,dataPointIndex:a});h.node.classList.add("apexcharts-treemap-rect"),h.attr({fill:y}),t.helpers.addListeners(h);var v={x:u+(p-u)/2,y:c+(d-c)/2,width:0,height:0},m={x:u,y:c,width:p-u,height:d-c};if(r.config.chart.animations.enabled&&!r.globals.dataChanged){var b=1;r.globals.resized||(b=r.config.chart.animations.speed),t.animateTreemap(h,v,m,b)}if(r.globals.dataChanged){var C=1;t.dynamicAnim.enabled&&r.globals.shouldAnimate&&(C=t.dynamicAnim.speed,r.globals.previousPaths[s]&&r.globals.previousPaths[s][a]&&r.globals.previousPaths[s][a].rect&&(v=r.globals.previousPaths[s][a].rect),t.animateTreemap(h,v,m,C))}var w=t.getFontSize(i),x=r.config.dataLabels.formatter(t.labels[s][a],{value:r.globals.series[s][a],seriesIndex:s,dataPointIndex:a,w:r}),S=t.helpers.calculateDataLabels({text:x,x:(u+p)/2,y:(c+d)/2+t.strokeWidth/2+w/3,i:s,j:a,colorProps:f,fontSize:w,series:e});r.config.dataLabels.enabled&&S&&t.rotateToFitLabel(S,x,u,c,p,d),l.add(h),null!==S&&l.add(S)})),l.add(c),i.add(l)})),i}},{key:"getFontSize",value:function(e){var t,r,n=this.w,o=function e(t){var r,n=0;if(Array.isArray(t[0]))for(r=0;r<t.length;r++)n+=e(t[r]);else for(r=0;r<t.length;r++)n+=t[r].length;return n}(this.labels)/function e(t){var r,n=0;if(Array.isArray(t[0]))for(r=0;r<t.length;r++)n+=e(t[r]);else for(r=0;r<t.length;r++)n+=1;return n}(this.labels);return t=(e[2]-e[0])*(e[3]-e[1]),r=Math.pow(t,.5),Math.min(r/o,parseInt(n.config.dataLabels.style.fontSize,10))}},{key:"rotateToFitLabel",value:function(e,t,r,n,o,i){var a=new x(this.ctx),s=a.getTextRects(t);if(s.width+5>o-r&&s.width<=i-n){var l=a.rotateAroundCenter(e.node);e.node.setAttribute("transform","rotate(-90 ".concat(l.x," ").concat(l.y,")"))}}},{key:"animateTreemap",value:function(e,t,r,n){var o=new C(this.ctx);o.animateRect(e,{x:t.x,y:t.y,width:t.width,height:t.height},{x:r.x,y:r.y,width:r.width,height:r.height},n,(function(){o.animationCompleted(e)}))}}]),e}(),Le=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w,this.timeScaleArray=[],this.utc=this.w.config.xaxis.labels.datetimeUTC}return u(e,[{key:"calculateTimeScaleTicks",value:function(e,t){var r=this,n=this.w;if(n.globals.allSeriesCollapsed)return n.globals.labels=[],n.globals.timescaleLabels=[],[];var o=new B(this.ctx),a=(t-e)/864e5;this.determineInterval(a),n.globals.disableZoomIn=!1,n.globals.disableZoomOut=!1,a<.00011574074074074075?n.globals.disableZoomIn=!0:a>5e4&&(n.globals.disableZoomOut=!0);var s=o.getTimeUnitsfromTimestamp(e,t,this.utc),l=n.globals.gridWidth/a,u=l/24,c=u/60,p=c/60,d=Math.floor(24*a),h=Math.floor(1440*a),f=Math.floor(86400*a),g=Math.floor(a),y=Math.floor(a/30),v=Math.floor(a/365),m={minMillisecond:s.minMillisecond,minSecond:s.minSecond,minMinute:s.minMinute,minHour:s.minHour,minDate:s.minDate,minMonth:s.minMonth,minYear:s.minYear},b={firstVal:m,currentMillisecond:m.minMillisecond,currentSecond:m.minSecond,currentMinute:m.minMinute,currentHour:m.minHour,currentMonthDate:m.minDate,currentDate:m.minDate,currentMonth:m.minMonth,currentYear:m.minYear,daysWidthOnXAxis:l,hoursWidthOnXAxis:u,minutesWidthOnXAxis:c,secondsWidthOnXAxis:p,numberOfSeconds:f,numberOfMinutes:h,numberOfHours:d,numberOfDays:g,numberOfMonths:y,numberOfYears:v};switch(this.tickInterval){case"years":this.generateYearScale(b);break;case"months":case"half_year":this.generateMonthScale(b);break;case"months_days":case"months_fortnight":case"days":case"week_days":this.generateDayScale(b);break;case"hours":this.generateHourScale(b);break;case"minutes_fives":case"minutes":this.generateMinuteScale(b);break;case"seconds_tens":case"seconds_fives":case"seconds":this.generateSecondScale(b)}var C=this.timeScaleArray.map((function(e){var t={position:e.position,unit:e.unit,year:e.year,day:e.day?e.day:1,hour:e.hour?e.hour:0,month:e.month+1};return"month"===e.unit?i(i({},t),{},{day:1,value:e.value+1}):"day"===e.unit||"hour"===e.unit?i(i({},t),{},{value:e.value}):"minute"===e.unit?i(i({},t),{},{value:e.value,minute:e.value}):"second"===e.unit?i(i({},t),{},{value:e.value,minute:e.minute,second:e.second}):e}));return C.filter((function(e){var t=1,o=Math.ceil(n.globals.gridWidth/120),i=e.value;void 0!==n.config.xaxis.tickAmount&&(o=n.config.xaxis.tickAmount),C.length>o&&(t=Math.floor(C.length/o));var a=!1,s=!1;switch(r.tickInterval){case"years":"year"===e.unit&&(a=!0);break;case"half_year":t=7,"year"===e.unit&&(a=!0);break;case"months":t=1,"year"===e.unit&&(a=!0);break;case"months_fortnight":t=15,"year"!==e.unit&&"month"!==e.unit||(a=!0),30===i&&(s=!0);break;case"months_days":t=10,"month"===e.unit&&(a=!0),30===i&&(s=!0);break;case"week_days":t=8,"month"===e.unit&&(a=!0);break;case"days":t=1,"month"===e.unit&&(a=!0);break;case"hours":"day"===e.unit&&(a=!0);break;case"minutes_fives":case"seconds_fives":i%5!=0&&(s=!0);break;case"seconds_tens":i%10!=0&&(s=!0)}if("hours"===r.tickInterval||"minutes_fives"===r.tickInterval||"seconds_tens"===r.tickInterval||"seconds_fives"===r.tickInterval){if(!s)return!0}else if((i%t==0||a)&&!s)return!0}))}},{key:"recalcDimensionsBasedOnFormat",value:function(e,t){var r=this.w,n=this.formatDates(e),o=this.removeOverlappingTS(n);r.globals.timescaleLabels=o.slice(),new pe(this.ctx).plotCoords()}},{key:"determineInterval",value:function(e){var t=24*e,r=60*t;switch(!0){case e/365>5:this.tickInterval="years";break;case e>800:this.tickInterval="half_year";break;case e>180:this.tickInterval="months";break;case e>90:this.tickInterval="months_fortnight";break;case e>60:this.tickInterval="months_days";break;case e>30:this.tickInterval="week_days";break;case e>2:this.tickInterval="days";break;case t>2.4:this.tickInterval="hours";break;case r>15:this.tickInterval="minutes_fives";break;case r>5:this.tickInterval="minutes";break;case r>1:this.tickInterval="seconds_tens";break;case 60*r>20:this.tickInterval="seconds_fives";break;default:this.tickInterval="seconds"}}},{key:"generateYearScale",value:function(e){var t=e.firstVal,r=e.currentMonth,n=e.currentYear,o=e.daysWidthOnXAxis,i=e.numberOfYears,a=t.minYear,s=0,l=new B(this.ctx),u="year";if(t.minDate>1||t.minMonth>0){var c=l.determineRemainingDaysOfYear(t.minYear,t.minMonth,t.minDate);s=(l.determineDaysOfYear(t.minYear)-c+1)*o,a=t.minYear+1,this.timeScaleArray.push({position:s,value:a,unit:u,year:a,month:b.monthMod(r+1)})}else 1===t.minDate&&0===t.minMonth&&this.timeScaleArray.push({position:s,value:a,unit:u,year:n,month:b.monthMod(r+1)});for(var p=a,d=s,h=0;h<i;h++)p++,d=l.determineDaysOfYear(p-1)*o+d,this.timeScaleArray.push({position:d,value:p,unit:u,year:p,month:1})}},{key:"generateMonthScale",value:function(e){var t=e.firstVal,r=e.currentMonthDate,n=e.currentMonth,o=e.currentYear,i=e.daysWidthOnXAxis,a=e.numberOfMonths,s=n,l=0,u=new B(this.ctx),c="month",p=0;if(t.minDate>1){l=(u.determineDaysOfMonths(n+1,t.minYear)-r+1)*i,s=b.monthMod(n+1);var d=o+p,h=b.monthMod(s),f=s;0===s&&(c="year",f=d,h=1,d+=p+=1),this.timeScaleArray.push({position:l,value:f,unit:c,year:d,month:h})}else this.timeScaleArray.push({position:l,value:s,unit:c,year:o,month:b.monthMod(n)});for(var g=s+1,y=l,v=0,m=1;v<a;v++,m++){0===(g=b.monthMod(g))?(c="year",p+=1):c="month";var C=this._getYear(o,g,p);y=u.determineDaysOfMonths(g,C)*i+y;var w=0===g?C:g;this.timeScaleArray.push({position:y,value:w,unit:c,year:C,month:0===g?1:g}),g++}}},{key:"generateDayScale",value:function(e){var t=e.firstVal,r=e.currentMonth,n=e.currentYear,o=e.hoursWidthOnXAxis,i=e.numberOfDays,a=new B(this.ctx),s="day",l=t.minDate+1,u=l,c=function(e,t,r){return e>a.determineDaysOfMonths(t+1,r)?(u=1,s="month",d=t+=1,t):t},p=(24-t.minHour)*o,d=l,h=c(u,r,n);0===t.minHour&&1===t.minDate?(p=0,d=b.monthMod(t.minMonth),s="month",u=t.minDate,i++):1!==t.minDate&&0===t.minHour&&0===t.minMinute&&(p=0,l=t.minDate,d=l,h=c(u=l,r,n)),this.timeScaleArray.push({position:p,value:d,unit:s,year:this._getYear(n,h,0),month:b.monthMod(h),day:u});for(var f=p,g=0;g<i;g++){s="day",h=c(u+=1,h,this._getYear(n,h,0));var y=this._getYear(n,h,0);f=24*o+f;var v=1===u?b.monthMod(h):u;this.timeScaleArray.push({position:f,value:v,unit:s,year:y,month:b.monthMod(h),day:v})}}},{key:"generateHourScale",value:function(e){var t=e.firstVal,r=e.currentDate,n=e.currentMonth,o=e.currentYear,i=e.minutesWidthOnXAxis,a=e.numberOfHours,s=new B(this.ctx),l="hour",u=function(e,t){return e>s.determineDaysOfMonths(t+1,o)&&(g=1,t+=1),{month:t,date:g}},c=function(e,t){return e>s.determineDaysOfMonths(t+1,o)?t+=1:t},p=60-(t.minMinute+t.minSecond/60),d=p*i,h=t.minHour+1,f=h+1;60===p&&(d=0,f=(h=t.minHour)+1);var g=r,y=c(g,n);this.timeScaleArray.push({position:d,value:h,unit:l,day:g,hour:f,year:o,month:b.monthMod(y)});for(var v=d,m=0;m<a;m++){l="hour",f>=24&&(f=0,l="day",y=u(g+=1,y).month,y=c(g,y));var C=this._getYear(o,y,0);v=0===f&&0===m?p*i:60*i+v;var w=0===f?g:f;this.timeScaleArray.push({position:v,value:w,unit:l,hour:f,day:g,year:C,month:b.monthMod(y)}),f++}}},{key:"generateMinuteScale",value:function(e){for(var t=e.currentMillisecond,r=e.currentSecond,n=e.currentMinute,o=e.currentHour,i=e.currentDate,a=e.currentMonth,s=e.currentYear,l=e.minutesWidthOnXAxis,u=e.secondsWidthOnXAxis,c=e.numberOfMinutes,p=n+1,d=i,h=a,f=s,g=o,y=(60-r-t/1e3)*u,v=0;v<c;v++)p>=60&&(p=0,24===(g+=1)&&(g=0)),this.timeScaleArray.push({position:y,value:p,unit:"minute",hour:g,minute:p,day:d,year:this._getYear(f,h,0),month:b.monthMod(h)}),y+=l,p++}},{key:"generateSecondScale",value:function(e){for(var t=e.currentMillisecond,r=e.currentSecond,n=e.currentMinute,o=e.currentHour,i=e.currentDate,a=e.currentMonth,s=e.currentYear,l=e.secondsWidthOnXAxis,u=e.numberOfSeconds,c=r+1,p=n,d=i,h=a,f=s,g=o,y=(1e3-t)/1e3*l,v=0;v<u;v++)c>=60&&(c=0,++p>=60&&(p=0,24===++g&&(g=0))),this.timeScaleArray.push({position:y,value:c,unit:"second",hour:g,minute:p,second:c,day:d,year:this._getYear(f,h,0),month:b.monthMod(h)}),y+=l,c++}},{key:"createRawDateString",value:function(e,t){var r=e.year;return 0===e.month&&(e.month=1),r+="-"+("0"+e.month.toString()).slice(-2),"day"===e.unit?r+="day"===e.unit?"-"+("0"+t).slice(-2):"-01":r+="-"+("0"+(e.day?e.day:"1")).slice(-2),"hour"===e.unit?r+="hour"===e.unit?"T"+("0"+t).slice(-2):"T00":r+="T"+("0"+(e.hour?e.hour:"0")).slice(-2),"minute"===e.unit?r+=":"+("0"+t).slice(-2):r+=":"+(e.minute?("0"+e.minute).slice(-2):"00"),"second"===e.unit?r+=":"+("0"+t).slice(-2):r+=":00",this.utc&&(r+=".000Z"),r}},{key:"formatDates",value:function(e){var t=this,r=this.w;return e.map((function(e){var n=e.value.toString(),o=new B(t.ctx),i=t.createRawDateString(e,n),a=o.getDate(o.parseDate(i));if(t.utc||(a=o.getDate(o.parseDateWithTimezone(i))),void 0===r.config.xaxis.labels.format){var s="dd MMM",l=r.config.xaxis.labels.datetimeFormatter;"year"===e.unit&&(s=l.year),"month"===e.unit&&(s=l.month),"day"===e.unit&&(s=l.day),"hour"===e.unit&&(s=l.hour),"minute"===e.unit&&(s=l.minute),"second"===e.unit&&(s=l.second),n=o.formatDate(a,s)}else n=o.formatDate(a,r.config.xaxis.labels.format);return{dateString:i,position:e.position,value:n,unit:e.unit,year:e.year,month:e.month}}))}},{key:"removeOverlappingTS",value:function(e){var t,r=this,n=new x(this.ctx),o=!1;e.length>0&&e[0].value&&e.every((function(t){return t.value.length===e[0].value.length}))&&(o=!0,t=n.getTextRects(e[0].value).width);var i=0,a=e.map((function(a,s){if(s>0&&r.w.config.xaxis.labels.hideOverlappingLabels){var l=o?t:n.getTextRects(e[i].value).width,u=e[i].position;return a.position>u+l+10?(i=s,a):null}return a}));return a.filter((function(e){return null!==e}))}},{key:"_getYear",value:function(e,t,r){return e+Math.floor(t/12)+r}}]),e}(),Fe=function(){function e(t,r){s(this,e),this.ctx=r,this.w=r.w,this.el=t}return u(e,[{key:"setupElements",value:function(){var e=this.w.globals,t=this.w.config,r=t.chart.type;e.axisCharts=["line","area","bar","rangeBar","candlestick","boxPlot","scatter","bubble","radar","heatmap","treemap"].indexOf(r)>-1,e.xyCharts=["line","area","bar","rangeBar","candlestick","boxPlot","scatter","bubble"].indexOf(r)>-1,e.isBarHorizontal=("bar"===t.chart.type||"rangeBar"===t.chart.type||"boxPlot"===t.chart.type)&&t.plotOptions.bar.horizontal,e.chartClass=".apexcharts"+e.chartID,e.dom.baseEl=this.el,e.dom.elWrap=document.createElement("div"),x.setAttrs(e.dom.elWrap,{id:e.chartClass.substring(1),class:"apexcharts-canvas "+e.chartClass.substring(1)}),this.el.appendChild(e.dom.elWrap),e.dom.Paper=new window.SVG.Doc(e.dom.elWrap),e.dom.Paper.attr({class:"apexcharts-svg","xmlns:data":"ApexChartsNS",transform:"translate(".concat(t.chart.offsetX,", ").concat(t.chart.offsetY,")")}),e.dom.Paper.node.style.background=t.chart.background,this.setSVGDimensions(),e.dom.elGraphical=e.dom.Paper.group().attr({class:"apexcharts-inner apexcharts-graphical"}),e.dom.elAnnotations=e.dom.Paper.group().attr({class:"apexcharts-annotations"}),e.dom.elDefs=e.dom.Paper.defs(),e.dom.elLegendWrap=document.createElement("div"),e.dom.elLegendWrap.classList.add("apexcharts-legend"),e.dom.elWrap.appendChild(e.dom.elLegendWrap),e.dom.Paper.add(e.dom.elGraphical),e.dom.elGraphical.add(e.dom.elDefs)}},{key:"plotChartType",value:function(e,t){var r=this.w,n=r.config,o=r.globals,i={series:[],i:[]},a={series:[],i:[]},s={series:[],i:[]},l={series:[],i:[]},u={series:[],i:[]},c={series:[],i:[]},p={series:[],i:[]};o.series.map((function(t,d){var h=0;void 0!==e[d].type?("column"===e[d].type||"bar"===e[d].type?(o.series.length>1&&n.plotOptions.bar.horizontal&&console.warn("Horizontal bars are not supported in a mixed/combo chart. Please turn off `plotOptions.bar.horizontal`"),u.series.push(t),u.i.push(d),h++,r.globals.columnSeries=u.series):"area"===e[d].type?(a.series.push(t),a.i.push(d),h++):"line"===e[d].type?(i.series.push(t),i.i.push(d),h++):"scatter"===e[d].type?(s.series.push(t),s.i.push(d)):"bubble"===e[d].type?(l.series.push(t),l.i.push(d),h++):"candlestick"===e[d].type?(c.series.push(t),c.i.push(d),h++):"boxPlot"===e[d].type?(p.series.push(t),p.i.push(d),h++):console.warn("You have specified an unrecognized chart type. Available types for this property are line/area/column/bar/scatter/bubble"),h>1&&(o.comboCharts=!0)):(i.series.push(t),i.i.push(d))}));var d=new Me(this.ctx,t),h=new Ee(this.ctx,t);this.ctx.pie=new Re(this.ctx);var f=new Te(this.ctx);this.ctx.rangeBar=new W(this.ctx,t);var g=new Ae(this.ctx),y=[];if(o.comboCharts){if(a.series.length>0&&y.push(d.draw(a.series,"area",a.i)),u.series.length>0)if(r.config.chart.stacked){var v=new Se(this.ctx,t);y.push(v.draw(u.series,u.i))}else this.ctx.bar=new G(this.ctx,t),y.push(this.ctx.bar.draw(u.series,u.i));if(i.series.length>0&&y.push(d.draw(i.series,"line",i.i)),c.series.length>0&&y.push(h.draw(c.series,c.i)),p.series.length>0&&y.push(h.draw(p.series,p.i)),s.series.length>0){var m=new Me(this.ctx,t,!0);y.push(m.draw(s.series,"scatter",s.i))}if(l.series.length>0){var b=new Me(this.ctx,t,!0);y.push(b.draw(l.series,"bubble",l.i))}}else switch(n.chart.type){case"line":y=d.draw(o.series,"line");break;case"area":y=d.draw(o.series,"area");break;case"bar":n.chart.stacked?y=new Se(this.ctx,t).draw(o.series):(this.ctx.bar=new G(this.ctx,t),y=this.ctx.bar.draw(o.series));break;case"candlestick":case"boxPlot":y=new Ee(this.ctx,t).draw(o.series);break;case"rangeBar":y=this.ctx.rangeBar.draw(o.series);break;case"heatmap":y=new _e(this.ctx,t).draw(o.series);break;case"treemap":y=new Ie(this.ctx,t).draw(o.series);break;case"pie":case"donut":case"polarArea":y=this.ctx.pie.draw(o.series);break;case"radialBar":y=f.draw(o.series);break;case"radar":y=g.draw(o.series);break;default:y=d.draw(o.series)}return y}},{key:"setSVGDimensions",value:function(){var e=this.w.globals,t=this.w.config;e.svgWidth=t.chart.width,e.svgHeight=t.chart.height;var r=b.getDimensions(this.el),n=t.chart.width.toString().split(/[0-9]+/g).pop();"%"===n?b.isNumber(r[0])&&(0===r[0].width&&(r=b.getDimensions(this.el.parentNode)),e.svgWidth=r[0]*parseInt(t.chart.width,10)/100):"px"!==n&&""!==n||(e.svgWidth=parseInt(t.chart.width,10));var o=t.chart.height.toString().split(/[0-9]+/g).pop();if("auto"!==e.svgHeight&&""!==e.svgHeight)if("%"===o){var i=b.getDimensions(this.el.parentNode);e.svgHeight=i[1]*parseInt(t.chart.height,10)/100}else e.svgHeight=parseInt(t.chart.height,10);else e.axisCharts?e.svgHeight=e.svgWidth/1.61:e.svgHeight=e.svgWidth/1.2;if(e.svgWidth<0&&(e.svgWidth=0),e.svgHeight<0&&(e.svgHeight=0),x.setAttrs(e.dom.Paper.node,{width:e.svgWidth,height:e.svgHeight}),"%"!==o){var a=t.chart.sparkline.enabled?0:e.axisCharts?t.chart.parentHeightOffset:0;e.dom.Paper.node.parentNode.parentNode.style.minHeight=e.svgHeight+a+"px"}e.dom.elWrap.style.width=e.svgWidth+"px",e.dom.elWrap.style.height=e.svgHeight+"px"}},{key:"shiftGraphPosition",value:function(){var e=this.w.globals,t=e.translateY,r={transform:"translate("+e.translateX+", "+t+")"};x.setAttrs(e.dom.elGraphical.node,r)}},{key:"resizeNonAxisCharts",value:function(){var e=this.w,t=e.globals,r=0,n=e.config.chart.sparkline.enabled?1:15;n+=e.config.grid.padding.bottom,"top"!==e.config.legend.position&&"bottom"!==e.config.legend.position||!e.config.legend.show||e.config.legend.floating||(r=new he(this.ctx).legendHelpers.getLegendBBox().clwh+10);var o=e.globals.dom.baseEl.querySelector(".apexcharts-radialbar, .apexcharts-pie"),i=2.05*e.globals.radialSize;if(o&&!e.config.chart.sparkline.enabled&&0!==e.config.plotOptions.radialBar.startAngle){var a=b.getBoundingClientRect(o);i=a.bottom;var s=a.bottom-a.top;i=Math.max(2.05*e.globals.radialSize,s)}var l=i+t.translateY+r+n;t.dom.elLegendForeign&&t.dom.elLegendForeign.setAttribute("height",l),e.config.chart.height&&String(e.config.chart.height).indexOf("%")>0||(t.dom.elWrap.style.height=l+"px",x.setAttrs(t.dom.Paper.node,{height:l}),t.dom.Paper.node.parentNode.parentNode.style.minHeight=l+"px")}},{key:"coreCalculations",value:function(){new Q(this.ctx).init()}},{key:"resetGlobals",value:function(){var e=this,t=function(){return e.w.config.series.map((function(e){return[]}))},r=new V,n=this.w.globals;r.initGlobalVars(n),n.seriesXvalues=t(),n.seriesYvalues=t()}},{key:"isMultipleY",value:function(){if(this.w.config.yaxis.constructor===Array&&this.w.config.yaxis.length>1)return this.w.globals.isMultipleYAxis=!0,!0}},{key:"xySettings",value:function(){var e=null,t=this.w;if(t.globals.axisCharts){if("back"===t.config.xaxis.crosshairs.position&&new ne(this.ctx).drawXCrosshairs(),"back"===t.config.yaxis[0].crosshairs.position&&new ne(this.ctx).drawYCrosshairs(),"datetime"===t.config.xaxis.type&&void 0===t.config.xaxis.labels.formatter){this.ctx.timeScale=new Le(this.ctx);var r=[];isFinite(t.globals.minX)&&isFinite(t.globals.maxX)&&!t.globals.isBarHorizontal?r=this.ctx.timeScale.calculateTimeScaleTicks(t.globals.minX,t.globals.maxX):t.globals.isBarHorizontal&&(r=this.ctx.timeScale.calculateTimeScaleTicks(t.globals.minY,t.globals.maxY)),this.ctx.timeScale.recalcDimensionsBasedOnFormat(r)}e=new S(this.ctx).getCalculatedRatios()}return e}},{key:"updateSourceChart",value:function(e){this.ctx.w.globals.selection=void 0,this.ctx.updateHelpers._updateOptions({chart:{selection:{xaxis:{min:e.w.globals.minX,max:e.w.globals.maxX}}}},!1,!1)}},{key:"setupBrushHandler",value:function(){var e=this,t=this.w;if(t.config.chart.brush.enabled&&"function"!=typeof t.config.chart.events.selection){var r=t.config.chart.brush.targets||[t.config.chart.brush.target];r.forEach((function(t){var r=ApexCharts.getChartByID(t);r.w.globals.brushSource=e.ctx,"function"!=typeof r.w.config.chart.events.zoomed&&(r.w.config.chart.events.zoomed=function(){e.updateSourceChart(r)}),"function"!=typeof r.w.config.chart.events.scrolled&&(r.w.config.chart.events.scrolled=function(){e.updateSourceChart(r)})})),t.config.chart.events.selection=function(e,n){r.forEach((function(e){var r=ApexCharts.getChartByID(e),o=b.clone(t.config.yaxis);if(t.config.chart.brush.autoScaleYaxis&&1===r.w.globals.series.length){var a=new Z(r);o=a.autoScaleY(r,o,n)}var s=r.w.config.yaxis.reduce((function(e,t,n){return[].concat(y(e),[i(i({},r.w.config.yaxis[n]),{},{min:o[0].min,max:o[0].max})])}),[]);r.ctx.updateHelpers._updateOptions({xaxis:{min:n.xaxis.min,max:n.xaxis.max},yaxis:s},!1,!1,!1,!1)}))}}}}]),e}(),Ge=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w}return u(e,[{key:"_updateOptions",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return new Promise((function(s){var l=[t.ctx];o&&(l=t.ctx.getSyncedCharts()),t.ctx.w.globals.isExecCalled&&(l=[t.ctx],t.ctx.w.globals.isExecCalled=!1),l.forEach((function(o,u){var c=o.w;if(c.globals.shouldAnimate=n,r||(c.globals.resized=!0,c.globals.dataChanged=!0,n&&o.series.getPreviousPaths()),e&&"object"===a(e)&&(o.config=new j(e),e=S.extendArrayProps(o.config,e,c),o.w.globals.chartID!==t.ctx.w.globals.chartID&&delete e.series,c.config=b.extend(c.config,e),i&&(c.globals.lastXAxis=e.xaxis?b.clone(e.xaxis):[],c.globals.lastYAxis=e.yaxis?b.clone(e.yaxis):[],c.globals.initialConfig=b.extend({},c.config),c.globals.initialSeries=b.clone(c.config.series),e.series))){for(var p=0;p<c.globals.collapsedSeriesIndices.length;p++){var d=c.config.series[c.globals.collapsedSeriesIndices[p]];c.globals.collapsedSeries[p].data=c.globals.axisCharts?d.data.slice():d}for(var h=0;h<c.globals.ancillaryCollapsedSeriesIndices.length;h++){var f=c.config.series[c.globals.ancillaryCollapsedSeriesIndices[h]];c.globals.ancillaryCollapsedSeries[h].data=c.globals.axisCharts?f.data.slice():f}o.series.emptyCollapsedSeries(c.config.series)}return o.update(e).then((function(){u===l.length-1&&s(o)}))}))}))}},{key:"_updateSeries",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise((function(o){var i,a=r.w;return a.globals.shouldAnimate=t,a.globals.dataChanged=!0,t&&r.ctx.series.getPreviousPaths(),a.globals.axisCharts?(0===(i=e.map((function(e,t){return r._extendSeries(e,t)}))).length&&(i=[{data:[]}]),a.config.series=i):a.config.series=e.slice(),n&&(a.globals.initialSeries=b.clone(a.config.series)),r.ctx.update().then((function(){o(r.ctx)}))}))}},{key:"_extendSeries",value:function(e,t){var r=this.w,n=r.config.series[t];return i(i({},r.config.series[t]),{},{name:e.name?e.name:n&&n.name,color:e.color?e.color:n&&n.color,type:e.type?e.type:n&&n.type,data:e.data?e.data:n&&n.data})}},{key:"toggleDataPointSelection",value:function(e,t){var r=this.w,n=null,o=".apexcharts-series[data\\:realIndex='".concat(e,"']");return r.globals.axisCharts?n=r.globals.dom.Paper.select("".concat(o," path[j='").concat(t,"'], ").concat(o," circle[j='").concat(t,"'], ").concat(o," rect[j='").concat(t,"']")).members[0]:void 0===t&&(n=r.globals.dom.Paper.select("".concat(o," path[j='").concat(e,"']")).members[0],"pie"!==r.config.chart.type&&"polarArea"!==r.config.chart.type&&"donut"!==r.config.chart.type||this.ctx.pie.pieClicked(e)),n?(new x(this.ctx).pathMouseDown(n,null),n.node?n.node:null):(console.warn("toggleDataPointSelection: Element not found"),null)}},{key:"forceXAxisUpdate",value:function(e){var t=this.w;if(["min","max"].forEach((function(r){void 0!==e.xaxis[r]&&(t.config.xaxis[r]=e.xaxis[r],t.globals.lastXAxis[r]=e.xaxis[r])})),e.xaxis.categories&&e.xaxis.categories.length&&(t.config.xaxis.categories=e.xaxis.categories),t.config.xaxis.convertedCatToNumeric){var r=new H(e);e=r.convertCatToNumericXaxis(e,this.ctx)}return e}},{key:"forceYAxisUpdate",value:function(e){var t=this.w;return t.config.chart.stacked&&"100%"===t.config.chart.stackType&&(Array.isArray(e.yaxis)?e.yaxis.forEach((function(t,r){e.yaxis[r].min=0,e.yaxis[r].max=100})):(e.yaxis.min=0,e.yaxis.max=100)),e}},{key:"revertDefaultAxisMinMax",value:function(e){var t=this,r=this.w,n=r.globals.lastXAxis,o=r.globals.lastYAxis;e&&e.xaxis&&(n=e.xaxis),e&&e.yaxis&&(o=e.yaxis),r.config.xaxis.min=n.min,r.config.xaxis.max=n.max;r.config.yaxis.map((function(e,n){r.globals.zoomed||void 0!==o[n]?function(e){void 0!==o[e]&&(r.config.yaxis[e].min=o[e].min,r.config.yaxis[e].max=o[e].max)}(n):void 0!==t.ctx.opts.yaxis[n]&&(e.min=t.ctx.opts.yaxis[n].min,e.max=t.ctx.opts.yaxis[n].max)}))}}]),e}();ke="undefined"!=typeof window?window:void 0,Ne=function(e,t){var r=(void 0!==this?this:e).SVG=function(e){if(r.supported)return e=new r.Doc(e),r.parser.draw||r.prepare(),e};if(r.ns="http://www.w3.org/2000/svg",r.xmlns="http://www.w3.org/2000/xmlns/",r.xlink="http://www.w3.org/1999/xlink",r.svgjs="http://svgjs.dev",r.supported=!0,!r.supported)return!1;r.did=1e3,r.eid=function(e){return"Svgjs"+p(e)+r.did++},r.create=function(e){var r=t.createElementNS(this.ns,e);return r.setAttribute("id",this.eid(e)),r},r.extend=function(){var e,t;t=(e=[].slice.call(arguments)).pop();for(var n=e.length-1;n>=0;n--)if(e[n])for(var o in t)e[n].prototype[o]=t[o];r.Set&&r.Set.inherit&&r.Set.inherit()},r.invent=function(e){var t="function"==typeof e.create?e.create:function(){this.constructor.call(this,r.create(e.create))};return e.inherit&&(t.prototype=new e.inherit),e.extend&&r.extend(t,e.extend),e.construct&&r.extend(e.parent||r.Container,e.construct),t},r.adopt=function(t){return t?t.instance?t.instance:((n="svg"==t.nodeName?t.parentNode instanceof e.SVGElement?new r.Nested:new r.Doc:"linearGradient"==t.nodeName?new r.Gradient("linear"):"radialGradient"==t.nodeName?new r.Gradient("radial"):r[p(t.nodeName)]?new(r[p(t.nodeName)]):new r.Element(t)).type=t.nodeName,n.node=t,t.instance=n,n instanceof r.Doc&&n.namespace().defs(),n.setData(JSON.parse(t.getAttribute("svgjs:data"))||{}),n):null;var n},r.prepare=function(){var e=t.getElementsByTagName("body")[0],n=(e?new r.Doc(e):r.adopt(t.documentElement).nested()).size(2,0);r.parser={body:e||t.documentElement,draw:n.style("opacity:0;position:absolute;left:-100%;top:-100%;overflow:hidden").node,poly:n.polyline().node,path:n.path().node,native:r.create("svg")}},r.parser={native:r.create("svg")},t.addEventListener("DOMContentLoaded",(function(){r.parser.draw||r.prepare()}),!1),r.regex={numberAndUnit:/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,transforms:/\)\s*,?\s*/,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,delimiter:/[\s,]+/,hyphen:/([^e])\-/gi,pathLetters:/[MLHVCSQTAZ]/gi,isPathLetter:/[MLHVCSQTAZ]/i,numbersWithDots:/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi,dots:/\./g},r.utils={map:function(e,t){for(var r=e.length,n=[],o=0;o<r;o++)n.push(t(e[o]));return n},filter:function(e,t){for(var r=e.length,n=[],o=0;o<r;o++)t(e[o])&&n.push(e[o]);return n},filterSVGElements:function(t){return this.filter(t,(function(t){return t instanceof e.SVGElement}))}},r.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}},r.Color=function(e){var t,n;this.r=0,this.g=0,this.b=0,e&&("string"==typeof e?r.regex.isRgb.test(e)?(t=r.regex.rgb.exec(e.replace(r.regex.whitespace,"")),this.r=parseInt(t[1]),this.g=parseInt(t[2]),this.b=parseInt(t[3])):r.regex.isHex.test(e)&&(t=r.regex.hex.exec(4==(n=e).length?["#",n.substring(1,2),n.substring(1,2),n.substring(2,3),n.substring(2,3),n.substring(3,4),n.substring(3,4)].join(""):n),this.r=parseInt(t[1],16),this.g=parseInt(t[2],16),this.b=parseInt(t[3],16)):"object"===a(e)&&(this.r=e.r,this.g=e.g,this.b=e.b))},r.extend(r.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+d(this.r)+d(this.g)+d(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(e){return this.destination=new r.Color(e),this},at:function(e){return this.destination?(e=e<0?0:e>1?1:e,new r.Color({r:~~(this.r+(this.destination.r-this.r)*e),g:~~(this.g+(this.destination.g-this.g)*e),b:~~(this.b+(this.destination.b-this.b)*e)})):this}}),r.Color.test=function(e){return e+="",r.regex.isHex.test(e)||r.regex.isRgb.test(e)},r.Color.isRgb=function(e){return e&&"number"==typeof e.r&&"number"==typeof e.g&&"number"==typeof e.b},r.Color.isColor=function(e){return r.Color.isRgb(e)||r.Color.test(e)},r.Array=function(e,t){0==(e=(e||[]).valueOf()).length&&t&&(e=t.valueOf()),this.value=this.parse(e)},r.extend(r.Array,{toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(e){return e=e.valueOf(),Array.isArray(e)?e:this.split(e)}}),r.PointArray=function(e,t){r.Array.call(this,e,t||[[0,0]])},r.PointArray.prototype=new r.Array,r.PointArray.prototype.constructor=r.PointArray;for(var n={M:function(e,t,r){return t.x=r.x=e[0],t.y=r.y=e[1],["M",t.x,t.y]},L:function(e,t){return t.x=e[0],t.y=e[1],["L",e[0],e[1]]},H:function(e,t){return t.x=e[0],["H",e[0]]},V:function(e,t){return t.y=e[0],["V",e[0]]},C:function(e,t){return t.x=e[4],t.y=e[5],["C",e[0],e[1],e[2],e[3],e[4],e[5]]},Q:function(e,t){return t.x=e[2],t.y=e[3],["Q",e[0],e[1],e[2],e[3]]},Z:function(e,t,r){return t.x=r.x,t.y=r.y,["Z"]}},o="mlhvqtcsaz".split(""),i=0,s=o.length;i<s;++i)n[o[i]]=function(e){return function(t,r,o){if("H"==e)t[0]=t[0]+r.x;else if("V"==e)t[0]=t[0]+r.y;else if("A"==e)t[5]=t[5]+r.x,t[6]=t[6]+r.y;else for(var i=0,a=t.length;i<a;++i)t[i]=t[i]+(i%2?r.y:r.x);if(n&&"function"==typeof n[e])return n[e](t,r,o)}}(o[i].toUpperCase());r.PathArray=function(e,t){r.Array.call(this,e,t||[["M",0,0]])},r.PathArray.prototype=new r.Array,r.PathArray.prototype.constructor=r.PathArray,r.extend(r.PathArray,{toString:function(){return function(e){for(var t=0,r=e.length,n="";t<r;t++)n+=e[t][0],null!=e[t][1]&&(n+=e[t][1],null!=e[t][2]&&(n+=" ",n+=e[t][2],null!=e[t][3]&&(n+=" ",n+=e[t][3],n+=" ",n+=e[t][4],null!=e[t][5]&&(n+=" ",n+=e[t][5],n+=" ",n+=e[t][6],null!=e[t][7]&&(n+=" ",n+=e[t][7])))));return n+" "}(this.value)},move:function(e,t){var r=this.bbox();return r.x,r.y,this},at:function(e){if(!this.destination)return this;for(var t=this.value,n=this.destination.value,o=[],i=new r.PathArray,a=0,s=t.length;a<s;a++){o[a]=[t[a][0]];for(var l=1,u=t[a].length;l<u;l++)o[a][l]=t[a][l]+(n[a][l]-t[a][l])*e;"A"===o[a][0]&&(o[a][4]=+(0!=o[a][4]),o[a][5]=+(0!=o[a][5]))}return i.value=o,i},parse:function(e){if(e instanceof r.PathArray)return e.valueOf();var t,o={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0};e="string"==typeof e?e.replace(r.regex.numbersWithDots,u).replace(r.regex.pathLetters," $& ").replace(r.regex.hyphen,"$1 -").trim().split(r.regex.delimiter):e.reduce((function(e,t){return[].concat.call(e,t)}),[]);var i=[],a=new r.Point,s=new r.Point,l=0,c=e.length;do{r.regex.isPathLetter.test(e[l])?(t=e[l],++l):"M"==t?t="L":"m"==t&&(t="l"),i.push(n[t].call(null,e.slice(l,l+=o[t.toUpperCase()]).map(parseFloat),a,s))}while(c>l);return i},bbox:function(){return r.parser.draw||r.prepare(),r.parser.path.setAttribute("d",this.toString()),r.parser.path.getBBox()}}),r.Number=r.invent({create:function(e,t){this.value=0,this.unit=t||"","number"==typeof e?this.value=isNaN(e)?0:isFinite(e)?e:e<0?-34e37:34e37:"string"==typeof e?(t=e.match(r.regex.numberAndUnit))&&(this.value=parseFloat(t[1]),"%"==t[5]?this.value/=100:"s"==t[5]&&(this.value*=1e3),this.unit=t[5]):e instanceof r.Number&&(this.value=e.valueOf(),this.unit=e.unit)},extend:{toString:function(){return("%"==this.unit?~~(1e8*this.value)/1e6:"s"==this.unit?this.value/1e3:this.value)+this.unit},toJSON:function(){return this.toString()},valueOf:function(){return this.value},plus:function(e){return e=new r.Number(e),new r.Number(this+e,this.unit||e.unit)},minus:function(e){return e=new r.Number(e),new r.Number(this-e,this.unit||e.unit)},times:function(e){return e=new r.Number(e),new r.Number(this*e,this.unit||e.unit)},divide:function(e){return e=new r.Number(e),new r.Number(this/e,this.unit||e.unit)},to:function(e){var t=new r.Number(this);return"string"==typeof e&&(t.unit=e),t},morph:function(e){return this.destination=new r.Number(e),e.relative&&(this.destination.value+=this.value),this},at:function(e){return this.destination?new r.Number(this.destination).minus(this).times(e).plus(this):this}}}),r.Element=r.invent({create:function(e){this._stroke=r.defaults.attrs.stroke,this._event=null,this.dom={},(this.node=e)&&(this.type=e.nodeName,this.node.instance=this,this._stroke=e.getAttribute("stroke")||this._stroke)},extend:{x:function(e){return this.attr("x",e)},y:function(e){return this.attr("y",e)},cx:function(e){return null==e?this.x()+this.width()/2:this.x(e-this.width()/2)},cy:function(e){return null==e?this.y()+this.height()/2:this.y(e-this.height()/2)},move:function(e,t){return this.x(e).y(t)},center:function(e,t){return this.cx(e).cy(t)},width:function(e){return this.attr("width",e)},height:function(e){return this.attr("height",e)},size:function(e,t){var n=h(this,e,t);return this.width(new r.Number(n.width)).height(new r.Number(n.height))},clone:function(e){this.writeDataToDom();var t=y(this.node.cloneNode(!0));return e?e.add(t):this.after(t),t},remove:function(){return this.parent()&&this.parent().removeElement(this),this},replace:function(e){return this.after(e).remove(),e},addTo:function(e){return e.put(this)},putIn:function(e){return e.add(this)},id:function(e){return this.attr("id",e)},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return"none"!=this.style("display")},toString:function(){return this.attr("id")},classes:function(){var e=this.attr("class");return null==e?[]:e.trim().split(r.regex.delimiter)},hasClass:function(e){return-1!=this.classes().indexOf(e)},addClass:function(e){if(!this.hasClass(e)){var t=this.classes();t.push(e),this.attr("class",t.join(" "))}return this},removeClass:function(e){return this.hasClass(e)&&this.attr("class",this.classes().filter((function(t){return t!=e})).join(" ")),this},toggleClass:function(e){return this.hasClass(e)?this.removeClass(e):this.addClass(e)},reference:function(e){return r.get(this.attr(e))},parent:function(t){var n=this;if(!n.node.parentNode)return null;if(n=r.adopt(n.node.parentNode),!t)return n;for(;n&&n.node instanceof e.SVGElement;){if("string"==typeof t?n.matches(t):n instanceof t)return n;if(!n.node.parentNode||"#document"==n.node.parentNode.nodeName)return null;n=r.adopt(n.node.parentNode)}},doc:function(){return this instanceof r.Doc?this:this.parent(r.Doc)},parents:function(e){var t=[],r=this;do{if(!(r=r.parent(e))||!r.node)break;t.push(r)}while(r.parent);return t},matches:function(e){return function(e,t){return(e.matches||e.matchesSelector||e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.oMatchesSelector).call(e,t)}(this.node,e)},native:function(){return this.node},svg:function(e){var n=t.createElement("svg");if(!(e&&this instanceof r.Parent))return n.appendChild(e=t.createElement("svg")),this.writeDataToDom(),e.appendChild(this.node.cloneNode(!0)),n.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");n.innerHTML="<svg>"+e.replace(/\n/,"").replace(/<([\w:-]+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";for(var o=0,i=n.firstChild.childNodes.length;o<i;o++)this.node.appendChild(n.firstChild.firstChild);return this},writeDataToDom:function(){return(this.each||this.lines)&&(this.each?this:this.lines()).each((function(){this.writeDataToDom()})),this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),this},setData:function(e){return this.dom=e,this},is:function(e){return function(e,t){return e instanceof t}(this,e)}}}),r.easing={"-":function(e){return e},"<>":function(e){return-Math.cos(e*Math.PI)/2+.5},">":function(e){return Math.sin(e*Math.PI/2)},"<":function(e){return 1-Math.cos(e*Math.PI/2)}},r.morph=function(e){return function(t,n){return new r.MorphObj(t,n).at(e)}},r.Situation=r.invent({create:function(e){this.init=!1,this.reversed=!1,this.reversing=!1,this.duration=new r.Number(e.duration).valueOf(),this.delay=new r.Number(e.delay).valueOf(),this.start=+new Date+this.delay,this.finish=this.start+this.duration,this.ease=e.ease,this.loop=0,this.loops=!1,this.animations={},this.attrs={},this.styles={},this.transforms=[],this.once={}}}),r.FX=r.invent({create:function(e){this._target=e,this.situations=[],this.active=!1,this.situation=null,this.paused=!1,this.lastPos=0,this.pos=0,this.absPos=0,this._speed=1},extend:{animate:function(e,t,n){"object"===a(e)&&(t=e.ease,n=e.delay,e=e.duration);var o=new r.Situation({duration:e||1e3,delay:n||0,ease:r.easing[t||"-"]||t});return this.queue(o),this},target:function(e){return e&&e instanceof r.Element?(this._target=e,this):this._target},timeToAbsPos:function(e){return(e-this.situation.start)/(this.situation.duration/this._speed)},absPosToTime:function(e){return this.situation.duration/this._speed*e+this.situation.start},startAnimFrame:function(){this.stopAnimFrame(),this.animationFrame=e.requestAnimationFrame(function(){this.step()}.bind(this))},stopAnimFrame:function(){e.cancelAnimationFrame(this.animationFrame)},start:function(){return!this.active&&this.situation&&(this.active=!0,this.startCurrent()),this},startCurrent:function(){return this.situation.start=+new Date+this.situation.delay/this._speed,this.situation.finish=this.situation.start+this.situation.duration/this._speed,this.initAnimations().step()},queue:function(e){return("function"==typeof e||e instanceof r.Situation)&&this.situations.push(e),this.situation||(this.situation=this.situations.shift()),this},dequeue:function(){return this.stop(),this.situation=this.situations.shift(),this.situation&&(this.situation instanceof r.Situation?this.start():this.situation.call(this)),this},initAnimations:function(){var e,t=this.situation;if(t.init)return this;for(var n in t.animations){e=this.target()[n](),Array.isArray(e)||(e=[e]),Array.isArray(t.animations[n])||(t.animations[n]=[t.animations[n]]);for(var o=e.length;o--;)t.animations[n][o]instanceof r.Number&&(e[o]=new r.Number(e[o])),t.animations[n][o]=e[o].morph(t.animations[n][o])}for(var n in t.attrs)t.attrs[n]=new r.MorphObj(this.target().attr(n),t.attrs[n]);for(var n in t.styles)t.styles[n]=new r.MorphObj(this.target().style(n),t.styles[n]);return t.initialTransformation=this.target().matrixify(),t.init=!0,this},clearQueue:function(){return this.situations=[],this},clearCurrent:function(){return this.situation=null,this},stop:function(e,t){var r=this.active;return this.active=!1,t&&this.clearQueue(),e&&this.situation&&(!r&&this.startCurrent(),this.atEnd()),this.stopAnimFrame(),this.clearCurrent()},after:function(e){var t=this.last();return this.target().on("finished.fx",(function r(n){n.detail.situation==t&&(e.call(this,t),this.off("finished.fx",r))})),this._callStart()},during:function(e){var t=this.last(),n=function(n){n.detail.situation==t&&e.call(this,n.detail.pos,r.morph(n.detail.pos),n.detail.eased,t)};return this.target().off("during.fx",n).on("during.fx",n),this.after((function(){this.off("during.fx",n)})),this._callStart()},afterAll:function(e){var t=function t(r){e.call(this),this.off("allfinished.fx",t)};return this.target().off("allfinished.fx",t).on("allfinished.fx",t),this._callStart()},last:function(){return this.situations.length?this.situations[this.situations.length-1]:this.situation},add:function(e,t,r){return this.last()[r||"animations"][e]=t,this._callStart()},step:function(e){var t,r,n;e||(this.absPos=this.timeToAbsPos(+new Date)),!1!==this.situation.loops?(t=Math.max(this.absPos,0),r=Math.floor(t),!0===this.situation.loops||r<this.situation.loops?(this.pos=t-r,n=this.situation.loop,this.situation.loop=r):(this.absPos=this.situation.loops,this.pos=1,n=this.situation.loop-1,this.situation.loop=this.situation.loops),this.situation.reversing&&(this.situation.reversed=this.situation.reversed!=Boolean((this.situation.loop-n)%2))):(this.absPos=Math.min(this.absPos,1),this.pos=this.absPos),this.pos<0&&(this.pos=0),this.situation.reversed&&(this.pos=1-this.pos);var o=this.situation.ease(this.pos);for(var i in this.situation.once)i>this.lastPos&&i<=o&&(this.situation.once[i].call(this.target(),this.pos,o),delete this.situation.once[i]);return this.active&&this.target().fire("during",{pos:this.pos,eased:o,fx:this,situation:this.situation}),this.situation?(this.eachAt(),1==this.pos&&!this.situation.reversed||this.situation.reversed&&0==this.pos?(this.stopAnimFrame(),this.target().fire("finished",{fx:this,situation:this.situation}),this.situations.length||(this.target().fire("allfinished"),this.situations.length||(this.target().off(".fx"),this.active=!1)),this.active?this.dequeue():this.clearCurrent()):!this.paused&&this.active&&this.startAnimFrame(),this.lastPos=o,this):this},eachAt:function(){var e,t=this,n=this.target(),o=this.situation;for(var i in o.animations)e=[].concat(o.animations[i]).map((function(e){return"string"!=typeof e&&e.at?e.at(o.ease(t.pos),t.pos):e})),n[i].apply(n,e);for(var i in o.attrs)e=[i].concat(o.attrs[i]).map((function(e){return"string"!=typeof e&&e.at?e.at(o.ease(t.pos),t.pos):e})),n.attr.apply(n,e);for(var i in o.styles)e=[i].concat(o.styles[i]).map((function(e){return"string"!=typeof e&&e.at?e.at(o.ease(t.pos),t.pos):e})),n.style.apply(n,e);if(o.transforms.length){e=o.initialTransformation,i=0;for(var a=o.transforms.length;i<a;i++){var s=o.transforms[i];s instanceof r.Matrix?e=s.relative?e.multiply((new r.Matrix).morph(s).at(o.ease(this.pos))):e.morph(s).at(o.ease(this.pos)):(s.relative||s.undo(e.extract()),e=e.multiply(s.at(o.ease(this.pos))))}n.matrix(e)}return this},once:function(e,t,r){var n=this.last();return r||(e=n.ease(e)),n.once[e]=t,this},_callStart:function(){return setTimeout(function(){this.start()}.bind(this),0),this}},parent:r.Element,construct:{animate:function(e,t,n){return(this.fx||(this.fx=new r.FX(this))).animate(e,t,n)},delay:function(e){return(this.fx||(this.fx=new r.FX(this))).delay(e)},stop:function(e,t){return this.fx&&this.fx.stop(e,t),this},finish:function(){return this.fx&&this.fx.finish(),this}}}),r.MorphObj=r.invent({create:function(e,t){return r.Color.isColor(t)?new r.Color(e).morph(t):r.regex.delimiter.test(e)?r.regex.pathLetters.test(e)?new r.PathArray(e).morph(t):new r.Array(e).morph(t):r.regex.numberAndUnit.test(t)?new r.Number(e).morph(t):(this.value=e,void(this.destination=t))},extend:{at:function(e,t){return t<1?this.value:this.destination},valueOf:function(){return this.value}}}),r.extend(r.FX,{attr:function(e,t,r){if("object"===a(e))for(var n in e)this.attr(n,e[n]);else this.add(e,t,"attrs");return this},plot:function(e,t,r,n){return 4==arguments.length?this.plot([e,t,r,n]):this.add("plot",new(this.target().morphArray)(e))}}),r.Box=r.invent({create:function(e,t,n,o){if(!("object"!==a(e)||e instanceof r.Element))return r.Box.call(this,null!=e.left?e.left:e.x,null!=e.top?e.top:e.y,e.width,e.height);4==arguments.length&&(this.x=e,this.y=t,this.width=n,this.height=o),v(this)}}),r.BBox=r.invent({create:function(e){if(r.Box.apply(this,[].slice.call(arguments)),e instanceof r.Element){var n;try{if(!t.documentElement.contains){for(var o=e.node;o.parentNode;)o=o.parentNode;if(o!=t)throw new Error("Element not in the dom")}n=e.node.getBBox()}catch(t){if(e instanceof r.Shape){r.parser.draw||r.prepare();var i=e.clone(r.parser.draw.instance).show();i&&i.node&&"function"==typeof i.node.getBBox&&(n=i.node.getBBox()),i&&"function"==typeof i.remove&&i.remove()}else n={x:e.node.clientLeft,y:e.node.clientTop,width:e.node.clientWidth,height:e.node.clientHeight}}r.Box.call(this,n)}},inherit:r.Box,parent:r.Element,construct:{bbox:function(){return new r.BBox(this)}}}),r.BBox.prototype.constructor=r.BBox,r.Matrix=r.invent({create:function(e){var t=g([1,0,0,1,0,0]);e=null===e?t:e instanceof r.Element?e.matrixify():"string"==typeof e?g(e.split(r.regex.delimiter).map(parseFloat)):6==arguments.length?g([].slice.call(arguments)):Array.isArray(e)?g(e):e&&"object"===a(e)?e:t;for(var n=b.length-1;n>=0;--n)this[b[n]]=null!=e[b[n]]?e[b[n]]:t[b[n]]},extend:{extract:function(){var e=f(this,0,1);f(this,1,0);var t=180/Math.PI*Math.atan2(e.y,e.x)-90;return{x:this.e,y:this.f,transformedX:(this.e*Math.cos(t*Math.PI/180)+this.f*Math.sin(t*Math.PI/180))/Math.sqrt(this.a*this.a+this.b*this.b),transformedY:(this.f*Math.cos(t*Math.PI/180)+this.e*Math.sin(-t*Math.PI/180))/Math.sqrt(this.c*this.c+this.d*this.d),rotation:t,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f,matrix:new r.Matrix(this)}},clone:function(){return new r.Matrix(this)},morph:function(e){return this.destination=new r.Matrix(e),this},multiply:function(e){return new r.Matrix(this.native().multiply(function(e){return e instanceof r.Matrix||(e=new r.Matrix(e)),e}(e).native()))},inverse:function(){return new r.Matrix(this.native().inverse())},translate:function(e,t){return new r.Matrix(this.native().translate(e||0,t||0))},native:function(){for(var e=r.parser.native.createSVGMatrix(),t=b.length-1;t>=0;t--)e[b[t]]=this[b[t]];return e},toString:function(){return"matrix("+m(this.a)+","+m(this.b)+","+m(this.c)+","+m(this.d)+","+m(this.e)+","+m(this.f)+")"}},parent:r.Element,construct:{ctm:function(){return new r.Matrix(this.node.getCTM())},screenCTM:function(){if(this instanceof r.Nested){var e=this.rect(1,1),t=e.node.getScreenCTM();return e.remove(),new r.Matrix(t)}return new r.Matrix(this.node.getScreenCTM())}}}),r.Point=r.invent({create:function(e,t){var r;r=Array.isArray(e)?{x:e[0],y:e[1]}:"object"===a(e)?{x:e.x,y:e.y}:null!=e?{x:e,y:null!=t?t:e}:{x:0,y:0},this.x=r.x,this.y=r.y},extend:{clone:function(){return new r.Point(this)},morph:function(e,t){return this.destination=new r.Point(e,t),this}}}),r.extend(r.Element,{point:function(e,t){return new r.Point(e,t).transform(this.screenCTM().inverse())}}),r.extend(r.Element,{attr:function(e,t,n){if(null==e){for(e={},n=(t=this.node.attributes).length-1;n>=0;n--)e[t[n].nodeName]=r.regex.isNumber.test(t[n].nodeValue)?parseFloat(t[n].nodeValue):t[n].nodeValue;return e}if("object"===a(e))for(var o in e)this.attr(o,e[o]);else if(null===t)this.node.removeAttribute(e);else{if(null==t)return null==(t=this.node.getAttribute(e))?r.defaults.attrs[e]:r.regex.isNumber.test(t)?parseFloat(t):t;"stroke-width"==e?this.attr("stroke",parseFloat(t)>0?this._stroke:null):"stroke"==e&&(this._stroke=t),"fill"!=e&&"stroke"!=e||(r.regex.isImage.test(t)&&(t=this.doc().defs().image(t,0,0)),t instanceof r.Image&&(t=this.doc().defs().pattern(0,0,(function(){this.add(t)})))),"number"==typeof t?t=new r.Number(t):r.Color.isColor(t)?t=new r.Color(t):Array.isArray(t)&&(t=new r.Array(t)),"leading"==e?this.leading&&this.leading(t):"string"==typeof n?this.node.setAttributeNS(n,e,t.toString()):this.node.setAttribute(e,t.toString()),!this.rebuild||"font-size"!=e&&"x"!=e||this.rebuild(e,t)}return this}}),r.extend(r.Element,{transform:function(e,t){var n;return"object"!==a(e)?(n=new r.Matrix(this).extract(),"string"==typeof e?n[e]:n):(n=new r.Matrix(this),t=!!t||!!e.relative,null!=e.a&&(n=t?n.multiply(new r.Matrix(e)):new r.Matrix(e)),this.attr("transform",n))}}),r.extend(r.Element,{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(r.regex.transforms).slice(0,-1).map((function(e){var t=e.trim().split("(");return[t[0],t[1].split(r.regex.delimiter).map((function(e){return parseFloat(e)}))]})).reduce((function(e,t){return"matrix"==t[0]?e.multiply(g(t[1])):e[t[0]].apply(e,t[1])}),new r.Matrix)},toParent:function(e){if(this==e)return this;var t=this.screenCTM(),r=e.screenCTM().inverse();return this.addTo(e).untransform().transform(r.multiply(t)),this},toDoc:function(){return this.toParent(this.doc())}}),r.Transformation=r.invent({create:function(e,t){if(arguments.length>1&&"boolean"!=typeof t)return this.constructor.call(this,[].slice.call(arguments));if(Array.isArray(e))for(var r=0,n=this.arguments.length;r<n;++r)this[this.arguments[r]]=e[r];else if(e&&"object"===a(e))for(r=0,n=this.arguments.length;r<n;++r)this[this.arguments[r]]=e[this.arguments[r]];this.inversed=!1,!0===t&&(this.inversed=!0)}}),r.Translate=r.invent({parent:r.Matrix,inherit:r.Transformation,create:function(e,t){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["transformedX","transformedY"],method:"translate"}}),r.extend(r.Element,{style:function(e,t){if(0==arguments.length)return this.node.style.cssText||"";if(arguments.length<2)if("object"===a(e))for(var n in e)this.style(n,e[n]);else{if(!r.regex.isCss.test(e))return this.node.style[c(e)];for(e=e.split(/\s*;\s*/).filter((function(e){return!!e})).map((function(e){return e.split(/\s*:\s*/)}));t=e.pop();)this.style(t[0],t[1])}else this.node.style[c(e)]=null===t||r.regex.isBlank.test(t)?"":t;return this}}),r.Parent=r.invent({create:function(e){this.constructor.call(this,e)},inherit:r.Element,extend:{children:function(){return r.utils.map(r.utils.filterSVGElements(this.node.childNodes),(function(e){return r.adopt(e)}))},add:function(e,t){return null==t?this.node.appendChild(e.node):e.node!=this.node.childNodes[t]&&this.node.insertBefore(e.node,this.node.childNodes[t]),this},put:function(e,t){return this.add(e,t),e},has:function(e){return this.index(e)>=0},index:function(e){return[].slice.call(this.node.childNodes).indexOf(e.node)},get:function(e){return r.adopt(this.node.childNodes[e])},first:function(){return this.get(0)},last:function(){return this.get(this.node.childNodes.length-1)},each:function(e,t){for(var n=this.children(),o=0,i=n.length;o<i;o++)n[o]instanceof r.Element&&e.apply(n[o],[o,n]),t&&n[o]instanceof r.Container&&n[o].each(e,t);return this},removeElement:function(e){return this.node.removeChild(e.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this},defs:function(){return this.doc().defs()}}}),r.extend(r.Parent,{ungroup:function(e,t){return 0===t||this instanceof r.Defs||this.node==r.parser.draw||(e=e||(this instanceof r.Doc?this:this.parent(r.Parent)),t=t||1/0,this.each((function(){return this instanceof r.Defs?this:this instanceof r.Parent?this.ungroup(e,t-1):this.toParent(e)})),this.node.firstChild||this.remove()),this},flatten:function(e,t){return this.ungroup(e,t)}}),r.Container=r.invent({create:function(e){this.constructor.call(this,e)},inherit:r.Parent}),r.ViewBox=r.invent({parent:r.Container,construct:{}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach((function(e){r.Element.prototype[e]=function(t){return r.on(this.node,e,t),this}})),r.listeners=[],r.handlerMap=[],r.listenerId=0,r.on=function(e,t,n,o,i){var a=n.bind(o||e.instance||e),s=(r.handlerMap.indexOf(e)+1||r.handlerMap.push(e))-1,l=t.split(".")[0],u=t.split(".")[1]||"*";r.listeners[s]=r.listeners[s]||{},r.listeners[s][l]=r.listeners[s][l]||{},r.listeners[s][l][u]=r.listeners[s][l][u]||{},n._svgjsListenerId||(n._svgjsListenerId=++r.listenerId),r.listeners[s][l][u][n._svgjsListenerId]=a,e.addEventListener(l,a,i||{passive:!0})},r.off=function(e,t,n){var o=r.handlerMap.indexOf(e),i=t&&t.split(".")[0],a=t&&t.split(".")[1],s="";if(-1!=o)if(n){if("function"==typeof n&&(n=n._svgjsListenerId),!n)return;r.listeners[o][i]&&r.listeners[o][i][a||"*"]&&(e.removeEventListener(i,r.listeners[o][i][a||"*"][n],!1),delete r.listeners[o][i][a||"*"][n])}else if(a&&i){if(r.listeners[o][i]&&r.listeners[o][i][a]){for(var l in r.listeners[o][i][a])r.off(e,[i,a].join("."),l);delete r.listeners[o][i][a]}}else if(a)for(var u in r.listeners[o])for(var s in r.listeners[o][u])a===s&&r.off(e,[u,a].join("."));else if(i){if(r.listeners[o][i]){for(var s in r.listeners[o][i])r.off(e,[i,s].join("."));delete r.listeners[o][i]}}else{for(var u in r.listeners[o])r.off(e,u);delete r.listeners[o],delete r.handlerMap[o]}},r.extend(r.Element,{on:function(e,t,n,o){return r.on(this.node,e,t,n,o),this},off:function(e,t){return r.off(this.node,e,t),this},fire:function(t,n){return t instanceof e.Event?this.node.dispatchEvent(t):this.node.dispatchEvent(t=new r.CustomEvent(t,{detail:n,cancelable:!0})),this._event=t,this},event:function(){return this._event}}),r.Defs=r.invent({create:"defs",inherit:r.Container}),r.G=r.invent({create:"g",inherit:r.Container,extend:{x:function(e){return null==e?this.transform("x"):this.transform({x:e-this.x()},!0)}},construct:{group:function(){return this.put(new r.G)}}}),r.Doc=r.invent({create:function(e){e&&("svg"==(e="string"==typeof e?t.getElementById(e):e).nodeName?this.constructor.call(this,e):(this.constructor.call(this,r.create("svg")),e.appendChild(this.node),this.size("100%","100%")),this.namespace().defs())},inherit:r.Container,extend:{namespace:function(){return this.attr({xmlns:r.ns,version:"1.1"}).attr("xmlns:xlink",r.xlink,r.xmlns).attr("xmlns:svgjs",r.svgjs,r.xmlns)},defs:function(){var e;return this._defs||((e=this.node.getElementsByTagName("defs")[0])?this._defs=r.adopt(e):this._defs=new r.Defs,this.node.appendChild(this._defs.node)),this._defs},parent:function(){return this.node.parentNode&&"#document"!=this.node.parentNode.nodeName?this.node.parentNode:null},remove:function(){return this.parent()&&this.parent().removeChild(this.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,r.parser.draw&&!r.parser.draw.parentNode&&this.node.appendChild(r.parser.draw),this},clone:function(e){this.writeDataToDom();var t=this.node,r=y(t.cloneNode(!0));return e?(e.node||e).appendChild(r.node):t.parentNode.insertBefore(r.node,t.nextSibling),r}}}),r.extend(r.Element,{}),r.Gradient=r.invent({create:function(e){this.constructor.call(this,r.create(e+"Gradient")),this.type=e},inherit:r.Container,extend:{at:function(e,t,n){return this.put(new r.Stop).update(e,t,n)},update:function(e){return this.clear(),"function"==typeof e&&e.call(this,this),this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()},attr:function(e,t,n){return"transform"==e&&(e="gradientTransform"),r.Container.prototype.attr.call(this,e,t,n)}},construct:{gradient:function(e,t){return this.defs().gradient(e,t)}}}),r.extend(r.Gradient,r.FX,{from:function(e,t){return"radial"==(this._target||this).type?this.attr({fx:new r.Number(e),fy:new r.Number(t)}):this.attr({x1:new r.Number(e),y1:new r.Number(t)})},to:function(e,t){return"radial"==(this._target||this).type?this.attr({cx:new r.Number(e),cy:new r.Number(t)}):this.attr({x2:new r.Number(e),y2:new r.Number(t)})}}),r.extend(r.Defs,{gradient:function(e,t){return this.put(new r.Gradient(e)).update(t)}}),r.Stop=r.invent({create:"stop",inherit:r.Element,extend:{update:function(e){return("number"==typeof e||e instanceof r.Number)&&(e={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),null!=e.opacity&&this.attr("stop-opacity",e.opacity),null!=e.color&&this.attr("stop-color",e.color),null!=e.offset&&this.attr("offset",new r.Number(e.offset)),this}}}),r.Pattern=r.invent({create:"pattern",inherit:r.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(e){return this.clear(),"function"==typeof e&&e.call(this,this),this},toString:function(){return this.fill()},attr:function(e,t,n){return"transform"==e&&(e="patternTransform"),r.Container.prototype.attr.call(this,e,t,n)}},construct:{pattern:function(e,t,r){return this.defs().pattern(e,t,r)}}}),r.extend(r.Defs,{pattern:function(e,t,n){return this.put(new r.Pattern).update(n).attr({x:0,y:0,width:e,height:t,patternUnits:"userSpaceOnUse"})}}),r.Shape=r.invent({create:function(e){this.constructor.call(this,e)},inherit:r.Element}),r.Symbol=r.invent({create:"symbol",inherit:r.Container,construct:{symbol:function(){return this.put(new r.Symbol)}}}),r.Use=r.invent({create:"use",inherit:r.Shape,extend:{element:function(e,t){return this.attr("href",(t||"")+"#"+e,r.xlink)}},construct:{use:function(e,t){return this.put(new r.Use).element(e,t)}}}),r.Rect=r.invent({create:"rect",inherit:r.Shape,construct:{rect:function(e,t){return this.put(new r.Rect).size(e,t)}}}),r.Circle=r.invent({create:"circle",inherit:r.Shape,construct:{circle:function(e){return this.put(new r.Circle).rx(new r.Number(e).divide(2)).move(0,0)}}}),r.extend(r.Circle,r.FX,{rx:function(e){return this.attr("r",e)},ry:function(e){return this.rx(e)}}),r.Ellipse=r.invent({create:"ellipse",inherit:r.Shape,construct:{ellipse:function(e,t){return this.put(new r.Ellipse).size(e,t).move(0,0)}}}),r.extend(r.Ellipse,r.Rect,r.FX,{rx:function(e){return this.attr("rx",e)},ry:function(e){return this.attr("ry",e)}}),r.extend(r.Circle,r.Ellipse,{x:function(e){return null==e?this.cx()-this.rx():this.cx(e+this.rx())},y:function(e){return null==e?this.cy()-this.ry():this.cy(e+this.ry())},cx:function(e){return null==e?this.attr("cx"):this.attr("cx",e)},cy:function(e){return null==e?this.attr("cy"):this.attr("cy",e)},width:function(e){return null==e?2*this.rx():this.rx(new r.Number(e).divide(2))},height:function(e){return null==e?2*this.ry():this.ry(new r.Number(e).divide(2))},size:function(e,t){var n=h(this,e,t);return this.rx(new r.Number(n.width).divide(2)).ry(new r.Number(n.height).divide(2))}}),r.Line=r.invent({create:"line",inherit:r.Shape,extend:{array:function(){return new r.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},plot:function(e,t,n,o){return null==e?this.array():(e=void 0!==t?{x1:e,y1:t,x2:n,y2:o}:new r.PointArray(e).toLine(),this.attr(e))},move:function(e,t){return this.attr(this.array().move(e,t).toLine())},size:function(e,t){var r=h(this,e,t);return this.attr(this.array().size(r.width,r.height).toLine())}},construct:{line:function(e,t,n,o){return r.Line.prototype.plot.apply(this.put(new r.Line),null!=e?[e,t,n,o]:[0,0,0,0])}}}),r.Polyline=r.invent({create:"polyline",inherit:r.Shape,construct:{polyline:function(e){return this.put(new r.Polyline).plot(e||new r.PointArray)}}}),r.Polygon=r.invent({create:"polygon",inherit:r.Shape,construct:{polygon:function(e){return this.put(new r.Polygon).plot(e||new r.PointArray)}}}),r.extend(r.Polyline,r.Polygon,{array:function(){return this._array||(this._array=new r.PointArray(this.attr("points")))},plot:function(e){return null==e?this.array():this.clear().attr("points","string"==typeof e?e:this._array=new r.PointArray(e))},clear:function(){return delete this._array,this},move:function(e,t){return this.attr("points",this.array().move(e,t))},size:function(e,t){var r=h(this,e,t);return this.attr("points",this.array().size(r.width,r.height))}}),r.extend(r.Line,r.Polyline,r.Polygon,{morphArray:r.PointArray,x:function(e){return null==e?this.bbox().x:this.move(e,this.bbox().y)},y:function(e){return null==e?this.bbox().y:this.move(this.bbox().x,e)},width:function(e){var t=this.bbox();return null==e?t.width:this.size(e,t.height)},height:function(e){var t=this.bbox();return null==e?t.height:this.size(t.width,e)}}),r.Path=r.invent({create:"path",inherit:r.Shape,extend:{morphArray:r.PathArray,array:function(){return this._array||(this._array=new r.PathArray(this.attr("d")))},plot:function(e){return null==e?this.array():this.clear().attr("d","string"==typeof e?e:this._array=new r.PathArray(e))},clear:function(){return delete this._array,this}},construct:{path:function(e){return this.put(new r.Path).plot(e||new r.PathArray)}}}),r.Image=r.invent({create:"image",inherit:r.Shape,extend:{load:function(t){if(!t)return this;var n=this,o=new e.Image;return r.on(o,"load",(function(){r.off(o);var e=n.parent(r.Pattern);null!==e&&(0==n.width()&&0==n.height()&&n.size(o.width,o.height),e&&0==e.width()&&0==e.height()&&e.size(n.width(),n.height()),"function"==typeof n._loaded&&n._loaded.call(n,{width:o.width,height:o.height,ratio:o.width/o.height,url:t}))})),r.on(o,"error",(function(e){r.off(o),"function"==typeof n._error&&n._error.call(n,e)})),this.attr("href",o.src=this.src=t,r.xlink)},loaded:function(e){return this._loaded=e,this},error:function(e){return this._error=e,this}},construct:{image:function(e,t,n){return this.put(new r.Image).load(e).size(t||0,n||t||0)}}}),r.Text=r.invent({create:function(){this.constructor.call(this,r.create("text")),this.dom.leading=new r.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",r.defaults.attrs["font-family"])},inherit:r.Shape,extend:{x:function(e){return null==e?this.attr("x"):this.attr("x",e)},text:function(e){if(void 0===e){e="";for(var t=this.node.childNodes,n=0,o=t.length;n<o;++n)0!=n&&3!=t[n].nodeType&&1==r.adopt(t[n]).dom.newLined&&(e+="\n"),e+=t[n].textContent;return e}if(this.clear().build(!0),"function"==typeof e)e.call(this,this);else{n=0;for(var i=(e=e.split("\n")).length;n<i;n++)this.tspan(e[n]).newLine()}return this.build(!1).rebuild()},size:function(e){return this.attr("font-size",e).rebuild()},leading:function(e){return null==e?this.dom.leading:(this.dom.leading=new r.Number(e),this.rebuild())},lines:function(){var e=(this.textPath&&this.textPath()||this).node,t=r.utils.map(r.utils.filterSVGElements(e.childNodes),(function(e){return r.adopt(e)}));return new r.Set(t)},rebuild:function(e){if("boolean"==typeof e&&(this._rebuild=e),this._rebuild){var t=this,n=0,o=this.dom.leading*new r.Number(this.attr("font-size"));this.lines().each((function(){this.dom.newLined&&(t.textPath()||this.attr("x",t.attr("x")),"\n"==this.text()?n+=o:(this.attr("dy",o+n),n=0))})),this.fire("rebuild")}return this},build:function(e){return this._build=!!e,this},setData:function(e){return this.dom=e,this.dom.leading=new r.Number(e.leading||1.3),this}},construct:{text:function(e){return this.put(new r.Text).text(e)},plain:function(e){return this.put(new r.Text).plain(e)}}}),r.Tspan=r.invent({create:"tspan",inherit:r.Shape,extend:{text:function(e){return null==e?this.node.textContent+(this.dom.newLined?"\n":""):("function"==typeof e?e.call(this,this):this.plain(e),this)},dx:function(e){return this.attr("dx",e)},dy:function(e){return this.attr("dy",e)},newLine:function(){var e=this.parent(r.Text);return this.dom.newLined=!0,this.dy(e.dom.leading*e.attr("font-size")).attr("x",e.x())}}}),r.extend(r.Text,r.Tspan,{plain:function(e){return!1===this._build&&this.clear(),this.node.appendChild(t.createTextNode(e)),this},tspan:function(e){var t=(this.textPath&&this.textPath()||this).node,n=new r.Tspan;return!1===this._build&&this.clear(),t.appendChild(n.node),n.text(e)},clear:function(){for(var e=(this.textPath&&this.textPath()||this).node;e.hasChildNodes();)e.removeChild(e.lastChild);return this},length:function(){return this.node.getComputedTextLength()}}),r.TextPath=r.invent({create:"textPath",inherit:r.Parent,parent:r.Text,construct:{morphArray:r.PathArray,array:function(){var e=this.track();return e?e.array():null},plot:function(e){var t=this.track(),r=null;return t&&(r=t.plot(e)),null==e?r:this},track:function(){var e=this.textPath();if(e)return e.reference("href")},textPath:function(){if(this.node.firstChild&&"textPath"==this.node.firstChild.nodeName)return r.adopt(this.node.firstChild)}}}),r.Nested=r.invent({create:function(){this.constructor.call(this,r.create("svg")),this.style("overflow","visible")},inherit:r.Container,construct:{nested:function(){return this.put(new r.Nested)}}});var l={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(e,t){return"color"==t?e:e+"-"+t}};function u(e,t,n,o){return n+o.replace(r.regex.dots," .")}function c(e){return e.toLowerCase().replace(/-(.)/g,(function(e,t){return t.toUpperCase()}))}function p(e){return e.charAt(0).toUpperCase()+e.slice(1)}function d(e){var t=e.toString(16);return 1==t.length?"0"+t:t}function h(e,t,r){if(null==t||null==r){var n=e.bbox();null==t?t=n.width/n.height*r:null==r&&(r=n.height/n.width*t)}return{width:t,height:r}}function f(e,t,r){return{x:t*e.a+r*e.c+0,y:t*e.b+r*e.d+0}}function g(e){return{a:e[0],b:e[1],c:e[2],d:e[3],e:e[4],f:e[5]}}function y(t){for(var n=t.childNodes.length-1;n>=0;n--)t.childNodes[n]instanceof e.SVGElement&&y(t.childNodes[n]);return r.adopt(t).id(r.eid(t.nodeName))}function v(e){return null==e.x&&(e.x=0,e.y=0,e.width=0,e.height=0),e.w=e.width,e.h=e.height,e.x2=e.x+e.width,e.y2=e.y+e.height,e.cx=e.x+e.width/2,e.cy=e.y+e.height/2,e}function m(e){return Math.abs(e)>1e-37?e:0}["fill","stroke"].forEach((function(e){var t={};t[e]=function(t){if(void 0===t)return this;if("string"==typeof t||r.Color.isRgb(t)||t&&"function"==typeof t.fill)this.attr(e,t);else for(var n=l[e].length-1;n>=0;n--)null!=t[l[e][n]]&&this.attr(l.prefix(e,l[e][n]),t[l[e][n]]);return this},r.extend(r.Element,r.FX,t)})),r.extend(r.Element,r.FX,{translate:function(e,t){return this.transform({x:e,y:t})},matrix:function(e){return this.attr("transform",new r.Matrix(6==arguments.length?[].slice.call(arguments):e))},opacity:function(e){return this.attr("opacity",e)},dx:function(e){return this.x(new r.Number(e).plus(this instanceof r.FX?0:this.x()),!0)},dy:function(e){return this.y(new r.Number(e).plus(this instanceof r.FX?0:this.y()),!0)}}),r.extend(r.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(e){return this.node.getPointAtLength(e)}}),r.Set=r.invent({create:function(e){Array.isArray(e)?this.members=e:this.clear()},extend:{add:function(){for(var e=[].slice.call(arguments),t=0,r=e.length;t<r;t++)this.members.push(e[t]);return this},remove:function(e){var t=this.index(e);return t>-1&&this.members.splice(t,1),this},each:function(e){for(var t=0,r=this.members.length;t<r;t++)e.apply(this.members[t],[t,this.members]);return this},clear:function(){return this.members=[],this},length:function(){return this.members.length},has:function(e){return this.index(e)>=0},index:function(e){return this.members.indexOf(e)},get:function(e){return this.members[e]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members}},construct:{set:function(e){return new r.Set(e)}}}),r.FX.Set=r.invent({create:function(e){this.set=e}}),r.Set.inherit=function(){var e=[];for(var t in r.Shape.prototype)"function"==typeof r.Shape.prototype[t]&&"function"!=typeof r.Set.prototype[t]&&e.push(t);for(var t in e.forEach((function(e){r.Set.prototype[e]=function(){for(var t=0,n=this.members.length;t<n;t++)this.members[t]&&"function"==typeof this.members[t][e]&&this.members[t][e].apply(this.members[t],arguments);return"animate"==e?this.fx||(this.fx=new r.FX.Set(this)):this}})),e=[],r.FX.prototype)"function"==typeof r.FX.prototype[t]&&"function"!=typeof r.FX.Set.prototype[t]&&e.push(t);e.forEach((function(e){r.FX.Set.prototype[e]=function(){for(var t=0,r=this.set.members.length;t<r;t++)this.set.members[t].fx[e].apply(this.set.members[t].fx,arguments);return this}}))},r.extend(r.Element,{}),r.extend(r.Element,{remember:function(e,t){if("object"===a(arguments[0]))for(var r in e)this.remember(r,e[r]);else{if(1==arguments.length)return this.memory()[e];this.memory()[e]=t}return this},forget:function(){if(0==arguments.length)this._memory={};else for(var e=arguments.length-1;e>=0;e--)delete this.memory()[arguments[e]];return this},memory:function(){return this._memory||(this._memory={})}}),r.get=function(e){var n=t.getElementById(function(e){var t=(e||"").toString().match(r.regex.reference);if(t)return t[1]}(e)||e);return r.adopt(n)},r.select=function(e,n){return new r.Set(r.utils.map((n||t).querySelectorAll(e),(function(e){return r.adopt(e)})))},r.extend(r.Parent,{select:function(e){return r.select(e,this.node)}});var b="abcdef".split("");if("function"!=typeof e.CustomEvent){var C=function(e,r){r=r||{bubbles:!1,cancelable:!1,detail:void 0};var n=t.createEvent("CustomEvent");return n.initCustomEvent(e,r.bubbles,r.cancelable,r.detail),n};C.prototype=e.Event.prototype,r.CustomEvent=C}else r.CustomEvent=e.CustomEvent;return r},void 0!==(n=function(){return Ne(ke,ke.document)}.call(t,r,t,e))&&(e.exports=n),function(){SVG.Filter=SVG.invent({create:"filter",inherit:SVG.Parent,extend:{source:"SourceGraphic",sourceAlpha:"SourceAlpha",background:"BackgroundImage",backgroundAlpha:"BackgroundAlpha",fill:"FillPaint",stroke:"StrokePaint",autoSetIn:!0,put:function(e,t){return this.add(e,t),!e.attr("in")&&this.autoSetIn&&e.attr("in",this.source),e.attr("result")||e.attr("result",e),e},blend:function(e,t,r){return this.put(new SVG.BlendEffect(e,t,r))},colorMatrix:function(e,t){return this.put(new SVG.ColorMatrixEffect(e,t))},convolveMatrix:function(e){return this.put(new SVG.ConvolveMatrixEffect(e))},componentTransfer:function(e){return this.put(new SVG.ComponentTransferEffect(e))},composite:function(e,t,r){return this.put(new SVG.CompositeEffect(e,t,r))},flood:function(e,t){return this.put(new SVG.FloodEffect(e,t))},offset:function(e,t){return this.put(new SVG.OffsetEffect(e,t))},image:function(e){return this.put(new SVG.ImageEffect(e))},merge:function(){var e=[void 0];for(var t in arguments)e.push(arguments[t]);return this.put(new(SVG.MergeEffect.bind.apply(SVG.MergeEffect,e)))},gaussianBlur:function(e,t){return this.put(new SVG.GaussianBlurEffect(e,t))},morphology:function(e,t){return this.put(new SVG.MorphologyEffect(e,t))},diffuseLighting:function(e,t,r){return this.put(new SVG.DiffuseLightingEffect(e,t,r))},displacementMap:function(e,t,r,n,o){return this.put(new SVG.DisplacementMapEffect(e,t,r,n,o))},specularLighting:function(e,t,r,n){return this.put(new SVG.SpecularLightingEffect(e,t,r,n))},tile:function(){return this.put(new SVG.TileEffect)},turbulence:function(e,t,r,n,o){return this.put(new SVG.TurbulenceEffect(e,t,r,n,o))},toString:function(){return"url(#"+this.attr("id")+")"}}}),SVG.extend(SVG.Defs,{filter:function(e){var t=this.put(new SVG.Filter);return"function"==typeof e&&e.call(t,t),t}}),SVG.extend(SVG.Container,{filter:function(e){return this.defs().filter(e)}}),SVG.extend(SVG.Element,SVG.G,SVG.Nested,{filter:function(e){return this.filterer=e instanceof SVG.Element?e:this.doc().filter(e),this.doc()&&this.filterer.doc()!==this.doc()&&this.doc().defs().add(this.filterer),this.attr("filter",this.filterer),this.filterer},unfilter:function(e){return this.filterer&&!0===e&&this.filterer.remove(),delete this.filterer,this.attr("filter",null)}}),SVG.Effect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(e){return null==e?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",e)},result:function(e){return null==e?this.attr("result"):this.attr("result",e)},toString:function(){return this.result()}}}),SVG.ParentEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Parent,extend:{in:function(e){return null==e?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",e)},result:function(e){return null==e?this.attr("result"):this.attr("result",e)},toString:function(){return this.result()}}});var e={blend:function(e,t){return this.parent()&&this.parent().blend(this,e,t)},colorMatrix:function(e,t){return this.parent()&&this.parent().colorMatrix(e,t).in(this)},convolveMatrix:function(e){return this.parent()&&this.parent().convolveMatrix(e).in(this)},componentTransfer:function(e){return this.parent()&&this.parent().componentTransfer(e).in(this)},composite:function(e,t){return this.parent()&&this.parent().composite(this,e,t)},flood:function(e,t){return this.parent()&&this.parent().flood(e,t)},offset:function(e,t){return this.parent()&&this.parent().offset(e,t).in(this)},image:function(e){return this.parent()&&this.parent().image(e)},merge:function(){return this.parent()&&this.parent().merge.apply(this.parent(),[this].concat(arguments))},gaussianBlur:function(e,t){return this.parent()&&this.parent().gaussianBlur(e,t).in(this)},morphology:function(e,t){return this.parent()&&this.parent().morphology(e,t).in(this)},diffuseLighting:function(e,t,r){return this.parent()&&this.parent().diffuseLighting(e,t,r).in(this)},displacementMap:function(e,t,r,n){return this.parent()&&this.parent().displacementMap(this,e,t,r,n)},specularLighting:function(e,t,r,n){return this.parent()&&this.parent().specularLighting(e,t,r,n).in(this)},tile:function(){return this.parent()&&this.parent().tile().in(this)},turbulence:function(e,t,r,n,o){return this.parent()&&this.parent().turbulence(e,t,r,n,o).in(this)}};SVG.extend(SVG.Effect,e),SVG.extend(SVG.ParentEffect,e),SVG.ChildEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(e){this.attr("in",e)}}});var t={blend:function(e,t,r){this.attr({in:e,in2:t,mode:r||"normal"})},colorMatrix:function(e,t){"matrix"==e&&(t=o(t)),this.attr({type:e,values:void 0===t?null:t})},convolveMatrix:function(e){e=o(e),this.attr({order:Math.sqrt(e.split(" ").length),kernelMatrix:e})},composite:function(e,t,r){this.attr({in:e,in2:t,operator:r})},flood:function(e,t){this.attr("flood-color",e),null!=t&&this.attr("flood-opacity",t)},offset:function(e,t){this.attr({dx:e,dy:t})},image:function(e){this.attr("href",e,SVG.xlink)},displacementMap:function(e,t,r,n,o){this.attr({in:e,in2:t,scale:r,xChannelSelector:n,yChannelSelector:o})},gaussianBlur:function(e,t){null!=e||null!=t?this.attr("stdDeviation",i(Array.prototype.slice.call(arguments))):this.attr("stdDeviation","0 0")},morphology:function(e,t){this.attr({operator:e,radius:t})},tile:function(){},turbulence:function(e,t,r,n,o){this.attr({numOctaves:t,seed:r,stitchTiles:n,baseFrequency:e,type:o})}},r={merge:function(){var e;if(arguments[0]instanceof SVG.Set){var t=this;arguments[0].each((function(e){this instanceof SVG.MergeNode?t.put(this):(this instanceof SVG.Effect||this instanceof SVG.ParentEffect)&&t.put(new SVG.MergeNode(this))}))}else{e=Array.isArray(arguments[0])?arguments[0]:arguments;for(var r=0;r<e.length;r++)e[r]instanceof SVG.MergeNode?this.put(e[r]):this.put(new SVG.MergeNode(e[r]))}},componentTransfer:function(e){if(this.rgb=new SVG.Set,["r","g","b","a"].forEach(function(e){this[e]=new(SVG["Func"+e.toUpperCase()])("identity"),this.rgb.add(this[e]),this.node.appendChild(this[e].node)}.bind(this)),e)for(var t in e.rgb&&(["r","g","b"].forEach(function(t){this[t].attr(e.rgb)}.bind(this)),delete e.rgb),e)this[t].attr(e[t])},diffuseLighting:function(e,t,r){this.attr({surfaceScale:e,diffuseConstant:t,kernelUnitLength:r})},specularLighting:function(e,t,r,n){this.attr({surfaceScale:e,diffuseConstant:t,specularExponent:r,kernelUnitLength:n})}},n={distantLight:function(e,t){this.attr({azimuth:e,elevation:t})},pointLight:function(e,t,r){this.attr({x:e,y:t,z:r})},spotLight:function(e,t,r,n,o,i){this.attr({x:e,y:t,z:r,pointsAtX:n,pointsAtY:o,pointsAtZ:i})},mergeNode:function(e){this.attr("in",e)}};function o(e){return Array.isArray(e)&&(e=new SVG.Array(e)),e.toString().replace(/^\s+/,"").replace(/\s+$/,"").replace(/\s+/g," ")}function i(e){if(!Array.isArray(e))return e;for(var t=0,r=e.length,n=[];t<r;t++)n.push(e[t]);return n.join(" ")}function a(){var e=function(){};for(var t in"function"==typeof arguments[arguments.length-1]&&(e=arguments[arguments.length-1],Array.prototype.splice.call(arguments,arguments.length-1,1)),arguments)for(var r in arguments[t])e(arguments[t][r],r,arguments[t])}["r","g","b","a"].forEach((function(e){n["Func"+e.toUpperCase()]=function(e){switch(this.attr("type",e),e){case"table":this.attr("tableValues",arguments[1]);break;case"linear":this.attr("slope",arguments[1]),this.attr("intercept",arguments[2]);break;case"gamma":this.attr("amplitude",arguments[1]),this.attr("exponent",arguments[2]),this.attr("offset",arguments[2])}}})),a(t,(function(e,t){var r=t.charAt(0).toUpperCase()+t.slice(1);SVG[r+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+r)),e.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.Effect,extend:{}})})),a(r,(function(e,t){var r=t.charAt(0).toUpperCase()+t.slice(1);SVG[r+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+r)),e.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.ParentEffect,extend:{}})})),a(n,(function(e,t){var r=t.charAt(0).toUpperCase()+t.slice(1);SVG[r]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+r)),e.apply(this,arguments)},inherit:SVG.ChildEffect,extend:{}})})),SVG.extend(SVG.MergeEffect,{in:function(e){return e instanceof SVG.MergeNode?this.add(e,0):this.add(new SVG.MergeNode(e),0),this}}),SVG.extend(SVG.CompositeEffect,SVG.BlendEffect,SVG.DisplacementMapEffect,{in2:function(e){return null==e?this.parent()&&this.parent().select('[result="'+this.attr("in2")+'"]').get(0)||this.attr("in2"):this.attr("in2",e)}}),SVG.filter={sepiatone:[.343,.669,.119,0,0,.249,.626,.13,0,0,.172,.334,.111,0,0,0,0,0,1,0]}}.call(void 0),function(){function e(e,o,i,a,s,l,u){for(var c=e.slice(o,i||u),p=a.slice(s,l||u),d=0,h={pos:[0,0],start:[0,0]},f={pos:[0,0],start:[0,0]};c[d]=t.call(h,c[d]),p[d]=t.call(f,p[d]),c[d][0]!=p[d][0]||"M"==c[d][0]||"A"==c[d][0]&&(c[d][4]!=p[d][4]||c[d][5]!=p[d][5])?(Array.prototype.splice.apply(c,[d,1].concat(n.call(h,c[d]))),Array.prototype.splice.apply(p,[d,1].concat(n.call(f,p[d])))):(c[d]=r.call(h,c[d]),p[d]=r.call(f,p[d])),++d!=c.length||d!=p.length;)d==c.length&&c.push(["C",h.pos[0],h.pos[1],h.pos[0],h.pos[1],h.pos[0],h.pos[1]]),d==p.length&&p.push(["C",f.pos[0],f.pos[1],f.pos[0],f.pos[1],f.pos[0],f.pos[1]]);return{start:c,dest:p}}function t(e){switch(e[0]){case"z":case"Z":e[0]="L",e[1]=this.start[0],e[2]=this.start[1];break;case"H":e[0]="L",e[2]=this.pos[1];break;case"V":e[0]="L",e[2]=e[1],e[1]=this.pos[0];break;case"T":e[0]="Q",e[3]=e[1],e[4]=e[2],e[1]=this.reflection[1],e[2]=this.reflection[0];break;case"S":e[0]="C",e[6]=e[4],e[5]=e[3],e[4]=e[2],e[3]=e[1],e[2]=this.reflection[1],e[1]=this.reflection[0]}return e}function r(e){var t=e.length;return this.pos=[e[t-2],e[t-1]],-1!="SCQT".indexOf(e[0])&&(this.reflection=[2*this.pos[0]-e[t-4],2*this.pos[1]-e[t-3]]),e}function n(e){var t=[e];switch(e[0]){case"M":return this.pos=this.start=[e[1],e[2]],t;case"L":e[5]=e[3]=e[1],e[6]=e[4]=e[2],e[1]=this.pos[0],e[2]=this.pos[1];break;case"Q":e[6]=e[4],e[5]=e[3],e[4]=1*e[4]/3+2*e[2]/3,e[3]=1*e[3]/3+2*e[1]/3,e[2]=1*this.pos[1]/3+2*e[2]/3,e[1]=1*this.pos[0]/3+2*e[1]/3;break;case"A":e=(t=function(e,t){var r,n,o,i,a,s,l,u,c,p,d,h,f,g,y,v,m,b,C,w,x,S,E,O,_,P,R=Math.abs(t[1]),A=Math.abs(t[2]),T=t[3]%360,D=t[4],M=t[5],k=t[6],N=t[7],I=new SVG.Point(e),L=new SVG.Point(k,N),F=[];if(0===R||0===A||I.x===L.x&&I.y===L.y)return[["C",I.x,I.y,L.x,L.y,L.x,L.y]];for((n=(r=new SVG.Point((I.x-L.x)/2,(I.y-L.y)/2).transform((new SVG.Matrix).rotate(T))).x*r.x/(R*R)+r.y*r.y/(A*A))>1&&(R*=n=Math.sqrt(n),A*=n),o=(new SVG.Matrix).rotate(T).scale(1/R,1/A).rotate(-T),I=I.transform(o),s=(i=[(L=L.transform(o)).x-I.x,L.y-I.y])[0]*i[0]+i[1]*i[1],a=Math.sqrt(s),i[0]/=a,i[1]/=a,l=s<4?Math.sqrt(1-s/4):0,D===M&&(l*=-1),u=new SVG.Point((L.x+I.x)/2+l*-i[1],(L.y+I.y)/2+l*i[0]),c=new SVG.Point(I.x-u.x,I.y-u.y),p=new SVG.Point(L.x-u.x,L.y-u.y),d=Math.acos(c.x/Math.sqrt(c.x*c.x+c.y*c.y)),c.y<0&&(d*=-1),h=Math.acos(p.x/Math.sqrt(p.x*p.x+p.y*p.y)),p.y<0&&(h*=-1),M&&d>h&&(h+=2*Math.PI),!M&&d<h&&(h-=2*Math.PI),v=[],m=d,f=(h-d)/(g=Math.ceil(2*Math.abs(d-h)/Math.PI)),y=4*Math.tan(f/4)/3,x=0;x<=g;x++)C=Math.cos(m),b=Math.sin(m),w=new SVG.Point(u.x+C,u.y+b),v[x]=[new SVG.Point(w.x+y*b,w.y-y*C),w,new SVG.Point(w.x-y*b,w.y+y*C)],m+=f;for(v[0][0]=v[0][1].clone(),v[v.length-1][2]=v[v.length-1][1].clone(),o=(new SVG.Matrix).rotate(T).scale(R,A).rotate(-T),x=0,S=v.length;x<S;x++)v[x][0]=v[x][0].transform(o),v[x][1]=v[x][1].transform(o),v[x][2]=v[x][2].transform(o);for(x=1,S=v.length;x<S;x++)E=(w=v[x-1][2]).x,O=w.y,_=(w=v[x][0]).x,P=w.y,k=(w=v[x][1]).x,N=w.y,F.push(["C",E,O,_,P,k,N]);return F}(this.pos,e))[0]}return e[0]="C",this.pos=[e[5],e[6]],this.reflection=[2*e[5]-e[3],2*e[6]-e[4]],t}function o(e,t){if(!1===t)return!1;for(var r=t,n=e.length;r<n;++r)if("M"==e[r][0])return r;return!1}SVG.extend(SVG.PathArray,{morph:function(t){for(var r=this.value,n=this.parse(t),i=0,a=0,s=!1,l=!1;!1!==i||!1!==a;){var u;s=o(r,!1!==i&&i+1),l=o(n,!1!==a&&a+1),!1===i&&(i=0==(u=new SVG.PathArray(c.start).bbox()).height||0==u.width?r.push(r[0])-1:r.push(["M",u.x+u.width/2,u.y+u.height/2])-1),!1===a&&(a=0==(u=new SVG.PathArray(c.dest).bbox()).height||0==u.width?n.push(n[0])-1:n.push(["M",u.x+u.width/2,u.y+u.height/2])-1);var c=e(r,i,s,n,a,l);r=r.slice(0,i).concat(c.start,!1===s?[]:r.slice(s)),n=n.slice(0,a).concat(c.dest,!1===l?[]:n.slice(l)),i=!1!==s&&i+c.start.length,a=!1!==l&&a+c.dest.length}return this.value=r,this.destination=new SVG.PathArray,this.destination.value=n,this}})}(),function(){function e(e){e.remember("_draggable",this),this.el=e}e.prototype.init=function(e,t){var r=this;this.constraint=e,this.value=t,this.el.on("mousedown.drag",(function(e){r.start(e)})),this.el.on("touchstart.drag",(function(e){r.start(e)}))},e.prototype.transformPoint=function(e,t){var r=(e=e||window.event).changedTouches&&e.changedTouches[0]||e;return this.p.x=r.clientX-(t||0),this.p.y=r.clientY,this.p.matrixTransform(this.m)},e.prototype.getBBox=function(){var e=this.el.bbox();return this.el instanceof SVG.Nested&&(e=this.el.rbox()),(this.el instanceof SVG.G||this.el instanceof SVG.Use||this.el instanceof SVG.Nested)&&(e.x=this.el.x(),e.y=this.el.y()),e},e.prototype.start=function(e){if("click"!=e.type&&"mousedown"!=e.type&&"mousemove"!=e.type||1==(e.which||e.buttons)){var t=this;if(this.el.fire("beforedrag",{event:e,handler:this}),!this.el.event().defaultPrevented){e.preventDefault(),e.stopPropagation(),this.parent=this.parent||this.el.parent(SVG.Nested)||this.el.parent(SVG.Doc),this.p=this.parent.node.createSVGPoint(),this.m=this.el.node.getScreenCTM().inverse();var r,n=this.getBBox();if(this.el instanceof SVG.Text)switch(r=this.el.node.getComputedTextLength(),this.el.attr("text-anchor")){case"middle":r/=2;break;case"start":r=0}this.startPoints={point:this.transformPoint(e,r),box:n,transform:this.el.transform()},SVG.on(window,"mousemove.drag",(function(e){t.drag(e)})),SVG.on(window,"touchmove.drag",(function(e){t.drag(e)})),SVG.on(window,"mouseup.drag",(function(e){t.end(e)})),SVG.on(window,"touchend.drag",(function(e){t.end(e)})),this.el.fire("dragstart",{event:e,p:this.startPoints.point,m:this.m,handler:this})}}},e.prototype.drag=function(e){var t=this.getBBox(),r=this.transformPoint(e),n=this.startPoints.box.x+r.x-this.startPoints.point.x,o=this.startPoints.box.y+r.y-this.startPoints.point.y,i=this.constraint,a=r.x-this.startPoints.point.x,s=r.y-this.startPoints.point.y;if(this.el.fire("dragmove",{event:e,p:r,m:this.m,handler:this}),this.el.event().defaultPrevented)return r;if("function"==typeof i){var l=i.call(this.el,n,o,this.m);"boolean"==typeof l&&(l={x:l,y:l}),!0===l.x?this.el.x(n):!1!==l.x&&this.el.x(l.x),!0===l.y?this.el.y(o):!1!==l.y&&this.el.y(l.y)}else"object"==typeof i&&(null!=i.minX&&n<i.minX?a=(n=i.minX)-this.startPoints.box.x:null!=i.maxX&&n>i.maxX-t.width&&(a=(n=i.maxX-t.width)-this.startPoints.box.x),null!=i.minY&&o<i.minY?s=(o=i.minY)-this.startPoints.box.y:null!=i.maxY&&o>i.maxY-t.height&&(s=(o=i.maxY-t.height)-this.startPoints.box.y),null!=i.snapToGrid&&(n-=n%i.snapToGrid,o-=o%i.snapToGrid,a-=a%i.snapToGrid,s-=s%i.snapToGrid),this.el instanceof SVG.G?this.el.matrix(this.startPoints.transform).transform({x:a,y:s},!0):this.el.move(n,o));return r},e.prototype.end=function(e){var t=this.drag(e);this.el.fire("dragend",{event:e,p:t,m:this.m,handler:this}),SVG.off(window,"mousemove.drag"),SVG.off(window,"touchmove.drag"),SVG.off(window,"mouseup.drag"),SVG.off(window,"touchend.drag")},SVG.extend(SVG.Element,{draggable:function(t,r){"function"!=typeof t&&"object"!=typeof t||(r=t,t=!0);var n=this.remember("_draggable")||new e(this);return(t=void 0===t||t)?n.init(r||{},t):(this.off("mousedown.drag"),this.off("touchstart.drag")),this}})}.call(void 0),function(){function e(e){this.el=e,e.remember("_selectHandler",this),this.pointSelection={isSelected:!1},this.rectSelection={isSelected:!1},this.pointsList={lt:[0,0],rt:["width",0],rb:["width","height"],lb:[0,"height"],t:["width",0],r:["width","height"],b:["width","height"],l:[0,"height"]},this.pointCoord=function(e,t,r){var n="string"!=typeof e?e:t[e];return r?n/2:n},this.pointCoords=function(e,t){var r=this.pointsList[e];return{x:this.pointCoord(r[0],t,"t"===e||"b"===e),y:this.pointCoord(r[1],t,"r"===e||"l"===e)}}}e.prototype.init=function(e,t){var r=this.el.bbox();this.options={};var n=this.el.selectize.defaults.points;for(var o in this.el.selectize.defaults)this.options[o]=this.el.selectize.defaults[o],void 0!==t[o]&&(this.options[o]=t[o]);var i=["points","pointsExclude"];for(var o in i){var a=this.options[i[o]];"string"==typeof a?a=a.length>0?a.split(/\s*,\s*/i):[]:"boolean"==typeof a&&"points"===i[o]&&(a=a?n:[]),this.options[i[o]]=a}this.options.points=[n,this.options.points].reduce((function(e,t){return e.filter((function(e){return t.indexOf(e)>-1}))})),this.options.points=[this.options.points,this.options.pointsExclude].reduce((function(e,t){return e.filter((function(e){return t.indexOf(e)<0}))})),this.parent=this.el.parent(),this.nested=this.nested||this.parent.group(),this.nested.matrix(new SVG.Matrix(this.el).translate(r.x,r.y)),this.options.deepSelect&&-1!==["line","polyline","polygon"].indexOf(this.el.type)?this.selectPoints(e):this.selectRect(e),this.observe(),this.cleanup()},e.prototype.selectPoints=function(e){return this.pointSelection.isSelected=e,this.pointSelection.set||(this.pointSelection.set=this.parent.set(),this.drawPoints()),this},e.prototype.getPointArray=function(){var e=this.el.bbox();return this.el.array().valueOf().map((function(t){return[t[0]-e.x,t[1]-e.y]}))},e.prototype.drawPoints=function(){for(var e=this,t=this.getPointArray(),r=0,n=t.length;r<n;++r){var o=function(t){return function(r){(r=r||window.event).preventDefault?r.preventDefault():r.returnValue=!1,r.stopPropagation();var n=r.pageX||r.touches[0].pageX,o=r.pageY||r.touches[0].pageY;e.el.fire("point",{x:n,y:o,i:t,event:r})}}(r),i=this.drawPoint(t[r][0],t[r][1]).addClass(this.options.classPoints).addClass(this.options.classPoints+"_point").on("touchstart",o).on("mousedown",o);this.pointSelection.set.add(i)}},e.prototype.drawPoint=function(e,t){var r=this.options.pointType;switch(r){case"circle":return this.drawCircle(e,t);case"rect":return this.drawRect(e,t);default:if("function"==typeof r)return r.call(this,e,t);throw new Error("Unknown "+r+" point type!")}},e.prototype.drawCircle=function(e,t){return this.nested.circle(this.options.pointSize).center(e,t)},e.prototype.drawRect=function(e,t){return this.nested.rect(this.options.pointSize,this.options.pointSize).center(e,t)},e.prototype.updatePointSelection=function(){var e=this.getPointArray();this.pointSelection.set.each((function(t){this.cx()===e[t][0]&&this.cy()===e[t][1]||this.center(e[t][0],e[t][1])}))},e.prototype.updateRectSelection=function(){var e=this,t=this.el.bbox();if(this.rectSelection.set.get(0).attr({width:t.width,height:t.height}),this.options.points.length&&this.options.points.map((function(r,n){var o=e.pointCoords(r,t);e.rectSelection.set.get(n+1).center(o.x,o.y)})),this.options.rotationPoint){var r=this.rectSelection.set.length();this.rectSelection.set.get(r-1).center(t.width/2,20)}},e.prototype.selectRect=function(e){var t=this,r=this.el.bbox();function n(e){return function(r){(r=r||window.event).preventDefault?r.preventDefault():r.returnValue=!1,r.stopPropagation();var n=r.pageX||r.touches[0].pageX,o=r.pageY||r.touches[0].pageY;t.el.fire(e,{x:n,y:o,event:r})}}if(this.rectSelection.isSelected=e,this.rectSelection.set=this.rectSelection.set||this.parent.set(),this.rectSelection.set.get(0)||this.rectSelection.set.add(this.nested.rect(r.width,r.height).addClass(this.options.classRect)),this.options.points.length&&this.rectSelection.set.length()<2&&(this.options.points.map((function(e,o){var i=t.pointCoords(e,r),a=t.drawPoint(i.x,i.y).attr("class",t.options.classPoints+"_"+e).on("mousedown",n(e)).on("touchstart",n(e));t.rectSelection.set.add(a)})),this.rectSelection.set.each((function(){this.addClass(t.options.classPoints)}))),this.options.rotationPoint&&(this.options.points&&!this.rectSelection.set.get(9)||!this.options.points&&!this.rectSelection.set.get(1))){var o=function(e){(e=e||window.event).preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation();var r=e.pageX||e.touches[0].pageX,n=e.pageY||e.touches[0].pageY;t.el.fire("rot",{x:r,y:n,event:e})},i=this.drawPoint(r.width/2,20).attr("class",this.options.classPoints+"_rot").on("touchstart",o).on("mousedown",o);this.rectSelection.set.add(i)}},e.prototype.handler=function(){var e=this.el.bbox();this.nested.matrix(new SVG.Matrix(this.el).translate(e.x,e.y)),this.rectSelection.isSelected&&this.updateRectSelection(),this.pointSelection.isSelected&&this.updatePointSelection()},e.prototype.observe=function(){var e=this;if(MutationObserver)if(this.rectSelection.isSelected||this.pointSelection.isSelected)this.observerInst=this.observerInst||new MutationObserver((function(){e.handler()})),this.observerInst.observe(this.el.node,{attributes:!0});else try{this.observerInst.disconnect(),delete this.observerInst}catch(e){}else this.el.off("DOMAttrModified.select"),(this.rectSelection.isSelected||this.pointSelection.isSelected)&&this.el.on("DOMAttrModified.select",(function(){e.handler()}))},e.prototype.cleanup=function(){!this.rectSelection.isSelected&&this.rectSelection.set&&(this.rectSelection.set.each((function(){this.remove()})),this.rectSelection.set.clear(),delete this.rectSelection.set),!this.pointSelection.isSelected&&this.pointSelection.set&&(this.pointSelection.set.each((function(){this.remove()})),this.pointSelection.set.clear(),delete this.pointSelection.set),this.pointSelection.isSelected||this.rectSelection.isSelected||(this.nested.remove(),delete this.nested)},SVG.extend(SVG.Element,{selectize:function(t,r){return"object"==typeof t&&(r=t,t=!0),(this.remember("_selectHandler")||new e(this)).init(void 0===t||t,r||{}),this}}),SVG.Element.prototype.selectize.defaults={points:["lt","rt","rb","lb","t","r","b","l"],pointsExclude:[],classRect:"svg_select_boundingRect",classPoints:"svg_select_points",pointSize:7,rotationPoint:!0,deepSelect:!1,pointType:"circle"}}(),function(){(function(){function e(e){e.remember("_resizeHandler",this),this.el=e,this.parameters={},this.lastUpdateCall=null,this.p=e.doc().node.createSVGPoint()}e.prototype.transformPoint=function(e,t,r){return this.p.x=e-(this.offset.x-window.pageXOffset),this.p.y=t-(this.offset.y-window.pageYOffset),this.p.matrixTransform(r||this.m)},e.prototype._extractPosition=function(e){return{x:null!=e.clientX?e.clientX:e.touches[0].clientX,y:null!=e.clientY?e.clientY:e.touches[0].clientY}},e.prototype.init=function(e){var t=this;if(this.stop(),"stop"!==e){for(var r in this.options={},this.el.resize.defaults)this.options[r]=this.el.resize.defaults[r],void 0!==e[r]&&(this.options[r]=e[r]);this.el.on("lt.resize",(function(e){t.resize(e||window.event)})),this.el.on("rt.resize",(function(e){t.resize(e||window.event)})),this.el.on("rb.resize",(function(e){t.resize(e||window.event)})),this.el.on("lb.resize",(function(e){t.resize(e||window.event)})),this.el.on("t.resize",(function(e){t.resize(e||window.event)})),this.el.on("r.resize",(function(e){t.resize(e||window.event)})),this.el.on("b.resize",(function(e){t.resize(e||window.event)})),this.el.on("l.resize",(function(e){t.resize(e||window.event)})),this.el.on("rot.resize",(function(e){t.resize(e||window.event)})),this.el.on("point.resize",(function(e){t.resize(e||window.event)})),this.update()}},e.prototype.stop=function(){return this.el.off("lt.resize"),this.el.off("rt.resize"),this.el.off("rb.resize"),this.el.off("lb.resize"),this.el.off("t.resize"),this.el.off("r.resize"),this.el.off("b.resize"),this.el.off("l.resize"),this.el.off("rot.resize"),this.el.off("point.resize"),this},e.prototype.resize=function(e){var t=this;this.m=this.el.node.getScreenCTM().inverse(),this.offset={x:window.pageXOffset,y:window.pageYOffset};var r=this._extractPosition(e.detail.event);if(this.parameters={type:this.el.type,p:this.transformPoint(r.x,r.y),x:e.detail.x,y:e.detail.y,box:this.el.bbox(),rotation:this.el.transform().rotation},"text"===this.el.type&&(this.parameters.fontSize=this.el.attr()["font-size"]),void 0!==e.detail.i){var n=this.el.array().valueOf();this.parameters.i=e.detail.i,this.parameters.pointCoords=[n[e.detail.i][0],n[e.detail.i][1]]}switch(e.type){case"lt":this.calc=function(e,t){var r=this.snapToGrid(e,t);if(this.parameters.box.width-r[0]>0&&this.parameters.box.height-r[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x+r[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-r[0]);r=this.checkAspectRatio(r),this.el.move(this.parameters.box.x+r[0],this.parameters.box.y+r[1]).size(this.parameters.box.width-r[0],this.parameters.box.height-r[1])}};break;case"rt":this.calc=function(e,t){var r=this.snapToGrid(e,t,2);if(this.parameters.box.width+r[0]>0&&this.parameters.box.height-r[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x-r[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+r[0]);r=this.checkAspectRatio(r,!0),this.el.move(this.parameters.box.x,this.parameters.box.y+r[1]).size(this.parameters.box.width+r[0],this.parameters.box.height-r[1])}};break;case"rb":this.calc=function(e,t){var r=this.snapToGrid(e,t,0);if(this.parameters.box.width+r[0]>0&&this.parameters.box.height+r[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x-r[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+r[0]);r=this.checkAspectRatio(r),this.el.move(this.parameters.box.x,this.parameters.box.y).size(this.parameters.box.width+r[0],this.parameters.box.height+r[1])}};break;case"lb":this.calc=function(e,t){var r=this.snapToGrid(e,t,1);if(this.parameters.box.width-r[0]>0&&this.parameters.box.height+r[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x+r[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-r[0]);r=this.checkAspectRatio(r,!0),this.el.move(this.parameters.box.x+r[0],this.parameters.box.y).size(this.parameters.box.width-r[0],this.parameters.box.height+r[1])}};break;case"t":this.calc=function(e,t){var r=this.snapToGrid(e,t,2);if(this.parameters.box.height-r[1]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y+r[1]).height(this.parameters.box.height-r[1])}};break;case"r":this.calc=function(e,t){var r=this.snapToGrid(e,t,0);if(this.parameters.box.width+r[0]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y).width(this.parameters.box.width+r[0])}};break;case"b":this.calc=function(e,t){var r=this.snapToGrid(e,t,0);if(this.parameters.box.height+r[1]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y).height(this.parameters.box.height+r[1])}};break;case"l":this.calc=function(e,t){var r=this.snapToGrid(e,t,1);if(this.parameters.box.width-r[0]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x+r[0],this.parameters.box.y).width(this.parameters.box.width-r[0])}};break;case"rot":this.calc=function(e,t){var r=e+this.parameters.p.x,n=t+this.parameters.p.y,o=Math.atan2(this.parameters.p.y-this.parameters.box.y-this.parameters.box.height/2,this.parameters.p.x-this.parameters.box.x-this.parameters.box.width/2),i=Math.atan2(n-this.parameters.box.y-this.parameters.box.height/2,r-this.parameters.box.x-this.parameters.box.width/2),a=this.parameters.rotation+180*(i-o)/Math.PI+this.options.snapToAngle/2;this.el.center(this.parameters.box.cx,this.parameters.box.cy).rotate(a-a%this.options.snapToAngle,this.parameters.box.cx,this.parameters.box.cy)};break;case"point":this.calc=function(e,t){var r=this.snapToGrid(e,t,this.parameters.pointCoords[0],this.parameters.pointCoords[1]),n=this.el.array().valueOf();n[this.parameters.i][0]=this.parameters.pointCoords[0]+r[0],n[this.parameters.i][1]=this.parameters.pointCoords[1]+r[1],this.el.plot(n)}}this.el.fire("resizestart",{dx:this.parameters.x,dy:this.parameters.y,event:e}),SVG.on(window,"touchmove.resize",(function(e){t.update(e||window.event)})),SVG.on(window,"touchend.resize",(function(){t.done()})),SVG.on(window,"mousemove.resize",(function(e){t.update(e||window.event)})),SVG.on(window,"mouseup.resize",(function(){t.done()}))},e.prototype.update=function(e){if(e){var t=this._extractPosition(e),r=this.transformPoint(t.x,t.y),n=r.x-this.parameters.p.x,o=r.y-this.parameters.p.y;this.lastUpdateCall=[n,o],this.calc(n,o),this.el.fire("resizing",{dx:n,dy:o,event:e})}else this.lastUpdateCall&&this.calc(this.lastUpdateCall[0],this.lastUpdateCall[1])},e.prototype.done=function(){this.lastUpdateCall=null,SVG.off(window,"mousemove.resize"),SVG.off(window,"mouseup.resize"),SVG.off(window,"touchmove.resize"),SVG.off(window,"touchend.resize"),this.el.fire("resizedone")},e.prototype.snapToGrid=function(e,t,r,n){var o;return void 0!==n?o=[(r+e)%this.options.snapToGrid,(n+t)%this.options.snapToGrid]:(r=null==r?3:r,o=[(this.parameters.box.x+e+(1&r?0:this.parameters.box.width))%this.options.snapToGrid,(this.parameters.box.y+t+(2&r?0:this.parameters.box.height))%this.options.snapToGrid]),e<0&&(o[0]-=this.options.snapToGrid),t<0&&(o[1]-=this.options.snapToGrid),e-=Math.abs(o[0])<this.options.snapToGrid/2?o[0]:o[0]-(e<0?-this.options.snapToGrid:this.options.snapToGrid),t-=Math.abs(o[1])<this.options.snapToGrid/2?o[1]:o[1]-(t<0?-this.options.snapToGrid:this.options.snapToGrid),this.constraintToBox(e,t,r,n)},e.prototype.constraintToBox=function(e,t,r,n){var o,i,a=this.options.constraint||{};return void 0!==n?(o=r,i=n):(o=this.parameters.box.x+(1&r?0:this.parameters.box.width),i=this.parameters.box.y+(2&r?0:this.parameters.box.height)),void 0!==a.minX&&o+e<a.minX&&(e=a.minX-o),void 0!==a.maxX&&o+e>a.maxX&&(e=a.maxX-o),void 0!==a.minY&&i+t<a.minY&&(t=a.minY-i),void 0!==a.maxY&&i+t>a.maxY&&(t=a.maxY-i),[e,t]},e.prototype.checkAspectRatio=function(e,t){if(!this.options.saveAspectRatio)return e;var r=e.slice(),n=this.parameters.box.width/this.parameters.box.height,o=this.parameters.box.width+e[0],i=this.parameters.box.height-e[1],a=o/i;return a<n?(r[1]=o/n-this.parameters.box.height,t&&(r[1]=-r[1])):a>n&&(r[0]=this.parameters.box.width-i*n,t&&(r[0]=-r[0])),r},SVG.extend(SVG.Element,{resize:function(t){return(this.remember("_resizeHandler")||new e(this)).init(t||{}),this}}),SVG.Element.prototype.resize.defaults={snapToAngle:.1,snapToGrid:1,constraint:{},saveAspectRatio:!1}}).call(this)}(),void 0===window.Apex&&(window.Apex={});var Be=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w}return u(e,[{key:"initModules",value:function(){this.ctx.publicMethods=["updateOptions","updateSeries","appendData","appendSeries","toggleSeries","showSeries","hideSeries","setLocale","resetSeries","zoomX","toggleDataPointSelection","dataURI","addXaxisAnnotation","addYaxisAnnotation","addPointAnnotation","clearAnnotations","removeAnnotation","paper","destroy"],this.ctx.eventList=["click","mousedown","mousemove","mouseleave","touchstart","touchmove","touchleave","mouseup","touchend"],this.ctx.animations=new C(this.ctx),this.ctx.axes=new re(this.ctx),this.ctx.core=new Fe(this.ctx.el,this.ctx),this.ctx.config=new j({}),this.ctx.data=new U(this.ctx),this.ctx.grid=new $(this.ctx),this.ctx.graphics=new x(this.ctx),this.ctx.coreUtils=new S(this.ctx),this.ctx.crosshairs=new ne(this.ctx),this.ctx.events=new ee(this.ctx),this.ctx.exports=new K(this.ctx),this.ctx.localization=new te(this.ctx),this.ctx.options=new A,this.ctx.responsive=new oe(this.ctx),this.ctx.series=new L(this.ctx),this.ctx.theme=new ie(this.ctx),this.ctx.formatters=new Y(this.ctx),this.ctx.titleSubtitle=new ae(this.ctx),this.ctx.legend=new he(this.ctx),this.ctx.toolbar=new fe(this.ctx),this.ctx.dimensions=new pe(this.ctx),this.ctx.updateHelpers=new Ge(this.ctx),this.ctx.zoomPanSelection=new ge(this.ctx),this.ctx.w.globals.tooltip=new xe(this.ctx)}}]),e}(),We=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w}return u(e,[{key:"clear",value:function(e){var t=e.isUpdating;this.ctx.zoomPanSelection&&this.ctx.zoomPanSelection.destroy(),this.ctx.toolbar&&this.ctx.toolbar.destroy(),this.ctx.animations=null,this.ctx.axes=null,this.ctx.annotations=null,this.ctx.core=null,this.ctx.data=null,this.ctx.grid=null,this.ctx.series=null,this.ctx.responsive=null,this.ctx.theme=null,this.ctx.formatters=null,this.ctx.titleSubtitle=null,this.ctx.legend=null,this.ctx.dimensions=null,this.ctx.options=null,this.ctx.crosshairs=null,this.ctx.zoomPanSelection=null,this.ctx.updateHelpers=null,this.ctx.toolbar=null,this.ctx.localization=null,this.ctx.w.globals.tooltip=null,this.clearDomElements({isUpdating:t})}},{key:"killSVG",value:function(e){e.each((function(e,t){this.removeClass("*"),this.off(),this.stop()}),!0),e.ungroup(),e.clear()}},{key:"clearDomElements",value:function(e){var t=this,r=e.isUpdating,n=this.w.globals.dom.Paper.node;n.parentNode&&n.parentNode.parentNode&&!r&&(n.parentNode.parentNode.style.minHeight="unset");var o=this.w.globals.dom.baseEl;o&&this.ctx.eventList.forEach((function(e){o.removeEventListener(e,t.ctx.events.documentEvent)}));var i=this.w.globals.dom;if(null!==this.ctx.el)for(;this.ctx.el.firstChild;)this.ctx.el.removeChild(this.ctx.el.firstChild);this.killSVG(i.Paper),i.Paper.remove(),i.elWrap=null,i.elGraphical=null,i.elAnnotations=null,i.elLegendWrap=null,i.baseEl=null,i.elGridRect=null,i.elGridRectMask=null,i.elGridRectMarkerMask=null,i.elForecastMask=null,i.elNonForecastMask=null,i.elDefs=null}}]),e}(),He=new WeakMap,je=function(){function e(t,r){s(this,e),this.opts=r,this.ctx=this,this.w=new z(r).init(),this.el=t,this.w.globals.cuid=b.randomId(),this.w.globals.chartID=this.w.config.chart.id?b.escapeString(this.w.config.chart.id):this.w.globals.cuid,new Be(this).initModules(),this.create=b.bind(this.create,this),this.windowResizeHandler=this._windowResizeHandler.bind(this),this.parentResizeHandler=this._parentResizeCallback.bind(this)}return u(e,[{key:"render",value:function(){var e=this;return new Promise((function(t,r){if(null!==e.el){void 0===Apex._chartInstances&&(Apex._chartInstances=[]),e.w.config.chart.id&&Apex._chartInstances.push({id:e.w.globals.chartID,group:e.w.config.chart.group,chart:e}),e.setLocale(e.w.config.chart.defaultLocale);var n=e.w.config.chart.events.beforeMount;if("function"==typeof n&&n(e,e.w),e.events.fireEvent("beforeMount",[e,e.w]),window.addEventListener("resize",e.windowResizeHandler),function(e,t){var r=!1,n=e.getBoundingClientRect();"none"!==e.style.display&&0!==n.width||(r=!0);var o=new ResizeObserver((function(n){r&&t.call(e,n),r=!0}));e.nodeType===Node.DOCUMENT_FRAGMENT_NODE?Array.from(e.children).forEach((function(e){return o.observe(e)})):o.observe(e),He.set(t,o)}(e.el.parentNode,e.parentResizeHandler),!e.css){var o=e.el.getRootNode&&e.el.getRootNode(),i=b.is("ShadowRoot",o),a=e.el.ownerDocument,s=a.getElementById("apexcharts-css");!i&&s||(e.css=document.createElement("style"),e.css.id="apexcharts-css",e.css.textContent='.apexcharts-canvas {\n  position: relative;\n  user-select: none;\n  /* cannot give overflow: hidden as it will crop tooltips which overflow outside chart area */\n}\n\n\n/* scrollbar is not visible by default for legend, hence forcing the visibility */\n.apexcharts-canvas ::-webkit-scrollbar {\n  -webkit-appearance: none;\n  width: 6px;\n}\n\n.apexcharts-canvas ::-webkit-scrollbar-thumb {\n  border-radius: 4px;\n  background-color: rgba(0, 0, 0, .5);\n  box-shadow: 0 0 1px rgba(255, 255, 255, .5);\n  -webkit-box-shadow: 0 0 1px rgba(255, 255, 255, .5);\n}\n\n\n.apexcharts-inner {\n  position: relative;\n}\n\n.apexcharts-text tspan {\n  font-family: inherit;\n}\n\n.legend-mouseover-inactive {\n  transition: 0.15s ease all;\n  opacity: 0.20;\n}\n\n.apexcharts-series-collapsed {\n  opacity: 0;\n}\n\n.apexcharts-tooltip {\n  border-radius: 5px;\n  box-shadow: 2px 2px 6px -4px #999;\n  cursor: default;\n  font-size: 14px;\n  left: 62px;\n  opacity: 0;\n  pointer-events: none;\n  position: absolute;\n  top: 20px;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  white-space: nowrap;\n  z-index: 12;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-tooltip.apexcharts-active {\n  opacity: 1;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-tooltip.apexcharts-theme-light {\n  border: 1px solid #e3e3e3;\n  background: rgba(255, 255, 255, 0.96);\n}\n\n.apexcharts-tooltip.apexcharts-theme-dark {\n  color: #fff;\n  background: rgba(30, 30, 30, 0.8);\n}\n\n.apexcharts-tooltip * {\n  font-family: inherit;\n}\n\n\n.apexcharts-tooltip-title {\n  padding: 6px;\n  font-size: 15px;\n  margin-bottom: 4px;\n}\n\n.apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {\n  background: #ECEFF1;\n  border-bottom: 1px solid #ddd;\n}\n\n.apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {\n  background: rgba(0, 0, 0, 0.7);\n  border-bottom: 1px solid #333;\n}\n\n.apexcharts-tooltip-text-y-value,\n.apexcharts-tooltip-text-goals-value,\n.apexcharts-tooltip-text-z-value {\n  display: inline-block;\n  font-weight: 600;\n  margin-left: 5px;\n}\n\n.apexcharts-tooltip-title:empty,\n.apexcharts-tooltip-text-y-label:empty,\n.apexcharts-tooltip-text-y-value:empty,\n.apexcharts-tooltip-text-goals-label:empty,\n.apexcharts-tooltip-text-goals-value:empty,\n.apexcharts-tooltip-text-z-value:empty {\n  display: none;\n}\n\n.apexcharts-tooltip-text-y-value,\n.apexcharts-tooltip-text-goals-value,\n.apexcharts-tooltip-text-z-value {\n  font-weight: 600;\n}\n\n.apexcharts-tooltip-text-goals-label, \n.apexcharts-tooltip-text-goals-value {\n  padding: 6px 0 5px;\n}\n\n.apexcharts-tooltip-goals-group, \n.apexcharts-tooltip-text-goals-label, \n.apexcharts-tooltip-text-goals-value {\n  display: flex;\n}\n.apexcharts-tooltip-text-goals-label:not(:empty),\n.apexcharts-tooltip-text-goals-value:not(:empty) {\n  margin-top: -6px;\n}\n\n.apexcharts-tooltip-marker {\n  width: 12px;\n  height: 12px;\n  position: relative;\n  top: 0px;\n  margin-right: 10px;\n  border-radius: 50%;\n}\n\n.apexcharts-tooltip-series-group {\n  padding: 0 10px;\n  display: none;\n  text-align: left;\n  justify-content: left;\n  align-items: center;\n}\n\n.apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {\n  opacity: 1;\n}\n\n.apexcharts-tooltip-series-group.apexcharts-active,\n.apexcharts-tooltip-series-group:last-child {\n  padding-bottom: 4px;\n}\n\n.apexcharts-tooltip-series-group-hidden {\n  opacity: 0;\n  height: 0;\n  line-height: 0;\n  padding: 0 !important;\n}\n\n.apexcharts-tooltip-y-group {\n  padding: 6px 0 5px;\n}\n\n.apexcharts-tooltip-box, .apexcharts-custom-tooltip {\n  padding: 4px 8px;\n}\n\n.apexcharts-tooltip-boxPlot {\n  display: flex;\n  flex-direction: column-reverse;\n}\n\n.apexcharts-tooltip-box>div {\n  margin: 4px 0;\n}\n\n.apexcharts-tooltip-box span.value {\n  font-weight: bold;\n}\n\n.apexcharts-tooltip-rangebar {\n  padding: 5px 8px;\n}\n\n.apexcharts-tooltip-rangebar .category {\n  font-weight: 600;\n  color: #777;\n}\n\n.apexcharts-tooltip-rangebar .series-name {\n  font-weight: bold;\n  display: block;\n  margin-bottom: 5px;\n}\n\n.apexcharts-xaxistooltip {\n  opacity: 0;\n  padding: 9px 10px;\n  pointer-events: none;\n  color: #373d3f;\n  font-size: 13px;\n  text-align: center;\n  border-radius: 2px;\n  position: absolute;\n  z-index: 10;\n  background: #ECEFF1;\n  border: 1px solid #90A4AE;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-xaxistooltip.apexcharts-theme-dark {\n  background: rgba(0, 0, 0, 0.7);\n  border: 1px solid rgba(0, 0, 0, 0.5);\n  color: #fff;\n}\n\n.apexcharts-xaxistooltip:after,\n.apexcharts-xaxistooltip:before {\n  left: 50%;\n  border: solid transparent;\n  content: " ";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none;\n}\n\n.apexcharts-xaxistooltip:after {\n  border-color: rgba(236, 239, 241, 0);\n  border-width: 6px;\n  margin-left: -6px;\n}\n\n.apexcharts-xaxistooltip:before {\n  border-color: rgba(144, 164, 174, 0);\n  border-width: 7px;\n  margin-left: -7px;\n}\n\n.apexcharts-xaxistooltip-bottom:after,\n.apexcharts-xaxistooltip-bottom:before {\n  bottom: 100%;\n}\n\n.apexcharts-xaxistooltip-top:after,\n.apexcharts-xaxistooltip-top:before {\n  top: 100%;\n}\n\n.apexcharts-xaxistooltip-bottom:after {\n  border-bottom-color: #ECEFF1;\n}\n\n.apexcharts-xaxistooltip-bottom:before {\n  border-bottom-color: #90A4AE;\n}\n\n.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after {\n  border-bottom-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {\n  border-bottom-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-xaxistooltip-top:after {\n  border-top-color: #ECEFF1\n}\n\n.apexcharts-xaxistooltip-top:before {\n  border-top-color: #90A4AE;\n}\n\n.apexcharts-xaxistooltip-top.apexcharts-theme-dark:after {\n  border-top-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {\n  border-top-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-xaxistooltip.apexcharts-active {\n  opacity: 1;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-yaxistooltip {\n  opacity: 0;\n  padding: 4px 10px;\n  pointer-events: none;\n  color: #373d3f;\n  font-size: 13px;\n  text-align: center;\n  border-radius: 2px;\n  position: absolute;\n  z-index: 10;\n  background: #ECEFF1;\n  border: 1px solid #90A4AE;\n}\n\n.apexcharts-yaxistooltip.apexcharts-theme-dark {\n  background: rgba(0, 0, 0, 0.7);\n  border: 1px solid rgba(0, 0, 0, 0.5);\n  color: #fff;\n}\n\n.apexcharts-yaxistooltip:after,\n.apexcharts-yaxistooltip:before {\n  top: 50%;\n  border: solid transparent;\n  content: " ";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none;\n}\n\n.apexcharts-yaxistooltip:after {\n  border-color: rgba(236, 239, 241, 0);\n  border-width: 6px;\n  margin-top: -6px;\n}\n\n.apexcharts-yaxistooltip:before {\n  border-color: rgba(144, 164, 174, 0);\n  border-width: 7px;\n  margin-top: -7px;\n}\n\n.apexcharts-yaxistooltip-left:after,\n.apexcharts-yaxistooltip-left:before {\n  left: 100%;\n}\n\n.apexcharts-yaxistooltip-right:after,\n.apexcharts-yaxistooltip-right:before {\n  right: 100%;\n}\n\n.apexcharts-yaxistooltip-left:after {\n  border-left-color: #ECEFF1;\n}\n\n.apexcharts-yaxistooltip-left:before {\n  border-left-color: #90A4AE;\n}\n\n.apexcharts-yaxistooltip-left.apexcharts-theme-dark:after {\n  border-left-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {\n  border-left-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-yaxistooltip-right:after {\n  border-right-color: #ECEFF1;\n}\n\n.apexcharts-yaxistooltip-right:before {\n  border-right-color: #90A4AE;\n}\n\n.apexcharts-yaxistooltip-right.apexcharts-theme-dark:after {\n  border-right-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {\n  border-right-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-yaxistooltip.apexcharts-active {\n  opacity: 1;\n}\n\n.apexcharts-yaxistooltip-hidden {\n  display: none;\n}\n\n.apexcharts-xcrosshairs,\n.apexcharts-ycrosshairs {\n  pointer-events: none;\n  opacity: 0;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-xcrosshairs.apexcharts-active,\n.apexcharts-ycrosshairs.apexcharts-active {\n  opacity: 1;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-ycrosshairs-hidden {\n  opacity: 0;\n}\n\n.apexcharts-selection-rect {\n  cursor: move;\n}\n\n.svg_select_boundingRect, .svg_select_points_rot {\n  pointer-events: none;\n  opacity: 0;\n  visibility: hidden;\n}\n.apexcharts-selection-rect + g .svg_select_boundingRect,\n.apexcharts-selection-rect + g .svg_select_points_rot {\n  opacity: 0;\n  visibility: hidden;\n}\n\n.apexcharts-selection-rect + g .svg_select_points_l,\n.apexcharts-selection-rect + g .svg_select_points_r {\n  cursor: ew-resize;\n  opacity: 1;\n  visibility: visible;\n}\n\n.svg_select_points {\n  fill: #efefef;\n  stroke: #333;\n  rx: 2;\n}\n\n.apexcharts-svg.apexcharts-zoomable.hovering-zoom {\n  cursor: crosshair\n}\n\n.apexcharts-svg.apexcharts-zoomable.hovering-pan {\n  cursor: move\n}\n\n.apexcharts-zoom-icon,\n.apexcharts-zoomin-icon,\n.apexcharts-zoomout-icon,\n.apexcharts-reset-icon,\n.apexcharts-pan-icon,\n.apexcharts-selection-icon,\n.apexcharts-menu-icon,\n.apexcharts-toolbar-custom-icon {\n  cursor: pointer;\n  width: 20px;\n  height: 20px;\n  line-height: 24px;\n  color: #6E8192;\n  text-align: center;\n}\n\n.apexcharts-zoom-icon svg,\n.apexcharts-zoomin-icon svg,\n.apexcharts-zoomout-icon svg,\n.apexcharts-reset-icon svg,\n.apexcharts-menu-icon svg {\n  fill: #6E8192;\n}\n\n.apexcharts-selection-icon svg {\n  fill: #444;\n  transform: scale(0.76)\n}\n\n.apexcharts-theme-dark .apexcharts-zoom-icon svg,\n.apexcharts-theme-dark .apexcharts-zoomin-icon svg,\n.apexcharts-theme-dark .apexcharts-zoomout-icon svg,\n.apexcharts-theme-dark .apexcharts-reset-icon svg,\n.apexcharts-theme-dark .apexcharts-pan-icon svg,\n.apexcharts-theme-dark .apexcharts-selection-icon svg,\n.apexcharts-theme-dark .apexcharts-menu-icon svg,\n.apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg {\n  fill: #f3f4f5;\n}\n\n.apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg,\n.apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,\n.apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg {\n  fill: #008FFB;\n}\n\n.apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,\n.apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,\n.apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,\n.apexcharts-theme-light .apexcharts-zoomout-icon:hover svg,\n.apexcharts-theme-light .apexcharts-reset-icon:hover svg,\n.apexcharts-theme-light .apexcharts-menu-icon:hover svg {\n  fill: #333;\n}\n\n.apexcharts-selection-icon,\n.apexcharts-menu-icon {\n  position: relative;\n}\n\n.apexcharts-reset-icon {\n  margin-left: 5px;\n}\n\n.apexcharts-zoom-icon,\n.apexcharts-reset-icon,\n.apexcharts-menu-icon {\n  transform: scale(0.85);\n}\n\n.apexcharts-zoomin-icon,\n.apexcharts-zoomout-icon {\n  transform: scale(0.7)\n}\n\n.apexcharts-zoomout-icon {\n  margin-right: 3px;\n}\n\n.apexcharts-pan-icon {\n  transform: scale(0.62);\n  position: relative;\n  left: 1px;\n  top: 0px;\n}\n\n.apexcharts-pan-icon svg {\n  fill: #fff;\n  stroke: #6E8192;\n  stroke-width: 2;\n}\n\n.apexcharts-pan-icon.apexcharts-selected svg {\n  stroke: #008FFB;\n}\n\n.apexcharts-pan-icon:not(.apexcharts-selected):hover svg {\n  stroke: #333;\n}\n\n.apexcharts-toolbar {\n  position: absolute;\n  z-index: 11;\n  max-width: 176px;\n  text-align: right;\n  border-radius: 3px;\n  padding: 0px 6px 2px 6px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.apexcharts-menu {\n  background: #fff;\n  position: absolute;\n  top: 100%;\n  border: 1px solid #ddd;\n  border-radius: 3px;\n  padding: 3px;\n  right: 10px;\n  opacity: 0;\n  min-width: 110px;\n  transition: 0.15s ease all;\n  pointer-events: none;\n}\n\n.apexcharts-menu.apexcharts-menu-open {\n  opacity: 1;\n  pointer-events: all;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-menu-item {\n  padding: 6px 7px;\n  font-size: 12px;\n  cursor: pointer;\n}\n\n.apexcharts-theme-light .apexcharts-menu-item:hover {\n  background: #eee;\n}\n\n.apexcharts-theme-dark .apexcharts-menu {\n  background: rgba(0, 0, 0, 0.7);\n  color: #fff;\n}\n\n@media screen and (min-width: 768px) {\n  .apexcharts-canvas:hover .apexcharts-toolbar {\n    opacity: 1;\n  }\n}\n\n.apexcharts-datalabel.apexcharts-element-hidden {\n  opacity: 0;\n}\n\n.apexcharts-pie-label,\n.apexcharts-datalabels,\n.apexcharts-datalabel,\n.apexcharts-datalabel-label,\n.apexcharts-datalabel-value {\n  cursor: default;\n  pointer-events: none;\n}\n\n.apexcharts-pie-label-delay {\n  opacity: 0;\n  animation-name: opaque;\n  animation-duration: 0.3s;\n  animation-fill-mode: forwards;\n  animation-timing-function: ease;\n}\n\n.apexcharts-canvas .apexcharts-element-hidden {\n  opacity: 0;\n}\n\n.apexcharts-hide .apexcharts-series-points {\n  opacity: 0;\n}\n\n.apexcharts-gridline,\n.apexcharts-annotation-rect,\n.apexcharts-tooltip .apexcharts-marker,\n.apexcharts-area-series .apexcharts-area,\n.apexcharts-line,\n.apexcharts-zoom-rect,\n.apexcharts-toolbar svg,\n.apexcharts-area-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,\n.apexcharts-line-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,\n.apexcharts-radar-series path,\n.apexcharts-radar-series polygon {\n  pointer-events: none;\n}\n\n\n/* markers */\n\n.apexcharts-marker {\n  transition: 0.15s ease all;\n}\n\n@keyframes opaque {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n\n\n/* Resize generated styles */\n\n@keyframes resizeanim {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 0;\n  }\n}\n\n.resize-triggers {\n  animation: 1ms resizeanim;\n  visibility: hidden;\n  opacity: 0;\n}\n\n.resize-triggers,\n.resize-triggers>div,\n.contract-trigger:before {\n  content: " ";\n  display: block;\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 100%;\n  width: 100%;\n  overflow: hidden;\n}\n\n.resize-triggers>div {\n  background: #eee;\n  overflow: auto;\n}\n\n.contract-trigger:before {\n  width: 200%;\n  height: 200%;\n}',i?o.prepend(e.css):a.head.appendChild(e.css))}var l=e.create(e.w.config.series,{});if(!l)return t(e);e.mount(l).then((function(){"function"==typeof e.w.config.chart.events.mounted&&e.w.config.chart.events.mounted(e,e.w),e.events.fireEvent("mounted",[e,e.w]),t(l)})).catch((function(e){r(e)}))}else r(new Error("Element not found"))}))}},{key:"create",value:function(e,t){var r=this.w;new Be(this).initModules();var n=this.w.globals;if(n.noData=!1,n.animationEnded=!1,this.responsive.checkResponsiveConfig(t),r.config.xaxis.convertedCatToNumeric&&new H(r.config).convertCatToNumericXaxis(r.config,this.ctx),null===this.el)return n.animationEnded=!0,null;if(this.core.setupElements(),"treemap"===r.config.chart.type&&(r.config.grid.show=!1,r.config.yaxis[0].show=!1),0===n.svgWidth)return n.animationEnded=!0,null;var o=S.checkComboSeries(e);n.comboCharts=o.comboCharts,n.comboBarCount=o.comboBarCount;var i=e.every((function(e){return e.data&&0===e.data.length}));(0===e.length||i)&&this.series.handleNoData(),this.events.setupEventHandlers(),this.data.parseData(e),this.theme.init(),new M(this).setGlobalMarkerSize(),this.formatters.setLabelFormatters(),this.titleSubtitle.draw(),n.noData&&n.collapsedSeries.length!==n.series.length&&!r.config.legend.showForSingleSeries||this.legend.init(),this.series.hasAllSeriesEqualX(),n.axisCharts&&(this.core.coreCalculations(),"category"!==r.config.xaxis.type&&this.formatters.setLabelFormatters(),this.ctx.toolbar.minX=r.globals.minX,this.ctx.toolbar.maxX=r.globals.maxX),this.formatters.heatmapLabelFormatters(),new S(this).getLargestMarkerSize(),this.dimensions.plotCoords();var a=this.core.xySettings();this.grid.createGridMask();var s=this.core.plotChartType(e,a),l=new N(this);l.bringForward(),r.config.dataLabels.background.enabled&&l.dataLabelsBackground(),this.core.shiftGraphPosition();var u={plot:{left:r.globals.translateX,top:r.globals.translateY,width:r.globals.gridWidth,height:r.globals.gridHeight}};return{elGraph:s,xyRatios:a,elInner:r.globals.dom.elGraphical,dimensions:u}}},{key:"mount",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=this,n=r.w;return new Promise((function(o,i){if(null===r.el)return i(new Error("Not enough data to display or target element not found"));(null===t||n.globals.allSeriesCollapsed)&&r.series.handleNoData(),"treemap"!==n.config.chart.type&&r.axes.drawAxis(n.config.chart.type,t.xyRatios),r.grid=new $(r);var a=r.grid.drawGrid();r.annotations=new T(r),r.annotations.drawImageAnnos(),r.annotations.drawTextAnnos(),"back"===n.config.grid.position&&a&&n.globals.dom.elGraphical.add(a.el);var s=new q(e.ctx),l=new J(e.ctx);if(null!==a&&(s.xAxisLabelCorrections(a.xAxisTickWidth),l.setYAxisTextAlignments(),n.config.yaxis.map((function(e,t){-1===n.globals.ignoreYAxisIndexes.indexOf(t)&&l.yAxisTitleRotate(t,e.opposite)}))),"back"===n.config.annotations.position&&(n.globals.dom.Paper.add(n.globals.dom.elAnnotations),r.annotations.drawAxesAnnotations()),Array.isArray(t.elGraph))for(var u=0;u<t.elGraph.length;u++)n.globals.dom.elGraphical.add(t.elGraph[u]);else n.globals.dom.elGraphical.add(t.elGraph);if("front"===n.config.grid.position&&a&&n.globals.dom.elGraphical.add(a.el),"front"===n.config.xaxis.crosshairs.position&&r.crosshairs.drawXCrosshairs(),"front"===n.config.yaxis[0].crosshairs.position&&r.crosshairs.drawYCrosshairs(),"front"===n.config.annotations.position&&(n.globals.dom.Paper.add(n.globals.dom.elAnnotations),r.annotations.drawAxesAnnotations()),!n.globals.noData){if(n.config.tooltip.enabled&&!n.globals.noData&&r.w.globals.tooltip.drawTooltip(t.xyRatios),n.globals.axisCharts&&(n.globals.isXNumeric||n.config.xaxis.convertedCatToNumeric||n.globals.isRangeBar))(n.config.chart.zoom.enabled||n.config.chart.selection&&n.config.chart.selection.enabled||n.config.chart.pan&&n.config.chart.pan.enabled)&&r.zoomPanSelection.init({xyRatios:t.xyRatios});else{var c=n.config.chart.toolbar.tools;["zoom","zoomin","zoomout","selection","pan","reset"].forEach((function(e){c[e]=!1}))}n.config.chart.toolbar.show&&!n.globals.allSeriesCollapsed&&r.toolbar.createToolbar()}n.globals.memory.methodsToExec.length>0&&n.globals.memory.methodsToExec.forEach((function(e){e.method(e.params,!1,e.context)})),n.globals.axisCharts||n.globals.noData||r.core.resizeNonAxisCharts(),o(r)}))}},{key:"destroy",value:function(){var e,t;window.removeEventListener("resize",this.windowResizeHandler),this.el.parentNode,e=this.parentResizeHandler,(t=He.get(e))&&(t.disconnect(),He.delete(e));var r=this.w.config.chart.id;r&&Apex._chartInstances.forEach((function(e,t){e.id===b.escapeString(r)&&Apex._chartInstances.splice(t,1)})),new We(this.ctx).clear({isUpdating:!1})}},{key:"updateOptions",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=this.w;return a.globals.selection=void 0,e.series&&(this.series.resetSeries(!1,!0,!1),e.series.length&&e.series[0].data&&(e.series=e.series.map((function(e,r){return t.updateHelpers._extendSeries(e,r)}))),this.updateHelpers.revertDefaultAxisMinMax()),e.xaxis&&(e=this.updateHelpers.forceXAxisUpdate(e)),e.yaxis&&(e=this.updateHelpers.forceYAxisUpdate(e)),a.globals.collapsedSeriesIndices.length>0&&this.series.clearPreviousPaths(),e.theme&&(e=this.theme.updateThemeOptions(e)),this.updateHelpers._updateOptions(e,r,n,o,i)}},{key:"updateSeries",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(e,t,r)}},{key:"appendSeries",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=this.w.config.series.slice();return n.push(e),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(n,t,r)}},{key:"appendData",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=this;r.w.globals.dataChanged=!0,r.series.getPreviousPaths();for(var n=r.w.config.series.slice(),o=0;o<n.length;o++)if(null!==e[o]&&void 0!==e[o])for(var i=0;i<e[o].data.length;i++)n[o].data.push(e[o].data[i]);return r.w.config.series=n,t&&(r.w.globals.initialSeries=b.clone(r.w.config.series)),this.update()}},{key:"update",value:function(e){var t=this;return new Promise((function(r,n){new We(t.ctx).clear({isUpdating:!0});var o=t.create(t.w.config.series,e);if(!o)return r(t);t.mount(o).then((function(){"function"==typeof t.w.config.chart.events.updated&&t.w.config.chart.events.updated(t,t.w),t.events.fireEvent("updated",[t,t.w]),t.w.globals.isDirty=!0,r(t)})).catch((function(e){n(e)}))}))}},{key:"getSyncedCharts",value:function(){var e=this.getGroupedCharts(),t=[this];return e.length&&(t=[],e.forEach((function(e){t.push(e)}))),t}},{key:"getGroupedCharts",value:function(){var e=this;return Apex._chartInstances.filter((function(e){if(e.group)return!0})).map((function(t){return e.w.config.chart.group===t.group?t.chart:e}))}},{key:"toggleSeries",value:function(e){return this.series.toggleSeries(e)}},{key:"highlightSeriesOnLegendHover",value:function(e,t){return this.series.toggleSeriesOnHover(e,t)}},{key:"showSeries",value:function(e){this.series.showSeries(e)}},{key:"hideSeries",value:function(e){this.series.hideSeries(e)}},{key:"resetSeries",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.series.resetSeries(e,t)}},{key:"addEventListener",value:function(e,t){this.events.addEventListener(e,t)}},{key:"removeEventListener",value:function(e,t){this.events.removeEventListener(e,t)}},{key:"addXaxisAnnotation",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=this;r&&(n=r),n.annotations.addXaxisAnnotationExternal(e,t,n)}},{key:"addYaxisAnnotation",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=this;r&&(n=r),n.annotations.addYaxisAnnotationExternal(e,t,n)}},{key:"addPointAnnotation",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=this;r&&(n=r),n.annotations.addPointAnnotationExternal(e,t,n)}},{key:"clearAnnotations",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=this;e&&(t=e),t.annotations.clearAnnotations(t)}},{key:"removeAnnotation",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this;t&&(r=t),r.annotations.removeAnnotation(r,e)}},{key:"getChartArea",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner")}},{key:"getSeriesTotalXRange",value:function(e,t){return this.coreUtils.getSeriesTotalsXRange(e,t)}},{key:"getHighestValueInSeries",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=new Q(this.ctx);return t.getMinYMaxY(e).highestY}},{key:"getLowestValueInSeries",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=new Q(this.ctx);return t.getMinYMaxY(e).lowestY}},{key:"getSeriesTotal",value:function(){return this.w.globals.seriesTotals}},{key:"toggleDataPointSelection",value:function(e,t){return this.updateHelpers.toggleDataPointSelection(e,t)}},{key:"zoomX",value:function(e,t){this.ctx.toolbar.zoomUpdateOptions(e,t)}},{key:"setLocale",value:function(e){this.localization.setCurrentLocaleValues(e)}},{key:"dataURI",value:function(e){return new K(this.ctx).dataURI(e)}},{key:"paper",value:function(){return this.w.globals.dom.Paper}},{key:"_parentResizeCallback",value:function(){this.w.globals.animationEnded&&this.w.config.chart.redrawOnParentResize&&this._windowResize()}},{key:"_windowResize",value:function(){var e=this;clearTimeout(this.w.globals.resizeTimer),this.w.globals.resizeTimer=window.setTimeout((function(){e.w.globals.resized=!0,e.w.globals.dataChanged=!1,e.ctx.update()}),150)}},{key:"_windowResizeHandler",value:function(){var e=this.w.config.chart.redrawOnWindowResize;"function"==typeof e&&(e=e()),e&&this._windowResize()}}],[{key:"getChartByID",value:function(e){var t=b.escapeString(e),r=Apex._chartInstances.filter((function(e){return e.id===t}))[0];return r&&r.chart}},{key:"initOnLoad",value:function(){for(var t=document.querySelectorAll("[data-apexcharts]"),r=0;r<t.length;r++)new e(t[r],JSON.parse(t[r].getAttribute("data-options"))).render()}},{key:"exec",value:function(e,t){var r=this.getChartByID(e);if(r){r.w.globals.isExecCalled=!0;var n=null;if(-1!==r.publicMethods.indexOf(t)){for(var o=arguments.length,i=new Array(o>2?o-2:0),a=2;a<o;a++)i[a-2]=arguments[a];n=r[t].apply(r,i)}return n}}},{key:"merge",value:function(e,t){return b.extend(e,t)}}]),e}();e.exports=je},4569:function(e,t,r){e.exports=r(8036)},3381:function(e,t,r){"use strict";var n=r(3589),o=r(7297),i=r(9301),a=r(9774),s=r(1804),l=r(9145),u=r(5411),c=r(6789),p=r(4531),d=r(6569),h=r(6261);e.exports=function(e){return new Promise((function(t,r){var f,g=e.data,y=e.headers,v=e.responseType;function m(){e.cancelToken&&e.cancelToken.unsubscribe(f),e.signal&&e.signal.removeEventListener("abort",f)}n.isFormData(g)&&n.isStandardBrowserEnv()&&delete y["Content-Type"];var b=new XMLHttpRequest;if(e.auth){var C=e.auth.username||"",w=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";y.Authorization="Basic "+btoa(C+":"+w)}var x=s(e.baseURL,e.url);function S(){if(b){var n="getAllResponseHeaders"in b?l(b.getAllResponseHeaders()):null,i={data:v&&"text"!==v&&"json"!==v?b.response:b.responseText,status:b.status,statusText:b.statusText,headers:n,config:e,request:b};o((function(e){t(e),m()}),(function(e){r(e),m()}),i),b=null}}if(b.open(e.method.toUpperCase(),a(x,e.params,e.paramsSerializer),!0),b.timeout=e.timeout,"onloadend"in b?b.onloadend=S:b.onreadystatechange=function(){b&&4===b.readyState&&(0!==b.status||b.responseURL&&0===b.responseURL.indexOf("file:"))&&setTimeout(S)},b.onabort=function(){b&&(r(new p("Request aborted",p.ECONNABORTED,e,b)),b=null)},b.onerror=function(){r(new p("Network Error",p.ERR_NETWORK,e,b,b)),b=null},b.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",n=e.transitional||c;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),r(new p(t,n.clarifyTimeoutError?p.ETIMEDOUT:p.ECONNABORTED,e,b)),b=null},n.isStandardBrowserEnv()){var E=(e.withCredentials||u(x))&&e.xsrfCookieName?i.read(e.xsrfCookieName):void 0;E&&(y[e.xsrfHeaderName]=E)}"setRequestHeader"in b&&n.forEach(y,(function(e,t){"undefined"===typeof g&&"content-type"===t.toLowerCase()?delete y[t]:b.setRequestHeader(t,e)})),n.isUndefined(e.withCredentials)||(b.withCredentials=!!e.withCredentials),v&&"json"!==v&&(b.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&b.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&b.upload&&b.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(f=function(e){b&&(r(!e||e&&e.type?new d:e),b.abort(),b=null)},e.cancelToken&&e.cancelToken.subscribe(f),e.signal&&(e.signal.aborted?f():e.signal.addEventListener("abort",f))),g||(g=null);var O=h(x);O&&-1===["http","https","file"].indexOf(O)?r(new p("Unsupported protocol "+O+":",p.ERR_BAD_REQUEST,e)):b.send(g)}))}},8036:function(e,t,r){"use strict";var n=r(3589),o=r(4049),i=r(3773),a=r(777);var s=function e(t){var r=new i(t),s=o(i.prototype.request,r);return n.extend(s,i.prototype,r),n.extend(s,r),s.create=function(r){return e(a(t,r))},s}(r(1709));s.Axios=i,s.CanceledError=r(6569),s.CancelToken=r(6857),s.isCancel=r(5517),s.VERSION=r(7600).version,s.toFormData=r(1397),s.AxiosError=r(4531),s.Cancel=s.CanceledError,s.all=function(e){return Promise.all(e)},s.spread=r(8089),s.isAxiosError=r(9580),e.exports=s,e.exports.default=s},6857:function(e,t,r){"use strict";var n=r(6569);function o(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var r=this;this.promise.then((function(e){if(r._listeners){var t,n=r._listeners.length;for(t=0;t<n;t++)r._listeners[t](e);r._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},e((function(e){r.reason||(r.reason=new n(e),t(r.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},o.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},o.source=function(){var e;return{token:new o((function(t){e=t})),cancel:e}},e.exports=o},6569:function(e,t,r){"use strict";var n=r(4531);function o(e){n.call(this,null==e?"canceled":e,n.ERR_CANCELED),this.name="CanceledError"}r(3589).inherits(o,n,{__CANCEL__:!0}),e.exports=o},5517:function(e){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},3773:function(e,t,r){"use strict";var n=r(3589),o=r(9774),i=r(7470),a=r(2733),s=r(777),l=r(1804),u=r(7835),c=u.validators;function p(e){this.defaults=e,this.interceptors={request:new i,response:new i}}p.prototype.request=function(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},(t=s(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var r=t.transitional;void 0!==r&&u.assertOptions(r,{silentJSONParsing:c.transitional(c.boolean),forcedJSONParsing:c.transitional(c.boolean),clarifyTimeoutError:c.transitional(c.boolean)},!1);var n=[],o=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,n.unshift(e.fulfilled,e.rejected))}));var i,l=[];if(this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)})),!o){var p=[a,void 0];for(Array.prototype.unshift.apply(p,n),p=p.concat(l),i=Promise.resolve(t);p.length;)i=i.then(p.shift(),p.shift());return i}for(var d=t;n.length;){var h=n.shift(),f=n.shift();try{d=h(d)}catch(g){f(g);break}}try{i=a(d)}catch(g){return Promise.reject(g)}for(;l.length;)i=i.then(l.shift(),l.shift());return i},p.prototype.getUri=function(e){e=s(this.defaults,e);var t=l(e.baseURL,e.url);return o(t,e.params,e.paramsSerializer)},n.forEach(["delete","get","head","options"],(function(e){p.prototype[e]=function(t,r){return this.request(s(r||{},{method:e,url:t,data:(r||{}).data}))}})),n.forEach(["post","put","patch"],(function(e){function t(t){return function(r,n,o){return this.request(s(o||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}p.prototype[e]=t(),p.prototype[e+"Form"]=t(!0)})),e.exports=p},4531:function(e,t,r){"use strict";var n=r(3589);function o(e,t,r,n,o){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),o&&(this.response=o)}n.inherits(o,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var i=o.prototype,a={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach((function(e){a[e]={value:e}})),Object.defineProperties(o,a),Object.defineProperty(i,"isAxiosError",{value:!0}),o.from=function(e,t,r,a,s,l){var u=Object.create(i);return n.toFlatObject(e,u,(function(e){return e!==Error.prototype})),o.call(u,e.message,t,r,a,s),u.name=e.name,l&&Object.assign(u,l),u},e.exports=o},7470:function(e,t,r){"use strict";var n=r(3589);function o(){this.handlers=[]}o.prototype.use=function(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){n.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=o},1804:function(e,t,r){"use strict";var n=r(4044),o=r(9549);e.exports=function(e,t){return e&&!n(t)?o(e,t):t}},2733:function(e,t,r){"use strict";var n=r(3589),o=r(2693),i=r(5517),a=r(1709),s=r(6569);function l(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new s}e.exports=function(e){return l(e),e.headers=e.headers||{},e.data=o.call(e,e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),n.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return l(e),t.data=o.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return i(t)||(l(e),t&&t.response&&(t.response.data=o.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},777:function(e,t,r){"use strict";var n=r(3589);e.exports=function(e,t){t=t||{};var r={};function o(e,t){return n.isPlainObject(e)&&n.isPlainObject(t)?n.merge(e,t):n.isPlainObject(t)?n.merge({},t):n.isArray(t)?t.slice():t}function i(r){return n.isUndefined(t[r])?n.isUndefined(e[r])?void 0:o(void 0,e[r]):o(e[r],t[r])}function a(e){if(!n.isUndefined(t[e]))return o(void 0,t[e])}function s(r){return n.isUndefined(t[r])?n.isUndefined(e[r])?void 0:o(void 0,e[r]):o(void 0,t[r])}function l(r){return r in t?o(e[r],t[r]):r in e?o(void 0,e[r]):void 0}var u={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:l};return n.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=u[e]||i,o=t(e);n.isUndefined(o)&&t!==l||(r[e]=o)})),r}},7297:function(e,t,r){"use strict";var n=r(4531);e.exports=function(e,t,r){var o=r.config.validateStatus;r.status&&o&&!o(r.status)?t(new n("Request failed with status code "+r.status,[n.ERR_BAD_REQUEST,n.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):e(r)}},2693:function(e,t,r){"use strict";var n=r(3589),o=r(1709);e.exports=function(e,t,r){var i=this||o;return n.forEach(r,(function(r){e=r.call(i,e,t)})),e}},1709:function(e,t,r){"use strict";var n=r(3589),o=r(4341),i=r(4531),a=r(6789),s=r(1397),l={"Content-Type":"application/x-www-form-urlencoded"};function u(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var c={transitional:a,adapter:function(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(e=r(3381)),e}(),transformRequest:[function(e,t){if(o(t,"Accept"),o(t,"Content-Type"),n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e))return e;if(n.isArrayBufferView(e))return e.buffer;if(n.isURLSearchParams(e))return u(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var r,i=n.isObject(e),a=t&&t["Content-Type"];if((r=n.isFileList(e))||i&&"multipart/form-data"===a){var l=this.env&&this.env.FormData;return s(r?{"files[]":e}:e,l&&new l)}return i||"application/json"===a?(u(t,"application/json"),function(e,t,r){if(n.isString(e))try{return(t||JSON.parse)(e),n.trim(e)}catch(o){if("SyntaxError"!==o.name)throw o}return(r||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||c.transitional,r=t&&t.silentJSONParsing,o=t&&t.forcedJSONParsing,a=!r&&"json"===this.responseType;if(a||o&&n.isString(e)&&e.length)try{return JSON.parse(e)}catch(s){if(a){if("SyntaxError"===s.name)throw i.from(s,i.ERR_BAD_RESPONSE,this,null,this.response);throw s}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:r(3035)},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};n.forEach(["delete","get","head"],(function(e){c.headers[e]={}})),n.forEach(["post","put","patch"],(function(e){c.headers[e]=n.merge(l)})),e.exports=c},6789:function(e){"use strict";e.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},7600:function(e){e.exports={version:"0.27.2"}},4049:function(e){"use strict";e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}},9774:function(e,t,r){"use strict";var n=r(3589);function o(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;var i;if(r)i=r(t);else if(n.isURLSearchParams(t))i=t.toString();else{var a=[];n.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,(function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),a.push(o(t)+"="+o(e))})))})),i=a.join("&")}if(i){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}},9549:function(e){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},9301:function(e,t,r){"use strict";var n=r(3589);e.exports=n.isStandardBrowserEnv()?{write:function(e,t,r,o,i,a){var s=[];s.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),n.isString(o)&&s.push("path="+o),n.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},4044:function(e){"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},9580:function(e,t,r){"use strict";var n=r(3589);e.exports=function(e){return n.isObject(e)&&!0===e.isAxiosError}},5411:function(e,t,r){"use strict";var n=r(3589);e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function o(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=o(window.location.href),function(t){var r=n.isString(t)?o(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}},4341:function(e,t,r){"use strict";var n=r(3589);e.exports=function(e,t){n.forEach(e,(function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])}))}},3035:function(e){e.exports=null},9145:function(e,t,r){"use strict";var n=r(3589),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,i,a={};return e?(n.forEach(e.split("\n"),(function(e){if(i=e.indexOf(":"),t=n.trim(e.substr(0,i)).toLowerCase(),r=n.trim(e.substr(i+1)),t){if(a[t]&&o.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([r]):a[t]?a[t]+", "+r:r}})),a):a}},6261:function(e){"use strict";e.exports=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}},8089:function(e){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},1397:function(e,t,r){"use strict";var n=r(3589);e.exports=function(e,t){t=t||new FormData;var r=[];function o(e){return null===e?"":n.isDate(e)?e.toISOString():n.isArrayBuffer(e)||n.isTypedArray(e)?"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}return function e(i,a){if(n.isPlainObject(i)||n.isArray(i)){if(-1!==r.indexOf(i))throw Error("Circular reference detected in "+a);r.push(i),n.forEach(i,(function(r,i){if(!n.isUndefined(r)){var s,l=a?a+"."+i:i;if(r&&!a&&"object"===typeof r)if(n.endsWith(i,"{}"))r=JSON.stringify(r);else if(n.endsWith(i,"[]")&&(s=n.toArray(r)))return void s.forEach((function(e){!n.isUndefined(e)&&t.append(l,o(e))}));e(r,l)}})),r.pop()}else t.append(a,o(i))}(e),t}},7835:function(e,t,r){"use strict";var n=r(7600).version,o=r(4531),i={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){i[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}}));var a={};i.transitional=function(e,t,r){function i(e,t){return"[Axios v"+n+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return function(r,n,s){if(!1===e)throw new o(i(n," has been removed"+(t?" in "+t:"")),o.ERR_DEPRECATED);return t&&!a[n]&&(a[n]=!0,console.warn(i(n," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,n,s)}},e.exports={assertOptions:function(e,t,r){if("object"!==typeof e)throw new o("options must be an object",o.ERR_BAD_OPTION_VALUE);for(var n=Object.keys(e),i=n.length;i-- >0;){var a=n[i],s=t[a];if(s){var l=e[a],u=void 0===l||s(l,a,e);if(!0!==u)throw new o("option "+a+" must be "+u,o.ERR_BAD_OPTION_VALUE)}else if(!0!==r)throw new o("Unknown option "+a,o.ERR_BAD_OPTION)}},validators:i}},3589:function(e,t,r){"use strict";var n,o=r(4049),i=Object.prototype.toString,a=(n=Object.create(null),function(e){var t=i.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())});function s(e){return e=e.toLowerCase(),function(t){return a(t)===e}}function l(e){return Array.isArray(e)}function u(e){return"undefined"===typeof e}var c=s("ArrayBuffer");function p(e){return null!==e&&"object"===typeof e}function d(e){if("object"!==a(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}var h=s("Date"),f=s("File"),g=s("Blob"),y=s("FileList");function v(e){return"[object Function]"===i.call(e)}var m=s("URLSearchParams");function b(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),l(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}var C,w=(C="undefined"!==typeof Uint8Array&&Object.getPrototypeOf(Uint8Array),function(e){return C&&e instanceof C});e.exports={isArray:l,isArrayBuffer:c,isBuffer:function(e){return null!==e&&!u(e)&&null!==e.constructor&&!u(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){var t="[object FormData]";return e&&("function"===typeof FormData&&e instanceof FormData||i.call(e)===t||v(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&c(e.buffer)},isString:function(e){return"string"===typeof e},isNumber:function(e){return"number"===typeof e},isObject:p,isPlainObject:d,isUndefined:u,isDate:h,isFile:f,isBlob:g,isFunction:v,isStream:function(e){return p(e)&&v(e.pipe)},isURLSearchParams:m,isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)},forEach:b,merge:function e(){var t={};function r(r,n){d(t[n])&&d(r)?t[n]=e(t[n],r):d(r)?t[n]=e({},r):l(r)?t[n]=r.slice():t[n]=r}for(var n=0,o=arguments.length;n<o;n++)b(arguments[n],r);return t},extend:function(e,t,r){return b(t,(function(t,n){e[n]=r&&"function"===typeof t?o(t,r):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,r,n){e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,r&&Object.assign(e.prototype,r)},toFlatObject:function(e,t,r){var n,o,i,a={};t=t||{};do{for(o=(n=Object.getOwnPropertyNames(e)).length;o-- >0;)a[i=n[o]]||(t[i]=e[i],a[i]=!0);e=Object.getPrototypeOf(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kindOf:a,kindOfTest:s,endsWith:function(e,t,r){e=String(e),(void 0===r||r>e.length)&&(r=e.length),r-=t.length;var n=e.indexOf(t,r);return-1!==n&&n===r},toArray:function(e){if(!e)return null;var t=e.length;if(u(t))return null;for(var r=new Array(t);t-- >0;)r[t]=e[t];return r},isTypedArray:w,isFileList:y}},1694:function(e,t){var r;!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r)){if(r.length){var a=o.apply(null,r);a&&e.push(a)}}else if("object"===i)if(r.toString===Object.prototype.toString)for(var s in r)n.call(r,s)&&r[s]&&e.push(s);else e.push(r.toString())}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},8182:function(e,t,r){"use strict";function n(e){var t,r,o="";if("string"===typeof e||"number"===typeof e)o+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=n(e[t]))&&(o&&(o+=" "),o+=r);else for(t in e)e[t]&&(o&&(o+=" "),o+=t);return o}function o(){for(var e,t,r=0,o="";r<arguments.length;)(e=arguments[r++])&&(t=n(e))&&(o&&(o+=" "),o+=t);return o}r.r(t),r.d(t,{default:function(){return o}})},2110:function(e,t,r){"use strict";var n=r(7441),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return n.isMemo(e)?a:s[e.$$typeof]||o}s[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[n.Memo]=a;var u=Object.defineProperty,c=Object.getOwnPropertyNames,p=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,r,n){if("string"!==typeof r){if(f){var o=h(r);o&&o!==f&&e(t,o,n)}var a=c(r);p&&(a=a.concat(p(r)));for(var s=l(t),g=l(r),y=0;y<a.length;++y){var v=a[y];if(!i[v]&&(!n||!n[v])&&(!g||!g[v])&&(!s||!s[v])){var m=d(r,v);try{u(t,v,m)}catch(b){}}}}return t}},2467:function(e,t,r){e=r.nmd(e);var n="__lodash_hash_undefined__",o=9007199254740991,i="[object Arguments]",a="[object Array]",s="[object Boolean]",l="[object Date]",u="[object Error]",c="[object Function]",p="[object Map]",d="[object Number]",h="[object Object]",f="[object Promise]",g="[object RegExp]",y="[object Set]",v="[object String]",m="[object Symbol]",b="[object WeakMap]",C="[object ArrayBuffer]",w="[object DataView]",x=/^\[object .+?Constructor\]$/,S=/^(?:0|[1-9]\d*)$/,E={};E["[object Float32Array]"]=E["[object Float64Array]"]=E["[object Int8Array]"]=E["[object Int16Array]"]=E["[object Int32Array]"]=E["[object Uint8Array]"]=E["[object Uint8ClampedArray]"]=E["[object Uint16Array]"]=E["[object Uint32Array]"]=!0,E[i]=E[a]=E[C]=E[s]=E[w]=E[l]=E[u]=E[c]=E[p]=E[d]=E[h]=E[g]=E[y]=E[v]=E[b]=!1;var O="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,_="object"==typeof self&&self&&self.Object===Object&&self,P=O||_||Function("return this")(),R=t&&!t.nodeType&&t,A=R&&e&&!e.nodeType&&e,T=A&&A.exports===R,D=T&&O.process,M=function(){try{return D&&D.binding&&D.binding("util")}catch(e){}}(),k=M&&M.isTypedArray;function N(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}function I(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function L(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}var F,G,B=Array.prototype,W=Function.prototype,H=Object.prototype,j=P["__core-js_shared__"],V=W.toString,z=H.hasOwnProperty,U=function(){var e=/[^.]+$/.exec(j&&j.keys&&j.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Y=H.toString,X=RegExp("^"+V.call(z).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),K=T?P.Buffer:void 0,q=P.Symbol,$=P.Uint8Array,Z=H.propertyIsEnumerable,Q=B.splice,J=q?q.toStringTag:void 0,ee=Object.getOwnPropertySymbols,te=K?K.isBuffer:void 0,re=(F=Object.keys,G=Object,function(e){return F(G(e))}),ne=De(P,"DataView"),oe=De(P,"Map"),ie=De(P,"Promise"),ae=De(P,"Set"),se=De(P,"WeakMap"),le=De(Object,"create"),ue=Ie(ne),ce=Ie(oe),pe=Ie(ie),de=Ie(ae),he=Ie(se),fe=q?q.prototype:void 0,ge=fe?fe.valueOf:void 0;function ye(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function ve(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function me(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function be(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new me;++t<r;)this.add(e[t])}function Ce(e){var t=this.__data__=new ve(e);this.size=t.size}function we(e,t){var r=Ge(e),n=!r&&Fe(e),o=!r&&!n&&Be(e),i=!r&&!n&&!o&&ze(e),a=r||n||o||i,s=a?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],l=s.length;for(var u in e)!t&&!z.call(e,u)||a&&("length"==u||o&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Ne(u,l))||s.push(u);return s}function xe(e,t){for(var r=e.length;r--;)if(Le(e[r][0],t))return r;return-1}function Se(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":J&&J in Object(e)?function(e){var t=z.call(e,J),r=e[J];try{e[J]=void 0;var n=!0}catch(i){}var o=Y.call(e);n&&(t?e[J]=r:delete e[J]);return o}(e):function(e){return Y.call(e)}(e)}function Ee(e){return Ve(e)&&Se(e)==i}function Oe(e,t,r,n,o){return e===t||(null==e||null==t||!Ve(e)&&!Ve(t)?e!==e&&t!==t:function(e,t,r,n,o,c){var f=Ge(e),b=Ge(t),x=f?a:ke(e),S=b?a:ke(t),E=(x=x==i?h:x)==h,O=(S=S==i?h:S)==h,_=x==S;if(_&&Be(e)){if(!Be(t))return!1;f=!0,E=!1}if(_&&!E)return c||(c=new Ce),f||ze(e)?Re(e,t,r,n,o,c):function(e,t,r,n,o,i,a){switch(r){case w:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case C:return!(e.byteLength!=t.byteLength||!i(new $(e),new $(t)));case s:case l:case d:return Le(+e,+t);case u:return e.name==t.name&&e.message==t.message;case g:case v:return e==t+"";case p:var c=I;case y:var h=1&n;if(c||(c=L),e.size!=t.size&&!h)return!1;var f=a.get(e);if(f)return f==t;n|=2,a.set(e,t);var b=Re(c(e),c(t),n,o,i,a);return a.delete(e),b;case m:if(ge)return ge.call(e)==ge.call(t)}return!1}(e,t,x,r,n,o,c);if(!(1&r)){var P=E&&z.call(e,"__wrapped__"),R=O&&z.call(t,"__wrapped__");if(P||R){var A=P?e.value():e,T=R?t.value():t;return c||(c=new Ce),o(A,T,r,n,c)}}if(!_)return!1;return c||(c=new Ce),function(e,t,r,n,o,i){var a=1&r,s=Ae(e),l=s.length,u=Ae(t).length;if(l!=u&&!a)return!1;var c=l;for(;c--;){var p=s[c];if(!(a?p in t:z.call(t,p)))return!1}var d=i.get(e);if(d&&i.get(t))return d==t;var h=!0;i.set(e,t),i.set(t,e);var f=a;for(;++c<l;){var g=e[p=s[c]],y=t[p];if(n)var v=a?n(y,g,p,t,e,i):n(g,y,p,e,t,i);if(!(void 0===v?g===y||o(g,y,r,n,i):v)){h=!1;break}f||(f="constructor"==p)}if(h&&!f){var m=e.constructor,b=t.constructor;m==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof m&&m instanceof m&&"function"==typeof b&&b instanceof b||(h=!1)}return i.delete(e),i.delete(t),h}(e,t,r,n,o,c)}(e,t,r,n,Oe,o))}function _e(e){return!(!je(e)||function(e){return!!U&&U in e}(e))&&(We(e)?X:x).test(Ie(e))}function Pe(e){if(!function(e){var t=e&&e.constructor,r="function"==typeof t&&t.prototype||H;return e===r}(e))return re(e);var t=[];for(var r in Object(e))z.call(e,r)&&"constructor"!=r&&t.push(r);return t}function Re(e,t,r,n,o,i){var a=1&r,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var u=i.get(e);if(u&&i.get(t))return u==t;var c=-1,p=!0,d=2&r?new be:void 0;for(i.set(e,t),i.set(t,e);++c<s;){var h=e[c],f=t[c];if(n)var g=a?n(f,h,c,t,e,i):n(h,f,c,e,t,i);if(void 0!==g){if(g)continue;p=!1;break}if(d){if(!N(t,(function(e,t){if(a=t,!d.has(a)&&(h===e||o(h,e,r,n,i)))return d.push(t);var a}))){p=!1;break}}else if(h!==f&&!o(h,f,r,n,i)){p=!1;break}}return i.delete(e),i.delete(t),p}function Ae(e){return function(e,t,r){var n=t(e);return Ge(e)?n:function(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}(n,r(e))}(e,Ue,Me)}function Te(e,t){var r=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?r["string"==typeof t?"string":"hash"]:r.map}function De(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return _e(r)?r:void 0}ye.prototype.clear=function(){this.__data__=le?le(null):{},this.size=0},ye.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ye.prototype.get=function(e){var t=this.__data__;if(le){var r=t[e];return r===n?void 0:r}return z.call(t,e)?t[e]:void 0},ye.prototype.has=function(e){var t=this.__data__;return le?void 0!==t[e]:z.call(t,e)},ye.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=le&&void 0===t?n:t,this},ve.prototype.clear=function(){this.__data__=[],this.size=0},ve.prototype.delete=function(e){var t=this.__data__,r=xe(t,e);return!(r<0)&&(r==t.length-1?t.pop():Q.call(t,r,1),--this.size,!0)},ve.prototype.get=function(e){var t=this.__data__,r=xe(t,e);return r<0?void 0:t[r][1]},ve.prototype.has=function(e){return xe(this.__data__,e)>-1},ve.prototype.set=function(e,t){var r=this.__data__,n=xe(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},me.prototype.clear=function(){this.size=0,this.__data__={hash:new ye,map:new(oe||ve),string:new ye}},me.prototype.delete=function(e){var t=Te(this,e).delete(e);return this.size-=t?1:0,t},me.prototype.get=function(e){return Te(this,e).get(e)},me.prototype.has=function(e){return Te(this,e).has(e)},me.prototype.set=function(e,t){var r=Te(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},be.prototype.add=be.prototype.push=function(e){return this.__data__.set(e,n),this},be.prototype.has=function(e){return this.__data__.has(e)},Ce.prototype.clear=function(){this.__data__=new ve,this.size=0},Ce.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},Ce.prototype.get=function(e){return this.__data__.get(e)},Ce.prototype.has=function(e){return this.__data__.has(e)},Ce.prototype.set=function(e,t){var r=this.__data__;if(r instanceof ve){var n=r.__data__;if(!oe||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new me(n)}return r.set(e,t),this.size=r.size,this};var Me=ee?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var r=-1,n=null==e?0:e.length,o=0,i=[];++r<n;){var a=e[r];t(a,r,e)&&(i[o++]=a)}return i}(ee(e),(function(t){return Z.call(e,t)})))}:function(){return[]},ke=Se;function Ne(e,t){return!!(t=null==t?o:t)&&("number"==typeof e||S.test(e))&&e>-1&&e%1==0&&e<t}function Ie(e){if(null!=e){try{return V.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Le(e,t){return e===t||e!==e&&t!==t}(ne&&ke(new ne(new ArrayBuffer(1)))!=w||oe&&ke(new oe)!=p||ie&&ke(ie.resolve())!=f||ae&&ke(new ae)!=y||se&&ke(new se)!=b)&&(ke=function(e){var t=Se(e),r=t==h?e.constructor:void 0,n=r?Ie(r):"";if(n)switch(n){case ue:return w;case ce:return p;case pe:return f;case de:return y;case he:return b}return t});var Fe=Ee(function(){return arguments}())?Ee:function(e){return Ve(e)&&z.call(e,"callee")&&!Z.call(e,"callee")},Ge=Array.isArray;var Be=te||function(){return!1};function We(e){if(!je(e))return!1;var t=Se(e);return t==c||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function He(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=o}function je(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ve(e){return null!=e&&"object"==typeof e}var ze=k?function(e){return function(t){return e(t)}}(k):function(e){return Ve(e)&&He(e.length)&&!!E[Se(e)]};function Ue(e){return null!=(t=e)&&He(t.length)&&!We(t)?we(e):Pe(e);var t}e.exports=function(e,t){return Oe(e,t)}},763:function(e,t,r){var n;e=r.nmd(e),function(){var o,i="Expected a function",a="__lodash_hash_undefined__",s="__lodash_placeholder__",l=16,u=32,c=64,p=128,d=256,h=1/0,f=9007199254740991,g=NaN,y=4294967295,v=[["ary",p],["bind",1],["bindKey",2],["curry",8],["curryRight",l],["flip",512],["partial",u],["partialRight",c],["rearg",d]],m="[object Arguments]",b="[object Array]",C="[object Boolean]",w="[object Date]",x="[object Error]",S="[object Function]",E="[object GeneratorFunction]",O="[object Map]",_="[object Number]",P="[object Object]",R="[object Promise]",A="[object RegExp]",T="[object Set]",D="[object String]",M="[object Symbol]",k="[object WeakMap]",N="[object ArrayBuffer]",I="[object DataView]",L="[object Float32Array]",F="[object Float64Array]",G="[object Int8Array]",B="[object Int16Array]",W="[object Int32Array]",H="[object Uint8Array]",j="[object Uint8ClampedArray]",V="[object Uint16Array]",z="[object Uint32Array]",U=/\b__p \+= '';/g,Y=/\b(__p \+=) '' \+/g,X=/(__e\(.*?\)|\b__t\)) \+\n'';/g,K=/&(?:amp|lt|gt|quot|#39);/g,q=/[&<>"']/g,$=RegExp(K.source),Z=RegExp(q.source),Q=/<%-([\s\S]+?)%>/g,J=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,re=/^\w*$/,ne=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,oe=/[\\^$.*+?()[\]{}|]/g,ie=RegExp(oe.source),ae=/^\s+/,se=/\s/,le=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ue=/\{\n\/\* \[wrapped with (.+)\] \*/,ce=/,? & /,pe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,de=/[()=,{}\[\]\/\s]/,he=/\\(\\)?/g,fe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ge=/\w*$/,ye=/^[-+]0x[0-9a-f]+$/i,ve=/^0b[01]+$/i,me=/^\[object .+?Constructor\]$/,be=/^0o[0-7]+$/i,Ce=/^(?:0|[1-9]\d*)$/,we=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,xe=/($^)/,Se=/['\n\r\u2028\u2029\\]/g,Ee="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Oe="\\u2700-\\u27bf",_e="a-z\\xdf-\\xf6\\xf8-\\xff",Pe="A-Z\\xc0-\\xd6\\xd8-\\xde",Re="\\ufe0e\\ufe0f",Ae="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Te="['\u2019]",De="[\\ud800-\\udfff]",Me="["+Ae+"]",ke="["+Ee+"]",Ne="\\d+",Ie="[\\u2700-\\u27bf]",Le="["+_e+"]",Fe="[^\\ud800-\\udfff"+Ae+Ne+Oe+_e+Pe+"]",Ge="\\ud83c[\\udffb-\\udfff]",Be="[^\\ud800-\\udfff]",We="(?:\\ud83c[\\udde6-\\uddff]){2}",He="[\\ud800-\\udbff][\\udc00-\\udfff]",je="["+Pe+"]",Ve="(?:"+Le+"|"+Fe+")",ze="(?:"+je+"|"+Fe+")",Ue="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Ye="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Xe="(?:"+ke+"|"+Ge+")"+"?",Ke="[\\ufe0e\\ufe0f]?",qe=Ke+Xe+("(?:\\u200d(?:"+[Be,We,He].join("|")+")"+Ke+Xe+")*"),$e="(?:"+[Ie,We,He].join("|")+")"+qe,Ze="(?:"+[Be+ke+"?",ke,We,He,De].join("|")+")",Qe=RegExp(Te,"g"),Je=RegExp(ke,"g"),et=RegExp(Ge+"(?="+Ge+")|"+Ze+qe,"g"),tt=RegExp([je+"?"+Le+"+"+Ue+"(?="+[Me,je,"$"].join("|")+")",ze+"+"+Ye+"(?="+[Me,je+Ve,"$"].join("|")+")",je+"?"+Ve+"+"+Ue,je+"+"+Ye,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ne,$e].join("|"),"g"),rt=RegExp("[\\u200d\\ud800-\\udfff"+Ee+Re+"]"),nt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ot=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],it=-1,at={};at[L]=at[F]=at[G]=at[B]=at[W]=at[H]=at[j]=at[V]=at[z]=!0,at[m]=at[b]=at[N]=at[C]=at[I]=at[w]=at[x]=at[S]=at[O]=at[_]=at[P]=at[A]=at[T]=at[D]=at[k]=!1;var st={};st[m]=st[b]=st[N]=st[I]=st[C]=st[w]=st[L]=st[F]=st[G]=st[B]=st[W]=st[O]=st[_]=st[P]=st[A]=st[T]=st[D]=st[M]=st[H]=st[j]=st[V]=st[z]=!0,st[x]=st[S]=st[k]=!1;var lt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ut=parseFloat,ct=parseInt,pt="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,dt="object"==typeof self&&self&&self.Object===Object&&self,ht=pt||dt||Function("return this")(),ft=t&&!t.nodeType&&t,gt=ft&&e&&!e.nodeType&&e,yt=gt&&gt.exports===ft,vt=yt&&pt.process,mt=function(){try{var e=gt&&gt.require&&gt.require("util").types;return e||vt&&vt.binding&&vt.binding("util")}catch(t){}}(),bt=mt&&mt.isArrayBuffer,Ct=mt&&mt.isDate,wt=mt&&mt.isMap,xt=mt&&mt.isRegExp,St=mt&&mt.isSet,Et=mt&&mt.isTypedArray;function Ot(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function _t(e,t,r,n){for(var o=-1,i=null==e?0:e.length;++o<i;){var a=e[o];t(n,a,r(a),e)}return n}function Pt(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}function Rt(e,t){for(var r=null==e?0:e.length;r--&&!1!==t(e[r],r,e););return e}function At(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}function Tt(e,t){for(var r=-1,n=null==e?0:e.length,o=0,i=[];++r<n;){var a=e[r];t(a,r,e)&&(i[o++]=a)}return i}function Dt(e,t){return!!(null==e?0:e.length)&&Ht(e,t,0)>-1}function Mt(e,t,r){for(var n=-1,o=null==e?0:e.length;++n<o;)if(r(t,e[n]))return!0;return!1}function kt(e,t){for(var r=-1,n=null==e?0:e.length,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}function Nt(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}function It(e,t,r,n){var o=-1,i=null==e?0:e.length;for(n&&i&&(r=e[++o]);++o<i;)r=t(r,e[o],o,e);return r}function Lt(e,t,r,n){var o=null==e?0:e.length;for(n&&o&&(r=e[--o]);o--;)r=t(r,e[o],o,e);return r}function Ft(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var Gt=Ut("length");function Bt(e,t,r){var n;return r(e,(function(e,r,o){if(t(e,r,o))return n=r,!1})),n}function Wt(e,t,r,n){for(var o=e.length,i=r+(n?1:-1);n?i--:++i<o;)if(t(e[i],i,e))return i;return-1}function Ht(e,t,r){return t===t?function(e,t,r){var n=r-1,o=e.length;for(;++n<o;)if(e[n]===t)return n;return-1}(e,t,r):Wt(e,Vt,r)}function jt(e,t,r,n){for(var o=r-1,i=e.length;++o<i;)if(n(e[o],t))return o;return-1}function Vt(e){return e!==e}function zt(e,t){var r=null==e?0:e.length;return r?Kt(e,t)/r:g}function Ut(e){return function(t){return null==t?o:t[e]}}function Yt(e){return function(t){return null==e?o:e[t]}}function Xt(e,t,r,n,o){return o(e,(function(e,o,i){r=n?(n=!1,e):t(r,e,o,i)})),r}function Kt(e,t){for(var r,n=-1,i=e.length;++n<i;){var a=t(e[n]);a!==o&&(r=r===o?a:r+a)}return r}function qt(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function $t(e){return e?e.slice(0,fr(e)+1).replace(ae,""):e}function Zt(e){return function(t){return e(t)}}function Qt(e,t){return kt(t,(function(t){return e[t]}))}function Jt(e,t){return e.has(t)}function er(e,t){for(var r=-1,n=e.length;++r<n&&Ht(t,e[r],0)>-1;);return r}function tr(e,t){for(var r=e.length;r--&&Ht(t,e[r],0)>-1;);return r}function rr(e,t){for(var r=e.length,n=0;r--;)e[r]===t&&++n;return n}var nr=Yt({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),or=Yt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function ir(e){return"\\"+lt[e]}function ar(e){return rt.test(e)}function sr(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function lr(e,t){return function(r){return e(t(r))}}function ur(e,t){for(var r=-1,n=e.length,o=0,i=[];++r<n;){var a=e[r];a!==t&&a!==s||(e[r]=s,i[o++]=r)}return i}function cr(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}function pr(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=[e,e]})),r}function dr(e){return ar(e)?function(e){var t=et.lastIndex=0;for(;et.test(e);)++t;return t}(e):Gt(e)}function hr(e){return ar(e)?function(e){return e.match(et)||[]}(e):function(e){return e.split("")}(e)}function fr(e){for(var t=e.length;t--&&se.test(e.charAt(t)););return t}var gr=Yt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var yr=function e(t){var r=(t=null==t?ht:yr.defaults(ht.Object(),t,yr.pick(ht,ot))).Array,n=t.Date,se=t.Error,Ee=t.Function,Oe=t.Math,_e=t.Object,Pe=t.RegExp,Re=t.String,Ae=t.TypeError,Te=r.prototype,De=Ee.prototype,Me=_e.prototype,ke=t["__core-js_shared__"],Ne=De.toString,Ie=Me.hasOwnProperty,Le=0,Fe=function(){var e=/[^.]+$/.exec(ke&&ke.keys&&ke.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Ge=Me.toString,Be=Ne.call(_e),We=ht._,He=Pe("^"+Ne.call(Ie).replace(oe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),je=yt?t.Buffer:o,Ve=t.Symbol,ze=t.Uint8Array,Ue=je?je.allocUnsafe:o,Ye=lr(_e.getPrototypeOf,_e),Xe=_e.create,Ke=Me.propertyIsEnumerable,qe=Te.splice,$e=Ve?Ve.isConcatSpreadable:o,Ze=Ve?Ve.iterator:o,et=Ve?Ve.toStringTag:o,rt=function(){try{var e=hi(_e,"defineProperty");return e({},"",{}),e}catch(t){}}(),lt=t.clearTimeout!==ht.clearTimeout&&t.clearTimeout,pt=n&&n.now!==ht.Date.now&&n.now,dt=t.setTimeout!==ht.setTimeout&&t.setTimeout,ft=Oe.ceil,gt=Oe.floor,vt=_e.getOwnPropertySymbols,mt=je?je.isBuffer:o,Gt=t.isFinite,Yt=Te.join,vr=lr(_e.keys,_e),mr=Oe.max,br=Oe.min,Cr=n.now,wr=t.parseInt,xr=Oe.random,Sr=Te.reverse,Er=hi(t,"DataView"),Or=hi(t,"Map"),_r=hi(t,"Promise"),Pr=hi(t,"Set"),Rr=hi(t,"WeakMap"),Ar=hi(_e,"create"),Tr=Rr&&new Rr,Dr={},Mr=Wi(Er),kr=Wi(Or),Nr=Wi(_r),Ir=Wi(Pr),Lr=Wi(Rr),Fr=Ve?Ve.prototype:o,Gr=Fr?Fr.valueOf:o,Br=Fr?Fr.toString:o;function Wr(e){if(ns(e)&&!Ya(e)&&!(e instanceof zr)){if(e instanceof Vr)return e;if(Ie.call(e,"__wrapped__"))return Hi(e)}return new Vr(e)}var Hr=function(){function e(){}return function(t){if(!rs(t))return{};if(Xe)return Xe(t);e.prototype=t;var r=new e;return e.prototype=o,r}}();function jr(){}function Vr(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=o}function zr(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=y,this.__views__=[]}function Ur(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Yr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Xr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Kr(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new Xr;++t<r;)this.add(e[t])}function qr(e){var t=this.__data__=new Yr(e);this.size=t.size}function $r(e,t){var r=Ya(e),n=!r&&Ua(e),o=!r&&!n&&$a(e),i=!r&&!n&&!o&&ps(e),a=r||n||o||i,s=a?qt(e.length,Re):[],l=s.length;for(var u in e)!t&&!Ie.call(e,u)||a&&("length"==u||o&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Ci(u,l))||s.push(u);return s}function Zr(e){var t=e.length;return t?e[qn(0,t-1)]:o}function Qr(e,t){return Fi(Do(e),ln(t,0,e.length))}function Jr(e){return Fi(Do(e))}function en(e,t,r){(r!==o&&!ja(e[t],r)||r===o&&!(t in e))&&an(e,t,r)}function tn(e,t,r){var n=e[t];Ie.call(e,t)&&ja(n,r)&&(r!==o||t in e)||an(e,t,r)}function rn(e,t){for(var r=e.length;r--;)if(ja(e[r][0],t))return r;return-1}function nn(e,t,r,n){return hn(e,(function(e,o,i){t(n,e,r(e),i)})),n}function on(e,t){return e&&Mo(t,ks(t),e)}function an(e,t,r){"__proto__"==t&&rt?rt(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function sn(e,t){for(var n=-1,i=t.length,a=r(i),s=null==e;++n<i;)a[n]=s?o:Rs(e,t[n]);return a}function ln(e,t,r){return e===e&&(r!==o&&(e=e<=r?e:r),t!==o&&(e=e>=t?e:t)),e}function un(e,t,r,n,i,a){var s,l=1&t,u=2&t,c=4&t;if(r&&(s=i?r(e,n,i,a):r(e)),s!==o)return s;if(!rs(e))return e;var p=Ya(e);if(p){if(s=function(e){var t=e.length,r=new e.constructor(t);t&&"string"==typeof e[0]&&Ie.call(e,"index")&&(r.index=e.index,r.input=e.input);return r}(e),!l)return Do(e,s)}else{var d=yi(e),h=d==S||d==E;if($a(e))return Oo(e,l);if(d==P||d==m||h&&!i){if(s=u||h?{}:mi(e),!l)return u?function(e,t){return Mo(e,gi(e),t)}(e,function(e,t){return e&&Mo(t,Ns(t),e)}(s,e)):function(e,t){return Mo(e,fi(e),t)}(e,on(s,e))}else{if(!st[d])return i?e:{};s=function(e,t,r){var n=e.constructor;switch(t){case N:return _o(e);case C:case w:return new n(+e);case I:return function(e,t){var r=t?_o(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,r);case L:case F:case G:case B:case W:case H:case j:case V:case z:return Po(e,r);case O:return new n;case _:case D:return new n(e);case A:return function(e){var t=new e.constructor(e.source,ge.exec(e));return t.lastIndex=e.lastIndex,t}(e);case T:return new n;case M:return o=e,Gr?_e(Gr.call(o)):{}}var o}(e,d,l)}}a||(a=new qr);var f=a.get(e);if(f)return f;a.set(e,s),ls(e)?e.forEach((function(n){s.add(un(n,t,r,n,e,a))})):os(e)&&e.forEach((function(n,o){s.set(o,un(n,t,r,o,e,a))}));var g=p?o:(c?u?ai:ii:u?Ns:ks)(e);return Pt(g||e,(function(n,o){g&&(n=e[o=n]),tn(s,o,un(n,t,r,o,e,a))})),s}function cn(e,t,r){var n=r.length;if(null==e)return!n;for(e=_e(e);n--;){var i=r[n],a=t[i],s=e[i];if(s===o&&!(i in e)||!a(s))return!1}return!0}function pn(e,t,r){if("function"!=typeof e)throw new Ae(i);return ki((function(){e.apply(o,r)}),t)}function dn(e,t,r,n){var o=-1,i=Dt,a=!0,s=e.length,l=[],u=t.length;if(!s)return l;r&&(t=kt(t,Zt(r))),n?(i=Mt,a=!1):t.length>=200&&(i=Jt,a=!1,t=new Kr(t));e:for(;++o<s;){var c=e[o],p=null==r?c:r(c);if(c=n||0!==c?c:0,a&&p===p){for(var d=u;d--;)if(t[d]===p)continue e;l.push(c)}else i(t,p,n)||l.push(c)}return l}Wr.templateSettings={escape:Q,evaluate:J,interpolate:ee,variable:"",imports:{_:Wr}},Wr.prototype=jr.prototype,Wr.prototype.constructor=Wr,Vr.prototype=Hr(jr.prototype),Vr.prototype.constructor=Vr,zr.prototype=Hr(jr.prototype),zr.prototype.constructor=zr,Ur.prototype.clear=function(){this.__data__=Ar?Ar(null):{},this.size=0},Ur.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Ur.prototype.get=function(e){var t=this.__data__;if(Ar){var r=t[e];return r===a?o:r}return Ie.call(t,e)?t[e]:o},Ur.prototype.has=function(e){var t=this.__data__;return Ar?t[e]!==o:Ie.call(t,e)},Ur.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Ar&&t===o?a:t,this},Yr.prototype.clear=function(){this.__data__=[],this.size=0},Yr.prototype.delete=function(e){var t=this.__data__,r=rn(t,e);return!(r<0)&&(r==t.length-1?t.pop():qe.call(t,r,1),--this.size,!0)},Yr.prototype.get=function(e){var t=this.__data__,r=rn(t,e);return r<0?o:t[r][1]},Yr.prototype.has=function(e){return rn(this.__data__,e)>-1},Yr.prototype.set=function(e,t){var r=this.__data__,n=rn(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},Xr.prototype.clear=function(){this.size=0,this.__data__={hash:new Ur,map:new(Or||Yr),string:new Ur}},Xr.prototype.delete=function(e){var t=pi(this,e).delete(e);return this.size-=t?1:0,t},Xr.prototype.get=function(e){return pi(this,e).get(e)},Xr.prototype.has=function(e){return pi(this,e).has(e)},Xr.prototype.set=function(e,t){var r=pi(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},Kr.prototype.add=Kr.prototype.push=function(e){return this.__data__.set(e,a),this},Kr.prototype.has=function(e){return this.__data__.has(e)},qr.prototype.clear=function(){this.__data__=new Yr,this.size=0},qr.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},qr.prototype.get=function(e){return this.__data__.get(e)},qr.prototype.has=function(e){return this.__data__.has(e)},qr.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Yr){var n=r.__data__;if(!Or||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Xr(n)}return r.set(e,t),this.size=r.size,this};var hn=Io(wn),fn=Io(xn,!0);function gn(e,t){var r=!0;return hn(e,(function(e,n,o){return r=!!t(e,n,o)})),r}function yn(e,t,r){for(var n=-1,i=e.length;++n<i;){var a=e[n],s=t(a);if(null!=s&&(l===o?s===s&&!cs(s):r(s,l)))var l=s,u=a}return u}function vn(e,t){var r=[];return hn(e,(function(e,n,o){t(e,n,o)&&r.push(e)})),r}function mn(e,t,r,n,o){var i=-1,a=e.length;for(r||(r=bi),o||(o=[]);++i<a;){var s=e[i];t>0&&r(s)?t>1?mn(s,t-1,r,n,o):Nt(o,s):n||(o[o.length]=s)}return o}var bn=Lo(),Cn=Lo(!0);function wn(e,t){return e&&bn(e,t,ks)}function xn(e,t){return e&&Cn(e,t,ks)}function Sn(e,t){return Tt(t,(function(t){return Ja(e[t])}))}function En(e,t){for(var r=0,n=(t=wo(t,e)).length;null!=e&&r<n;)e=e[Bi(t[r++])];return r&&r==n?e:o}function On(e,t,r){var n=t(e);return Ya(e)?n:Nt(n,r(e))}function _n(e){return null==e?e===o?"[object Undefined]":"[object Null]":et&&et in _e(e)?function(e){var t=Ie.call(e,et),r=e[et];try{e[et]=o;var n=!0}catch(a){}var i=Ge.call(e);n&&(t?e[et]=r:delete e[et]);return i}(e):function(e){return Ge.call(e)}(e)}function Pn(e,t){return e>t}function Rn(e,t){return null!=e&&Ie.call(e,t)}function An(e,t){return null!=e&&t in _e(e)}function Tn(e,t,n){for(var i=n?Mt:Dt,a=e[0].length,s=e.length,l=s,u=r(s),c=1/0,p=[];l--;){var d=e[l];l&&t&&(d=kt(d,Zt(t))),c=br(d.length,c),u[l]=!n&&(t||a>=120&&d.length>=120)?new Kr(l&&d):o}d=e[0];var h=-1,f=u[0];e:for(;++h<a&&p.length<c;){var g=d[h],y=t?t(g):g;if(g=n||0!==g?g:0,!(f?Jt(f,y):i(p,y,n))){for(l=s;--l;){var v=u[l];if(!(v?Jt(v,y):i(e[l],y,n)))continue e}f&&f.push(y),p.push(g)}}return p}function Dn(e,t,r){var n=null==(e=Ai(e,t=wo(t,e)))?e:e[Bi(Qi(t))];return null==n?o:Ot(n,e,r)}function Mn(e){return ns(e)&&_n(e)==m}function kn(e,t,r,n,i){return e===t||(null==e||null==t||!ns(e)&&!ns(t)?e!==e&&t!==t:function(e,t,r,n,i,a){var s=Ya(e),l=Ya(t),u=s?b:yi(e),c=l?b:yi(t),p=(u=u==m?P:u)==P,d=(c=c==m?P:c)==P,h=u==c;if(h&&$a(e)){if(!$a(t))return!1;s=!0,p=!1}if(h&&!p)return a||(a=new qr),s||ps(e)?ni(e,t,r,n,i,a):function(e,t,r,n,o,i,a){switch(r){case I:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case N:return!(e.byteLength!=t.byteLength||!i(new ze(e),new ze(t)));case C:case w:case _:return ja(+e,+t);case x:return e.name==t.name&&e.message==t.message;case A:case D:return e==t+"";case O:var s=sr;case T:var l=1&n;if(s||(s=cr),e.size!=t.size&&!l)return!1;var u=a.get(e);if(u)return u==t;n|=2,a.set(e,t);var c=ni(s(e),s(t),n,o,i,a);return a.delete(e),c;case M:if(Gr)return Gr.call(e)==Gr.call(t)}return!1}(e,t,u,r,n,i,a);if(!(1&r)){var f=p&&Ie.call(e,"__wrapped__"),g=d&&Ie.call(t,"__wrapped__");if(f||g){var y=f?e.value():e,v=g?t.value():t;return a||(a=new qr),i(y,v,r,n,a)}}if(!h)return!1;return a||(a=new qr),function(e,t,r,n,i,a){var s=1&r,l=ii(e),u=l.length,c=ii(t).length;if(u!=c&&!s)return!1;var p=u;for(;p--;){var d=l[p];if(!(s?d in t:Ie.call(t,d)))return!1}var h=a.get(e),f=a.get(t);if(h&&f)return h==t&&f==e;var g=!0;a.set(e,t),a.set(t,e);var y=s;for(;++p<u;){var v=e[d=l[p]],m=t[d];if(n)var b=s?n(m,v,d,t,e,a):n(v,m,d,e,t,a);if(!(b===o?v===m||i(v,m,r,n,a):b)){g=!1;break}y||(y="constructor"==d)}if(g&&!y){var C=e.constructor,w=t.constructor;C==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof C&&C instanceof C&&"function"==typeof w&&w instanceof w||(g=!1)}return a.delete(e),a.delete(t),g}(e,t,r,n,i,a)}(e,t,r,n,kn,i))}function Nn(e,t,r,n){var i=r.length,a=i,s=!n;if(null==e)return!a;for(e=_e(e);i--;){var l=r[i];if(s&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++i<a;){var u=(l=r[i])[0],c=e[u],p=l[1];if(s&&l[2]){if(c===o&&!(u in e))return!1}else{var d=new qr;if(n)var h=n(c,p,u,e,t,d);if(!(h===o?kn(p,c,3,n,d):h))return!1}}return!0}function In(e){return!(!rs(e)||(t=e,Fe&&Fe in t))&&(Ja(e)?He:me).test(Wi(e));var t}function Ln(e){return"function"==typeof e?e:null==e?il:"object"==typeof e?Ya(e)?jn(e[0],e[1]):Hn(e):fl(e)}function Fn(e){if(!Oi(e))return vr(e);var t=[];for(var r in _e(e))Ie.call(e,r)&&"constructor"!=r&&t.push(r);return t}function Gn(e){if(!rs(e))return function(e){var t=[];if(null!=e)for(var r in _e(e))t.push(r);return t}(e);var t=Oi(e),r=[];for(var n in e)("constructor"!=n||!t&&Ie.call(e,n))&&r.push(n);return r}function Bn(e,t){return e<t}function Wn(e,t){var n=-1,o=Ka(e)?r(e.length):[];return hn(e,(function(e,r,i){o[++n]=t(e,r,i)})),o}function Hn(e){var t=di(e);return 1==t.length&&t[0][2]?Pi(t[0][0],t[0][1]):function(r){return r===e||Nn(r,e,t)}}function jn(e,t){return xi(e)&&_i(t)?Pi(Bi(e),t):function(r){var n=Rs(r,e);return n===o&&n===t?As(r,e):kn(t,n,3)}}function Vn(e,t,r,n,i){e!==t&&bn(t,(function(a,s){if(i||(i=new qr),rs(a))!function(e,t,r,n,i,a,s){var l=Di(e,r),u=Di(t,r),c=s.get(u);if(c)return void en(e,r,c);var p=a?a(l,u,r+"",e,t,s):o,d=p===o;if(d){var h=Ya(u),f=!h&&$a(u),g=!h&&!f&&ps(u);p=u,h||f||g?Ya(l)?p=l:qa(l)?p=Do(l):f?(d=!1,p=Oo(u,!0)):g?(d=!1,p=Po(u,!0)):p=[]:as(u)||Ua(u)?(p=l,Ua(l)?p=bs(l):rs(l)&&!Ja(l)||(p=mi(u))):d=!1}d&&(s.set(u,p),i(p,u,n,a,s),s.delete(u));en(e,r,p)}(e,t,s,r,Vn,n,i);else{var l=n?n(Di(e,s),a,s+"",e,t,i):o;l===o&&(l=a),en(e,s,l)}}),Ns)}function zn(e,t){var r=e.length;if(r)return Ci(t+=t<0?r:0,r)?e[t]:o}function Un(e,t,r){t=t.length?kt(t,(function(e){return Ya(e)?function(t){return En(t,1===e.length?e[0]:e)}:e})):[il];var n=-1;t=kt(t,Zt(ci()));var o=Wn(e,(function(e,r,o){var i=kt(t,(function(t){return t(e)}));return{criteria:i,index:++n,value:e}}));return function(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}(o,(function(e,t){return function(e,t,r){var n=-1,o=e.criteria,i=t.criteria,a=o.length,s=r.length;for(;++n<a;){var l=Ro(o[n],i[n]);if(l)return n>=s?l:l*("desc"==r[n]?-1:1)}return e.index-t.index}(e,t,r)}))}function Yn(e,t,r){for(var n=-1,o=t.length,i={};++n<o;){var a=t[n],s=En(e,a);r(s,a)&&eo(i,wo(a,e),s)}return i}function Xn(e,t,r,n){var o=n?jt:Ht,i=-1,a=t.length,s=e;for(e===t&&(t=Do(t)),r&&(s=kt(e,Zt(r)));++i<a;)for(var l=0,u=t[i],c=r?r(u):u;(l=o(s,c,l,n))>-1;)s!==e&&qe.call(s,l,1),qe.call(e,l,1);return e}function Kn(e,t){for(var r=e?t.length:0,n=r-1;r--;){var o=t[r];if(r==n||o!==i){var i=o;Ci(o)?qe.call(e,o,1):ho(e,o)}}return e}function qn(e,t){return e+gt(xr()*(t-e+1))}function $n(e,t){var r="";if(!e||t<1||t>f)return r;do{t%2&&(r+=e),(t=gt(t/2))&&(e+=e)}while(t);return r}function Zn(e,t){return Ni(Ri(e,t,il),e+"")}function Qn(e){return Zr(js(e))}function Jn(e,t){var r=js(e);return Fi(r,ln(t,0,r.length))}function eo(e,t,r,n){if(!rs(e))return e;for(var i=-1,a=(t=wo(t,e)).length,s=a-1,l=e;null!=l&&++i<a;){var u=Bi(t[i]),c=r;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(i!=s){var p=l[u];(c=n?n(p,u,l):o)===o&&(c=rs(p)?p:Ci(t[i+1])?[]:{})}tn(l,u,c),l=l[u]}return e}var to=Tr?function(e,t){return Tr.set(e,t),e}:il,ro=rt?function(e,t){return rt(e,"toString",{configurable:!0,enumerable:!1,value:rl(t),writable:!0})}:il;function no(e){return Fi(js(e))}function oo(e,t,n){var o=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=r(i);++o<i;)a[o]=e[o+t];return a}function io(e,t){var r;return hn(e,(function(e,n,o){return!(r=t(e,n,o))})),!!r}function ao(e,t,r){var n=0,o=null==e?n:e.length;if("number"==typeof t&&t===t&&o<=2147483647){for(;n<o;){var i=n+o>>>1,a=e[i];null!==a&&!cs(a)&&(r?a<=t:a<t)?n=i+1:o=i}return o}return so(e,t,il,r)}function so(e,t,r,n){var i=0,a=null==e?0:e.length;if(0===a)return 0;for(var s=(t=r(t))!==t,l=null===t,u=cs(t),c=t===o;i<a;){var p=gt((i+a)/2),d=r(e[p]),h=d!==o,f=null===d,g=d===d,y=cs(d);if(s)var v=n||g;else v=c?g&&(n||h):l?g&&h&&(n||!f):u?g&&h&&!f&&(n||!y):!f&&!y&&(n?d<=t:d<t);v?i=p+1:a=p}return br(a,4294967294)}function lo(e,t){for(var r=-1,n=e.length,o=0,i=[];++r<n;){var a=e[r],s=t?t(a):a;if(!r||!ja(s,l)){var l=s;i[o++]=0===a?0:a}}return i}function uo(e){return"number"==typeof e?e:cs(e)?g:+e}function co(e){if("string"==typeof e)return e;if(Ya(e))return kt(e,co)+"";if(cs(e))return Br?Br.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function po(e,t,r){var n=-1,o=Dt,i=e.length,a=!0,s=[],l=s;if(r)a=!1,o=Mt;else if(i>=200){var u=t?null:Zo(e);if(u)return cr(u);a=!1,o=Jt,l=new Kr}else l=t?[]:s;e:for(;++n<i;){var c=e[n],p=t?t(c):c;if(c=r||0!==c?c:0,a&&p===p){for(var d=l.length;d--;)if(l[d]===p)continue e;t&&l.push(p),s.push(c)}else o(l,p,r)||(l!==s&&l.push(p),s.push(c))}return s}function ho(e,t){return null==(e=Ai(e,t=wo(t,e)))||delete e[Bi(Qi(t))]}function fo(e,t,r,n){return eo(e,t,r(En(e,t)),n)}function go(e,t,r,n){for(var o=e.length,i=n?o:-1;(n?i--:++i<o)&&t(e[i],i,e););return r?oo(e,n?0:i,n?i+1:o):oo(e,n?i+1:0,n?o:i)}function yo(e,t){var r=e;return r instanceof zr&&(r=r.value()),It(t,(function(e,t){return t.func.apply(t.thisArg,Nt([e],t.args))}),r)}function vo(e,t,n){var o=e.length;if(o<2)return o?po(e[0]):[];for(var i=-1,a=r(o);++i<o;)for(var s=e[i],l=-1;++l<o;)l!=i&&(a[i]=dn(a[i]||s,e[l],t,n));return po(mn(a,1),t,n)}function mo(e,t,r){for(var n=-1,i=e.length,a=t.length,s={};++n<i;){var l=n<a?t[n]:o;r(s,e[n],l)}return s}function bo(e){return qa(e)?e:[]}function Co(e){return"function"==typeof e?e:il}function wo(e,t){return Ya(e)?e:xi(e,t)?[e]:Gi(Cs(e))}var xo=Zn;function So(e,t,r){var n=e.length;return r=r===o?n:r,!t&&r>=n?e:oo(e,t,r)}var Eo=lt||function(e){return ht.clearTimeout(e)};function Oo(e,t){if(t)return e.slice();var r=e.length,n=Ue?Ue(r):new e.constructor(r);return e.copy(n),n}function _o(e){var t=new e.constructor(e.byteLength);return new ze(t).set(new ze(e)),t}function Po(e,t){var r=t?_o(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function Ro(e,t){if(e!==t){var r=e!==o,n=null===e,i=e===e,a=cs(e),s=t!==o,l=null===t,u=t===t,c=cs(t);if(!l&&!c&&!a&&e>t||a&&s&&u&&!l&&!c||n&&s&&u||!r&&u||!i)return 1;if(!n&&!a&&!c&&e<t||c&&r&&i&&!n&&!a||l&&r&&i||!s&&i||!u)return-1}return 0}function Ao(e,t,n,o){for(var i=-1,a=e.length,s=n.length,l=-1,u=t.length,c=mr(a-s,0),p=r(u+c),d=!o;++l<u;)p[l]=t[l];for(;++i<s;)(d||i<a)&&(p[n[i]]=e[i]);for(;c--;)p[l++]=e[i++];return p}function To(e,t,n,o){for(var i=-1,a=e.length,s=-1,l=n.length,u=-1,c=t.length,p=mr(a-l,0),d=r(p+c),h=!o;++i<p;)d[i]=e[i];for(var f=i;++u<c;)d[f+u]=t[u];for(;++s<l;)(h||i<a)&&(d[f+n[s]]=e[i++]);return d}function Do(e,t){var n=-1,o=e.length;for(t||(t=r(o));++n<o;)t[n]=e[n];return t}function Mo(e,t,r,n){var i=!r;r||(r={});for(var a=-1,s=t.length;++a<s;){var l=t[a],u=n?n(r[l],e[l],l,r,e):o;u===o&&(u=e[l]),i?an(r,l,u):tn(r,l,u)}return r}function ko(e,t){return function(r,n){var o=Ya(r)?_t:nn,i=t?t():{};return o(r,e,ci(n,2),i)}}function No(e){return Zn((function(t,r){var n=-1,i=r.length,a=i>1?r[i-1]:o,s=i>2?r[2]:o;for(a=e.length>3&&"function"==typeof a?(i--,a):o,s&&wi(r[0],r[1],s)&&(a=i<3?o:a,i=1),t=_e(t);++n<i;){var l=r[n];l&&e(t,l,n,a)}return t}))}function Io(e,t){return function(r,n){if(null==r)return r;if(!Ka(r))return e(r,n);for(var o=r.length,i=t?o:-1,a=_e(r);(t?i--:++i<o)&&!1!==n(a[i],i,a););return r}}function Lo(e){return function(t,r,n){for(var o=-1,i=_e(t),a=n(t),s=a.length;s--;){var l=a[e?s:++o];if(!1===r(i[l],l,i))break}return t}}function Fo(e){return function(t){var r=ar(t=Cs(t))?hr(t):o,n=r?r[0]:t.charAt(0),i=r?So(r,1).join(""):t.slice(1);return n[e]()+i}}function Go(e){return function(t){return It(Js(Us(t).replace(Qe,"")),e,"")}}function Bo(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=Hr(e.prototype),n=e.apply(r,t);return rs(n)?n:r}}function Wo(e){return function(t,r,n){var i=_e(t);if(!Ka(t)){var a=ci(r,3);t=ks(t),r=function(e){return a(i[e],e,i)}}var s=e(t,r,n);return s>-1?i[a?t[s]:s]:o}}function Ho(e){return oi((function(t){var r=t.length,n=r,a=Vr.prototype.thru;for(e&&t.reverse();n--;){var s=t[n];if("function"!=typeof s)throw new Ae(i);if(a&&!l&&"wrapper"==li(s))var l=new Vr([],!0)}for(n=l?n:r;++n<r;){var u=li(s=t[n]),c="wrapper"==u?si(s):o;l=c&&Si(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?l[li(c[0])].apply(l,c[3]):1==s.length&&Si(s)?l[u]():l.thru(s)}return function(){var e=arguments,n=e[0];if(l&&1==e.length&&Ya(n))return l.plant(n).value();for(var o=0,i=r?t[o].apply(this,e):n;++o<r;)i=t[o].call(this,i);return i}}))}function jo(e,t,n,i,a,s,l,u,c,d){var h=t&p,f=1&t,g=2&t,y=24&t,v=512&t,m=g?o:Bo(e);return function o(){for(var p=arguments.length,b=r(p),C=p;C--;)b[C]=arguments[C];if(y)var w=ui(o),x=rr(b,w);if(i&&(b=Ao(b,i,a,y)),s&&(b=To(b,s,l,y)),p-=x,y&&p<d){var S=ur(b,w);return qo(e,t,jo,o.placeholder,n,b,S,u,c,d-p)}var E=f?n:this,O=g?E[e]:e;return p=b.length,u?b=Ti(b,u):v&&p>1&&b.reverse(),h&&c<p&&(b.length=c),this&&this!==ht&&this instanceof o&&(O=m||Bo(O)),O.apply(E,b)}}function Vo(e,t){return function(r,n){return function(e,t,r,n){return wn(e,(function(e,o,i){t(n,r(e),o,i)})),n}(r,e,t(n),{})}}function zo(e,t){return function(r,n){var i;if(r===o&&n===o)return t;if(r!==o&&(i=r),n!==o){if(i===o)return n;"string"==typeof r||"string"==typeof n?(r=co(r),n=co(n)):(r=uo(r),n=uo(n)),i=e(r,n)}return i}}function Uo(e){return oi((function(t){return t=kt(t,Zt(ci())),Zn((function(r){var n=this;return e(t,(function(e){return Ot(e,n,r)}))}))}))}function Yo(e,t){var r=(t=t===o?" ":co(t)).length;if(r<2)return r?$n(t,e):t;var n=$n(t,ft(e/dr(t)));return ar(t)?So(hr(n),0,e).join(""):n.slice(0,e)}function Xo(e){return function(t,n,i){return i&&"number"!=typeof i&&wi(t,n,i)&&(n=i=o),t=gs(t),n===o?(n=t,t=0):n=gs(n),function(e,t,n,o){for(var i=-1,a=mr(ft((t-e)/(n||1)),0),s=r(a);a--;)s[o?a:++i]=e,e+=n;return s}(t,n,i=i===o?t<n?1:-1:gs(i),e)}}function Ko(e){return function(t,r){return"string"==typeof t&&"string"==typeof r||(t=ms(t),r=ms(r)),e(t,r)}}function qo(e,t,r,n,i,a,s,l,p,d){var h=8&t;t|=h?u:c,4&(t&=~(h?c:u))||(t&=-4);var f=[e,t,i,h?a:o,h?s:o,h?o:a,h?o:s,l,p,d],g=r.apply(o,f);return Si(e)&&Mi(g,f),g.placeholder=n,Ii(g,e,t)}function $o(e){var t=Oe[e];return function(e,r){if(e=ms(e),(r=null==r?0:br(ys(r),292))&&Gt(e)){var n=(Cs(e)+"e").split("e");return+((n=(Cs(t(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return t(e)}}var Zo=Pr&&1/cr(new Pr([,-0]))[1]==h?function(e){return new Pr(e)}:cl;function Qo(e){return function(t){var r=yi(t);return r==O?sr(t):r==T?pr(t):function(e,t){return kt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Jo(e,t,n,a,h,f,g,y){var v=2&t;if(!v&&"function"!=typeof e)throw new Ae(i);var m=a?a.length:0;if(m||(t&=-97,a=h=o),g=g===o?g:mr(ys(g),0),y=y===o?y:ys(y),m-=h?h.length:0,t&c){var b=a,C=h;a=h=o}var w=v?o:si(e),x=[e,t,n,a,h,b,C,f,g,y];if(w&&function(e,t){var r=e[1],n=t[1],o=r|n,i=o<131,a=n==p&&8==r||n==p&&r==d&&e[7].length<=t[8]||384==n&&t[7].length<=t[8]&&8==r;if(!i&&!a)return e;1&n&&(e[2]=t[2],o|=1&r?0:4);var l=t[3];if(l){var u=e[3];e[3]=u?Ao(u,l,t[4]):l,e[4]=u?ur(e[3],s):t[4]}(l=t[5])&&(u=e[5],e[5]=u?To(u,l,t[6]):l,e[6]=u?ur(e[5],s):t[6]);(l=t[7])&&(e[7]=l);n&p&&(e[8]=null==e[8]?t[8]:br(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=o}(x,w),e=x[0],t=x[1],n=x[2],a=x[3],h=x[4],!(y=x[9]=x[9]===o?v?0:e.length:mr(x[9]-m,0))&&24&t&&(t&=-25),t&&1!=t)S=8==t||t==l?function(e,t,n){var i=Bo(e);return function a(){for(var s=arguments.length,l=r(s),u=s,c=ui(a);u--;)l[u]=arguments[u];var p=s<3&&l[0]!==c&&l[s-1]!==c?[]:ur(l,c);return(s-=p.length)<n?qo(e,t,jo,a.placeholder,o,l,p,o,o,n-s):Ot(this&&this!==ht&&this instanceof a?i:e,this,l)}}(e,t,y):t!=u&&33!=t||h.length?jo.apply(o,x):function(e,t,n,o){var i=1&t,a=Bo(e);return function t(){for(var s=-1,l=arguments.length,u=-1,c=o.length,p=r(c+l),d=this&&this!==ht&&this instanceof t?a:e;++u<c;)p[u]=o[u];for(;l--;)p[u++]=arguments[++s];return Ot(d,i?n:this,p)}}(e,t,n,a);else var S=function(e,t,r){var n=1&t,o=Bo(e);return function t(){return(this&&this!==ht&&this instanceof t?o:e).apply(n?r:this,arguments)}}(e,t,n);return Ii((w?to:Mi)(S,x),e,t)}function ei(e,t,r,n){return e===o||ja(e,Me[r])&&!Ie.call(n,r)?t:e}function ti(e,t,r,n,i,a){return rs(e)&&rs(t)&&(a.set(t,e),Vn(e,t,o,ti,a),a.delete(t)),e}function ri(e){return as(e)?o:e}function ni(e,t,r,n,i,a){var s=1&r,l=e.length,u=t.length;if(l!=u&&!(s&&u>l))return!1;var c=a.get(e),p=a.get(t);if(c&&p)return c==t&&p==e;var d=-1,h=!0,f=2&r?new Kr:o;for(a.set(e,t),a.set(t,e);++d<l;){var g=e[d],y=t[d];if(n)var v=s?n(y,g,d,t,e,a):n(g,y,d,e,t,a);if(v!==o){if(v)continue;h=!1;break}if(f){if(!Ft(t,(function(e,t){if(!Jt(f,t)&&(g===e||i(g,e,r,n,a)))return f.push(t)}))){h=!1;break}}else if(g!==y&&!i(g,y,r,n,a)){h=!1;break}}return a.delete(e),a.delete(t),h}function oi(e){return Ni(Ri(e,o,Xi),e+"")}function ii(e){return On(e,ks,fi)}function ai(e){return On(e,Ns,gi)}var si=Tr?function(e){return Tr.get(e)}:cl;function li(e){for(var t=e.name+"",r=Dr[t],n=Ie.call(Dr,t)?r.length:0;n--;){var o=r[n],i=o.func;if(null==i||i==e)return o.name}return t}function ui(e){return(Ie.call(Wr,"placeholder")?Wr:e).placeholder}function ci(){var e=Wr.iteratee||al;return e=e===al?Ln:e,arguments.length?e(arguments[0],arguments[1]):e}function pi(e,t){var r=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?r["string"==typeof t?"string":"hash"]:r.map}function di(e){for(var t=ks(e),r=t.length;r--;){var n=t[r],o=e[n];t[r]=[n,o,_i(o)]}return t}function hi(e,t){var r=function(e,t){return null==e?o:e[t]}(e,t);return In(r)?r:o}var fi=vt?function(e){return null==e?[]:(e=_e(e),Tt(vt(e),(function(t){return Ke.call(e,t)})))}:vl,gi=vt?function(e){for(var t=[];e;)Nt(t,fi(e)),e=Ye(e);return t}:vl,yi=_n;function vi(e,t,r){for(var n=-1,o=(t=wo(t,e)).length,i=!1;++n<o;){var a=Bi(t[n]);if(!(i=null!=e&&r(e,a)))break;e=e[a]}return i||++n!=o?i:!!(o=null==e?0:e.length)&&ts(o)&&Ci(a,o)&&(Ya(e)||Ua(e))}function mi(e){return"function"!=typeof e.constructor||Oi(e)?{}:Hr(Ye(e))}function bi(e){return Ya(e)||Ua(e)||!!($e&&e&&e[$e])}function Ci(e,t){var r=typeof e;return!!(t=null==t?f:t)&&("number"==r||"symbol"!=r&&Ce.test(e))&&e>-1&&e%1==0&&e<t}function wi(e,t,r){if(!rs(r))return!1;var n=typeof t;return!!("number"==n?Ka(r)&&Ci(t,r.length):"string"==n&&t in r)&&ja(r[t],e)}function xi(e,t){if(Ya(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!cs(e))||(re.test(e)||!te.test(e)||null!=t&&e in _e(t))}function Si(e){var t=li(e),r=Wr[t];if("function"!=typeof r||!(t in zr.prototype))return!1;if(e===r)return!0;var n=si(r);return!!n&&e===n[0]}(Er&&yi(new Er(new ArrayBuffer(1)))!=I||Or&&yi(new Or)!=O||_r&&yi(_r.resolve())!=R||Pr&&yi(new Pr)!=T||Rr&&yi(new Rr)!=k)&&(yi=function(e){var t=_n(e),r=t==P?e.constructor:o,n=r?Wi(r):"";if(n)switch(n){case Mr:return I;case kr:return O;case Nr:return R;case Ir:return T;case Lr:return k}return t});var Ei=ke?Ja:ml;function Oi(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Me)}function _i(e){return e===e&&!rs(e)}function Pi(e,t){return function(r){return null!=r&&(r[e]===t&&(t!==o||e in _e(r)))}}function Ri(e,t,n){return t=mr(t===o?e.length-1:t,0),function(){for(var o=arguments,i=-1,a=mr(o.length-t,0),s=r(a);++i<a;)s[i]=o[t+i];i=-1;for(var l=r(t+1);++i<t;)l[i]=o[i];return l[t]=n(s),Ot(e,this,l)}}function Ai(e,t){return t.length<2?e:En(e,oo(t,0,-1))}function Ti(e,t){for(var r=e.length,n=br(t.length,r),i=Do(e);n--;){var a=t[n];e[n]=Ci(a,r)?i[a]:o}return e}function Di(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var Mi=Li(to),ki=dt||function(e,t){return ht.setTimeout(e,t)},Ni=Li(ro);function Ii(e,t,r){var n=t+"";return Ni(e,function(e,t){var r=t.length;if(!r)return e;var n=r-1;return t[n]=(r>1?"& ":"")+t[n],t=t.join(r>2?", ":" "),e.replace(le,"{\n/* [wrapped with "+t+"] */\n")}(n,function(e,t){return Pt(v,(function(r){var n="_."+r[0];t&r[1]&&!Dt(e,n)&&e.push(n)})),e.sort()}(function(e){var t=e.match(ue);return t?t[1].split(ce):[]}(n),r)))}function Li(e){var t=0,r=0;return function(){var n=Cr(),i=16-(n-r);if(r=n,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(o,arguments)}}function Fi(e,t){var r=-1,n=e.length,i=n-1;for(t=t===o?n:t;++r<t;){var a=qn(r,i),s=e[a];e[a]=e[r],e[r]=s}return e.length=t,e}var Gi=function(e){var t=La(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ne,(function(e,r,n,o){t.push(n?o.replace(he,"$1"):r||e)})),t}));function Bi(e){if("string"==typeof e||cs(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Wi(e){if(null!=e){try{return Ne.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Hi(e){if(e instanceof zr)return e.clone();var t=new Vr(e.__wrapped__,e.__chain__);return t.__actions__=Do(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var ji=Zn((function(e,t){return qa(e)?dn(e,mn(t,1,qa,!0)):[]})),Vi=Zn((function(e,t){var r=Qi(t);return qa(r)&&(r=o),qa(e)?dn(e,mn(t,1,qa,!0),ci(r,2)):[]})),zi=Zn((function(e,t){var r=Qi(t);return qa(r)&&(r=o),qa(e)?dn(e,mn(t,1,qa,!0),o,r):[]}));function Ui(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var o=null==r?0:ys(r);return o<0&&(o=mr(n+o,0)),Wt(e,ci(t,3),o)}function Yi(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=n-1;return r!==o&&(i=ys(r),i=r<0?mr(n+i,0):br(i,n-1)),Wt(e,ci(t,3),i,!0)}function Xi(e){return(null==e?0:e.length)?mn(e,1):[]}function Ki(e){return e&&e.length?e[0]:o}var qi=Zn((function(e){var t=kt(e,bo);return t.length&&t[0]===e[0]?Tn(t):[]})),$i=Zn((function(e){var t=Qi(e),r=kt(e,bo);return t===Qi(r)?t=o:r.pop(),r.length&&r[0]===e[0]?Tn(r,ci(t,2)):[]})),Zi=Zn((function(e){var t=Qi(e),r=kt(e,bo);return(t="function"==typeof t?t:o)&&r.pop(),r.length&&r[0]===e[0]?Tn(r,o,t):[]}));function Qi(e){var t=null==e?0:e.length;return t?e[t-1]:o}var Ji=Zn(ea);function ea(e,t){return e&&e.length&&t&&t.length?Xn(e,t):e}var ta=oi((function(e,t){var r=null==e?0:e.length,n=sn(e,t);return Kn(e,kt(t,(function(e){return Ci(e,r)?+e:e})).sort(Ro)),n}));function ra(e){return null==e?e:Sr.call(e)}var na=Zn((function(e){return po(mn(e,1,qa,!0))})),oa=Zn((function(e){var t=Qi(e);return qa(t)&&(t=o),po(mn(e,1,qa,!0),ci(t,2))})),ia=Zn((function(e){var t=Qi(e);return t="function"==typeof t?t:o,po(mn(e,1,qa,!0),o,t)}));function aa(e){if(!e||!e.length)return[];var t=0;return e=Tt(e,(function(e){if(qa(e))return t=mr(e.length,t),!0})),qt(t,(function(t){return kt(e,Ut(t))}))}function sa(e,t){if(!e||!e.length)return[];var r=aa(e);return null==t?r:kt(r,(function(e){return Ot(t,o,e)}))}var la=Zn((function(e,t){return qa(e)?dn(e,t):[]})),ua=Zn((function(e){return vo(Tt(e,qa))})),ca=Zn((function(e){var t=Qi(e);return qa(t)&&(t=o),vo(Tt(e,qa),ci(t,2))})),pa=Zn((function(e){var t=Qi(e);return t="function"==typeof t?t:o,vo(Tt(e,qa),o,t)})),da=Zn(aa);var ha=Zn((function(e){var t=e.length,r=t>1?e[t-1]:o;return r="function"==typeof r?(e.pop(),r):o,sa(e,r)}));function fa(e){var t=Wr(e);return t.__chain__=!0,t}function ga(e,t){return t(e)}var ya=oi((function(e){var t=e.length,r=t?e[0]:0,n=this.__wrapped__,i=function(t){return sn(t,e)};return!(t>1||this.__actions__.length)&&n instanceof zr&&Ci(r)?((n=n.slice(r,+r+(t?1:0))).__actions__.push({func:ga,args:[i],thisArg:o}),new Vr(n,this.__chain__).thru((function(e){return t&&!e.length&&e.push(o),e}))):this.thru(i)}));var va=ko((function(e,t,r){Ie.call(e,r)?++e[r]:an(e,r,1)}));var ma=Wo(Ui),ba=Wo(Yi);function Ca(e,t){return(Ya(e)?Pt:hn)(e,ci(t,3))}function wa(e,t){return(Ya(e)?Rt:fn)(e,ci(t,3))}var xa=ko((function(e,t,r){Ie.call(e,r)?e[r].push(t):an(e,r,[t])}));var Sa=Zn((function(e,t,n){var o=-1,i="function"==typeof t,a=Ka(e)?r(e.length):[];return hn(e,(function(e){a[++o]=i?Ot(t,e,n):Dn(e,t,n)})),a})),Ea=ko((function(e,t,r){an(e,r,t)}));function Oa(e,t){return(Ya(e)?kt:Wn)(e,ci(t,3))}var _a=ko((function(e,t,r){e[r?0:1].push(t)}),(function(){return[[],[]]}));var Pa=Zn((function(e,t){if(null==e)return[];var r=t.length;return r>1&&wi(e,t[0],t[1])?t=[]:r>2&&wi(t[0],t[1],t[2])&&(t=[t[0]]),Un(e,mn(t,1),[])})),Ra=pt||function(){return ht.Date.now()};function Aa(e,t,r){return t=r?o:t,t=e&&null==t?e.length:t,Jo(e,p,o,o,o,o,t)}function Ta(e,t){var r;if("function"!=typeof t)throw new Ae(i);return e=ys(e),function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=o),r}}var Da=Zn((function(e,t,r){var n=1;if(r.length){var o=ur(r,ui(Da));n|=u}return Jo(e,n,t,r,o)})),Ma=Zn((function(e,t,r){var n=3;if(r.length){var o=ur(r,ui(Ma));n|=u}return Jo(t,n,e,r,o)}));function ka(e,t,r){var n,a,s,l,u,c,p=0,d=!1,h=!1,f=!0;if("function"!=typeof e)throw new Ae(i);function g(t){var r=n,i=a;return n=a=o,p=t,l=e.apply(i,r)}function y(e){return p=e,u=ki(m,t),d?g(e):l}function v(e){var r=e-c;return c===o||r>=t||r<0||h&&e-p>=s}function m(){var e=Ra();if(v(e))return b(e);u=ki(m,function(e){var r=t-(e-c);return h?br(r,s-(e-p)):r}(e))}function b(e){return u=o,f&&n?g(e):(n=a=o,l)}function C(){var e=Ra(),r=v(e);if(n=arguments,a=this,c=e,r){if(u===o)return y(c);if(h)return Eo(u),u=ki(m,t),g(c)}return u===o&&(u=ki(m,t)),l}return t=ms(t)||0,rs(r)&&(d=!!r.leading,s=(h="maxWait"in r)?mr(ms(r.maxWait)||0,t):s,f="trailing"in r?!!r.trailing:f),C.cancel=function(){u!==o&&Eo(u),p=0,n=c=a=u=o},C.flush=function(){return u===o?l:b(Ra())},C}var Na=Zn((function(e,t){return pn(e,1,t)})),Ia=Zn((function(e,t,r){return pn(e,ms(t)||0,r)}));function La(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Ae(i);var r=function r(){var n=arguments,o=t?t.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var a=e.apply(this,n);return r.cache=i.set(o,a)||i,a};return r.cache=new(La.Cache||Xr),r}function Fa(e){if("function"!=typeof e)throw new Ae(i);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}La.Cache=Xr;var Ga=xo((function(e,t){var r=(t=1==t.length&&Ya(t[0])?kt(t[0],Zt(ci())):kt(mn(t,1),Zt(ci()))).length;return Zn((function(n){for(var o=-1,i=br(n.length,r);++o<i;)n[o]=t[o].call(this,n[o]);return Ot(e,this,n)}))})),Ba=Zn((function(e,t){var r=ur(t,ui(Ba));return Jo(e,u,o,t,r)})),Wa=Zn((function(e,t){var r=ur(t,ui(Wa));return Jo(e,c,o,t,r)})),Ha=oi((function(e,t){return Jo(e,d,o,o,o,t)}));function ja(e,t){return e===t||e!==e&&t!==t}var Va=Ko(Pn),za=Ko((function(e,t){return e>=t})),Ua=Mn(function(){return arguments}())?Mn:function(e){return ns(e)&&Ie.call(e,"callee")&&!Ke.call(e,"callee")},Ya=r.isArray,Xa=bt?Zt(bt):function(e){return ns(e)&&_n(e)==N};function Ka(e){return null!=e&&ts(e.length)&&!Ja(e)}function qa(e){return ns(e)&&Ka(e)}var $a=mt||ml,Za=Ct?Zt(Ct):function(e){return ns(e)&&_n(e)==w};function Qa(e){if(!ns(e))return!1;var t=_n(e);return t==x||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!as(e)}function Ja(e){if(!rs(e))return!1;var t=_n(e);return t==S||t==E||"[object AsyncFunction]"==t||"[object Proxy]"==t}function es(e){return"number"==typeof e&&e==ys(e)}function ts(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=f}function rs(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ns(e){return null!=e&&"object"==typeof e}var os=wt?Zt(wt):function(e){return ns(e)&&yi(e)==O};function is(e){return"number"==typeof e||ns(e)&&_n(e)==_}function as(e){if(!ns(e)||_n(e)!=P)return!1;var t=Ye(e);if(null===t)return!0;var r=Ie.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&Ne.call(r)==Be}var ss=xt?Zt(xt):function(e){return ns(e)&&_n(e)==A};var ls=St?Zt(St):function(e){return ns(e)&&yi(e)==T};function us(e){return"string"==typeof e||!Ya(e)&&ns(e)&&_n(e)==D}function cs(e){return"symbol"==typeof e||ns(e)&&_n(e)==M}var ps=Et?Zt(Et):function(e){return ns(e)&&ts(e.length)&&!!at[_n(e)]};var ds=Ko(Bn),hs=Ko((function(e,t){return e<=t}));function fs(e){if(!e)return[];if(Ka(e))return us(e)?hr(e):Do(e);if(Ze&&e[Ze])return function(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r}(e[Ze]());var t=yi(e);return(t==O?sr:t==T?cr:js)(e)}function gs(e){return e?(e=ms(e))===h||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}function ys(e){var t=gs(e),r=t%1;return t===t?r?t-r:t:0}function vs(e){return e?ln(ys(e),0,y):0}function ms(e){if("number"==typeof e)return e;if(cs(e))return g;if(rs(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=rs(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=$t(e);var r=ve.test(e);return r||be.test(e)?ct(e.slice(2),r?2:8):ye.test(e)?g:+e}function bs(e){return Mo(e,Ns(e))}function Cs(e){return null==e?"":co(e)}var ws=No((function(e,t){if(Oi(t)||Ka(t))Mo(t,ks(t),e);else for(var r in t)Ie.call(t,r)&&tn(e,r,t[r])})),xs=No((function(e,t){Mo(t,Ns(t),e)})),Ss=No((function(e,t,r,n){Mo(t,Ns(t),e,n)})),Es=No((function(e,t,r,n){Mo(t,ks(t),e,n)})),Os=oi(sn);var _s=Zn((function(e,t){e=_e(e);var r=-1,n=t.length,i=n>2?t[2]:o;for(i&&wi(t[0],t[1],i)&&(n=1);++r<n;)for(var a=t[r],s=Ns(a),l=-1,u=s.length;++l<u;){var c=s[l],p=e[c];(p===o||ja(p,Me[c])&&!Ie.call(e,c))&&(e[c]=a[c])}return e})),Ps=Zn((function(e){return e.push(o,ti),Ot(Ls,o,e)}));function Rs(e,t,r){var n=null==e?o:En(e,t);return n===o?r:n}function As(e,t){return null!=e&&vi(e,t,An)}var Ts=Vo((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=Ge.call(t)),e[t]=r}),rl(il)),Ds=Vo((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=Ge.call(t)),Ie.call(e,t)?e[t].push(r):e[t]=[r]}),ci),Ms=Zn(Dn);function ks(e){return Ka(e)?$r(e):Fn(e)}function Ns(e){return Ka(e)?$r(e,!0):Gn(e)}var Is=No((function(e,t,r){Vn(e,t,r)})),Ls=No((function(e,t,r,n){Vn(e,t,r,n)})),Fs=oi((function(e,t){var r={};if(null==e)return r;var n=!1;t=kt(t,(function(t){return t=wo(t,e),n||(n=t.length>1),t})),Mo(e,ai(e),r),n&&(r=un(r,7,ri));for(var o=t.length;o--;)ho(r,t[o]);return r}));var Gs=oi((function(e,t){return null==e?{}:function(e,t){return Yn(e,t,(function(t,r){return As(e,r)}))}(e,t)}));function Bs(e,t){if(null==e)return{};var r=kt(ai(e),(function(e){return[e]}));return t=ci(t),Yn(e,r,(function(e,r){return t(e,r[0])}))}var Ws=Qo(ks),Hs=Qo(Ns);function js(e){return null==e?[]:Qt(e,ks(e))}var Vs=Go((function(e,t,r){return t=t.toLowerCase(),e+(r?zs(t):t)}));function zs(e){return Qs(Cs(e).toLowerCase())}function Us(e){return(e=Cs(e))&&e.replace(we,nr).replace(Je,"")}var Ys=Go((function(e,t,r){return e+(r?"-":"")+t.toLowerCase()})),Xs=Go((function(e,t,r){return e+(r?" ":"")+t.toLowerCase()})),Ks=Fo("toLowerCase");var qs=Go((function(e,t,r){return e+(r?"_":"")+t.toLowerCase()}));var $s=Go((function(e,t,r){return e+(r?" ":"")+Qs(t)}));var Zs=Go((function(e,t,r){return e+(r?" ":"")+t.toUpperCase()})),Qs=Fo("toUpperCase");function Js(e,t,r){return e=Cs(e),(t=r?o:t)===o?function(e){return nt.test(e)}(e)?function(e){return e.match(tt)||[]}(e):function(e){return e.match(pe)||[]}(e):e.match(t)||[]}var el=Zn((function(e,t){try{return Ot(e,o,t)}catch(r){return Qa(r)?r:new se(r)}})),tl=oi((function(e,t){return Pt(t,(function(t){t=Bi(t),an(e,t,Da(e[t],e))})),e}));function rl(e){return function(){return e}}var nl=Ho(),ol=Ho(!0);function il(e){return e}function al(e){return Ln("function"==typeof e?e:un(e,1))}var sl=Zn((function(e,t){return function(r){return Dn(r,e,t)}})),ll=Zn((function(e,t){return function(r){return Dn(e,r,t)}}));function ul(e,t,r){var n=ks(t),o=Sn(t,n);null!=r||rs(t)&&(o.length||!n.length)||(r=t,t=e,e=this,o=Sn(t,ks(t)));var i=!(rs(r)&&"chain"in r)||!!r.chain,a=Ja(e);return Pt(o,(function(r){var n=t[r];e[r]=n,a&&(e.prototype[r]=function(){var t=this.__chain__;if(i||t){var r=e(this.__wrapped__),o=r.__actions__=Do(this.__actions__);return o.push({func:n,args:arguments,thisArg:e}),r.__chain__=t,r}return n.apply(e,Nt([this.value()],arguments))})})),e}function cl(){}var pl=Uo(kt),dl=Uo(At),hl=Uo(Ft);function fl(e){return xi(e)?Ut(Bi(e)):function(e){return function(t){return En(t,e)}}(e)}var gl=Xo(),yl=Xo(!0);function vl(){return[]}function ml(){return!1}var bl=zo((function(e,t){return e+t}),0),Cl=$o("ceil"),wl=zo((function(e,t){return e/t}),1),xl=$o("floor");var Sl=zo((function(e,t){return e*t}),1),El=$o("round"),Ol=zo((function(e,t){return e-t}),0);return Wr.after=function(e,t){if("function"!=typeof t)throw new Ae(i);return e=ys(e),function(){if(--e<1)return t.apply(this,arguments)}},Wr.ary=Aa,Wr.assign=ws,Wr.assignIn=xs,Wr.assignInWith=Ss,Wr.assignWith=Es,Wr.at=Os,Wr.before=Ta,Wr.bind=Da,Wr.bindAll=tl,Wr.bindKey=Ma,Wr.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Ya(e)?e:[e]},Wr.chain=fa,Wr.chunk=function(e,t,n){t=(n?wi(e,t,n):t===o)?1:mr(ys(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var a=0,s=0,l=r(ft(i/t));a<i;)l[s++]=oo(e,a,a+=t);return l},Wr.compact=function(e){for(var t=-1,r=null==e?0:e.length,n=0,o=[];++t<r;){var i=e[t];i&&(o[n++]=i)}return o},Wr.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],o=e;o--;)t[o-1]=arguments[o];return Nt(Ya(n)?Do(n):[n],mn(t,1))},Wr.cond=function(e){var t=null==e?0:e.length,r=ci();return e=t?kt(e,(function(e){if("function"!=typeof e[1])throw new Ae(i);return[r(e[0]),e[1]]})):[],Zn((function(r){for(var n=-1;++n<t;){var o=e[n];if(Ot(o[0],this,r))return Ot(o[1],this,r)}}))},Wr.conforms=function(e){return function(e){var t=ks(e);return function(r){return cn(r,e,t)}}(un(e,1))},Wr.constant=rl,Wr.countBy=va,Wr.create=function(e,t){var r=Hr(e);return null==t?r:on(r,t)},Wr.curry=function e(t,r,n){var i=Jo(t,8,o,o,o,o,o,r=n?o:r);return i.placeholder=e.placeholder,i},Wr.curryRight=function e(t,r,n){var i=Jo(t,l,o,o,o,o,o,r=n?o:r);return i.placeholder=e.placeholder,i},Wr.debounce=ka,Wr.defaults=_s,Wr.defaultsDeep=Ps,Wr.defer=Na,Wr.delay=Ia,Wr.difference=ji,Wr.differenceBy=Vi,Wr.differenceWith=zi,Wr.drop=function(e,t,r){var n=null==e?0:e.length;return n?oo(e,(t=r||t===o?1:ys(t))<0?0:t,n):[]},Wr.dropRight=function(e,t,r){var n=null==e?0:e.length;return n?oo(e,0,(t=n-(t=r||t===o?1:ys(t)))<0?0:t):[]},Wr.dropRightWhile=function(e,t){return e&&e.length?go(e,ci(t,3),!0,!0):[]},Wr.dropWhile=function(e,t){return e&&e.length?go(e,ci(t,3),!0):[]},Wr.fill=function(e,t,r,n){var i=null==e?0:e.length;return i?(r&&"number"!=typeof r&&wi(e,t,r)&&(r=0,n=i),function(e,t,r,n){var i=e.length;for((r=ys(r))<0&&(r=-r>i?0:i+r),(n=n===o||n>i?i:ys(n))<0&&(n+=i),n=r>n?0:vs(n);r<n;)e[r++]=t;return e}(e,t,r,n)):[]},Wr.filter=function(e,t){return(Ya(e)?Tt:vn)(e,ci(t,3))},Wr.flatMap=function(e,t){return mn(Oa(e,t),1)},Wr.flatMapDeep=function(e,t){return mn(Oa(e,t),h)},Wr.flatMapDepth=function(e,t,r){return r=r===o?1:ys(r),mn(Oa(e,t),r)},Wr.flatten=Xi,Wr.flattenDeep=function(e){return(null==e?0:e.length)?mn(e,h):[]},Wr.flattenDepth=function(e,t){return(null==e?0:e.length)?mn(e,t=t===o?1:ys(t)):[]},Wr.flip=function(e){return Jo(e,512)},Wr.flow=nl,Wr.flowRight=ol,Wr.fromPairs=function(e){for(var t=-1,r=null==e?0:e.length,n={};++t<r;){var o=e[t];n[o[0]]=o[1]}return n},Wr.functions=function(e){return null==e?[]:Sn(e,ks(e))},Wr.functionsIn=function(e){return null==e?[]:Sn(e,Ns(e))},Wr.groupBy=xa,Wr.initial=function(e){return(null==e?0:e.length)?oo(e,0,-1):[]},Wr.intersection=qi,Wr.intersectionBy=$i,Wr.intersectionWith=Zi,Wr.invert=Ts,Wr.invertBy=Ds,Wr.invokeMap=Sa,Wr.iteratee=al,Wr.keyBy=Ea,Wr.keys=ks,Wr.keysIn=Ns,Wr.map=Oa,Wr.mapKeys=function(e,t){var r={};return t=ci(t,3),wn(e,(function(e,n,o){an(r,t(e,n,o),e)})),r},Wr.mapValues=function(e,t){var r={};return t=ci(t,3),wn(e,(function(e,n,o){an(r,n,t(e,n,o))})),r},Wr.matches=function(e){return Hn(un(e,1))},Wr.matchesProperty=function(e,t){return jn(e,un(t,1))},Wr.memoize=La,Wr.merge=Is,Wr.mergeWith=Ls,Wr.method=sl,Wr.methodOf=ll,Wr.mixin=ul,Wr.negate=Fa,Wr.nthArg=function(e){return e=ys(e),Zn((function(t){return zn(t,e)}))},Wr.omit=Fs,Wr.omitBy=function(e,t){return Bs(e,Fa(ci(t)))},Wr.once=function(e){return Ta(2,e)},Wr.orderBy=function(e,t,r,n){return null==e?[]:(Ya(t)||(t=null==t?[]:[t]),Ya(r=n?o:r)||(r=null==r?[]:[r]),Un(e,t,r))},Wr.over=pl,Wr.overArgs=Ga,Wr.overEvery=dl,Wr.overSome=hl,Wr.partial=Ba,Wr.partialRight=Wa,Wr.partition=_a,Wr.pick=Gs,Wr.pickBy=Bs,Wr.property=fl,Wr.propertyOf=function(e){return function(t){return null==e?o:En(e,t)}},Wr.pull=Ji,Wr.pullAll=ea,Wr.pullAllBy=function(e,t,r){return e&&e.length&&t&&t.length?Xn(e,t,ci(r,2)):e},Wr.pullAllWith=function(e,t,r){return e&&e.length&&t&&t.length?Xn(e,t,o,r):e},Wr.pullAt=ta,Wr.range=gl,Wr.rangeRight=yl,Wr.rearg=Ha,Wr.reject=function(e,t){return(Ya(e)?Tt:vn)(e,Fa(ci(t,3)))},Wr.remove=function(e,t){var r=[];if(!e||!e.length)return r;var n=-1,o=[],i=e.length;for(t=ci(t,3);++n<i;){var a=e[n];t(a,n,e)&&(r.push(a),o.push(n))}return Kn(e,o),r},Wr.rest=function(e,t){if("function"!=typeof e)throw new Ae(i);return Zn(e,t=t===o?t:ys(t))},Wr.reverse=ra,Wr.sampleSize=function(e,t,r){return t=(r?wi(e,t,r):t===o)?1:ys(t),(Ya(e)?Qr:Jn)(e,t)},Wr.set=function(e,t,r){return null==e?e:eo(e,t,r)},Wr.setWith=function(e,t,r,n){return n="function"==typeof n?n:o,null==e?e:eo(e,t,r,n)},Wr.shuffle=function(e){return(Ya(e)?Jr:no)(e)},Wr.slice=function(e,t,r){var n=null==e?0:e.length;return n?(r&&"number"!=typeof r&&wi(e,t,r)?(t=0,r=n):(t=null==t?0:ys(t),r=r===o?n:ys(r)),oo(e,t,r)):[]},Wr.sortBy=Pa,Wr.sortedUniq=function(e){return e&&e.length?lo(e):[]},Wr.sortedUniqBy=function(e,t){return e&&e.length?lo(e,ci(t,2)):[]},Wr.split=function(e,t,r){return r&&"number"!=typeof r&&wi(e,t,r)&&(t=r=o),(r=r===o?y:r>>>0)?(e=Cs(e))&&("string"==typeof t||null!=t&&!ss(t))&&!(t=co(t))&&ar(e)?So(hr(e),0,r):e.split(t,r):[]},Wr.spread=function(e,t){if("function"!=typeof e)throw new Ae(i);return t=null==t?0:mr(ys(t),0),Zn((function(r){var n=r[t],o=So(r,0,t);return n&&Nt(o,n),Ot(e,this,o)}))},Wr.tail=function(e){var t=null==e?0:e.length;return t?oo(e,1,t):[]},Wr.take=function(e,t,r){return e&&e.length?oo(e,0,(t=r||t===o?1:ys(t))<0?0:t):[]},Wr.takeRight=function(e,t,r){var n=null==e?0:e.length;return n?oo(e,(t=n-(t=r||t===o?1:ys(t)))<0?0:t,n):[]},Wr.takeRightWhile=function(e,t){return e&&e.length?go(e,ci(t,3),!1,!0):[]},Wr.takeWhile=function(e,t){return e&&e.length?go(e,ci(t,3)):[]},Wr.tap=function(e,t){return t(e),e},Wr.throttle=function(e,t,r){var n=!0,o=!0;if("function"!=typeof e)throw new Ae(i);return rs(r)&&(n="leading"in r?!!r.leading:n,o="trailing"in r?!!r.trailing:o),ka(e,t,{leading:n,maxWait:t,trailing:o})},Wr.thru=ga,Wr.toArray=fs,Wr.toPairs=Ws,Wr.toPairsIn=Hs,Wr.toPath=function(e){return Ya(e)?kt(e,Bi):cs(e)?[e]:Do(Gi(Cs(e)))},Wr.toPlainObject=bs,Wr.transform=function(e,t,r){var n=Ya(e),o=n||$a(e)||ps(e);if(t=ci(t,4),null==r){var i=e&&e.constructor;r=o?n?new i:[]:rs(e)&&Ja(i)?Hr(Ye(e)):{}}return(o?Pt:wn)(e,(function(e,n,o){return t(r,e,n,o)})),r},Wr.unary=function(e){return Aa(e,1)},Wr.union=na,Wr.unionBy=oa,Wr.unionWith=ia,Wr.uniq=function(e){return e&&e.length?po(e):[]},Wr.uniqBy=function(e,t){return e&&e.length?po(e,ci(t,2)):[]},Wr.uniqWith=function(e,t){return t="function"==typeof t?t:o,e&&e.length?po(e,o,t):[]},Wr.unset=function(e,t){return null==e||ho(e,t)},Wr.unzip=aa,Wr.unzipWith=sa,Wr.update=function(e,t,r){return null==e?e:fo(e,t,Co(r))},Wr.updateWith=function(e,t,r,n){return n="function"==typeof n?n:o,null==e?e:fo(e,t,Co(r),n)},Wr.values=js,Wr.valuesIn=function(e){return null==e?[]:Qt(e,Ns(e))},Wr.without=la,Wr.words=Js,Wr.wrap=function(e,t){return Ba(Co(t),e)},Wr.xor=ua,Wr.xorBy=ca,Wr.xorWith=pa,Wr.zip=da,Wr.zipObject=function(e,t){return mo(e||[],t||[],tn)},Wr.zipObjectDeep=function(e,t){return mo(e||[],t||[],eo)},Wr.zipWith=ha,Wr.entries=Ws,Wr.entriesIn=Hs,Wr.extend=xs,Wr.extendWith=Ss,ul(Wr,Wr),Wr.add=bl,Wr.attempt=el,Wr.camelCase=Vs,Wr.capitalize=zs,Wr.ceil=Cl,Wr.clamp=function(e,t,r){return r===o&&(r=t,t=o),r!==o&&(r=(r=ms(r))===r?r:0),t!==o&&(t=(t=ms(t))===t?t:0),ln(ms(e),t,r)},Wr.clone=function(e){return un(e,4)},Wr.cloneDeep=function(e){return un(e,5)},Wr.cloneDeepWith=function(e,t){return un(e,5,t="function"==typeof t?t:o)},Wr.cloneWith=function(e,t){return un(e,4,t="function"==typeof t?t:o)},Wr.conformsTo=function(e,t){return null==t||cn(e,t,ks(t))},Wr.deburr=Us,Wr.defaultTo=function(e,t){return null==e||e!==e?t:e},Wr.divide=wl,Wr.endsWith=function(e,t,r){e=Cs(e),t=co(t);var n=e.length,i=r=r===o?n:ln(ys(r),0,n);return(r-=t.length)>=0&&e.slice(r,i)==t},Wr.eq=ja,Wr.escape=function(e){return(e=Cs(e))&&Z.test(e)?e.replace(q,or):e},Wr.escapeRegExp=function(e){return(e=Cs(e))&&ie.test(e)?e.replace(oe,"\\$&"):e},Wr.every=function(e,t,r){var n=Ya(e)?At:gn;return r&&wi(e,t,r)&&(t=o),n(e,ci(t,3))},Wr.find=ma,Wr.findIndex=Ui,Wr.findKey=function(e,t){return Bt(e,ci(t,3),wn)},Wr.findLast=ba,Wr.findLastIndex=Yi,Wr.findLastKey=function(e,t){return Bt(e,ci(t,3),xn)},Wr.floor=xl,Wr.forEach=Ca,Wr.forEachRight=wa,Wr.forIn=function(e,t){return null==e?e:bn(e,ci(t,3),Ns)},Wr.forInRight=function(e,t){return null==e?e:Cn(e,ci(t,3),Ns)},Wr.forOwn=function(e,t){return e&&wn(e,ci(t,3))},Wr.forOwnRight=function(e,t){return e&&xn(e,ci(t,3))},Wr.get=Rs,Wr.gt=Va,Wr.gte=za,Wr.has=function(e,t){return null!=e&&vi(e,t,Rn)},Wr.hasIn=As,Wr.head=Ki,Wr.identity=il,Wr.includes=function(e,t,r,n){e=Ka(e)?e:js(e),r=r&&!n?ys(r):0;var o=e.length;return r<0&&(r=mr(o+r,0)),us(e)?r<=o&&e.indexOf(t,r)>-1:!!o&&Ht(e,t,r)>-1},Wr.indexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var o=null==r?0:ys(r);return o<0&&(o=mr(n+o,0)),Ht(e,t,o)},Wr.inRange=function(e,t,r){return t=gs(t),r===o?(r=t,t=0):r=gs(r),function(e,t,r){return e>=br(t,r)&&e<mr(t,r)}(e=ms(e),t,r)},Wr.invoke=Ms,Wr.isArguments=Ua,Wr.isArray=Ya,Wr.isArrayBuffer=Xa,Wr.isArrayLike=Ka,Wr.isArrayLikeObject=qa,Wr.isBoolean=function(e){return!0===e||!1===e||ns(e)&&_n(e)==C},Wr.isBuffer=$a,Wr.isDate=Za,Wr.isElement=function(e){return ns(e)&&1===e.nodeType&&!as(e)},Wr.isEmpty=function(e){if(null==e)return!0;if(Ka(e)&&(Ya(e)||"string"==typeof e||"function"==typeof e.splice||$a(e)||ps(e)||Ua(e)))return!e.length;var t=yi(e);if(t==O||t==T)return!e.size;if(Oi(e))return!Fn(e).length;for(var r in e)if(Ie.call(e,r))return!1;return!0},Wr.isEqual=function(e,t){return kn(e,t)},Wr.isEqualWith=function(e,t,r){var n=(r="function"==typeof r?r:o)?r(e,t):o;return n===o?kn(e,t,o,r):!!n},Wr.isError=Qa,Wr.isFinite=function(e){return"number"==typeof e&&Gt(e)},Wr.isFunction=Ja,Wr.isInteger=es,Wr.isLength=ts,Wr.isMap=os,Wr.isMatch=function(e,t){return e===t||Nn(e,t,di(t))},Wr.isMatchWith=function(e,t,r){return r="function"==typeof r?r:o,Nn(e,t,di(t),r)},Wr.isNaN=function(e){return is(e)&&e!=+e},Wr.isNative=function(e){if(Ei(e))throw new se("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return In(e)},Wr.isNil=function(e){return null==e},Wr.isNull=function(e){return null===e},Wr.isNumber=is,Wr.isObject=rs,Wr.isObjectLike=ns,Wr.isPlainObject=as,Wr.isRegExp=ss,Wr.isSafeInteger=function(e){return es(e)&&e>=-9007199254740991&&e<=f},Wr.isSet=ls,Wr.isString=us,Wr.isSymbol=cs,Wr.isTypedArray=ps,Wr.isUndefined=function(e){return e===o},Wr.isWeakMap=function(e){return ns(e)&&yi(e)==k},Wr.isWeakSet=function(e){return ns(e)&&"[object WeakSet]"==_n(e)},Wr.join=function(e,t){return null==e?"":Yt.call(e,t)},Wr.kebabCase=Ys,Wr.last=Qi,Wr.lastIndexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=n;return r!==o&&(i=(i=ys(r))<0?mr(n+i,0):br(i,n-1)),t===t?function(e,t,r){for(var n=r+1;n--;)if(e[n]===t)return n;return n}(e,t,i):Wt(e,Vt,i,!0)},Wr.lowerCase=Xs,Wr.lowerFirst=Ks,Wr.lt=ds,Wr.lte=hs,Wr.max=function(e){return e&&e.length?yn(e,il,Pn):o},Wr.maxBy=function(e,t){return e&&e.length?yn(e,ci(t,2),Pn):o},Wr.mean=function(e){return zt(e,il)},Wr.meanBy=function(e,t){return zt(e,ci(t,2))},Wr.min=function(e){return e&&e.length?yn(e,il,Bn):o},Wr.minBy=function(e,t){return e&&e.length?yn(e,ci(t,2),Bn):o},Wr.stubArray=vl,Wr.stubFalse=ml,Wr.stubObject=function(){return{}},Wr.stubString=function(){return""},Wr.stubTrue=function(){return!0},Wr.multiply=Sl,Wr.nth=function(e,t){return e&&e.length?zn(e,ys(t)):o},Wr.noConflict=function(){return ht._===this&&(ht._=We),this},Wr.noop=cl,Wr.now=Ra,Wr.pad=function(e,t,r){e=Cs(e);var n=(t=ys(t))?dr(e):0;if(!t||n>=t)return e;var o=(t-n)/2;return Yo(gt(o),r)+e+Yo(ft(o),r)},Wr.padEnd=function(e,t,r){e=Cs(e);var n=(t=ys(t))?dr(e):0;return t&&n<t?e+Yo(t-n,r):e},Wr.padStart=function(e,t,r){e=Cs(e);var n=(t=ys(t))?dr(e):0;return t&&n<t?Yo(t-n,r)+e:e},Wr.parseInt=function(e,t,r){return r||null==t?t=0:t&&(t=+t),wr(Cs(e).replace(ae,""),t||0)},Wr.random=function(e,t,r){if(r&&"boolean"!=typeof r&&wi(e,t,r)&&(t=r=o),r===o&&("boolean"==typeof t?(r=t,t=o):"boolean"==typeof e&&(r=e,e=o)),e===o&&t===o?(e=0,t=1):(e=gs(e),t===o?(t=e,e=0):t=gs(t)),e>t){var n=e;e=t,t=n}if(r||e%1||t%1){var i=xr();return br(e+i*(t-e+ut("1e-"+((i+"").length-1))),t)}return qn(e,t)},Wr.reduce=function(e,t,r){var n=Ya(e)?It:Xt,o=arguments.length<3;return n(e,ci(t,4),r,o,hn)},Wr.reduceRight=function(e,t,r){var n=Ya(e)?Lt:Xt,o=arguments.length<3;return n(e,ci(t,4),r,o,fn)},Wr.repeat=function(e,t,r){return t=(r?wi(e,t,r):t===o)?1:ys(t),$n(Cs(e),t)},Wr.replace=function(){var e=arguments,t=Cs(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Wr.result=function(e,t,r){var n=-1,i=(t=wo(t,e)).length;for(i||(i=1,e=o);++n<i;){var a=null==e?o:e[Bi(t[n])];a===o&&(n=i,a=r),e=Ja(a)?a.call(e):a}return e},Wr.round=El,Wr.runInContext=e,Wr.sample=function(e){return(Ya(e)?Zr:Qn)(e)},Wr.size=function(e){if(null==e)return 0;if(Ka(e))return us(e)?dr(e):e.length;var t=yi(e);return t==O||t==T?e.size:Fn(e).length},Wr.snakeCase=qs,Wr.some=function(e,t,r){var n=Ya(e)?Ft:io;return r&&wi(e,t,r)&&(t=o),n(e,ci(t,3))},Wr.sortedIndex=function(e,t){return ao(e,t)},Wr.sortedIndexBy=function(e,t,r){return so(e,t,ci(r,2))},Wr.sortedIndexOf=function(e,t){var r=null==e?0:e.length;if(r){var n=ao(e,t);if(n<r&&ja(e[n],t))return n}return-1},Wr.sortedLastIndex=function(e,t){return ao(e,t,!0)},Wr.sortedLastIndexBy=function(e,t,r){return so(e,t,ci(r,2),!0)},Wr.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var r=ao(e,t,!0)-1;if(ja(e[r],t))return r}return-1},Wr.startCase=$s,Wr.startsWith=function(e,t,r){return e=Cs(e),r=null==r?0:ln(ys(r),0,e.length),t=co(t),e.slice(r,r+t.length)==t},Wr.subtract=Ol,Wr.sum=function(e){return e&&e.length?Kt(e,il):0},Wr.sumBy=function(e,t){return e&&e.length?Kt(e,ci(t,2)):0},Wr.template=function(e,t,r){var n=Wr.templateSettings;r&&wi(e,t,r)&&(t=o),e=Cs(e),t=Ss({},t,n,ei);var i,a,s=Ss({},t.imports,n.imports,ei),l=ks(s),u=Qt(s,l),c=0,p=t.interpolate||xe,d="__p += '",h=Pe((t.escape||xe).source+"|"+p.source+"|"+(p===ee?fe:xe).source+"|"+(t.evaluate||xe).source+"|$","g"),f="//# sourceURL="+(Ie.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++it+"]")+"\n";e.replace(h,(function(t,r,n,o,s,l){return n||(n=o),d+=e.slice(c,l).replace(Se,ir),r&&(i=!0,d+="' +\n__e("+r+") +\n'"),s&&(a=!0,d+="';\n"+s+";\n__p += '"),n&&(d+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),c=l+t.length,t})),d+="';\n";var g=Ie.call(t,"variable")&&t.variable;if(g){if(de.test(g))throw new se("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(a?d.replace(U,""):d).replace(Y,"$1").replace(X,"$1;"),d="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var y=el((function(){return Ee(l,f+"return "+d).apply(o,u)}));if(y.source=d,Qa(y))throw y;return y},Wr.times=function(e,t){if((e=ys(e))<1||e>f)return[];var r=y,n=br(e,y);t=ci(t),e-=y;for(var o=qt(n,t);++r<e;)t(r);return o},Wr.toFinite=gs,Wr.toInteger=ys,Wr.toLength=vs,Wr.toLower=function(e){return Cs(e).toLowerCase()},Wr.toNumber=ms,Wr.toSafeInteger=function(e){return e?ln(ys(e),-9007199254740991,f):0===e?e:0},Wr.toString=Cs,Wr.toUpper=function(e){return Cs(e).toUpperCase()},Wr.trim=function(e,t,r){if((e=Cs(e))&&(r||t===o))return $t(e);if(!e||!(t=co(t)))return e;var n=hr(e),i=hr(t);return So(n,er(n,i),tr(n,i)+1).join("")},Wr.trimEnd=function(e,t,r){if((e=Cs(e))&&(r||t===o))return e.slice(0,fr(e)+1);if(!e||!(t=co(t)))return e;var n=hr(e);return So(n,0,tr(n,hr(t))+1).join("")},Wr.trimStart=function(e,t,r){if((e=Cs(e))&&(r||t===o))return e.replace(ae,"");if(!e||!(t=co(t)))return e;var n=hr(e);return So(n,er(n,hr(t))).join("")},Wr.truncate=function(e,t){var r=30,n="...";if(rs(t)){var i="separator"in t?t.separator:i;r="length"in t?ys(t.length):r,n="omission"in t?co(t.omission):n}var a=(e=Cs(e)).length;if(ar(e)){var s=hr(e);a=s.length}if(r>=a)return e;var l=r-dr(n);if(l<1)return n;var u=s?So(s,0,l).join(""):e.slice(0,l);if(i===o)return u+n;if(s&&(l+=u.length-l),ss(i)){if(e.slice(l).search(i)){var c,p=u;for(i.global||(i=Pe(i.source,Cs(ge.exec(i))+"g")),i.lastIndex=0;c=i.exec(p);)var d=c.index;u=u.slice(0,d===o?l:d)}}else if(e.indexOf(co(i),l)!=l){var h=u.lastIndexOf(i);h>-1&&(u=u.slice(0,h))}return u+n},Wr.unescape=function(e){return(e=Cs(e))&&$.test(e)?e.replace(K,gr):e},Wr.uniqueId=function(e){var t=++Le;return Cs(e)+t},Wr.upperCase=Zs,Wr.upperFirst=Qs,Wr.each=Ca,Wr.eachRight=wa,Wr.first=Ki,ul(Wr,function(){var e={};return wn(Wr,(function(t,r){Ie.call(Wr.prototype,r)||(e[r]=t)})),e}(),{chain:!1}),Wr.VERSION="4.17.21",Pt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Wr[e].placeholder=Wr})),Pt(["drop","take"],(function(e,t){zr.prototype[e]=function(r){r=r===o?1:mr(ys(r),0);var n=this.__filtered__&&!t?new zr(this):this.clone();return n.__filtered__?n.__takeCount__=br(r,n.__takeCount__):n.__views__.push({size:br(r,y),type:e+(n.__dir__<0?"Right":"")}),n},zr.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Pt(["filter","map","takeWhile"],(function(e,t){var r=t+1,n=1==r||3==r;zr.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:ci(e,3),type:r}),t.__filtered__=t.__filtered__||n,t}})),Pt(["head","last"],(function(e,t){var r="take"+(t?"Right":"");zr.prototype[e]=function(){return this[r](1).value()[0]}})),Pt(["initial","tail"],(function(e,t){var r="drop"+(t?"":"Right");zr.prototype[e]=function(){return this.__filtered__?new zr(this):this[r](1)}})),zr.prototype.compact=function(){return this.filter(il)},zr.prototype.find=function(e){return this.filter(e).head()},zr.prototype.findLast=function(e){return this.reverse().find(e)},zr.prototype.invokeMap=Zn((function(e,t){return"function"==typeof e?new zr(this):this.map((function(r){return Dn(r,e,t)}))})),zr.prototype.reject=function(e){return this.filter(Fa(ci(e)))},zr.prototype.slice=function(e,t){e=ys(e);var r=this;return r.__filtered__&&(e>0||t<0)?new zr(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),t!==o&&(r=(t=ys(t))<0?r.dropRight(-t):r.take(t-e)),r)},zr.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},zr.prototype.toArray=function(){return this.take(y)},wn(zr.prototype,(function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),n=/^(?:head|last)$/.test(t),i=Wr[n?"take"+("last"==t?"Right":""):t],a=n||/^find/.test(t);i&&(Wr.prototype[t]=function(){var t=this.__wrapped__,s=n?[1]:arguments,l=t instanceof zr,u=s[0],c=l||Ya(t),p=function(e){var t=i.apply(Wr,Nt([e],s));return n&&d?t[0]:t};c&&r&&"function"==typeof u&&1!=u.length&&(l=c=!1);var d=this.__chain__,h=!!this.__actions__.length,f=a&&!d,g=l&&!h;if(!a&&c){t=g?t:new zr(this);var y=e.apply(t,s);return y.__actions__.push({func:ga,args:[p],thisArg:o}),new Vr(y,d)}return f&&g?e.apply(this,s):(y=this.thru(p),f?n?y.value()[0]:y.value():y)})})),Pt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Te[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",n=/^(?:pop|shift)$/.test(e);Wr.prototype[e]=function(){var e=arguments;if(n&&!this.__chain__){var o=this.value();return t.apply(Ya(o)?o:[],e)}return this[r]((function(r){return t.apply(Ya(r)?r:[],e)}))}})),wn(zr.prototype,(function(e,t){var r=Wr[t];if(r){var n=r.name+"";Ie.call(Dr,n)||(Dr[n]=[]),Dr[n].push({name:t,func:r})}})),Dr[jo(o,2).name]=[{name:"wrapper",func:o}],zr.prototype.clone=function(){var e=new zr(this.__wrapped__);return e.__actions__=Do(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Do(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Do(this.__views__),e},zr.prototype.reverse=function(){if(this.__filtered__){var e=new zr(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},zr.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,r=Ya(e),n=t<0,o=r?e.length:0,i=function(e,t,r){var n=-1,o=r.length;for(;++n<o;){var i=r[n],a=i.size;switch(i.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=br(t,e+a);break;case"takeRight":e=mr(e,t-a)}}return{start:e,end:t}}(0,o,this.__views__),a=i.start,s=i.end,l=s-a,u=n?s:a-1,c=this.__iteratees__,p=c.length,d=0,h=br(l,this.__takeCount__);if(!r||!n&&o==l&&h==l)return yo(e,this.__actions__);var f=[];e:for(;l--&&d<h;){for(var g=-1,y=e[u+=t];++g<p;){var v=c[g],m=v.iteratee,b=v.type,C=m(y);if(2==b)y=C;else if(!C){if(1==b)continue e;break e}}f[d++]=y}return f},Wr.prototype.at=ya,Wr.prototype.chain=function(){return fa(this)},Wr.prototype.commit=function(){return new Vr(this.value(),this.__chain__)},Wr.prototype.next=function(){this.__values__===o&&(this.__values__=fs(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?o:this.__values__[this.__index__++]}},Wr.prototype.plant=function(e){for(var t,r=this;r instanceof jr;){var n=Hi(r);n.__index__=0,n.__values__=o,t?i.__wrapped__=n:t=n;var i=n;r=r.__wrapped__}return i.__wrapped__=e,t},Wr.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof zr){var t=e;return this.__actions__.length&&(t=new zr(this)),(t=t.reverse()).__actions__.push({func:ga,args:[ra],thisArg:o}),new Vr(t,this.__chain__)}return this.thru(ra)},Wr.prototype.toJSON=Wr.prototype.valueOf=Wr.prototype.value=function(){return yo(this.__wrapped__,this.__actions__)},Wr.prototype.first=Wr.prototype.head,Ze&&(Wr.prototype[Ze]=function(){return this}),Wr}();ht._=yr,(n=function(){return yr}.call(t,r,t,e))===o||(e.exports=n)}.call(this)},888:function(e,t,r){"use strict";var n=r(9047);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,r,o,i,a){if(a!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return r.PropTypes=r,r}},2007:function(e,t,r){e.exports=r(888)()},9047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},3496:function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=c(r(8700)),s=r(2791),l=c(s),u=c(r(2007));function c(e){return e&&e.__esModule?e:{default:e}}window.ApexCharts=a.default;var p=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return l.default.createRef?r.chartRef=l.default.createRef():r.setRef=function(e){return r.chartRef=e},r.chart=null,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(e,s.Component),i(e,[{key:"render",value:function(){var e=this.props,t=(e.type,e.height,e.width,e.series,e.options,function(e,t){var r={};for(var n in e)0<=t.indexOf(n)||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(e,["type","height","width","series","options"]));return l.default.createElement("div",o({ref:l.default.createRef?this.chartRef:this.setRef},t))}},{key:"componentDidMount",value:function(){var e=l.default.createRef?this.chartRef.current:this.chartRef;this.chart=new a.default(e,this.getConfig()),this.chart.render()}},{key:"getConfig",value:function(){var e=this.props,t=e.type,r=e.height,n=e.width,o=e.series,i=e.options,a={chart:{type:t,height:r,width:n},series:o};return this.extend(i,a)}},{key:"isObject",value:function(e){return e&&"object"===(void 0===e?"undefined":n(e))&&!Array.isArray(e)&&null!=e}},{key:"extend",value:function(e,t){var r=this;"function"!=typeof Object.assign&&(Object.assign=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),r=1;r<arguments.length;r++){var n=arguments[r];if(null!=n)for(var o in n)n.hasOwnProperty(o)&&(t[o]=n[o])}return t});var n=Object.assign({},e);return this.isObject(e)&&this.isObject(t)&&Object.keys(t).forEach((function(o){r.isObject(t[o])&&o in e?n[o]=r.extend(e[o],t[o]):Object.assign(n,function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},o,t[o]))})),n}},{key:"componentDidUpdate",value:function(e){if(!this.chart)return null;var t=this.props,r=t.options,n=t.series,o=t.height,i=t.width,a=JSON.stringify(e.options),s=JSON.stringify(e.series),l=JSON.stringify(r),u=JSON.stringify(n);a===l&&s===u&&o===e.height&&i===e.width||(s===u?this.chart.updateOptions(this.getConfig()):a===l&&o===e.height&&i===e.width?this.chart.updateSeries(n):this.chart.updateOptions(this.getConfig()))}},{key:"componentWillUnmount",value:function(){this.chart&&"function"==typeof this.chart.destroy&&this.chart.destroy()}}]),e}();(t.Z=p).propTypes={type:u.default.string.isRequired,width:u.default.any,height:u.default.any,series:u.default.array.isRequired,options:u.default.object.isRequired},p.defaultProps={type:"line",width:"100%",height:"auto"}},1071:function(e,t,r){"use strict";var n=r(2791);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=Object.prototype.hasOwnProperty,a=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,s={},l={};function u(e){return!!i.call(l,e)||!i.call(s,e)&&(a.test(e)?l[e]=!0:(s[e]=!0,!1))}function c(e,t,r,n,o,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=o,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var p={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){p[e]=new c(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];p[t]=new c(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){p[e]=new c(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){p[e]=new c(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){p[e]=new c(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){p[e]=new c(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){p[e]=new c(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){p[e]=new c(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){p[e]=new c(e,5,!1,e.toLowerCase(),null,!1,!1)}));var d=/[\-:]([a-z])/g;function h(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(d,h);p[t]=new c(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(d,h);p[t]=new c(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(d,h);p[t]=new c(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){p[e]=new c(e,1,!1,e.toLowerCase(),null,!1,!1)})),p.xlinkHref=new c("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){p[e]=new c(e,1,!1,e.toLowerCase(),null,!0,!0)}));var f={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},g=["Webkit","ms","Moz","O"];Object.keys(f).forEach((function(e){g.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),f[t]=f[e]}))}));var y=/["'&<>]/;function v(e){if("boolean"===typeof e||"number"===typeof e)return""+e;e=""+e;var t=y.exec(e);if(t){var r,n="",o=0;for(r=t.index;r<e.length;r++){switch(e.charCodeAt(r)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}o!==r&&(n+=e.substring(o,r)),o=r+1,n+=t}e=o!==r?n+e.substring(o,r):n}return e}var m=/([A-Z])/g,b=/^ms-/,C=Array.isArray;function w(e,t){return{insertionMode:e,selectedValue:t}}var x=new Map;function S(e,t,r){if("object"!==typeof r)throw Error(o(62));for(var n in t=!0,r)if(i.call(r,n)){var a=r[n];if(null!=a&&"boolean"!==typeof a&&""!==a){if(0===n.indexOf("--")){var s=v(n);a=v((""+a).trim())}else{s=n;var l=x.get(s);void 0!==l||(l=v(s.replace(m,"-$1").toLowerCase().replace(b,"-ms-")),x.set(s,l)),s=l,a="number"===typeof a?0===a||i.call(f,n)?""+a:a+"px":v((""+a).trim())}t?(t=!1,e.push(' style="',s,":",a)):e.push(";",s,":",a)}}t||e.push('"')}function E(e,t,r,n){switch(r){case"style":return void S(e,t,n);case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<r.length)||"o"!==r[0]&&"O"!==r[0]||"n"!==r[1]&&"N"!==r[1])if(null!==(t=p.hasOwnProperty(r)?p[r]:null)){switch(typeof n){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(r=t.attributeName,t.type){case 3:n&&e.push(" ",r,'=""');break;case 4:!0===n?e.push(" ",r,'=""'):!1!==n&&e.push(" ",r,'="',v(n),'"');break;case 5:isNaN(n)||e.push(" ",r,'="',v(n),'"');break;case 6:!isNaN(n)&&1<=n&&e.push(" ",r,'="',v(n),'"');break;default:t.sanitizeURL&&(n=""+n),e.push(" ",r,'="',v(n),'"')}}else if(u(r)){switch(typeof n){case"function":case"symbol":return;case"boolean":if("data-"!==(t=r.toLowerCase().slice(0,5))&&"aria-"!==t)return}e.push(" ",r,'="',v(n),'"')}}function O(e,t,r){if(null!=t){if(null!=r)throw Error(o(60));if("object"!==typeof t||!("__html"in t))throw Error(o(61));null!==(t=t.__html)&&void 0!==t&&e.push(""+t)}}function _(e,t,r,n){e.push(A(r));var o,a=r=null;for(o in t)if(i.call(t,o)){var s=t[o];if(null!=s)switch(o){case"children":r=s;break;case"dangerouslySetInnerHTML":a=s;break;default:E(e,n,o,s)}}return e.push(">"),O(e,a,r),"string"===typeof r?(e.push(v(r)),null):r}var P=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,R=new Map;function A(e){var t=R.get(e);if(void 0===t){if(!P.test(e))throw Error(o(65,e));t="<"+e,R.set(e,t)}return t}function T(e,t,r,a,s){switch(t){case"select":e.push(A("select"));var l=null,c=null;for(f in r)if(i.call(r,f)){var p=r[f];if(null!=p)switch(f){case"children":l=p;break;case"dangerouslySetInnerHTML":c=p;break;case"defaultValue":case"value":break;default:E(e,a,f,p)}}return e.push(">"),O(e,c,l),l;case"option":c=s.selectedValue,e.push(A("option"));var d=p=null,h=null,f=null;for(l in r)if(i.call(r,l)){var g=r[l];if(null!=g)switch(l){case"children":p=g;break;case"selected":h=g;break;case"dangerouslySetInnerHTML":f=g;break;case"value":d=g;default:E(e,a,l,g)}}if(null!=c)if(r=null!==d?""+d:function(e){var t="";return n.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(p),C(c)){for(a=0;a<c.length;a++)if(""+c[a]===r){e.push(' selected=""');break}}else""+c===r&&e.push(' selected=""');else h&&e.push(' selected=""');return e.push(">"),O(e,f,p),p;case"textarea":for(p in e.push(A("textarea")),f=c=l=null,r)if(i.call(r,p)&&null!=(d=r[p]))switch(p){case"children":f=d;break;case"value":l=d;break;case"defaultValue":c=d;break;case"dangerouslySetInnerHTML":throw Error(o(91));default:E(e,a,p,d)}if(null===l&&null!==c&&(l=c),e.push(">"),null!=f){if(null!=l)throw Error(o(92));if(C(f)&&1<f.length)throw Error(o(93));l=""+f}return"string"===typeof l&&"\n"===l[0]&&e.push("\n"),null!==l&&e.push(v(""+l)),null;case"input":for(c in e.push(A("input")),d=f=p=l=null,r)if(i.call(r,c)&&null!=(h=r[c]))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(o(399,"input"));case"defaultChecked":d=h;break;case"defaultValue":p=h;break;case"checked":f=h;break;case"value":l=h;break;default:E(e,a,c,h)}return null!==f?E(e,a,"checked",f):null!==d&&E(e,a,"checked",d),null!==l?E(e,a,"value",l):null!==p&&E(e,a,"value",p),e.push("/>"),null;case"menuitem":for(var y in e.push(A("menuitem")),r)if(i.call(r,y)&&null!=(l=r[y]))switch(y){case"children":case"dangerouslySetInnerHTML":throw Error(o(400));default:E(e,a,y,l)}return e.push(">"),null;case"title":for(g in e.push(A("title")),l=null,r)if(i.call(r,g)&&null!=(c=r[g]))switch(g){case"children":l=c;break;case"dangerouslySetInnerHTML":throw Error(o(434));default:E(e,a,g,c)}return e.push(">"),l;case"listing":case"pre":for(d in e.push(A(t)),c=l=null,r)if(i.call(r,d)&&null!=(p=r[d]))switch(d){case"children":l=p;break;case"dangerouslySetInnerHTML":c=p;break;default:E(e,a,d,p)}if(e.push(">"),null!=c){if(null!=l)throw Error(o(60));if("object"!==typeof c||!("__html"in c))throw Error(o(61));null!==(r=c.__html)&&void 0!==r&&("string"===typeof r&&0<r.length&&"\n"===r[0]?e.push("\n",r):e.push(""+r))}return"string"===typeof l&&"\n"===l[0]&&e.push("\n"),l;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":for(var m in e.push(A(t)),r)if(i.call(r,m)&&null!=(l=r[m]))switch(m){case"children":case"dangerouslySetInnerHTML":throw Error(o(399,t));default:E(e,a,m,l)}return e.push("/>"),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return _(e,r,t,a);case"html":return 0===s.insertionMode&&e.push("<!DOCTYPE html>"),_(e,r,t,a);default:if(-1===t.indexOf("-")&&"string"!==typeof r.is)return _(e,r,t,a);for(h in e.push(A(t)),c=l=null,r)if(i.call(r,h)&&null!=(p=r[h]))switch(h){case"children":l=p;break;case"dangerouslySetInnerHTML":c=p;break;case"style":S(e,a,p);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:u(h)&&"function"!==typeof p&&"symbol"!==typeof p&&e.push(" ",h,'="',v(p),'"')}return e.push(">"),O(e,c,l),l}}function D(e,t,r){if(e.push('\x3c!--$?--\x3e<template id="'),null===r)throw Error(o(395));return e.push(r),e.push('"></template>')}var M=/[<\u2028\u2029]/g;function k(e){return JSON.stringify(e).replace(M,(function(e){switch(e){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}}))}function N(e,t,r,n){return r.generateStaticMarkup?(e.push(v(t)),!1):(""===t?e=n:(n&&e.push("\x3c!-- --\x3e"),e.push(v(t)),e=!0),e)}var I=Object.assign,L=Symbol.for("react.element"),F=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),H=Symbol.for("react.provider"),j=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),K=Symbol.for("react.scope"),q=Symbol.for("react.debug_trace_mode"),$=Symbol.for("react.legacy_hidden"),Z=Symbol.for("react.default_value"),Q=Symbol.iterator;function J(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case G:return"Fragment";case F:return"Portal";case W:return"Profiler";case B:return"StrictMode";case z:return"Suspense";case U:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case j:return(e.displayName||"Context")+".Consumer";case H:return(e._context.displayName||"Context")+".Provider";case V:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case Y:return null!==(t=e.displayName||null)?t:J(e.type)||"Memo";case X:t=e._payload,e=e._init;try{return J(e(t))}catch(r){}}return null}var ee={};function te(e,t){if(!(e=e.contextTypes))return ee;var r,n={};for(r in e)n[r]=t[r];return n}var re=null;function ne(e,t){if(e!==t){e.context._currentValue2=e.parentValue,e=e.parent;var r=t.parent;if(null===e){if(null!==r)throw Error(o(401))}else{if(null===r)throw Error(o(401));ne(e,r)}t.context._currentValue2=t.value}}function oe(e){e.context._currentValue2=e.parentValue,null!==(e=e.parent)&&oe(e)}function ie(e){var t=e.parent;null!==t&&ie(t),e.context._currentValue2=e.value}function ae(e,t){if(e.context._currentValue2=e.parentValue,null===(e=e.parent))throw Error(o(402));e.depth===t.depth?ne(e,t):ae(e,t)}function se(e,t){var r=t.parent;if(null===r)throw Error(o(402));e.depth===r.depth?ne(e,r):se(e,r),t.context._currentValue2=t.value}function le(e){var t=re;t!==e&&(null===t?ie(e):null===e?oe(t):t.depth===e.depth?ne(t,e):t.depth>e.depth?ae(t,e):se(t,e),re=e)}var ue={isMounted:function(){return!1},enqueueSetState:function(e,t){null!==(e=e._reactInternals).queue&&e.queue.push(t)},enqueueReplaceState:function(e,t){(e=e._reactInternals).replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}};function ce(e,t,r,n){var o=void 0!==e.state?e.state:null;e.updater=ue,e.props=r,e.state=o;var i={queue:[],replace:!1};e._reactInternals=i;var a=t.contextType;if(e.context="object"===typeof a&&null!==a?a._currentValue2:n,"function"===typeof(a=t.getDerivedStateFromProps)&&(o=null===(a=a(r,o))||void 0===a?o:I({},o,a),e.state=o),"function"!==typeof t.getDerivedStateFromProps&&"function"!==typeof e.getSnapshotBeforeUpdate&&("function"===typeof e.UNSAFE_componentWillMount||"function"===typeof e.componentWillMount))if(t=e.state,"function"===typeof e.componentWillMount&&e.componentWillMount(),"function"===typeof e.UNSAFE_componentWillMount&&e.UNSAFE_componentWillMount(),t!==e.state&&ue.enqueueReplaceState(e,e.state,null),null!==i.queue&&0<i.queue.length)if(t=i.queue,a=i.replace,i.queue=null,i.replace=!1,a&&1===t.length)e.state=t[0];else{for(i=a?t[0]:e.state,o=!0,a=a?1:0;a<t.length;a++){var s=t[a];null!=(s="function"===typeof s?s.call(e,i,r,n):s)&&(o?(o=!1,i=I({},i,s)):I(i,s))}e.state=i}else i.queue=null}var pe={id:1,overflow:""};function de(e,t,r){var n=e.id;e=e.overflow;var o=32-he(n)-1;n&=~(1<<o),r+=1;var i=32-he(t)+o;if(30<i){var a=o-o%5;return i=(n&(1<<a)-1).toString(32),n>>=a,o-=a,{id:1<<32-he(t)+o|r<<o|n,overflow:i+e}}return{id:1<<i|r<<o|n,overflow:e}}var he=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(fe(e)/ge|0)|0},fe=Math.log,ge=Math.LN2;var ye="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},ve=null,me=null,be=null,Ce=null,we=!1,xe=!1,Se=0,Ee=null,Oe=0;function _e(){if(null===ve)throw Error(o(321));return ve}function Pe(){if(0<Oe)throw Error(o(312));return{memoizedState:null,queue:null,next:null}}function Re(){return null===Ce?null===be?(we=!1,be=Ce=Pe()):(we=!0,Ce=be):null===Ce.next?(we=!1,Ce=Ce.next=Pe()):(we=!0,Ce=Ce.next),Ce}function Ae(){me=ve=null,xe=!1,be=null,Oe=0,Ce=Ee=null}function Te(e,t){return"function"===typeof t?t(e):t}function De(e,t,r){if(ve=_e(),Ce=Re(),we){var n=Ce.queue;if(t=n.dispatch,null!==Ee&&void 0!==(r=Ee.get(n))){Ee.delete(n),n=Ce.memoizedState;do{n=e(n,r.action),r=r.next}while(null!==r);return Ce.memoizedState=n,[n,t]}return[Ce.memoizedState,t]}return e=e===Te?"function"===typeof t?t():t:void 0!==r?r(t):t,Ce.memoizedState=e,e=(e=Ce.queue={last:null,dispatch:null}).dispatch=ke.bind(null,ve,e),[Ce.memoizedState,e]}function Me(e,t){if(ve=_e(),t=void 0===t?null:t,null!==(Ce=Re())){var r=Ce.memoizedState;if(null!==r&&null!==t){var n=r[1];e:if(null===n)n=!1;else{for(var o=0;o<n.length&&o<t.length;o++)if(!ye(t[o],n[o])){n=!1;break e}n=!0}if(n)return r[0]}}return e=e(),Ce.memoizedState=[e,t],e}function ke(e,t,r){if(25<=Oe)throw Error(o(301));if(e===ve)if(xe=!0,e={action:r,next:null},null===Ee&&(Ee=new Map),void 0===(r=Ee.get(t)))Ee.set(t,e);else{for(t=r;null!==t.next;)t=t.next;t.next=e}}function Ne(){throw Error(o(394))}function Ie(){}var Le={readContext:function(e){return e._currentValue2},useContext:function(e){return _e(),e._currentValue2},useMemo:Me,useReducer:De,useRef:function(e){ve=_e();var t=(Ce=Re()).memoizedState;return null===t?(e={current:e},Ce.memoizedState=e):t},useState:function(e){return De(Te,e)},useInsertionEffect:Ie,useLayoutEffect:function(){},useCallback:function(e,t){return Me((function(){return e}),t)},useImperativeHandle:Ie,useEffect:Ie,useDebugValue:Ie,useDeferredValue:function(e){return _e(),e},useTransition:function(){return _e(),[!1,Ne]},useId:function(){var e=me.treeContext,t=e.overflow;e=((e=e.id)&~(1<<32-he(e)-1)).toString(32)+t;var r=Fe;if(null===r)throw Error(o(404));return t=Se++,e=":"+r.idPrefix+"R"+e,0<t&&(e+="H"+t.toString(32)),e+":"},useMutableSource:function(e,t){return _e(),t(e._source)},useSyncExternalStore:function(e,t,r){if(void 0===r)throw Error(o(407));return r()}},Fe=null,Ge=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function Be(e){return console.error(e),null}function We(){}function He(e,t,r,n,o,i,a,s){e.allPendingTasks++,null===r?e.pendingRootTasks++:r.pendingTasks++;var l={node:t,ping:function(){var t=e.pingedTasks;t.push(l),1===t.length&&rt(e)},blockedBoundary:r,blockedSegment:n,abortSet:o,legacyContext:i,context:a,treeContext:s};return o.add(l),l}function je(e,t,r,n,o,i){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:n,boundary:r,lastPushedText:o,textEmbedded:i}}function Ve(e,t){if(null!=(e=e.onError(t))&&"string"!==typeof e)throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function ze(e,t){var r=e.onShellError;r(t),(r=e.onFatalError)(t),null!==e.destination?(e.status=2,e.destination.destroy(t)):(e.status=1,e.fatalError=t)}function Ue(e,t,r,n,o){for(ve={},me=t,Se=0,e=r(n,o);xe;)xe=!1,Se=0,Oe+=1,Ce=null,e=r(n,o);return Ae(),e}function Ye(e,t,r,n){var i=r.render(),a=n.childContextTypes;if(null!==a&&void 0!==a){var s=t.legacyContext;if("function"!==typeof r.getChildContext)n=s;else{for(var l in r=r.getChildContext())if(!(l in a))throw Error(o(108,J(n)||"Unknown",l));n=I({},s,r)}t.legacyContext=n,qe(e,t,i),t.legacyContext=s}else qe(e,t,i)}function Xe(e,t){if(e&&e.defaultProps){for(var r in t=I({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}return t}function Ke(e,t,r,n,i){if("function"===typeof r)if(r.prototype&&r.prototype.isReactComponent){i=te(r,t.legacyContext);var a=r.contextType;ce(a=new r(n,"object"===typeof a&&null!==a?a._currentValue2:i),r,n,i),Ye(e,t,a,r)}else{i=Ue(e,t,r,n,a=te(r,t.legacyContext));var s=0!==Se;if("object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof)ce(i,r,n,a),Ye(e,t,i,r);else if(s){n=t.treeContext,t.treeContext=de(n,1,0);try{qe(e,t,i)}finally{t.treeContext=n}}else qe(e,t,i)}else{if("string"!==typeof r){switch(r){case $:case q:case B:case W:case G:case U:return void qe(e,t,n.children);case K:throw Error(o(343));case z:e:{r=t.blockedBoundary,i=t.blockedSegment,a=n.fallback,n=n.children;var l={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:s=new Set,errorDigest:null},u=je(0,i.chunks.length,l,i.formatContext,!1,!1);i.children.push(u),i.lastPushedText=!1;var c=je(0,0,null,i.formatContext,!1,!1);c.parentFlushed=!0,t.blockedBoundary=l,t.blockedSegment=c;try{if(Ze(e,t,n),e.responseState.generateStaticMarkup||c.lastPushedText&&c.textEmbedded&&c.chunks.push("\x3c!-- --\x3e"),c.status=1,et(l,c),0===l.pendingTasks)break e}catch(p){c.status=4,l.forceClientRender=!0,l.errorDigest=Ve(e,p)}finally{t.blockedBoundary=r,t.blockedSegment=i}t=He(e,a,r,u,s,t.legacyContext,t.context,t.treeContext),e.pingedTasks.push(t)}return}if("object"===typeof r&&null!==r)switch(r.$$typeof){case V:if(n=Ue(e,t,r.render,n,i),0!==Se){r=t.treeContext,t.treeContext=de(r,1,0);try{qe(e,t,n)}finally{t.treeContext=r}}else qe(e,t,n);return;case Y:return void Ke(e,t,r=r.type,n=Xe(r,n),i);case H:if(i=n.children,r=r._context,n=n.value,a=r._currentValue2,r._currentValue2=n,re=n={parent:s=re,depth:null===s?0:s.depth+1,context:r,parentValue:a,value:n},t.context=n,qe(e,t,i),null===(e=re))throw Error(o(403));return n=e.parentValue,e.context._currentValue2=n===Z?e.context._defaultValue:n,e=re=e.parent,void(t.context=e);case j:return void qe(e,t,n=(n=n.children)(r._currentValue2));case X:return void Ke(e,t,r=(i=r._init)(r._payload),n=Xe(r,n),void 0)}throw Error(o(130,null==r?r:typeof r,""))}switch(a=T((i=t.blockedSegment).chunks,r,n,e.responseState,i.formatContext),i.lastPushedText=!1,s=i.formatContext,i.formatContext=function(e,t,r){switch(t){case"select":return w(1,null!=r.value?r.value:r.defaultValue);case"svg":return w(2,null);case"math":return w(3,null);case"foreignObject":return w(1,null);case"table":return w(4,null);case"thead":case"tbody":case"tfoot":return w(5,null);case"colgroup":return w(7,null);case"tr":return w(6,null)}return 4<=e.insertionMode||0===e.insertionMode?w(1,null):e}(s,r,n),Ze(e,t,a),i.formatContext=s,r){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:i.chunks.push("</",r,">")}i.lastPushedText=!1}}function qe(e,t,r){if(t.node=r,"object"===typeof r&&null!==r){switch(r.$$typeof){case L:return void Ke(e,t,r.type,r.props,r.ref);case F:throw Error(o(257));case X:var n=r._init;return void qe(e,t,r=n(r._payload))}if(C(r))return void $e(e,t,r);if(null===r||"object"!==typeof r?n=null:n="function"===typeof(n=Q&&r[Q]||r["@@iterator"])?n:null,n&&(n=n.call(r))){if(!(r=n.next()).done){var i=[];do{i.push(r.value),r=n.next()}while(!r.done);$e(e,t,i)}return}throw e=Object.prototype.toString.call(r),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(r).join(", ")+"}":e))}"string"===typeof r?(n=t.blockedSegment).lastPushedText=N(t.blockedSegment.chunks,r,e.responseState,n.lastPushedText):"number"===typeof r&&((n=t.blockedSegment).lastPushedText=N(t.blockedSegment.chunks,""+r,e.responseState,n.lastPushedText))}function $e(e,t,r){for(var n=r.length,o=0;o<n;o++){var i=t.treeContext;t.treeContext=de(i,n,o);try{Ze(e,t,r[o])}finally{t.treeContext=i}}}function Ze(e,t,r){var n=t.blockedSegment.formatContext,o=t.legacyContext,i=t.context;try{return qe(e,t,r)}catch(l){if(Ae(),"object"!==typeof l||null===l||"function"!==typeof l.then)throw t.blockedSegment.formatContext=n,t.legacyContext=o,t.context=i,le(i),l;r=l;var a=t.blockedSegment,s=je(0,a.chunks.length,null,a.formatContext,a.lastPushedText,!0);a.children.push(s),a.lastPushedText=!1,e=He(e,t.node,t.blockedBoundary,s,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,r.then(e,e),t.blockedSegment.formatContext=n,t.legacyContext=o,t.context=i,le(i)}}function Qe(e){var t=e.blockedBoundary;(e=e.blockedSegment).status=3,tt(this,t,e)}function Je(e,t,r){var n=e.blockedBoundary;e.blockedSegment.status=3,null===n?(t.allPendingTasks--,2!==t.status&&(t.status=2,null!==t.destination&&t.destination.push(null))):(n.pendingTasks--,n.forceClientRender||(n.forceClientRender=!0,e=void 0===r?Error(o(432)):r,n.errorDigest=t.onError(e),n.parentFlushed&&t.clientRenderedBoundaries.push(n)),n.fallbackAbortableTasks.forEach((function(e){return Je(e,t,r)})),n.fallbackAbortableTasks.clear(),t.allPendingTasks--,0===t.allPendingTasks&&(n=t.onAllReady)())}function et(e,t){if(0===t.chunks.length&&1===t.children.length&&null===t.children[0].boundary){var r=t.children[0];r.id=t.id,r.parentFlushed=!0,1===r.status&&et(e,r)}else e.completedSegments.push(t)}function tt(e,t,r){if(null===t){if(r.parentFlushed){if(null!==e.completedRootSegment)throw Error(o(389));e.completedRootSegment=r}e.pendingRootTasks--,0===e.pendingRootTasks&&(e.onShellError=We,(t=e.onShellReady)())}else t.pendingTasks--,t.forceClientRender||(0===t.pendingTasks?(r.parentFlushed&&1===r.status&&et(t,r),t.parentFlushed&&e.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(Qe,e),t.fallbackAbortableTasks.clear()):r.parentFlushed&&1===r.status&&(et(t,r),1===t.completedSegments.length&&t.parentFlushed&&e.partialBoundaries.push(t)));e.allPendingTasks--,0===e.allPendingTasks&&(e=e.onAllReady)()}function rt(e){if(2!==e.status){var t=re,r=Ge.current;Ge.current=Le;var n=Fe;Fe=e.responseState;try{var o,i=e.pingedTasks;for(o=0;o<i.length;o++){var a=i[o],s=e,l=a.blockedSegment;if(0===l.status){le(a.context);try{qe(s,a,a.node),s.responseState.generateStaticMarkup||l.lastPushedText&&l.textEmbedded&&l.chunks.push("\x3c!-- --\x3e"),a.abortSet.delete(a),l.status=1,tt(s,a.blockedBoundary,l)}catch(h){if(Ae(),"object"===typeof h&&null!==h&&"function"===typeof h.then){var u=a.ping;h.then(u,u)}else{a.abortSet.delete(a),l.status=4;var c=a.blockedBoundary,p=h,d=Ve(s,p);if(null===c?ze(s,p):(c.pendingTasks--,c.forceClientRender||(c.forceClientRender=!0,c.errorDigest=d,c.parentFlushed&&s.clientRenderedBoundaries.push(c))),s.allPendingTasks--,0===s.allPendingTasks)(0,s.onAllReady)()}}}}i.splice(0,o),null!==e.destination&&lt(e,e.destination)}catch(h){Ve(e,h),ze(e,h)}finally{Fe=n,Ge.current=r,r===Le&&le(t)}}}function nt(e,t,r){switch(r.parentFlushed=!0,r.status){case 0:var n=r.id=e.nextSegmentId++;return r.lastPushedText=!1,r.textEmbedded=!1,e=e.responseState,t.push('<template id="'),t.push(e.placeholderPrefix),e=n.toString(16),t.push(e),t.push('"></template>');case 1:r.status=2;var i=!0;n=r.chunks;var a=0;r=r.children;for(var s=0;s<r.length;s++){for(i=r[s];a<i.index;a++)t.push(n[a]);i=ot(e,t,i)}for(;a<n.length-1;a++)t.push(n[a]);return a<n.length&&(i=t.push(n[a])),i;default:throw Error(o(390))}}function ot(e,t,r){var n=r.boundary;if(null===n)return nt(e,t,r);if(n.parentFlushed=!0,n.forceClientRender)return e.responseState.generateStaticMarkup||(n=n.errorDigest,t.push("\x3c!--$!--\x3e"),t.push("<template"),n&&(t.push(' data-dgst="'),n=v(n),t.push(n),t.push('"')),t.push("></template>")),nt(e,t,r),e=!!e.responseState.generateStaticMarkup||t.push("\x3c!--/$--\x3e");if(0<n.pendingTasks){n.rootSegmentID=e.nextSegmentId++,0<n.completedSegments.length&&e.partialBoundaries.push(n);var i=e.responseState,a=i.nextSuspenseID++;return i=i.boundaryPrefix+a.toString(16),n=n.id=i,D(t,e.responseState,n),nt(e,t,r),t.push("\x3c!--/$--\x3e")}if(n.byteSize>e.progressiveChunkSize)return n.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(n),D(t,e.responseState,n.id),nt(e,t,r),t.push("\x3c!--/$--\x3e");if(e.responseState.generateStaticMarkup||t.push("\x3c!--$--\x3e"),1!==(r=n.completedSegments).length)throw Error(o(391));return ot(e,t,r[0]),e=!!e.responseState.generateStaticMarkup||t.push("\x3c!--/$--\x3e")}function it(e,t,r){return function(e,t,r,n){switch(r.insertionMode){case 0:case 1:return e.push('<div hidden id="'),e.push(t.segmentPrefix),t=n.toString(16),e.push(t),e.push('">');case 2:return e.push('<svg aria-hidden="true" style="display:none" id="'),e.push(t.segmentPrefix),t=n.toString(16),e.push(t),e.push('">');case 3:return e.push('<math aria-hidden="true" style="display:none" id="'),e.push(t.segmentPrefix),t=n.toString(16),e.push(t),e.push('">');case 4:return e.push('<table hidden id="'),e.push(t.segmentPrefix),t=n.toString(16),e.push(t),e.push('">');case 5:return e.push('<table hidden><tbody id="'),e.push(t.segmentPrefix),t=n.toString(16),e.push(t),e.push('">');case 6:return e.push('<table hidden><tr id="'),e.push(t.segmentPrefix),t=n.toString(16),e.push(t),e.push('">');case 7:return e.push('<table hidden><colgroup id="'),e.push(t.segmentPrefix),t=n.toString(16),e.push(t),e.push('">');default:throw Error(o(397))}}(t,e.responseState,r.formatContext,r.id),ot(e,t,r),function(e,t){switch(t.insertionMode){case 0:case 1:return e.push("</div>");case 2:return e.push("</svg>");case 3:return e.push("</math>");case 4:return e.push("</table>");case 5:return e.push("</tbody></table>");case 6:return e.push("</tr></table>");case 7:return e.push("</colgroup></table>");default:throw Error(o(397))}}(t,r.formatContext)}function at(e,t,r){for(var n=r.completedSegments,i=0;i<n.length;i++)st(e,t,r,n[i]);if(n.length=0,e=e.responseState,n=r.id,r=r.rootSegmentID,t.push(e.startInlineScript),e.sentCompleteBoundaryFunction?t.push('$RC("'):(e.sentCompleteBoundaryFunction=!0,t.push('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("')),null===n)throw Error(o(395));return r=r.toString(16),t.push(n),t.push('","'),t.push(e.segmentPrefix),t.push(r),t.push('")<\/script>')}function st(e,t,r,n){if(2===n.status)return!0;var i=n.id;if(-1===i){if(-1===(n.id=r.rootSegmentID))throw Error(o(392));return it(e,t,n)}return it(e,t,n),e=e.responseState,t.push(e.startInlineScript),e.sentCompleteSegmentFunction?t.push('$RS("'):(e.sentCompleteSegmentFunction=!0,t.push('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')),t.push(e.segmentPrefix),i=i.toString(16),t.push(i),t.push('","'),t.push(e.placeholderPrefix),t.push(i),t.push('")<\/script>')}function lt(e,t){try{var r=e.completedRootSegment;if(null!==r&&0===e.pendingRootTasks){ot(e,t,r),e.completedRootSegment=null;var n=e.responseState.bootstrapChunks;for(r=0;r<n.length-1;r++)t.push(n[r]);r<n.length&&t.push(n[r])}var i,a=e.clientRenderedBoundaries;for(i=0;i<a.length;i++){var s=a[i];n=t;var l=e.responseState,u=s.id,c=s.errorDigest,p=s.errorMessage,d=s.errorComponentStack;if(n.push(l.startInlineScript),l.sentClientRenderFunction?n.push('$RX("'):(l.sentClientRenderFunction=!0,n.push('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("')),null===u)throw Error(o(395));if(n.push(u),n.push('"'),c||p||d){n.push(",");var h=k(c||"");n.push(h)}if(p||d){n.push(",");var f=k(p||"");n.push(f)}if(d){n.push(",");var g=k(d);n.push(g)}if(!n.push(")<\/script>"))return e.destination=null,i++,void a.splice(0,i)}a.splice(0,i);var y=e.completedBoundaries;for(i=0;i<y.length;i++)if(!at(e,t,y[i]))return e.destination=null,i++,void y.splice(0,i);y.splice(0,i);var v=e.partialBoundaries;for(i=0;i<v.length;i++){var m=v[i];e:{a=e,s=t;var b=m.completedSegments;for(l=0;l<b.length;l++)if(!st(a,s,m,b[l])){l++,b.splice(0,l);var C=!1;break e}b.splice(0,l),C=!0}if(!C)return e.destination=null,i++,void v.splice(0,i)}v.splice(0,i);var w=e.completedBoundaries;for(i=0;i<w.length;i++)if(!at(e,t,w[i]))return e.destination=null,i++,void w.splice(0,i);w.splice(0,i)}finally{0===e.allPendingTasks&&0===e.pingedTasks.length&&0===e.clientRenderedBoundaries.length&&0===e.completedBoundaries.length&&t.push(null)}}function ut(e,t){try{var r=e.abortableTasks;r.forEach((function(r){return Je(r,e,t)})),r.clear(),null!==e.destination&&lt(e,e.destination)}catch(n){Ve(e,n),ze(e,n)}}function ct(){}function pt(e,t,r,n){var i=!1,a=null,s="",l={push:function(e){return null!==e&&(s+=e),!0},destroy:function(e){i=!0,a=e}},u=!1;if(e=function(e,t,r,n,o,i,a,s,l){var u=[],c=new Set;return(r=je(t={destination:null,responseState:t,progressiveChunkSize:void 0===n?12800:n,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:c,pingedTasks:u,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:void 0===o?Be:o,onAllReady:void 0===i?We:i,onShellReady:void 0===a?We:a,onShellError:void 0===s?We:s,onFatalError:void 0===l?We:l},0,null,r,!1,!1)).parentFlushed=!0,e=He(t,e,null,r,c,ee,null,pe),u.push(e),t}(e,function(e,t){return{bootstrapChunks:[],startInlineScript:"<script>",placeholderPrefix:(t=void 0===t?"":t)+"P:",segmentPrefix:t+"S:",boundaryPrefix:t+"B:",idPrefix:t,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1,generateStaticMarkup:e}}(r,t?t.identifierPrefix:void 0),{insertionMode:1,selectedValue:null},1/0,ct,void 0,(function(){u=!0}),void 0,void 0),rt(e),ut(e,n),1===e.status)e.status=2,l.destroy(e.fatalError);else if(2!==e.status&&null===e.destination){e.destination=l;try{lt(e,l)}catch(c){Ve(e,c),ze(e,c)}}if(i)throw a;if(!u)throw Error(o(426));return s}t.renderToNodeStream=function(){throw Error(o(207))},t.renderToStaticMarkup=function(e,t){return pt(e,t,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},t.renderToStaticNodeStream=function(){throw Error(o(208))},t.renderToString=function(e,t){return pt(e,t,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},t.version="18.2.0"},4424:function(e,t,r){"use strict";var n=r(2791);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=null,a=0;function s(e,t){if(0!==t.length)if(512<t.length)0<a&&(e.enqueue(new Uint8Array(i.buffer,0,a)),i=new Uint8Array(512),a=0),e.enqueue(t);else{var r=i.length-a;r<t.length&&(0===r?e.enqueue(i):(i.set(t.subarray(0,r),a),e.enqueue(i),t=t.subarray(r)),i=new Uint8Array(512),a=0),i.set(t,a),a+=t.length}}function l(e,t){return s(e,t),!0}function u(e){i&&0<a&&(e.enqueue(new Uint8Array(i.buffer,0,a)),i=null,a=0)}var c=new TextEncoder;function p(e){return c.encode(e)}function d(e){return c.encode(e)}function h(e,t){"function"===typeof e.error?e.error(t):e.close()}var f=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},v={};function m(e){return!!f.call(v,e)||!f.call(y,e)&&(g.test(e)?v[e]=!0:(y[e]=!0,!1))}function b(e,t,r,n,o,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=o,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){C[e]=new b(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];C[t]=new b(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){C[e]=new b(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){C[e]=new b(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){C[e]=new b(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){C[e]=new b(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){C[e]=new b(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){C[e]=new b(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){C[e]=new b(e,5,!1,e.toLowerCase(),null,!1,!1)}));var w=/[\-:]([a-z])/g;function x(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(w,x);C[t]=new b(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(w,x);C[t]=new b(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(w,x);C[t]=new b(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){C[e]=new b(e,1,!1,e.toLowerCase(),null,!1,!1)})),C.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){C[e]=new b(e,1,!1,e.toLowerCase(),null,!0,!0)}));var S={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},E=["Webkit","ms","Moz","O"];Object.keys(S).forEach((function(e){E.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),S[t]=S[e]}))}));var O=/["'&<>]/;function _(e){if("boolean"===typeof e||"number"===typeof e)return""+e;e=""+e;var t=O.exec(e);if(t){var r,n="",o=0;for(r=t.index;r<e.length;r++){switch(e.charCodeAt(r)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}o!==r&&(n+=e.substring(o,r)),o=r+1,n+=t}e=o!==r?n+e.substring(o,r):n}return e}var P=/([A-Z])/g,R=/^ms-/,A=Array.isArray,T=d("<script>"),D=d("<\/script>"),M=d('<script src="'),k=d('<script type="module" src="'),N=d('" async=""><\/script>'),I=/(<\/|<)(s)(cript)/gi;function L(e,t,r,n){return t+("s"===r?"\\u0073":"\\u0053")+n}function F(e,t){return{insertionMode:e,selectedValue:t}}var G=d("\x3c!-- --\x3e");function B(e,t,r,n){return""===t?n:(n&&e.push(G),e.push(p(_(t))),!0)}var W=new Map,H=d(' style="'),j=d(":"),V=d(";");function z(e,t,r){if("object"!==typeof r)throw Error(o(62));for(var n in t=!0,r)if(f.call(r,n)){var i=r[n];if(null!=i&&"boolean"!==typeof i&&""!==i){if(0===n.indexOf("--")){var a=p(_(n));i=p(_((""+i).trim()))}else{a=n;var s=W.get(a);void 0!==s||(s=d(_(a.replace(P,"-$1").toLowerCase().replace(R,"-ms-"))),W.set(a,s)),a=s,i="number"===typeof i?0===i||f.call(S,n)?p(""+i):p(i+"px"):p(_((""+i).trim()))}t?(t=!1,e.push(H,a,j,i)):e.push(V,a,j,i)}}t||e.push(X)}var U=d(" "),Y=d('="'),X=d('"'),K=d('=""');function q(e,t,r,n){switch(r){case"style":return void z(e,t,n);case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<r.length)||"o"!==r[0]&&"O"!==r[0]||"n"!==r[1]&&"N"!==r[1])if(null!==(t=C.hasOwnProperty(r)?C[r]:null)){switch(typeof n){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(r=p(t.attributeName),t.type){case 3:n&&e.push(U,r,K);break;case 4:!0===n?e.push(U,r,K):!1!==n&&e.push(U,r,Y,p(_(n)),X);break;case 5:isNaN(n)||e.push(U,r,Y,p(_(n)),X);break;case 6:!isNaN(n)&&1<=n&&e.push(U,r,Y,p(_(n)),X);break;default:t.sanitizeURL&&(n=""+n),e.push(U,r,Y,p(_(n)),X)}}else if(m(r)){switch(typeof n){case"function":case"symbol":return;case"boolean":if("data-"!==(t=r.toLowerCase().slice(0,5))&&"aria-"!==t)return}e.push(U,p(r),Y,p(_(n)),X)}}var $=d(">"),Z=d("/>");function Q(e,t,r){if(null!=t){if(null!=r)throw Error(o(60));if("object"!==typeof t||!("__html"in t))throw Error(o(61));null!==(t=t.__html)&&void 0!==t&&e.push(p(""+t))}}var J=d(' selected=""');function ee(e,t,r,n){e.push(oe(r));var o,i=r=null;for(o in t)if(f.call(t,o)){var a=t[o];if(null!=a)switch(o){case"children":r=a;break;case"dangerouslySetInnerHTML":i=a;break;default:q(e,n,o,a)}}return e.push($),Q(e,i,r),"string"===typeof r?(e.push(p(_(r))),null):r}var te=d("\n"),re=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,ne=new Map;function oe(e){var t=ne.get(e);if(void 0===t){if(!re.test(e))throw Error(o(65,e));t=d("<"+e),ne.set(e,t)}return t}var ie=d("<!DOCTYPE html>");function ae(e,t,r,i,a){switch(t){case"select":e.push(oe("select"));var s=null,l=null;for(h in r)if(f.call(r,h)){var u=r[h];if(null!=u)switch(h){case"children":s=u;break;case"dangerouslySetInnerHTML":l=u;break;case"defaultValue":case"value":break;default:q(e,i,h,u)}}return e.push($),Q(e,l,s),s;case"option":l=a.selectedValue,e.push(oe("option"));var c=u=null,d=null,h=null;for(s in r)if(f.call(r,s)){var g=r[s];if(null!=g)switch(s){case"children":u=g;break;case"selected":d=g;break;case"dangerouslySetInnerHTML":h=g;break;case"value":c=g;default:q(e,i,s,g)}}if(null!=l)if(r=null!==c?""+c:function(e){var t="";return n.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(u),A(l)){for(i=0;i<l.length;i++)if(""+l[i]===r){e.push(J);break}}else""+l===r&&e.push(J);else d&&e.push(J);return e.push($),Q(e,h,u),u;case"textarea":for(u in e.push(oe("textarea")),h=l=s=null,r)if(f.call(r,u)&&null!=(c=r[u]))switch(u){case"children":h=c;break;case"value":s=c;break;case"defaultValue":l=c;break;case"dangerouslySetInnerHTML":throw Error(o(91));default:q(e,i,u,c)}if(null===s&&null!==l&&(s=l),e.push($),null!=h){if(null!=s)throw Error(o(92));if(A(h)&&1<h.length)throw Error(o(93));s=""+h}return"string"===typeof s&&"\n"===s[0]&&e.push(te),null!==s&&e.push(p(_(""+s))),null;case"input":for(l in e.push(oe("input")),c=h=u=s=null,r)if(f.call(r,l)&&null!=(d=r[l]))switch(l){case"children":case"dangerouslySetInnerHTML":throw Error(o(399,"input"));case"defaultChecked":c=d;break;case"defaultValue":u=d;break;case"checked":h=d;break;case"value":s=d;break;default:q(e,i,l,d)}return null!==h?q(e,i,"checked",h):null!==c&&q(e,i,"checked",c),null!==s?q(e,i,"value",s):null!==u&&q(e,i,"value",u),e.push(Z),null;case"menuitem":for(var y in e.push(oe("menuitem")),r)if(f.call(r,y)&&null!=(s=r[y]))switch(y){case"children":case"dangerouslySetInnerHTML":throw Error(o(400));default:q(e,i,y,s)}return e.push($),null;case"title":for(g in e.push(oe("title")),s=null,r)if(f.call(r,g)&&null!=(l=r[g]))switch(g){case"children":s=l;break;case"dangerouslySetInnerHTML":throw Error(o(434));default:q(e,i,g,l)}return e.push($),s;case"listing":case"pre":for(c in e.push(oe(t)),l=s=null,r)if(f.call(r,c)&&null!=(u=r[c]))switch(c){case"children":s=u;break;case"dangerouslySetInnerHTML":l=u;break;default:q(e,i,c,u)}if(e.push($),null!=l){if(null!=s)throw Error(o(60));if("object"!==typeof l||!("__html"in l))throw Error(o(61));null!==(r=l.__html)&&void 0!==r&&("string"===typeof r&&0<r.length&&"\n"===r[0]?e.push(te,p(r)):e.push(p(""+r)))}return"string"===typeof s&&"\n"===s[0]&&e.push(te),s;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":for(var v in e.push(oe(t)),r)if(f.call(r,v)&&null!=(s=r[v]))switch(v){case"children":case"dangerouslySetInnerHTML":throw Error(o(399,t));default:q(e,i,v,s)}return e.push(Z),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return ee(e,r,t,i);case"html":return 0===a.insertionMode&&e.push(ie),ee(e,r,t,i);default:if(-1===t.indexOf("-")&&"string"!==typeof r.is)return ee(e,r,t,i);for(d in e.push(oe(t)),l=s=null,r)if(f.call(r,d)&&null!=(u=r[d]))switch(d){case"children":s=u;break;case"dangerouslySetInnerHTML":l=u;break;case"style":z(e,i,u);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:m(d)&&"function"!==typeof u&&"symbol"!==typeof u&&e.push(U,p(d),Y,p(_(u)),X)}return e.push($),Q(e,l,s),s}}var se=d("</"),le=d(">"),ue=d('<template id="'),ce=d('"></template>'),pe=d("\x3c!--$--\x3e"),de=d('\x3c!--$?--\x3e<template id="'),he=d('"></template>'),fe=d("\x3c!--$!--\x3e"),ge=d("\x3c!--/$--\x3e"),ye=d("<template"),ve=d('"'),me=d(' data-dgst="');d(' data-msg="'),d(' data-stck="');var be=d("></template>");function Ce(e,t,r){if(s(e,de),null===r)throw Error(o(395));return s(e,r),l(e,he)}var we=d('<div hidden id="'),xe=d('">'),Se=d("</div>"),Ee=d('<svg aria-hidden="true" style="display:none" id="'),Oe=d('">'),_e=d("</svg>"),Pe=d('<math aria-hidden="true" style="display:none" id="'),Re=d('">'),Ae=d("</math>"),Te=d('<table hidden id="'),De=d('">'),Me=d("</table>"),ke=d('<table hidden><tbody id="'),Ne=d('">'),Ie=d("</tbody></table>"),Le=d('<table hidden><tr id="'),Fe=d('">'),Ge=d("</tr></table>"),Be=d('<table hidden><colgroup id="'),We=d('">'),He=d("</colgroup></table>");var je=d('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),Ve=d('$RS("'),ze=d('","'),Ue=d('")<\/script>'),Ye=d('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("'),Xe=d('$RC("'),Ke=d('","'),qe=d('")<\/script>'),$e=d('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("'),Ze=d('$RX("'),Qe=d('"'),Je=d(")<\/script>"),et=d(","),tt=/[<\u2028\u2029]/g;function rt(e){return JSON.stringify(e).replace(tt,(function(e){switch(e){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}}))}var nt=Object.assign,ot=Symbol.for("react.element"),it=Symbol.for("react.portal"),at=Symbol.for("react.fragment"),st=Symbol.for("react.strict_mode"),lt=Symbol.for("react.profiler"),ut=Symbol.for("react.provider"),ct=Symbol.for("react.context"),pt=Symbol.for("react.forward_ref"),dt=Symbol.for("react.suspense"),ht=Symbol.for("react.suspense_list"),ft=Symbol.for("react.memo"),gt=Symbol.for("react.lazy"),yt=Symbol.for("react.scope"),vt=Symbol.for("react.debug_trace_mode"),mt=Symbol.for("react.legacy_hidden"),bt=Symbol.for("react.default_value"),Ct=Symbol.iterator;function wt(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case at:return"Fragment";case it:return"Portal";case lt:return"Profiler";case st:return"StrictMode";case dt:return"Suspense";case ht:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case ct:return(e.displayName||"Context")+".Consumer";case ut:return(e._context.displayName||"Context")+".Provider";case pt:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case ft:return null!==(t=e.displayName||null)?t:wt(e.type)||"Memo";case gt:t=e._payload,e=e._init;try{return wt(e(t))}catch(r){}}return null}var xt={};function St(e,t){if(!(e=e.contextTypes))return xt;var r,n={};for(r in e)n[r]=t[r];return n}var Et=null;function Ot(e,t){if(e!==t){e.context._currentValue=e.parentValue,e=e.parent;var r=t.parent;if(null===e){if(null!==r)throw Error(o(401))}else{if(null===r)throw Error(o(401));Ot(e,r)}t.context._currentValue=t.value}}function _t(e){e.context._currentValue=e.parentValue,null!==(e=e.parent)&&_t(e)}function Pt(e){var t=e.parent;null!==t&&Pt(t),e.context._currentValue=e.value}function Rt(e,t){if(e.context._currentValue=e.parentValue,null===(e=e.parent))throw Error(o(402));e.depth===t.depth?Ot(e,t):Rt(e,t)}function At(e,t){var r=t.parent;if(null===r)throw Error(o(402));e.depth===r.depth?Ot(e,r):At(e,r),t.context._currentValue=t.value}function Tt(e){var t=Et;t!==e&&(null===t?Pt(e):null===e?_t(t):t.depth===e.depth?Ot(t,e):t.depth>e.depth?Rt(t,e):At(t,e),Et=e)}var Dt={isMounted:function(){return!1},enqueueSetState:function(e,t){null!==(e=e._reactInternals).queue&&e.queue.push(t)},enqueueReplaceState:function(e,t){(e=e._reactInternals).replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}};function Mt(e,t,r,n){var o=void 0!==e.state?e.state:null;e.updater=Dt,e.props=r,e.state=o;var i={queue:[],replace:!1};e._reactInternals=i;var a=t.contextType;if(e.context="object"===typeof a&&null!==a?a._currentValue:n,"function"===typeof(a=t.getDerivedStateFromProps)&&(o=null===(a=a(r,o))||void 0===a?o:nt({},o,a),e.state=o),"function"!==typeof t.getDerivedStateFromProps&&"function"!==typeof e.getSnapshotBeforeUpdate&&("function"===typeof e.UNSAFE_componentWillMount||"function"===typeof e.componentWillMount))if(t=e.state,"function"===typeof e.componentWillMount&&e.componentWillMount(),"function"===typeof e.UNSAFE_componentWillMount&&e.UNSAFE_componentWillMount(),t!==e.state&&Dt.enqueueReplaceState(e,e.state,null),null!==i.queue&&0<i.queue.length)if(t=i.queue,a=i.replace,i.queue=null,i.replace=!1,a&&1===t.length)e.state=t[0];else{for(i=a?t[0]:e.state,o=!0,a=a?1:0;a<t.length;a++){var s=t[a];null!=(s="function"===typeof s?s.call(e,i,r,n):s)&&(o?(o=!1,i=nt({},i,s)):nt(i,s))}e.state=i}else i.queue=null}var kt={id:1,overflow:""};function Nt(e,t,r){var n=e.id;e=e.overflow;var o=32-It(n)-1;n&=~(1<<o),r+=1;var i=32-It(t)+o;if(30<i){var a=o-o%5;return i=(n&(1<<a)-1).toString(32),n>>=a,o-=a,{id:1<<32-It(t)+o|r<<o|n,overflow:i+e}}return{id:1<<i|r<<o|n,overflow:e}}var It=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(Lt(e)/Ft|0)|0},Lt=Math.log,Ft=Math.LN2;var Gt="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Bt=null,Wt=null,Ht=null,jt=null,Vt=!1,zt=!1,Ut=0,Yt=null,Xt=0;function Kt(){if(null===Bt)throw Error(o(321));return Bt}function qt(){if(0<Xt)throw Error(o(312));return{memoizedState:null,queue:null,next:null}}function $t(){return null===jt?null===Ht?(Vt=!1,Ht=jt=qt()):(Vt=!0,jt=Ht):null===jt.next?(Vt=!1,jt=jt.next=qt()):(Vt=!0,jt=jt.next),jt}function Zt(){Wt=Bt=null,zt=!1,Ht=null,Xt=0,jt=Yt=null}function Qt(e,t){return"function"===typeof t?t(e):t}function Jt(e,t,r){if(Bt=Kt(),jt=$t(),Vt){var n=jt.queue;if(t=n.dispatch,null!==Yt&&void 0!==(r=Yt.get(n))){Yt.delete(n),n=jt.memoizedState;do{n=e(n,r.action),r=r.next}while(null!==r);return jt.memoizedState=n,[n,t]}return[jt.memoizedState,t]}return e=e===Qt?"function"===typeof t?t():t:void 0!==r?r(t):t,jt.memoizedState=e,e=(e=jt.queue={last:null,dispatch:null}).dispatch=tr.bind(null,Bt,e),[jt.memoizedState,e]}function er(e,t){if(Bt=Kt(),t=void 0===t?null:t,null!==(jt=$t())){var r=jt.memoizedState;if(null!==r&&null!==t){var n=r[1];e:if(null===n)n=!1;else{for(var o=0;o<n.length&&o<t.length;o++)if(!Gt(t[o],n[o])){n=!1;break e}n=!0}if(n)return r[0]}}return e=e(),jt.memoizedState=[e,t],e}function tr(e,t,r){if(25<=Xt)throw Error(o(301));if(e===Bt)if(zt=!0,e={action:r,next:null},null===Yt&&(Yt=new Map),void 0===(r=Yt.get(t)))Yt.set(t,e);else{for(t=r;null!==t.next;)t=t.next;t.next=e}}function rr(){throw Error(o(394))}function nr(){}var or={readContext:function(e){return e._currentValue},useContext:function(e){return Kt(),e._currentValue},useMemo:er,useReducer:Jt,useRef:function(e){Bt=Kt();var t=(jt=$t()).memoizedState;return null===t?(e={current:e},jt.memoizedState=e):t},useState:function(e){return Jt(Qt,e)},useInsertionEffect:nr,useLayoutEffect:function(){},useCallback:function(e,t){return er((function(){return e}),t)},useImperativeHandle:nr,useEffect:nr,useDebugValue:nr,useDeferredValue:function(e){return Kt(),e},useTransition:function(){return Kt(),[!1,rr]},useId:function(){var e=Wt.treeContext,t=e.overflow;e=((e=e.id)&~(1<<32-It(e)-1)).toString(32)+t;var r=ir;if(null===r)throw Error(o(404));return t=Ut++,e=":"+r.idPrefix+"R"+e,0<t&&(e+="H"+t.toString(32)),e+":"},useMutableSource:function(e,t){return Kt(),t(e._source)},useSyncExternalStore:function(e,t,r){if(void 0===r)throw Error(o(407));return r()}},ir=null,ar=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function sr(e){return console.error(e),null}function lr(){}function ur(e,t,r,n,o,i,a,s){e.allPendingTasks++,null===r?e.pendingRootTasks++:r.pendingTasks++;var l={node:t,ping:function(){var t=e.pingedTasks;t.push(l),1===t.length&&Er(e)},blockedBoundary:r,blockedSegment:n,abortSet:o,legacyContext:i,context:a,treeContext:s};return o.add(l),l}function cr(e,t,r,n,o,i){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:n,boundary:r,lastPushedText:o,textEmbedded:i}}function pr(e,t){if(null!=(e=e.onError(t))&&"string"!==typeof e)throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function dr(e,t){var r=e.onShellError;r(t),(r=e.onFatalError)(t),null!==e.destination?(e.status=2,h(e.destination,t)):(e.status=1,e.fatalError=t)}function hr(e,t,r,n,o){for(Bt={},Wt=t,Ut=0,e=r(n,o);zt;)zt=!1,Ut=0,Xt+=1,jt=null,e=r(n,o);return Zt(),e}function fr(e,t,r,n){var i=r.render(),a=n.childContextTypes;if(null!==a&&void 0!==a){var s=t.legacyContext;if("function"!==typeof r.getChildContext)n=s;else{for(var l in r=r.getChildContext())if(!(l in a))throw Error(o(108,wt(n)||"Unknown",l));n=nt({},s,r)}t.legacyContext=n,vr(e,t,i),t.legacyContext=s}else vr(e,t,i)}function gr(e,t){if(e&&e.defaultProps){for(var r in t=nt({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}return t}function yr(e,t,r,n,i){if("function"===typeof r)if(r.prototype&&r.prototype.isReactComponent){i=St(r,t.legacyContext);var a=r.contextType;Mt(a=new r(n,"object"===typeof a&&null!==a?a._currentValue:i),r,n,i),fr(e,t,a,r)}else{i=hr(e,t,r,n,a=St(r,t.legacyContext));var s=0!==Ut;if("object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof)Mt(i,r,n,a),fr(e,t,i,r);else if(s){n=t.treeContext,t.treeContext=Nt(n,1,0);try{vr(e,t,i)}finally{t.treeContext=n}}else vr(e,t,i)}else{if("string"!==typeof r){switch(r){case mt:case vt:case st:case lt:case at:case ht:return void vr(e,t,n.children);case yt:throw Error(o(343));case dt:e:{r=t.blockedBoundary,i=t.blockedSegment,a=n.fallback,n=n.children;var l={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:s=new Set,errorDigest:null},u=cr(0,i.chunks.length,l,i.formatContext,!1,!1);i.children.push(u),i.lastPushedText=!1;var c=cr(0,0,null,i.formatContext,!1,!1);c.parentFlushed=!0,t.blockedBoundary=l,t.blockedSegment=c;try{if(br(e,t,n),c.lastPushedText&&c.textEmbedded&&c.chunks.push(G),c.status=1,xr(l,c),0===l.pendingTasks)break e}catch(d){c.status=4,l.forceClientRender=!0,l.errorDigest=pr(e,d)}finally{t.blockedBoundary=r,t.blockedSegment=i}t=ur(e,a,r,u,s,t.legacyContext,t.context,t.treeContext),e.pingedTasks.push(t)}return}if("object"===typeof r&&null!==r)switch(r.$$typeof){case pt:if(n=hr(e,t,r.render,n,i),0!==Ut){r=t.treeContext,t.treeContext=Nt(r,1,0);try{vr(e,t,n)}finally{t.treeContext=r}}else vr(e,t,n);return;case ft:return void yr(e,t,r=r.type,n=gr(r,n),i);case ut:if(i=n.children,r=r._context,n=n.value,a=r._currentValue,r._currentValue=n,Et=n={parent:s=Et,depth:null===s?0:s.depth+1,context:r,parentValue:a,value:n},t.context=n,vr(e,t,i),null===(e=Et))throw Error(o(403));return n=e.parentValue,e.context._currentValue=n===bt?e.context._defaultValue:n,e=Et=e.parent,void(t.context=e);case ct:return void vr(e,t,n=(n=n.children)(r._currentValue));case gt:return void yr(e,t,r=(i=r._init)(r._payload),n=gr(r,n),void 0)}throw Error(o(130,null==r?r:typeof r,""))}switch(a=ae((i=t.blockedSegment).chunks,r,n,e.responseState,i.formatContext),i.lastPushedText=!1,s=i.formatContext,i.formatContext=function(e,t,r){switch(t){case"select":return F(1,null!=r.value?r.value:r.defaultValue);case"svg":return F(2,null);case"math":return F(3,null);case"foreignObject":return F(1,null);case"table":return F(4,null);case"thead":case"tbody":case"tfoot":return F(5,null);case"colgroup":return F(7,null);case"tr":return F(6,null)}return 4<=e.insertionMode||0===e.insertionMode?F(1,null):e}(s,r,n),br(e,t,a),i.formatContext=s,r){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:i.chunks.push(se,p(r),le)}i.lastPushedText=!1}}function vr(e,t,r){if(t.node=r,"object"===typeof r&&null!==r){switch(r.$$typeof){case ot:return void yr(e,t,r.type,r.props,r.ref);case it:throw Error(o(257));case gt:var n=r._init;return void vr(e,t,r=n(r._payload))}if(A(r))return void mr(e,t,r);if(null===r||"object"!==typeof r?n=null:n="function"===typeof(n=Ct&&r[Ct]||r["@@iterator"])?n:null,n&&(n=n.call(r))){if(!(r=n.next()).done){var i=[];do{i.push(r.value),r=n.next()}while(!r.done);mr(e,t,i)}return}throw e=Object.prototype.toString.call(r),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(r).join(", ")+"}":e))}"string"===typeof r?(n=t.blockedSegment).lastPushedText=B(t.blockedSegment.chunks,r,e.responseState,n.lastPushedText):"number"===typeof r&&((n=t.blockedSegment).lastPushedText=B(t.blockedSegment.chunks,""+r,e.responseState,n.lastPushedText))}function mr(e,t,r){for(var n=r.length,o=0;o<n;o++){var i=t.treeContext;t.treeContext=Nt(i,n,o);try{br(e,t,r[o])}finally{t.treeContext=i}}}function br(e,t,r){var n=t.blockedSegment.formatContext,o=t.legacyContext,i=t.context;try{return vr(e,t,r)}catch(l){if(Zt(),"object"!==typeof l||null===l||"function"!==typeof l.then)throw t.blockedSegment.formatContext=n,t.legacyContext=o,t.context=i,Tt(i),l;r=l;var a=t.blockedSegment,s=cr(0,a.chunks.length,null,a.formatContext,a.lastPushedText,!0);a.children.push(s),a.lastPushedText=!1,e=ur(e,t.node,t.blockedBoundary,s,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,r.then(e,e),t.blockedSegment.formatContext=n,t.legacyContext=o,t.context=i,Tt(i)}}function Cr(e){var t=e.blockedBoundary;(e=e.blockedSegment).status=3,Sr(this,t,e)}function wr(e,t,r){var n=e.blockedBoundary;e.blockedSegment.status=3,null===n?(t.allPendingTasks--,2!==t.status&&(t.status=2,null!==t.destination&&t.destination.close())):(n.pendingTasks--,n.forceClientRender||(n.forceClientRender=!0,e=void 0===r?Error(o(432)):r,n.errorDigest=t.onError(e),n.parentFlushed&&t.clientRenderedBoundaries.push(n)),n.fallbackAbortableTasks.forEach((function(e){return wr(e,t,r)})),n.fallbackAbortableTasks.clear(),t.allPendingTasks--,0===t.allPendingTasks&&(n=t.onAllReady)())}function xr(e,t){if(0===t.chunks.length&&1===t.children.length&&null===t.children[0].boundary){var r=t.children[0];r.id=t.id,r.parentFlushed=!0,1===r.status&&xr(e,r)}else e.completedSegments.push(t)}function Sr(e,t,r){if(null===t){if(r.parentFlushed){if(null!==e.completedRootSegment)throw Error(o(389));e.completedRootSegment=r}e.pendingRootTasks--,0===e.pendingRootTasks&&(e.onShellError=lr,(t=e.onShellReady)())}else t.pendingTasks--,t.forceClientRender||(0===t.pendingTasks?(r.parentFlushed&&1===r.status&&xr(t,r),t.parentFlushed&&e.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(Cr,e),t.fallbackAbortableTasks.clear()):r.parentFlushed&&1===r.status&&(xr(t,r),1===t.completedSegments.length&&t.parentFlushed&&e.partialBoundaries.push(t)));e.allPendingTasks--,0===e.allPendingTasks&&(e=e.onAllReady)()}function Er(e){if(2!==e.status){var t=Et,r=ar.current;ar.current=or;var n=ir;ir=e.responseState;try{var o,i=e.pingedTasks;for(o=0;o<i.length;o++){var a=i[o],s=e,l=a.blockedSegment;if(0===l.status){Tt(a.context);try{vr(s,a,a.node),l.lastPushedText&&l.textEmbedded&&l.chunks.push(G),a.abortSet.delete(a),l.status=1,Sr(s,a.blockedBoundary,l)}catch(h){if(Zt(),"object"===typeof h&&null!==h&&"function"===typeof h.then){var u=a.ping;h.then(u,u)}else{a.abortSet.delete(a),l.status=4;var c=a.blockedBoundary,p=h,d=pr(s,p);if(null===c?dr(s,p):(c.pendingTasks--,c.forceClientRender||(c.forceClientRender=!0,c.errorDigest=d,c.parentFlushed&&s.clientRenderedBoundaries.push(c))),s.allPendingTasks--,0===s.allPendingTasks)(0,s.onAllReady)()}}}}i.splice(0,o),null!==e.destination&&Tr(e,e.destination)}catch(h){pr(e,h),dr(e,h)}finally{ir=n,ar.current=r,r===or&&Tt(t)}}}function Or(e,t,r){switch(r.parentFlushed=!0,r.status){case 0:var n=r.id=e.nextSegmentId++;return r.lastPushedText=!1,r.textEmbedded=!1,e=e.responseState,s(t,ue),s(t,e.placeholderPrefix),s(t,e=p(n.toString(16))),l(t,ce);case 1:r.status=2;var i=!0;n=r.chunks;var a=0;r=r.children;for(var u=0;u<r.length;u++){for(i=r[u];a<i.index;a++)s(t,n[a]);i=_r(e,t,i)}for(;a<n.length-1;a++)s(t,n[a]);return a<n.length&&(i=l(t,n[a])),i;default:throw Error(o(390))}}function _r(e,t,r){var n=r.boundary;if(null===n)return Or(e,t,r);if(n.parentFlushed=!0,n.forceClientRender)n=n.errorDigest,l(t,fe),s(t,ye),n&&(s(t,me),s(t,p(_(n))),s(t,ve)),l(t,be),Or(e,t,r);else if(0<n.pendingTasks){n.rootSegmentID=e.nextSegmentId++,0<n.completedSegments.length&&e.partialBoundaries.push(n);var i=e.responseState,a=i.nextSuspenseID++;i=d(i.boundaryPrefix+a.toString(16)),n=n.id=i,Ce(t,e.responseState,n),Or(e,t,r)}else if(n.byteSize>e.progressiveChunkSize)n.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(n),Ce(t,e.responseState,n.id),Or(e,t,r);else{if(l(t,pe),1!==(r=n.completedSegments).length)throw Error(o(391));_r(e,t,r[0])}return l(t,ge)}function Pr(e,t,r){return function(e,t,r,n){switch(r.insertionMode){case 0:case 1:return s(e,we),s(e,t.segmentPrefix),s(e,p(n.toString(16))),l(e,xe);case 2:return s(e,Ee),s(e,t.segmentPrefix),s(e,p(n.toString(16))),l(e,Oe);case 3:return s(e,Pe),s(e,t.segmentPrefix),s(e,p(n.toString(16))),l(e,Re);case 4:return s(e,Te),s(e,t.segmentPrefix),s(e,p(n.toString(16))),l(e,De);case 5:return s(e,ke),s(e,t.segmentPrefix),s(e,p(n.toString(16))),l(e,Ne);case 6:return s(e,Le),s(e,t.segmentPrefix),s(e,p(n.toString(16))),l(e,Fe);case 7:return s(e,Be),s(e,t.segmentPrefix),s(e,p(n.toString(16))),l(e,We);default:throw Error(o(397))}}(t,e.responseState,r.formatContext,r.id),_r(e,t,r),function(e,t){switch(t.insertionMode){case 0:case 1:return l(e,Se);case 2:return l(e,_e);case 3:return l(e,Ae);case 4:return l(e,Me);case 5:return l(e,Ie);case 6:return l(e,Ge);case 7:return l(e,He);default:throw Error(o(397))}}(t,r.formatContext)}function Rr(e,t,r){for(var n=r.completedSegments,i=0;i<n.length;i++)Ar(e,t,r,n[i]);if(n.length=0,e=e.responseState,n=r.id,r=r.rootSegmentID,s(t,e.startInlineScript),e.sentCompleteBoundaryFunction?s(t,Xe):(e.sentCompleteBoundaryFunction=!0,s(t,Ye)),null===n)throw Error(o(395));return r=p(r.toString(16)),s(t,n),s(t,Ke),s(t,e.segmentPrefix),s(t,r),l(t,qe)}function Ar(e,t,r,n){if(2===n.status)return!0;var i=n.id;if(-1===i){if(-1===(n.id=r.rootSegmentID))throw Error(o(392));return Pr(e,t,n)}return Pr(e,t,n),s(t,(e=e.responseState).startInlineScript),e.sentCompleteSegmentFunction?s(t,Ve):(e.sentCompleteSegmentFunction=!0,s(t,je)),s(t,e.segmentPrefix),s(t,i=p(i.toString(16))),s(t,ze),s(t,e.placeholderPrefix),s(t,i),l(t,Ue)}function Tr(e,t){i=new Uint8Array(512),a=0;try{var r=e.completedRootSegment;if(null!==r&&0===e.pendingRootTasks){_r(e,t,r),e.completedRootSegment=null;var n=e.responseState.bootstrapChunks;for(r=0;r<n.length-1;r++)s(t,n[r]);r<n.length&&l(t,n[r])}var c,d=e.clientRenderedBoundaries;for(c=0;c<d.length;c++){var h=d[c];n=t;var f=e.responseState,g=h.id,y=h.errorDigest,v=h.errorMessage,m=h.errorComponentStack;if(s(n,f.startInlineScript),f.sentClientRenderFunction?s(n,Ze):(f.sentClientRenderFunction=!0,s(n,$e)),null===g)throw Error(o(395));if(s(n,g),s(n,Qe),(y||v||m)&&(s(n,et),s(n,p(rt(y||"")))),(v||m)&&(s(n,et),s(n,p(rt(v||"")))),m&&(s(n,et),s(n,p(rt(m)))),!l(n,Je))return e.destination=null,c++,void d.splice(0,c)}d.splice(0,c);var b=e.completedBoundaries;for(c=0;c<b.length;c++)if(!Rr(e,t,b[c]))return e.destination=null,c++,void b.splice(0,c);b.splice(0,c),u(t),i=new Uint8Array(512),a=0;var C=e.partialBoundaries;for(c=0;c<C.length;c++){var w=C[c];e:{d=e,h=t;var x=w.completedSegments;for(f=0;f<x.length;f++)if(!Ar(d,h,w,x[f])){f++,x.splice(0,f);var S=!1;break e}x.splice(0,f),S=!0}if(!S)return e.destination=null,c++,void C.splice(0,c)}C.splice(0,c);var E=e.completedBoundaries;for(c=0;c<E.length;c++)if(!Rr(e,t,E[c]))return e.destination=null,c++,void E.splice(0,c);E.splice(0,c)}finally{u(t),0===e.allPendingTasks&&0===e.pingedTasks.length&&0===e.clientRenderedBoundaries.length&&0===e.completedBoundaries.length&&t.close()}}function Dr(e,t){try{var r=e.abortableTasks;r.forEach((function(r){return wr(r,e,t)})),r.clear(),null!==e.destination&&Tr(e,e.destination)}catch(n){pr(e,n),dr(e,n)}}t.renderToReadableStream=function(e,t){return new Promise((function(r,n){var o,i,a=new Promise((function(e,t){i=e,o=t})),s=function(e,t,r,n,o,i,a,s,l){var u=[],c=new Set;return(r=cr(t={destination:null,responseState:t,progressiveChunkSize:void 0===n?12800:n,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:c,pingedTasks:u,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:void 0===o?sr:o,onAllReady:void 0===i?lr:i,onShellReady:void 0===a?lr:a,onShellError:void 0===s?lr:s,onFatalError:void 0===l?lr:l},0,null,r,!1,!1)).parentFlushed=!0,e=ur(t,e,null,r,c,xt,null,kt),u.push(e),t}(e,function(e,t,r,n,o){e=void 0===e?"":e,t=void 0===t?T:d('<script nonce="'+_(t)+'">');var i=[];if(void 0!==r&&i.push(t,p((""+r).replace(I,L)),D),void 0!==n)for(r=0;r<n.length;r++)i.push(M,p(_(n[r])),N);if(void 0!==o)for(n=0;n<o.length;n++)i.push(k,p(_(o[n])),N);return{bootstrapChunks:i,startInlineScript:t,placeholderPrefix:d(e+"P:"),segmentPrefix:d(e+"S:"),boundaryPrefix:e+"B:",idPrefix:e,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1}}(t?t.identifierPrefix:void 0,t?t.nonce:void 0,t?t.bootstrapScriptContent:void 0,t?t.bootstrapScripts:void 0,t?t.bootstrapModules:void 0),function(e){return F("http://www.w3.org/2000/svg"===e?2:"http://www.w3.org/1998/Math/MathML"===e?3:0,null)}(t?t.namespaceURI:void 0),t?t.progressiveChunkSize:void 0,t?t.onError:void 0,i,(function(){var e=new ReadableStream({type:"bytes",pull:function(e){if(1===s.status)s.status=2,h(e,s.fatalError);else if(2!==s.status&&null===s.destination){s.destination=e;try{Tr(s,e)}catch(t){pr(s,t),dr(s,t)}}},cancel:function(){Dr(s)}},{highWaterMark:0});e.allReady=a,r(e)}),(function(e){a.catch((function(){})),n(e)}),o);if(t&&t.signal){var l=t.signal;l.addEventListener("abort",(function e(){Dr(s,l.reason),l.removeEventListener("abort",e)}))}Er(s)}))},t.version="18.2.0"},4463:function(e,t,r){"use strict";var n=r(2791),o=r(5296);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),p=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},f={};function g(e,t,r,n,o,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=o,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function m(e){return e[1].toUpperCase()}function b(e,t,r,n){var o=y.hasOwnProperty(t)?y[t]:null;(null!==o?0!==o.type:n||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,r,n){if(null===t||"undefined"===typeof t||function(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,o,n)&&(r=null),n||null===o?function(e){return!!p.call(f,e)||!p.call(h,e)&&(d.test(e)?f[e]=!0:(h[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):o.mustUseProperty?e[o.propertyName]=null===r?3!==o.type&&"":r:(t=o.attributeName,n=o.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(o=o.type)||4===o&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,m);y[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,m);y[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,m);y[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var C=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),P=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),M=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var k=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var N=Symbol.iterator;function I(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=N&&e[N]||e["@@iterator"])?e:null}var L,F=Object.assign;function G(e){if(void 0===L)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var B=!1;function W(e,t){if(!e||B)return"";B=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&"string"===typeof u.stack){for(var o=u.stack.split("\n"),i=n.stack.split("\n"),a=o.length-1,s=i.length-1;1<=a&&0<=s&&o[a]!==i[s];)s--;for(;1<=a&&0<=s;a--,s--)if(o[a]!==i[s]){if(1!==a||1!==s)do{if(a--,0>--s||o[a]!==i[s]){var l="\n"+o[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=s);break}}}finally{B=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?G(e):""}function H(e){switch(e.tag){case 5:return G(e.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return e=W(e.type,!1);case 11:return e=W(e.type.render,!1);case 1:return e=W(e.type,!0);default:return""}}function j(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case x:return"Portal";case O:return"Profiler";case E:return"StrictMode";case A:return"Suspense";case T:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case P:return(e.displayName||"Context")+".Consumer";case _:return(e._context.displayName||"Context")+".Provider";case R:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:j(e.type)||"Memo";case M:t=e._payload,e=e._init;try{return j(e(t))}catch(r){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return j(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function z(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function U(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=U(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var o=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){n=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=U(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function q(e,t){var r=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function $(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=z(null!=t.value?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Z(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Q(e,t){Z(e,t);var r=z(t.value),n=t.type;if(null!=r)"number"===n?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,r):t.hasOwnProperty("defaultValue")&&ee(e,t.type,z(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function ee(e,t,r){"number"===t&&K(e.ownerDocument)===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var te=Array.isArray;function re(e,t,r,n){if(e=e.options,t){t={};for(var o=0;o<r.length;o++)t["$"+r[o]]=!0;for(r=0;r<e.length;r++)o=t.hasOwnProperty("$"+e[r].value),e[r].selected!==o&&(e[r].selected=o),o&&n&&(e[r].defaultSelected=!0)}else{for(r=""+z(r),t=null,o=0;o<e.length;o++){if(e[o].value===r)return e[o].selected=!0,void(n&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function ne(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oe(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(i(92));if(te(r)){if(1<r.length)throw Error(i(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:z(r)}}function ie(e,t){var r=z(t.value),n=z(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=n&&(e.defaultValue=""+n)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,pe=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,r,n){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function de(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function ge(e,t,r){return null==t||"boolean"===typeof t||""===t?"":r||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function ye(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),o=ge(r,t[r],n);"float"===r&&(r="cssFloat"),n?e.setProperty(r,o):e[r]=o}}Object.keys(he).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var ve=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function me(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ce=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Se=null,Ee=null;function Oe(e){if(e=Co(e)){if("function"!==typeof xe)throw Error(i(280));var t=e.stateNode;t&&(t=xo(t),xe(e.stateNode,e.type,t))}}function _e(e){Se?Ee?Ee.push(e):Ee=[e]:Se=e}function Pe(){if(Se){var e=Se,t=Ee;if(Ee=Se=null,Oe(e),t)for(e=0;e<t.length;e++)Oe(t[e])}}function Re(e,t){return e(t)}function Ae(){}var Te=!1;function De(e,t,r){if(Te)return e(t,r);Te=!0;try{return Re(e,t,r)}finally{Te=!1,(null!==Se||null!==Ee)&&(Ae(),Pe())}}function Me(e,t){var r=e.stateNode;if(null===r)return null;var n=xo(r);if(null===n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(i(231,t,typeof r));return r}var ke=!1;if(c)try{var Ne={};Object.defineProperty(Ne,"passive",{get:function(){ke=!0}}),window.addEventListener("test",Ne,Ne),window.removeEventListener("test",Ne,Ne)}catch(ce){ke=!1}function Ie(e,t,r,n,o,i,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(c){this.onError(c)}}var Le=!1,Fe=null,Ge=!1,Be=null,We={onError:function(e){Le=!0,Fe=e}};function He(e,t,r,n,o,i,a,s,l){Le=!1,Fe=null,Ie.apply(We,arguments)}function je(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function ze(e){if(je(e)!==e)throw Error(i(188))}function Ue(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=je(e)))throw Error(i(188));return t!==e?null:e}for(var r=e,n=t;;){var o=r.return;if(null===o)break;var a=o.alternate;if(null===a){if(null!==(n=o.return)){r=n;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===r)return ze(o),e;if(a===n)return ze(o),t;a=a.sibling}throw Error(i(188))}if(r.return!==n.return)r=o,n=a;else{for(var s=!1,l=o.child;l;){if(l===r){s=!0,r=o,n=a;break}if(l===n){s=!0,n=o,r=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===r){s=!0,r=a,n=o;break}if(l===n){s=!0,n=a,r=o;break}l=l.sibling}if(!s)throw Error(i(189))}}if(r.alternate!==n)throw Error(i(190))}if(3!==r.tag)throw Error(i(188));return r.stateNode.current===r?e:t}(e))?Ye(e):null}function Ye(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ye(e);if(null!==t)return t;e=e.sibling}return null}var Xe=o.unstable_scheduleCallback,Ke=o.unstable_cancelCallback,qe=o.unstable_shouldYield,$e=o.unstable_requestPaint,Ze=o.unstable_now,Qe=o.unstable_getCurrentPriorityLevel,Je=o.unstable_ImmediatePriority,et=o.unstable_UserBlockingPriority,tt=o.unstable_NormalPriority,rt=o.unstable_LowPriority,nt=o.unstable_IdlePriority,ot=null,it=null;var at=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ut=64,ct=4194304;function pt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var r=e.pendingLanes;if(0===r)return 0;var n=0,o=e.suspendedLanes,i=e.pingedLanes,a=268435455&r;if(0!==a){var s=a&~o;0!==s?n=pt(s):0!==(i&=a)&&(n=pt(i))}else 0!==(a=r&~o)?n=pt(a):0!==i&&(n=pt(i));if(0===n)return 0;if(0!==t&&t!==n&&0===(t&o)&&((o=n&-n)>=(i=t&-t)||16===o&&0!==(4194240&i)))return t;if(0!==(4&n)&&(n|=16&r),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)o=1<<(r=31-at(t)),n|=e[r],t&=~o;return n}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function yt(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function vt(e,t,r){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=r}function mt(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-at(r),o=1<<n;o&t|e[n]&t&&(e[n]|=t),r&=~o}}var bt=0;function Ct(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,St,Et,Ot,_t=!1,Pt=[],Rt=null,At=null,Tt=null,Dt=new Map,Mt=new Map,kt=[],Nt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function It(e,t){switch(e){case"focusin":case"focusout":Rt=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Tt=null;break;case"pointerover":case"pointerout":Dt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mt.delete(t.pointerId)}}function Lt(e,t,r,n,o,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[o]},null!==t&&(null!==(t=Co(t))&&xt(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function Ft(e){var t=bo(e.target);if(null!==t){var r=je(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=Ve(r)))return e.blockedOn=t,void Ot(e.priority,(function(){St(r)}))}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function Gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r)return null!==(t=Co(r))&&xt(t),e.blockedOn=r,!1;var n=new(r=e.nativeEvent).constructor(r.type,r);Ce=n,r.target.dispatchEvent(n),Ce=null,t.shift()}return!0}function Bt(e,t,r){Gt(e)&&r.delete(t)}function Wt(){_t=!1,null!==Rt&&Gt(Rt)&&(Rt=null),null!==At&&Gt(At)&&(At=null),null!==Tt&&Gt(Tt)&&(Tt=null),Dt.forEach(Bt),Mt.forEach(Bt)}function Ht(e,t){e.blockedOn===t&&(e.blockedOn=null,_t||(_t=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Wt)))}function jt(e){function t(t){return Ht(t,e)}if(0<Pt.length){Ht(Pt[0],e);for(var r=1;r<Pt.length;r++){var n=Pt[r];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==Rt&&Ht(Rt,e),null!==At&&Ht(At,e),null!==Tt&&Ht(Tt,e),Dt.forEach(t),Mt.forEach(t),r=0;r<kt.length;r++)(n=kt[r]).blockedOn===e&&(n.blockedOn=null);for(;0<kt.length&&null===(r=kt[0]).blockedOn;)Ft(r),null===r.blockedOn&&kt.shift()}var Vt=C.ReactCurrentBatchConfig,zt=!0;function Ut(e,t,r,n){var o=bt,i=Vt.transition;Vt.transition=null;try{bt=1,Xt(e,t,r,n)}finally{bt=o,Vt.transition=i}}function Yt(e,t,r,n){var o=bt,i=Vt.transition;Vt.transition=null;try{bt=4,Xt(e,t,r,n)}finally{bt=o,Vt.transition=i}}function Xt(e,t,r,n){if(zt){var o=qt(e,t,r,n);if(null===o)zn(e,t,n,Kt,r),It(e,n);else if(function(e,t,r,n,o){switch(t){case"focusin":return Rt=Lt(Rt,e,t,r,n,o),!0;case"dragenter":return At=Lt(At,e,t,r,n,o),!0;case"mouseover":return Tt=Lt(Tt,e,t,r,n,o),!0;case"pointerover":var i=o.pointerId;return Dt.set(i,Lt(Dt.get(i)||null,e,t,r,n,o)),!0;case"gotpointercapture":return i=o.pointerId,Mt.set(i,Lt(Mt.get(i)||null,e,t,r,n,o)),!0}return!1}(o,e,t,r,n))n.stopPropagation();else if(It(e,n),4&t&&-1<Nt.indexOf(e)){for(;null!==o;){var i=Co(o);if(null!==i&&wt(i),null===(i=qt(e,t,r,n))&&zn(e,t,n,Kt,r),i===o)break;o=i}null!==o&&n.stopPropagation()}else zn(e,t,n,null,r)}}var Kt=null;function qt(e,t,r,n){if(Kt=null,null!==(e=bo(e=we(n))))if(null===(t=je(e)))e=null;else if(13===(r=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qe()){case Je:return 1;case et:return 4;case tt:case rt:return 16;case nt:return 536870912;default:return 16}default:return 16}}var Zt=null,Qt=null,Jt=null;function er(){if(Jt)return Jt;var e,t,r=Qt,n=r.length,o="value"in Zt?Zt.value:Zt.textContent,i=o.length;for(e=0;e<n&&r[e]===o[e];e++);var a=n-e;for(t=1;t<=a&&r[n-t]===o[i-t];t++);return Jt=o.slice(e,1<t?1-t:void 0)}function tr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function rr(){return!0}function nr(){return!1}function or(e){function t(t,r,n,o,i){for(var a in this._reactName=t,this._targetInst=n,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(o):o[a]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?rr:nr,this.isPropagationStopped=nr,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rr)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rr)},persist:function(){},isPersistent:rr}),t}var ir,ar,sr,lr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ur=or(lr),cr=F({},lr,{view:0,detail:0}),pr=or(cr),dr=F({},cr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Er,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sr&&(sr&&"mousemove"===e.type?(ir=e.screenX-sr.screenX,ar=e.screenY-sr.screenY):ar=ir=0,sr=e),ir)},movementY:function(e){return"movementY"in e?e.movementY:ar}}),hr=or(dr),fr=or(F({},dr,{dataTransfer:0})),gr=or(F({},cr,{relatedTarget:0})),yr=or(F({},lr,{animationName:0,elapsedTime:0,pseudoElement:0})),vr=F({},lr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),mr=or(vr),br=or(F({},lr,{data:0})),Cr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xr[e])&&!!t[e]}function Er(){return Sr}var Or=F({},cr,{key:function(e){if(e.key){var t=Cr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Er,charCode:function(e){return"keypress"===e.type?tr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),_r=or(Or),Pr=or(F({},dr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Rr=or(F({},cr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Er})),Ar=or(F({},lr,{propertyName:0,elapsedTime:0,pseudoElement:0})),Tr=F({},dr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dr=or(Tr),Mr=[9,13,27,32],kr=c&&"CompositionEvent"in window,Nr=null;c&&"documentMode"in document&&(Nr=document.documentMode);var Ir=c&&"TextEvent"in window&&!Nr,Lr=c&&(!kr||Nr&&8<Nr&&11>=Nr),Fr=String.fromCharCode(32),Gr=!1;function Br(e,t){switch(e){case"keyup":return-1!==Mr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wr(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hr=!1;var jr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!jr[e.type]:"textarea"===t}function zr(e,t,r,n){_e(n),0<(t=Yn(t,"onChange")).length&&(r=new ur("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Ur=null,Yr=null;function Xr(e){Gn(e,0)}function Kr(e){if(X(wo(e)))return e}function qr(e,t){if("change"===e)return t}var $r=!1;if(c){var Zr;if(c){var Qr="oninput"in document;if(!Qr){var Jr=document.createElement("div");Jr.setAttribute("oninput","return;"),Qr="function"===typeof Jr.oninput}Zr=Qr}else Zr=!1;$r=Zr&&(!document.documentMode||9<document.documentMode)}function en(){Ur&&(Ur.detachEvent("onpropertychange",tn),Yr=Ur=null)}function tn(e){if("value"===e.propertyName&&Kr(Yr)){var t=[];zr(t,Yr,e,we(e)),De(Xr,t)}}function rn(e,t,r){"focusin"===e?(en(),Yr=r,(Ur=t).attachEvent("onpropertychange",tn)):"focusout"===e&&en()}function nn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kr(Yr)}function on(e,t){if("click"===e)return Kr(t)}function an(e,t){if("input"===e||"change"===e)return Kr(t)}var sn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ln(e,t){if(sn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var o=r[n];if(!p.call(t,o)||!sn(e[o],t[o]))return!1}return!0}function un(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cn(e,t){var r,n=un(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=un(n)}}function pn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?pn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dn(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(n){r=!1}if(!r)break;t=K((e=t.contentWindow).document)}return t}function hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fn(e){var t=dn(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&pn(r.ownerDocument.documentElement,r)){if(null!==n&&hn(r))if(t=n.start,void 0===(e=n.end)&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if((e=(t=r.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var o=r.textContent.length,i=Math.min(n.start,o);n=void 0===n.end?i:Math.min(n.end,o),!e.extend&&i>n&&(o=n,n=i,i=o),o=cn(r,i);var a=cn(r,n);o&&a&&(1!==e.rangeCount||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(o.node,o.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=r;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof r.focus&&r.focus(),r=0;r<t.length;r++)(e=t[r]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gn=c&&"documentMode"in document&&11>=document.documentMode,yn=null,vn=null,mn=null,bn=!1;function Cn(e,t,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;bn||null==yn||yn!==K(n)||("selectionStart"in(n=yn)&&hn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},mn&&ln(mn,n)||(mn=n,0<(n=Yn(vn,"onSelect")).length&&(t=new ur("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=yn)))}function wn(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var xn={animationend:wn("Animation","AnimationEnd"),animationiteration:wn("Animation","AnimationIteration"),animationstart:wn("Animation","AnimationStart"),transitionend:wn("Transition","TransitionEnd")},Sn={},En={};function On(e){if(Sn[e])return Sn[e];if(!xn[e])return e;var t,r=xn[e];for(t in r)if(r.hasOwnProperty(t)&&t in En)return Sn[e]=r[t];return e}c&&(En=document.createElement("div").style,"AnimationEvent"in window||(delete xn.animationend.animation,delete xn.animationiteration.animation,delete xn.animationstart.animation),"TransitionEvent"in window||delete xn.transitionend.transition);var _n=On("animationend"),Pn=On("animationiteration"),Rn=On("animationstart"),An=On("transitionend"),Tn=new Map,Dn="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mn(e,t){Tn.set(e,t),l(t,[e])}for(var kn=0;kn<Dn.length;kn++){var Nn=Dn[kn];Mn(Nn.toLowerCase(),"on"+(Nn[0].toUpperCase()+Nn.slice(1)))}Mn(_n,"onAnimationEnd"),Mn(Pn,"onAnimationIteration"),Mn(Rn,"onAnimationStart"),Mn("dblclick","onDoubleClick"),Mn("focusin","onFocus"),Mn("focusout","onBlur"),Mn(An,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var In="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ln=new Set("cancel close invalid load scroll toggle".split(" ").concat(In));function Fn(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,function(e,t,r,n,o,a,s,l,u){if(He.apply(this,arguments),Le){if(!Le)throw Error(i(198));var c=Fe;Le=!1,Fe=null,Ge||(Ge=!0,Be=c)}}(n,t,void 0,e),e.currentTarget=null}function Gn(e,t){t=0!==(4&t);for(var r=0;r<e.length;r++){var n=e[r],o=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var a=n.length-1;0<=a;a--){var s=n[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==i&&o.isPropagationStopped())break e;Fn(o,s,u),i=l}else for(a=0;a<n.length;a++){if(l=(s=n[a]).instance,u=s.currentTarget,s=s.listener,l!==i&&o.isPropagationStopped())break e;Fn(o,s,u),i=l}}}if(Ge)throw e=Be,Ge=!1,Be=null,e}function Bn(e,t){var r=t[yo];void 0===r&&(r=t[yo]=new Set);var n=e+"__bubble";r.has(n)||(Vn(t,e,2,!1),r.add(n))}function Wn(e,t,r){var n=0;t&&(n|=4),Vn(r,e,n,t)}var Hn="_reactListening"+Math.random().toString(36).slice(2);function jn(e){if(!e[Hn]){e[Hn]=!0,a.forEach((function(t){"selectionchange"!==t&&(Ln.has(t)||Wn(t,!1,e),Wn(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Hn]||(t[Hn]=!0,Wn("selectionchange",!1,t))}}function Vn(e,t,r,n){switch($t(t)){case 1:var o=Ut;break;case 4:o=Yt;break;default:o=Xt}r=o.bind(null,t,r,e),o=void 0,!ke||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),n?void 0!==o?e.addEventListener(t,r,{capture:!0,passive:o}):e.addEventListener(t,r,!0):void 0!==o?e.addEventListener(t,r,{passive:o}):e.addEventListener(t,r,!1)}function zn(e,t,r,n,o){var i=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var a=n.tag;if(3===a||4===a){var s=n.stateNode.containerInfo;if(s===o||8===s.nodeType&&s.parentNode===o)break;if(4===a)for(a=n.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===o||8===l.nodeType&&l.parentNode===o))return;a=a.return}for(;null!==s;){if(null===(a=bo(s)))return;if(5===(l=a.tag)||6===l){n=i=a;continue e}s=s.parentNode}}n=n.return}De((function(){var n=i,o=we(r),a=[];e:{var s=Tn.get(e);if(void 0!==s){var l=ur,u=e;switch(e){case"keypress":if(0===tr(r))break e;case"keydown":case"keyup":l=_r;break;case"focusin":u="focus",l=gr;break;case"focusout":u="blur",l=gr;break;case"beforeblur":case"afterblur":l=gr;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=hr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=fr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Rr;break;case _n:case Pn:case Rn:l=yr;break;case An:l=Ar;break;case"scroll":l=pr;break;case"wheel":l=Dr;break;case"copy":case"cut":case"paste":l=mr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Pr}var c=0!==(4&t),p=!c&&"scroll"===e,d=c?null!==s?s+"Capture":null:s;c=[];for(var h,f=n;null!==f;){var g=(h=f).stateNode;if(5===h.tag&&null!==g&&(h=g,null!==d&&(null!=(g=Me(f,d))&&c.push(Un(f,g,h)))),p)break;f=f.return}0<c.length&&(s=new l(s,u,null,r,o),a.push({event:s,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||r===Ce||!(u=r.relatedTarget||r.fromElement)||!bo(u)&&!u[go])&&(l||s)&&(s=o.window===o?o:(s=o.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=n,null!==(u=(u=r.relatedTarget||r.toElement)?bo(u):null)&&(u!==(p=je(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=n),l!==u)){if(c=hr,g="onMouseLeave",d="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(c=Pr,g="onPointerLeave",d="onPointerEnter",f="pointer"),p=null==l?s:wo(l),h=null==u?s:wo(u),(s=new c(g,f+"leave",l,r,o)).target=p,s.relatedTarget=h,g=null,bo(o)===n&&((c=new c(d,f+"enter",u,r,o)).target=h,c.relatedTarget=p,g=c),p=g,l&&u)e:{for(d=u,f=0,h=c=l;h;h=Xn(h))f++;for(h=0,g=d;g;g=Xn(g))h++;for(;0<f-h;)c=Xn(c),f--;for(;0<h-f;)d=Xn(d),h--;for(;f--;){if(c===d||null!==d&&c===d.alternate)break e;c=Xn(c),d=Xn(d)}c=null}else c=null;null!==l&&Kn(a,s,l,c,!1),null!==u&&null!==p&&Kn(a,p,u,c,!0)}if("select"===(l=(s=n?wo(n):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var y=qr;else if(Vr(s))if($r)y=an;else{y=nn;var v=rn}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(y=on);switch(y&&(y=y(e,n))?zr(a,y,r,o):(v&&v(e,s,n),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ee(s,"number",s.value)),v=n?wo(n):window,e){case"focusin":(Vr(v)||"true"===v.contentEditable)&&(yn=v,vn=n,mn=null);break;case"focusout":mn=vn=yn=null;break;case"mousedown":bn=!0;break;case"contextmenu":case"mouseup":case"dragend":bn=!1,Cn(a,r,o);break;case"selectionchange":if(gn)break;case"keydown":case"keyup":Cn(a,r,o)}var m;if(kr)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Hr?Br(e,r)&&(b="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(b="onCompositionStart");b&&(Lr&&"ko"!==r.locale&&(Hr||"onCompositionStart"!==b?"onCompositionEnd"===b&&Hr&&(m=er()):(Qt="value"in(Zt=o)?Zt.value:Zt.textContent,Hr=!0)),0<(v=Yn(n,b)).length&&(b=new br(b,e,null,r,o),a.push({event:b,listeners:v}),m?b.data=m:null!==(m=Wr(r))&&(b.data=m))),(m=Ir?function(e,t){switch(e){case"compositionend":return Wr(t);case"keypress":return 32!==t.which?null:(Gr=!0,Fr);case"textInput":return(e=t.data)===Fr&&Gr?null:e;default:return null}}(e,r):function(e,t){if(Hr)return"compositionend"===e||!kr&&Br(e,t)?(e=er(),Jt=Qt=Zt=null,Hr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Lr&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(n=Yn(n,"onBeforeInput")).length&&(o=new br("onBeforeInput","beforeinput",null,r,o),a.push({event:o,listeners:n}),o.data=m))}Gn(a,t)}))}function Un(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Yn(e,t){for(var r=t+"Capture",n=[];null!==e;){var o=e,i=o.stateNode;5===o.tag&&null!==i&&(o=i,null!=(i=Me(e,r))&&n.unshift(Un(e,i,o)),null!=(i=Me(e,t))&&n.push(Un(e,i,o))),e=e.return}return n}function Xn(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kn(e,t,r,n,o){for(var i=t._reactName,a=[];null!==r&&r!==n;){var s=r,l=s.alternate,u=s.stateNode;if(null!==l&&l===n)break;5===s.tag&&null!==u&&(s=u,o?null!=(l=Me(r,i))&&a.unshift(Un(r,l,s)):o||null!=(l=Me(r,i))&&a.push(Un(r,l,s))),r=r.return}0!==a.length&&e.push({event:t,listeners:a})}var qn=/\r\n?/g,$n=/\u0000|\uFFFD/g;function Zn(e){return("string"===typeof e?e:""+e).replace(qn,"\n").replace($n,"")}function Qn(e,t,r){if(t=Zn(t),Zn(e)!==t&&r)throw Error(i(425))}function Jn(){}var eo=null,to=null;function ro(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var no="function"===typeof setTimeout?setTimeout:void 0,oo="function"===typeof clearTimeout?clearTimeout:void 0,io="function"===typeof Promise?Promise:void 0,ao="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof io?function(e){return io.resolve(null).then(e).catch(so)}:no;function so(e){setTimeout((function(){throw e}))}function lo(e,t){var r=t,n=0;do{var o=r.nextSibling;if(e.removeChild(r),o&&8===o.nodeType)if("/$"===(r=o.data)){if(0===n)return e.removeChild(o),void jt(t);n--}else"$"!==r&&"$?"!==r&&"$!"!==r||n++;r=o}while(r);jt(t)}function uo(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function co(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var po=Math.random().toString(36).slice(2),ho="__reactFiber$"+po,fo="__reactProps$"+po,go="__reactContainer$"+po,yo="__reactEvents$"+po,vo="__reactListeners$"+po,mo="__reactHandles$"+po;function bo(e){var t=e[ho];if(t)return t;for(var r=e.parentNode;r;){if(t=r[go]||r[ho]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=co(e);null!==e;){if(r=e[ho])return r;e=co(e)}return t}r=(e=r).parentNode}return null}function Co(e){return!(e=e[ho]||e[go])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wo(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function xo(e){return e[fo]||null}var So=[],Eo=-1;function Oo(e){return{current:e}}function _o(e){0>Eo||(e.current=So[Eo],So[Eo]=null,Eo--)}function Po(e,t){Eo++,So[Eo]=e.current,e.current=t}var Ro={},Ao=Oo(Ro),To=Oo(!1),Do=Ro;function Mo(e,t){var r=e.type.contextTypes;if(!r)return Ro;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in r)i[o]=t[o];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ko(e){return null!==(e=e.childContextTypes)&&void 0!==e}function No(){_o(To),_o(Ao)}function Io(e,t,r){if(Ao.current!==Ro)throw Error(i(168));Po(Ao,t),Po(To,r)}function Lo(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,"function"!==typeof n.getChildContext)return r;for(var o in n=n.getChildContext())if(!(o in t))throw Error(i(108,V(e)||"Unknown",o));return F({},r,n)}function Fo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ro,Do=Ao.current,Po(Ao,e),Po(To,To.current),!0}function Go(e,t,r){var n=e.stateNode;if(!n)throw Error(i(169));r?(e=Lo(e,t,Do),n.__reactInternalMemoizedMergedChildContext=e,_o(To),_o(Ao),Po(Ao,e)):_o(To),Po(To,r)}var Bo=null,Wo=!1,Ho=!1;function jo(e){null===Bo?Bo=[e]:Bo.push(e)}function Vo(){if(!Ho&&null!==Bo){Ho=!0;var e=0,t=bt;try{var r=Bo;for(bt=1;e<r.length;e++){var n=r[e];do{n=n(!0)}while(null!==n)}Bo=null,Wo=!1}catch(o){throw null!==Bo&&(Bo=Bo.slice(e+1)),Xe(Je,Vo),o}finally{bt=t,Ho=!1}}return null}var zo=[],Uo=0,Yo=null,Xo=0,Ko=[],qo=0,$o=null,Zo=1,Qo="";function Jo(e,t){zo[Uo++]=Xo,zo[Uo++]=Yo,Yo=e,Xo=t}function ei(e,t,r){Ko[qo++]=Zo,Ko[qo++]=Qo,Ko[qo++]=$o,$o=e;var n=Zo;e=Qo;var o=32-at(n)-1;n&=~(1<<o),r+=1;var i=32-at(t)+o;if(30<i){var a=o-o%5;i=(n&(1<<a)-1).toString(32),n>>=a,o-=a,Zo=1<<32-at(t)+o|r<<o|n,Qo=i+e}else Zo=1<<i|r<<o|n,Qo=e}function ti(e){null!==e.return&&(Jo(e,1),ei(e,1,0))}function ri(e){for(;e===Yo;)Yo=zo[--Uo],zo[Uo]=null,Xo=zo[--Uo],zo[Uo]=null;for(;e===$o;)$o=Ko[--qo],Ko[qo]=null,Qo=Ko[--qo],Ko[qo]=null,Zo=Ko[--qo],Ko[qo]=null}var ni=null,oi=null,ii=!1,ai=null;function si(e,t){var r=Du(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,null===(t=e.deletions)?(e.deletions=[r],e.flags|=16):t.push(r)}function li(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ni=e,oi=uo(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ni=e,oi=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(r=null!==$o?{id:Zo,overflow:Qo}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},(r=Du(18,null,null,0)).stateNode=t,r.return=e,e.child=r,ni=e,oi=null,!0);default:return!1}}function ui(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ci(e){if(ii){var t=oi;if(t){var r=t;if(!li(e,t)){if(ui(e))throw Error(i(418));t=uo(r.nextSibling);var n=ni;t&&li(e,t)?si(n,r):(e.flags=-4097&e.flags|2,ii=!1,ni=e)}}else{if(ui(e))throw Error(i(418));e.flags=-4097&e.flags|2,ii=!1,ni=e}}}function pi(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ni=e}function di(e){if(e!==ni)return!1;if(!ii)return pi(e),ii=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ro(e.type,e.memoizedProps)),t&&(t=oi)){if(ui(e))throw hi(),Error(i(418));for(;t;)si(e,t),t=uo(t.nextSibling)}if(pi(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){oi=uo(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}oi=null}}else oi=ni?uo(e.stateNode.nextSibling):null;return!0}function hi(){for(var e=oi;e;)e=uo(e.nextSibling)}function fi(){oi=ni=null,ii=!1}function gi(e){null===ai?ai=[e]:ai.push(e)}var yi=C.ReactCurrentBatchConfig;function vi(e,t){if(e&&e.defaultProps){for(var r in t=F({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}return t}var mi=Oo(null),bi=null,Ci=null,wi=null;function xi(){wi=Ci=bi=null}function Si(e){var t=mi.current;_o(mi),e._currentValue=t}function Ei(e,t,r){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Oi(e,t){bi=e,wi=Ci=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Cs=!0),e.firstContext=null)}function _i(e){var t=e._currentValue;if(wi!==e)if(e={context:e,memoizedValue:t,next:null},null===Ci){if(null===bi)throw Error(i(308));Ci=e,bi.dependencies={lanes:0,firstContext:e}}else Ci=Ci.next=e;return t}var Pi=null;function Ri(e){null===Pi?Pi=[e]:Pi.push(e)}function Ai(e,t,r,n){var o=t.interleaved;return null===o?(r.next=r,Ri(t)):(r.next=o.next,o.next=r),t.interleaved=r,Ti(e,n)}function Ti(e,t){e.lanes|=t;var r=e.alternate;for(null!==r&&(r.lanes|=t),r=e,e=e.return;null!==e;)e.childLanes|=t,null!==(r=e.alternate)&&(r.childLanes|=t),r=e,e=e.return;return 3===r.tag?r.stateNode:null}var Di=!1;function Mi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ki(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ni(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ii(e,t,r){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&Rl)){var o=n.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),n.pending=t,Ti(e,r)}return null===(o=n.interleaved)?(t.next=t,Ri(n)):(t.next=o.next,o.next=t),n.interleaved=t,Ti(e,r)}function Li(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&r))){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,mt(e,r)}}function Fi(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var o=null,i=null;if(null!==(r=r.firstBaseUpdate)){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===i?o=i=a:i=i.next=a,r=r.next}while(null!==r);null===i?o=i=t:i=i.next=t}else o=i=t;return r={baseState:n.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:n.shared,effects:n.effects},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Gi(e,t,r,n){var o=e.updateQueue;Di=!1;var i=o.firstBaseUpdate,a=o.lastBaseUpdate,s=o.shared.pending;if(null!==s){o.shared.pending=null;var l=s,u=l.next;l.next=null,null===a?i=u:a.next=u,a=l;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==a&&(null===s?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(null!==i){var p=o.baseState;for(a=0,c=u=l=null,s=i;;){var d=s.lane,h=s.eventTime;if((n&d)===d){null!==c&&(c=c.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var f=e,g=s;switch(d=t,h=r,g.tag){case 1:if("function"===typeof(f=g.payload)){p=f.call(h,p,d);break e}p=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(d="function"===typeof(f=g.payload)?f.call(h,p,d):f)||void 0===d)break e;p=F({},p,d);break e;case 2:Di=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(d=o.effects)?o.effects=[s]:d.push(s))}else h={eventTime:h,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(u=c=h,l=p):c=c.next=h,a|=d;if(null===(s=s.next)){if(null===(s=o.shared.pending))break;s=(d=s).next,d.next=null,o.lastBaseUpdate=d,o.shared.pending=null}}if(null===c&&(l=p),o.baseState=l,o.firstBaseUpdate=u,o.lastBaseUpdate=c,null!==(t=o.shared.interleaved)){o=t;do{a|=o.lane,o=o.next}while(o!==t)}else null===i&&(o.shared.lanes=0);Ll|=a,e.lanes=a,e.memoizedState=p}}function Bi(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],o=n.callback;if(null!==o){if(n.callback=null,n=r,"function"!==typeof o)throw Error(i(191,o));o.call(n)}}}var Wi=(new n.Component).refs;function Hi(e,t,r,n){r=null===(r=r(n,t=e.memoizedState))||void 0===r?t:F({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var ji={isMounted:function(e){return!!(e=e._reactInternals)&&je(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=eu(),o=tu(e),i=Ni(n,o);i.payload=t,void 0!==r&&null!==r&&(i.callback=r),null!==(t=Ii(e,i,o))&&(ru(t,e,o,n),Li(t,e,o))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=eu(),o=tu(e),i=Ni(n,o);i.tag=1,i.payload=t,void 0!==r&&null!==r&&(i.callback=r),null!==(t=Ii(e,i,o))&&(ru(t,e,o,n),Li(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=eu(),n=tu(e),o=Ni(r,n);o.tag=2,void 0!==t&&null!==t&&(o.callback=t),null!==(t=Ii(e,o,n))&&(ru(t,e,n,r),Li(t,e,n))}};function Vi(e,t,r,n,o,i,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,i,a):!t.prototype||!t.prototype.isPureReactComponent||(!ln(r,n)||!ln(o,i))}function zi(e,t,r){var n=!1,o=Ro,i=t.contextType;return"object"===typeof i&&null!==i?i=_i(i):(o=ko(t)?Do:Ao.current,i=(n=null!==(n=t.contextTypes)&&void 0!==n)?Mo(e,o):Ro),t=new t(r,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ji,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function Ui(e,t,r,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&ji.enqueueReplaceState(t,t.state,null)}function Yi(e,t,r,n){var o=e.stateNode;o.props=r,o.state=e.memoizedState,o.refs=Wi,Mi(e);var i=t.contextType;"object"===typeof i&&null!==i?o.context=_i(i):(i=ko(t)?Do:Ao.current,o.context=Mo(e,i)),o.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(Hi(e,t,i,r),o.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(t=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&ji.enqueueReplaceState(o,o.state,null),Gi(e,r,o,n),o.state=e.memoizedState),"function"===typeof o.componentDidMount&&(e.flags|=4194308)}function Xi(e,t,r){if(null!==(e=r.ref)&&"function"!==typeof e&&"object"!==typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(i(309));var n=r.stateNode}if(!n)throw Error(i(147,e));var o=n,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=o.refs;t===Wi&&(t=o.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(i(284));if(!r._owner)throw Error(i(290,e))}return e}function Ki(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function qi(e){return(0,e._init)(e._payload)}function $i(e){function t(t,r){if(e){var n=t.deletions;null===n?(t.deletions=[r],t.flags|=16):n.push(r)}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=ku(e,t)).index=0,e.sibling=null,e}function a(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.flags|=2,r):n:(t.flags|=2,r):(t.flags|=1048576,r)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,r,n){return null===t||6!==t.tag?((t=Fu(r,e.mode,n)).return=e,t):((t=o(t,r)).return=e,t)}function u(e,t,r,n){var i=r.type;return i===S?p(e,t,r.props.children,n,r.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===M&&qi(i)===t.type)?((n=o(t,r.props)).ref=Xi(e,t,r),n.return=e,n):((n=Nu(r.type,r.key,r.props,null,e.mode,n)).ref=Xi(e,t,r),n.return=e,n)}function c(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Gu(r,e.mode,n)).return=e,t):((t=o(t,r.children||[])).return=e,t)}function p(e,t,r,n,i){return null===t||7!==t.tag?((t=Iu(r,e.mode,n,i)).return=e,t):((t=o(t,r)).return=e,t)}function d(e,t,r){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fu(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(r=Nu(t.type,t.key,t.props,null,e.mode,r)).ref=Xi(e,null,t),r.return=e,r;case x:return(t=Gu(t,e.mode,r)).return=e,t;case M:return d(e,(0,t._init)(t._payload),r)}if(te(t)||I(t))return(t=Iu(t,e.mode,r,null)).return=e,t;Ki(e,t)}return null}function h(e,t,r,n){var o=null!==t?t.key:null;if("string"===typeof r&&""!==r||"number"===typeof r)return null!==o?null:l(e,t,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return r.key===o?u(e,t,r,n):null;case x:return r.key===o?c(e,t,r,n):null;case M:return h(e,t,(o=r._init)(r._payload),n)}if(te(r)||I(r))return null!==o?null:p(e,t,r,n,null);Ki(e,r)}return null}function f(e,t,r,n,o){if("string"===typeof n&&""!==n||"number"===typeof n)return l(t,e=e.get(r)||null,""+n,o);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return u(t,e=e.get(null===n.key?r:n.key)||null,n,o);case x:return c(t,e=e.get(null===n.key?r:n.key)||null,n,o);case M:return f(e,t,r,(0,n._init)(n._payload),o)}if(te(n)||I(n))return p(t,e=e.get(r)||null,n,o,null);Ki(t,n)}return null}function g(o,i,s,l){for(var u=null,c=null,p=i,g=i=0,y=null;null!==p&&g<s.length;g++){p.index>g?(y=p,p=null):y=p.sibling;var v=h(o,p,s[g],l);if(null===v){null===p&&(p=y);break}e&&p&&null===v.alternate&&t(o,p),i=a(v,i,g),null===c?u=v:c.sibling=v,c=v,p=y}if(g===s.length)return r(o,p),ii&&Jo(o,g),u;if(null===p){for(;g<s.length;g++)null!==(p=d(o,s[g],l))&&(i=a(p,i,g),null===c?u=p:c.sibling=p,c=p);return ii&&Jo(o,g),u}for(p=n(o,p);g<s.length;g++)null!==(y=f(p,o,g,s[g],l))&&(e&&null!==y.alternate&&p.delete(null===y.key?g:y.key),i=a(y,i,g),null===c?u=y:c.sibling=y,c=y);return e&&p.forEach((function(e){return t(o,e)})),ii&&Jo(o,g),u}function y(o,s,l,u){var c=I(l);if("function"!==typeof c)throw Error(i(150));if(null==(l=c.call(l)))throw Error(i(151));for(var p=c=null,g=s,y=s=0,v=null,m=l.next();null!==g&&!m.done;y++,m=l.next()){g.index>y?(v=g,g=null):v=g.sibling;var b=h(o,g,m.value,u);if(null===b){null===g&&(g=v);break}e&&g&&null===b.alternate&&t(o,g),s=a(b,s,y),null===p?c=b:p.sibling=b,p=b,g=v}if(m.done)return r(o,g),ii&&Jo(o,y),c;if(null===g){for(;!m.done;y++,m=l.next())null!==(m=d(o,m.value,u))&&(s=a(m,s,y),null===p?c=m:p.sibling=m,p=m);return ii&&Jo(o,y),c}for(g=n(o,g);!m.done;y++,m=l.next())null!==(m=f(g,o,y,m.value,u))&&(e&&null!==m.alternate&&g.delete(null===m.key?y:m.key),s=a(m,s,y),null===p?c=m:p.sibling=m,p=m);return e&&g.forEach((function(e){return t(o,e)})),ii&&Jo(o,y),c}return function e(n,i,a,l){if("object"===typeof a&&null!==a&&a.type===S&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case w:e:{for(var u=a.key,c=i;null!==c;){if(c.key===u){if((u=a.type)===S){if(7===c.tag){r(n,c.sibling),(i=o(c,a.props.children)).return=n,n=i;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===M&&qi(u)===c.type){r(n,c.sibling),(i=o(c,a.props)).ref=Xi(n,c,a),i.return=n,n=i;break e}r(n,c);break}t(n,c),c=c.sibling}a.type===S?((i=Iu(a.props.children,n.mode,l,a.key)).return=n,n=i):((l=Nu(a.type,a.key,a.props,null,n.mode,l)).ref=Xi(n,i,a),l.return=n,n=l)}return s(n);case x:e:{for(c=a.key;null!==i;){if(i.key===c){if(4===i.tag&&i.stateNode.containerInfo===a.containerInfo&&i.stateNode.implementation===a.implementation){r(n,i.sibling),(i=o(i,a.children||[])).return=n,n=i;break e}r(n,i);break}t(n,i),i=i.sibling}(i=Gu(a,n.mode,l)).return=n,n=i}return s(n);case M:return e(n,i,(c=a._init)(a._payload),l)}if(te(a))return g(n,i,a,l);if(I(a))return y(n,i,a,l);Ki(n,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==i&&6===i.tag?(r(n,i.sibling),(i=o(i,a)).return=n,n=i):(r(n,i),(i=Fu(a,n.mode,l)).return=n,n=i),s(n)):r(n,i)}}var Zi=$i(!0),Qi=$i(!1),Ji={},ea=Oo(Ji),ta=Oo(Ji),ra=Oo(Ji);function na(e){if(e===Ji)throw Error(i(174));return e}function oa(e,t){switch(Po(ra,t),Po(ta,e),Po(ea,Ji),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}_o(ea),Po(ea,t)}function ia(){_o(ea),_o(ta),_o(ra)}function aa(e){na(ra.current);var t=na(ea.current),r=le(t,e.type);t!==r&&(Po(ta,e),Po(ea,r))}function sa(e){ta.current===e&&(_o(ea),_o(ta))}var la=Oo(0);function ua(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ca=[];function pa(){for(var e=0;e<ca.length;e++)ca[e]._workInProgressVersionPrimary=null;ca.length=0}var da=C.ReactCurrentDispatcher,ha=C.ReactCurrentBatchConfig,fa=0,ga=null,ya=null,va=null,ma=!1,ba=!1,Ca=0,wa=0;function xa(){throw Error(i(321))}function Sa(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!sn(e[r],t[r]))return!1;return!0}function Ea(e,t,r,n,o,a){if(fa=a,ga=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,da.current=null===e||null===e.memoizedState?ss:ls,e=r(n,o),ba){a=0;do{if(ba=!1,Ca=0,25<=a)throw Error(i(301));a+=1,va=ya=null,t.updateQueue=null,da.current=us,e=r(n,o)}while(ba)}if(da.current=as,t=null!==ya&&null!==ya.next,fa=0,va=ya=ga=null,ma=!1,t)throw Error(i(300));return e}function Oa(){var e=0!==Ca;return Ca=0,e}function _a(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===va?ga.memoizedState=va=e:va=va.next=e,va}function Pa(){if(null===ya){var e=ga.alternate;e=null!==e?e.memoizedState:null}else e=ya.next;var t=null===va?ga.memoizedState:va.next;if(null!==t)va=t,ya=e;else{if(null===e)throw Error(i(310));e={memoizedState:(ya=e).memoizedState,baseState:ya.baseState,baseQueue:ya.baseQueue,queue:ya.queue,next:null},null===va?ga.memoizedState=va=e:va=va.next=e}return va}function Ra(e,t){return"function"===typeof t?t(e):t}function Aa(e){var t=Pa(),r=t.queue;if(null===r)throw Error(i(311));r.lastRenderedReducer=e;var n=ya,o=n.baseQueue,a=r.pending;if(null!==a){if(null!==o){var s=o.next;o.next=a.next,a.next=s}n.baseQueue=o=a,r.pending=null}if(null!==o){a=o.next,n=n.baseState;var l=s=null,u=null,c=a;do{var p=c.lane;if((fa&p)===p)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var d={lane:p,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=d,s=n):u=u.next=d,ga.lanes|=p,Ll|=p}c=c.next}while(null!==c&&c!==a);null===u?s=n:u.next=l,sn(n,t.memoizedState)||(Cs=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=u,r.lastRenderedState=n}if(null!==(e=r.interleaved)){o=e;do{a=o.lane,ga.lanes|=a,Ll|=a,o=o.next}while(o!==e)}else null===o&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Ta(e){var t=Pa(),r=t.queue;if(null===r)throw Error(i(311));r.lastRenderedReducer=e;var n=r.dispatch,o=r.pending,a=t.memoizedState;if(null!==o){r.pending=null;var s=o=o.next;do{a=e(a,s.action),s=s.next}while(s!==o);sn(a,t.memoizedState)||(Cs=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function Da(){}function Ma(e,t){var r=ga,n=Pa(),o=t(),a=!sn(n.memoizedState,o);if(a&&(n.memoizedState=o,Cs=!0),n=n.queue,za(Ia.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||null!==va&&1&va.memoizedState.tag){if(r.flags|=2048,Ba(9,Na.bind(null,r,n,o,t),void 0,null),null===Al)throw Error(i(349));0!==(30&fa)||ka(r,t,o)}return o}function ka(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=ga.updateQueue)?(t={lastEffect:null,stores:null},ga.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function Na(e,t,r,n){t.value=r,t.getSnapshot=n,La(t)&&Fa(e)}function Ia(e,t,r){return r((function(){La(t)&&Fa(e)}))}function La(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!sn(e,r)}catch(n){return!0}}function Fa(e){var t=Ti(e,1);null!==t&&ru(t,e,1,-1)}function Ga(e){var t=_a();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ra,lastRenderedState:e},t.queue=e,e=e.dispatch=rs.bind(null,ga,e),[t.memoizedState,e]}function Ba(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},null===(t=ga.updateQueue)?(t={lastEffect:null,stores:null},ga.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function Wa(){return Pa().memoizedState}function Ha(e,t,r,n){var o=_a();ga.flags|=e,o.memoizedState=Ba(1|t,r,void 0,void 0===n?null:n)}function ja(e,t,r,n){var o=Pa();n=void 0===n?null:n;var i=void 0;if(null!==ya){var a=ya.memoizedState;if(i=a.destroy,null!==n&&Sa(n,a.deps))return void(o.memoizedState=Ba(t,r,i,n))}ga.flags|=e,o.memoizedState=Ba(1|t,r,i,n)}function Va(e,t){return Ha(8390656,8,e,t)}function za(e,t){return ja(2048,8,e,t)}function Ua(e,t){return ja(4,2,e,t)}function Ya(e,t){return ja(4,4,e,t)}function Xa(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ka(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,ja(4,4,Xa.bind(null,t,e),r)}function qa(){}function $a(e,t){var r=Pa();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&Sa(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Za(e,t){var r=Pa();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&Sa(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Qa(e,t,r){return 0===(21&fa)?(e.baseState&&(e.baseState=!1,Cs=!0),e.memoizedState=r):(sn(r,t)||(r=gt(),ga.lanes|=r,Ll|=r,e.baseState=!0),t)}function Ja(e,t){var r=bt;bt=0!==r&&4>r?r:4,e(!0);var n=ha.transition;ha.transition={};try{e(!1),t()}finally{bt=r,ha.transition=n}}function es(){return Pa().memoizedState}function ts(e,t,r){var n=tu(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},ns(e))os(t,r);else if(null!==(r=Ai(e,t,r,n))){ru(r,e,n,eu()),is(r,t,n)}}function rs(e,t,r){var n=tu(e),o={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(ns(e))os(t,o);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=i(a,r);if(o.hasEagerState=!0,o.eagerState=s,sn(s,a)){var l=t.interleaved;return null===l?(o.next=o,Ri(t)):(o.next=l.next,l.next=o),void(t.interleaved=o)}}catch(u){}null!==(r=Ai(e,t,o,n))&&(ru(r,e,n,o=eu()),is(r,t,n))}}function ns(e){var t=e.alternate;return e===ga||null!==t&&t===ga}function os(e,t){ba=ma=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function is(e,t,r){if(0!==(4194240&r)){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,mt(e,r)}}var as={readContext:_i,useCallback:xa,useContext:xa,useEffect:xa,useImperativeHandle:xa,useInsertionEffect:xa,useLayoutEffect:xa,useMemo:xa,useReducer:xa,useRef:xa,useState:xa,useDebugValue:xa,useDeferredValue:xa,useTransition:xa,useMutableSource:xa,useSyncExternalStore:xa,useId:xa,unstable_isNewReconciler:!1},ss={readContext:_i,useCallback:function(e,t){return _a().memoizedState=[e,void 0===t?null:t],e},useContext:_i,useEffect:Va,useImperativeHandle:function(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Ha(4194308,4,Xa.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ha(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ha(4,2,e,t)},useMemo:function(e,t){var r=_a();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=_a();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=ts.bind(null,ga,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},_a().memoizedState=e},useState:Ga,useDebugValue:qa,useDeferredValue:function(e){return _a().memoizedState=e},useTransition:function(){var e=Ga(!1),t=e[0];return e=Ja.bind(null,e[1]),_a().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ga,o=_a();if(ii){if(void 0===r)throw Error(i(407));r=r()}else{if(r=t(),null===Al)throw Error(i(349));0!==(30&fa)||ka(n,t,r)}o.memoizedState=r;var a={value:r,getSnapshot:t};return o.queue=a,Va(Ia.bind(null,n,a,e),[e]),n.flags|=2048,Ba(9,Na.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=_a(),t=Al.identifierPrefix;if(ii){var r=Qo;t=":"+t+"R"+(r=(Zo&~(1<<32-at(Zo)-1)).toString(32)+r),0<(r=Ca++)&&(t+="H"+r.toString(32)),t+=":"}else t=":"+t+"r"+(r=wa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ls={readContext:_i,useCallback:$a,useContext:_i,useEffect:za,useImperativeHandle:Ka,useInsertionEffect:Ua,useLayoutEffect:Ya,useMemo:Za,useReducer:Aa,useRef:Wa,useState:function(){return Aa(Ra)},useDebugValue:qa,useDeferredValue:function(e){return Qa(Pa(),ya.memoizedState,e)},useTransition:function(){return[Aa(Ra)[0],Pa().memoizedState]},useMutableSource:Da,useSyncExternalStore:Ma,useId:es,unstable_isNewReconciler:!1},us={readContext:_i,useCallback:$a,useContext:_i,useEffect:za,useImperativeHandle:Ka,useInsertionEffect:Ua,useLayoutEffect:Ya,useMemo:Za,useReducer:Ta,useRef:Wa,useState:function(){return Ta(Ra)},useDebugValue:qa,useDeferredValue:function(e){var t=Pa();return null===ya?t.memoizedState=e:Qa(t,ya.memoizedState,e)},useTransition:function(){return[Ta(Ra)[0],Pa().memoizedState]},useMutableSource:Da,useSyncExternalStore:Ma,useId:es,unstable_isNewReconciler:!1};function cs(e,t){try{var r="",n=t;do{r+=H(n),n=n.return}while(n);var o=r}catch(i){o="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:o,digest:null}}function ps(e,t,r){return{value:e,source:null,stack:null!=r?r:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(r){setTimeout((function(){throw r}))}}var hs="function"===typeof WeakMap?WeakMap:Map;function fs(e,t,r){(r=Ni(-1,r)).tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){zl||(zl=!0,Ul=n),ds(0,t)},r}function gs(e,t,r){(r=Ni(-1,r)).tag=3;var n=e.type.getDerivedStateFromError;if("function"===typeof n){var o=t.value;r.payload=function(){return n(o)},r.callback=function(){ds(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(r.callback=function(){ds(0,t),"function"!==typeof n&&(null===Yl?Yl=new Set([this]):Yl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),r}function ys(e,t,r){var n=e.pingCache;if(null===n){n=e.pingCache=new hs;var o=new Set;n.set(t,o)}else void 0===(o=n.get(t))&&(o=new Set,n.set(t,o));o.has(r)||(o.add(r),e=Ou.bind(null,e,t,r),t.then(e,e))}function vs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ms(e,t,r,n,o){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,1===r.tag&&(null===r.alternate?r.tag=17:((t=Ni(-1,1)).tag=2,Ii(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}var bs=C.ReactCurrentOwner,Cs=!1;function ws(e,t,r,n){t.child=null===e?Qi(t,null,r,n):Zi(t,e.child,r,n)}function xs(e,t,r,n,o){r=r.render;var i=t.ref;return Oi(t,o),n=Ea(e,t,r,n,i,o),r=Oa(),null===e||Cs?(ii&&r&&ti(t),t.flags|=1,ws(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,zs(e,t,o))}function Ss(e,t,r,n,o){if(null===e){var i=r.type;return"function"!==typeof i||Mu(i)||void 0!==i.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=Nu(r.type,null,n,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Es(e,t,i,n,o))}if(i=e.child,0===(e.lanes&o)){var a=i.memoizedProps;if((r=null!==(r=r.compare)?r:ln)(a,n)&&e.ref===t.ref)return zs(e,t,o)}return t.flags|=1,(e=ku(i,n)).ref=t.ref,e.return=t,t.child=e}function Es(e,t,r,n,o){if(null!==e){var i=e.memoizedProps;if(ln(i,n)&&e.ref===t.ref){if(Cs=!1,t.pendingProps=n=i,0===(e.lanes&o))return t.lanes=e.lanes,zs(e,t,o);0!==(131072&e.flags)&&(Cs=!0)}}return Ps(e,t,r,n,o)}function Os(e,t,r){var n=t.pendingProps,o=n.children,i=null!==e?e.memoizedState:null;if("hidden"===n.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Po(kl,Ml),Ml|=r;else{if(0===(1073741824&r))return e=null!==i?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Po(kl,Ml),Ml|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=null!==i?i.baseLanes:r,Po(kl,Ml),Ml|=n}else null!==i?(n=i.baseLanes|r,t.memoizedState=null):n=r,Po(kl,Ml),Ml|=n;return ws(e,t,o,r),t.child}function _s(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Ps(e,t,r,n,o){var i=ko(r)?Do:Ao.current;return i=Mo(t,i),Oi(t,o),r=Ea(e,t,r,n,i,o),n=Oa(),null===e||Cs?(ii&&n&&ti(t),t.flags|=1,ws(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,zs(e,t,o))}function Rs(e,t,r,n,o){if(ko(r)){var i=!0;Fo(t)}else i=!1;if(Oi(t,o),null===t.stateNode)Vs(e,t),zi(t,r,n),Yi(t,r,n,o),n=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=r.contextType;"object"===typeof u&&null!==u?u=_i(u):u=Mo(t,u=ko(r)?Do:Ao.current);var c=r.getDerivedStateFromProps,p="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;p||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==n||l!==u)&&Ui(t,a,n,u),Di=!1;var d=t.memoizedState;a.state=d,Gi(t,n,a,o),l=t.memoizedState,s!==n||d!==l||To.current||Di?("function"===typeof c&&(Hi(t,r,c,n),l=t.memoizedState),(s=Di||Vi(t,r,s,n,d,l,u))?(p||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),a.props=n,a.state=l,a.context=u,n=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,ki(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:vi(t.type,s),a.props=u,p=t.pendingProps,d=a.context,"object"===typeof(l=r.contextType)&&null!==l?l=_i(l):l=Mo(t,l=ko(r)?Do:Ao.current);var h=r.getDerivedStateFromProps;(c="function"===typeof h||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==p||d!==l)&&Ui(t,a,n,l),Di=!1,d=t.memoizedState,a.state=d,Gi(t,n,a,o);var f=t.memoizedState;s!==p||d!==f||To.current||Di?("function"===typeof h&&(Hi(t,r,h,n),f=t.memoizedState),(u=Di||Vi(t,r,u,n,d,f,l)||!1)?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(n,f,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(n,f,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=f),a.props=n,a.state=f,a.context=l,n=u):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),n=!1)}return As(e,t,r,n,i,o)}function As(e,t,r,n,o,i){_s(e,t);var a=0!==(128&t.flags);if(!n&&!a)return o&&Go(t,r,!1),zs(e,t,i);n=t.stateNode,bs.current=t;var s=a&&"function"!==typeof r.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&a?(t.child=Zi(t,e.child,null,i),t.child=Zi(t,null,s,i)):ws(e,t,s,i),t.memoizedState=n.state,o&&Go(t,r,!0),t.child}function Ts(e){var t=e.stateNode;t.pendingContext?Io(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Io(0,t.context,!1),oa(e,t.containerInfo)}function Ds(e,t,r,n,o){return fi(),gi(o),t.flags|=256,ws(e,t,r,n),t.child}var Ms,ks,Ns,Is={dehydrated:null,treeContext:null,retryLane:0};function Ls(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fs(e,t,r){var n,o=t.pendingProps,a=la.current,s=!1,l=0!==(128&t.flags);if((n=l)||(n=(null===e||null!==e.memoizedState)&&0!==(2&a)),n?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Po(la,1&a),null===e)return ci(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=o.children,e=o.fallback,s?(o=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&o)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Lu(l,o,0,null),e=Iu(e,o,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ls(r),t.memoizedState=Is,e):Gs(t,l));if(null!==(a=e.memoizedState)&&null!==(n=a.dehydrated))return function(e,t,r,n,o,a,s){if(r)return 256&t.flags?(t.flags&=-257,Bs(e,t,s,n=ps(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=n.fallback,o=t.mode,n=Lu({mode:"visible",children:n.children},o,0,null),(a=Iu(a,o,s,null)).flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,0!==(1&t.mode)&&Zi(t,e.child,null,s),t.child.memoizedState=Ls(s),t.memoizedState=Is,a);if(0===(1&t.mode))return Bs(e,t,s,null);if("$!"===o.data){if(n=o.nextSibling&&o.nextSibling.dataset)var l=n.dgst;return n=l,Bs(e,t,s,n=ps(a=Error(i(419)),n,void 0))}if(l=0!==(s&e.childLanes),Cs||l){if(null!==(n=Al)){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(o=0!==(o&(n.suspendedLanes|s))?0:o)&&o!==a.retryLane&&(a.retryLane=o,Ti(e,o),ru(n,e,o,-1))}return gu(),Bs(e,t,s,n=ps(Error(i(421))))}return"$?"===o.data?(t.flags|=128,t.child=e.child,t=Pu.bind(null,e),o._reactRetry=t,null):(e=a.treeContext,oi=uo(o.nextSibling),ni=t,ii=!0,ai=null,null!==e&&(Ko[qo++]=Zo,Ko[qo++]=Qo,Ko[qo++]=$o,Zo=e.id,Qo=e.overflow,$o=t),(t=Gs(t,n.children)).flags|=4096,t)}(e,t,l,o,n,a,r);if(s){s=o.fallback,l=t.mode,n=(a=e.child).sibling;var u={mode:"hidden",children:o.children};return 0===(1&l)&&t.child!==a?((o=t.child).childLanes=0,o.pendingProps=u,t.deletions=null):(o=ku(a,u)).subtreeFlags=14680064&a.subtreeFlags,null!==n?s=ku(n,s):(s=Iu(s,l,r,null)).flags|=2,s.return=t,o.return=t,o.sibling=s,t.child=o,o=s,s=t.child,l=null===(l=e.child.memoizedState)?Ls(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~r,t.memoizedState=Is,o}return e=(s=e.child).sibling,o=ku(s,{mode:"visible",children:o.children}),0===(1&t.mode)&&(o.lanes=r),o.return=t,o.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=o,t.memoizedState=null,o}function Gs(e,t){return(t=Lu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Bs(e,t,r,n){return null!==n&&gi(n),Zi(t,e.child,null,r),(e=Gs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ws(e,t,r){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Ei(e.return,t,r)}function Hs(e,t,r,n,o){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=o)}function js(e,t,r){var n=t.pendingProps,o=n.revealOrder,i=n.tail;if(ws(e,t,n.children,r),0!==(2&(n=la.current)))n=1&n|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ws(e,r,t);else if(19===e.tag)Ws(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Po(la,n),0===(1&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(r=t.child,o=null;null!==r;)null!==(e=r.alternate)&&null===ua(e)&&(o=r),r=r.sibling;null===(r=o)?(o=t.child,t.child=null):(o=r.sibling,r.sibling=null),Hs(t,!1,o,r,i);break;case"backwards":for(r=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===ua(e)){t.child=o;break}e=o.sibling,o.sibling=r,r=o,o=e}Hs(t,!0,r,null,i);break;case"together":Hs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function zs(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),Ll|=t.lanes,0===(r&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(r=ku(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=ku(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function Us(e,t){if(!ii)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ys(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,n=0;if(t)for(var o=e.child;null!==o;)r|=o.lanes|o.childLanes,n|=14680064&o.subtreeFlags,n|=14680064&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)r|=o.lanes|o.childLanes,n|=o.subtreeFlags,n|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Xs(e,t,r){var n=t.pendingProps;switch(ri(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ys(t),null;case 1:case 17:return ko(t.type)&&No(),Ys(t),null;case 3:return n=t.stateNode,ia(),_o(To),_o(Ao),pa(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(di(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ai&&(au(ai),ai=null))),Ys(t),null;case 5:sa(t);var o=na(ra.current);if(r=t.type,null!==e&&null!=t.stateNode)ks(e,t,r,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(null===t.stateNode)throw Error(i(166));return Ys(t),null}if(e=na(ea.current),di(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[ho]=t,n[fo]=a,e=0!==(1&t.mode),r){case"dialog":Bn("cancel",n),Bn("close",n);break;case"iframe":case"object":case"embed":Bn("load",n);break;case"video":case"audio":for(o=0;o<In.length;o++)Bn(In[o],n);break;case"source":Bn("error",n);break;case"img":case"image":case"link":Bn("error",n),Bn("load",n);break;case"details":Bn("toggle",n);break;case"input":$(n,a),Bn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Bn("invalid",n);break;case"textarea":oe(n,a),Bn("invalid",n)}for(var l in me(r,a),o=null,a)if(a.hasOwnProperty(l)){var u=a[l];"children"===l?"string"===typeof u?n.textContent!==u&&(!0!==a.suppressHydrationWarning&&Qn(n.textContent,u,e),o=["children",u]):"number"===typeof u&&n.textContent!==""+u&&(!0!==a.suppressHydrationWarning&&Qn(n.textContent,u,e),o=["children",""+u]):s.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Bn("scroll",n)}switch(r){case"input":Y(n),J(n,a,!0);break;case"textarea":Y(n),ae(n);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(n.onclick=Jn)}n=o,t.updateQueue=n,null!==n&&(t.flags|=4)}else{l=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(r)),"http://www.w3.org/1999/xhtml"===e?"script"===r?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof n.is?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),"select"===r&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[ho]=t,e[fo]=n,Ms(e,t),t.stateNode=e;e:{switch(l=be(r,n),r){case"dialog":Bn("cancel",e),Bn("close",e),o=n;break;case"iframe":case"object":case"embed":Bn("load",e),o=n;break;case"video":case"audio":for(o=0;o<In.length;o++)Bn(In[o],e);o=n;break;case"source":Bn("error",e),o=n;break;case"img":case"image":case"link":Bn("error",e),Bn("load",e),o=n;break;case"details":Bn("toggle",e),o=n;break;case"input":$(e,n),o=q(e,n),Bn("invalid",e);break;case"option":default:o=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},o=F({},n,{value:void 0}),Bn("invalid",e);break;case"textarea":oe(e,n),o=ne(e,n),Bn("invalid",e)}for(a in me(r,o),u=o)if(u.hasOwnProperty(a)){var c=u[a];"style"===a?ye(e,c):"dangerouslySetInnerHTML"===a?null!=(c=c?c.__html:void 0)&&pe(e,c):"children"===a?"string"===typeof c?("textarea"!==r||""!==c)&&de(e,c):"number"===typeof c&&de(e,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=c&&"onScroll"===a&&Bn("scroll",e):null!=c&&b(e,a,c,l))}switch(r){case"input":Y(e),J(e,n,!1);break;case"textarea":Y(e),ae(e);break;case"option":null!=n.value&&e.setAttribute("value",""+z(n.value));break;case"select":e.multiple=!!n.multiple,null!=(a=n.value)?re(e,!!n.multiple,a,!1):null!=n.defaultValue&&re(e,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=Jn)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ys(t),null;case 6:if(e&&null!=t.stateNode)Ns(0,t,e.memoizedProps,n);else{if("string"!==typeof n&&null===t.stateNode)throw Error(i(166));if(r=na(ra.current),na(ea.current),di(t)){if(n=t.stateNode,r=t.memoizedProps,n[ho]=t,(a=n.nodeValue!==r)&&null!==(e=ni))switch(e.tag){case 3:Qn(n.nodeValue,r,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Qn(n.nodeValue,r,0!==(1&e.mode))}a&&(t.flags|=4)}else(n=(9===r.nodeType?r:r.ownerDocument).createTextNode(n))[ho]=t,t.stateNode=n}return Ys(t),null;case 13:if(_o(la),n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ii&&null!==oi&&0!==(1&t.mode)&&0===(128&t.flags))hi(),fi(),t.flags|=98560,a=!1;else if(a=di(t),null!==n&&null!==n.dehydrated){if(null===e){if(!a)throw Error(i(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(i(317));a[ho]=t}else fi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ys(t),a=!1}else null!==ai&&(au(ai),ai=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=r,t):((n=null!==n)!==(null!==e&&null!==e.memoizedState)&&n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&la.current)?0===Nl&&(Nl=3):gu())),null!==t.updateQueue&&(t.flags|=4),Ys(t),null);case 4:return ia(),null===e&&jn(t.stateNode.containerInfo),Ys(t),null;case 10:return Si(t.type._context),Ys(t),null;case 19:if(_o(la),null===(a=t.memoizedState))return Ys(t),null;if(n=0!==(128&t.flags),null===(l=a.rendering))if(n)Us(a,!1);else{if(0!==Nl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ua(e))){for(t.flags|=128,Us(a,!1),null!==(n=l.updateQueue)&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;null!==r;)e=n,(a=r).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Po(la,1&la.current|2),t.child}e=e.sibling}null!==a.tail&&Ze()>jl&&(t.flags|=128,n=!0,Us(a,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=ua(l))){if(t.flags|=128,n=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.flags|=4),Us(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!ii)return Ys(t),null}else 2*Ze()-a.renderingStartTime>jl&&1073741824!==r&&(t.flags|=128,n=!0,Us(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(r=a.last)?r.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ze(),t.sibling=null,r=la.current,Po(la,n?1&r|2:1&r),t):(Ys(t),null);case 22:case 23:return pu(),n=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==n&&(t.flags|=8192),n&&0!==(1&t.mode)?0!==(1073741824&Ml)&&(Ys(t),6&t.subtreeFlags&&(t.flags|=8192)):Ys(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Ks(e,t){switch(ri(t),t.tag){case 1:return ko(t.type)&&No(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ia(),_o(To),_o(Ao),pa(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return sa(t),null;case 13:if(_o(la),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));fi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return _o(la),null;case 4:return ia(),null;case 10:return Si(t.type._context),null;case 22:case 23:return pu(),null;default:return null}}Ms=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},ks=function(e,t,r,n){var o=e.memoizedProps;if(o!==n){e=t.stateNode,na(ea.current);var i,a=null;switch(r){case"input":o=q(e,o),n=q(e,n),a=[];break;case"select":o=F({},o,{value:void 0}),n=F({},n,{value:void 0}),a=[];break;case"textarea":o=ne(e,o),n=ne(e,n),a=[];break;default:"function"!==typeof o.onClick&&"function"===typeof n.onClick&&(e.onclick=Jn)}for(c in me(r,n),r=null,o)if(!n.hasOwnProperty(c)&&o.hasOwnProperty(c)&&null!=o[c])if("style"===c){var l=o[c];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in n){var u=n[c];if(l=null!=o?o[c]:void 0,n.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(i in l)!l.hasOwnProperty(i)||u&&u.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in u)u.hasOwnProperty(i)&&l[i]!==u[i]&&(r||(r={}),r[i]=u[i])}else r||(a||(a=[]),a.push(c,r)),r=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(a=a||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(a=a||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Bn("scroll",e),a||l===u||(a=[])):(a=a||[]).push(c,u))}r&&(a=a||[]).push("style",r);var c=a;(t.updateQueue=c)&&(t.flags|=4)}},Ns=function(e,t,r,n){r!==n&&(t.flags|=4)};var qs=!1,$s=!1,Zs="function"===typeof WeakSet?WeakSet:Set,Qs=null;function Js(e,t){var r=e.ref;if(null!==r)if("function"===typeof r)try{r(null)}catch(n){Eu(e,t,n)}else r.current=null}function el(e,t,r){try{r()}catch(n){Eu(e,t,n)}}var tl=!1;function rl(e,t,r){var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var o=n=n.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,void 0!==i&&el(t,r,i)}o=o.next}while(o!==n)}}function nl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function ol(e){var t=e.ref;if(null!==t){var r=e.stateNode;e.tag,e=r,"function"===typeof t?t(e):t.current=e}}function il(e){var t=e.alternate;null!==t&&(e.alternate=null,il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ho],delete t[fo],delete t[yo],delete t[vo],delete t[mo])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?8===r.nodeType?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(8===r.nodeType?(t=r.parentNode).insertBefore(e,r):(t=r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==t.onclick||(t.onclick=Jn));else if(4!==n&&null!==(e=e.child))for(ll(e,t,r),e=e.sibling;null!==e;)ll(e,t,r),e=e.sibling}function ul(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&null!==(e=e.child))for(ul(e,t,r),e=e.sibling;null!==e;)ul(e,t,r),e=e.sibling}var cl=null,pl=!1;function dl(e,t,r){for(r=r.child;null!==r;)hl(e,t,r),r=r.sibling}function hl(e,t,r){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(ot,r)}catch(s){}switch(r.tag){case 5:$s||Js(r,t);case 6:var n=cl,o=pl;cl=null,dl(e,t,r),pl=o,null!==(cl=n)&&(pl?(e=cl,r=r.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)):cl.removeChild(r.stateNode));break;case 18:null!==cl&&(pl?(e=cl,r=r.stateNode,8===e.nodeType?lo(e.parentNode,r):1===e.nodeType&&lo(e,r),jt(e)):lo(cl,r.stateNode));break;case 4:n=cl,o=pl,cl=r.stateNode.containerInfo,pl=!0,dl(e,t,r),cl=n,pl=o;break;case 0:case 11:case 14:case 15:if(!$s&&(null!==(n=r.updateQueue)&&null!==(n=n.lastEffect))){o=n=n.next;do{var i=o,a=i.destroy;i=i.tag,void 0!==a&&(0!==(2&i)||0!==(4&i))&&el(r,t,a),o=o.next}while(o!==n)}dl(e,t,r);break;case 1:if(!$s&&(Js(r,t),"function"===typeof(n=r.stateNode).componentWillUnmount))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){Eu(r,t,s)}dl(e,t,r);break;case 21:dl(e,t,r);break;case 22:1&r.mode?($s=(n=$s)||null!==r.memoizedState,dl(e,t,r),$s=n):dl(e,t,r);break;default:dl(e,t,r)}}function fl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new Zs),t.forEach((function(t){var n=Ru.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))}))}}function gl(e,t){var r=t.deletions;if(null!==r)for(var n=0;n<r.length;n++){var o=r[n];try{var a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,pl=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,pl=!0;break e}l=l.return}if(null===cl)throw Error(i(160));hl(a,s,o),cl=null,pl=!1;var u=o.alternate;null!==u&&(u.return=null),o.return=null}catch(c){Eu(o,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yl(t,e),t=t.sibling}function yl(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),vl(e),4&n){try{rl(3,e,e.return),nl(3,e)}catch(y){Eu(e,e.return,y)}try{rl(5,e,e.return)}catch(y){Eu(e,e.return,y)}}break;case 1:gl(t,e),vl(e),512&n&&null!==r&&Js(r,r.return);break;case 5:if(gl(t,e),vl(e),512&n&&null!==r&&Js(r,r.return),32&e.flags){var o=e.stateNode;try{de(o,"")}catch(y){Eu(e,e.return,y)}}if(4&n&&null!=(o=e.stateNode)){var a=e.memoizedProps,s=null!==r?r.memoizedProps:a,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===a.type&&null!=a.name&&Z(o,a),be(l,s);var c=be(l,a);for(s=0;s<u.length;s+=2){var p=u[s],d=u[s+1];"style"===p?ye(o,d):"dangerouslySetInnerHTML"===p?pe(o,d):"children"===p?de(o,d):b(o,p,d,c)}switch(l){case"input":Q(o,a);break;case"textarea":ie(o,a);break;case"select":var h=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var f=a.value;null!=f?re(o,!!a.multiple,f,!1):h!==!!a.multiple&&(null!=a.defaultValue?re(o,!!a.multiple,a.defaultValue,!0):re(o,!!a.multiple,a.multiple?[]:"",!1))}o[fo]=a}catch(y){Eu(e,e.return,y)}}break;case 6:if(gl(t,e),vl(e),4&n){if(null===e.stateNode)throw Error(i(162));o=e.stateNode,a=e.memoizedProps;try{o.nodeValue=a}catch(y){Eu(e,e.return,y)}}break;case 3:if(gl(t,e),vl(e),4&n&&null!==r&&r.memoizedState.isDehydrated)try{jt(t.containerInfo)}catch(y){Eu(e,e.return,y)}break;case 4:default:gl(t,e),vl(e);break;case 13:gl(t,e),vl(e),8192&(o=e.child).flags&&(a=null!==o.memoizedState,o.stateNode.isHidden=a,!a||null!==o.alternate&&null!==o.alternate.memoizedState||(Hl=Ze())),4&n&&fl(e);break;case 22:if(p=null!==r&&null!==r.memoizedState,1&e.mode?($s=(c=$s)||p,gl(t,e),$s=c):gl(t,e),vl(e),8192&n){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!p&&0!==(1&e.mode))for(Qs=e,p=e.child;null!==p;){for(d=Qs=p;null!==Qs;){switch(f=(h=Qs).child,h.tag){case 0:case 11:case 14:case 15:rl(4,h,h.return);break;case 1:Js(h,h.return);var g=h.stateNode;if("function"===typeof g.componentWillUnmount){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(y){Eu(n,r,y)}}break;case 5:Js(h,h.return);break;case 22:if(null!==h.memoizedState){wl(d);continue}}null!==f?(f.return=h,Qs=f):wl(d)}p=p.sibling}e:for(p=null,d=e;;){if(5===d.tag){if(null===p){p=d;try{o=d.stateNode,c?"function"===typeof(a=o.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=d.stateNode,s=void 0!==(u=d.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=ge("display",s))}catch(y){Eu(e,e.return,y)}}}else if(6===d.tag){if(null===p)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(y){Eu(e,e.return,y)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;p===d&&(p=null),d=d.return}p===d&&(p=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:gl(t,e),vl(e),4&n&&fl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var r=e.return;null!==r;){if(al(r)){var n=r;break e}r=r.return}throw Error(i(160))}switch(n.tag){case 5:var o=n.stateNode;32&n.flags&&(de(o,""),n.flags&=-33),ul(e,sl(e),o);break;case 3:case 4:var a=n.stateNode.containerInfo;ll(e,sl(e),a);break;default:throw Error(i(161))}}catch(s){Eu(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ml(e,t,r){Qs=e,bl(e,t,r)}function bl(e,t,r){for(var n=0!==(1&e.mode);null!==Qs;){var o=Qs,i=o.child;if(22===o.tag&&n){var a=null!==o.memoizedState||qs;if(!a){var s=o.alternate,l=null!==s&&null!==s.memoizedState||$s;s=qs;var u=$s;if(qs=a,($s=l)&&!u)for(Qs=o;null!==Qs;)l=(a=Qs).child,22===a.tag&&null!==a.memoizedState?xl(o):null!==l?(l.return=a,Qs=l):xl(o);for(;null!==i;)Qs=i,bl(i,t,r),i=i.sibling;Qs=o,qs=s,$s=u}Cl(e)}else 0!==(8772&o.subtreeFlags)&&null!==i?(i.return=o,Qs=i):Cl(e)}}function Cl(e){for(;null!==Qs;){var t=Qs;if(0!==(8772&t.flags)){var r=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$s||nl(5,t);break;case 1:var n=t.stateNode;if(4&t.flags&&!$s)if(null===r)n.componentDidMount();else{var o=t.elementType===t.type?r.memoizedProps:vi(t.type,r.memoizedProps);n.componentDidUpdate(o,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Bi(t,a,n);break;case 3:var s=t.updateQueue;if(null!==s){if(r=null,null!==t.child)switch(t.child.tag){case 5:case 1:r=t.child.stateNode}Bi(t,s,r)}break;case 5:var l=t.stateNode;if(null===r&&4&t.flags){r=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var p=c.memoizedState;if(null!==p){var d=p.dehydrated;null!==d&&jt(d)}}}break;default:throw Error(i(163))}$s||512&t.flags&&ol(t)}catch(h){Eu(t,t.return,h)}}if(t===e){Qs=null;break}if(null!==(r=t.sibling)){r.return=t.return,Qs=r;break}Qs=t.return}}function wl(e){for(;null!==Qs;){var t=Qs;if(t===e){Qs=null;break}var r=t.sibling;if(null!==r){r.return=t.return,Qs=r;break}Qs=t.return}}function xl(e){for(;null!==Qs;){var t=Qs;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{nl(4,t)}catch(l){Eu(t,r,l)}break;case 1:var n=t.stateNode;if("function"===typeof n.componentDidMount){var o=t.return;try{n.componentDidMount()}catch(l){Eu(t,o,l)}}var i=t.return;try{ol(t)}catch(l){Eu(t,i,l)}break;case 5:var a=t.return;try{ol(t)}catch(l){Eu(t,a,l)}}}catch(l){Eu(t,t.return,l)}if(t===e){Qs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Qs=s;break}Qs=t.return}}var Sl,El=Math.ceil,Ol=C.ReactCurrentDispatcher,_l=C.ReactCurrentOwner,Pl=C.ReactCurrentBatchConfig,Rl=0,Al=null,Tl=null,Dl=0,Ml=0,kl=Oo(0),Nl=0,Il=null,Ll=0,Fl=0,Gl=0,Bl=null,Wl=null,Hl=0,jl=1/0,Vl=null,zl=!1,Ul=null,Yl=null,Xl=!1,Kl=null,ql=0,$l=0,Zl=null,Ql=-1,Jl=0;function eu(){return 0!==(6&Rl)?Ze():-1!==Ql?Ql:Ql=Ze()}function tu(e){return 0===(1&e.mode)?1:0!==(2&Rl)&&0!==Dl?Dl&-Dl:null!==yi.transition?(0===Jl&&(Jl=gt()),Jl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function ru(e,t,r,n){if(50<$l)throw $l=0,Zl=null,Error(i(185));vt(e,r,n),0!==(2&Rl)&&e===Al||(e===Al&&(0===(2&Rl)&&(Fl|=r),4===Nl&&su(e,Dl)),nu(e,n),1===r&&0===Rl&&0===(1&t.mode)&&(jl=Ze()+500,Wo&&Vo()))}function nu(e,t){var r=e.callbackNode;!function(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-at(i),s=1<<a,l=o[a];-1===l?0!==(s&r)&&0===(s&n)||(o[a]=ht(s,t)):l<=t&&(e.expiredLanes|=s),i&=~s}}(e,t);var n=dt(e,e===Al?Dl:0);if(0===n)null!==r&&Ke(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(null!=r&&Ke(r),1===t)0===e.tag?function(e){Wo=!0,jo(e)}(lu.bind(null,e)):jo(lu.bind(null,e)),ao((function(){0===(6&Rl)&&Vo()})),r=null;else{switch(Ct(n)){case 1:r=Je;break;case 4:r=et;break;case 16:default:r=tt;break;case 536870912:r=nt}r=Au(r,ou.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function ou(e,t){if(Ql=-1,Jl=0,0!==(6&Rl))throw Error(i(327));var r=e.callbackNode;if(xu()&&e.callbackNode!==r)return null;var n=dt(e,e===Al?Dl:0);if(0===n)return null;if(0!==(30&n)||0!==(n&e.expiredLanes)||t)t=yu(e,n);else{t=n;var o=Rl;Rl|=2;var a=fu();for(Al===e&&Dl===t||(Vl=null,jl=Ze()+500,du(e,t));;)try{mu();break}catch(l){hu(e,l)}xi(),Ol.current=a,Rl=o,null!==Tl?t=0:(Al=null,Dl=0,t=Nl)}if(0!==t){if(2===t&&(0!==(o=ft(e))&&(n=o,t=iu(e,o))),1===t)throw r=Il,du(e,0),su(e,n),nu(e,Ze()),r;if(6===t)su(e,n);else{if(o=e.current.alternate,0===(30&n)&&!function(e){for(var t=e;;){if(16384&t.flags){var r=t.updateQueue;if(null!==r&&null!==(r=r.stores))for(var n=0;n<r.length;n++){var o=r[n],i=o.getSnapshot;o=o.value;try{if(!sn(i(),o))return!1}catch(s){return!1}}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(o)&&(2===(t=yu(e,n))&&(0!==(a=ft(e))&&(n=a,t=iu(e,a))),1===t))throw r=Il,du(e,0),su(e,n),nu(e,Ze()),r;switch(e.finishedWork=o,e.finishedLanes=n,t){case 0:case 1:throw Error(i(345));case 2:case 5:wu(e,Wl,Vl);break;case 3:if(su(e,n),(130023424&n)===n&&10<(t=Hl+500-Ze())){if(0!==dt(e,0))break;if(((o=e.suspendedLanes)&n)!==n){eu(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=no(wu.bind(null,e,Wl,Vl),t);break}wu(e,Wl,Vl);break;case 4:if(su(e,n),(4194240&n)===n)break;for(t=e.eventTimes,o=-1;0<n;){var s=31-at(n);a=1<<s,(s=t[s])>o&&(o=s),n&=~a}if(n=o,10<(n=(120>(n=Ze()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*El(n/1960))-n)){e.timeoutHandle=no(wu.bind(null,e,Wl,Vl),n);break}wu(e,Wl,Vl);break;default:throw Error(i(329))}}}return nu(e,Ze()),e.callbackNode===r?ou.bind(null,e):null}function iu(e,t){var r=Bl;return e.current.memoizedState.isDehydrated&&(du(e,t).flags|=256),2!==(e=yu(e,t))&&(t=Wl,Wl=r,null!==t&&au(t)),e}function au(e){null===Wl?Wl=e:Wl.push.apply(Wl,e)}function su(e,t){for(t&=~Gl,t&=~Fl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-at(t),n=1<<r;e[r]=-1,t&=~n}}function lu(e){if(0!==(6&Rl))throw Error(i(327));xu();var t=dt(e,0);if(0===(1&t))return nu(e,Ze()),null;var r=yu(e,t);if(0!==e.tag&&2===r){var n=ft(e);0!==n&&(t=n,r=iu(e,n))}if(1===r)throw r=Il,du(e,0),su(e,t),nu(e,Ze()),r;if(6===r)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wu(e,Wl,Vl),nu(e,Ze()),null}function uu(e,t){var r=Rl;Rl|=1;try{return e(t)}finally{0===(Rl=r)&&(jl=Ze()+500,Wo&&Vo())}}function cu(e){null!==Kl&&0===Kl.tag&&0===(6&Rl)&&xu();var t=Rl;Rl|=1;var r=Pl.transition,n=bt;try{if(Pl.transition=null,bt=1,e)return e()}finally{bt=n,Pl.transition=r,0===(6&(Rl=t))&&Vo()}}function pu(){Ml=kl.current,_o(kl)}function du(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,oo(r)),null!==Tl)for(r=Tl.return;null!==r;){var n=r;switch(ri(n),n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&No();break;case 3:ia(),_o(To),_o(Ao),pa();break;case 5:sa(n);break;case 4:ia();break;case 13:case 19:_o(la);break;case 10:Si(n.type._context);break;case 22:case 23:pu()}r=r.return}if(Al=e,Tl=e=ku(e.current,null),Dl=Ml=t,Nl=0,Il=null,Gl=Fl=Ll=0,Wl=Bl=null,null!==Pi){for(t=0;t<Pi.length;t++)if(null!==(n=(r=Pi[t]).interleaved)){r.interleaved=null;var o=n.next,i=r.pending;if(null!==i){var a=i.next;i.next=o,n.next=a}r.pending=n}Pi=null}return e}function hu(e,t){for(;;){var r=Tl;try{if(xi(),da.current=as,ma){for(var n=ga.memoizedState;null!==n;){var o=n.queue;null!==o&&(o.pending=null),n=n.next}ma=!1}if(fa=0,va=ya=ga=null,ba=!1,Ca=0,_l.current=null,null===r||null===r.return){Nl=1,Il=t,Tl=null;break}e:{var a=e,s=r.return,l=r,u=t;if(t=Dl,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,p=l,d=p.tag;if(0===(1&p.mode)&&(0===d||11===d||15===d)){var h=p.alternate;h?(p.updateQueue=h.updateQueue,p.memoizedState=h.memoizedState,p.lanes=h.lanes):(p.updateQueue=null,p.memoizedState=null)}var f=vs(s);if(null!==f){f.flags&=-257,ms(f,s,l,0,t),1&f.mode&&ys(a,c,t),u=c;var g=(t=f).updateQueue;if(null===g){var y=new Set;y.add(u),t.updateQueue=y}else g.add(u);break e}if(0===(1&t)){ys(a,c,t),gu();break e}u=Error(i(426))}else if(ii&&1&l.mode){var v=vs(s);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),ms(v,s,l,0,t),gi(cs(u,l));break e}}a=u=cs(u,l),4!==Nl&&(Nl=2),null===Bl?Bl=[a]:Bl.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Fi(a,fs(0,u,t));break e;case 1:l=u;var m=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof m.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Yl||!Yl.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Fi(a,gs(a,l,t));break e}}a=a.return}while(null!==a)}Cu(r)}catch(C){t=C,Tl===r&&null!==r&&(Tl=r=r.return);continue}break}}function fu(){var e=Ol.current;return Ol.current=as,null===e?as:e}function gu(){0!==Nl&&3!==Nl&&2!==Nl||(Nl=4),null===Al||0===(268435455&Ll)&&0===(268435455&Fl)||su(Al,Dl)}function yu(e,t){var r=Rl;Rl|=2;var n=fu();for(Al===e&&Dl===t||(Vl=null,du(e,t));;)try{vu();break}catch(o){hu(e,o)}if(xi(),Rl=r,Ol.current=n,null!==Tl)throw Error(i(261));return Al=null,Dl=0,Nl}function vu(){for(;null!==Tl;)bu(Tl)}function mu(){for(;null!==Tl&&!qe();)bu(Tl)}function bu(e){var t=Sl(e.alternate,e,Ml);e.memoizedProps=e.pendingProps,null===t?Cu(e):Tl=t,_l.current=null}function Cu(e){var t=e;do{var r=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(r=Xs(r,t,Ml)))return void(Tl=r)}else{if(null!==(r=Ks(r,t)))return r.flags&=32767,void(Tl=r);if(null===e)return Nl=6,void(Tl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Tl=t);Tl=t=e}while(null!==t);0===Nl&&(Nl=5)}function wu(e,t,r){var n=bt,o=Pl.transition;try{Pl.transition=null,bt=1,function(e,t,r,n){do{xu()}while(null!==Kl);if(0!==(6&Rl))throw Error(i(327));r=e.finishedWork;var o=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(function(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var o=31-at(r),i=1<<o;t[o]=0,n[o]=-1,e[o]=-1,r&=~i}}(e,a),e===Al&&(Tl=Al=null,Dl=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||Xl||(Xl=!0,Au(tt,(function(){return xu(),null}))),a=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||a){a=Pl.transition,Pl.transition=null;var s=bt;bt=1;var l=Rl;Rl|=4,_l.current=null,function(e,t){if(eo=zt,hn(e=dn())){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(n&&0!==n.rangeCount){r=n.anchorNode;var o=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch(w){r=null;break e}var s=0,l=-1,u=-1,c=0,p=0,d=e,h=null;t:for(;;){for(var f;d!==r||0!==o&&3!==d.nodeType||(l=s+o),d!==a||0!==n&&3!==d.nodeType||(u=s+n),3===d.nodeType&&(s+=d.nodeValue.length),null!==(f=d.firstChild);)h=d,d=f;for(;;){if(d===e)break t;if(h===r&&++c===o&&(l=s),h===a&&++p===n&&(u=s),null!==(f=d.nextSibling))break;h=(d=h).parentNode}d=f}r=-1===l||-1===u?null:{start:l,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(to={focusedElem:e,selectionRange:r},zt=!1,Qs=t;null!==Qs;)if(e=(t=Qs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Qs=e;else for(;null!==Qs;){t=Qs;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var y=g.memoizedProps,v=g.memoizedState,m=t.stateNode,b=m.getSnapshotBeforeUpdate(t.elementType===t.type?y:vi(t.type,y),v);m.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var C=t.stateNode.containerInfo;1===C.nodeType?C.textContent="":9===C.nodeType&&C.documentElement&&C.removeChild(C.documentElement);break;default:throw Error(i(163))}}catch(w){Eu(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Qs=e;break}Qs=t.return}g=tl,tl=!1}(e,r),yl(r,e),fn(to),zt=!!eo,to=eo=null,e.current=r,ml(r,e,o),$e(),Rl=l,bt=s,Pl.transition=a}else e.current=r;if(Xl&&(Xl=!1,Kl=e,ql=o),0===(a=e.pendingLanes)&&(Yl=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(ot,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),nu(e,Ze()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)n((o=t[r]).value,{componentStack:o.stack,digest:o.digest});if(zl)throw zl=!1,e=Ul,Ul=null,e;0!==(1&ql)&&0!==e.tag&&xu(),0!==(1&(a=e.pendingLanes))?e===Zl?$l++:($l=0,Zl=e):$l=0,Vo()}(e,t,r,n)}finally{Pl.transition=o,bt=n}return null}function xu(){if(null!==Kl){var e=Ct(ql),t=Pl.transition,r=bt;try{if(Pl.transition=null,bt=16>e?16:e,null===Kl)var n=!1;else{if(e=Kl,Kl=null,ql=0,0!==(6&Rl))throw Error(i(331));var o=Rl;for(Rl|=4,Qs=e.current;null!==Qs;){var a=Qs,s=a.child;if(0!==(16&Qs.flags)){var l=a.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Qs=c;null!==Qs;){var p=Qs;switch(p.tag){case 0:case 11:case 15:rl(8,p,a)}var d=p.child;if(null!==d)d.return=p,Qs=d;else for(;null!==Qs;){var h=(p=Qs).sibling,f=p.return;if(il(p),p===c){Qs=null;break}if(null!==h){h.return=f,Qs=h;break}Qs=f}}}var g=a.alternate;if(null!==g){var y=g.child;if(null!==y){g.child=null;do{var v=y.sibling;y.sibling=null,y=v}while(null!==y)}}Qs=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Qs=s;else e:for(;null!==Qs;){if(0!==(2048&(a=Qs).flags))switch(a.tag){case 0:case 11:case 15:rl(9,a,a.return)}var m=a.sibling;if(null!==m){m.return=a.return,Qs=m;break e}Qs=a.return}}var b=e.current;for(Qs=b;null!==Qs;){var C=(s=Qs).child;if(0!==(2064&s.subtreeFlags)&&null!==C)C.return=s,Qs=C;else e:for(s=b;null!==Qs;){if(0!==(2048&(l=Qs).flags))try{switch(l.tag){case 0:case 11:case 15:nl(9,l)}}catch(x){Eu(l,l.return,x)}if(l===s){Qs=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Qs=w;break e}Qs=l.return}}if(Rl=o,Vo(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(ot,e)}catch(x){}n=!0}return n}finally{bt=r,Pl.transition=t}}return!1}function Su(e,t,r){e=Ii(e,t=fs(0,t=cs(r,t),1),1),t=eu(),null!==e&&(vt(e,1,t),nu(e,t))}function Eu(e,t,r){if(3===e.tag)Su(e,e,r);else for(;null!==t;){if(3===t.tag){Su(t,e,r);break}if(1===t.tag){var n=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Yl||!Yl.has(n))){t=Ii(t,e=gs(t,e=cs(r,e),1),1),e=eu(),null!==t&&(vt(t,1,e),nu(t,e));break}}t=t.return}}function Ou(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),t=eu(),e.pingedLanes|=e.suspendedLanes&r,Al===e&&(Dl&r)===r&&(4===Nl||3===Nl&&(130023424&Dl)===Dl&&500>Ze()-Hl?du(e,0):Gl|=r),nu(e,t)}function _u(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var r=eu();null!==(e=Ti(e,t))&&(vt(e,t,r),nu(e,r))}function Pu(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),_u(e,r)}function Ru(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,o=e.memoizedState;null!==o&&(r=o.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(i(314))}null!==n&&n.delete(t),_u(e,r)}function Au(e,t){return Xe(e,t)}function Tu(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Du(e,t,r,n){return new Tu(e,t,r,n)}function Mu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function ku(e,t){var r=e.alternate;return null===r?((r=Du(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=14680064&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Nu(e,t,r,n,o,a){var s=2;if(n=e,"function"===typeof e)Mu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case S:return Iu(r.children,o,a,t);case E:s=8,o|=8;break;case O:return(e=Du(12,r,t,2|o)).elementType=O,e.lanes=a,e;case A:return(e=Du(13,r,t,o)).elementType=A,e.lanes=a,e;case T:return(e=Du(19,r,t,o)).elementType=T,e.lanes=a,e;case k:return Lu(r,o,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case _:s=10;break e;case P:s=9;break e;case R:s=11;break e;case D:s=14;break e;case M:s=16,n=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Du(s,r,t,o)).elementType=e,t.type=n,t.lanes=a,t}function Iu(e,t,r,n){return(e=Du(7,e,n,t)).lanes=r,e}function Lu(e,t,r,n){return(e=Du(22,e,n,t)).elementType=k,e.lanes=r,e.stateNode={isHidden:!1},e}function Fu(e,t,r){return(e=Du(6,e,null,t)).lanes=r,e}function Gu(e,t,r){return(t=Du(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bu(e,t,r,n,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yt(0),this.expirationTimes=yt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yt(0),this.identifierPrefix=n,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Wu(e,t,r,n,o,i,a,s,l){return e=new Bu(e,t,r,s,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Du(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mi(i),e}function Hu(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}function ju(e){if(!e)return Ro;e:{if(je(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ko(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var r=e.type;if(ko(r))return Lo(e,r,t)}return t}function Vu(e,t,r,n,o,i,a,s,l){return(e=Wu(r,n,!0,e,0,i,0,s,l)).context=ju(null),r=e.current,(i=Ni(n=eu(),o=tu(r))).callback=void 0!==t&&null!==t?t:null,Ii(r,i,o),e.current.lanes=o,vt(e,o,n),nu(e,n),e}function zu(e,t,r,n){var o=t.current,i=eu(),a=tu(o);return r=ju(r),null===t.context?t.context=r:t.pendingContext=r,(t=Ni(i,a)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),null!==(e=Ii(o,t,a))&&(ru(e,o,a,i),Li(e,o,a)),a}function Uu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Yu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function Xu(e,t){Yu(e,t),(e=e.alternate)&&Yu(e,t)}Sl=function(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps||To.current)Cs=!0;else{if(0===(e.lanes&r)&&0===(128&t.flags))return Cs=!1,function(e,t,r){switch(t.tag){case 3:Ts(t),fi();break;case 5:aa(t);break;case 1:ko(t.type)&&Fo(t);break;case 4:oa(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,o=t.memoizedProps.value;Po(mi,n._currentValue),n._currentValue=o;break;case 13:if(null!==(n=t.memoizedState))return null!==n.dehydrated?(Po(la,1&la.current),t.flags|=128,null):0!==(r&t.child.childLanes)?Fs(e,t,r):(Po(la,1&la.current),null!==(e=zs(e,t,r))?e.sibling:null);Po(la,1&la.current);break;case 19:if(n=0!==(r&t.childLanes),0!==(128&e.flags)){if(n)return js(e,t,r);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),Po(la,la.current),n)break;return null;case 22:case 23:return t.lanes=0,Os(e,t,r)}return zs(e,t,r)}(e,t,r);Cs=0!==(131072&e.flags)}else Cs=!1,ii&&0!==(1048576&t.flags)&&ei(t,Xo,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Vs(e,t),e=t.pendingProps;var o=Mo(t,Ao.current);Oi(t,r),o=Ea(null,t,n,e,o,r);var a=Oa();return t.flags|=1,"object"===typeof o&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ko(n)?(a=!0,Fo(t)):a=!1,t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,Mi(t),o.updater=ji,t.stateNode=o,o._reactInternals=t,Yi(t,n,e,r),t=As(null,t,n,!0,a,r)):(t.tag=0,ii&&a&&ti(t),ws(null,t,o,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Vs(e,t),e=t.pendingProps,n=(o=n._init)(n._payload),t.type=n,o=t.tag=function(e){if("function"===typeof e)return Mu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===R)return 11;if(e===D)return 14}return 2}(n),e=vi(n,e),o){case 0:t=Ps(null,t,n,e,r);break e;case 1:t=Rs(null,t,n,e,r);break e;case 11:t=xs(null,t,n,e,r);break e;case 14:t=Ss(null,t,n,vi(n.type,e),r);break e}throw Error(i(306,n,""))}return t;case 0:return n=t.type,o=t.pendingProps,Ps(e,t,n,o=t.elementType===n?o:vi(n,o),r);case 1:return n=t.type,o=t.pendingProps,Rs(e,t,n,o=t.elementType===n?o:vi(n,o),r);case 3:e:{if(Ts(t),null===e)throw Error(i(387));n=t.pendingProps,o=(a=t.memoizedState).element,ki(e,t),Gi(t,n,null,r);var s=t.memoizedState;if(n=s.element,a.isDehydrated){if(a={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ds(e,t,n,r,o=cs(Error(i(423)),t));break e}if(n!==o){t=Ds(e,t,n,r,o=cs(Error(i(424)),t));break e}for(oi=uo(t.stateNode.containerInfo.firstChild),ni=t,ii=!0,ai=null,r=Qi(t,null,n,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(fi(),n===o){t=zs(e,t,r);break e}ws(e,t,n,r)}t=t.child}return t;case 5:return aa(t),null===e&&ci(t),n=t.type,o=t.pendingProps,a=null!==e?e.memoizedProps:null,s=o.children,ro(n,o)?s=null:null!==a&&ro(n,a)&&(t.flags|=32),_s(e,t),ws(e,t,s,r),t.child;case 6:return null===e&&ci(t),null;case 13:return Fs(e,t,r);case 4:return oa(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=Zi(t,null,n,r):ws(e,t,n,r),t.child;case 11:return n=t.type,o=t.pendingProps,xs(e,t,n,o=t.elementType===n?o:vi(n,o),r);case 7:return ws(e,t,t.pendingProps,r),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,o=t.pendingProps,a=t.memoizedProps,s=o.value,Po(mi,n._currentValue),n._currentValue=s,null!==a)if(sn(a.value,s)){if(a.children===o.children&&!To.current){t=zs(e,t,r);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var u=l.firstContext;null!==u;){if(u.context===n){if(1===a.tag){(u=Ni(-1,r&-r)).tag=2;var c=a.updateQueue;if(null!==c){var p=(c=c.shared).pending;null===p?u.next=u:(u.next=p.next,p.next=u),c.pending=u}}a.lanes|=r,null!==(u=a.alternate)&&(u.lanes|=r),Ei(a.return,r,t),l.lanes|=r;break}u=u.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(i(341));s.lanes|=r,null!==(l=s.alternate)&&(l.lanes|=r),Ei(s,r,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}ws(e,t,o.children,r),t=t.child}return t;case 9:return o=t.type,n=t.pendingProps.children,Oi(t,r),n=n(o=_i(o)),t.flags|=1,ws(e,t,n,r),t.child;case 14:return o=vi(n=t.type,t.pendingProps),Ss(e,t,n,o=vi(n.type,o),r);case 15:return Es(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:vi(n,o),Vs(e,t),t.tag=1,ko(n)?(e=!0,Fo(t)):e=!1,Oi(t,r),zi(t,n,o),Yi(t,n,o,r),As(null,t,n,!0,e,r);case 19:return js(e,t,r);case 22:return Os(e,t,r)}throw Error(i(156,t.tag))};var Ku="function"===typeof reportError?reportError:function(e){console.error(e)};function qu(e){this._internalRoot=e}function $u(e){this._internalRoot=e}function Zu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Qu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Ju(){}function ec(e,t,r,n,o){var i=r._reactRootContainer;if(i){var a=i;if("function"===typeof o){var s=o;o=function(){var e=Uu(a);s.call(e)}}zu(t,a,e,o)}else a=function(e,t,r,n,o){if(o){if("function"===typeof n){var i=n;n=function(){var e=Uu(a);i.call(e)}}var a=Vu(t,n,e,0,null,!1,0,"",Ju);return e._reactRootContainer=a,e[go]=a.current,jn(8===e.nodeType?e.parentNode:e),cu(),a}for(;o=e.lastChild;)e.removeChild(o);if("function"===typeof n){var s=n;n=function(){var e=Uu(l);s.call(e)}}var l=Wu(e,0,!1,null,0,!1,0,"",Ju);return e._reactRootContainer=l,e[go]=l.current,jn(8===e.nodeType?e.parentNode:e),cu((function(){zu(t,l,r,n)})),l}(r,t,e,o,n);return Uu(a)}$u.prototype.render=qu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));zu(e,t,null,null)},$u.prototype.unmount=qu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cu((function(){zu(null,e,null,null)})),t[go]=null}},$u.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var r=0;r<kt.length&&0!==t&&t<kt[r].priority;r++);kt.splice(r,0,e),0===r&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=pt(t.pendingLanes);0!==r&&(mt(t,1|r),nu(t,Ze()),0===(6&Rl)&&(jl=Ze()+500,Vo()))}break;case 13:cu((function(){var t=Ti(e,1);if(null!==t){var r=eu();ru(t,e,1,r)}})),Xu(e,1)}},xt=function(e){if(13===e.tag){var t=Ti(e,134217728);if(null!==t)ru(t,e,134217728,eu());Xu(e,134217728)}},St=function(e){if(13===e.tag){var t=tu(e),r=Ti(e,t);if(null!==r)ru(r,e,t,eu());Xu(e,t)}},Et=function(){return bt},Ot=function(e,t){var r=bt;try{return bt=e,t()}finally{bt=r}},xe=function(e,t,r){switch(t){case"input":if(Q(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var o=xo(n);if(!o)throw Error(i(90));X(n),Q(n,o)}}}break;case"textarea":ie(e,r);break;case"select":null!=(t=r.value)&&re(e,!!r.multiple,t,!1)}},Re=uu,Ae=cu;var tc={usingClientEntryPoint:!1,Events:[Co,wo,xo,_e,Pe,uu]},rc={findFiberByHostInstance:bo,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},nc={bundleType:rc.bundleType,version:rc.version,rendererPackageName:rc.rendererPackageName,rendererConfig:rc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:C.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ue(e))?null:e.stateNode},findFiberByHostInstance:rc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oc.isDisabled&&oc.supportsFiber)try{ot=oc.inject(nc),it=oc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Zu(t))throw Error(i(200));return Hu(e,t,null,r)},t.createRoot=function(e,t){if(!Zu(e))throw Error(i(299));var r=!1,n="",o=Ku;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=Wu(e,1,!1,null,0,r,0,n,o),e[go]=t.current,jn(8===e.nodeType?e.parentNode:e),new qu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=Ue(t))?null:e.stateNode},t.flushSync=function(e){return cu(e)},t.hydrate=function(e,t,r){if(!Qu(t))throw Error(i(200));return ec(null,e,t,!0,r)},t.hydrateRoot=function(e,t,r){if(!Zu(e))throw Error(i(405));var n=null!=r&&r.hydratedSources||null,o=!1,a="",s=Ku;if(null!==r&&void 0!==r&&(!0===r.unstable_strictMode&&(o=!0),void 0!==r.identifierPrefix&&(a=r.identifierPrefix),void 0!==r.onRecoverableError&&(s=r.onRecoverableError)),t=Vu(t,null,e,1,null!=r?r:null,o,0,a,s),e[go]=t.current,jn(e),n)for(e=0;e<n.length;e++)o=(o=(r=n[e])._getVersion)(r._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[r,o]:t.mutableSourceEagerHydrationData.push(r,o);return new $u(t)},t.render=function(e,t,r){if(!Qu(t))throw Error(i(200));return ec(null,e,t,!1,r)},t.unmountComponentAtNode=function(e){if(!Qu(e))throw Error(i(40));return!!e._reactRootContainer&&(cu((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[go]=null}))})),!0)},t.unstable_batchedUpdates=uu,t.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Qu(r))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return ec(e,t,r,!1,n)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:function(e,t,r){"use strict";var n=r(4164);t.createRoot=n.createRoot,t.hydrateRoot=n.hydrateRoot},4164:function(e,t,r){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(4463)},8340:function(e,t,r){"use strict";var n,o;n=r(1071),o=r(4424),t.version=n.version,t.renderToString=n.renderToString,t.renderToStaticMarkup=n.renderToStaticMarkup,t.renderToNodeStream=n.renderToNodeStream,t.renderToStaticNodeStream=n.renderToStaticNodeStream,t.renderToReadableStream=o.renderToReadableStream},37:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return p.default}}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!==typeof e)return{default:e};var r=g(t);if(r&&r.has(e))return r.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,r&&r.set(e,o);return o}(r(2791)),i=f(r(2007)),a=f(r(4164)),s=f(r(8182)),l=r(2280),u=r(580),c=r(9371),p=f(r(8091)),d=f(r(1655)),h=["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"];function f(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(g=function(e){return e?r:t})(e)}function y(){return y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},y.apply(this,arguments)}function v(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){R(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(l){s=!0,o=l}finally{try{a||null==r.return||r.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return w(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function x(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function S(e,t){return S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},S(e,t)}function E(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=P(e);if(t){var o=P(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return O(this,r)}}function O(e,t){if(t&&("object"===n(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _(e)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e){return P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},P(e)}function R(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var A=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S(e,t)}(c,e);var t,r,n,i=E(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),R(_(t=i.call(this,e)),"onDragStart",(function(e,r){if((0,d.default)("Draggable: onDragStart: %j",r),!1===t.props.onStart(e,(0,u.createDraggableData)(_(t),r)))return!1;t.setState({dragging:!0,dragged:!0})})),R(_(t),"onDrag",(function(e,r){if(!t.state.dragging)return!1;(0,d.default)("Draggable: onDrag: %j",r);var n=(0,u.createDraggableData)(_(t),r),o={x:n.x,y:n.y};if(t.props.bounds){var i=o.x,a=o.y;o.x+=t.state.slackX,o.y+=t.state.slackY;var s=C((0,u.getBoundPosition)(_(t),o.x,o.y),2),l=s[0],c=s[1];o.x=l,o.y=c,o.slackX=t.state.slackX+(i-o.x),o.slackY=t.state.slackY+(a-o.y),n.x=o.x,n.y=o.y,n.deltaX=o.x-t.state.x,n.deltaY=o.y-t.state.y}if(!1===t.props.onDrag(e,n))return!1;t.setState(o)})),R(_(t),"onDragStop",(function(e,r){if(!t.state.dragging)return!1;if(!1===t.props.onStop(e,(0,u.createDraggableData)(_(t),r)))return!1;(0,d.default)("Draggable: onDragStop: %j",r);var n={dragging:!1,slackX:0,slackY:0};if(Boolean(t.props.position)){var o=t.props.position,i=o.x,a=o.y;n.x=i,n.y=a}t.setState(n)})),t.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,prevPropsPosition:b({},e.position),slackX:0,slackY:0,isElementSVG:!1},!e.position||e.onDrag||e.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),t}return t=c,n=[{key:"getDerivedStateFromProps",value:function(e,t){var r=e.position,n=t.prevPropsPosition;return!r||n&&r.x===n.x&&r.y===n.y?null:((0,d.default)("Draggable: getDerivedStateFromProps %j",{position:r,prevPropsPosition:n}),{x:r.x,y:r.y,prevPropsPosition:b({},r)})}}],(r=[{key:"componentDidMount",value:function(){"undefined"!==typeof window.SVGElement&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){var e,t,r;return null!==(e=null===(t=this.props)||void 0===t||null===(r=t.nodeRef)||void 0===r?void 0:r.current)&&void 0!==e?e:a.default.findDOMNode(this)}},{key:"render",value:function(){var e,t=this.props,r=(t.axis,t.bounds,t.children),n=t.defaultPosition,i=t.defaultClassName,a=t.defaultClassNameDragging,c=t.defaultClassNameDragged,d=t.position,f=t.positionOffset,g=(t.scale,v(t,h)),m={},C=null,w=!Boolean(d)||this.state.dragging,x=d||n,S={x:(0,u.canDragX)(this)&&w?this.state.x:x.x,y:(0,u.canDragY)(this)&&w?this.state.y:x.y};this.state.isElementSVG?C=(0,l.createSVGTransform)(S,f):m=(0,l.createCSSTransform)(S,f);var E=(0,s.default)(r.props.className||"",i,(R(e={},a,this.state.dragging),R(e,c,this.state.dragged),e));return o.createElement(p.default,y({},g,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),o.cloneElement(o.Children.only(r),{className:E,style:b(b({},r.props.style),m),transform:C}))}}])&&x(t.prototype,r),n&&x(t,n),Object.defineProperty(t,"prototype",{writable:!1}),c}(o.Component);t.default=A,R(A,"displayName","Draggable"),R(A,"propTypes",b(b({},p.default.propTypes),{},{axis:i.default.oneOf(["both","x","y","none"]),bounds:i.default.oneOfType([i.default.shape({left:i.default.number,right:i.default.number,top:i.default.number,bottom:i.default.number}),i.default.string,i.default.oneOf([!1])]),defaultClassName:i.default.string,defaultClassNameDragging:i.default.string,defaultClassNameDragged:i.default.string,defaultPosition:i.default.shape({x:i.default.number,y:i.default.number}),positionOffset:i.default.shape({x:i.default.oneOfType([i.default.number,i.default.string]),y:i.default.oneOfType([i.default.number,i.default.string])}),position:i.default.shape({x:i.default.number,y:i.default.number}),className:c.dontSetMe,style:c.dontSetMe,transform:c.dontSetMe})),R(A,"defaultProps",b(b({},p.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1}))},8091:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!==typeof e)return{default:e};var r=d(t);if(r&&r.has(e))return r.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,r&&r.set(e,o);return o}(r(2791)),i=p(r(2007)),a=p(r(4164)),s=r(2280),l=r(580),u=r(9371),c=p(r(1655));function p(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(d=function(e){return e?r:t})(e)}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(l){s=!0,o=l}finally{try{a||null==r.return||r.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function v(e,t){return v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},v(e,t)}function m(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=w(e);if(t){var o=w(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return b(this,r)}}function b(e,t){if(t&&("object"===n(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return C(e)}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}function x(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var S={start:"touchstart",move:"touchmove",stop:"touchend"},E={start:"mousedown",move:"mousemove",stop:"mouseup"},O=E,_=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}(u,e);var t,r,n,i=m(u);function u(){var e;g(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return x(C(e=i.call.apply(i,[this].concat(r))),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),x(C(e),"mounted",!1),x(C(e),"handleDragStart",(function(t){if(e.props.onMouseDown(t),!e.props.allowAnyClick&&"number"===typeof t.button&&0!==t.button)return!1;var r=e.findDOMNode();if(!r||!r.ownerDocument||!r.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var n=r.ownerDocument;if(!(e.props.disabled||!(t.target instanceof n.defaultView.Node)||e.props.handle&&!(0,s.matchesSelectorAndParentsTo)(t.target,e.props.handle,r)||e.props.cancel&&(0,s.matchesSelectorAndParentsTo)(t.target,e.props.cancel,r))){"touchstart"===t.type&&t.preventDefault();var o=(0,s.getTouchIdentifier)(t);e.setState({touchIdentifier:o});var i=(0,l.getControlPosition)(t,o,C(e));if(null!=i){var a=i.x,u=i.y,p=(0,l.createCoreData)(C(e),a,u);(0,c.default)("DraggableCore: handleDragStart: %j",p),(0,c.default)("calling",e.props.onStart),!1!==e.props.onStart(t,p)&&!1!==e.mounted&&(e.props.enableUserSelectHack&&(0,s.addUserSelectStyles)(n),e.setState({dragging:!0,lastX:a,lastY:u}),(0,s.addEvent)(n,O.move,e.handleDrag),(0,s.addEvent)(n,O.stop,e.handleDragStop))}}})),x(C(e),"handleDrag",(function(t){var r=(0,l.getControlPosition)(t,e.state.touchIdentifier,C(e));if(null!=r){var n=r.x,o=r.y;if(Array.isArray(e.props.grid)){var i=n-e.state.lastX,a=o-e.state.lastY,s=h((0,l.snapToGrid)(e.props.grid,i,a),2);if(i=s[0],a=s[1],!i&&!a)return;n=e.state.lastX+i,o=e.state.lastY+a}var u=(0,l.createCoreData)(C(e),n,o);if((0,c.default)("DraggableCore: handleDrag: %j",u),!1!==e.props.onDrag(t,u)&&!1!==e.mounted)e.setState({lastX:n,lastY:o});else try{e.handleDragStop(new MouseEvent("mouseup"))}catch(d){var p=document.createEvent("MouseEvents");p.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.handleDragStop(p)}}})),x(C(e),"handleDragStop",(function(t){if(e.state.dragging){var r=(0,l.getControlPosition)(t,e.state.touchIdentifier,C(e));if(null!=r){var n=r.x,o=r.y;if(Array.isArray(e.props.grid)){var i=n-e.state.lastX||0,a=o-e.state.lastY||0,u=h((0,l.snapToGrid)(e.props.grid,i,a),2);i=u[0],a=u[1],n=e.state.lastX+i,o=e.state.lastY+a}var p=(0,l.createCoreData)(C(e),n,o);if(!1===e.props.onStop(t,p)||!1===e.mounted)return!1;var d=e.findDOMNode();d&&e.props.enableUserSelectHack&&(0,s.removeUserSelectStyles)(d.ownerDocument),(0,c.default)("DraggableCore: handleDragStop: %j",p),e.setState({dragging:!1,lastX:NaN,lastY:NaN}),d&&((0,c.default)("DraggableCore: Removing handlers"),(0,s.removeEvent)(d.ownerDocument,O.move,e.handleDrag),(0,s.removeEvent)(d.ownerDocument,O.stop,e.handleDragStop))}}})),x(C(e),"onMouseDown",(function(t){return O=E,e.handleDragStart(t)})),x(C(e),"onMouseUp",(function(t){return O=E,e.handleDragStop(t)})),x(C(e),"onTouchStart",(function(t){return O=S,e.handleDragStart(t)})),x(C(e),"onTouchEnd",(function(t){return O=S,e.handleDragStop(t)})),e}return t=u,(r=[{key:"componentDidMount",value:function(){this.mounted=!0;var e=this.findDOMNode();e&&(0,s.addEvent)(e,S.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.findDOMNode();if(e){var t=e.ownerDocument;(0,s.removeEvent)(t,E.move,this.handleDrag),(0,s.removeEvent)(t,S.move,this.handleDrag),(0,s.removeEvent)(t,E.stop,this.handleDragStop),(0,s.removeEvent)(t,S.stop,this.handleDragStop),(0,s.removeEvent)(e,S.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,s.removeUserSelectStyles)(t)}}},{key:"findDOMNode",value:function(){var e,t,r;return null!==(e=this.props)&&void 0!==e&&e.nodeRef?null===(t=this.props)||void 0===t||null===(r=t.nodeRef)||void 0===r?void 0:r.current:a.default.findDOMNode(this)}},{key:"render",value:function(){return o.cloneElement(o.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}])&&y(t.prototype,r),n&&y(t,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(o.Component);t.default=_,x(_,"displayName","DraggableCore"),x(_,"propTypes",{allowAnyClick:i.default.bool,disabled:i.default.bool,enableUserSelectHack:i.default.bool,offsetParent:function(e,t){if(e[t]&&1!==e[t].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:i.default.arrayOf(i.default.number),handle:i.default.string,cancel:i.default.string,nodeRef:i.default.object,onStart:i.default.func,onDrag:i.default.func,onStop:i.default.func,onMouseDown:i.default.func,scale:i.default.number,className:u.dontSetMe,style:u.dontSetMe,transform:u.dontSetMe}),x(_,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1})},9962:function(e,t,r){"use strict";var n=r(37),o=n.default,i=n.DraggableCore;e.exports=o,e.exports.default=o,e.exports.DraggableCore=i},2280:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.addClassName=h,t.addEvent=function(e,t,r,n){if(!e)return;var o=l({capture:!0},n);e.addEventListener?e.addEventListener(t,r,o):e.attachEvent?e.attachEvent("on"+t,r):e["on"+t]=r},t.addUserSelectStyles=function(e){if(!e)return;var t=e.getElementById("react-draggable-style-el");t||((t=e.createElement("style")).type="text/css",t.id="react-draggable-style-el",t.innerHTML=".react-draggable-transparent-selection *::-moz-selection {all: inherit;}\n",t.innerHTML+=".react-draggable-transparent-selection *::selection {all: inherit;}\n",e.getElementsByTagName("head")[0].appendChild(t));e.body&&h(e.body,"react-draggable-transparent-selection")},t.createCSSTransform=function(e,t){var r=d(e,t,"px");return u({},(0,i.browserPrefixToKey)("transform",i.default),r)},t.createSVGTransform=function(e,t){return d(e,t,"")},t.getTouch=function(e,t){return e.targetTouches&&(0,o.findInArray)(e.targetTouches,(function(e){return t===e.identifier}))||e.changedTouches&&(0,o.findInArray)(e.changedTouches,(function(e){return t===e.identifier}))},t.getTouchIdentifier=function(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier},t.getTranslation=d,t.innerHeight=function(e){var t=e.clientHeight,r=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,o.int)(r.paddingTop),t-=(0,o.int)(r.paddingBottom)},t.innerWidth=function(e){var t=e.clientWidth,r=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,o.int)(r.paddingLeft),t-=(0,o.int)(r.paddingRight)},t.matchesSelector=p,t.matchesSelectorAndParentsTo=function(e,t,r){var n=e;do{if(p(n,t))return!0;if(n===r)return!1;n=n.parentNode}while(n);return!1},t.offsetXYFromParent=function(e,t,r){var n=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect(),o=(e.clientX+t.scrollLeft-n.left)/r,i=(e.clientY+t.scrollTop-n.top)/r;return{x:o,y:i}},t.outerHeight=function(e){var t=e.clientHeight,r=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,o.int)(r.borderTopWidth),t+=(0,o.int)(r.borderBottomWidth)},t.outerWidth=function(e){var t=e.clientWidth,r=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,o.int)(r.borderLeftWidth),t+=(0,o.int)(r.borderRightWidth)},t.removeClassName=f,t.removeEvent=function(e,t,r,n){if(!e)return;var o=l({capture:!0},n);e.removeEventListener?e.removeEventListener(t,r,o):e.detachEvent?e.detachEvent("on"+t,r):e["on"+t]=null},t.removeUserSelectStyles=function(e){if(!e)return;try{if(e.body&&f(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{var t=(e.defaultView||window).getSelection();t&&"Caret"!==t.type&&t.removeAllRanges()}}catch(r){}};var o=r(9371),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!==typeof e)return{default:e};var r=a(t);if(r&&r.has(e))return r.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var l=i?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(o,s,l):o[s]=e[s]}o.default=e,r&&r.set(e,o);return o}(r(4021));function a(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(a=function(e){return e?r:t})(e)}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c="";function p(e,t){return c||(c=(0,o.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],(function(t){return(0,o.isFunction)(e[t])}))),!!(0,o.isFunction)(e[c])&&e[c](t)}function d(e,t,r){var n=e.x,o=e.y,i="translate(".concat(n).concat(r,",").concat(o).concat(r,")");if(t){var a="".concat("string"===typeof t.x?t.x:t.x+r),s="".concat("string"===typeof t.y?t.y:t.y+r);i="translate(".concat(a,", ").concat(s,")")+i}return i}function h(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(e.className+=" ".concat(t))}function f(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")}},4021:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.browserPrefixToKey=o,t.browserPrefixToStyle=function(e,t){return t?"-".concat(t.toLowerCase(),"-").concat(e):e},t.default=void 0,t.getPrefix=n;var r=["Moz","Webkit","O","ms"];function n(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"===typeof window)return"";var i=null===(e=window.document)||void 0===e||null===(t=e.documentElement)||void 0===t?void 0:t.style;if(!i)return"";if(n in i)return"";for(var a=0;a<r.length;a++)if(o(n,r[a])in i)return r[a];return""}function o(e,t){return t?"".concat(t).concat(function(e){for(var t="",r=!0,n=0;n<e.length;n++)r?(t+=e[n].toUpperCase(),r=!1):"-"===e[n]?r=!0:t+=e[n];return t}(e)):e}var i=n();t.default=i},1655:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){0}},580:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canDragX=function(e){return"both"===e.props.axis||"x"===e.props.axis},t.canDragY=function(e){return"both"===e.props.axis||"y"===e.props.axis},t.createCoreData=function(e,t,r){var o=e.state,a=!(0,n.isNum)(o.lastX),s=i(e);return a?{node:s,deltaX:0,deltaY:0,lastX:t,lastY:r,x:t,y:r}:{node:s,deltaX:t-o.lastX,deltaY:r-o.lastY,lastX:o.lastX,lastY:o.lastY,x:t,y:r}},t.createDraggableData=function(e,t){var r=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/r,y:e.state.y+t.deltaY/r,deltaX:t.deltaX/r,deltaY:t.deltaY/r,lastX:e.state.x,lastY:e.state.y}},t.getBoundPosition=function(e,t,r){if(!e.props.bounds)return[t,r];var a=e.props.bounds;a="string"===typeof a?a:function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}(a);var s=i(e);if("string"===typeof a){var l,u=s.ownerDocument,c=u.defaultView;if(!((l="parent"===a?s.parentNode:u.querySelector(a))instanceof c.HTMLElement))throw new Error('Bounds selector "'+a+'" could not find an element.');var p=l,d=c.getComputedStyle(s),h=c.getComputedStyle(p);a={left:-s.offsetLeft+(0,n.int)(h.paddingLeft)+(0,n.int)(d.marginLeft),top:-s.offsetTop+(0,n.int)(h.paddingTop)+(0,n.int)(d.marginTop),right:(0,o.innerWidth)(p)-(0,o.outerWidth)(s)-s.offsetLeft+(0,n.int)(h.paddingRight)-(0,n.int)(d.marginRight),bottom:(0,o.innerHeight)(p)-(0,o.outerHeight)(s)-s.offsetTop+(0,n.int)(h.paddingBottom)-(0,n.int)(d.marginBottom)}}(0,n.isNum)(a.right)&&(t=Math.min(t,a.right));(0,n.isNum)(a.bottom)&&(r=Math.min(r,a.bottom));(0,n.isNum)(a.left)&&(t=Math.max(t,a.left));(0,n.isNum)(a.top)&&(r=Math.max(r,a.top));return[t,r]},t.getControlPosition=function(e,t,r){var n="number"===typeof t?(0,o.getTouch)(e,t):null;if("number"===typeof t&&!n)return null;var a=i(r),s=r.props.offsetParent||a.offsetParent||a.ownerDocument.body;return(0,o.offsetXYFromParent)(n||e,s,r.props.scale)},t.snapToGrid=function(e,t,r){var n=Math.round(t/e[0])*e[0],o=Math.round(r/e[1])*e[1];return[n,o]};var n=r(9371),o=r(2280);function i(e){var t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}},9371:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dontSetMe=function(e,t,r){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(r," - do not set this, set it on the child."))},t.findInArray=function(e,t){for(var r=0,n=e.length;r<n;r++)if(t.apply(t,[e[r],r,e]))return e[r]},t.int=function(e){return parseInt(e,10)},t.isFunction=function(e){return"function"===typeof e||"[object Function]"===Object.prototype.toString.call(e)},t.isNum=function(e){return"number"===typeof e&&!isNaN(e)}},977:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=p(r(2791)),o=p(r(4164)),i=p(r(2007)),a=r(9962),s=r(8758),l=r(6073),u=r(4331),c=p(r(1694));function p(e){return e&&e.__esModule?e:{default:e}}function d(e){return d="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){x(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function v(e,t){return v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},v(e,t)}function m(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=w(e);if(t){var o=w(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return b(this,r)}}function b(e,t){return!t||"object"!==d(t)&&"function"!==typeof t?C(e):t}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}function x(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var S=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(d,e);var t,r,i,p=m(d);function d(){var e;g(this,d);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return x(C(e=p.call.apply(p,[this].concat(r))),"state",{resizing:null,dragging:null,className:""}),x(C(e),"currentNode",void 0),x(C(e),"onDragStart",(function(t,r){var n=r.node,o=e.props.onDragStart;if(o){var i={top:0,left:0},a=n.offsetParent;if(a){var s=a.getBoundingClientRect(),l=n.getBoundingClientRect(),c=l.left/e.props.transformScale,p=s.left/e.props.transformScale,d=l.top/e.props.transformScale,h=s.top/e.props.transformScale;i.left=c-p+a.scrollLeft,i.top=d-h+a.scrollTop,e.setState({dragging:i});var f=(0,u.calcXY)(e.getPositionParams(),i.top,i.left,e.props.w,e.props.h),g=f.x,y=f.y;return o.call(C(e),e.props.i,g,y,{e:t,node:n,newPosition:i})}}})),x(C(e),"onDrag",(function(t,r){var n=r.node,o=r.deltaX,i=r.deltaY,a=e.props,s=a.onDrag,l=a.transformScale;if(s){if(o/=l,i/=l,!e.state.dragging)throw new Error("onDrag called before onDragStart.");var c=e.state.dragging.top+i,p=e.state.dragging.left+o,d=e.props,h=d.isBounded,f=d.i,g=d.w,y=d.h,v=d.containerWidth,m=e.getPositionParams();if(h){var b=n.offsetParent;if(b){var w=e.props,x=w.margin,S=w.rowHeight,E=b.clientHeight-(0,u.calcGridItemWHPx)(y,S,x[1]);c=(0,u.clamp)(c,0,E);var O=(0,u.calcGridColWidth)(m),_=v-(0,u.calcGridItemWHPx)(g,O,x[0]);p=(0,u.clamp)(p,0,_)}}var P={top:c,left:p};e.setState({dragging:P});var R=(0,u.calcXY)(m,c,p,g,y),A=R.x,T=R.y;return s.call(C(e),f,A,T,{e:t,node:n,newPosition:P})}})),x(C(e),"onDragStop",(function(t,r){var n=r.node,o=e.props.onDragStop;if(o){if(!e.state.dragging)throw new Error("onDragEnd called before onDragStart.");var i=e.props,a=i.w,s=i.h,l=i.i,c=e.state.dragging,p=c.left,d=c.top,h={top:d,left:p};e.setState({dragging:null});var f=(0,u.calcXY)(e.getPositionParams(),d,p,a,s),g=f.x,y=f.y;return o.call(C(e),l,g,y,{e:t,node:n,newPosition:h})}})),x(C(e),"onResizeStop",(function(t,r){e.onResizeHandler(t,r,"onResizeStop")})),x(C(e),"onResizeStart",(function(t,r){e.onResizeHandler(t,r,"onResizeStart")})),x(C(e),"onResize",(function(t,r){e.onResizeHandler(t,r,"onResize")})),e}return t=d,r=[{key:"shouldComponentUpdate",value:function(e,t){if(this.props.children!==e.children)return!0;if(this.props.droppingPosition!==e.droppingPosition)return!0;var r=(0,u.calcGridItemPosition)(this.getPositionParams(this.props),this.props.x,this.props.y,this.props.w,this.props.h,this.state),n=(0,u.calcGridItemPosition)(this.getPositionParams(e),e.x,e.y,e.w,e.h,t);return!(0,l.fastPositionEqual)(r,n)||this.props.useCSSTransforms!==e.useCSSTransforms}},{key:"componentDidMount",value:function(){this.moveDroppingItem({})}},{key:"componentDidUpdate",value:function(e){this.moveDroppingItem(e)}},{key:"moveDroppingItem",value:function(e){var t=this.props.droppingPosition;if(t){var r=e.droppingPosition||{left:0,top:0},n=this.state.dragging;this.currentNode||(this.currentNode=o.default.findDOMNode(this));var i=n&&t.left!==r.left||t.top!==r.top;if(n){if(i){var a=t.left-n.left,s=t.top-n.top;this.onDrag(t.e,{node:this.currentNode,deltaX:a,deltaY:s})}}else this.onDragStart(t.e,{node:this.currentNode,deltaX:t.left,deltaY:t.top})}}},{key:"getPositionParams",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return{cols:e.cols,containerPadding:e.containerPadding,containerWidth:e.containerWidth,margin:e.margin,maxRows:e.maxRows,rowHeight:e.rowHeight}}},{key:"createStyle",value:function(e){var t,r=this.props,n=r.usePercentages,o=r.containerWidth;return r.useCSSTransforms?t=(0,l.setTransform)(e):(t=(0,l.setTopLeft)(e),n&&(t.left=(0,l.perc)(e.left/o),t.width=(0,l.perc)(e.width/o))),t}},{key:"mixinDraggable",value:function(e,t){return n.default.createElement(a.DraggableCore,{disabled:!t,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,handle:this.props.handle,cancel:".react-resizable-handle"+(this.props.cancel?","+this.props.cancel:""),scale:this.props.transformScale},e)}},{key:"mixinResizable",value:function(e,t,r){var o=this.props,i=o.cols,a=o.x,l=o.minW,c=o.minH,p=o.maxW,d=o.maxH,h=o.transformScale,f=o.resizeHandles,g=this.getPositionParams(),y=(0,u.calcGridItemPosition)(g,0,0,i-a,0).width,v=(0,u.calcGridItemPosition)(g,0,0,l,c),m=(0,u.calcGridItemPosition)(g,0,0,p,d),b=[v.width,v.height],C=[Math.min(m.width,y),Math.min(m.height,1/0)];return n.default.createElement(s.Resizable,{draggableOpts:{disabled:!r},className:r?void 0:"react-resizable-hide",width:t.width,height:t.height,minConstraints:b,maxConstraints:C,onResizeStop:this.onResizeStop,onResizeStart:this.onResizeStart,onResize:this.onResize,transformScale:h,resizeHandles:f},e)}},{key:"onResizeHandler",value:function(e,t,r){var n=t.node,o=t.size,i=this.props[r];if(i){var a=this.props,s=a.cols,l=a.x,c=a.y,p=a.i,d=a.maxH,h=a.minH,f=this.props,g=f.minW,y=f.maxW,v=(0,u.calcWH)(this.getPositionParams(),o.width,o.height,l,c),m=v.w,b=v.h;g=Math.max(g,1),y=Math.min(y,s-l),m=(0,u.clamp)(m,g,y),b=(0,u.clamp)(b,h,d),this.setState({resizing:"onResizeStop"===r?null:o}),i.call(this,p,m,b,{e:e,node:n,size:o})}}},{key:"render",value:function(){var e=this.props,t=e.x,r=e.y,o=e.w,i=e.h,a=e.isDraggable,s=e.isResizable,l=e.droppingPosition,p=e.useCSSTransforms,d=(0,u.calcGridItemPosition)(this.getPositionParams(),t,r,o,i,this.state),h=n.default.Children.only(this.props.children),g=n.default.cloneElement(h,{className:(0,c.default)("react-grid-item",h.props.className,this.props.className,{static:this.props.static,resizing:Boolean(this.state.resizing),"react-draggable":a,"react-draggable-dragging":Boolean(this.state.dragging),dropping:Boolean(l),cssTransforms:p}),style:f(f(f({},this.props.style),h.props.style),this.createStyle(d))});return g=this.mixinResizable(g,d,s),g=this.mixinDraggable(g,a)}}],r&&y(t.prototype,r),i&&y(t,i),d}(n.default.Component);t.default=S,x(S,"propTypes",{children:i.default.element,cols:i.default.number.isRequired,containerWidth:i.default.number.isRequired,rowHeight:i.default.number.isRequired,margin:i.default.array.isRequired,maxRows:i.default.number.isRequired,containerPadding:i.default.array.isRequired,x:i.default.number.isRequired,y:i.default.number.isRequired,w:i.default.number.isRequired,h:i.default.number.isRequired,minW:function(e,t){var r=e[t];return"number"!==typeof r?new Error("minWidth not Number"):r>e.w||r>e.maxW?new Error("minWidth larger than item width/maxWidth"):void 0},maxW:function(e,t){var r=e[t];return"number"!==typeof r?new Error("maxWidth not Number"):r<e.w||r<e.minW?new Error("maxWidth smaller than item width/minWidth"):void 0},minH:function(e,t){var r=e[t];return"number"!==typeof r?new Error("minHeight not Number"):r>e.h||r>e.maxH?new Error("minHeight larger than item height/maxHeight"):void 0},maxH:function(e,t){var r=e[t];return"number"!==typeof r?new Error("maxHeight not Number"):r<e.h||r<e.minH?new Error("maxHeight smaller than item height/minHeight"):void 0},i:i.default.string.isRequired,onDragStop:i.default.func,onDragStart:i.default.func,onDrag:i.default.func,onResizeStop:i.default.func,onResizeStart:i.default.func,onResize:i.default.func,isDraggable:i.default.bool.isRequired,isResizable:i.default.bool.isRequired,isBounded:i.default.bool.isRequired,static:i.default.bool,useCSSTransforms:i.default.bool.isRequired,transformScale:i.default.number,className:i.default.string,handle:i.default.string,cancel:i.default.string,droppingPosition:i.default.shape({e:i.default.object.isRequired,left:i.default.number.isRequired,top:i.default.number.isRequired})}),x(S,"defaultProps",{className:"",cancel:"",handle:"",minH:1,minW:1,maxH:1/0,maxW:1/0,transformScale:1})},9293:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=c(r(2791)),o=c(r(2467)),i=c(r(1694)),a=r(6073),s=r(4331),l=c(r(977)),u=c(r(7794));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){return p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){x(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function v(e,t){return v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},v(e,t)}function m(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=w(e);if(t){var o=w(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return b(this,r)}}function b(e,t){return!t||"object"!==p(t)&&"function"!==typeof t?C(e):t}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}function x(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var S="react-grid-layout",E=!1;try{E=/firefox/i.test(navigator.userAgent)}catch(_){}var O=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(p,e);var t,r,u,c=m(p);function p(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),x(C(r=c.call(this,e,t)),"state",{activeDrag:null,layout:(0,a.synchronizeLayoutWithChildren)(r.props.layout,r.props.children,r.props.cols,(0,a.compactType)(r.props)),mounted:!1,oldDragItem:null,oldLayout:null,oldResizeItem:null,droppingDOMNode:null,children:[]}),x(C(r),"dragEnterCounter",0),x(C(r),"onDragOver",(function(e){if(E&&-1===e.nativeEvent.target.className.indexOf(S))return!1;var t=r.props,o=t.droppingItem,i=t.margin,a=t.cols,l=t.rowHeight,u=t.maxRows,c=t.width,p=t.containerPadding,d=r.state.layout,g=e.nativeEvent,y=g.layerX,v=g.layerY,m={left:y,top:v,e:e};if(r.state.droppingDOMNode){if(r.state.droppingPosition){var b=r.state.droppingPosition,C=b.left,w=b.top;(C!=y||w!=v)&&r.setState({droppingPosition:m})}}else{var x={cols:a,margin:i,maxRows:u,rowHeight:l,containerWidth:c,containerPadding:p||i},O=(0,s.calcXY)(x,v,y,o.w,o.h);r.setState({droppingDOMNode:n.default.createElement("div",{key:o.i}),droppingPosition:m,layout:[].concat(f(d),[h(h({},o),{},{x:O.x,y:O.y,static:!1,isDraggable:!0})])})}e.stopPropagation(),e.preventDefault()})),x(C(r),"removeDroppingPlaceholder",(function(){var e=r.props,t=e.droppingItem,n=e.cols,o=r.state.layout,i=(0,a.compact)(o.filter((function(e){return e.i!==t.i})),(0,a.compactType)(r.props),n);r.setState({layout:i,droppingDOMNode:null,activeDrag:null,droppingPosition:void 0})})),x(C(r),"onDragLeave",(function(){r.dragEnterCounter--,0===r.dragEnterCounter&&r.removeDroppingPlaceholder()})),x(C(r),"onDragEnter",(function(){r.dragEnterCounter++})),x(C(r),"onDrop",(function(e){var t=r.props.droppingItem,n=r.state.layout,o=n.find((function(e){return e.i===t.i}));r.dragEnterCounter=0,r.removeDroppingPlaceholder(),r.props.onDrop(n,o,e)})),(0,a.autoBindHandlers)(C(r),["onDragStart","onDrag","onDragStop","onResizeStart","onResize","onResizeStop"]),r}return t=p,u=[{key:"getDerivedStateFromProps",value:function(e,t){var r;return t.activeDrag?null:((0,o.default)(e.layout,t.propsLayout)&&e.compactType===t.compactType?(0,a.childrenEqual)(e.children,t.children)||(r=t.layout):r=e.layout,r?{layout:(0,a.synchronizeLayoutWithChildren)(r,e.children,e.cols,(0,a.compactType)(e)),compactType:e.compactType,children:e.children,propsLayout:e.layout}:null)}}],(r=[{key:"componentDidMount",value:function(){this.setState({mounted:!0}),this.onLayoutMaybeChanged(this.state.layout,this.props.layout)}},{key:"shouldComponentUpdate",value:function(e,t){return this.props.children!==e.children||!(0,a.fastRGLPropsEqual)(this.props,e,o.default)||this.state.activeDrag!==t.activeDrag||this.state.mounted!==t.mounted||this.state.droppingPosition!==t.droppingPosition}},{key:"componentDidUpdate",value:function(e,t){if(!this.state.activeDrag){var r=this.state.layout,n=t.layout;this.onLayoutMaybeChanged(r,n)}}},{key:"containerHeight",value:function(){if(this.props.autoSize){var e=(0,a.bottom)(this.state.layout),t=this.props.containerPadding?this.props.containerPadding[1]:this.props.margin[1];return e*this.props.rowHeight+(e-1)*this.props.margin[1]+2*t+"px"}}},{key:"onDragStart",value:function(e,t,r,n){var o=n.e,i=n.node,s=this.state.layout,l=(0,a.getLayoutItem)(s,e);if(l)return this.setState({oldDragItem:(0,a.cloneLayoutItem)(l),oldLayout:this.state.layout}),this.props.onDragStart(s,l,l,null,o,i)}},{key:"onDrag",value:function(e,t,r,n){var o=n.e,i=n.node,s=this.state.oldDragItem,l=this.state.layout,u=this.props.cols,c=(0,a.getLayoutItem)(l,e);if(c){var p={w:c.w,h:c.h,x:c.x,y:c.y,placeholder:!0,i:e};l=(0,a.moveElement)(l,c,t,r,!0,this.props.preventCollision,(0,a.compactType)(this.props),u),this.props.onDrag(l,s,c,p,o,i),this.setState({layout:(0,a.compact)(l,(0,a.compactType)(this.props),u),activeDrag:p})}}},{key:"onDragStop",value:function(e,t,r,n){var o=n.e,i=n.node;if(this.state.activeDrag){var s=this.state.oldDragItem,l=this.state.layout,u=this.props,c=u.cols,p=u.preventCollision,d=(0,a.getLayoutItem)(l,e);if(d){l=(0,a.moveElement)(l,d,t,r,!0,p,(0,a.compactType)(this.props),c),this.props.onDragStop(l,s,d,null,o,i);var h=(0,a.compact)(l,(0,a.compactType)(this.props),c),f=this.state.oldLayout;this.setState({activeDrag:null,layout:h,oldDragItem:null,oldLayout:null}),this.onLayoutMaybeChanged(h,f)}}}},{key:"onLayoutMaybeChanged",value:function(e,t){t||(t=this.state.layout),(0,o.default)(t,e)||this.props.onLayoutChange(e)}},{key:"onResizeStart",value:function(e,t,r,n){var o=n.e,i=n.node,s=this.state.layout,l=(0,a.getLayoutItem)(s,e);l&&(this.setState({oldResizeItem:(0,a.cloneLayoutItem)(l),oldLayout:this.state.layout}),this.props.onResizeStart(s,l,l,null,o,i))}},{key:"onResize",value:function(e,t,r,n){var o=n.e,i=n.node,s=this.state,l=s.layout,u=s.oldResizeItem,c=this.props,p=c.cols,d=c.preventCollision,f=(0,a.getLayoutItem)(l,e);if(f){var g;if(d){var y=(0,a.getAllCollisions)(l,h(h({},f),{},{w:t,h:r})).filter((function(e){return e.i!==f.i}));if(g=y.length>0){var v=1/0,m=1/0;y.forEach((function(e){e.x>f.x&&(v=Math.min(v,e.x)),e.y>f.y&&(m=Math.min(m,e.y))})),Number.isFinite(v)&&(f.w=v-f.x),Number.isFinite(m)&&(f.h=m-f.y)}}g||(f.w=t,f.h=r);var b={w:f.w,h:f.h,x:f.x,y:f.y,static:!0,i:e};this.props.onResize(l,u,f,b,o,i),this.setState({layout:(0,a.compact)(l,(0,a.compactType)(this.props),p),activeDrag:b})}}},{key:"onResizeStop",value:function(e,t,r,n){var o=n.e,i=n.node,s=this.state,l=s.layout,u=s.oldResizeItem,c=this.props.cols,p=(0,a.getLayoutItem)(l,e);this.props.onResizeStop(l,u,p,null,o,i);var d=(0,a.compact)(l,(0,a.compactType)(this.props),c),h=this.state.oldLayout;this.setState({activeDrag:null,layout:d,oldResizeItem:null,oldLayout:null}),this.onLayoutMaybeChanged(d,h)}},{key:"placeholder",value:function(){var e=this.state.activeDrag;if(!e)return null;var t=this.props,r=t.width,o=t.cols,i=t.margin,a=t.containerPadding,s=t.rowHeight,u=t.maxRows,c=t.useCSSTransforms,p=t.transformScale;return n.default.createElement(l.default,{w:e.w,h:e.h,x:e.x,y:e.y,i:e.i,className:"react-grid-placeholder",containerWidth:r,cols:o,margin:i,containerPadding:a||i,maxRows:u,rowHeight:s,isDraggable:!1,isResizable:!1,isBounded:!1,useCSSTransforms:c,transformScale:p},n.default.createElement("div",null))}},{key:"processGridItem",value:function(e,t){if(e&&e.key){var r=(0,a.getLayoutItem)(this.state.layout,String(e.key));if(!r)return null;var o=this.props,i=o.width,s=o.cols,u=o.margin,c=o.containerPadding,p=o.rowHeight,d=o.maxRows,h=o.isDraggable,f=o.isResizable,g=o.isBounded,y=o.useCSSTransforms,v=o.transformScale,m=o.draggableCancel,b=o.draggableHandle,C=o.resizeHandles,w=this.state,x=w.mounted,S=w.droppingPosition,E="boolean"===typeof r.isDraggable?r.isDraggable:!r.static&&h,O="boolean"===typeof r.isResizable?r.isResizable:!r.static&&f,_=r.resizeHandles||C,P=E&&g&&!1!==r.isBounded;return n.default.createElement(l.default,{containerWidth:i,cols:s,margin:u,containerPadding:c||u,maxRows:d,rowHeight:p,cancel:m,handle:b,onDragStop:this.onDragStop,onDragStart:this.onDragStart,onDrag:this.onDrag,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,isDraggable:E,isResizable:O,isBounded:P,useCSSTransforms:y&&x,usePercentages:!x,transformScale:v,w:r.w,h:r.h,x:r.x,y:r.y,i:r.i,minH:r.minH,minW:r.minW,maxH:r.maxH,maxW:r.maxW,static:r.static,droppingPosition:t?S:void 0,resizeHandles:_},e)}}},{key:"render",value:function(){var e=this,t=this.props,r=t.className,o=t.style,s=t.isDroppable,l=t.innerRef,u=(0,i.default)(S,r),c=h({height:this.containerHeight()},o);return n.default.createElement("div",{ref:l,className:u,style:c,onDrop:s?this.onDrop:a.noop,onDragLeave:s?this.onDragLeave:a.noop,onDragEnter:s?this.onDragEnter:a.noop,onDragOver:s?this.onDragOver:a.noop},n.default.Children.map(this.props.children,(function(t){return e.processGridItem(t)})),s&&this.state.droppingDOMNode&&this.processGridItem(this.state.droppingDOMNode,!0),this.placeholder())}}])&&y(t.prototype,r),u&&y(t,u),p}(n.default.Component);t.default=O,x(O,"displayName","ReactGridLayout"),x(O,"propTypes",u.default),x(O,"defaultProps",{autoSize:!0,cols:12,className:"",style:{},draggableHandle:"",draggableCancel:"",containerPadding:null,rowHeight:150,maxRows:1/0,layout:[],margin:[10,10],isBounded:!1,isDraggable:!0,isResizable:!0,isDroppable:!1,useCSSTransforms:!0,transformScale:1,verticalCompact:!0,compactType:"vertical",preventCollision:!1,droppingItem:{i:"__dropping-elem__",h:1,w:1},resizeHandles:["se"],onLayoutChange:a.noop,onDragStart:a.noop,onDrag:a.noop,onDragStop:a.noop,onResizeStart:a.noop,onResize:a.noop,onResizeStop:a.noop,onDrop:a.noop})},7794:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r(2007)),o=i(r(2791));function i(e){return e&&e.__esModule?e:{default:e}}var a={className:n.default.string,style:n.default.object,width:n.default.number,autoSize:n.default.bool,cols:n.default.number,draggableCancel:n.default.string,draggableHandle:n.default.string,verticalCompact:function(e){e.verticalCompact,0},compactType:n.default.oneOf(["vertical","horizontal"]),layout:function(e){var t=e.layout;void 0!==t&&r(6073).validateLayout(t,"layout")},margin:n.default.arrayOf(n.default.number),containerPadding:n.default.arrayOf(n.default.number),rowHeight:n.default.number,maxRows:n.default.number,isBounded:n.default.bool,isDraggable:n.default.bool,isResizable:n.default.bool,preventCollision:n.default.bool,useCSSTransforms:n.default.bool,transformScale:n.default.number,isDroppable:n.default.bool,resizeHandles:n.default.arrayOf(n.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),onLayoutChange:n.default.func,onDragStart:n.default.func,onDrag:n.default.func,onDragStop:n.default.func,onResizeStart:n.default.func,onResize:n.default.func,onResizeStop:n.default.func,onDrop:n.default.func,droppingItem:n.default.shape({i:n.default.string.isRequired,w:n.default.number.isRequired,h:n.default.number.isRequired}),children:function(e,t){var r=e[t],n={};o.default.Children.forEach(r,(function(e){if(n[e.key])throw new Error('Duplicate child key "'+e.key+'" found! This will cause problems in ReactGridLayout.');n[e.key]=!0}))},innerRef:n.default.any};t.default=a},9844:function(e,t,r){"use strict";t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==p(e)&&"function"!==typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(2791)),o=u(r(2007)),i=u(r(2467)),a=r(6073),s=r(8526),l=u(r(9293));function u(e){return e&&e.__esModule?e:{default:e}}function c(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function p(e){return p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function d(){return d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},d.apply(this,arguments)}function h(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){S(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e,t){return m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},m(e,t)}function b(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=x(e);if(t){var o=x(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return C(this,r)}}function C(e,t){return!t||"object"!==p(t)&&"function"!==typeof t?w(e):t}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},x(e)}function S(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var E=function(e){return Object.prototype.toString.call(e)};function O(e,t){return null==e?null:Array.isArray(e)?e:e[t]}var _=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(c,e);var t,r,o,u=b(c);function c(){var e;y(this,c);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return S(w(e=u.call.apply(u,[this].concat(r))),"state",e.generateInitialState()),S(w(e),"onLayoutChange",(function(t){e.props.onLayoutChange(t,g(g({},e.props.layouts),{},S({},e.state.breakpoint,t)))})),e}return t=c,o=[{key:"getDerivedStateFromProps",value:function(e,t){if(!(0,i.default)(e.layouts,t.layouts)){var r=t.breakpoint,n=t.cols;return{layout:(0,s.findOrGenerateResponsiveLayout)(e.layouts,e.breakpoints,r,r,n,e.compactType),layouts:e.layouts}}return null}}],(r=[{key:"generateInitialState",value:function(){var e=this.props,t=e.width,r=e.breakpoints,n=e.layouts,o=e.cols,i=(0,s.getBreakpointFromWidth)(r,t),a=(0,s.getColsFromBreakpoint)(i,o),l=!1===this.props.verticalCompact?null:this.props.compactType;return{layout:(0,s.findOrGenerateResponsiveLayout)(n,r,i,i,a,l),breakpoint:i,cols:a}}},{key:"componentDidUpdate",value:function(e){this.props.width==e.width&&this.props.breakpoint===e.breakpoint&&(0,i.default)(this.props.breakpoints,e.breakpoints)&&(0,i.default)(this.props.cols,e.cols)||this.onWidthChange(e)}},{key:"onWidthChange",value:function(e){var t=this.props,r=t.breakpoints,n=t.cols,o=t.layouts,i=t.compactType,l=this.props.breakpoint||(0,s.getBreakpointFromWidth)(this.props.breakpoints,this.props.width),u=this.state.breakpoint,c=(0,s.getColsFromBreakpoint)(l,n),p=g({},o);if(u!==l||e.breakpoints!==r||e.cols!==n){u in p||(p[u]=(0,a.cloneLayout)(this.state.layout));var d=(0,s.findOrGenerateResponsiveLayout)(p,r,l,u,c,i);d=(0,a.synchronizeLayoutWithChildren)(d,this.props.children,c,i),p[l]=d,this.props.onLayoutChange(d,p),this.props.onBreakpointChange(l,c),this.setState({breakpoint:l,layout:d,cols:c})}var h=O(this.props.margin,l),f=O(this.props.containerPadding,l);this.props.onWidthChange(this.props.width,h,c,f)}},{key:"render",value:function(){var e=this.props,t=(e.breakpoint,e.breakpoints,e.cols,e.layouts,e.margin),r=e.containerPadding,o=(e.onBreakpointChange,e.onLayoutChange,e.onWidthChange,h(e,["breakpoint","breakpoints","cols","layouts","margin","containerPadding","onBreakpointChange","onLayoutChange","onWidthChange"]));return n.createElement(l.default,d({},o,{margin:O(t,this.state.breakpoint),containerPadding:O(r,this.state.breakpoint),onLayoutChange:this.onLayoutChange,layout:this.state.layout,cols:this.state.cols}))}}])&&v(t.prototype,r),o&&v(t,o),c}(n.Component);t.default=_,S(_,"propTypes",{breakpoint:o.default.string,breakpoints:o.default.object,cols:o.default.object,margin:o.default.oneOfType([o.default.array,o.default.object]),containerPadding:o.default.oneOfType([o.default.array,o.default.object]),layouts:function(e,t){if("[object Object]"!==E(e[t]))throw new Error("Layout property must be an object. Received: "+E(e[t]));Object.keys(e[t]).forEach((function(t){if(!(t in e.breakpoints))throw new Error("Each key in layouts must align with a key in breakpoints.");(0,a.validateLayout)(e.layouts[t],"layouts."+t)}))},width:o.default.number.isRequired,onBreakpointChange:o.default.func,onLayoutChange:o.default.func,onWidthChange:o.default.func}),S(_,"defaultProps",{breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},layouts:{},margin:[10,10],containerPadding:{lg:null,md:null,sm:null,xs:null,xxs:null},onBreakpointChange:a.noop,onLayoutChange:a.noop,onWidthChange:a.noop})},4331:function(e,t){"use strict";function r(e){var t=e.margin,r=e.containerPadding,n=e.containerWidth,o=e.cols;return(n-t[0]*(o-1)-2*r[0])/o}function n(e,t,r){return Number.isFinite(e)?Math.round(t*e+Math.max(0,e-1)*r):e}function o(e,t,r){return Math.max(Math.min(e,r),t)}Object.defineProperty(t,"__esModule",{value:!0}),t.calcGridColWidth=r,t.calcGridItemWHPx=n,t.calcGridItemPosition=function(e,t,o,i,a,s){var l=e.margin,u=e.containerPadding,c=e.rowHeight,p=r(e),d={};s&&s.resizing?(d.width=Math.round(s.resizing.width),d.height=Math.round(s.resizing.height)):(d.width=n(i,p,l[0]),d.height=n(a,c,l[1]));s&&s.dragging?(d.top=Math.round(s.dragging.top),d.left=Math.round(s.dragging.left)):(d.top=Math.round((c+l[1])*o+u[1]),d.left=Math.round((p+l[0])*t+u[0]));return d},t.calcXY=function(e,t,n,i,a){var s=e.margin,l=e.cols,u=e.rowHeight,c=e.maxRows,p=r(e),d=Math.round((n-s[0])/(p+s[0])),h=Math.round((t-s[1])/(u+s[1]));return d=o(d,0,l-i),h=o(h,0,c-a),{x:d,y:h}},t.calcWH=function(e,t,n,i,a){var s=e.margin,l=e.maxRows,u=e.cols,c=e.rowHeight,p=r(e),d=Math.round((t+s[0])/(p+s[0])),h=Math.round((n+s[1])/(c+s[1]));return d=o(d,0,u-i),h=o(h,0,l-a),{w:d,h:h}},t.clamp=o},5234:function(e,t,r){"use strict";t.default=function(e){var t,r;return r=t=function(t){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(o,t);var r=function(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=g(e);if(t){var o=g(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return h(this,r)}}(o);function o(){var e;c(this,o);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return y(f(e=r.call.apply(r,[this].concat(n))),"state",{width:1280}),y(f(e),"mounted",!1),y(f(e),"onWindowResize",(function(){if(e.mounted){var t=i.default.findDOMNode(f(e));t instanceof HTMLElement&&e.setState({width:t.offsetWidth})}})),e}return function(e,t,r){t&&p(e.prototype,t);r&&p(e,r)}(o,[{key:"componentDidMount",value:function(){this.mounted=!0,window.addEventListener("resize",this.onWindowResize),this.onWindowResize()}},{key:"componentWillUnmount",value:function(){this.mounted=!1,window.removeEventListener("resize",this.onWindowResize)}},{key:"render",value:function(){var t=this.props,r=t.measureBeforeMount,o=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(t,["measureBeforeMount"]);return r&&!this.mounted?n.createElement("div",{className:this.props.className,style:this.props.style}):n.createElement(e,u({},o,this.state))}}]),o}(n.Component),y(t,"defaultProps",{measureBeforeMount:!1}),y(t,"propTypes",{measureBeforeMount:o.default.bool}),r};var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==l(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(2791)),o=a(r(2007)),i=a(r(4164));function a(e){return e&&e.__esModule?e:{default:e}}function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function l(e){return l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u.apply(this,arguments)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function h(e,t){return!t||"object"!==l(t)&&"function"!==typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},9272:function(e){e.exports=function(e,t,r){return e===t||e.className===t.className&&r(e.style,t.style)&&e.width===t.width&&e.autoSize===t.autoSize&&e.cols===t.cols&&e.draggableCancel===t.draggableCancel&&e.draggableHandle===t.draggableHandle&&r(e.verticalCompact,t.verticalCompact)&&r(e.compactType,t.compactType)&&r(e.layout,t.layout)&&r(e.margin,t.margin)&&r(e.containerPadding,t.containerPadding)&&e.rowHeight===t.rowHeight&&e.maxRows===t.maxRows&&e.isBounded===t.isBounded&&e.isDraggable===t.isDraggable&&e.isResizable===t.isResizable&&e.preventCollision===t.preventCollision&&e.useCSSTransforms===t.useCSSTransforms&&e.transformScale===t.transformScale&&e.isDroppable===t.isDroppable&&r(e.resizeHandles,t.resizeHandles)&&e.onLayoutChange===t.onLayoutChange&&e.onDragStart===t.onDragStart&&e.onDrag===t.onDrag&&e.onDragStop===t.onDragStop&&e.onResizeStart===t.onResizeStart&&e.onResize===t.onResize&&e.onResizeStop===t.onResizeStop&&e.onDrop===t.onDrop&&r(e.droppingItem,t.droppingItem)&&r(e.innerRef,t.innerRef)}},8526:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBreakpointFromWidth=function(e,t){for(var r=o(e),n=r[0],i=1,a=r.length;i<a;i++){var s=r[i];t>e[s]&&(n=s)}return n},t.getColsFromBreakpoint=function(e,t){if(!t[e])throw new Error("ResponsiveReactGridLayout: `cols` entry for breakpoint "+e+" is missing!");return t[e]},t.findOrGenerateResponsiveLayout=function(e,t,r,i,a,s){if(e[r])return(0,n.cloneLayout)(e[r]);for(var l=e[i],u=o(t),c=u.slice(u.indexOf(r)),p=0,d=c.length;p<d;p++){var h=c[p];if(e[h]){l=e[h];break}}return l=(0,n.cloneLayout)(l||[]),(0,n.compact)((0,n.correctBounds)(l,{cols:a}),s,a)},t.sortBreakpoints=o;var n=r(6073);function o(e){return Object.keys(e).sort((function(t,r){return e[t]-e[r]}))}},6073:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bottom=u,t.cloneLayout=function(e){for(var t=Array(e.length),r=0,n=e.length;r<n;r++)t[r]=c(e[r]);return t},t.cloneLayoutItem=c,t.childrenEqual=function(e,t){return(0,n.default)(o.default.Children.map(e,(function(e){return e.key})),o.default.Children.map(t,(function(e){return e.key})))},t.fastPositionEqual=function(e,t){return e.left===t.left&&e.top===t.top&&e.width===t.width&&e.height===t.height},t.collides=d,t.compact=h,t.compactItem=y,t.correctBounds=v,t.getLayoutItem=m,t.getFirstCollision=b,t.getAllCollisions=C,t.getStatics=w,t.moveElement=x,t.moveElementAwayFromCollision=S,t.perc=function(e){return 100*e+"%"},t.setTransform=function(e){var t=e.top,r=e.left,n=e.width,o=e.height,i="translate(".concat(r,"px,").concat(t,"px)");return{transform:i,WebkitTransform:i,MozTransform:i,msTransform:i,OTransform:i,width:"".concat(n,"px"),height:"".concat(o,"px"),position:"absolute"}},t.setTopLeft=function(e){var t=e.top,r=e.left,n=e.width,o=e.height;return{top:"".concat(t,"px"),left:"".concat(r,"px"),width:"".concat(n,"px"),height:"".concat(o,"px"),position:"absolute"}},t.sortLayoutItems=E,t.sortLayoutItemsByRowCol=O,t.sortLayoutItemsByColRow=_,t.synchronizeLayoutWithChildren=function(e,t,r,n){e=e||[];var i=[];return o.default.Children.forEach(t,(function(t,r){var n=m(e,String(t.key));if(n)i[r]=c(n);else{0;var o=t.props["data-grid"]||t.props._grid;i[r]=c(o?s(s({},o),{},{i:t.key}):{w:1,h:1,x:0,y:u(i),i:String(t.key)})}})),h(v(i,{cols:r}),n,r)},t.validateLayout=P,t.compactType=function(e){var t=e||{},r=t.verticalCompact,n=t.compactType;return!1===r?null:n},t.autoBindHandlers=function(e,t){t.forEach((function(t){return e[t]=e[t].bind(e)}))},t.noop=t.fastRGLPropsEqual=void 0;var n=i(r(2467)),o=i(r(2791));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e){for(var t,r=0,n=0,o=e.length;n<o;n++)(t=e[n].y+e[n].h)>r&&(r=t);return r}function c(e){return{w:e.w,h:e.h,x:e.x,y:e.y,i:e.i,minW:e.minW,maxW:e.maxW,minH:e.minH,maxH:e.maxH,moved:Boolean(e.moved),static:Boolean(e.static),isDraggable:e.isDraggable,isResizable:e.isResizable,resizeHandles:e.resizeHandles,isBounded:e.isBounded}}var p=r(9272);function d(e,t){return e.i!==t.i&&(!(e.x+e.w<=t.x)&&(!(e.x>=t.x+t.w)&&(!(e.y+e.h<=t.y)&&!(e.y>=t.y+t.h))))}function h(e,t,r){for(var n=w(e),o=E(e,t),i=Array(e.length),a=0,s=o.length;a<s;a++){var l=c(o[a]);l.static||(l=y(n,l,t,r,o),n.push(l)),i[e.indexOf(o[a])]=l,l.moved=!1}return i}t.fastRGLPropsEqual=p;var f={x:"w",y:"h"};function g(e,t,r,n){var o=f[n];t[n]+=1;for(var i=e.map((function(e){return e.i})).indexOf(t.i)+1;i<e.length;i++){var a=e[i];if(!a.static){if(a.y>t.y+t.h)break;d(t,a)&&g(e,a,r+t[o],n)}}t[n]=r}function y(e,t,r,n,o){var i,a="horizontal"===r;if("vertical"===r)for(t.y=Math.min(u(e),t.y);t.y>0&&!b(e,t);)t.y--;else if(a)for(t.y=Math.min(u(e),t.y);t.x>0&&!b(e,t);)t.x--;for(;i=b(e,t);)a?g(o,t,i.x+i.w,"x"):g(o,t,i.y+i.h,"y"),a&&t.x+t.w>n&&(t.x=n-t.w,t.y++);return t}function v(e,t){for(var r=w(e),n=0,o=e.length;n<o;n++){var i=e[n];if(i.x+i.w>t.cols&&(i.x=t.cols-i.w),i.x<0&&(i.x=0,i.w=t.cols),i.static)for(;b(r,i);)i.y++;else r.push(i)}return e}function m(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r].i===t)return e[r]}function b(e,t){for(var r=0,n=e.length;r<n;r++)if(d(e[r],t))return e[r]}function C(e,t){return e.filter((function(e){return d(e,t)}))}function w(e){return e.filter((function(e){return e.static}))}function x(e,t,r,n,o,i,a,s){if(t.static&&!0!==t.isDraggable)return e;if(t.y===n&&t.x===r)return e;R("Moving element ".concat(t.i," to [").concat(String(r),",").concat(String(n),"] from [").concat(t.x,",").concat(t.y,"]"));var l=t.x,u=t.y;"number"===typeof r&&(t.x=r),"number"===typeof n&&(t.y=n),t.moved=!0;var c=E(e,a);("vertical"===a&&"number"===typeof n?u>=n:"horizontal"===a&&"number"===typeof r&&l>=r)&&(c=c.reverse());var p=C(c,t);if(i&&p.length)return R("Collision prevented on ".concat(t.i,", reverting.")),t.x=l,t.y=u,t.moved=!1,e;for(var d=0,h=p.length;d<h;d++){var f=p[d];R("Resolving collision between ".concat(t.i," at [").concat(t.x,",").concat(t.y,"] and ").concat(f.i," at [").concat(f.x,",").concat(f.y,"]")),f.moved||(e=f.static?S(e,f,t,o,a,s):S(e,t,f,o,a,s))}return e}function S(e,t,r,n,o,i){var a="horizontal"===o,s="horizontal"!==o,l=t.static;if(n){n=!1;var u={x:a?Math.max(t.x-r.w,0):r.x,y:s?Math.max(t.y-r.h,0):r.y,w:r.w,h:r.h,i:"-1"};if(!b(e,u))return R("Doing reverse collision on ".concat(r.i," up to [").concat(u.x,",").concat(u.y,"].")),x(e,r,a?u.x:void 0,s?u.y:void 0,n,l,o,i)}return x(e,r,a?r.x+1:void 0,s?r.y+1:void 0,n,l,o,i)}function E(e,t){return"horizontal"===t?_(e):O(e)}function O(e){return e.slice(0).sort((function(e,t){return e.y>t.y||e.y===t.y&&e.x>t.x?1:e.y===t.y&&e.x===t.x?0:-1}))}function _(e){return e.slice(0).sort((function(e,t){return e.x>t.x||e.x===t.x&&e.y>t.y?1:-1}))}function P(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Layout",r=["x","y","w","h"];if(!Array.isArray(e))throw new Error(t+" must be an array!");for(var n=0,o=e.length;n<o;n++){for(var i=e[n],a=0;a<r.length;a++)if("number"!==typeof i[r[a]])throw new Error("ReactGridLayout: "+t+"["+n+"]."+r[a]+" must be a number!");if(i.i&&"string"!==typeof i.i)throw new Error("ReactGridLayout: "+t+"["+n+"].i must be a string!");if(void 0!==i.static&&"boolean"!==typeof i.static)throw new Error("ReactGridLayout: "+t+"["+n+"].static must be a boolean!")}}function R(){}t.noop=function(){}},3457:function(e,t,r){e.exports=r(9293).default,e.exports.utils=r(6073),e.exports.Responsive=r(9844).default,e.exports.Responsive.utils=r(8526),e.exports.WidthProvider=r(5234).default},7788:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=(n=r(2791))&&n.__esModule?n:{default:n},i=r(9962),a=r(8300),s=r(5007);function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l.apply(this,arguments)}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return d(p(t=e.call.apply(e,[this].concat(n))||this),"state",void 0),d(p(t),"lastHandleRect",null),d(p(t),"slack",null),t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var s=n.prototype;return s.componentWillUnmount=function(){this.resetData()},s.lockAspectRatio=function(e,t,r){return[e=(t=e/r)*r,t]},s.resetData=function(){this.lastHandleRect=this.slack=null},s.runConstraints=function(e,t){var r=[this.props.minConstraints,this.props.maxConstraints],n=r[0],o=r[1];if(!n&&!o)return[e,t];if(this.props.lockAspectRatio)if(t===this.props.height){var i=this.props.width/this.props.height;e=(t=e/i)*i}else{var a=this.props.height/this.props.width;t=(e=t/a)*a}var s=e,l=t,u=this.slack||[0,0],c=u[0],p=u[1];return e+=c,t+=p,n&&(e=Math.max(n[0],e),t=Math.max(n[1],t)),o&&(e=Math.min(o[0],e),t=Math.min(o[1],t)),this.slack=[c+(s-e),p+(l-t)],[e,t]},s.resizeHandler=function(e,t){var r=this;return function(n,o){var i=o.node,a=o.deltaX,s=o.deltaY;"onResizeStart"===e&&r.resetData();var l=("both"===r.props.axis||"x"===r.props.axis)&&"n"!==t&&"s"!==t,u=("both"===r.props.axis||"y"===r.props.axis)&&"e"!==t&&"w"!==t;if(l||u){var c=t[0],p=t[t.length-1],d=i.getBoundingClientRect();if(null!=r.lastHandleRect){if("w"===p)a+=d.left-r.lastHandleRect.left;if("n"===c)s+=d.top-r.lastHandleRect.top}r.lastHandleRect=d,"w"===p&&(a=-a),"n"===c&&(s=-s);var h=r.props.width+(l?a/r.props.transformScale:0),f=r.props.height+(u?s/r.props.transformScale:0),g=r.runConstraints(h,f);h=g[0],f=g[1];var y=h!==r.props.width||f!==r.props.height,v="function"===typeof r.props[e]?r.props[e]:null;v&&!("onResize"===e&&!y)&&("function"===typeof n.persist&&n.persist(),v(n,{node:i,size:{width:h,height:f},handle:t})),"onResizeStop"===e&&r.resetData()}}},s.renderResizeHandle=function(e){var t=this.props.handle;return t?"function"===typeof t?t(e):t:o.default.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+e})},s.render=function(){var e=this,t=this.props,r=t.children,n=t.className,s=t.draggableOpts,u=(t.width,t.height,t.handle,t.handleSize,t.lockAspectRatio,t.axis,t.minConstraints,t.maxConstraints,t.onResize,t.onResizeStop,t.onResizeStart,t.resizeHandles),p=(t.transformScale,function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(t,["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"]));return(0,a.cloneElement)(r,c(c({},p),{},{className:(n?n+" ":"")+"react-resizable",children:[].concat(r.props.children,u.map((function(t){return o.default.createElement(i.DraggableCore,l({},s,{key:"resizableHandle-"+t,onStop:e.resizeHandler("onResizeStop",t),onStart:e.resizeHandler("onResizeStart",t),onDrag:e.resizeHandler("onResize",t)}),e.renderResizeHandle(t))})))}))},n}(o.default.Component);t.default=h,d(h,"propTypes",s.resizableProps),d(h,"defaultProps",{handleSize:[20,20],lockAspectRatio:!1,axis:"both",minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1})},3133:function(e,t,r){"use strict";t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(2791)),o=s(r(2007)),i=s(r(7788)),a=r(5007);function s(e){return e&&e.__esModule?e:{default:e}}function l(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u.apply(this,arguments)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=function(e){var t,r;function o(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return h(d(t=e.call.apply(e,[this].concat(n))||this),"state",{width:t.props.width,height:t.props.height,propsWidth:t.props.width,propsHeight:t.props.height}),h(d(t),"onResize",(function(e,r){var n=r.size;t.props.onResize?(e.persist&&e.persist(),t.setState(n,(function(){return t.props.onResize&&t.props.onResize(e,r)}))):t.setState(n)})),t}return r=e,(t=o).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,o.getDerivedStateFromProps=function(e,t){return t.propsWidth!==e.width||t.propsHeight!==e.height?{width:e.width,height:e.height,propsWidth:e.width,propsHeight:e.height}:null},o.prototype.render=function(){var e=this.props,t=e.handle,r=e.handleSize,o=(e.onResize,e.onResizeStart),a=e.onResizeStop,s=e.draggableOpts,l=e.minConstraints,c=e.maxConstraints,d=e.lockAspectRatio,h=e.axis,f=(e.width,e.height,e.resizeHandles),g=e.style,y=e.transformScale,v=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"]);return n.createElement(i.default,{axis:h,draggableOpts:s,handle:t,handleSize:r,height:this.state.height,lockAspectRatio:d,maxConstraints:c,minConstraints:l,onResizeStart:o,onResize:this.onResize,onResizeStop:a,resizeHandles:f,transformScale:y,width:this.state.width},n.createElement("div",u({},v,{style:p(p({},g),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},o}(n.Component);t.default=f,h(f,"propTypes",p(p({},a.resizableProps),{},{children:o.default.element}))},5007:function(e,t,r){"use strict";t.__esModule=!0,t.resizableProps=void 0;var n,o=(n=r(2007))&&n.__esModule?n:{default:n};r(9962);var i={axis:o.default.oneOf(["both","x","y","none"]),className:o.default.string,children:o.default.element.isRequired,draggableOpts:o.default.shape({allowAnyClick:o.default.bool,cancel:o.default.string,children:o.default.node,disabled:o.default.bool,enableUserSelectHack:o.default.bool,offsetParent:o.default.node,grid:o.default.arrayOf(o.default.number),handle:o.default.string,nodeRef:o.default.object,onStart:o.default.func,onDrag:o.default.func,onStop:o.default.func,onMouseDown:o.default.func,scale:o.default.number}),height:o.default.number.isRequired,handle:o.default.oneOfType([o.default.node,o.default.func]),handleSize:o.default.arrayOf(o.default.number),lockAspectRatio:o.default.bool,maxConstraints:o.default.arrayOf(o.default.number),minConstraints:o.default.arrayOf(o.default.number),onResizeStop:o.default.func,onResizeStart:o.default.func,onResize:o.default.func,resizeHandles:o.default.arrayOf(o.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:o.default.number,width:o.default.number.isRequired};t.resizableProps=i},8300:function(e,t,r){"use strict";t.__esModule=!0,t.cloneElement=function(e,t){t.style&&e.props.style&&(t.style=a(a({},e.props.style),t.style));t.className&&e.props.className&&(t.className=e.props.className+" "+t.className);return o.default.cloneElement(e,t)};var n,o=(n=r(2791))&&n.__esModule?n:{default:n};function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},8758:function(e,t,r){"use strict";e.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")},e.exports.Resizable=r(7788).default,e.exports.ResizableBox=r(3133).default},1372:function(e,t){"use strict";var r="function"===typeof Symbol&&Symbol.for,n=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,i=r?Symbol.for("react.fragment"):60107,a=r?Symbol.for("react.strict_mode"):60108,s=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,u=r?Symbol.for("react.context"):60110,c=r?Symbol.for("react.async_mode"):60111,p=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,h=r?Symbol.for("react.suspense"):60113,f=r?Symbol.for("react.suspense_list"):60120,g=r?Symbol.for("react.memo"):60115,y=r?Symbol.for("react.lazy"):60116,v=r?Symbol.for("react.block"):60121,m=r?Symbol.for("react.fundamental"):60117,b=r?Symbol.for("react.responder"):60118,C=r?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case c:case p:case i:case s:case a:case h:return e;default:switch(e=e&&e.$$typeof){case u:case d:case y:case g:case l:return e;default:return t}}case o:return t}}}function x(e){return w(e)===p}t.AsyncMode=c,t.ConcurrentMode=p,t.ContextConsumer=u,t.ContextProvider=l,t.Element=n,t.ForwardRef=d,t.Fragment=i,t.Lazy=y,t.Memo=g,t.Portal=o,t.Profiler=s,t.StrictMode=a,t.Suspense=h,t.isAsyncMode=function(e){return x(e)||w(e)===c},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===u},t.isContextProvider=function(e){return w(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return w(e)===d},t.isFragment=function(e){return w(e)===i},t.isLazy=function(e){return w(e)===y},t.isMemo=function(e){return w(e)===g},t.isPortal=function(e){return w(e)===o},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===a},t.isSuspense=function(e){return w(e)===h},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===p||e===s||e===a||e===h||e===f||"object"===typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===g||e.$$typeof===l||e.$$typeof===u||e.$$typeof===d||e.$$typeof===m||e.$$typeof===b||e.$$typeof===C||e.$$typeof===v)},t.typeOf=w},7441:function(e,t,r){"use strict";e.exports=r(1372)},8459:function(e,t){"use strict";var r=60103,n=60106,o=60107,i=60108,a=60114,s=60109,l=60110,u=60112,c=60113,p=60120,d=60115,h=60116,f=60121,g=60122,y=60117,v=60129,m=60131;if("function"===typeof Symbol&&Symbol.for){var b=Symbol.for;r=b("react.element"),n=b("react.portal"),o=b("react.fragment"),i=b("react.strict_mode"),a=b("react.profiler"),s=b("react.provider"),l=b("react.context"),u=b("react.forward_ref"),c=b("react.suspense"),p=b("react.suspense_list"),d=b("react.memo"),h=b("react.lazy"),f=b("react.block"),g=b("react.server.block"),y=b("react.fundamental"),v=b("react.debug_trace_mode"),m=b("react.legacy_hidden")}function C(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case o:case a:case i:case c:case p:return e;default:switch(e=e&&e.$$typeof){case l:case u:case h:case d:case s:return e;default:return t}}case n:return t}}}t.isContextConsumer=function(e){return C(e)===l}},6900:function(e,t,r){"use strict";e.exports=r(8459)},6374:function(e,t,r){"use strict";var n=r(2791),o=Symbol.for("react.element"),i=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,r){var n,i={},u=null,c=null;for(n in void 0!==r&&(u=""+r),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)a.call(t,n)&&!l.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===i[n]&&(i[n]=t[n]);return{$$typeof:o,type:e,key:u,ref:c,props:i,_owner:s.current}}t.Fragment=i,t.jsx=u,t.jsxs=u},9117:function(e,t){"use strict";var r=Symbol.for("react.element"),n=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,y={};function v(e,t,r){this.props=e,this.context=t,this.refs=y,this.updater=r||f}function m(){}function b(e,t,r){this.props=e,this.context=t,this.refs=y,this.updater=r||f}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},m.prototype=v.prototype;var C=b.prototype=new m;C.constructor=b,g(C,v.prototype),C.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,S={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function O(e,t,n){var o,i={},a=null,s=null;if(null!=t)for(o in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)x.call(t,o)&&!E.hasOwnProperty(o)&&(i[o]=t[o]);var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(o in l=e.defaultProps)void 0===i[o]&&(i[o]=l[o]);return{$$typeof:r,type:e,key:a,ref:s,props:i,_owner:S.current}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var P=/\/+/g;function R(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,o,i,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case r:case n:l=!0}}if(l)return a=a(l=e),e=""===i?"."+R(l,0):i,w(a)?(o="",null!=e&&(o=e.replace(P,"$&/")+"/"),A(a,t,o,"",(function(e){return e}))):null!=a&&(_(a)&&(a=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,o+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(P,"$&/")+"/")+e)),t.push(a)),1;if(l=0,i=""===i?".":i+":",w(e))for(var u=0;u<e.length;u++){var c=i+R(s=e[u],u);l+=A(s,t,o,c,a)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(s=e.next()).done;)l+=A(s=s.value,t,o,c=i+R(s,u++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function T(e,t,r){if(null==e)return e;var n=[],o=0;return A(e,n,"","",(function(e){return t.call(r,e,o++)})),n}function D(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var M={current:null},k={transition:null},N={ReactCurrentDispatcher:M,ReactCurrentBatchConfig:k,ReactCurrentOwner:S};t.Children={map:T,forEach:function(e,t,r){T(e,(function(){t.apply(this,arguments)}),r)},count:function(e){var t=0;return T(e,(function(){t++})),t},toArray:function(e){return T(e,(function(e){return e}))||[]},only:function(e){if(!_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=o,t.Profiler=a,t.PureComponent=b,t.StrictMode=i,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=g({},e.props),i=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=S.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)x.call(t,u)&&!E.hasOwnProperty(u)&&(o[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];o.children=l}return{$$typeof:r,type:e.type,key:i,ref:a,props:o,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=O,t.createFactory=function(e){var t=O.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:p,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=k.transition;k.transition={};try{e()}finally{k.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return M.current.useCallback(e,t)},t.useContext=function(e){return M.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return M.current.useDeferredValue(e)},t.useEffect=function(e,t){return M.current.useEffect(e,t)},t.useId=function(){return M.current.useId()},t.useImperativeHandle=function(e,t,r){return M.current.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return M.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return M.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return M.current.useMemo(e,t)},t.useReducer=function(e,t,r){return M.current.useReducer(e,t,r)},t.useRef=function(e){return M.current.useRef(e)},t.useState=function(e){return M.current.useState(e)},t.useSyncExternalStore=function(e,t,r){return M.current.useSyncExternalStore(e,t,r)},t.useTransition=function(){return M.current.useTransition()},t.version="18.2.0"},2791:function(e,t,r){"use strict";e.exports=r(9117)},184:function(e,t,r){"use strict";e.exports=r(6374)},6813:function(e,t){"use strict";function r(e,t){var r=e.length;e.push(t);e:for(;0<r;){var n=r-1>>>1,o=e[n];if(!(0<i(o,t)))break e;e[n]=t,e[r]=o,r=n}}function n(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,o=e.length,a=o>>>1;n<a;){var s=2*(n+1)-1,l=e[s],u=s+1,c=e[u];if(0>i(l,r))u<o&&0>i(c,l)?(e[n]=c,e[u]=r,n=u):(e[n]=l,e[s]=r,n=s);else{if(!(u<o&&0>i(c,r)))break e;e[n]=c,e[u]=r,n=u}}}return t}function i(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],c=[],p=1,d=null,h=3,f=!1,g=!1,y=!1,v="function"===typeof setTimeout?setTimeout:null,m="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function C(e){for(var t=n(c);null!==t;){if(null===t.callback)o(c);else{if(!(t.startTime<=e))break;o(c),t.sortIndex=t.expirationTime,r(u,t)}t=n(c)}}function w(e){if(y=!1,C(e),!g)if(null!==n(u))g=!0,k(x);else{var t=n(c);null!==t&&N(w,t.startTime-e)}}function x(e,r){g=!1,y&&(y=!1,m(_),_=-1),f=!0;var i=h;try{for(C(r),d=n(u);null!==d&&(!(d.expirationTime>r)||e&&!A());){var a=d.callback;if("function"===typeof a){d.callback=null,h=d.priorityLevel;var s=a(d.expirationTime<=r);r=t.unstable_now(),"function"===typeof s?d.callback=s:d===n(u)&&o(u),C(r)}else o(u);d=n(u)}if(null!==d)var l=!0;else{var p=n(c);null!==p&&N(w,p.startTime-r),l=!1}return l}finally{d=null,h=i,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,E=!1,O=null,_=-1,P=5,R=-1;function A(){return!(t.unstable_now()-R<P)}function T(){if(null!==O){var e=t.unstable_now();R=e;var r=!0;try{r=O(!0,e)}finally{r?S():(E=!1,O=null)}}else E=!1}if("function"===typeof b)S=function(){b(T)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,M=D.port2;D.port1.onmessage=T,S=function(){M.postMessage(null)}}else S=function(){v(T,0)};function k(e){O=e,E||(E=!0,S())}function N(e,r){_=v((function(){e(t.unstable_now())}),r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||f||(g=!0,k(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var r=h;h=t;try{return e()}finally{h=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=h;h=e;try{return t()}finally{h=r}},t.unstable_scheduleCallback=function(e,o,i){var a=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?a+i:a:i=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:p++,callback:o,priorityLevel:e,startTime:i,expirationTime:s=i+s,sortIndex:-1},i>a?(e.sortIndex=i,r(c,e),null===n(u)&&e===n(c)&&(y?(m(_),_=-1):y=!0,N(w,i-a))):(e.sortIndex=s,r(u,e),g||f||(g=!0,k(x))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=h;return function(){var r=h;h=t;try{return e.apply(this,arguments)}finally{h=r}}}},5296:function(e,t,r){"use strict";e.exports=r(6813)},9613:function(e){e.exports=function(e,t,r,n){var o=r?r.call(n,e,t):void 0;if(void 0!==o)return!!o;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),l=0;l<i.length;l++){var u=i[l];if(!s(u))return!1;var c=e[u],p=t[u];if(!1===(o=r?r.call(n,c,p,u):void 0)||void 0===o&&c!==p)return!1}return!0}}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}r.m=e,r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.f={},r.e=function(e){return Promise.all(Object.keys(r.f).reduce((function(t,n){return r.f[n](e,t),t}),[]))},r.u=function(e){return"static/js/"+e+".01dca291.chunk.js"},r.miniCssF=function(e){},r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="igaworksassignment:";r.l=function(n,o,i,a){if(e[n])e[n].push(o);else{var s,l;if(void 0!==i)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var p=u[c];if(p.getAttribute("src")==n||p.getAttribute("data-webpack")==t+i){s=p;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,r.nc&&s.setAttribute("nonce",r.nc),s.setAttribute("data-webpack",t+i),s.src=n),e[n]=[o];var d=function(t,r){s.onerror=s.onload=null,clearTimeout(h);var o=e[n];if(delete e[n],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach((function(e){return e(r)})),t)return t(r)},h=setTimeout(d.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=d.bind(null,s.onerror),s.onload=d.bind(null,s.onload),l&&document.head.appendChild(s)}}}(),r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},r.p="/",function(){var e={179:0};r.f.j=function(t,n){var o=r.o(e,t)?e[t]:void 0;if(0!==o)if(o)n.push(o[2]);else{var i=new Promise((function(r,n){o=e[t]=[r,n]}));n.push(o[2]=i);var a=r.p+r.u(t),s=new Error;r.l(a,(function(n){if(r.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var i=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",s.name="ChunkLoadError",s.type=i,s.request=a,o[1](s)}}),"chunk-"+t,t)}};var t=function(t,n){var o,i,a=n[0],s=n[1],l=n[2],u=0;if(a.some((function(t){return 0!==e[t]}))){for(o in s)r.o(s,o)&&(r.m[o]=s[o]);if(l)l(r)}for(t&&t(n);u<a.length;u++)i=a[u],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0},n=self.webpackChunkigaworksassignment=self.webpackChunkigaworksassignment||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}(),function(){"use strict";var e=r(2791),t=r(1250);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e,t){if(e){if("string"===typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,t):void 0}}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(l){s=!0,o=l}finally{try{a||null==r.return||r.return()}finally{if(s)throw o}}return i}}(e,t)||s(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var u=r(4569),c=r.n(u),p=function(t){var r=l((0,e.useState)({loading:!0,error:null,data:null}),2),n=r[0],o=r[1];return(0,e.useEffect)((function(){c().get(t).then((function(e){o(i(i({},n),{},{loading:!1,data:e.data.data}))})).catch((function(e){o(i(i({},n),{},{error:e}))}))}),[]),n};function d(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}var h=r(3457),f=r.n(h);function g(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+e+(r.length?" "+r.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function y(e){return!!e&&!!e[ne]}function v(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object||"function"==typeof r&&Function.toString.call(r)===oe}(e)||Array.isArray(e)||!!e[re]||!!e.constructor[re]||E(e)||O(e))}function m(e,t,r){void 0===r&&(r=!1),0===b(e)?(r?Object.keys:ie)(e).forEach((function(n){r&&"symbol"==typeof n||t(n,e[n],e)})):e.forEach((function(r,n){return t(n,r,e)}))}function b(e){var t=e[ne];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:E(e)?2:O(e)?3:0}function C(e,t){return 2===b(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function w(e,t){return 2===b(e)?e.get(t):e[t]}function x(e,t,r){var n=b(e);2===n?e.set(t,r):3===n?(e.delete(t),e.add(r)):e[t]=r}function S(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function E(e){return Q&&e instanceof Map}function O(e){return J&&e instanceof Set}function _(e){return e.o||e.t}function P(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=ae(e);delete t[ne];for(var r=ie(t),n=0;n<r.length;n++){var o=r[n],i=t[o];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[o]})}return Object.create(Object.getPrototypeOf(e),t)}function R(e,t){return void 0===t&&(t=!1),T(e)||y(e)||!v(e)||(b(e)>1&&(e.set=e.add=e.clear=e.delete=A),Object.freeze(e),t&&m(e,(function(e,t){return R(t,!0)}),!0)),e}function A(){g(2)}function T(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function D(e){var t=se[e];return t||g(18,e),t}function M(){return $}function k(e,t){t&&(D("Patches"),e.u=[],e.s=[],e.v=t)}function N(e){I(e),e.p.forEach(F),e.p=null}function I(e){e===$&&($=e.l)}function L(e){return $={p:[],l:$,h:e,m:!0,_:0}}function F(e){var t=e[ne];0===t.i||1===t.i?t.j():t.O=!0}function G(e,t){t._=t.p.length;var r=t.p[0],n=void 0!==e&&e!==r;return t.h.g||D("ES5").S(t,e,n),n?(r[ne].P&&(N(t),g(4)),v(e)&&(e=B(t,e),t.l||H(t,e)),t.u&&D("Patches").M(r[ne].t,e,t.u,t.s)):e=B(t,r,[]),N(t),t.u&&t.v(t.u,t.s),e!==te?e:void 0}function B(e,t,r){if(T(t))return t;var n=t[ne];if(!n)return m(t,(function(o,i){return W(e,n,t,o,i,r)}),!0),t;if(n.A!==e)return t;if(!n.P)return H(e,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var o=4===n.i||5===n.i?n.o=P(n.k):n.o;m(3===n.i?new Set(o):o,(function(t,i){return W(e,n,o,t,i,r)})),H(e,o,!1),r&&e.u&&D("Patches").R(n,r,e.u,e.s)}return n.o}function W(e,t,r,n,o,i){if(y(o)){var a=B(e,o,i&&t&&3!==t.i&&!C(t.D,n)?i.concat(n):void 0);if(x(r,n,a),!y(a))return;e.m=!1}if(v(o)&&!T(o)){if(!e.h.F&&e._<1)return;B(e,o),t&&t.A.l||H(e,o)}}function H(e,t,r){void 0===r&&(r=!1),e.h.F&&e.m&&R(t,r)}function j(e,t){var r=e[ne];return(r?_(r):e)[t]}function V(e,t){if(t in e)for(var r=Object.getPrototypeOf(e);r;){var n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Object.getPrototypeOf(r)}}function z(e){e.P||(e.P=!0,e.l&&z(e.l))}function U(e){e.o||(e.o=P(e.t))}function Y(e,t,r){var n=E(t)?D("MapSet").N(t,r):O(t)?D("MapSet").T(t,r):e.g?function(e,t){var r=Array.isArray(e),n={i:r?1:0,A:t?t.A:M(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},o=n,i=le;r&&(o=[n],i=ue);var a=Proxy.revocable(o,i),s=a.revoke,l=a.proxy;return n.k=l,n.j=s,l}(t,r):D("ES5").J(t,r);return(r?r.A:M()).p.push(n),n}function X(e){return y(e)||g(22,e),function e(t){if(!v(t))return t;var r,n=t[ne],o=b(t);if(n){if(!n.P&&(n.i<4||!D("ES5").K(n)))return n.t;n.I=!0,r=K(t,o),n.I=!1}else r=K(t,o);return m(r,(function(t,o){n&&w(n.t,t)===o||x(r,t,e(o))})),3===o?new Set(r):r}(e)}function K(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return P(e)}var q,$,Z="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),Q="undefined"!=typeof Map,J="undefined"!=typeof Set,ee="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,te=Z?Symbol.for("immer-nothing"):((q={})["immer-nothing"]=!0,q),re=Z?Symbol.for("immer-draftable"):"__$immer_draftable",ne=Z?Symbol.for("immer-state"):"__$immer_state",oe=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),ie="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,ae=Object.getOwnPropertyDescriptors||function(e){var t={};return ie(e).forEach((function(r){t[r]=Object.getOwnPropertyDescriptor(e,r)})),t},se={},le={get:function(e,t){if(t===ne)return e;var r=_(e);if(!C(r,t))return function(e,t,r){var n,o=V(t,r);return o?"value"in o?o.value:null===(n=o.get)||void 0===n?void 0:n.call(e.k):void 0}(e,r,t);var n=r[t];return e.I||!v(n)?n:n===j(e.t,t)?(U(e),e.o[t]=Y(e.A.h,n,e)):n},has:function(e,t){return t in _(e)},ownKeys:function(e){return Reflect.ownKeys(_(e))},set:function(e,t,r){var n=V(_(e),t);if(null==n?void 0:n.set)return n.set.call(e.k,r),!0;if(!e.P){var o=j(_(e),t),i=null==o?void 0:o[ne];if(i&&i.t===r)return e.o[t]=r,e.D[t]=!1,!0;if(S(r,o)&&(void 0!==r||C(e.t,t)))return!0;U(e),z(e)}return e.o[t]===r&&"number"!=typeof r&&(void 0!==r||t in e.o)||(e.o[t]=r,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==j(e.t,t)||t in e.t?(e.D[t]=!1,U(e),z(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var r=_(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:n.enumerable,value:r[t]}:n},defineProperty:function(){g(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){g(12)}},ue={};m(le,(function(e,t){ue[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),ue.deleteProperty=function(e,t){return ue.set.call(this,e,t,void 0)},ue.set=function(e,t,r){return le.set.call(this,e[0],t,r,e[0])};var ce=function(){function e(e){var t=this;this.g=ee,this.F=!0,this.produce=function(e,r,n){if("function"==typeof e&&"function"!=typeof r){var o=r;r=e;var i=t;return function(e){var t=this;void 0===e&&(e=o);for(var n=arguments.length,a=Array(n>1?n-1:0),s=1;s<n;s++)a[s-1]=arguments[s];return i.produce(e,(function(e){var n;return(n=r).call.apply(n,[t,e].concat(a))}))}}var a;if("function"!=typeof r&&g(6),void 0!==n&&"function"!=typeof n&&g(7),v(e)){var s=L(t),l=Y(t,e,void 0),u=!0;try{a=r(l),u=!1}finally{u?N(s):I(s)}return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return k(s,n),G(e,s)}),(function(e){throw N(s),e})):(k(s,n),G(a,s))}if(!e||"object"!=typeof e){if(void 0===(a=r(e))&&(a=e),a===te&&(a=void 0),t.F&&R(a,!0),n){var c=[],p=[];D("Patches").M(e,a,c,p),n(c,p)}return a}g(21,e)},this.produceWithPatches=function(e,r){if("function"==typeof e)return function(r){for(var n=arguments.length,o=Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return t.produceWithPatches(r,(function(t){return e.apply(void 0,[t].concat(o))}))};var n,o,i=t.produce(e,r,(function(e,t){n=e,o=t}));return"undefined"!=typeof Promise&&i instanceof Promise?i.then((function(e){return[e,n,o]})):[i,n,o]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){v(e)||g(8),y(e)&&(e=X(e));var t=L(this),r=Y(this,e,void 0);return r[ne].C=!0,I(t),r},t.finishDraft=function(e,t){var r=(e&&e[ne]).A;return k(r,t),G(void 0,r)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!ee&&g(20),this.g=e},t.applyPatches=function(e,t){var r;for(r=t.length-1;r>=0;r--){var n=t[r];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}r>-1&&(t=t.slice(r+1));var o=D("Patches").$;return y(e)?o(e,t):this.produce(e,(function(e){return o(e,t)}))},e}(),pe=new ce,de=pe.produce,he=(pe.produceWithPatches.bind(pe),pe.setAutoFreeze.bind(pe),pe.setUseProxies.bind(pe),pe.applyPatches.bind(pe),pe.createDraft.bind(pe),pe.finishDraft.bind(pe),r(763));function fe(e,t){return fe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},fe(e,t)}function ge(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,fe(e,t)}function ye(){return ye=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ye.apply(this,arguments)}function ve(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var me="function"===typeof Symbol&&Symbol.observable||"@@observable",be=function(){return Math.random().toString(36).substring(7).split("").join(".")},Ce={INIT:"@@redux/INIT"+be(),REPLACE:"@@redux/REPLACE"+be(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+be()}};function we(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function xe(e,t,r){var n;if("function"===typeof t&&"function"===typeof r||"function"===typeof r&&"function"===typeof arguments[3])throw new Error(ve(0));if("function"===typeof t&&"undefined"===typeof r&&(r=t,t=void 0),"undefined"!==typeof r){if("function"!==typeof r)throw new Error(ve(1));return r(xe)(e,t)}if("function"!==typeof e)throw new Error(ve(2));var o=e,i=t,a=[],s=a,l=!1;function u(){s===a&&(s=a.slice())}function c(){if(l)throw new Error(ve(3));return i}function p(e){if("function"!==typeof e)throw new Error(ve(4));if(l)throw new Error(ve(5));var t=!0;return u(),s.push(e),function(){if(t){if(l)throw new Error(ve(6));t=!1,u();var r=s.indexOf(e);s.splice(r,1),a=null}}}function d(e){if(!we(e))throw new Error(ve(7));if("undefined"===typeof e.type)throw new Error(ve(8));if(l)throw new Error(ve(9));try{l=!0,i=o(i,e)}finally{l=!1}for(var t=a=s,r=0;r<t.length;r++){(0,t[r])()}return e}function h(e){if("function"!==typeof e)throw new Error(ve(10));o=e,d({type:Ce.REPLACE})}function f(){var e,t=p;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(ve(11));function r(){e.next&&e.next(c())}return r(),{unsubscribe:t(r)}}})[me]=function(){return this},e}return d({type:Ce.INIT}),(n={dispatch:d,subscribe:p,getState:c,replaceReducer:h})[me]=f,n}function Se(e,t){return function(){return t(e.apply(this,arguments))}}function Ee(e,t){if("function"===typeof e)return Se(e,t);if("object"!==typeof e||null===e)throw new Error(ve(16));var r={};for(var n in e){var o=e[n];"function"===typeof o&&(r[n]=Se(o,t))}return r}function Oe(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}var _e=e.createContext(null);var Pe=function(e){e()},Re=function(){return Pe};var Ae={notify:function(){},get:function(){return[]}};function Te(e,t){var r,n=Ae;function o(){a.onStateChange&&a.onStateChange()}function i(){r||(r=t?t.addNestedSub(o):e.subscribe(o),n=function(){var e=Re(),t=null,r=null;return{clear:function(){t=null,r=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],r=t;r;)e.push(r),r=r.next;return e},subscribe:function(e){var n=!0,o=r={callback:e,next:null,prev:r};return o.prev?o.prev.next=o:t=o,function(){n&&null!==t&&(n=!1,o.next?o.next.prev=o.prev:r=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}())}var a={addNestedSub:function(e){return i(),n.subscribe(e)},notifyNestedSubs:function(){n.notify()},handleChangeWrapper:o,isSubscribed:function(){return Boolean(r)},trySubscribe:i,tryUnsubscribe:function(){r&&(r(),r=void 0,n.clear(),n=Ae)},getListeners:function(){return n}};return a}var De="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?e.useLayoutEffect:e.useEffect;var Me=function(t){var r=t.store,n=t.context,o=t.children,i=(0,e.useMemo)((function(){var e=Te(r);return{store:r,subscription:e}}),[r]),a=(0,e.useMemo)((function(){return r.getState()}),[r]);De((function(){var e=i.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),a!==r.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[i,a]);var s=n||_e;return e.createElement(s.Provider,{value:i},o)},ke=r(2110),Ne=r.n(ke),Ie=r(6900),Le=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],Fe=["reactReduxForwardedRef"],Ge=[],Be=[null,null];function We(e,t){var r=e[1];return[t.payload,r+1]}function He(e,t,r){De((function(){return e.apply(void 0,t)}),r)}function je(e,t,r,n,o,i,a){e.current=n,t.current=o,r.current=!1,i.current&&(i.current=null,a())}function Ve(e,t,r,n,o,i,a,s,l,u){if(e){var c=!1,p=null,d=function(){if(!c){var e,r,d=t.getState();try{e=n(d,o.current)}catch(h){r=h,p=h}r||(p=null),e===i.current?a.current||l():(i.current=e,s.current=e,a.current=!0,u({type:"STORE_UPDATED",payload:{error:r}}))}};r.onStateChange=d,r.trySubscribe(),d();return function(){if(c=!0,r.tryUnsubscribe(),r.onStateChange=null,p)throw p}}}var ze=function(){return[null,0]};function Ue(t,r){void 0===r&&(r={});var n=r,o=n.getDisplayName,i=void 0===o?function(e){return"ConnectAdvanced("+e+")"}:o,a=n.methodName,s=void 0===a?"connectAdvanced":a,l=n.renderCountProp,u=void 0===l?void 0:l,c=n.shouldHandleStateChanges,p=void 0===c||c,h=n.storeKey,f=void 0===h?"store":h,g=(n.withRef,n.forwardRef),y=void 0!==g&&g,v=n.context,m=void 0===v?_e:v,b=d(n,Le),C=m;return function(r){var n=r.displayName||r.name||"Component",o=i(n),a=ye({},b,{getDisplayName:i,methodName:s,renderCountProp:u,shouldHandleStateChanges:p,storeKey:f,displayName:o,wrappedComponentName:n,WrappedComponent:r}),l=b.pure;var c=l?e.useMemo:function(e){return e()};function h(n){var o=(0,e.useMemo)((function(){var e=n.reactReduxForwardedRef,t=d(n,Fe);return[n.context,e,t]}),[n]),i=o[0],s=o[1],l=o[2],u=(0,e.useMemo)((function(){return i&&i.Consumer&&(0,Ie.isContextConsumer)(e.createElement(i.Consumer,null))?i:C}),[i,C]),h=(0,e.useContext)(u),f=Boolean(n.store)&&Boolean(n.store.getState)&&Boolean(n.store.dispatch);Boolean(h)&&Boolean(h.store);var g=f?n.store:h.store,y=(0,e.useMemo)((function(){return function(e){return t(e.dispatch,a)}(g)}),[g]),v=(0,e.useMemo)((function(){if(!p)return Be;var e=Te(g,f?null:h.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[g,f,h]),m=v[0],b=v[1],w=(0,e.useMemo)((function(){return f?h:ye({},h,{subscription:m})}),[f,h,m]),x=(0,e.useReducer)(We,Ge,ze),S=x[0][0],E=x[1];if(S&&S.error)throw S.error;var O=(0,e.useRef)(),_=(0,e.useRef)(l),P=(0,e.useRef)(),R=(0,e.useRef)(!1),A=c((function(){return P.current&&l===_.current?P.current:y(g.getState(),l)}),[g,S,l]);He(je,[_,O,R,l,A,P,b]),He(Ve,[p,g,m,y,_,O,R,P,b,E],[g,m,y]);var T=(0,e.useMemo)((function(){return e.createElement(r,ye({},A,{ref:s}))}),[s,r,A]);return(0,e.useMemo)((function(){return p?e.createElement(u.Provider,{value:w},T):T}),[u,T,w])}var g=l?e.memo(h):h;if(g.WrappedComponent=r,g.displayName=h.displayName=o,y){var v=e.forwardRef((function(t,r){return e.createElement(g,ye({},t,{reactReduxForwardedRef:r}))}));return v.displayName=o,v.WrappedComponent=r,Ne()(v,r)}return Ne()(g,r)}}function Ye(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function Xe(e,t){if(Ye(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var o=0;o<r.length;o++)if(!Object.prototype.hasOwnProperty.call(t,r[o])||!Ye(e[r[o]],t[r[o]]))return!1;return!0}function Ke(e){return function(t,r){var n=e(t,r);function o(){return n}return o.dependsOnOwnProps=!1,o}}function qe(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function $e(e,t){return function(t,r){r.displayName;var n=function(e,t){return n.dependsOnOwnProps?n.mapToProps(e,t):n.mapToProps(e)};return n.dependsOnOwnProps=!0,n.mapToProps=function(t,r){n.mapToProps=e,n.dependsOnOwnProps=qe(e);var o=n(t,r);return"function"===typeof o&&(n.mapToProps=o,n.dependsOnOwnProps=qe(o),o=n(t,r)),o},n}}var Ze=[function(e){return"function"===typeof e?$e(e):void 0},function(e){return e?void 0:Ke((function(e){return{dispatch:e}}))},function(e){return e&&"object"===typeof e?Ke((function(t){return function(e,t){var r={},n=function(n){var o=e[n];"function"===typeof o&&(r[n]=function(){return t(o.apply(void 0,arguments))})};for(var o in e)n(o);return r}(e,t)})):void 0}];var Qe=[function(e){return"function"===typeof e?$e(e):void 0},function(e){return e?void 0:Ke((function(){return{}}))}];function Je(e,t,r){return ye({},r,e,t)}var et=[function(e){return"function"===typeof e?function(e){return function(t,r){r.displayName;var n,o=r.pure,i=r.areMergedPropsEqual,a=!1;return function(t,r,s){var l=e(t,r,s);return a?o&&i(l,n)||(n=l):(a=!0,n=l),n}}}(e):void 0},function(e){return e?void 0:function(){return Je}}],tt=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function rt(e,t,r,n){return function(o,i){return r(e(o,i),t(n,i),i)}}function nt(e,t,r,n,o){var i,a,s,l,u,c=o.areStatesEqual,p=o.areOwnPropsEqual,d=o.areStatePropsEqual,h=!1;function f(o,h){var f=!p(h,a),g=!c(o,i);return i=o,a=h,f&&g?(s=e(i,a),t.dependsOnOwnProps&&(l=t(n,a)),u=r(s,l,a)):f?(e.dependsOnOwnProps&&(s=e(i,a)),t.dependsOnOwnProps&&(l=t(n,a)),u=r(s,l,a)):g?function(){var t=e(i,a),n=!d(t,s);return s=t,n&&(u=r(s,l,a)),u}():u}return function(o,c){return h?f(o,c):(s=e(i=o,a=c),l=t(n,a),u=r(s,l,a),h=!0,u)}}function ot(e,t){var r=t.initMapStateToProps,n=t.initMapDispatchToProps,o=t.initMergeProps,i=d(t,tt),a=r(e,i),s=n(e,i),l=o(e,i);return(i.pure?nt:rt)(a,s,l,e,i)}var it=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function at(e,t,r){for(var n=t.length-1;n>=0;n--){var o=t[n](e);if(o)return o}return function(t,n){throw new Error("Invalid value of type "+typeof e+" for "+r+" argument when connecting component "+n.wrappedComponentName+".")}}function st(e,t){return e===t}function lt(e){var t=void 0===e?{}:e,r=t.connectHOC,n=void 0===r?Ue:r,o=t.mapStateToPropsFactories,i=void 0===o?Qe:o,a=t.mapDispatchToPropsFactories,s=void 0===a?Ze:a,l=t.mergePropsFactories,u=void 0===l?et:l,c=t.selectorFactory,p=void 0===c?ot:c;return function(e,t,r,o){void 0===o&&(o={});var a=o,l=a.pure,c=void 0===l||l,h=a.areStatesEqual,f=void 0===h?st:h,g=a.areOwnPropsEqual,y=void 0===g?Xe:g,v=a.areStatePropsEqual,m=void 0===v?Xe:v,b=a.areMergedPropsEqual,C=void 0===b?Xe:b,w=d(a,it),x=at(e,i,"mapStateToProps"),S=at(t,s,"mapDispatchToProps"),E=at(r,u,"mergeProps");return n(p,ye({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:x,initMapDispatchToProps:S,initMergeProps:E,pure:c,areStatesEqual:f,areOwnPropsEqual:y,areStatePropsEqual:m,areMergedPropsEqual:C},w))}}var ut=lt();var ct,pt=r(4164);function dt(t,r){var n=(0,e.useState)((function(){return{inputs:r,result:t()}}))[0],o=(0,e.useRef)(!0),i=(0,e.useRef)(n),a=o.current||Boolean(r&&i.current.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}(r,i.current.inputs))?i.current:{inputs:r,result:t()};return(0,e.useEffect)((function(){o.current=!1,i.current=a}),[a]),a.result}ct=pt.unstable_batchedUpdates,Pe=ct;var ht=dt,ft=function(e,t){return dt((function(){return e}),t)},gt="Invariant failed";var yt=function(e){var t=e.top,r=e.right,n=e.bottom,o=e.left;return{top:t,right:r,bottom:n,left:o,width:r-o,height:n-t,x:o,y:t,center:{x:(r+o)/2,y:(n+t)/2}}},vt=function(e,t){return{top:e.top-t.top,left:e.left-t.left,bottom:e.bottom+t.bottom,right:e.right+t.right}},mt=function(e,t){return{top:e.top+t.top,left:e.left+t.left,bottom:e.bottom-t.bottom,right:e.right-t.right}},bt={top:0,right:0,bottom:0,left:0},Ct=function(e){var t=e.borderBox,r=e.margin,n=void 0===r?bt:r,o=e.border,i=void 0===o?bt:o,a=e.padding,s=void 0===a?bt:a,l=yt(vt(t,n)),u=yt(mt(t,i)),c=yt(mt(u,s));return{marginBox:l,borderBox:yt(t),paddingBox:u,contentBox:c,margin:n,border:i,padding:s}},wt=function(e){var t=e.slice(0,-2);if("px"!==e.slice(-2))return 0;var r=Number(t);return isNaN(r)&&function(e,t){if(!e)throw new Error(gt)}(!1),r},xt=function(e,t){var r,n,o=e.borderBox,i=e.border,a=e.margin,s=e.padding,l=(n=t,{top:(r=o).top+n.y,left:r.left+n.x,bottom:r.bottom+n.y,right:r.right+n.x});return Ct({borderBox:l,border:i,margin:a,padding:s})},St=function(e,t){return void 0===t&&(t={x:window.pageXOffset,y:window.pageYOffset}),xt(e,t)},Et=function(e,t){var r={top:wt(t.marginTop),right:wt(t.marginRight),bottom:wt(t.marginBottom),left:wt(t.marginLeft)},n={top:wt(t.paddingTop),right:wt(t.paddingRight),bottom:wt(t.paddingBottom),left:wt(t.paddingLeft)},o={top:wt(t.borderTopWidth),right:wt(t.borderRightWidth),bottom:wt(t.borderBottomWidth),left:wt(t.borderLeftWidth)};return Ct({borderBox:e,margin:r,padding:n,border:o})},Ot=function(e){var t=e.getBoundingClientRect(),r=window.getComputedStyle(e);return Et(t,r)},_t=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function Pt(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(n=e[r],o=t[r],!(n===o||_t(n)&&_t(o)))return!1;var n,o;return!0}var Rt=function(e,t){var r;void 0===t&&(t=Pt);var n,o=[],i=!1;return function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return i&&r===this&&t(a,o)||(n=e.apply(this,a),i=!0,r=this,o=a),n}},At=function(e){var t=[],r=null,n=function(){for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];t=o,r||(r=requestAnimationFrame((function(){r=null,e.apply(void 0,t)})))};return n.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},n};function Tt(e,t){}Tt.bind(null,"warn"),Tt.bind(null,"error");function Dt(){}function Mt(e,t,r){var n=t.map((function(t){var n=function(e,t){return ye({},e,{},t)}(r,t.options);return e.addEventListener(t.eventName,t.fn,n),function(){e.removeEventListener(t.eventName,t.fn,n)}}));return function(){n.forEach((function(e){e()}))}}var kt="Invariant failed";function Nt(e){this.message=e}function It(e,t){if(!e)throw new Nt(kt)}Nt.prototype.toString=function(){return this.message};var Lt=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).callbacks=null,t.unbind=Dt,t.onWindowError=function(e){var r=t.getCallbacks();r.isDragging()&&r.tryAbort(),e.error instanceof Nt&&e.preventDefault()},t.getCallbacks=function(){if(!t.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return t.callbacks},t.setCallbacks=function(e){t.callbacks=e},t}ge(t,e);var r=t.prototype;return r.componentDidMount=function(){this.unbind=Mt(window,[{eventName:"error",fn:this.onWindowError}])},r.componentDidCatch=function(e){if(!(e instanceof Nt))throw e;this.setState({})},r.componentWillUnmount=function(){this.unbind()},r.render=function(){return this.props.children(this.setCallbacks)},t}(e.Component),Ft=function(e){return e+1},Gt=function(e,t){var r=e.droppableId===t.droppableId,n=Ft(e.index),o=Ft(t.index);return r?"\n      You have moved the item from position "+n+"\n      to position "+o+"\n    ":"\n    You have moved the item from position "+n+"\n    in list "+e.droppableId+"\n    to list "+t.droppableId+"\n    in position "+o+"\n  "},Bt=function(e,t,r){return t.droppableId===r.droppableId?"\n      The item "+e+"\n      has been combined with "+r.draggableId:"\n      The item "+e+"\n      in list "+t.droppableId+"\n      has been combined with "+r.draggableId+"\n      in list "+r.droppableId+"\n    "},Wt=function(e){return"\n  The item has returned to its starting position\n  of "+Ft(e.index)+"\n"},Ht="\n  Press space bar to start a drag.\n  When dragging you can use the arrow keys to move the item around and escape to cancel.\n  Some screen readers may require you to be in focus mode or to use your pass through key\n",jt=function(e){return"\n  You have lifted an item in position "+Ft(e.source.index)+"\n"},Vt=function(e){var t=e.destination;if(t)return Gt(e.source,t);var r=e.combine;return r?Bt(e.draggableId,e.source,r):"You are over an area that cannot be dropped on"},zt=function(e){if("CANCEL"===e.reason)return"\n      Movement cancelled.\n      "+Wt(e.source)+"\n    ";var t=e.destination,r=e.combine;return t?"\n      You have dropped the item.\n      "+Gt(e.source,t)+"\n    ":r?"\n      You have dropped the item.\n      "+Bt(e.draggableId,e.source,r)+"\n    ":"\n    The item has been dropped while not over a drop area.\n    "+Wt(e.source)+"\n  "},Ut={x:0,y:0},Yt=function(e,t){return{x:e.x+t.x,y:e.y+t.y}},Xt=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},Kt=function(e,t){return e.x===t.x&&e.y===t.y},qt=function(e){return{x:0!==e.x?-e.x:0,y:0!==e.y?-e.y:0}},$t=function(e,t,r){var n;return void 0===r&&(r=0),(n={})[e]=t,n["x"===e?"y":"x"]=r,n},Zt=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},Qt=function(e,t){return Math.min.apply(Math,t.map((function(t){return Zt(e,t)})))},Jt=function(e){return function(t){return{x:e(t.x),y:e(t.y)}}},er=function(e,t){return{top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}},tr=function(e){return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}]},rr=function(e,t){return t&&t.shouldClipSubject?function(e,t){var r=yt({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return r.width<=0||r.height<=0?null:r}(t.pageMarginBox,e):yt(e)},nr=function(e){var t=e.page,r=e.withPlaceholder,n=e.axis,o=e.frame,i=function(e,t){return t?er(e,t.scroll.diff.displacement):e}(t.marginBox,o),a=function(e,t,r){var n;return r&&r.increasedBy?ye({},e,((n={})[t.end]=e[t.end]+r.increasedBy[t.line],n)):e}(i,n,r);return{page:t,withPlaceholder:r,active:rr(a,o)}},or=function(e,t){e.frame||It(!1);var r=e.frame,n=Xt(t,r.scroll.initial),o=qt(n),i=ye({},r,{scroll:{initial:r.scroll.initial,current:t,diff:{value:n,displacement:o},max:r.scroll.max}});return ye({},e,{frame:i,subject:nr({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:i})})};function ir(e){return Object.values?Object.values(e):Object.keys(e).map((function(t){return e[t]}))}function ar(e,t){if(e.findIndex)return e.findIndex(t);for(var r=0;r<e.length;r++)if(t(e[r]))return r;return-1}function sr(e,t){if(e.find)return e.find(t);var r=ar(e,t);return-1!==r?e[r]:void 0}function lr(e){return Array.prototype.slice.call(e)}var ur=Rt((function(e){return e.reduce((function(e,t){return e[t.descriptor.id]=t,e}),{})})),cr=Rt((function(e){return e.reduce((function(e,t){return e[t.descriptor.id]=t,e}),{})})),pr=Rt((function(e){return ir(e)})),dr=Rt((function(e){return ir(e)})),hr=Rt((function(e,t){var r=dr(t).filter((function(t){return e===t.descriptor.droppableId})).sort((function(e,t){return e.descriptor.index-t.descriptor.index}));return r}));function fr(e){return e.at&&"REORDER"===e.at.type?e.at.destination:null}function gr(e){return e.at&&"COMBINE"===e.at.type?e.at.combine:null}var yr=Rt((function(e,t){return t.filter((function(t){return t.descriptor.id!==e.descriptor.id}))})),vr=function(e,t){return e.descriptor.droppableId===t.descriptor.id},mr={point:Ut,value:0},br={invisible:{},visible:{},all:[]},Cr={displaced:br,displacedBy:mr,at:null},wr=function(e,t){return function(r){return e<=r&&r<=t}},xr=function(e){var t=wr(e.top,e.bottom),r=wr(e.left,e.right);return function(n){if(t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right))return!0;var o=t(n.top)||t(n.bottom),i=r(n.left)||r(n.right);if(o&&i)return!0;var a=n.top<e.top&&n.bottom>e.bottom,s=n.left<e.left&&n.right>e.right;return!(!a||!s)||(a&&i||s&&o)}},Sr=function(e){var t=wr(e.top,e.bottom),r=wr(e.left,e.right);return function(e){return t(e.top)&&t(e.bottom)&&r(e.left)&&r(e.right)}},Er={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},Or={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},_r=function(e){var t=e.target,r=e.destination,n=e.viewport,o=e.withDroppableDisplacement,i=e.isVisibleThroughFrameFn,a=o?function(e,t){var r=t.frame?t.frame.scroll.diff.displacement:Ut;return er(e,r)}(t,r):t;return function(e,t,r){return!!t.subject.active&&r(t.subject.active)(e)}(a,r,i)&&function(e,t,r){return r(t)(e)}(a,n,i)},Pr=function(e){return _r(ye({},e,{isVisibleThroughFrameFn:xr}))},Rr=function(e){return _r(ye({},e,{isVisibleThroughFrameFn:Sr}))};function Ar(e){var t=e.afterDragging,r=e.destination,n=e.displacedBy,o=e.viewport,i=e.forceShouldAnimate,a=e.last;return t.reduce((function(e,t){var s=function(e,t){var r=e.page.marginBox,n={top:t.point.y,right:0,bottom:0,left:t.point.x};return yt(vt(r,n))}(t,n),l=t.descriptor.id;if(e.all.push(l),!Pr({target:s,destination:r,viewport:o,withDroppableDisplacement:!0}))return e.invisible[t.descriptor.id]=!0,e;var u=function(e,t,r){if("boolean"===typeof r)return r;if(!t)return!0;var n=t.invisible,o=t.visible;if(n[e])return!1;var i=o[e];return!i||i.shouldAnimate}(l,a,i),c={draggableId:l,shouldAnimate:u};return e.visible[l]=c,e}),{all:[],visible:{},invisible:{}})}function Tr(e){var t=e.insideDestination,r=e.inHomeList,n=e.displacedBy,o=e.destination,i=function(e,t){if(!e.length)return 0;var r=e[e.length-1].descriptor.index;return t.inHomeList?r:r+1}(t,{inHomeList:r});return{displaced:br,displacedBy:n,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:i}}}}function Dr(e){var t=e.draggable,r=e.insideDestination,n=e.destination,o=e.viewport,i=e.displacedBy,a=e.last,s=e.index,l=e.forceShouldAnimate,u=vr(t,n);if(null==s)return Tr({insideDestination:r,inHomeList:u,displacedBy:i,destination:n});var c=sr(r,(function(e){return e.descriptor.index===s}));if(!c)return Tr({insideDestination:r,inHomeList:u,displacedBy:i,destination:n});var p=yr(t,r),d=r.indexOf(c);return{displaced:Ar({afterDragging:p.slice(d),destination:n,displacedBy:i,last:a,viewport:o.frame,forceShouldAnimate:l}),displacedBy:i,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:s}}}}function Mr(e,t){return Boolean(t.effected[e])}var kr=function(e){var t=e.isMovingForward,r=e.isInHomeList,n=e.draggable,o=e.draggables,i=e.destination,a=e.insideDestination,s=e.previousImpact,l=e.viewport,u=e.afterCritical,c=s.at;if(c||It(!1),"REORDER"===c.type){var p=function(e){var t=e.isMovingForward,r=e.isInHomeList,n=e.insideDestination,o=e.location;if(!n.length)return null;var i=o.index,a=t?i+1:i-1,s=n[0].descriptor.index,l=n[n.length-1].descriptor.index;return a<s||a>(r?l:l+1)?null:a}({isMovingForward:t,isInHomeList:r,location:c.destination,insideDestination:a});return null==p?null:Dr({draggable:n,insideDestination:a,destination:i,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:p})}var d=function(e){var t=e.isMovingForward,r=e.destination,n=e.draggables,o=e.combine,i=e.afterCritical;if(!r.isCombineEnabled)return null;var a=o.draggableId,s=n[a].descriptor.index;return Mr(a,i)?t?s:s-1:t?s+1:s}({isMovingForward:t,destination:i,displaced:s.displaced,draggables:o,combine:c.combine,afterCritical:u});return null==d?null:Dr({draggable:n,insideDestination:a,destination:i,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:d})},Nr=function(e){var t=e.afterCritical,r=e.impact,n=e.draggables,o=gr(r);o||It(!1);var i=o.draggableId,a=n[i].page.borderBox.center,s=function(e){var t=e.displaced,r=e.afterCritical,n=e.combineWith,o=e.displacedBy,i=Boolean(t.visible[n]||t.invisible[n]);return Mr(n,r)?i?Ut:qt(o.point):i?o.point:Ut}({displaced:r.displaced,afterCritical:t,combineWith:i,displacedBy:r.displacedBy});return Yt(a,s)},Ir=function(e,t){return t.margin[e.start]+t.borderBox[e.size]/2},Lr=function(e,t,r){return t[e.crossAxisStart]+r.margin[e.crossAxisStart]+r.borderBox[e.crossAxisSize]/2},Fr=function(e){var t=e.axis,r=e.moveRelativeTo,n=e.isMoving;return $t(t.line,r.marginBox[t.end]+Ir(t,n),Lr(t,r.marginBox,n))},Gr=function(e){var t=e.axis,r=e.moveRelativeTo,n=e.isMoving;return $t(t.line,r.marginBox[t.start]-function(e,t){return t.margin[e.end]+t.borderBox[e.size]/2}(t,n),Lr(t,r.marginBox,n))},Br=function(e){var t=e.impact,r=e.draggable,n=e.draggables,o=e.droppable,i=e.afterCritical,a=hr(o.descriptor.id,n),s=r.page,l=o.axis;if(!a.length)return function(e){var t=e.axis,r=e.moveInto,n=e.isMoving;return $t(t.line,r.contentBox[t.start]+Ir(t,n),Lr(t,r.contentBox,n))}({axis:l,moveInto:o.page,isMoving:s});var u=t.displaced,c=t.displacedBy,p=u.all[0];if(p){var d=n[p];if(Mr(p,i))return Gr({axis:l,moveRelativeTo:d.page,isMoving:s});var h=xt(d.page,c.point);return Gr({axis:l,moveRelativeTo:h,isMoving:s})}var f=a[a.length-1];if(f.descriptor.id===r.descriptor.id)return s.borderBox.center;if(Mr(f.descriptor.id,i)){var g=xt(f.page,qt(i.displacedBy.point));return Fr({axis:l,moveRelativeTo:g,isMoving:s})}return Fr({axis:l,moveRelativeTo:f.page,isMoving:s})},Wr=function(e,t){var r=e.frame;return r?Yt(t,r.scroll.diff.displacement):t},Hr=function(e){var t=function(e){var t=e.impact,r=e.draggable,n=e.droppable,o=e.draggables,i=e.afterCritical,a=r.page.borderBox.center,s=t.at;return n&&s?"REORDER"===s.type?Br({impact:t,draggable:r,draggables:o,droppable:n,afterCritical:i}):Nr({impact:t,draggables:o,afterCritical:i}):a}(e),r=e.droppable;return r?Wr(r,t):t},jr=function(e,t){var r=Xt(t,e.scroll.initial),n=qt(r);return{frame:yt({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:r,displacement:n}}}};function Vr(e,t){return e.map((function(e){return t[e]}))}var zr=function(e){var t=e.pageBorderBoxCenter,r=e.draggable,n=function(e,t){return Yt(e.scroll.diff.displacement,t)}(e.viewport,t),o=Xt(n,r.page.borderBox.center);return Yt(r.client.borderBox.center,o)},Ur=function(e){var t=e.draggable,r=e.destination,n=e.newPageBorderBoxCenter,o=e.viewport,i=e.withDroppableDisplacement,a=e.onlyOnMainAxis,s=void 0!==a&&a,l=Xt(n,t.page.borderBox.center),u={target:er(t.page.borderBox,l),destination:r,withDroppableDisplacement:i,viewport:o};return s?function(e){return _r(ye({},e,{isVisibleThroughFrameFn:(t=e.destination.axis,function(e){var r=wr(e.top,e.bottom),n=wr(e.left,e.right);return function(e){return t===Er?r(e.top)&&r(e.bottom):n(e.left)&&n(e.right)}})}));var t}(u):Rr(u)},Yr=function(e){var t=e.isMovingForward,r=e.draggable,n=e.destination,o=e.draggables,i=e.previousImpact,a=e.viewport,s=e.previousPageBorderBoxCenter,l=e.previousClientSelection,u=e.afterCritical;if(!n.isEnabled)return null;var c=hr(n.descriptor.id,o),p=vr(r,n),d=function(e){var t=e.isMovingForward,r=e.draggable,n=e.destination,o=e.insideDestination,i=e.previousImpact;if(!n.isCombineEnabled)return null;if(!fr(i))return null;function a(e){var t={type:"COMBINE",combine:{draggableId:e,droppableId:n.descriptor.id}};return ye({},i,{at:t})}var s=i.displaced.all,l=s.length?s[0]:null;if(t)return l?a(l):null;var u=yr(r,o);if(!l)return u.length?a(u[u.length-1].descriptor.id):null;var c=ar(u,(function(e){return e.descriptor.id===l}));-1===c&&It(!1);var p=c-1;return p<0?null:a(u[p].descriptor.id)}({isMovingForward:t,draggable:r,destination:n,insideDestination:c,previousImpact:i})||kr({isMovingForward:t,isInHomeList:p,draggable:r,draggables:o,destination:n,insideDestination:c,previousImpact:i,viewport:a,afterCritical:u});if(!d)return null;var h=Hr({impact:d,draggable:r,droppable:n,draggables:o,afterCritical:u});if(Ur({draggable:r,destination:n,newPageBorderBoxCenter:h,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:zr({pageBorderBoxCenter:h,draggable:r,viewport:a}),impact:d,scrollJumpRequest:null};var f=Xt(h,s),g=function(e){var t=e.impact,r=e.viewport,n=e.destination,o=e.draggables,i=e.maxScrollChange,a=jr(r,Yt(r.scroll.current,i)),s=n.frame?or(n,Yt(n.frame.scroll.current,i)):n,l=t.displaced,u=Ar({afterDragging:Vr(l.all,o),destination:n,displacedBy:t.displacedBy,viewport:a.frame,last:l,forceShouldAnimate:!1}),c=Ar({afterDragging:Vr(l.all,o),destination:s,displacedBy:t.displacedBy,viewport:r.frame,last:l,forceShouldAnimate:!1}),p={},d={},h=[l,u,c];return l.all.forEach((function(e){var t=function(e,t){for(var r=0;r<t.length;r++){var n=t[r].visible[e];if(n)return n}return null}(e,h);t?d[e]=t:p[e]=!0})),ye({},t,{displaced:{all:l.all,invisible:p,visible:d}})}({impact:d,viewport:a,destination:n,draggables:o,maxScrollChange:f});return{clientSelection:l,impact:g,scrollJumpRequest:f}},Xr=function(e){var t=e.subject.active;return t||It(!1),t},Kr=function(e,t){var r=e.page.borderBox.center;return Mr(e.descriptor.id,t)?Xt(r,t.displacedBy.point):r},qr=function(e,t){var r=e.page.borderBox;return Mr(e.descriptor.id,t)?er(r,qt(t.displacedBy.point)):r},$r=Rt((function(e,t){var r=t[e.line];return{value:r,point:$t(e.line,r)}})),Zr=function(e,t){return ye({},e,{scroll:ye({},e.scroll,{max:t})})},Qr=function(e,t,r){var n=e.frame;vr(t,e)&&It(!1),e.subject.withPlaceholder&&It(!1);var o=$r(e.axis,t.displaceBy).point,i=function(e,t,r){var n=e.axis;if("virtual"===e.descriptor.mode)return $t(n.line,t[n.line]);var o=e.subject.page.contentBox[n.size],i=hr(e.descriptor.id,r).reduce((function(e,t){return e+t.client.marginBox[n.size]}),0)+t[n.line]-o;return i<=0?null:$t(n.line,i)}(e,o,r),a={placeholderSize:o,increasedBy:i,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!n)return ye({},e,{subject:nr({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:e.frame})});var s=i?Yt(n.scroll.max,i):n.scroll.max,l=Zr(n,s);return ye({},e,{subject:nr({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:l}),frame:l})},Jr=function(e){var t=e.isMovingForward,r=e.previousPageBorderBoxCenter,n=e.draggable,o=e.isOver,i=e.draggables,a=e.droppables,s=e.viewport,l=e.afterCritical,u=function(e){var t=e.isMovingForward,r=e.pageBorderBoxCenter,n=e.source,o=e.droppables,i=e.viewport,a=n.subject.active;if(!a)return null;var s=n.axis,l=wr(a[s.start],a[s.end]),u=pr(o).filter((function(e){return e!==n})).filter((function(e){return e.isEnabled})).filter((function(e){return Boolean(e.subject.active)})).filter((function(e){return xr(i.frame)(Xr(e))})).filter((function(e){var r=Xr(e);return t?a[s.crossAxisEnd]<r[s.crossAxisEnd]:r[s.crossAxisStart]<a[s.crossAxisStart]})).filter((function(e){var t=Xr(e),r=wr(t[s.start],t[s.end]);return l(t[s.start])||l(t[s.end])||r(a[s.start])||r(a[s.end])})).sort((function(e,r){var n=Xr(e)[s.crossAxisStart],o=Xr(r)[s.crossAxisStart];return t?n-o:o-n})).filter((function(e,t,r){return Xr(e)[s.crossAxisStart]===Xr(r[0])[s.crossAxisStart]}));if(!u.length)return null;if(1===u.length)return u[0];var c=u.filter((function(e){return wr(Xr(e)[s.start],Xr(e)[s.end])(r[s.line])}));return 1===c.length?c[0]:c.length>1?c.sort((function(e,t){return Xr(e)[s.start]-Xr(t)[s.start]}))[0]:u.sort((function(e,t){var n=Qt(r,tr(Xr(e))),o=Qt(r,tr(Xr(t)));return n!==o?n-o:Xr(e)[s.start]-Xr(t)[s.start]}))[0]}({isMovingForward:t,pageBorderBoxCenter:r,source:o,droppables:a,viewport:s});if(!u)return null;var c=hr(u.descriptor.id,i),p=function(e){var t=e.pageBorderBoxCenter,r=e.viewport,n=e.destination,o=e.insideDestination,i=e.afterCritical,a=o.filter((function(e){return Rr({target:qr(e,i),destination:n,viewport:r.frame,withDroppableDisplacement:!0})})).sort((function(e,r){var o=Zt(t,Wr(n,Kr(e,i))),a=Zt(t,Wr(n,Kr(r,i)));return o<a?-1:a<o?1:e.descriptor.index-r.descriptor.index}));return a[0]||null}({pageBorderBoxCenter:r,viewport:s,destination:u,insideDestination:c,afterCritical:l}),d=function(e){var t=e.previousPageBorderBoxCenter,r=e.moveRelativeTo,n=e.insideDestination,o=e.draggable,i=e.draggables,a=e.destination,s=e.viewport,l=e.afterCritical;if(!r){if(n.length)return null;var u={displaced:br,displacedBy:mr,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:0}}},c=Hr({impact:u,draggable:o,droppable:a,draggables:i,afterCritical:l}),p=vr(o,a)?a:Qr(a,o,i);return Ur({draggable:o,destination:p,newPageBorderBoxCenter:c,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?u:null}var d=Boolean(t[a.axis.line]<=r.page.borderBox.center[a.axis.line]),h=function(){var e=r.descriptor.index;return r.descriptor.id===o.descriptor.id||d?e:e+1}(),f=$r(a.axis,o.displaceBy);return Dr({draggable:o,insideDestination:n,destination:a,viewport:s,displacedBy:f,last:br,index:h})}({previousPageBorderBoxCenter:r,destination:u,draggable:n,draggables:i,moveRelativeTo:p,insideDestination:c,viewport:s,afterCritical:l});if(!d)return null;var h=Hr({impact:d,draggable:n,droppable:u,draggables:i,afterCritical:l});return{clientSelection:zr({pageBorderBoxCenter:h,draggable:n,viewport:s}),impact:d,scrollJumpRequest:null}},en=function(e){var t=e.at;return t?"REORDER"===t.type?t.destination.droppableId:t.combine.droppableId:null},tn=function(e){var t=e.state,r=e.type,n=function(e,t){var r=en(e);return r?t[r]:null}(t.impact,t.dimensions.droppables),o=Boolean(n),i=t.dimensions.droppables[t.critical.droppable.id],a=n||i,s=a.axis.direction,l="vertical"===s&&("MOVE_UP"===r||"MOVE_DOWN"===r)||"horizontal"===s&&("MOVE_LEFT"===r||"MOVE_RIGHT"===r);if(l&&!o)return null;var u="MOVE_DOWN"===r||"MOVE_RIGHT"===r,c=t.dimensions.draggables[t.critical.draggable.id],p=t.current.page.borderBoxCenter,d=t.dimensions,h=d.draggables,f=d.droppables;return l?Yr({isMovingForward:u,previousPageBorderBoxCenter:p,draggable:c,destination:a,draggables:h,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):Jr({isMovingForward:u,previousPageBorderBoxCenter:p,draggable:c,isOver:a,draggables:h,droppables:f,viewport:t.viewport,afterCritical:t.afterCritical})};function rn(e){return"DRAGGING"===e.phase||"COLLECTING"===e.phase}function nn(e){var t=wr(e.top,e.bottom),r=wr(e.left,e.right);return function(e){return t(e.y)&&r(e.x)}}function on(e){var t=e.pageBorderBox,r=e.draggable,n=e.droppables,o=pr(n).filter((function(e){if(!e.isEnabled)return!1;var r,n,o=e.subject.active;if(!o)return!1;if(n=o,!((r=t).left<n.right&&r.right>n.left&&r.top<n.bottom&&r.bottom>n.top))return!1;if(nn(o)(t.center))return!0;var i=e.axis,a=o.center[i.crossAxisLine],s=t[i.crossAxisStart],l=t[i.crossAxisEnd],u=wr(o[i.crossAxisStart],o[i.crossAxisEnd]),c=u(s),p=u(l);return!c&&!p||(c?s<a:l>a)}));return o.length?1===o.length?o[0].descriptor.id:function(e){var t=e.pageBorderBox,r=e.draggable,n=e.candidates,o=r.page.borderBox.center,i=n.map((function(e){var r=e.axis,n=$t(e.axis.line,t.center[r.line],e.page.borderBox.center[r.crossAxisLine]);return{id:e.descriptor.id,distance:Zt(o,n)}})).sort((function(e,t){return t.distance-e.distance}));return i[0]?i[0].id:null}({pageBorderBox:t,draggable:r,candidates:o}):null}var an=function(e,t){return yt(er(e,t))};function sn(e){var t=e.displaced,r=e.id;return Boolean(t.visible[r]||t.invisible[r])}var ln=function(e){var t=e.pageOffset,r=e.draggable,n=e.draggables,o=e.droppables,i=e.previousImpact,a=e.viewport,s=e.afterCritical,l=an(r.page.borderBox,t),u=on({pageBorderBox:l,draggable:r,droppables:o});if(!u)return Cr;var c=o[u],p=hr(c.descriptor.id,n),d=function(e,t){var r=e.frame;return r?an(t,r.scroll.diff.value):t}(c,l);return function(e){var t=e.draggable,r=e.pageBorderBoxWithDroppableScroll,n=e.previousImpact,o=e.destination,i=e.insideDestination,a=e.afterCritical;if(!o.isCombineEnabled)return null;var s=o.axis,l=$r(o.axis,t.displaceBy),u=l.value,c=r[s.start],p=r[s.end],d=sr(yr(t,i),(function(e){var t=e.descriptor.id,r=e.page.borderBox,o=r[s.size]/4,i=Mr(t,a),l=sn({displaced:n.displaced,id:t});return i?l?p>r[s.start]+o&&p<r[s.end]-o:c>r[s.start]-u+o&&c<r[s.end]-u-o:l?p>r[s.start]+u+o&&p<r[s.end]+u-o:c>r[s.start]+o&&c<r[s.end]-o}));return d?{displacedBy:l,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:d.descriptor.id,droppableId:o.descriptor.id}}}:null}({pageBorderBoxWithDroppableScroll:d,draggable:r,previousImpact:i,destination:c,insideDestination:p,afterCritical:s})||function(e){var t=e.pageBorderBoxWithDroppableScroll,r=e.draggable,n=e.destination,o=e.insideDestination,i=e.last,a=e.viewport,s=e.afterCritical,l=n.axis,u=$r(n.axis,r.displaceBy),c=u.value,p=t[l.start],d=t[l.end],h=function(e){var t=e.draggable,r=e.closest,n=e.inHomeList;return r?n&&r.descriptor.index>t.descriptor.index?r.descriptor.index-1:r.descriptor.index:null}({draggable:r,closest:sr(yr(r,o),(function(e){var t=e.descriptor.id,r=e.page.borderBox.center[l.line],n=Mr(t,s),o=sn({displaced:i,id:t});return n?o?d<=r:p<r-c:o?d<=r+c:p<r})),inHomeList:vr(r,n)});return Dr({draggable:r,insideDestination:o,destination:n,viewport:a,last:i,displacedBy:u,index:h})}({pageBorderBoxWithDroppableScroll:d,draggable:r,destination:c,insideDestination:p,last:i.displaced,viewport:a,afterCritical:s})},un=function(e,t){var r;return ye({},e,((r={})[t.descriptor.id]=t,r))},cn=function(e){var t=e.previousImpact,r=e.impact,n=e.droppables,o=en(t),i=en(r);if(!o)return n;if(o===i)return n;var a=n[o];if(!a.subject.withPlaceholder)return n;var s=function(e){var t=e.subject.withPlaceholder;t||It(!1);var r=e.frame;if(!r)return ye({},e,{subject:nr({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null})});var n=t.oldFrameMaxScroll;n||It(!1);var o=Zr(r,n);return ye({},e,{subject:nr({page:e.subject.page,axis:e.axis,frame:o,withPlaceholder:null}),frame:o})}(a);return un(n,s)},pn=function(e){var t=e.state,r=e.clientSelection,n=e.dimensions,o=e.viewport,i=e.impact,a=e.scrollJumpRequest,s=o||t.viewport,l=n||t.dimensions,u=r||t.current.client.selection,c=Xt(u,t.initial.client.selection),p={offset:c,selection:u,borderBoxCenter:Yt(t.initial.client.borderBoxCenter,c)},d={selection:Yt(p.selection,s.scroll.current),borderBoxCenter:Yt(p.borderBoxCenter,s.scroll.current),offset:Yt(p.offset,s.scroll.diff.value)},h={client:p,page:d};if("COLLECTING"===t.phase)return ye({phase:"COLLECTING"},t,{dimensions:l,viewport:s,current:h});var f=l.draggables[t.critical.draggable.id],g=i||ln({pageOffset:d.offset,draggable:f,draggables:l.draggables,droppables:l.droppables,previousImpact:t.impact,viewport:s,afterCritical:t.afterCritical}),y=function(e){var t=e.draggable,r=e.draggables,n=e.droppables,o=e.previousImpact,i=e.impact,a=cn({previousImpact:o,impact:i,droppables:n}),s=en(i);if(!s)return a;var l=n[s];if(vr(t,l))return a;if(l.subject.withPlaceholder)return a;var u=Qr(l,t,r);return un(a,u)}({draggable:f,impact:g,previousImpact:t.impact,draggables:l.draggables,droppables:l.droppables});return ye({},t,{current:h,dimensions:{draggables:l.draggables,droppables:y},impact:g,viewport:s,scrollJumpRequest:a||null,forceShouldAnimate:!a&&null})};var dn=function(e){var t=e.impact,r=e.viewport,n=e.draggables,o=e.destination,i=e.forceShouldAnimate,a=t.displaced,s=function(e,t){return e.map((function(e){return t[e]}))}(a.all,n);return ye({},t,{displaced:Ar({afterDragging:s,destination:o,displacedBy:t.displacedBy,viewport:r.frame,forceShouldAnimate:i,last:a})})},hn=function(e){var t=e.impact,r=e.draggable,n=e.droppable,o=e.draggables,i=e.viewport,a=e.afterCritical,s=Hr({impact:t,draggable:r,draggables:o,droppable:n,afterCritical:a});return zr({pageBorderBoxCenter:s,draggable:r,viewport:i})},fn=function(e){var t=e.state,r=e.dimensions,n=e.viewport;"SNAP"!==t.movementMode&&It(!1);var o=t.impact,i=n||t.viewport,a=r||t.dimensions,s=a.draggables,l=a.droppables,u=s[t.critical.draggable.id],c=en(o);c||It(!1);var p=l[c],d=dn({impact:o,viewport:i,destination:p,draggables:s}),h=hn({impact:d,draggable:u,droppable:p,draggables:s,viewport:i,afterCritical:t.afterCritical});return pn({impact:d,clientSelection:h,state:t,dimensions:a,viewport:i})},gn=function(e){var t=e.draggable,r=e.home,n=e.draggables,o=e.viewport,i=$r(r.axis,t.displaceBy),a=hr(r.descriptor.id,n),s=a.indexOf(t);-1===s&&It(!1);var l,u=a.slice(s+1),c=u.reduce((function(e,t){return e[t.descriptor.id]=!0,e}),{}),p={inVirtualList:"virtual"===r.descriptor.mode,displacedBy:i,effected:c};return{impact:{displaced:Ar({afterDragging:u,destination:r,displacedBy:i,last:null,viewport:o.frame,forceShouldAnimate:!1}),displacedBy:i,at:{type:"REORDER",destination:(l=t.descriptor,{index:l.index,droppableId:l.droppableId})}},afterCritical:p}},yn=function(e){0},vn=function(e){0},mn=function(e){var t=e.additions,r=e.updatedDroppables,n=e.viewport,o=n.scroll.diff.value;return t.map((function(e){var t=e.descriptor.droppableId,i=function(e){var t=e.frame;return t||It(!1),t}(r[t]),a=i.scroll.diff.value,s=function(e){var t=e.draggable,r=e.offset,n=e.initialWindowScroll,o=xt(t.client,r),i=St(o,n);return ye({},t,{placeholder:ye({},t.placeholder,{client:o}),client:o,page:i})}({draggable:e,offset:Yt(o,a),initialWindowScroll:n.scroll.initial});return s}))},bn=function(e){return"SNAP"===e.movementMode},Cn=function(e,t,r){var n=function(e,t){return{draggables:e.draggables,droppables:un(e.droppables,t)}}(e.dimensions,t);return!bn(e)||r?pn({state:e,dimensions:n}):fn({state:e,dimensions:n})};function wn(e){return e.isDragging&&"SNAP"===e.movementMode?ye({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var xn={phase:"IDLE",completed:null,shouldFlush:!1},Sn=function(e,t){if(void 0===e&&(e=xn),"FLUSH"===t.type)return ye({},xn,{shouldFlush:!0});if("INITIAL_PUBLISH"===t.type){"IDLE"!==e.phase&&It(!1);var r=t.payload,n=r.critical,o=r.clientSelection,i=r.viewport,a=r.dimensions,s=r.movementMode,l=a.draggables[n.draggable.id],u=a.droppables[n.droppable.id],c={selection:o,borderBoxCenter:l.client.borderBox.center,offset:Ut},p={client:c,page:{selection:Yt(c.selection,i.scroll.initial),borderBoxCenter:Yt(c.selection,i.scroll.initial),offset:Yt(c.selection,i.scroll.diff.value)}},d=pr(a.droppables).every((function(e){return!e.isFixedOnPage})),h=gn({draggable:l,home:u,draggables:a.draggables,viewport:i}),f=h.impact;return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:s,dimensions:a,initial:p,current:p,isWindowScrollAllowed:d,impact:f,afterCritical:h.afterCritical,onLiftImpact:f,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if("COLLECTION_STARTING"===t.type)return"COLLECTING"===e.phase||"DROP_PENDING"===e.phase?e:("DRAGGING"!==e.phase&&It(!1),ye({phase:"COLLECTING"},e,{phase:"COLLECTING"}));if("PUBLISH_WHILE_DRAGGING"===t.type)return"COLLECTING"!==e.phase&&"DROP_PENDING"!==e.phase&&It(!1),function(e){var t=e.state,r=e.published;yn();var n=r.modified.map((function(e){var r=t.dimensions.droppables[e.droppableId];return or(r,e.scroll)})),o=ye({},t.dimensions.droppables,{},ur(n)),i=cr(mn({additions:r.additions,updatedDroppables:o,viewport:t.viewport})),a=ye({},t.dimensions.draggables,{},i);r.removals.forEach((function(e){delete a[e]}));var s={droppables:o,draggables:a},l=en(t.impact),u=l?s.droppables[l]:null,c=s.draggables[t.critical.draggable.id],p=s.droppables[t.critical.droppable.id],d=gn({draggable:c,home:p,draggables:a,viewport:t.viewport}),h=d.impact,f=d.afterCritical,g=u&&u.isCombineEnabled?t.impact:h,y=ln({pageOffset:t.current.page.offset,draggable:s.draggables[t.critical.draggable.id],draggables:s.draggables,droppables:s.droppables,previousImpact:g,viewport:t.viewport,afterCritical:f});vn();var v=ye({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:y,onLiftImpact:h,dimensions:s,afterCritical:f,forceShouldAnimate:!1});return"COLLECTING"===t.phase?v:ye({phase:"DROP_PENDING"},v,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1})}({state:e,published:t.payload});if("MOVE"===t.type){if("DROP_PENDING"===e.phase)return e;rn(e)||It(!1);var g=t.payload.client;return Kt(g,e.current.client.selection)?e:pn({state:e,clientSelection:g,impact:bn(e)?e.impact:null})}if("UPDATE_DROPPABLE_SCROLL"===t.type){if("DROP_PENDING"===e.phase)return wn(e);if("COLLECTING"===e.phase)return wn(e);rn(e)||It(!1);var y=t.payload,v=y.id,m=y.newScroll,b=e.dimensions.droppables[v];if(!b)return e;var C=or(b,m);return Cn(e,C,!1)}if("UPDATE_DROPPABLE_IS_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;rn(e)||It(!1);var w=t.payload,x=w.id,S=w.isEnabled,E=e.dimensions.droppables[x];E||It(!1),E.isEnabled===S&&It(!1);var O=ye({},E,{isEnabled:S});return Cn(e,O,!0)}if("UPDATE_DROPPABLE_IS_COMBINE_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;rn(e)||It(!1);var _=t.payload,P=_.id,R=_.isCombineEnabled,A=e.dimensions.droppables[P];A||It(!1),A.isCombineEnabled===R&&It(!1);var T=ye({},A,{isCombineEnabled:R});return Cn(e,T,!0)}if("MOVE_BY_WINDOW_SCROLL"===t.type){if("DROP_PENDING"===e.phase||"DROP_ANIMATING"===e.phase)return e;rn(e)||It(!1),e.isWindowScrollAllowed||It(!1);var D=t.payload.newScroll;if(Kt(e.viewport.scroll.current,D))return wn(e);var M=jr(e.viewport,D);return bn(e)?fn({state:e,viewport:M}):pn({state:e,viewport:M})}if("UPDATE_VIEWPORT_MAX_SCROLL"===t.type){if(!rn(e))return e;var k=t.payload.maxScroll;if(Kt(k,e.viewport.scroll.max))return e;var N=ye({},e.viewport,{scroll:ye({},e.viewport.scroll,{max:k})});return ye({phase:"DRAGGING"},e,{viewport:N})}if("MOVE_UP"===t.type||"MOVE_DOWN"===t.type||"MOVE_LEFT"===t.type||"MOVE_RIGHT"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;"DRAGGING"!==e.phase&&It(!1);var I=tn({state:e,type:t.type});return I?pn({state:e,impact:I.impact,clientSelection:I.clientSelection,scrollJumpRequest:I.scrollJumpRequest}):e}if("DROP_PENDING"===t.type){var L=t.payload.reason;return"COLLECTING"!==e.phase&&It(!1),ye({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:L})}if("DROP_ANIMATE"===t.type){var F=t.payload,G=F.completed,B=F.dropDuration,W=F.newHomeClientOffset;return"DRAGGING"!==e.phase&&"DROP_PENDING"!==e.phase&&It(!1),{phase:"DROP_ANIMATING",completed:G,dropDuration:B,newHomeClientOffset:W,dimensions:e.dimensions}}return"DROP_COMPLETE"===t.type?{phase:"IDLE",completed:t.payload.completed,shouldFlush:!1}:e},En=function(e){return{type:"PUBLISH_WHILE_DRAGGING",payload:e}},On=function(){return{type:"COLLECTION_STARTING",payload:null}},_n=function(e){return{type:"UPDATE_DROPPABLE_SCROLL",payload:e}},Pn=function(e){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}},Rn=function(e){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}},An=function(e){return{type:"MOVE",payload:e}},Tn=function(){return{type:"MOVE_UP",payload:null}},Dn=function(){return{type:"MOVE_DOWN",payload:null}},Mn=function(){return{type:"MOVE_RIGHT",payload:null}},kn=function(){return{type:"MOVE_LEFT",payload:null}},Nn=function(e){return{type:"DROP_COMPLETE",payload:e}},In=function(e){return{type:"DROP",payload:e}},Ln=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}};var Fn="cubic-bezier(.2,1,.1,1)",Gn={drop:0,combining:.7},Bn={drop:.75},Wn=.2+"s "+"cubic-bezier(0.2, 0, 0, 1)",Hn={fluid:"opacity "+Wn,snap:"transform "+Wn+", opacity "+Wn,drop:function(e){var t=e+"s "+Fn;return"transform "+t+", opacity "+t},outOfTheWay:"transform "+Wn,placeholder:"height "+Wn+", width "+Wn+", margin "+Wn},jn=function(e){return Kt(e,Ut)?null:"translate("+e.x+"px, "+e.y+"px)"},Vn=jn,zn=function(e,t){var r=jn(e);return r?t?r+" scale("+Bn.drop+")":r:null},Un=.33,Yn=.55,Xn=Yn-Un,Kn=function(e){var t=e.getState,r=e.dispatch;return function(e){return function(n){if("DROP"===n.type){var o=t(),i=n.payload.reason;if("COLLECTING"!==o.phase){if("IDLE"!==o.phase){"DROP_PENDING"===o.phase&&o.isWaiting&&It(!1),"DRAGGING"!==o.phase&&"DROP_PENDING"!==o.phase&&It(!1);var a=o.critical,s=o.dimensions,l=s.draggables[o.critical.draggable.id],u=function(e){var t=e.draggables,r=e.reason,n=e.lastImpact,o=e.home,i=e.viewport,a=e.onLiftImpact;return n.at&&"DROP"===r?"REORDER"===n.at.type?{impact:n,didDropInsideDroppable:!0}:{impact:ye({},n,{displaced:br}),didDropInsideDroppable:!0}:{impact:dn({draggables:t,impact:a,destination:o,viewport:i,forceShouldAnimate:!0}),didDropInsideDroppable:!1}}({reason:i,lastImpact:o.impact,afterCritical:o.afterCritical,onLiftImpact:o.onLiftImpact,home:o.dimensions.droppables[o.critical.droppable.id],viewport:o.viewport,draggables:o.dimensions.draggables}),c=u.impact,p=u.didDropInsideDroppable,d=p?fr(c):null,h=p?gr(c):null,f={index:a.draggable.index,droppableId:a.droppable.id},g={draggableId:l.descriptor.id,type:l.descriptor.type,source:f,reason:i,mode:o.movementMode,destination:d,combine:h},y=function(e){var t=e.impact,r=e.draggable,n=e.dimensions,o=e.viewport,i=e.afterCritical,a=n.draggables,s=n.droppables,l=en(t),u=l?s[l]:null,c=s[r.descriptor.droppableId],p=hn({impact:t,draggable:r,draggables:a,afterCritical:i,droppable:u||c,viewport:o});return Xt(p,r.client.borderBox.center)}({impact:c,draggable:l,dimensions:s,viewport:o.viewport,afterCritical:o.afterCritical}),v={critical:o.critical,afterCritical:o.afterCritical,result:g,impact:c};if(!Kt(o.current.client.offset,y)||Boolean(g.combine)){var m=function(e){var t=e.current,r=e.destination,n=e.reason,o=Zt(t,r);if(o<=0)return Un;if(o>=1500)return Yn;var i=Un+Xn*(o/1500);return Number(("CANCEL"===n?.6*i:i).toFixed(2))}({current:o.current.client.offset,destination:y,reason:i});r(function(e){return{type:"DROP_ANIMATE",payload:e}}({newHomeClientOffset:y,dropDuration:m,completed:v}))}else r(Nn({completed:v}))}}else r(function(e){return{type:"DROP_PENDING",payload:e}}({reason:i}))}else e(n)}}},qn=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function $n(e){var t=e.onWindowScroll;var r=At((function(){t(qn())})),n=function(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(t){t.target!==window&&t.target!==window.document||e()}}}(r),o=Dt;function i(){return o!==Dt}return{start:function(){i()&&It(!1),o=Mt(window,[n])},stop:function(){i()||It(!1),r.cancel(),o(),o=Dt},isActive:i}}var Zn=function(e){var t=$n({onWindowScroll:function(t){e.dispatch({type:"MOVE_BY_WINDOW_SCROLL",payload:{newScroll:t}})}});return function(e){return function(r){t.isActive()||"INITIAL_PUBLISH"!==r.type||t.start(),t.isActive()&&function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(r)&&t.stop(),e(r)}}},Qn=function(){var e=[];return{add:function(t){var r=setTimeout((function(){return function(t){var r=ar(e,(function(e){return e.timerId===t}));-1===r&&It(!1),e.splice(r,1)[0].callback()}(r)})),n={timerId:r,callback:t};e.push(n)},flush:function(){if(e.length){var t=[].concat(e);e.length=0,t.forEach((function(e){clearTimeout(e.timerId),e.callback()}))}}}},Jn=function(e,t){yn(),t(),vn()},eo=function(e,t){return{draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t}},to=function(e,t,r,n){if(e){var o=function(e){var t=!1,r=!1,n=setTimeout((function(){r=!0})),o=function(o){t||r||(t=!0,e(o),clearTimeout(n))};return o.wasCalled=function(){return t},o}(r);e(t,{announce:o}),o.wasCalled()||r(n(t))}else r(n(t))},ro=function(e,t){var r=function(e,t){var r=Qn(),n=null,o=function(r){n||It(!1),n=null,Jn(0,(function(){return to(e().onDragEnd,r,t,zt)}))};return{beforeCapture:function(t,r){n&&It(!1),Jn(0,(function(){var n=e().onBeforeCapture;n&&n({draggableId:t,mode:r})}))},beforeStart:function(t,r){n&&It(!1),Jn(0,(function(){var n=e().onBeforeDragStart;n&&n(eo(t,r))}))},start:function(o,i){n&&It(!1);var a=eo(o,i);n={mode:i,lastCritical:o,lastLocation:a.source,lastCombine:null},r.add((function(){Jn(0,(function(){return to(e().onDragStart,a,t,jt)}))}))},update:function(o,i){var a=fr(i),s=gr(i);n||It(!1);var l=!function(e,t){if(e===t)return!0;var r=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,n=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return r&&n}(o,n.lastCritical);l&&(n.lastCritical=o);var u,c,p=(c=a,!(null==(u=n.lastLocation)&&null==c||null!=u&&null!=c&&u.droppableId===c.droppableId&&u.index===c.index));p&&(n.lastLocation=a);var d=!function(e,t){return null==e&&null==t||null!=e&&null!=t&&e.draggableId===t.draggableId&&e.droppableId===t.droppableId}(n.lastCombine,s);if(d&&(n.lastCombine=s),l||p||d){var h=ye({},eo(o,n.mode),{combine:s,destination:a});r.add((function(){Jn(0,(function(){return to(e().onDragUpdate,h,t,Vt)}))}))}},flush:function(){n||It(!1),r.flush()},drop:o,abort:function(){if(n){var e=ye({},eo(n.lastCritical,n.mode),{combine:null,destination:null,reason:"CANCEL"});o(e)}}}}(e,t);return function(e){return function(t){return function(n){if("BEFORE_INITIAL_CAPTURE"!==n.type){if("INITIAL_PUBLISH"===n.type){var o=n.payload.critical;return r.beforeStart(o,n.payload.movementMode),t(n),void r.start(o,n.payload.movementMode)}if("DROP_COMPLETE"===n.type){var i=n.payload.completed.result;return r.flush(),t(n),void r.drop(i)}if(t(n),"FLUSH"!==n.type){var a=e.getState();"DRAGGING"===a.phase&&r.update(a.critical,a.impact)}else r.abort()}else r.beforeCapture(n.payload.draggableId,n.payload.movementMode)}}}},no=function(e){return function(t){return function(r){if("DROP_ANIMATION_FINISHED"===r.type){var n=e.getState();"DROP_ANIMATING"!==n.phase&&It(!1),e.dispatch(Nn({completed:n.completed}))}else t(r)}}},oo=function(e){var t=null,r=null;return function(n){return function(o){if("FLUSH"!==o.type&&"DROP_COMPLETE"!==o.type&&"DROP_ANIMATION_FINISHED"!==o.type||(r&&(cancelAnimationFrame(r),r=null),t&&(t(),t=null)),n(o),"DROP_ANIMATE"===o.type){var i={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){"DROP_ANIMATING"===e.getState().phase&&e.dispatch({type:"DROP_ANIMATION_FINISHED",payload:null})}};r=requestAnimationFrame((function(){r=null,t=Mt(window,[i])}))}}}},io=function(e){return function(t){return function(r){if(t(r),"PUBLISH_WHILE_DRAGGING"===r.type){var n=e.getState();"DROP_PENDING"===n.phase&&(n.isWaiting||e.dispatch(In({reason:n.reason})))}}}},ao=Oe,so=function(e){var t,r=e.dimensionMarshal,n=e.focusMarshal,o=e.styleMarshal,a=e.getResponders,s=e.announce,l=e.autoScroller;return xe(Sn,ao(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return function(){var r=e.apply(void 0,arguments),n=function(){throw new Error(ve(15))},o={getState:r.getState,dispatch:function(){return n.apply(void 0,arguments)}},a=t.map((function(e){return e(o)}));return n=Oe.apply(void 0,a)(r.dispatch),i(i({},r),{},{dispatch:n})}}}((t=o,function(){return function(e){return function(r){"INITIAL_PUBLISH"===r.type&&t.dragging(),"DROP_ANIMATE"===r.type&&t.dropping(r.payload.completed.result.reason),"FLUSH"!==r.type&&"DROP_COMPLETE"!==r.type||t.resting(),e(r)}}}),function(e){return function(){return function(t){return function(r){"DROP_COMPLETE"!==r.type&&"FLUSH"!==r.type&&"DROP_ANIMATE"!==r.type||e.stopPublishing(),t(r)}}}}(r),function(e){return function(t){var r=t.getState,n=t.dispatch;return function(t){return function(o){if("LIFT"===o.type){var i=o.payload,a=i.id,s=i.clientSelection,l=i.movementMode,u=r();"DROP_ANIMATING"===u.phase&&n(Nn({completed:u.completed})),"IDLE"!==r().phase&&It(!1),n({type:"FLUSH",payload:null}),n({type:"BEFORE_INITIAL_CAPTURE",payload:{draggableId:a,movementMode:l}});var c={draggableId:a,scrollOptions:{shouldPublishImmediately:"SNAP"===l}},p=e.startPublishing(c),d=p.critical,h=p.dimensions,f=p.viewport;n({type:"INITIAL_PUBLISH",payload:{critical:d,dimensions:h,clientSelection:s,movementMode:l,viewport:f}})}else t(o)}}}}(r),Kn,no,oo,io,function(e){return function(t){return function(r){return function(n){if(function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(n))return e.stop(),void r(n);if("INITIAL_PUBLISH"===n.type){r(n);var o=t.getState();return"DRAGGING"!==o.phase&&It(!1),void e.start(o)}r(n),e.scroll(t.getState())}}}}(l),Zn,function(e){var t=!1;return function(){return function(r){return function(n){if("INITIAL_PUBLISH"===n.type)return t=!0,e.tryRecordFocus(n.payload.critical.draggable.id),r(n),void e.tryRestoreFocusRecorded();if(r(n),t){if("FLUSH"===n.type)return t=!1,void e.tryRestoreFocusRecorded();if("DROP_COMPLETE"===n.type){t=!1;var o=n.payload.completed.result;o.combine&&e.tryShiftRecord(o.draggableId,o.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}}(n),ro(a,s))))};var lo=function(e){var t=e.scrollHeight,r=e.scrollWidth,n=e.height,o=e.width,i=Xt({x:r,y:t},{x:o,y:n});return{x:Math.max(0,i.x),y:Math.max(0,i.y)}},uo=function(){var e=document.documentElement;return e||It(!1),e},co=function(){var e=uo();return lo({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},po=function(e){var t=e.critical,r=e.scrollOptions,n=e.registry;yn();var o=function(){var e=qn(),t=co(),r=e.y,n=e.x,o=uo(),i=o.clientWidth,a=o.clientHeight;return{frame:yt({top:r,left:n,right:n+i,bottom:r+a}),scroll:{initial:e,current:e,max:t,diff:{value:Ut,displacement:Ut}}}}(),i=o.scroll.current,a=t.droppable,s=n.droppable.getAllByType(a.type).map((function(e){return e.callbacks.getDimensionAndWatchScroll(i,r)})),l=n.draggable.getAllByType(t.draggable.type).map((function(e){return e.getDimension(i)})),u={draggables:cr(l),droppables:ur(s)};return vn(),{dimensions:u,critical:t,viewport:o}};function ho(e,t,r){return r.descriptor.id!==t.id&&(r.descriptor.type===t.type&&"virtual"===e.droppable.getById(r.descriptor.droppableId).descriptor.mode)}var fo=function(e,t){var r=null,n=function(e){var t=e.registry,r=e.callbacks,n={additions:{},removals:{},modified:{}},o=null,i=function(){o||(r.collectionStarting(),o=requestAnimationFrame((function(){o=null,yn();var e=n,i=e.additions,a=e.removals,s=e.modified,l=Object.keys(i).map((function(e){return t.draggable.getById(e).getDimension(Ut)})).sort((function(e,t){return e.descriptor.index-t.descriptor.index})),u=Object.keys(s).map((function(e){return{droppableId:e,scroll:t.droppable.getById(e).callbacks.getScrollWhileDragging()}})),c={additions:l,removals:Object.keys(a),modified:u};n={additions:{},removals:{},modified:{}},vn(),r.publish(c)})))};return{add:function(e){var t=e.descriptor.id;n.additions[t]=e,n.modified[e.descriptor.droppableId]=!0,n.removals[t]&&delete n.removals[t],i()},remove:function(e){var t=e.descriptor;n.removals[t.id]=!0,n.modified[t.droppableId]=!0,n.additions[t.id]&&delete n.additions[t.id],i()},stop:function(){o&&(cancelAnimationFrame(o),o=null,n={additions:{},removals:{},modified:{}})}}}({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),o=function(t){r||It(!1);var o=r.critical.draggable;"ADDITION"===t.type&&ho(e,o,t.value)&&n.add(t.value),"REMOVAL"===t.type&&ho(e,o,t.value)&&n.remove(t.value)},i={updateDroppableIsEnabled:function(n,o){e.droppable.exists(n)||It(!1),r&&t.updateDroppableIsEnabled({id:n,isEnabled:o})},updateDroppableIsCombineEnabled:function(n,o){r&&(e.droppable.exists(n)||It(!1),t.updateDroppableIsCombineEnabled({id:n,isCombineEnabled:o}))},scrollDroppable:function(t,n){r&&e.droppable.getById(t).callbacks.scroll(n)},updateDroppableScroll:function(n,o){r&&(e.droppable.exists(n)||It(!1),t.updateDroppableScroll({id:n,newScroll:o}))},startPublishing:function(t){r&&It(!1);var n=e.draggable.getById(t.draggableId),i=e.droppable.getById(n.descriptor.droppableId),a={draggable:n.descriptor,droppable:i.descriptor},s=e.subscribe(o);return r={critical:a,unsubscribe:s},po({critical:a,registry:e,scrollOptions:t.scrollOptions})},stopPublishing:function(){if(r){n.stop();var t=r.critical.droppable;e.droppable.getAllByType(t.type).forEach((function(e){return e.callbacks.dragStopped()})),r.unsubscribe(),r=null}}};return i},go=function(e,t){return"IDLE"===e.phase||"DROP_ANIMATING"===e.phase&&(e.completed.result.draggableId!==t&&"DROP"===e.completed.result.reason)},yo=function(e){window.scrollBy(e.x,e.y)},vo=Rt((function(e){return pr(e).filter((function(e){return!!e.isEnabled&&!!e.frame}))})),mo=function(e){var t=e.center,r=e.destination,n=e.droppables;if(r){var o=n[r];return o.frame?o:null}var i=function(e,t){var r=sr(vo(t),(function(t){return t.frame||It(!1),nn(t.frame.pageMarginBox)(e)}));return r}(t,n);return i},bo=.25,Co=.05,wo=28,xo=function(e){return Math.pow(e,2)},So={stopDampeningAt:1200,accelerateAt:360},Eo=function(e){var t=e.startOfRange,r=e.endOfRange,n=e.current,o=r-t;return 0===o?0:(n-t)/o},Oo=So.accelerateAt,_o=So.stopDampeningAt,Po=function(e){var t=e.distanceToEdge,r=e.thresholds,n=e.dragStartTime,o=e.shouldUseTimeDampening,i=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return wo;if(e===t.startScrollingFrom)return 1;var r=Eo({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),n=wo*xo(1-r);return Math.ceil(n)}(t,r);return 0===i?0:o?Math.max(function(e,t){var r=t,n=_o,o=Date.now()-r;if(o>=_o)return e;if(o<Oo)return 1;var i=Eo({startOfRange:Oo,endOfRange:n,current:o}),a=e*xo(i);return Math.ceil(a)}(i,n),1):i},Ro=function(e){var t=e.container,r=e.distanceToEdges,n=e.dragStartTime,o=e.axis,i=e.shouldUseTimeDampening,a=function(e,t){return{startScrollingFrom:e[t.size]*bo,maxScrollValueAt:e[t.size]*Co}}(t,o);return r[o.end]<r[o.start]?Po({distanceToEdge:r[o.end],thresholds:a,dragStartTime:n,shouldUseTimeDampening:i}):-1*Po({distanceToEdge:r[o.start],thresholds:a,dragStartTime:n,shouldUseTimeDampening:i})},Ao=Jt((function(e){return 0===e?0:e})),To=function(e){var t=e.dragStartTime,r=e.container,n=e.subject,o=e.center,i=e.shouldUseTimeDampening,a={top:o.y-r.top,right:r.right-o.x,bottom:r.bottom-o.y,left:o.x-r.left},s=Ro({container:r,distanceToEdges:a,dragStartTime:t,axis:Er,shouldUseTimeDampening:i}),l=Ro({container:r,distanceToEdges:a,dragStartTime:t,axis:Or,shouldUseTimeDampening:i}),u=Ao({x:l,y:s});if(Kt(u,Ut))return null;var c=function(e){var t=e.container,r=e.subject,n=e.proposedScroll,o=r.height>t.height,i=r.width>t.width;return i||o?i&&o?null:{x:i?0:n.x,y:o?0:n.y}:n}({container:r,subject:n,proposedScroll:u});return c?Kt(c,Ut)?null:c:null},Do=Jt((function(e){return 0===e?0:e>0?1:-1})),Mo=function(){var e=function(e,t){return e<0?e:e>t?e-t:0};return function(t){var r=t.current,n=t.max,o=t.change,i=Yt(r,o),a={x:e(i.x,n.x),y:e(i.y,n.y)};return Kt(a,Ut)?null:a}}(),ko=function(e){var t=e.max,r=e.current,n=e.change,o={x:Math.max(r.x,t.x),y:Math.max(r.y,t.y)},i=Do(n),a=Mo({max:o,current:r,change:i});return!a||(0!==i.x&&0===a.x||0!==i.y&&0===a.y)},No=function(e,t){return ko({current:e.scroll.current,max:e.scroll.max,change:t})},Io=function(e,t){var r=e.frame;return!!r&&ko({current:r.scroll.current,max:r.scroll.max,change:t})},Lo=function(e){var t=e.state,r=e.dragStartTime,n=e.shouldUseTimeDampening,o=e.scrollWindow,i=e.scrollDroppable,a=t.current.page.borderBoxCenter,s=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){var l=function(e){var t=e.viewport,r=e.subject,n=e.center,o=e.dragStartTime,i=e.shouldUseTimeDampening,a=To({dragStartTime:o,container:t.frame,subject:r,center:n,shouldUseTimeDampening:i});return a&&No(t,a)?a:null}({dragStartTime:r,viewport:t.viewport,subject:s,center:a,shouldUseTimeDampening:n});if(l)return void o(l)}var u=mo({center:a,destination:en(t.impact),droppables:t.dimensions.droppables});if(u){var c=function(e){var t=e.droppable,r=e.subject,n=e.center,o=e.dragStartTime,i=e.shouldUseTimeDampening,a=t.frame;if(!a)return null;var s=To({dragStartTime:o,container:a.pageMarginBox,subject:r,center:n,shouldUseTimeDampening:i});return s&&Io(t,s)?s:null}({dragStartTime:r,droppable:u,subject:s,center:a,shouldUseTimeDampening:n});c&&i(u.descriptor.id,c)}},Fo=function(e){var t=e.move,r=e.scrollDroppable,n=e.scrollWindow,o=function(e,t){if(!Io(e,t))return t;var n=function(e,t){var r=e.frame;return r&&Io(e,t)?Mo({current:r.scroll.current,max:r.scroll.max,change:t}):null}(e,t);if(!n)return r(e.descriptor.id,t),null;var o=Xt(t,n);return r(e.descriptor.id,o),Xt(t,o)},i=function(e,t,r){if(!e)return r;if(!No(t,r))return r;var o=function(e,t){if(!No(e,t))return null;var r=e.scroll.max,n=e.scroll.current;return Mo({current:n,max:r,change:t})}(t,r);if(!o)return n(r),null;var i=Xt(r,o);return n(i),Xt(r,i)};return function(e){var r=e.scrollJumpRequest;if(r){var n=en(e.impact);n||It(!1);var a=o(e.dimensions.droppables[n],r);if(a){var s=e.viewport,l=i(e.isWindowScrollAllowed,s,a);l&&function(e,r){var n=Yt(e.current.client.selection,r);t({client:n})}(e,l)}}}},Go=function(e){var t=e.scrollDroppable,r=e.scrollWindow,n=e.move,o=function(e){var t=e.scrollWindow,r=e.scrollDroppable,n=At(t),o=At(r),i=null,a=function(e){i||It(!1);var t=i,r=t.shouldUseTimeDampening,a=t.dragStartTime;Lo({state:e,scrollWindow:n,scrollDroppable:o,dragStartTime:a,shouldUseTimeDampening:r})};return{start:function(e){yn(),i&&It(!1);var t=Date.now(),r=!1,n=function(){r=!0};Lo({state:e,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:n,scrollDroppable:n}),i={dragStartTime:t,shouldUseTimeDampening:r},vn(),r&&a(e)},stop:function(){i&&(n.cancel(),o.cancel(),i=null)},scroll:a}}({scrollWindow:r,scrollDroppable:t}),i=Fo({move:n,scrollWindow:r,scrollDroppable:t});return{scroll:function(e){"DRAGGING"===e.phase&&("FLUID"!==e.movementMode?e.scrollJumpRequest&&i(e):o.scroll(e))},start:o.start,stop:o.stop}},Bo=function(){var e="data-rbd-drag-handle";return{base:e,draggableId:e+"-draggable-id",contextId:e+"-context-id"}}(),Wo=function(){var e="data-rbd-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),Ho=function(){var e="data-rbd-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),jo={contextId:"data-rbd-scroll-container-context-id"},Vo=function(e,t){return e.map((function(e){var r=e.styles[t];return r?e.selector+" { "+r+" }":""})).join(" ")},zo="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?e.useLayoutEffect:e.useEffect,Uo=function(){var e=document.querySelector("head");return e||It(!1),e},Yo=function(e){var t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function Xo(t,r){var n=ht((function(){return function(e){var t,r=(t=e,function(e){return"["+e+'="'+t+'"]'}),n=function(){var e="\n      cursor: -webkit-grab;\n      cursor: grab;\n    ";return{selector:r(Bo.contextId),styles:{always:"\n          -webkit-touch-callout: none;\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\n          touch-action: manipulation;\n        ",resting:e,dragging:"pointer-events: none;",dropAnimating:e}}}(),o=[function(){var e="\n      transition: "+Hn.outOfTheWay+";\n    ";return{selector:r(Wo.contextId),styles:{dragging:e,dropAnimating:e,userCancel:e}}}(),n,{selector:r(Ho.contextId),styles:{always:"overflow-anchor: none;"}},{selector:"body",styles:{dragging:"\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n        user-select: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        overflow-anchor: none;\n      "}}];return{always:Vo(o,"always"),resting:Vo(o,"resting"),dragging:Vo(o,"dragging"),dropAnimating:Vo(o,"dropAnimating"),userCancel:Vo(o,"userCancel")}}(t)}),[t]),o=(0,e.useRef)(null),i=(0,e.useRef)(null),a=ft(Rt((function(e){var t=i.current;t||It(!1),t.textContent=e})),[]),s=ft((function(e){var t=o.current;t||It(!1),t.textContent=e}),[]);zo((function(){(o.current||i.current)&&It(!1);var e=Yo(r),l=Yo(r);return o.current=e,i.current=l,e.setAttribute("data-rbd-always",t),l.setAttribute("data-rbd-dynamic",t),Uo().appendChild(e),Uo().appendChild(l),s(n.always),a(n.resting),function(){var e=function(e){var t=e.current;t||It(!1),Uo().removeChild(t),e.current=null};e(o),e(i)}}),[r,s,a,n.always,n.resting,t]);var l=ft((function(){return a(n.dragging)}),[a,n.dragging]),u=ft((function(e){a("DROP"!==e?n.userCancel:n.dropAnimating)}),[a,n.dropAnimating,n.userCancel]),c=ft((function(){i.current&&a(n.resting)}),[a,n.resting]);return ht((function(){return{dragging:l,dropping:u,resting:c}}),[l,u,c])}var Ko=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function qo(e){return e instanceof Ko(e).HTMLElement}function $o(e,t){var r="["+Bo.contextId+'="'+e+'"]',n=lr(document.querySelectorAll(r));if(!n.length)return null;var o=sr(n,(function(e){return e.getAttribute(Bo.draggableId)===t}));return o&&qo(o)?o:null}function Zo(){var e={draggables:{},droppables:{}},t=[];function r(e){t.length&&t.forEach((function(t){return t(e)}))}function n(t){return e.draggables[t]||null}function o(t){return e.droppables[t]||null}return{draggable:{register:function(t){e.draggables[t.descriptor.id]=t,r({type:"ADDITION",value:t})},update:function(t,r){var n=e.draggables[r.descriptor.id];n&&n.uniqueId===t.uniqueId&&(delete e.draggables[r.descriptor.id],e.draggables[t.descriptor.id]=t)},unregister:function(t){var o=t.descriptor.id,i=n(o);i&&t.uniqueId===i.uniqueId&&(delete e.draggables[o],r({type:"REMOVAL",value:t}))},getById:function(e){var t=n(e);return t||It(!1),t},findById:n,exists:function(e){return Boolean(n(e))},getAllByType:function(t){return ir(e.draggables).filter((function(e){return e.descriptor.type===t}))}},droppable:{register:function(t){e.droppables[t.descriptor.id]=t},unregister:function(t){var r=o(t.descriptor.id);r&&t.uniqueId===r.uniqueId&&delete e.droppables[t.descriptor.id]},getById:function(e){var t=o(e);return t||It(!1),t},findById:o,exists:function(e){return Boolean(o(e))},getAllByType:function(t){return ir(e.droppables).filter((function(e){return e.descriptor.type===t}))}},subscribe:function(e){return t.push(e),function(){var r=t.indexOf(e);-1!==r&&t.splice(r,1)}},clean:function(){e.draggables={},e.droppables={},t.length=0}}}var Qo=e.createContext(null),Jo=function(){var e=document.body;return e||It(!1),e},ei={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"};var ti=0,ri={separator:"::"};function ni(e,t){return void 0===t&&(t=ri),ht((function(){return""+e+t.separator+ti++}),[t.separator,e])}var oi=e.createContext(null);function ii(e){0}function ai(e,t){ii()}function si(){ai()}function li(t){var r=(0,e.useRef)(t);return(0,e.useEffect)((function(){r.current=t})),r}var ui,ci=((ui={})[13]=!0,ui[9]=!0,ui),pi=function(e){ci[e.keyCode]&&e.preventDefault()},di=function(){var e="visibilitychange";return"undefined"===typeof document?e:sr([e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],(function(e){return"on"+e in document}))||e}();var hi,fi={type:"IDLE"};function gi(e){var t=e.cancel,r=e.completed,n=e.getPhase,o=e.setPhase;return[{eventName:"mousemove",fn:function(e){var t=e.button,r=e.clientX,i=e.clientY;if(0===t){var a={x:r,y:i},s=n();if("DRAGGING"===s.type)return e.preventDefault(),void s.actions.move(a);"PENDING"!==s.type&&It(!1);var l=s.point;if(u=l,c=a,Math.abs(c.x-u.x)>=5||Math.abs(c.y-u.y)>=5){var u,c;e.preventDefault();var p=s.actions.fluidLift(a);o({type:"DRAGGING",actions:p})}}}},{eventName:"mouseup",fn:function(e){var o=n();"DRAGGING"===o.type?(e.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),r()):t()}},{eventName:"mousedown",fn:function(e){"DRAGGING"===n().type&&e.preventDefault(),t()}},{eventName:"keydown",fn:function(e){if("PENDING"!==n().type)return 27===e.keyCode?(e.preventDefault(),void t()):void pi(e);t()}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){"PENDING"===n().type&&t()}},{eventName:"webkitmouseforcedown",fn:function(e){var r=n();"IDLE"===r.type&&It(!1),r.actions.shouldRespectForcePress()?t():e.preventDefault()}},{eventName:di,fn:t}]}function yi(){}var vi=((hi={})[34]=!0,hi[33]=!0,hi[36]=!0,hi[35]=!0,hi);function mi(e,t){function r(){t(),e.cancel()}return[{eventName:"keydown",fn:function(n){return 27===n.keyCode?(n.preventDefault(),void r()):32===n.keyCode?(n.preventDefault(),t(),void e.drop()):40===n.keyCode?(n.preventDefault(),void e.moveDown()):38===n.keyCode?(n.preventDefault(),void e.moveUp()):39===n.keyCode?(n.preventDefault(),void e.moveRight()):37===n.keyCode?(n.preventDefault(),void e.moveLeft()):void(vi[n.keyCode]?n.preventDefault():pi(n))}},{eventName:"mousedown",fn:r},{eventName:"mouseup",fn:r},{eventName:"click",fn:r},{eventName:"touchstart",fn:r},{eventName:"resize",fn:r},{eventName:"wheel",fn:r,options:{passive:!0}},{eventName:di,fn:r}]}var bi={type:"IDLE"};var Ci={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function wi(e,t){if(null==t)return!1;if(Boolean(Ci[t.tagName.toLowerCase()]))return!0;var r=t.getAttribute("contenteditable");return"true"===r||""===r||t!==e&&wi(e,t.parentElement)}function xi(e,t){var r=t.target;return!!qo(r)&&wi(e,r)}var Si=function(e){return yt(e.getBoundingClientRect()).center};var Ei=function(){var e="matches";return"undefined"===typeof document?e:sr([e,"msMatchesSelector","webkitMatchesSelector"],(function(e){return e in Element.prototype}))||e}();function Oi(e,t){return null==e?null:e[Ei](t)?e:Oi(e.parentElement,t)}function _i(e,t){return e.closest?e.closest(t):Oi(e,t)}function Pi(e,t){var r,n=t.target;if(!((r=n)instanceof Ko(r).Element))return null;var o=function(e){return"["+Bo.contextId+'="'+e+'"]'}(e),i=_i(n,o);return i&&qo(i)?i:null}function Ri(e){e.preventDefault()}function Ai(e){var t=e.expected,r=e.phase,n=e.isLockActive;e.shouldWarn;return!!n()&&t===r}function Ti(e){var t=e.lockAPI,r=e.store,n=e.registry,o=e.draggableId;if(t.isClaimed())return!1;var i=n.draggable.findById(o);return!!i&&(!!i.options.isEnabled&&!!go(r.getState(),o))}function Di(e){var t=e.lockAPI,r=e.contextId,n=e.store,o=e.registry,i=e.draggableId,a=e.forceSensorStop,s=e.sourceEvent;if(!Ti({lockAPI:t,store:n,registry:o,draggableId:i}))return null;var l=o.draggable.getById(i),u=function(e,t){var r="["+Wo.contextId+'="'+e+'"]',n=sr(lr(document.querySelectorAll(r)),(function(e){return e.getAttribute(Wo.id)===t}));return n&&qo(n)?n:null}(r,l.descriptor.id);if(!u)return null;if(s&&!l.options.canDragInteractiveElements&&xi(u,s))return null;var c=t.claim(a||Dt),p="PRE_DRAG";function d(){return l.options.shouldRespectForcePress}function h(){return t.isActive(c)}var f=function(e,t){Ai({expected:e,phase:p,isLockActive:h,shouldWarn:!0})&&n.dispatch(t())}.bind(null,"DRAGGING");function g(e){function r(){t.release(),p="COMPLETED"}function o(t,o){if(void 0===o&&(o={shouldBlockNextClick:!1}),e.cleanup(),o.shouldBlockNextClick){var i=Mt(window,[{eventName:"click",fn:Ri,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(i)}r(),n.dispatch(In({reason:t}))}return"PRE_DRAG"!==p&&(r(),"PRE_DRAG"!==p&&It(!1)),n.dispatch(function(e){return{type:"LIFT",payload:e}}(e.liftActionArgs)),p="DRAGGING",ye({isActive:function(){return Ai({expected:"DRAGGING",phase:p,isLockActive:h,shouldWarn:!1})},shouldRespectForcePress:d,drop:function(e){return o("DROP",e)},cancel:function(e){return o("CANCEL",e)}},e.actions)}var y={isActive:function(){return Ai({expected:"PRE_DRAG",phase:p,isLockActive:h,shouldWarn:!1})},shouldRespectForcePress:d,fluidLift:function(e){var t=At((function(e){f((function(){return An({client:e})}))}));return ye({},g({liftActionArgs:{id:i,clientSelection:e,movementMode:"FLUID"},cleanup:function(){return t.cancel()},actions:{move:t}}),{move:t})},snapLift:function(){var e={moveUp:function(){return f(Tn)},moveRight:function(){return f(Mn)},moveDown:function(){return f(Dn)},moveLeft:function(){return f(kn)}};return g({liftActionArgs:{id:i,clientSelection:Si(u),movementMode:"SNAP"},cleanup:Dt,actions:e})},abort:function(){Ai({expected:"PRE_DRAG",phase:p,isLockActive:h,shouldWarn:!0})&&t.release()}};return y}var Mi=[function(t){var r=(0,e.useRef)(fi),n=(0,e.useRef)(Dt),o=ht((function(){return{eventName:"mousedown",fn:function(e){if(!e.defaultPrevented&&0===e.button&&!(e.ctrlKey||e.metaKey||e.shiftKey||e.altKey)){var r=t.findClosestDraggableId(e);if(r){var o=t.tryGetLock(r,s,{sourceEvent:e});if(o){e.preventDefault();var i={x:e.clientX,y:e.clientY};n.current(),c(o,i)}}}}}}),[t]),i=ht((function(){return{eventName:"webkitmouseforcewillbegin",fn:function(e){if(!e.defaultPrevented){var r=t.findClosestDraggableId(e);if(r){var n=t.findOptionsForDraggable(r);n&&(n.shouldRespectForcePress||t.canGetLock(r)&&e.preventDefault())}}}}}),[t]),a=ft((function(){n.current=Mt(window,[i,o],{passive:!1,capture:!0})}),[i,o]),s=ft((function(){"IDLE"!==r.current.type&&(r.current=fi,n.current(),a())}),[a]),l=ft((function(){var e=r.current;s(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[s]),u=ft((function(){var e=gi({cancel:l,completed:s,getPhase:function(){return r.current},setPhase:function(e){r.current=e}});n.current=Mt(window,e,{capture:!0,passive:!1})}),[l,s]),c=ft((function(e,t){"IDLE"!==r.current.type&&It(!1),r.current={type:"PENDING",point:t,actions:e},u()}),[u]);zo((function(){return a(),function(){n.current()}}),[a])},function(t){var r=(0,e.useRef)(yi),n=ht((function(){return{eventName:"keydown",fn:function(e){if(!e.defaultPrevented&&32===e.keyCode){var n=t.findClosestDraggableId(e);if(n){var i=t.tryGetLock(n,l,{sourceEvent:e});if(i){e.preventDefault();var a=!0,s=i.snapLift();r.current(),r.current=Mt(window,mi(s,l),{capture:!0,passive:!1})}}}function l(){a||It(!1),a=!1,r.current(),o()}}}}),[t]),o=ft((function(){r.current=Mt(window,[n],{passive:!1,capture:!0})}),[n]);zo((function(){return o(),function(){r.current()}}),[o])},function(t){var r=(0,e.useRef)(bi),n=(0,e.useRef)(Dt),o=ft((function(){return r.current}),[]),i=ft((function(e){r.current=e}),[]),a=ht((function(){return{eventName:"touchstart",fn:function(e){if(!e.defaultPrevented){var r=t.findClosestDraggableId(e);if(r){var o=t.tryGetLock(r,l,{sourceEvent:e});if(o){var i=e.touches[0],a={x:i.clientX,y:i.clientY};n.current(),d(o,a)}}}}}}),[t]),s=ft((function(){n.current=Mt(window,[a],{capture:!0,passive:!1})}),[a]),l=ft((function(){var e=r.current;"IDLE"!==e.type&&("PENDING"===e.type&&clearTimeout(e.longPressTimerId),i(bi),n.current(),s())}),[s,i]),u=ft((function(){var e=r.current;l(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[l]),c=ft((function(){var e={capture:!0,passive:!1},t={cancel:u,completed:l,getPhase:o},r=Mt(window,function(e){var t=e.cancel,r=e.completed,n=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(e){var r=n();if("DRAGGING"===r.type){r.hasMoved=!0;var o=e.touches[0],i={x:o.clientX,y:o.clientY};e.preventDefault(),r.actions.move(i)}else t()}},{eventName:"touchend",fn:function(e){var o=n();"DRAGGING"===o.type?(e.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),r()):t()}},{eventName:"touchcancel",fn:function(e){"DRAGGING"===n().type?(e.preventDefault(),t()):t()}},{eventName:"touchforcechange",fn:function(e){var r=n();"IDLE"===r.type&&It(!1);var o=e.touches[0];if(o&&o.force>=.15){var i=r.actions.shouldRespectForcePress();if("PENDING"!==r.type)return i?r.hasMoved?void e.preventDefault():void t():void e.preventDefault();i&&t()}}},{eventName:di,fn:t}]}(t),e),i=Mt(window,function(e){var t=e.cancel,r=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(e){e.preventDefault()}},{eventName:"keydown",fn:function(e){"DRAGGING"===r().type?(27===e.keyCode&&e.preventDefault(),t()):t()}},{eventName:di,fn:t}]}(t),e);n.current=function(){r(),i()}}),[u,o,l]),p=ft((function(){var e=o();"PENDING"!==e.type&&It(!1);var t=e.actions.fluidLift(e.point);i({type:"DRAGGING",actions:t,hasMoved:!1})}),[o,i]),d=ft((function(e,t){"IDLE"!==o().type&&It(!1);var r=setTimeout(p,120);i({type:"PENDING",point:t,actions:e,longPressTimerId:r}),c()}),[c,o,i,p]);zo((function(){return s(),function(){n.current();var e=o();"PENDING"===e.type&&(clearTimeout(e.longPressTimerId),i(bi))}}),[o,s,i]),zo((function(){return Mt(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}])}),[])}];function ki(t){var r=t.contextId,n=t.store,o=t.registry,i=t.customSensors,a=t.enableDefaultSensors,s=[].concat(a?Mi:[],i||[]),l=(0,e.useState)((function(){return function(){var e=null;function t(){e||It(!1),e=null}return{isClaimed:function(){return Boolean(e)},isActive:function(t){return t===e},claim:function(t){e&&It(!1);var r={abandon:t};return e=r,r},release:t,tryAbandon:function(){e&&(e.abandon(),t())}}}()}))[0],u=ft((function(e,t){e.isDragging&&!t.isDragging&&l.tryAbandon()}),[l]);zo((function(){var e=n.getState();return n.subscribe((function(){var t=n.getState();u(e,t),e=t}))}),[l,n,u]),zo((function(){return l.tryAbandon}),[l.tryAbandon]);var c=ft((function(e){return Ti({lockAPI:l,registry:o,store:n,draggableId:e})}),[l,o,n]),p=ft((function(e,t,i){return Di({lockAPI:l,registry:o,contextId:r,store:n,draggableId:e,forceSensorStop:t,sourceEvent:i&&i.sourceEvent?i.sourceEvent:null})}),[r,l,o,n]),d=ft((function(e){return function(e,t){var r=Pi(e,t);return r?r.getAttribute(Bo.draggableId):null}(r,e)}),[r]),h=ft((function(e){var t=o.draggable.findById(e);return t?t.options:null}),[o.draggable]),f=ft((function(){l.isClaimed()&&(l.tryAbandon(),"IDLE"!==n.getState().phase&&n.dispatch({type:"FLUSH",payload:null}))}),[l,n]),g=ft(l.isClaimed,[l]),y=ht((function(){return{canGetLock:c,tryGetLock:p,findClosestDraggableId:d,findOptionsForDraggable:h,tryReleaseLock:f,isLockClaimed:g}}),[c,p,d,h,f,g]);ii();for(var v=0;v<s.length;v++)s[v](y)}function Ni(e){return e.current||It(!1),e.current}function Ii(t){var r=t.contextId,n=t.setCallbacks,o=t.sensors,i=t.nonce,a=t.dragHandleUsageInstructions,s=(0,e.useRef)(null);si();var l=li(t),u=ft((function(){return function(e){return{onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}}(l.current)}),[l]),c=function(t){var r=ht((function(){return function(e){return"rbd-announcement-"+e}(t)}),[t]),n=(0,e.useRef)(null);return(0,e.useEffect)((function(){var e=document.createElement("div");return n.current=e,e.id=r,e.setAttribute("aria-live","assertive"),e.setAttribute("aria-atomic","true"),ye(e.style,ei),Jo().appendChild(e),function(){setTimeout((function(){var t=Jo();t.contains(e)&&t.removeChild(e),e===n.current&&(n.current=null)}))}}),[r]),ft((function(e){var t=n.current;t&&(t.textContent=e)}),[])}(r),p=function(t){var r=t.contextId,n=t.text,o=ni("hidden-text",{separator:"-"}),i=ht((function(){return"rbd-hidden-text-"+(e={contextId:r,uniqueId:o}).contextId+"-"+e.uniqueId;var e}),[o,r]);return(0,e.useEffect)((function(){var e=document.createElement("div");return e.id=i,e.textContent=n,e.style.display="none",Jo().appendChild(e),function(){var t=Jo();t.contains(e)&&t.removeChild(e)}}),[i,n]),i}({contextId:r,text:a}),d=Xo(r,i),h=ft((function(e){Ni(s).dispatch(e)}),[]),f=ht((function(){return Ee({publishWhileDragging:En,updateDroppableScroll:_n,updateDroppableIsEnabled:Pn,updateDroppableIsCombineEnabled:Rn,collectionStarting:On},h)}),[h]),g=function(){var t=ht(Zo,[]);return(0,e.useEffect)((function(){return function(){requestAnimationFrame(t.clean)}}),[t]),t}(),y=ht((function(){return fo(g,f)}),[g,f]),v=ht((function(){return Go(ye({scrollWindow:yo,scrollDroppable:y.scrollDroppable},Ee({move:An},h)))}),[y.scrollDroppable,h]),m=function(t){var r=(0,e.useRef)({}),n=(0,e.useRef)(null),o=(0,e.useRef)(null),i=(0,e.useRef)(!1),a=ft((function(e,t){var n={id:e,focus:t};return r.current[e]=n,function(){var t=r.current;t[e]!==n&&delete t[e]}}),[]),s=ft((function(e){var r=$o(t,e);r&&r!==document.activeElement&&r.focus()}),[t]),l=ft((function(e,t){n.current===e&&(n.current=t)}),[]),u=ft((function(){o.current||i.current&&(o.current=requestAnimationFrame((function(){o.current=null;var e=n.current;e&&s(e)})))}),[s]),c=ft((function(e){n.current=null;var t=document.activeElement;t&&t.getAttribute(Bo.draggableId)===e&&(n.current=e)}),[]);return zo((function(){return i.current=!0,function(){i.current=!1;var e=o.current;e&&cancelAnimationFrame(e)}}),[]),ht((function(){return{register:a,tryRecordFocus:c,tryRestoreFocusRecorded:u,tryShiftRecord:l}}),[a,c,u,l])}(r),b=ht((function(){return so({announce:c,autoScroller:v,dimensionMarshal:y,focusMarshal:m,getResponders:u,styleMarshal:d})}),[c,v,y,m,u,d]);s.current=b;var C=ft((function(){var e=Ni(s);"IDLE"!==e.getState().phase&&e.dispatch({type:"FLUSH",payload:null})}),[]),w=ft((function(){var e=Ni(s).getState();return e.isDragging||"DROP_ANIMATING"===e.phase}),[]);n(ht((function(){return{isDragging:w,tryAbort:C}}),[w,C]));var x=ft((function(e){return go(Ni(s).getState(),e)}),[]),S=ft((function(){return rn(Ni(s).getState())}),[]),E=ht((function(){return{marshal:y,focus:m,contextId:r,canLift:x,isMovementAllowed:S,dragHandleUsageInstructionsId:p,registry:g}}),[r,y,p,m,x,S,g]);return ki({contextId:r,store:b,registry:g,customSensors:o,enableDefaultSensors:!1!==t.enableDefaultSensors}),(0,e.useEffect)((function(){return C}),[C]),e.createElement(oi.Provider,{value:E},e.createElement(Me,{context:Qo,store:b},t.children))}var Li=0;function Fi(t){var r=ht((function(){return""+Li++}),[]),n=t.dragHandleUsageInstructions||Ht;return e.createElement(Lt,null,(function(o){return e.createElement(Ii,{nonce:t.nonce,contextId:r,setCallbacks:o,dragHandleUsageInstructions:n,enableDefaultSensors:t.enableDefaultSensors,sensors:t.sensors,onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragUpdate:t.onDragUpdate,onDragEnd:t.onDragEnd},t.children)}))}var Gi=function(e){return function(t){return e===t}},Bi=Gi("scroll"),Wi=Gi("auto"),Hi=(Gi("visible"),function(e,t){return t(e.overflowX)||t(e.overflowY)}),ji=function(e){var t=window.getComputedStyle(e),r={overflowX:t.overflowX,overflowY:t.overflowY};return Hi(r,Bi)||Hi(r,Wi)},Vi=function e(t){return null==t||t===document.body||t===document.documentElement?null:ji(t)?t:e(t.parentElement)},zi=function(e){return{x:e.scrollLeft,y:e.scrollTop}},Ui=function e(t){return!!t&&("fixed"===window.getComputedStyle(t).position||e(t.parentElement))},Yi=function(e){return{closestScrollable:Vi(e),isFixedOnPage:Ui(e)}},Xi=function(e){var t=e.ref,r=e.descriptor,n=e.env,o=e.windowScroll,i=e.direction,a=e.isDropDisabled,s=e.isCombineEnabled,l=e.shouldClipSubject,u=n.closestScrollable,c=function(e,t){var r=Ot(e);if(!t)return r;if(e!==t)return r;var n=r.paddingBox.top-t.scrollTop,o=r.paddingBox.left-t.scrollLeft,i=n+t.scrollHeight,a=o+t.scrollWidth,s=vt({top:n,right:a,bottom:i,left:o},r.border);return Ct({borderBox:s,margin:r.margin,border:r.border,padding:r.padding})}(t,u),p=St(c,o),d=function(){if(!u)return null;var e=Ot(u),t={scrollHeight:u.scrollHeight,scrollWidth:u.scrollWidth};return{client:e,page:St(e,o),scroll:zi(u),scrollSize:t,shouldClipSubject:l}}(),h=function(e){var t=e.descriptor,r=e.isEnabled,n=e.isCombineEnabled,o=e.isFixedOnPage,i=e.direction,a=e.client,s=e.page,l=e.closest,u=function(){if(!l)return null;var e=l.scrollSize,t=l.client,r=lo({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,height:t.paddingBox.height,width:t.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:t,scrollSize:e,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:r,diff:{value:Ut,displacement:Ut}}}}(),c="vertical"===i?Er:Or;return{descriptor:t,isCombineEnabled:n,isFixedOnPage:o,axis:c,isEnabled:r,client:a,page:s,frame:u,subject:nr({page:s,withPlaceholder:null,axis:c,frame:u})}}({descriptor:r,isEnabled:!a,isCombineEnabled:s,isFixedOnPage:n.isFixedOnPage,direction:i,client:c,page:p,closest:d});return h},Ki={passive:!1},qi={passive:!0},$i=function(e){return e.shouldPublishImmediately?Ki:qi};function Zi(t){var r=(0,e.useContext)(t);return r||It(!1),r}var Qi=function(e){return e&&e.env.closestScrollable||null};function Ji(){}var ea={width:0,height:0,margin:{top:0,right:0,bottom:0,left:0}},ta=function(e){var t=e.isAnimatingOpenOnMount,r=e.placeholder,n=e.animate,o=function(e){var t=e.isAnimatingOpenOnMount,r=e.placeholder,n=e.animate;return t||"close"===n?ea:{height:r.client.borderBox.height,width:r.client.borderBox.width,margin:r.client.margin}}({isAnimatingOpenOnMount:t,placeholder:r,animate:n});return{display:r.display,boxSizing:"border-box",width:o.width,height:o.height,marginTop:o.margin.top,marginRight:o.margin.right,marginBottom:o.margin.bottom,marginLeft:o.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:"none"!==n?Hn.placeholder:null}};var ra=e.memo((function(t){var r=(0,e.useRef)(null),n=ft((function(){r.current&&(clearTimeout(r.current),r.current=null)}),[]),o=t.animate,i=t.onTransitionEnd,a=t.onClose,s=t.contextId,l=(0,e.useState)("open"===t.animate),u=l[0],c=l[1];(0,e.useEffect)((function(){return u?"open"!==o?(n(),c(!1),Ji):r.current?Ji:(r.current=setTimeout((function(){r.current=null,c(!1)})),n):Ji}),[o,u,n]);var p=ft((function(e){"height"===e.propertyName&&(i(),"close"===o&&a())}),[o,a,i]),d=ta({isAnimatingOpenOnMount:u,animate:t.animate,placeholder:t.placeholder});return e.createElement(t.placeholder.tagName,{style:d,"data-rbd-placeholder-context-id":s,onTransitionEnd:p,ref:t.innerRef})})),na=e.createContext(null);var oa=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).state={isVisible:Boolean(t.props.on),data:t.props.on,animate:t.props.shouldAnimate&&t.props.on?"open":"none"},t.onClose=function(){"close"===t.state.animate&&t.setState({isVisible:!1})},t}return ge(t,e),t.getDerivedStateFromProps=function(e,t){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:t.isVisible?{isVisible:!0,data:t.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:Boolean(e.on),data:e.on,animate:"none"}},t.prototype.render=function(){if(!this.state.isVisible)return null;var e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)},t}(e.PureComponent),ia=5e3,aa=4500,sa=function(e,t){return t?Hn.drop(t.duration):e?Hn.snap:Hn.fluid},la=function(e,t){return e?t?Gn.drop:Gn.combining:null};function ua(e){return"DRAGGING"===e.type?function(e){var t=e.dimension.client,r=e.offset,n=e.combineWith,o=e.dropping,i=Boolean(n),a=function(e){return null!=e.forceShouldAnimate?e.forceShouldAnimate:"SNAP"===e.mode}(e),s=Boolean(o),l=s?zn(r,i):Vn(r);return{position:"fixed",top:t.marginBox.top,left:t.marginBox.left,boxSizing:"border-box",width:t.borderBox.width,height:t.borderBox.height,transition:sa(a,o),transform:l,opacity:la(i,s),zIndex:s?aa:ia,pointerEvents:"none"}}(e):{transform:Vn((t=e).offset),transition:t.shouldAnimateDisplacement?null:"none"};var t}function ca(t){var r=ni("draggable"),n=t.descriptor,o=t.registry,i=t.getDraggableRef,a=t.canDragInteractiveElements,s=t.shouldRespectForcePress,l=t.isEnabled,u=ht((function(){return{canDragInteractiveElements:a,shouldRespectForcePress:s,isEnabled:l}}),[a,l,s]),c=ft((function(e){var t=i();return t||It(!1),function(e,t,r){void 0===r&&(r=Ut);var n=window.getComputedStyle(t),o=t.getBoundingClientRect(),i=Et(o,n),a=St(i,r);return{descriptor:e,placeholder:{client:i,tagName:t.tagName.toLowerCase(),display:n.display},displaceBy:{x:i.marginBox.width,y:i.marginBox.height},client:i,page:a}}(n,t,e)}),[n,i]),p=ht((function(){return{uniqueId:r,descriptor:n,options:u,getDimension:c}}),[n,c,u,r]),d=(0,e.useRef)(p),h=(0,e.useRef)(!0);zo((function(){return o.draggable.register(d.current),function(){return o.draggable.unregister(d.current)}}),[o.draggable]),zo((function(){if(h.current)h.current=!1;else{var e=d.current;d.current=p,o.draggable.update(p,e)}}),[p,o.draggable])}function pa(e,t,r){ai()}function da(e){e.preventDefault()}var ha=function(e,t){return e===t},fa=function(e){var t=e.combine,r=e.destination;return r?r.droppableId:t?t.droppableId:null};function ga(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var ya={mapped:{type:"SECONDARY",offset:Ut,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:ga(null)}};var va=ut((function(){var e=function(){var e=Rt((function(e,t){return{x:e,y:t}})),t=Rt((function(e,t,r,n,o){return{isDragging:!0,isClone:t,isDropAnimating:Boolean(o),dropAnimation:o,mode:e,draggingOver:r,combineWith:n,combineTargetFor:null}})),r=Rt((function(e,r,n,o,i,a,s){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:i,combineWith:a,mode:r,offset:e,dimension:n,forceShouldAnimate:s,snapshot:t(r,o,i,a,null)}}}));return function(n,o){if(n.isDragging){if(n.critical.draggable.id!==o.draggableId)return null;var i=n.current.client.offset,a=n.dimensions.draggables[o.draggableId],s=en(n.impact),l=(c=n.impact).at&&"COMBINE"===c.at.type?c.at.combine.draggableId:null,u=n.forceShouldAnimate;return r(e(i.x,i.y),n.movementMode,a,o.isClone,s,l,u)}var c;if("DROP_ANIMATING"===n.phase){var p=n.completed;if(p.result.draggableId!==o.draggableId)return null;var d=o.isClone,h=n.dimensions.draggables[o.draggableId],f=p.result,g=f.mode,y=fa(f),v=function(e){return e.combine?e.combine.draggableId:null}(f),m={duration:n.dropDuration,curve:Fn,moveTo:n.newHomeClientOffset,opacity:v?Gn.drop:null,scale:v?Bn.drop:null};return{mapped:{type:"DRAGGING",offset:n.newHomeClientOffset,dimension:h,dropping:m,draggingOver:y,combineWith:v,mode:g,forceShouldAnimate:null,snapshot:t(g,d,y,v,m)}}}return null}}(),t=function(){var e=Rt((function(e,t){return{x:e,y:t}})),t=Rt(ga),r=Rt((function(e,r,n){return void 0===r&&(r=null),{mapped:{type:"SECONDARY",offset:e,combineTargetFor:r,shouldAnimateDisplacement:n,snapshot:t(r)}}})),n=function(e){return e?r(Ut,e,!0):null},o=function(t,o,i,a){var s=i.displaced.visible[t],l=Boolean(a.inVirtualList&&a.effected[t]),u=gr(i),c=u&&u.draggableId===t?o:null;if(!s){if(!l)return n(c);if(i.displaced.invisible[t])return null;var p=qt(a.displacedBy.point),d=e(p.x,p.y);return r(d,c,!0)}if(l)return n(c);var h=i.displacedBy.point,f=e(h.x,h.y);return r(f,c,s.shouldAnimate)};return function(e,t){if(e.isDragging)return e.critical.draggable.id===t.draggableId?null:o(t.draggableId,e.critical.draggable.id,e.impact,e.afterCritical);if("DROP_ANIMATING"===e.phase){var r=e.completed;return r.result.draggableId===t.draggableId?null:o(t.draggableId,r.result.draggableId,r.impact,r.afterCritical)}return null}}();return function(r,n){return e(r,n)||t(r,n)||ya}}),{dropAnimationFinished:Ln},null,{context:Qo,pure:!0,areStatePropsEqual:ha})((function(t){var r=(0,e.useRef)(null),n=ft((function(e){r.current=e}),[]),o=ft((function(){return r.current}),[]),i=Zi(oi),a=i.contextId,s=i.dragHandleUsageInstructionsId,l=i.registry,u=Zi(na),c=u.type,p=u.droppableId,d=ht((function(){return{id:t.draggableId,index:t.index,type:c,droppableId:p}}),[t.draggableId,t.index,c,p]),h=t.children,f=t.draggableId,g=t.isEnabled,y=t.shouldRespectForcePress,v=t.canDragInteractiveElements,m=t.isClone,b=t.mapped,C=t.dropAnimationFinished;pa(),ii(),m||ca(ht((function(){return{descriptor:d,registry:l,getDraggableRef:o,canDragInteractiveElements:v,shouldRespectForcePress:y,isEnabled:g}}),[d,l,o,v,y,g]));var w=ht((function(){return g?{tabIndex:0,role:"button","aria-describedby":s,"data-rbd-drag-handle-draggable-id":f,"data-rbd-drag-handle-context-id":a,draggable:!1,onDragStart:da}:null}),[a,s,f,g]),x=ft((function(e){"DRAGGING"===b.type&&b.dropping&&"transform"===e.propertyName&&C()}),[C,b]),S=ht((function(){var e=ua(b),t="DRAGGING"===b.type&&b.dropping?x:null;return{innerRef:n,draggableProps:{"data-rbd-draggable-context-id":a,"data-rbd-draggable-id":f,style:e,onTransitionEnd:t},dragHandleProps:w}}),[a,w,f,b,x,n]),E=ht((function(){return{draggableId:d.id,type:d.type,source:{index:d.index,droppableId:d.droppableId}}}),[d.droppableId,d.id,d.index,d.type]);return h(S,b.snapshot,E)}));function ma(t){return Zi(na).isUsingCloneFor!==t.draggableId||t.isClone?e.createElement(va,t):null}function ba(t){var r="boolean"!==typeof t.isDragDisabled||!t.isDragDisabled,n=Boolean(t.disableInteractiveElementBlocking),o=Boolean(t.shouldRespectForcePress);return e.createElement(ma,ye({},t,{isClone:!1,isEnabled:r,canDragInteractiveElements:n,shouldRespectForcePress:o}))}var Ca=function(e,t){return e===t.droppable.type},wa=function(e,t){return t.draggables[e.draggable.id]};var xa={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:function(){return document.body||It(!1),document.body}},Sa=ut((function(){var e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t=ye({},e,{shouldAnimatePlaceholder:!1}),r=Rt((function(e){return{draggableId:e.id,type:e.type,source:{index:e.index,droppableId:e.droppableId}}})),n=Rt((function(n,o,i,a,s,l){var u=s.descriptor.id;if(s.descriptor.droppableId===n){var c=l?{render:l,dragging:r(s.descriptor)}:null,p={isDraggingOver:i,draggingOverWith:i?u:null,draggingFromThisWith:u,isUsingPlaceholder:!0};return{placeholder:s.placeholder,shouldAnimatePlaceholder:!1,snapshot:p,useClone:c}}if(!o)return t;if(!a)return e;var d={isDraggingOver:i,draggingOverWith:u,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:s.placeholder,shouldAnimatePlaceholder:!0,snapshot:d,useClone:null}}));return function(r,o){var i=o.droppableId,a=o.type,s=!o.isDropDisabled,l=o.renderClone;if(r.isDragging){var u=r.critical;if(!Ca(a,u))return t;var c=wa(u,r.dimensions),p=en(r.impact)===i;return n(i,s,p,p,c,l)}if("DROP_ANIMATING"===r.phase){var d=r.completed;if(!Ca(a,d.critical))return t;var h=wa(d.critical,r.dimensions);return n(i,s,fa(d.result)===i,en(d.impact)===i,h,l)}if("IDLE"===r.phase&&r.completed&&!r.shouldFlush){var f=r.completed;if(!Ca(a,f.critical))return t;var g=en(f.impact)===i,y=Boolean(f.impact.at&&"COMBINE"===f.impact.at.type),v=f.critical.droppable.id===i;return g?y?e:t:v?e:t}return t}}),{updateViewportMaxScroll:function(e){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}}},null,{context:Qo,pure:!0,areStatePropsEqual:ha})((function(t){var r=(0,e.useContext)(oi);r||It(!1);var n=r.contextId,o=r.isMovementAllowed,i=(0,e.useRef)(null),a=(0,e.useRef)(null),s=t.children,l=t.droppableId,u=t.type,c=t.mode,p=t.direction,d=t.ignoreContainerClipping,h=t.isDropDisabled,f=t.isCombineEnabled,g=t.snapshot,y=t.useClone,v=t.updateViewportMaxScroll,m=t.getContainerForClone,b=ft((function(){return i.current}),[]),C=ft((function(e){i.current=e}),[]),w=(ft((function(){return a.current}),[]),ft((function(e){a.current=e}),[]));ai();var x=ft((function(){o()&&v({maxScroll:co()})}),[o,v]);!function(t){var r=(0,e.useRef)(null),n=Zi(oi),o=ni("droppable"),i=n.registry,a=n.marshal,s=li(t),l=ht((function(){return{id:t.droppableId,type:t.type,mode:t.mode}}),[t.droppableId,t.mode,t.type]),u=(0,e.useRef)(l),c=ht((function(){return Rt((function(e,t){r.current||It(!1);var n={x:e,y:t};a.updateDroppableScroll(l.id,n)}))}),[l.id,a]),p=ft((function(){var e=r.current;return e&&e.env.closestScrollable?zi(e.env.closestScrollable):Ut}),[]),d=ft((function(){var e=p();c(e.x,e.y)}),[p,c]),h=ht((function(){return At(d)}),[d]),f=ft((function(){var e=r.current,t=Qi(e);e&&t||It(!1),e.scrollOptions.shouldPublishImmediately?d():h()}),[h,d]),g=ft((function(e,t){r.current&&It(!1);var o=s.current,i=o.getDroppableRef();i||It(!1);var a=Yi(i),u={ref:i,descriptor:l,env:a,scrollOptions:t};r.current=u;var c=Xi({ref:i,descriptor:l,env:a,windowScroll:e,direction:o.direction,isDropDisabled:o.isDropDisabled,isCombineEnabled:o.isCombineEnabled,shouldClipSubject:!o.ignoreContainerClipping}),p=a.closestScrollable;return p&&(p.setAttribute(jo.contextId,n.contextId),p.addEventListener("scroll",f,$i(u.scrollOptions))),c}),[n.contextId,l,f,s]),y=ft((function(){var e=r.current,t=Qi(e);return e&&t||It(!1),zi(t)}),[]),v=ft((function(){var e=r.current;e||It(!1);var t=Qi(e);r.current=null,t&&(h.cancel(),t.removeAttribute(jo.contextId),t.removeEventListener("scroll",f,$i(e.scrollOptions)))}),[f,h]),m=ft((function(e){var t=r.current;t||It(!1);var n=Qi(t);n||It(!1),n.scrollTop+=e.y,n.scrollLeft+=e.x}),[]),b=ht((function(){return{getDimensionAndWatchScroll:g,getScrollWhileDragging:y,dragStopped:v,scroll:m}}),[v,g,y,m]),C=ht((function(){return{uniqueId:o,descriptor:l,callbacks:b}}),[b,l,o]);zo((function(){return u.current=C.descriptor,i.droppable.register(C),function(){r.current&&v(),i.droppable.unregister(C)}}),[b,l,v,C,a,i.droppable]),zo((function(){r.current&&a.updateDroppableIsEnabled(u.current.id,!t.isDropDisabled)}),[t.isDropDisabled,a]),zo((function(){r.current&&a.updateDroppableIsCombineEnabled(u.current.id,t.isCombineEnabled)}),[t.isCombineEnabled,a])}({droppableId:l,type:u,mode:c,direction:p,isDropDisabled:h,isCombineEnabled:f,ignoreContainerClipping:d,getDroppableRef:b});var S=e.createElement(oa,{on:t.placeholder,shouldAnimate:t.shouldAnimatePlaceholder},(function(t){var r=t.onClose,o=t.data,i=t.animate;return e.createElement(ra,{placeholder:o,onClose:r,innerRef:w,animate:i,contextId:n,onTransitionEnd:x})})),E=ht((function(){return{innerRef:C,placeholder:S,droppableProps:{"data-rbd-droppable-id":l,"data-rbd-droppable-context-id":n}}}),[n,l,S,C]),O=y?y.dragging.draggableId:null,_=ht((function(){return{droppableId:l,type:u,isUsingCloneFor:O}}),[l,O,u]);return e.createElement(na.Provider,{value:_},s(E,g),function(){if(!y)return null;var t=y.dragging,r=y.render,n=e.createElement(ma,{draggableId:t.draggableId,index:t.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(function(e,n){return r(e,n,t)}));return pt.createPortal(n,m())}())}));function Ea(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Oa(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Sa.defaultProps=xa;var _a=r(7441),Pa=r(9613),Ra=r.n(Pa);var Aa=function(e){function t(e,n,l,u,d){for(var h,f,g,y,C,x=0,S=0,E=0,O=0,_=0,M=0,N=g=h=0,L=0,F=0,G=0,B=0,W=l.length,H=W-1,j="",V="",z="",U="";L<W;){if(f=l.charCodeAt(L),L===H&&0!==S+O+E+x&&(0!==S&&(f=47===S?10:47),O=E=x=0,W++,H++),0===S+O+E+x){if(L===H&&(0<F&&(j=j.replace(p,"")),0<j.trim().length)){switch(f){case 32:case 9:case 59:case 13:case 10:break;default:j+=l.charAt(L)}f=59}switch(f){case 123:for(h=(j=j.trim()).charCodeAt(0),g=1,B=++L;L<W;){switch(f=l.charCodeAt(L)){case 123:g++;break;case 125:g--;break;case 47:switch(f=l.charCodeAt(L+1)){case 42:case 47:e:{for(N=L+1;N<H;++N)switch(l.charCodeAt(N)){case 47:if(42===f&&42===l.charCodeAt(N-1)&&L+2!==N){L=N+1;break e}break;case 10:if(47===f){L=N+1;break e}}L=N}}break;case 91:f++;case 40:f++;case 34:case 39:for(;L++<H&&l.charCodeAt(L)!==f;);}if(0===g)break;L++}if(g=l.substring(B,L),0===h&&(h=(j=j.replace(c,"").trim()).charCodeAt(0)),64===h){switch(0<F&&(j=j.replace(p,"")),f=j.charCodeAt(1)){case 100:case 109:case 115:case 45:F=n;break;default:F=D}if(B=(g=t(n,F,g,f,d+1)).length,0<k&&(C=s(3,g,F=r(D,j,G),n,R,P,B,f,d,u),j=F.join(""),void 0!==C&&0===(B=(g=C.trim()).length)&&(f=0,g="")),0<B)switch(f){case 115:j=j.replace(w,a);case 100:case 109:case 45:g=j+"{"+g+"}";break;case 107:g=(j=j.replace(v,"$1 $2"))+"{"+g+"}",g=1===T||2===T&&i("@"+g,3)?"@-webkit-"+g+"@"+g:"@"+g;break;default:g=j+g,112===u&&(V+=g,g="")}else g=""}else g=t(n,r(n,j,G),g,u,d+1);z+=g,g=G=F=N=h=0,j="",f=l.charCodeAt(++L);break;case 125:case 59:if(1<(B=(j=(0<F?j.replace(p,""):j).trim()).length))switch(0===N&&(h=j.charCodeAt(0),45===h||96<h&&123>h)&&(B=(j=j.replace(" ",":")).length),0<k&&void 0!==(C=s(1,j,n,e,R,P,V.length,u,d,u))&&0===(B=(j=C.trim()).length)&&(j="\0\0"),h=j.charCodeAt(0),f=j.charCodeAt(1),h){case 0:break;case 64:if(105===f||99===f){U+=j+l.charAt(L);break}default:58!==j.charCodeAt(B-1)&&(V+=o(j,h,f,j.charCodeAt(2)))}G=F=N=h=0,j="",f=l.charCodeAt(++L)}}switch(f){case 13:case 10:47===S?S=0:0===1+h&&107!==u&&0<j.length&&(F=1,j+="\0"),0<k*I&&s(0,j,n,e,R,P,V.length,u,d,u),P=1,R++;break;case 59:case 125:if(0===S+O+E+x){P++;break}default:switch(P++,y=l.charAt(L),f){case 9:case 32:if(0===O+x+S)switch(_){case 44:case 58:case 9:case 32:y="";break;default:32!==f&&(y=" ")}break;case 0:y="\\0";break;case 12:y="\\f";break;case 11:y="\\v";break;case 38:0===O+S+x&&(F=G=1,y="\f"+y);break;case 108:if(0===O+S+x+A&&0<N)switch(L-N){case 2:112===_&&58===l.charCodeAt(L-3)&&(A=_);case 8:111===M&&(A=M)}break;case 58:0===O+S+x&&(N=L);break;case 44:0===S+E+O+x&&(F=1,y+="\r");break;case 34:case 39:0===S&&(O=O===f?0:0===O?f:O);break;case 91:0===O+S+E&&x++;break;case 93:0===O+S+E&&x--;break;case 41:0===O+S+x&&E--;break;case 40:if(0===O+S+x){if(0===h)if(2*_+3*M===533);else h=1;E++}break;case 64:0===S+E+O+x+N+g&&(g=1);break;case 42:case 47:if(!(0<O+x+E))switch(S){case 0:switch(2*f+3*l.charCodeAt(L+1)){case 235:S=47;break;case 220:B=L,S=42}break;case 42:47===f&&42===_&&B+2!==L&&(33===l.charCodeAt(B+2)&&(V+=l.substring(B,L+1)),y="",S=0)}}0===S&&(j+=y)}M=_,_=f,L++}if(0<(B=V.length)){if(F=n,0<k&&(void 0!==(C=s(2,V,F,e,R,P,B,u,d,u))&&0===(V=C).length))return U+V+z;if(V=F.join(",")+"{"+V+"}",0!==T*A){switch(2!==T||i(V,2)||(A=0),A){case 111:V=V.replace(b,":-moz-$1")+V;break;case 112:V=V.replace(m,"::-webkit-input-$1")+V.replace(m,"::-moz-$1")+V.replace(m,":-ms-input-$1")+V}A=0}}return U+V+z}function r(e,t,r){var o=t.trim().split(g);t=o;var i=o.length,a=e.length;switch(a){case 0:case 1:var s=0;for(e=0===a?"":e[0]+" ";s<i;++s)t[s]=n(e,t[s],r).trim();break;default:var l=s=0;for(t=[];s<i;++s)for(var u=0;u<a;++u)t[l++]=n(e[u]+" ",o[s],r).trim()}return t}function n(e,t,r){var n=t.charCodeAt(0);switch(33>n&&(n=(t=t.trim()).charCodeAt(0)),n){case 38:return t.replace(y,"$1"+e.trim());case 58:return e.trim()+t.replace(y,"$1"+e.trim());default:if(0<1*r&&0<t.indexOf("\f"))return t.replace(y,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function o(e,t,r,n){var a=e+";",s=2*t+3*r+4*n;if(944===s){e=a.indexOf(":",9)+1;var l=a.substring(e,a.length-1).trim();return l=a.substring(0,e).trim()+l+";",1===T||2===T&&i(l,1)?"-webkit-"+l+l:l}if(0===T||2===T&&!i(a,1))return a;switch(s){case 1015:return 97===a.charCodeAt(10)?"-webkit-"+a+a:a;case 951:return 116===a.charCodeAt(3)?"-webkit-"+a+a:a;case 963:return 110===a.charCodeAt(5)?"-webkit-"+a+a:a;case 1009:if(100!==a.charCodeAt(4))break;case 969:case 942:return"-webkit-"+a+a;case 978:return"-webkit-"+a+"-moz-"+a+a;case 1019:case 983:return"-webkit-"+a+"-moz-"+a+"-ms-"+a+a;case 883:if(45===a.charCodeAt(8))return"-webkit-"+a+a;if(0<a.indexOf("image-set(",11))return a.replace(_,"$1-webkit-$2")+a;break;case 932:if(45===a.charCodeAt(4))switch(a.charCodeAt(5)){case 103:return"-webkit-box-"+a.replace("-grow","")+"-webkit-"+a+"-ms-"+a.replace("grow","positive")+a;case 115:return"-webkit-"+a+"-ms-"+a.replace("shrink","negative")+a;case 98:return"-webkit-"+a+"-ms-"+a.replace("basis","preferred-size")+a}return"-webkit-"+a+"-ms-"+a+a;case 964:return"-webkit-"+a+"-ms-flex-"+a+a;case 1023:if(99!==a.charCodeAt(8))break;return"-webkit-box-pack"+(l=a.substring(a.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+a+"-ms-flex-pack"+l+a;case 1005:return h.test(a)?a.replace(d,":-webkit-")+a.replace(d,":-moz-")+a:a;case 1e3:switch(t=(l=a.substring(13).trim()).indexOf("-")+1,l.charCodeAt(0)+l.charCodeAt(t)){case 226:l=a.replace(C,"tb");break;case 232:l=a.replace(C,"tb-rl");break;case 220:l=a.replace(C,"lr");break;default:return a}return"-webkit-"+a+"-ms-"+l+a;case 1017:if(-1===a.indexOf("sticky",9))break;case 975:switch(t=(a=e).length-10,s=(l=(33===a.charCodeAt(t)?a.substring(0,t):a).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|l.charCodeAt(7))){case 203:if(111>l.charCodeAt(8))break;case 115:a=a.replace(l,"-webkit-"+l)+";"+a;break;case 207:case 102:a=a.replace(l,"-webkit-"+(102<s?"inline-":"")+"box")+";"+a.replace(l,"-webkit-"+l)+";"+a.replace(l,"-ms-"+l+"box")+";"+a}return a+";";case 938:if(45===a.charCodeAt(5))switch(a.charCodeAt(6)){case 105:return l=a.replace("-items",""),"-webkit-"+a+"-webkit-box-"+l+"-ms-flex-"+l+a;case 115:return"-webkit-"+a+"-ms-flex-item-"+a.replace(S,"")+a;default:return"-webkit-"+a+"-ms-flex-line-pack"+a.replace("align-content","").replace(S,"")+a}break;case 973:case 989:if(45!==a.charCodeAt(3)||122===a.charCodeAt(4))break;case 931:case 953:if(!0===O.test(e))return 115===(l=e.substring(e.indexOf(":")+1)).charCodeAt(0)?o(e.replace("stretch","fill-available"),t,r,n).replace(":fill-available",":stretch"):a.replace(l,"-webkit-"+l)+a.replace(l,"-moz-"+l.replace("fill-",""))+a;break;case 962:if(a="-webkit-"+a+(102===a.charCodeAt(5)?"-ms-"+a:"")+a,211===r+n&&105===a.charCodeAt(13)&&0<a.indexOf("transform",10))return a.substring(0,a.indexOf(";",27)+1).replace(f,"$1-webkit-$2")+a}return a}function i(e,t){var r=e.indexOf(1===t?":":"{"),n=e.substring(0,3!==t?r:10);return r=e.substring(r+1,e.length-1),N(2!==t?n:n.replace(E,"$1"),r,t)}function a(e,t){var r=o(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return r!==t+";"?r.replace(x," or ($1)").substring(4):"("+t+")"}function s(e,t,r,n,o,i,a,s,l,c){for(var p,d=0,h=t;d<k;++d)switch(p=M[d].call(u,e,h,r,n,o,i,a,s,l,c)){case void 0:case!1:case!0:case null:break;default:h=p}if(h!==t)return h}function l(e){return void 0!==(e=e.prefix)&&(N=null,e?"function"!==typeof e?T=1:(T=2,N=e):T=0),l}function u(e,r){var n=e;if(33>n.charCodeAt(0)&&(n=n.trim()),n=[n],0<k){var o=s(-1,r,n,n,R,P,0,0,0,0);void 0!==o&&"string"===typeof o&&(r=o)}var i=t(D,n,r,0,0);return 0<k&&(void 0!==(o=s(-2,i,n,n,R,P,i.length,0,0,0))&&(i=o)),"",A=0,P=R=1,i}var c=/^\0+/g,p=/[\0\r\f]/g,d=/: */g,h=/zoo|gra/,f=/([,: ])(transform)/g,g=/,\r+?/g,y=/([\t\r\n ])*\f?&/g,v=/@(k\w+)\s*(\S*)\s*/,m=/::(place)/g,b=/:(read-only)/g,C=/[svh]\w+-[tblr]{2}/,w=/\(\s*(.*)\s*\)/g,x=/([\s\S]*?);/g,S=/-self|flex-/g,E=/[^]*?(:[rp][el]a[\w-]+)[^]*/,O=/stretch|:\s*\w+\-(?:conte|avail)/,_=/([^-])(image-set\()/,P=1,R=1,A=0,T=1,D=[],M=[],k=0,N=null,I=0;return u.use=function e(t){switch(t){case void 0:case null:k=M.length=0;break;default:if("function"===typeof t)M[k++]=t;else if("object"===typeof t)for(var r=0,n=t.length;r<n;++r)e(t[r]);else I=0|!!t}return e},u.set=l,void 0!==e&&l(e),u},Ta={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var Da=function(e){var t=Object.create(null);return function(r){return void 0===t[r]&&(t[r]=e(r)),t[r]}},Ma=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,ka=Da((function(e){return Ma.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));function Na(){return(Na=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var Ia=function(e,t){for(var r=[e[0]],n=0,o=t.length;n<o;n+=1)r.push(t[n],e[n+1]);return r},La=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,_a.typeOf)(e)},Fa=Object.freeze([]),Ga=Object.freeze({});function Ba(e){return"function"==typeof e}function Wa(e){return e.displayName||e.name||"Component"}function Ha(e){return e&&"string"==typeof e.styledComponentId}var ja="undefined"!=typeof process&&({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_ATTR)||"data-styled",Va="undefined"!=typeof window&&"HTMLElement"in window,za=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY));function Ua(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(r.length>0?" Args: "+r.join(", "):""))}var Ya=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,r=0;r<e;r++)t+=this.groupSizes[r];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var r=this.groupSizes,n=r.length,o=n;e>=o;)(o<<=1)<0&&Ua(16,""+e);this.groupSizes=new Uint32Array(o),this.groupSizes.set(r),this.length=o;for(var i=n;i<o;i++)this.groupSizes[i]=0}for(var a=this.indexOfGroup(e+1),s=0,l=t.length;s<l;s++)this.tag.insertRule(a,t[s])&&(this.groupSizes[e]++,a++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],r=this.indexOfGroup(e),n=r+t;this.groupSizes[e]=0;for(var o=r;o<n;o++)this.tag.deleteRule(r)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var r=this.groupSizes[e],n=this.indexOfGroup(e),o=n+r,i=n;i<o;i++)t+=this.tag.getRule(i)+"/*!sc*/\n";return t},e}(),Xa=new Map,Ka=new Map,qa=1,$a=function(e){if(Xa.has(e))return Xa.get(e);for(;Ka.has(qa);)qa++;var t=qa++;return Xa.set(e,t),Ka.set(t,e),t},Za=function(e){return Ka.get(e)},Qa=function(e,t){t>=qa&&(qa=t+1),Xa.set(e,t),Ka.set(t,e)},Ja="style["+ja+'][data-styled-version="5.3.5"]',es=new RegExp("^"+ja+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),ts=function(e,t,r){for(var n,o=r.split(","),i=0,a=o.length;i<a;i++)(n=o[i])&&e.registerName(t,n)},rs=function(e,t){for(var r=(t.textContent||"").split("/*!sc*/\n"),n=[],o=0,i=r.length;o<i;o++){var a=r[o].trim();if(a){var s=a.match(es);if(s){var l=0|parseInt(s[1],10),u=s[2];0!==l&&(Qa(u,l),ts(e,u,s[3]),e.getTag().insertRules(l,n)),n.length=0}else n.push(a)}}},ns=function(){return"undefined"!=typeof window&&void 0!==window.__webpack_nonce__?window.__webpack_nonce__:null},os=function(e){var t=document.head,r=e||t,n=document.createElement("style"),o=function(e){for(var t=e.childNodes,r=t.length;r>=0;r--){var n=t[r];if(n&&1===n.nodeType&&n.hasAttribute(ja))return n}}(r),i=void 0!==o?o.nextSibling:null;n.setAttribute(ja,"active"),n.setAttribute("data-styled-version","5.3.5");var a=ns();return a&&n.setAttribute("nonce",a),r.insertBefore(n,i),n},is=function(){function e(e){var t=this.element=os(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,r=0,n=t.length;r<n;r++){var o=t[r];if(o.ownerNode===e)return o}Ua(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),as=function(){function e(e){var t=this.element=os(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var r=document.createTextNode(t),n=this.nodes[e];return this.element.insertBefore(r,n||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),ss=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),ls=Va,us={isServer:!Va,useCSSOMInjection:!za},cs=function(){function e(e,t,r){void 0===e&&(e=Ga),void 0===t&&(t={}),this.options=Na({},us,{},e),this.gs=t,this.names=new Map(r),this.server=!!e.isServer,!this.server&&Va&&ls&&(ls=!1,function(e){for(var t=document.querySelectorAll(Ja),r=0,n=t.length;r<n;r++){var o=t[r];o&&"active"!==o.getAttribute(ja)&&(rs(e,o),o.parentNode&&o.parentNode.removeChild(o))}}(this))}e.registerId=function(e){return $a(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,r){return void 0===r&&(r=!0),new e(Na({},this.options,{},t),this.gs,r&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(r=(t=this.options).isServer,n=t.useCSSOMInjection,o=t.target,e=r?new ss(o):n?new is(o):new as(o),new Ya(e)));var e,t,r,n,o},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if($a(e),this.names.has(e))this.names.get(e).add(t);else{var r=new Set;r.add(t),this.names.set(e,r)}},t.insertRules=function(e,t,r){this.registerName(e,t),this.getTag().insertRules($a(e),r)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup($a(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),r=t.length,n="",o=0;o<r;o++){var i=Za(o);if(void 0!==i){var a=e.names.get(i),s=t.getGroup(o);if(a&&s&&a.size){var l=ja+".g"+o+'[id="'+i+'"]',u="";void 0!==a&&a.forEach((function(e){e.length>0&&(u+=e+",")})),n+=""+s+l+'{content:"'+u+'"}/*!sc*/\n'}}}return n}(this)},e}(),ps=/(a)(d)/gi,ds=function(e){return String.fromCharCode(e+(e>25?39:97))};function hs(e){var t,r="";for(t=Math.abs(e);t>52;t=t/52|0)r=ds(t%52)+r;return(ds(t%52)+r).replace(ps,"$1-$2")}var fs=function(e,t){for(var r=t.length;r;)e=33*e^t.charCodeAt(--r);return e},gs=function(e){return fs(5381,e)};function ys(e){for(var t=0;t<e.length;t+=1){var r=e[t];if(Ba(r)&&!Ha(r))return!1}return!0}var vs=gs("5.3.5"),ms=function(){function e(e,t,r){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===r||r.isStatic)&&ys(e),this.componentId=t,this.baseHash=fs(vs,t),this.baseStyle=r,cs.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,r){var n=this.componentId,o=[];if(this.baseStyle&&o.push(this.baseStyle.generateAndInjectStyles(e,t,r)),this.isStatic&&!r.hash)if(this.staticRulesId&&t.hasNameForId(n,this.staticRulesId))o.push(this.staticRulesId);else{var i=Ls(this.rules,e,t,r).join(""),a=hs(fs(this.baseHash,i)>>>0);if(!t.hasNameForId(n,a)){var s=r(i,"."+a,void 0,n);t.insertRules(n,a,s)}o.push(a),this.staticRulesId=a}else{for(var l=this.rules.length,u=fs(this.baseHash,r.hash),c="",p=0;p<l;p++){var d=this.rules[p];if("string"==typeof d)c+=d;else if(d){var h=Ls(d,e,t,r),f=Array.isArray(h)?h.join(""):h;u=fs(u,f+p),c+=f}}if(c){var g=hs(u>>>0);if(!t.hasNameForId(n,g)){var y=r(c,"."+g,void 0,n);t.insertRules(n,g,y)}o.push(g)}}return o.join(" ")},e}(),bs=/^\s*\/\/.*$/gm,Cs=[":","[",".","#"];function ws(e){var t,r,n,o,i=void 0===e?Ga:e,a=i.options,s=void 0===a?Ga:a,l=i.plugins,u=void 0===l?Fa:l,c=new Aa(s),p=[],d=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(r,n,o,i,a,s,l,u,c,p){switch(r){case 1:if(0===c&&64===n.charCodeAt(0))return e(n+";"),"";break;case 2:if(0===u)return n+"/*|*/";break;case 3:switch(u){case 102:case 112:return e(o[0]+n),"";default:return n+(0===p?"/*|*/":"")}case-2:n.split("/*|*/}").forEach(t)}}}((function(e){p.push(e)})),h=function(e,n,i){return 0===n&&-1!==Cs.indexOf(i[r.length])||i.match(o)?e:"."+t};function f(e,i,a,s){void 0===s&&(s="&");var l=e.replace(bs,""),u=i&&a?a+" "+i+" { "+l+" }":l;return t=s,r=i,n=new RegExp("\\"+r+"\\b","g"),o=new RegExp("(\\"+r+"\\b){2,}"),c(a||!i?"":i,u)}return c.use([].concat(u,[function(e,t,o){2===e&&o.length&&o[0].lastIndexOf(r)>0&&(o[0]=o[0].replace(n,h))},d,function(e){if(-2===e){var t=p;return p=[],t}}])),f.hash=u.length?u.reduce((function(e,t){return t.name||Ua(15),fs(e,t.name)}),5381).toString():"",f}var xs=e.createContext(),Ss=(xs.Consumer,e.createContext()),Es=(Ss.Consumer,new cs),Os=ws();function _s(){return(0,e.useContext)(xs)||Es}function Ps(){return(0,e.useContext)(Ss)||Os}function Rs(t){var r=(0,e.useState)(t.stylisPlugins),n=r[0],o=r[1],i=_s(),a=(0,e.useMemo)((function(){var e=i;return t.sheet?e=t.sheet:t.target&&(e=e.reconstructWithOptions({target:t.target},!1)),t.disableCSSOMInjection&&(e=e.reconstructWithOptions({useCSSOMInjection:!1})),e}),[t.disableCSSOMInjection,t.sheet,t.target]),s=(0,e.useMemo)((function(){return ws({options:{prefix:!t.disableVendorPrefixes},plugins:n})}),[t.disableVendorPrefixes,n]);return(0,e.useEffect)((function(){Ra()(n,t.stylisPlugins)||o(t.stylisPlugins)}),[t.stylisPlugins]),e.createElement(xs.Provider,{value:a},e.createElement(Ss.Provider,{value:s},t.children))}var As=function(){function e(e,t){var r=this;this.inject=function(e,t){void 0===t&&(t=Os);var n=r.name+t.hash;e.hasNameForId(r.id,n)||e.insertRules(r.id,n,t(r.rules,n,"@keyframes"))},this.toString=function(){return Ua(12,String(r.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=Os),this.name+e.hash},e}(),Ts=/([A-Z])/,Ds=/([A-Z])/g,Ms=/^ms-/,ks=function(e){return"-"+e.toLowerCase()};function Ns(e){return Ts.test(e)?e.replace(Ds,ks).replace(Ms,"-ms-"):e}var Is=function(e){return null==e||!1===e||""===e};function Ls(e,t,r,n){if(Array.isArray(e)){for(var o,i=[],a=0,s=e.length;a<s;a+=1)""!==(o=Ls(e[a],t,r,n))&&(Array.isArray(o)?i.push.apply(i,o):i.push(o));return i}return Is(e)?"":Ha(e)?"."+e.styledComponentId:Ba(e)?"function"!=typeof(l=e)||l.prototype&&l.prototype.isReactComponent||!t?e:Ls(e(t),t,r,n):e instanceof As?r?(e.inject(r,n),e.getName(n)):e:La(e)?function e(t,r){var n,o,i=[];for(var a in t)t.hasOwnProperty(a)&&!Is(t[a])&&(Array.isArray(t[a])&&t[a].isCss||Ba(t[a])?i.push(Ns(a)+":",t[a],";"):La(t[a])?i.push.apply(i,e(t[a],a)):i.push(Ns(a)+": "+(n=a,(null==(o=t[a])||"boolean"==typeof o||""===o?"":"number"!=typeof o||0===o||n in Ta?String(o).trim():o+"px")+";")));return r?[r+" {"].concat(i,["}"]):i}(e):e.toString();var l}var Fs=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function Gs(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return Ba(e)||La(e)?Fs(Ls(Ia(Fa,[e].concat(r)))):0===r.length&&1===e.length&&"string"==typeof e[0]?e:Fs(Ls(Ia(e,r)))}new Set;var Bs=function(e,t,r){return void 0===r&&(r=Ga),e.theme!==r.theme&&e.theme||t||r.theme},Ws=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Hs=/(^-|-$)/g;function js(e){return e.replace(Ws,"-").replace(Hs,"")}var Vs=function(e){return hs(gs(e)>>>0)};function zs(e){return"string"==typeof e&&!0}var Us=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},Ys=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function Xs(e,t,r){var n=e[r];Us(t)&&Us(n)?Ks(n,t):e[r]=t}function Ks(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];for(var o=0,i=r;o<i.length;o++){var a=i[o];if(Us(a))for(var s in a)Ys(s)&&Xs(e,a[s],s)}return e}var qs=e.createContext();qs.Consumer;var $s={};function Zs(t,r,n){var o=Ha(t),i=!zs(t),a=r.attrs,s=void 0===a?Fa:a,l=r.componentId,u=void 0===l?function(e,t){var r="string"!=typeof e?"sc":js(e);$s[r]=($s[r]||0)+1;var n=r+"-"+Vs("5.3.5"+r+$s[r]);return t?t+"-"+n:n}(r.displayName,r.parentComponentId):l,c=r.displayName,p=void 0===c?function(e){return zs(e)?"styled."+e:"Styled("+Wa(e)+")"}(t):c,d=r.displayName&&r.componentId?js(r.displayName)+"-"+r.componentId:r.componentId||u,h=o&&t.attrs?Array.prototype.concat(t.attrs,s).filter(Boolean):s,f=r.shouldForwardProp;o&&t.shouldForwardProp&&(f=r.shouldForwardProp?function(e,n,o){return t.shouldForwardProp(e,n,o)&&r.shouldForwardProp(e,n,o)}:t.shouldForwardProp);var g,y=new ms(n,d,o?t.componentStyle:void 0),v=y.isStatic&&0===s.length,m=function(t,r){return function(t,r,n,o){var i=t.attrs,a=t.componentStyle,s=t.defaultProps,l=t.foldedComponentIds,u=t.shouldForwardProp,c=t.styledComponentId,p=t.target,d=function(e,t,r){void 0===e&&(e=Ga);var n=Na({},t,{theme:e}),o={};return r.forEach((function(e){var t,r,i,a=e;for(t in Ba(a)&&(a=a(n)),a)n[t]=o[t]="className"===t?(r=o[t],i=a[t],r&&i?r+" "+i:r||i):a[t]})),[n,o]}(Bs(r,(0,e.useContext)(qs),s)||Ga,r,i),h=d[0],f=d[1],g=function(e,t,r,n){var o=_s(),i=Ps();return t?e.generateAndInjectStyles(Ga,o,i):e.generateAndInjectStyles(r,o,i)}(a,o,h),y=n,v=f.$as||r.$as||f.as||r.as||p,m=zs(v),b=f!==r?Na({},r,{},f):r,C={};for(var w in b)"$"!==w[0]&&"as"!==w&&("forwardedAs"===w?C.as=b[w]:(u?u(w,ka,v):!m||ka(w))&&(C[w]=b[w]));return r.style&&f.style!==r.style&&(C.style=Na({},r.style,{},f.style)),C.className=Array.prototype.concat(l,c,g!==c?g:null,r.className,f.className).filter(Boolean).join(" "),C.ref=y,(0,e.createElement)(v,C)}(g,t,r,v)};return m.displayName=p,(g=e.forwardRef(m)).attrs=h,g.componentStyle=y,g.displayName=p,g.shouldForwardProp=f,g.foldedComponentIds=o?Array.prototype.concat(t.foldedComponentIds,t.styledComponentId):Fa,g.styledComponentId=d,g.target=o?t.target:t,g.withComponent=function(e){var t=r.componentId,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(r,["componentId"]),i=t&&t+"-"+(zs(e)?e:js(Wa(e)));return Zs(e,Na({},o,{attrs:h,componentId:i}),n)},Object.defineProperty(g,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(e){this._foldedDefaultProps=o?Ks({},t.defaultProps,e):e}}),g.toString=function(){return"."+g.styledComponentId},i&&Ne()(g,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),g}var Qs=function(e){return function e(t,r,n){if(void 0===n&&(n=Ga),!(0,_a.isValidElementType)(r))return Ua(1,String(r));var o=function(){return t(r,n,Gs.apply(void 0,arguments))};return o.withConfig=function(o){return e(t,r,Na({},n,{},o))},o.attrs=function(o){return e(t,r,Na({},n,{attrs:Array.prototype.concat(n.attrs,o).filter(Boolean)}))},o}(Zs,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){Qs[e]=Qs(e)}));!function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=ys(e),cs.registerId(this.componentId+1)}var t=e.prototype;t.createStyles=function(e,t,r,n){var o=n(Ls(this.rules,t,r,n).join(""),""),i=this.componentId+e;r.insertRules(i,i,o)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,r,n){e>2&&cs.registerId(this.componentId+e),this.removeStyles(e,r),this.createStyles(e,t,r,n)}}();!function(){function t(){var t=this;this._emitSheetCSS=function(){var e=t.instance.toString();if(!e)return"";var r=ns();return"<style "+[r&&'nonce="'+r+'"',ja+'="true"','data-styled-version="5.3.5"'].filter(Boolean).join(" ")+">"+e+"</style>"},this.getStyleTags=function(){return t.sealed?Ua(2):t._emitSheetCSS()},this.getStyleElement=function(){var r;if(t.sealed)return Ua(2);var n=((r={})[ja]="",r["data-styled-version"]="5.3.5",r.dangerouslySetInnerHTML={__html:t.instance.toString()},r),o=ns();return o&&(n.nonce=o),[e.createElement("style",Na({},n,{key:"sc-0-0"}))]},this.seal=function(){t.sealed=!0},this.instance=new cs({isServer:!0}),this.sealed=!1}var r=t.prototype;r.collectStyles=function(t){return this.sealed?Ua(2):e.createElement(Rs,{sheet:this.instance},t)},r.interleaveWithNodeStream=function(e){return Ua(3)}}();var Js,el,tl=Qs,rl=r(184);var nl=tl.div(Js||(Js=Oa(["\n  text-align: left;\n  margin: 10px;\n\n  .TitleDiv {\n    font-weight: 1000;\n    font-size: 19px;\n    color: #499eea;\n    margin-bottom: 10px;\n  }\n  .DescDiv {\n    display: flex;\n    justify-content: flex-start;\n    align-items: center;\n    color: gray;\n  }\n  .Sums {\n    font-size: 32px;\n    font-weight: 700;\n    margin-top: 5px;\n    margin-bottom: 10px;\n  }\n  .Plus {\n    color: #499eea;\n    font-size: 20px;\n  }\n  .Minus {\n    color: #499eea;\n    font-size: 17px;\n    font-weight: 700;\n  }\n"]))),ol=tl.span(el||(el=Oa(["\n  background-color: #eeeeee;\n  color: #777;\n  font-weight: 500;\n  padding: 3px;\n  border-radius: 5px;\n  margin-right: 5px;\n"]))),il=function(e){var t=e.current,r=e.subtraction,n=e.description;return(0,rl.jsxs)(nl,{children:[(0,rl.jsxs)("div",{className:"DescDiv",children:[(0,rl.jsx)(ol,{children:"SUM"}),(0,rl.jsx)("div",{children:n})]}),(0,rl.jsx)("div",{className:"Sums",children:t.toLocaleString()}),r>0?(0,rl.jsxs)("div",{className:"Plus",children:["\u2191",r]}):(0,rl.jsxs)("div",{className:"Minus",children:["\u2193",r]})]})};var al=function(e){var t=e.data,r="",n=0,o=0;if(null!=t){for(var i=t.headers,a=Ea(t.rows).sort((function(e,t){return new Date(e[0])-new Date(t[0])})),s=[],l=0;l<a.length;l+=1)s.push(a[l][1]);o=s.map((function(e){return 1*e})).reduce((function(e,t){return e+t})),n=s.pop()-s.pop(),r=i[1].label}return(0,rl.jsx)(il,{current:o,subtraction:n,description:r})};var sl,ll=function(e){var t=e.data,r="",n=0,o=0;if(null!=t){for(var i=t.headers,a=Ea(t.rows).sort((function(e,t){return new Date(e[0])-new Date(t[0])})),s=[],l=0;l<a.length;l+=1)s.push(a[l][2]);o=s.map((function(e){return 1*e})).reduce((function(e,t){return e+t})),n=s.pop()-s.pop(),r=i[2].label}return(0,rl.jsx)(il,{current:o,subtraction:n,description:r})},ul=r(3496);var cl=tl.div(sl||(sl=Oa(["\n  width: 100%;\n  height: 90%;\n"]))),pl=function(e){var t=e.xLabel,r={series:[{name:"Unique Event Count",type:"column",data:e.YlabelBar},{name:"Total Event Count",type:"line",data:e.YlabelLine}],options:{chart:{height:350,type:"line"},stroke:{width:[0,4]},dataLabels:{enabled:!0,enabledOnSeries:[1]},labels:t,xaxis:{type:"datetime"},yaxis:[{title:{}},{opposite:!0,title:{}}]}};return(0,rl.jsx)(cl,{children:(0,rl.jsx)(ul.Z,{options:r.options,series:r.series,type:"line",width:"100%",height:"100%"})})};var dl,hl=function(e){var t=e.data,r=[],n=[],o=[];if(null!=t)for(var i=Ea(t.rows).sort((function(e,t){return new Date(e[0])-new Date(t[0])})),a=0;a<i.length;a+=1)r.push(i[a][0]),o.push(i[a][1]),n.push(i[a][2]);return(0,rl.jsx)(pl,{name:"DAU",xLabel:r,YlabelBar:n,YlabelLine:o})},fl=r(2953);r(240);var gl=tl.div(dl||(dl=Oa(["\n  display: flex;\n  flex-direction: column;\n  height: 91%;\n  background-color: white;\n\n  .grid-wrapper {\n    flex: 1 1 0px;\n    width: 100%;\n  }\n"]))),yl=function(t){var r=t.rowDatas,n=(0,e.useRef)(),o=(0,e.useMemo)((function(){return{headerName:"Group By",field:"city",sortable:!0,minWidth:300}}),[]),i=(0,e.useMemo)((function(){return{flex:1,minWidth:100,filter:!0,sortable:!0,resizable:!0}}),[]);return(0,rl.jsx)(gl,{children:(0,rl.jsx)("div",{className:"grid-wrapper",children:(0,rl.jsx)("div",{className:"ag-theme-alpine",style:{height:"100%"},children:(0,rl.jsx)(fl.AgGridReact,{ref:n,rowData:r,columnDefs:[{field:"country",rowGroup:!0,hide:!0},{field:"region",rowGroup:!0,hide:!0},{field:"Metric",aggFunc:"sum"}],defaultColDef:i,autoGroupColumnDef:o,groupDisplayType:"singleColumn",animateRows:!0})})})})};var vl,ml=function(){var t=p("https://static.adbrix.io/front/coding-test/event_4.json").data,r=[],n=(0,e.useCallback)((function(e){for(var t=0;t<e.length;t+=1){var n=e[t][0],o=e[t][1],i=e[t][2];r.push({country:""!==n?n:"(empty)",region:""!==o?o:"(empty)",city:""!==i?i:"(empty)",Metric:Number(e[t][3])})}}),[t]);return null!=t&&n(t.rows),(0,rl.jsx)(yl,{rowDatas:r})};var bl=tl.div(vl||(vl=Oa(["\n  width: 95%;\n  height: 90%;\n"]))),Cl=function(e){var t=e.name,r=e.labels,n={series:e.values,options:{labels:r,legend:{position:"bottom"},responsive:[{breakpoint:480,options:{chart:{width:200}}}],dataLabels:{enabled:!1}}};return(0,rl.jsxs)(bl,{children:[(0,rl.jsx)("h4",{children:t}),(0,rl.jsx)(ul.Z,{options:n.options,series:n.series,type:"pie"})]})};var wl,xl=function(){var e=[],t=[],r=[],n=p("https://static.adbrix.io/front/coding-test/event_3.json").data;if(null!=n){for(var o=Ea(n.rows).sort((function(e,t){return Number(t[1])-Number(e[1])})),i=0,a=0;a<o.length;a+=1)if(a<4){var s={id:o[a][0],label:o[a][0],value:Number(o[a][1])};e.push(s),t.push(o[a][0]),r.push(Number(o[a][1]))}else i+=Number(o[a][1]);e.push({id:"etc",label:"etc",value:i}),t.push("etc"),r.push(i)}return(0,rl.jsx)("div",{children:(0,rl.jsx)(Cl,{ChartData:e,labels:t,values:r})})},Sl=["title","hideHeader","style"],El=JSON.parse(sessionStorage.getItem("setting")),Ol=[{i:"1",w:6,h:1,x:0,y:0},{i:"2",w:12,h:2,x:0,y:0},{i:"3",w:6,h:1,x:6,y:0},{i:"4",w:6,h:2,x:0,y:0},{i:"5",w:6,h:2,x:6,y:0}],_l=[{i:"1",w:6,h:1,x:0,y:0},{i:"2",w:12,h:1,x:0,y:0},{i:"3",w:6,h:1,x:6,y:0},{i:"4",w:6,h:2,x:0,y:0},{i:"5",w:6,h:2,x:6,y:0}];function Pl(t){var r=t.data,n=l((0,e.useState)(["group1","group2","group3"]),2),o=n[0],a=n[1];return(0,rl.jsxs)(rl.Fragment,{children:[(0,rl.jsx)(Rl,{debug:!0,data:r}),(0,rl.jsx)("div",{style:{marginBottom:8}}),(0,rl.jsx)(Fi,{onDragEnd:function(e){e.destination&&a((function(t){return de(t,(function(t){var r=l(t.splice(e.source.index,1),1)[0];t.splice(e.destination.index,0,r)}))}))},children:(0,rl.jsx)(Sa,{droppableId:"groups",children:function(e,t){return(0,rl.jsxs)("div",i(i({ref:e.innerRef},e.droppableProps),{},{children:[o.map((function(e,t){return(0,rl.jsx)(ba,{draggableId:e,index:t,children:function(t){return(0,rl.jsx)(Tl,{ref:t.innerRef,id:e,draggableProps:t.draggableProps,handleProps:t.dragHandleProps})}},e)})),e.placeholder]}))}})})]})}function Rl(t){var r=l((0,e.useState)(null!==El?El:Ol),2),n=r[0],o=r[1];return(0,rl.jsxs)("div",{children:[t.debug&&(0,rl.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",alignItems:"center",marginTop:"10px",marginRight:"10px",marginBottom:"5px"},children:[(0,rl.jsx)("button",{onClick:function(){return o((function(e){return e===Ol?_l:Ol}))},children:"\ucd08\uae30\ud654"})," ",(0,rl.jsx)("button",{onClick:function(){sessionStorage.setItem("setting",JSON.stringify(wl))},children:"\uc800\uc7a5\ud558\uae30"})]}),(0,rl.jsx)("div",{style:{backgroundColor:"white"},children:(0,rl.jsxs)(f(),{containerPadding:[0,0],layout:n,width:1010,maxwidth:300,rowHeight:200,onLayoutChange:function(e){o((function(t){var r=e.map((function(e){return{i:e.i,w:e.w,h:e.h,x:e.x,y:e.y}}));return wl=r,(0,he.isEqual)(r,t)?t:de(t,(function(e){e[0].w=6}))}))},draggableHandle:".handle",isDroppable:!0,style:{background:"white"},children:[(0,rl.jsx)(Al,{title:"conUser",children:(0,rl.jsx)(al,{data:t.data})},"1"),(0,rl.jsx)(Al,{title:"DAU",children:(0,rl.jsx)(hl,{data:t.data})},"2"),(0,rl.jsx)(Al,{title:"conCnt",children:(0,rl.jsx)(ll,{data:t.data})},"3"),(0,rl.jsx)(Al,{title:"pie",children:(0,rl.jsx)(xl,{})},"4"),(0,rl.jsx)(Al,{title:"tables",children:(0,rl.jsx)(ml,{})},"5")]})})]})}function Al(e){var t=e.title,r=e.hideHeader,n=e.style,o=function(e,t){if(null==e)return{};var r,n,o=d(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,Sl);return(0,rl.jsxs)("div",i(i({},o),{},{style:i(i({},n),{},{background:"rgba(0, 0, 0, 0.05)"}),children:[!r&&(0,rl.jsxs)("div",{className:"handle",style:{cursor:"grab",textAlign:"left",fontWeight:"700",fontSize:"15px",marginLeft:"10px",marginTop:"10px",marginBottom:"10px",color:"#499eea"},children:["conUser"===t&&"\uc811\uc18d\uc720\uc800","conCnt"===t&&"\uc811\uc18d\ud69f\uc218",("tables"===t||"pie"===t)&&"TopReferrer","DAU"===t&&"DAU"]}),e.children]}))}var Tl=(0,e.forwardRef)((function(t,r){var n=l((0,e.useState)(!1),2),o=(n[0],n[1]);return(0,rl.jsx)("div",i(i({ref:r},t.draggableProps),{},{style:i(i({},t.draggableProps.style),{},{marginBottom:8}),children:(0,rl.jsx)("div",i({style:{cursor:"pointer",background:"rgba(0, 0, 0, 0.1)"},onClick:function(){return o((function(e){return!e}))}},t.handleProps))}))}));var Dl=function(){var e=p("https://static.adbrix.io/front/coding-test/event_1.json").data;return(0,rl.jsx)("div",{className:"App",children:(0,rl.jsx)("div",{className:"Apps",children:(0,rl.jsx)(Pl,{data:e})})})},Ml=function(e){e&&e instanceof Function&&r.e(787).then(r.bind(r,787)).then((function(t){var r=t.getCLS,n=t.getFID,o=t.getFCP,i=t.getLCP,a=t.getTTFB;r(e),n(e),o(e),i(e),a(e)}))};t.createRoot(document.getElementById("root")).render((0,rl.jsx)(e.StrictMode,{children:(0,rl.jsx)(Dl,{})})),Ml()}()}();
//# sourceMappingURL=main.51cea025.js.map